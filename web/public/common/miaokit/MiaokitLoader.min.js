var MiaokitModule=function(a,b){var c=this;c["m_pConfigPath"]=b;c["m_pConfig"]={ENGINE:a};c["Merge"](c);c["Preload"]()};var MiaokitMerge=function(d){var e=[];d["Merge"]=d["Merge"]||function(f){for(var g=0,h=e;g<h.length;g++){var i=h[g];var j=i(f);if(j){for(var k=0,l=j;k<l.length;k++){var m=l[k];f[m._name]=m}}}};return function(n){e.push(n)}}(MiaokitModule.prototype);MiaokitMerge(function(o){var p=undefined;var q=undefined;var r={};var s=function(u,v){if(v===void 0){v=undefined}var w=0;this.length=u(-1);this[Symbol.iterator]=function(){return{next:function(){var x=u(w);if(x){var y=p(x);w=v?w+1:y.m_nObject;return{value:y,done:false}}return{value:undefined,done:true}}}}};r["Transform"]=function(z){Object.defineProperty(z,"position",{get:function(){var A=this["_GetPosition"]()/4;var B=o["WASM"].HEAPF32();return{x:B[A],y:B[A+1],z:B[A+2]}},set:function(C){this["_SetPosition"](C.x,C.y,C.z)}});Object.defineProperty(z,"euler",{get:function(){var D=this["_GetEuler"]()/4;var E=o["WASM"].HEAPF32();return{x:E[D],y:E[D+1],z:E[D+2]}},set:function(F){this["_SetEuler"](F.x,F.y,F.z)}});Object.defineProperty(z,"rotation",{get:function(){var G=this["_GetRotation"]()/4;var H=o["WASM"].HEAPF32();return{x:H[G],y:H[G+1],z:H[G+2],w:H[G+3]}},set:function(I){this["_SetRotation"](I.x,I.y,I.z,I.w)}});Object.defineProperty(z,"scale",{get:function(){var J=this["_GetScale"]()/4;var K=o["WASM"].HEAPF32();return{x:K[J],y:K[J+1],z:K[J+2]}},set:function(L){this["_SetScale"](L.x,L.y,L.z)}});Object.defineProperty(z,"localPosition",{get:function(){var M=this["_GetLocalPosition"]()/4;var N=o["WASM"].HEAPF32();return{x:N[M],y:N[M+1],z:N[M+2]}},set:function(O){this["_SetLocalPosition"](O.x,O.y,O.z)}});Object.defineProperty(z,"localEuler",{get:function(){var P=this["_GetLocalEuler"]()/4;var Q=o["WASM"].HEAPF32();return{x:Q[P],y:Q[P+1],z:Q[P+2]}},set:function(R){this["_SetLocalEuler"](R.x,R.y,R.z)}});Object.defineProperty(z,"localRotation",{get:function(){var S=this["_GetLocalRotation"]()/4;var T=o["WASM"].HEAPF32();return{x:T[S],y:T[S+1],z:T[S+2],w:T[S+3]}},set:function(U){this["_SetLocalRotation"](U.x,U.y,U.z,U.w)}});Object.defineProperty(z,"localScale",{get:function(){var V=this["_GetLocalScale"]()/4;var W=o["WASM"].HEAPF32();return{x:W[V],y:W[V+1],z:W[V+2]}},set:function(X){this["_SetLocalScale"](X.x,X.y,X.z)}});Object.defineProperty(z,"right",{get:function(){var Y=this["_GetRight"]()/4;var Z=o["WASM"].HEAPF32();return{x:Z[Y],y:Z[Y+1],z:Z[Y+2]}},set:function($){this["_SetRight"]($.x,$.y,$.z)}});Object.defineProperty(z,"up",{get:function(){var _=this["_GetUp"]()/4;var aa=o["WASM"].HEAPF32();return{x:aa[_],y:aa[_+1],z:aa[_+2]}},set:function(){var ba=this["_SetUp"]()/4;var ca=o["WASM"].HEAPF32();return{x:ca[ba],y:ca[ba+1],z:ca[ba+2]}}});Object.defineProperty(z,"forward",{get:function(){var da=this["_GetForward"]()/4;var ea=o["WASM"].HEAPF32();return{x:ea[da],y:ea[da+1],z:ea[da+2]}},set:function(){var fa=this["_SetForward"]()/4;var ga=o["WASM"].HEAPF32();return{x:ga[fa],y:ga[fa+1],z:ga[fa+2]}}});Object.defineProperty(z,"regionPosition",{get:function(){var ha=this["_GisToWorld"]()/4;var ia=o["WASM"].HEAPF32();return{x:ia[ha],y:ia[ha+1],z:ia[ha+2]}}});z["Rotate"]=function(ja,ka){this["_Rotate"](ja.x,ja.y,ja.z,ka)};z["Rotate2"]=function(la,ma,na){this["_Rotate2"](la.x,la.y,la.z,ma,na)};z["Translate"]=function(oa,pa){this["_Translate"](oa.x,oa.y,oa.z,pa)};z["TransformPoint"]=function(qa){var ra=this["_TransformPoint"](qa.x,qa.y,qa.z)/4;var sa=o["WASM"].HEAPF32();return{x:sa[ra],y:sa[ra+1],z:sa[ra+2]}}};r["GameObject"]=function(ta){Object.defineProperty(ta,"name",{get:function(){if(!this._name){var ua=this._GetName(0);var va=this._GetName(1);this._name=o["WASM"].GetString(va,ua)}return this._name}});Object.defineProperty(ta,"transform",{get:function(){return p(this["_GetTransform"]())}});Object.defineProperty(ta,"mesh",{get:function(){return p(this["_GetMesh"]())},set:function(wa){this["_SetMesh"](wa.m_nObject)}});Object.defineProperty(ta,"children",{get:function(){var xa=this;return new s(function(ya){return xa._IterChild(ya)},true)}});Object.defineProperty(ta,"parent",{get:function(){return p(this["_GetParent"]())}});Object.defineProperty(ta,"data",{get:function(){return p(this["_GetUserData"]())},set:function(za){}});Object.defineProperty(ta,"enableCollider",{set:function(Aa){this["_EnableCollider"](Aa)}});Object.defineProperty(ta,"active",{set:function(Ba){this["_Active"](Ba)}});Object.defineProperty(ta,"highlight",{set:function(Ca){this["_Highlight"](Ca)}});Object.defineProperty(ta,"transparent",{set:function(Da){console.warn("transparent discard!")}});Object.defineProperty(ta,"opacity",{set:function(Ea){this["_Transparent"](Ea)}});ta["Destory"]=function(){this["_Destory"]()};o["GameObject"]=function(){return p(ta._GameObject())}};r["Miaokit"]=function(Fa){Fa["LoadTile"]=function(Ga){var Ha=this["_Malloc"](Ga.byteLength);if(Ha){o["WASM"]["HEAPU8"](Ha,Ga.byteLength).set(new Uint8Array(Ga));var Ia=this["_LoadTile"](Ha,Ga.byteLength);var Ja=p(Ia);return Ja}return null};Fa["Analyze"]=function(Ka){var La=this["_Analyze"]();var Ma=o["WASM"].HEAP32()[La/4];var Na=o["WASM"].GetString(La+4,Ma);try{var Oa=JSON.parse(Na);var Pa=q(Ka).concat(Oa);return Pa}catch(Qa){console.log(Na)}return null};Fa["PickEntity"]=function(Ra){return p(this["_PickEntity"](Ra))};Fa["GetScene"]=function(Sa){return p(this["_GetScene"](Sa))};Fa["LngLatToGis"]=function(Ta,Ua,Va){var Wa=this["_LngLatToGis"](Ta.x,Ta.y,Ua.x,Ua.y,Ua.z,Va)/4;var Xa=o["WASM"].HEAPF32();return{x:Xa[Wa],y:Xa[Wa+1],z:Xa[Wa+2]}};Fa["GisToWorld"]=function(Ya){var Za=this["_GisToWorld"](Ya.x,Ya.y,Ya.z)/4;var $a=o["WASM"].HEAPF32();return{x:$a[Za],y:$a[Za+1],z:$a[Za+2]}};Fa["WorldToScreenPoint"]=function(_a){var ab=this["_WorldToScreenPoint"](_a.x,_a.y,_a.z)/4;var bb=o["WASM"].HEAPF32();return{x:bb[ab],y:bb[ab+1],z:bb[ab+2]}};Fa["ScreenPointToRay"]=function(cb){var db=this["_ScreenPointToRay"](cb.x,cb.y,cb.z)/4;var eb=o["WASM"].HEAPF32();return{m_mOrigin:{x:eb[db],y:eb[db+1],z:eb[db+2]},m_mDirection:{x:eb[db+4],y:eb[db+5],z:eb[db+6]}}};Object.defineProperty(Fa,"camera",{get:function(){return p(this["_GetCamera"]())}});Object.defineProperty(Fa,"cameraMode",{set:function(fb){this["_SetCameraMode"](fb)}});Object.defineProperty(Fa,"cameraTarget",{set:function(gb){this["_SetTarget"](gb.x,gb.y,gb.z)}});Object.defineProperty(Fa,"gisBase",{set:function(hb){this["_SetGisBase"](hb.x,hb.y,hb.z)}});Object.defineProperty(Fa,"fieldOfView",{set:function(ib){this["_FieldOfView"](ib)}});Object.defineProperty(Fa,"gis",{get:function(){if(!this._gis){this._gis=r["Gis"]["g_pIns"]}return this._gis}});Object.defineProperty(Fa,"panoramas",{get:function(){if(!this._panoramas){this._panoramas=r["Panoramas"]["g_pIns"]}return this._panoramas}});Object.defineProperty(Fa,"progress",{get:function(){return this["_GetProgress"]()}})};r["Mesh"]=function(jb){jb["SetVertices"]=function(kb,lb){this["m_aVertex"]=this["m_aVertex"]||[];this["m_aVertex"].push({m_pArray:lb,m_nSlot:this["_SlotLut"][kb],m_nItemSize:this["_SizeLut"][kb]})};jb["SetIndices"]=function(mb,nb,ob){this["m_aIndex"]=this["m_aIndex"]||[];this["m_aIndex"][mb]={m_pArray:nb,m_nItemSize:ob}};jb["Apply"]=function(){var pb=this["m_aVertex"];var qb=this["m_aIndex"];if(!pb||!qb){return}var rb=2+2*pb.length+3*qb.length;var sb=this._CreateBuffer(rb);var tb=o["WASM"]["HEAP32"](sb,rb*4);var ub=0;tb[ub++]=pb.length;tb[ub++]=qb.length;for(var vb=0;vb<pb.length;vb++){tb[ub++]=pb[vb].m_nSlot;tb[ub++]=pb[vb].m_pArray.length/pb[vb].m_nItemSize}for(var vb=0;vb<qb.length;vb++){tb[ub++]=0;tb[ub++]=0;tb[ub++]=qb[vb].m_pArray.length}this._CreateBuffer(0);for(var vb=0;vb<pb.length;vb++){var wb=pb[vb].m_pArray;var xb=this._GetVertexBuffer(vb);var yb=o["WASM"]["HEAPF32"](xb,wb.length*4);yb.set(wb)}for(var vb=0;vb<qb.length;vb++){var wb=qb[vb].m_pArray;var xb=this._GetIndexBuffer(vb);var yb=o["WASM"]["HEAP32"](xb,wb.length*4);yb.set(wb)}this._Apply();this["m_aVertex"]=undefined;this["m_aIndex"]=undefined};jb["_SlotLut"]={position:0,normal:1,uv:2,color:3,tangent:4,uv2:9,uv3:10,uv4:11,uv5:12,uv6:13,uv7:14,uv8:15};jb["_SizeLut"]={position:3,normal:3,uv:2,color:4,tangent:4,uv2:2,uv3:2,uv4:2,uv5:2,uv6:2,uv7:2,uv8:2};Object.defineProperty(jb,"position",{set:function(zb){this.SetVertices("position",zb)}});Object.defineProperty(jb,"normal",{set:function(Ab){this.SetVertices("normal",Ab)}});Object.defineProperty(jb,"uv",{set:function(Bb){this.SetVertices("uv",Bb)}});Object.defineProperty(jb,"triangles",{set:function(Cb){this.SetIndices(0,Cb)}});Object.defineProperty(jb,"material",{set:function(Db){this.SetMaterial(0,Db)}});o["Mesh"]=function(){return p(jb._Mesh())}};r["Texture2D"]=function(Eb){Eb["SetImageData"]=function(Fb){var Gb=this._CreateBuffer(Fb.byteLength);if(Gb){o["WASM"]["HEAPU8"](Gb,Fb.byteLength).set(new Uint8Array(Fb));this._Apply()}};Eb["Load"]=function(Hb){var Ib=this;o["Fetch"](Hb,function(Jb){if(Jb){Ib.SetImageData(Jb)}})};o["Texture2D"]=function(Kb){var Lb=p(Eb._Texture2D());if(Kb){if("string"===typeof Kb){this.Load(Kb)}else{this.SetImageData(Kb)}}return Lb}};r["Material"]=function(Mb){if("Sisyphus"===o["m_pConfig"]["ENGINE"]){o["ShaderLab"].ExpandMaterial(Mb)}Mb["GetTexture"]=function(){return p(this["_GetTexture"]())};Mb["SetTexture"]=function(Nb){this["_SetTexture"](Nb.m_nObject)};o["Material"]=function(Ob){if(Ob===void 0){Ob=undefined}var Pb=null;if(Ob){var Qb=o["ShaderLab"]["Pipeline"]["InternalShader"];var Rb=Qb[0];Qb[0]=Ob;Pb=p(Mb._Material());Qb[0]=Rb}else{Pb=p(Mb._Material())}return Pb}};r["Tile"]=function(Sb){Object.defineProperty(Sb,"scenes",{get:function(){var Tb=this;return new s(function(Ub){return Tb._IterWork(Ub)})}});Object.defineProperty(Sb,"object3D",{get:function(){if(undefined===this._object3D){var Vb=this._GetObject(this.m_nObject);if(0===Vb){this._object3D=null;return null}this._object3D=p(Vb)}return this._object3D}})};r["Scene"]=function(Wb){Wb["GetLayer"]=function(Xb){return p(this["_GetLayer"](Xb))};Object.defineProperty(Wb,"id",{get:function(){if(!this._id){var Yb=this._GetID(0);var Zb=this._GetID(1);this._id=o["WASM"].GetString(Zb,Yb)}return this._id}});Object.defineProperty(Wb,"layers",{get:function(){var $b=this;return new s(function(_b){return $b._IterLayer(_b)})}});Object.defineProperty(Wb,"object3D",{get:function(){if(undefined===this._object3D){var ac=this._GetObject(this.m_nObject);if(0===ac){this._object3D=null;return null}this._object3D=p(ac)}return this._object3D}});Object.defineProperty(Wb,"viewState",{get:function(){return{m_mTarget:{x:0,y:0,z:0},m_nPitch:45,m_nYaw:0,m_nDistance:60,m_mOrthoTarget:{x:0,y:0,z:0},m_nOrthoScaled:0,m_nOrthoRotate:0}}});Object.defineProperty(Wb,"binding",{get:function(){return p(this._GetBinding())}})};r["Layer"]=function(bc){bc["HighlightRoom"]=function(cc,dc){this["_HighlightRoom"](cc.x,cc.y,cc.z,dc)};Object.defineProperty(bc,"id",{get:function(){if(!this._id){var ec=this._GetID(0);var fc=this._GetID(1);this._id=o["WASM"].GetString(fc,ec)}return this._id}});Object.defineProperty(bc,"sites",{get:function(){var gc=this;return new s(function(hc){return gc._IterSite(hc)})}});Object.defineProperty(bc,"object3D",{get:function(){if(undefined===this._object3D){var ic=this._GetObject(this.m_nObject);if(0===ic){this._object3D=null;return null}this._object3D=p(ic)}return this._object3D}});Object.defineProperty(bc,"decorationObject3D",{get:function(){if(undefined===this._decorationObject3D){var jc=this._GetDecorationObject(this.m_nObject);if(0===jc){this._decorationObject3D=null;return null}this._decorationObject3D=p(jc)}return this._decorationObject3D}});Object.defineProperty(bc,"viewState",{get:function(){var kc=this["_GetViewState"]();if(0<kc){var lc=o["WASM"]["HEAPF32"](kc,4*11);var mc=0;return{m_mTarget:{x:lc[mc++],y:lc[mc++],z:lc[mc++]},m_nPitch:lc[mc++],m_nYaw:lc[mc++],m_nDistance:lc[mc++],m_mOrthoTarget:{x:lc[mc++],y:lc[mc++],z:lc[mc++]},m_nOrthoScaled:lc[mc++],m_nOrthoRotate:lc[mc++]}}return null}})};r["Attachment"]=function(nc){Object.defineProperty(nc,"entityType",{get:function(){return this._GetEntityType()}});Object.defineProperty(nc,"secondType",{get:function(){return this._GetSecondType()}});Object.defineProperty(nc,"flag",{get:function(){return this._GetFlag()}});Object.defineProperty(nc,"object3D",{get:function(){return p(this._GetObject())}});Object.defineProperty(nc,"viewState",{get:function(){var oc=this["_GetViewState"]();if(0<oc){var pc=o["WASM"]["HEAPF32"](oc,4*11);var qc=0;var rc={m_mTarget:{x:pc[qc++],y:pc[qc++],z:pc[qc++]},m_nPitch:pc[qc++],m_nYaw:pc[qc++],m_nDistance:pc[qc++],m_mOrthoTarget:{x:pc[qc++],y:pc[qc++],z:pc[qc++]},m_nOrthoScaled:pc[qc++],m_nOrthoRotate:pc[qc++]};console.log("attachment view:",rc);return rc}else{console.log("attachment view: null")}return null}})};r["Site"]=function(sc){Object.defineProperty(sc,"id",{get:function(){if(!this._id){var tc=this._GetID(0);var uc=this._GetID(1);this._id=o["WASM"].GetString(uc,tc)}return this._id}});Object.defineProperty(sc,"layer",{get:function(){return p(this["_Layer"]())}});Object.defineProperty(sc,"scene",{get:function(){return p(this["_Scene"]())}});Object.defineProperty(sc,"type",{get:function(){return this["_Type"]()}});Object.defineProperty(sc,"number",{get:function(){return this["_Number"]()}});Object.defineProperty(sc,"position",{get:function(){var vc=this["_Position"]()/4;var wc=o["WASM"].HEAPF32();return{x:wc[vc],y:wc[vc+1],z:wc[vc+2]}}})};r["Prefab"]=function(xc){xc["Instantiate"]=function(){return p(this["_Instantiate"]())};o["LoadPrefab"]=function(yc,zc){o["Fetch"](yc,function(Ac){var Bc=null;if(Ac){var Cc=xc._Prefab();var Dc=p(Cc);var Ec=Dc.CreateBuffer(Ac.byteLength);if(Ec){o["WASM"]["HEAPU8"](Ec,Ac.byteLength).set(new Uint8Array(Ac));Dc.Apply();Bc=Dc}}zc(Bc)})}};r["Gis"]=function(Fc){Fc["Update"]=function(Gc,Hc,Ic){return this["_Update"](Gc,Hc,Ic)};Fc["SwitchStyle"]=function(Jc){this["_SwitchStyle"](Jc)};Fc["AddSvetile"]=function(Kc){var Lc=o["WASM"]["EncodeString"](Kc.m_pUrl);var Mc=this["_CreateSvetileDesc"](Lc.byteLength);var Nc=o["WASM"]["HEAPU32"](Mc,4*8);Nc[0]=Kc.m_nID;Nc[1]=Kc.m_nFlags;o["WASM"]["HEAPU8"](Nc[2],Lc.byteLength).set(Lc,0);Nc[3]=0;Nc[4]=o["WASM"]["RegisterDelegate"](function(Pc,Qc){Kc.OnActive(p(Pc),0<Qc)});var Oc=o["WASM"]["HEAPF32"](Mc+20,16);Oc[0]=Kc.m_mLngLat.x;Oc[1]=Kc.m_mLngLat.y;Oc[2]=Kc.m_mSize.x;Oc[3]=Kc.m_mSize.y;this["_AddSvetile"](Mc)};Fc["AddMapbox"]=function(Rc){var Sc=this["_GetMapboxDesc"]();var Tc=o["WASM"]["HEAPF32"](Sc,40);Tc[0]=Rc.m_mOffset.x;Tc[1]=Rc.m_mOffset.y;Tc[2]=Rc.m_mOffset.z;Tc[3]=Rc.m_mScale.x;Tc[4]=Rc.m_mScale.y;Tc[5]=Rc.m_mScale.z;Tc[6]=Rc.m_mLngLat.x;Tc[7]=Rc.m_mLngLat.y;Tc[8]=Rc.m_mSize.x;Tc[9]=Rc.m_mSize.y;this["_AddMapbox"](Sc)};Fc["AddGameObject"]=function(Uc,Vc,Wc,Xc){this["_AddGameObject"](Uc.m_nObject,Vc,Wc,Xc)};Fc["MoveGameObject"]=function(Yc,Zc,$c,_c){this["_MoveGameObject"](Yc.m_nObject,Zc,$c,_c)};Object.defineProperty(Fc,"terrainServer",{set:function(ad){if(!ad){ad="https://t%d.tianditu.gov.cn/DEM/DataServer?T=ele_c&tk=3d26628c3a0e2694fecfbbb983ff7d87&x=%d&y=%d&l=%d"}var bd=this["_GetServer"](0);o["WASM"].SetString(bd,ad)}});Object.defineProperty(Fc,"imageServer",{set:function(cd){if(!cd){cd="http://t%d.tianditu.gov.cn/DataServer?T=img_c&tk=3d26628c3a0e2694fecfbbb983ff7d87&x=%d&y=%d&l=%d"}var dd=this["_GetServer"](1);o["WASM"].SetString(dd,cd)}});Object.defineProperty(Fc,"labelServer",{set:function(ed){if(!ed){ed="http://t%d.tianditu.gov.cn/DataServer?T=cia_c&tk=3d26628c3a0e2694fecfbbb983ff7d87&x=%d&y=%d&l=%d"}var fd=this["_GetServer"](2);o["WASM"].SetString(fd,ed)}})};r["Panoramas"]=function(gd){var hd=null;var id=function(jd){var kd=o["GL"]["ImageCache"];var ld=null;var md=null;var nd=null;var od=0;var pd=90;var qd=function(wd,xd){var yd=0;var zd=wd.m_pPath;var Ad=["r","f","l","b","d","u"];var Bd=function(Dd){if(0===wd.m_nStartLevel){var Ed=Dd;var Fd=kd.CreateImage();var Gd=kd.Get(Fd);var Hd=zd+"l1_"+Ad[Ed]+"_01_01.jpg";Gd.crossOrigin="anonymous";Gd.src=Hd;Gd.onload=function(Ld){if(1===wd.m_nState){jd["_SetImage"](Ed,0,0,0,Fd);if(6===++yd){xd()}}}}else{for(var Id=0;Id<2;Id++){var Jd=function(Md){var Nd=Dd;var Od=1;var Pd=Id;var Qd=Md;var Rd=kd.CreateImage();var Sd=kd.Get(Rd);var Td=zd+"l"+Od+"_"+Ad[Nd]+"_0"+(1+Pd)+"_0"+(2-Qd)+".jpg";Sd.crossOrigin="anonymous";Sd.src=Td;Sd.onload=function(Ud){if(1===wd.m_nState){jd["_SetImage"](Nd,Od,Pd,Qd,Rd);if(24===++yd){xd()}}}};for(var Kd=0;Kd<2;Kd++){Jd(Kd)}}}};for(var Cd=0;Cd<6;Cd++){Bd(Cd)}};var rd=function(Vd,Wd){hd=Vd;md=Wd;ld={m_mTarget:{x:Wd.m_mTarget.x,y:Wd.m_mTarget.y,z:Wd.m_mTarget.z},m_nDistance:Wd.m_nDistance,m_nPitch:Wd.m_nPitch,m_nYaw:Wd.m_nYaw,m_nField:Wd.m_nField};Vd.m_nState=1;jd["_Open"](Vd.m_mPosition.x,Vd.m_mPosition.y,Vd.m_mPosition.z,Vd.m_nRadius,Vd.m_nAngle);qd(Vd,function(){ud(Vd)})};var sd=function(){if(nd){if(pd>od){var Xd=++od/pd;var Yd=md.m_mTarget;var Zd=nd.m_mTarget;var $d={x:0,y:0,z:0};var _d=0;var ae=0;var be=0;$d.x=Yd.x+(Zd.x-Yd.x)*Xd;$d.y=Yd.y+(Zd.y-Yd.y)*Xd;$d.z=Yd.z+(Zd.z-Yd.z)*Xd;_d=md.m_nDistance+(nd.m_nDistance-md.m_nDistance)*Xd;ae=md.m_nPitch+(nd.m_nPitch-md.m_nPitch)*Xd;be=md.m_nYaw+(nd.m_nYaw-md.m_nYaw)*Xd;if(-90>ae){ae=180-ae}if(2===hd.m_nState||5===hd.m_nState){o.Miaokit.fieldOfView=md.m_nField+(nd.m_nField-md.m_nField)*Xd}md.m_pTransform.position={x:0,y:0,z:0};md.m_pTransform.euler={x:0,y:0,z:0};md.m_pTransform.Rotate2({x:1,y:0,z:0},ae,1);md.m_pTransform.Rotate2({x:0,y:1,z:0},be,0);md.m_pTransform.position=$d;md.m_pTransform.Translate(o.Vector3.Scale(-_d,{x:0,y:0,z:1}),1);if(pd===od){md.m_mTarget=$d;md.m_nDistance=_d;md.m_nPitch=ae;md.m_nYaw=be;md.m_nField=nd.m_nField;if(2===hd.m_nState){hd.m_nState=3;nd.m_nDistance=0;nd.m_nPitch=0;nd.m_nYaw=0;nd.m_nField=105;od=0;pd=Math.ceil(90/o.App.m_nSensitivity)}else if(3===hd.m_nState){hd.m_nState=4}else if(5===hd.m_nState){hd.m_nState=0;hd=null;ld=null;md=null;nd=null}}}}};var td=function(ce,de,ee,fe){if(!hd||4!==hd.m_nState){return}var ge=nd.m_nPitch;var he=nd.m_nYaw;he+=ce/ee*90;ge-=de/fe*90;if(-90>ge){ge=-90}if(90<ge){ge=90}nd.m_nPitch=ge;nd.m_nYaw=he;od=0;pd=1};var ud=function(ie){ie.m_nState=2;jd["_SetState"](1);nd={m_mTarget:{x:ie.m_mPosition.x,y:ie.m_mPosition.y,z:ie.m_mPosition.z},m_nDistance:ie.m_nRadius*1.2,m_nPitch:90,m_nYaw:180,m_nField:105};od=0;pd=Math.ceil(90/o.App.m_nSensitivity)};var vd=function(){hd.m_nState=5;jd["_SetState"](0);var je=(md.m_nYaw-ld.m_nYaw)%360;if(0>je){je+=360}if(180<je){je-=360}md.m_nYaw=ld.m_nYaw+je;nd={m_mTarget:{x:ld.m_mTarget.x,y:ld.m_mTarget.y,z:ld.m_mTarget.z},m_nDistance:ld.m_nDistance,m_nPitch:ld.m_nPitch,m_nYaw:ld.m_nYaw,m_nField:ld.m_nField};od=0;pd=Math.ceil(60/o.App.m_nSensitivity)};return{Open:rd,Update:sd,Rotate:td,Close:vd}}(gd);gd["Open"]=function(ke,le){id.Open(ke,le)};gd["Update"]=function(){id.Update()};gd["Rotate"]=function(me,ne,oe,pe){id.Rotate(me,ne,oe,pe)};gd["Close"]=function(){id.Close()};Object.defineProperty(gd,"panor",{get:function(){return hd}})};r["Dioramas3MX"]=function(qe){qe["_Load3MX"]=function(re,se,te){var ue=this;var ve=ue.m_pFileLut[re];var we=ve.m_pPath+ve.m_aFile[se];o["Request"]("GET","arraybuffer",we,null,null,function(xe){if(!xe){return}var ye=new Uint32Array(xe,0,2);if(1113083187===ye[0]){var ze=ye[1]>>8;var Ae=9+ze;var Be=xe.byteLength-Ae;var Ce=new Uint8Array(xe,9,ze);var De=ue.m_pTextDecoder.decode(Ce);var Ee=JSON.parse(De);var Fe={m_pPath:we.substring(0,we.lastIndexOf("/")+1),m_aFile:[]};var Ge=[];var He=[];var Ie=Ee.resources;var Je=0;for(var Ke=0;Ke<Ie.length;Ke++){Ge.push(Ke);if("textureBuffer"===Ie[Ke].type){Ge.push(0);He.push(Ke);if("jpg"===Ie[Ke].format){Ge.push(0)}else if("png"===Ie[Ke].format){Ge.push(1)}else{Ge.push(1e4)}}else if("geometryBuffer"===Ie[Ke].type){Ge.push(1);if("ctm"===Ie[Ke].format){Ge.push(0)}else{Ge.push(1e4)}}else{Ge.push(1e4);Ge.push(1e4)}Ge.push(Ie[Ke].size);Ge.push(Je);Je+=Ie[Ke].size;Ge.push(1e4);if(Ie[Ke].texture){for(var Le=0;Le<Ie.length;Le++){if(Ie[Ke].texture===Ie[Le].id){Ge[Ge.length-1]=Le;break}}}}var Me=[];var Ne=Ee.nodes;for(var Ke=0;Ke<Ne.length;Ke++){var Oe=Ne[Ke];var Pe=Oe.bbMax[0]-Oe.bbMin[0];var Qe=Oe.bbMax[1]-Oe.bbMin[1];var Re=Oe.bbMax[2]-Oe.bbMin[2];var Se=Math.sqrt(Pe*Pe+Qe*Qe+Re*Re);Me.push(Math.floor(parseInt(Oe.bbMin[0]+Oe.bbMax[0])*.5*100));Me.push(Math.floor(parseInt(Oe.bbMin[1]+Oe.bbMax[1])*.5*100));Me.push(Math.floor(parseInt(Oe.bbMin[2]+Oe.bbMax[2])*.5*100));Me.push(Math.floor(Se*100));Me.push(Math.floor(Oe.maxScreenDiameter));var Te=Oe.children?Oe.children.length:0;if(0<Te){Me.push(Fe.m_aFile.length);for(var Le=0;Le<Te;Le++){Fe.m_aFile.push(Oe.children[Le])}Me.push(Fe.m_aFile.length)}else{Me.push(-1);Me.push(-1)}var Ue=Oe.resources?Oe.resources.length:0;if(0<Ue){Me.push(He.length);for(var Le=0;Le<Ue;Le++){for(var Ve=0;Ve<Ie.length;Ve++){if(Oe.resources[Le]===Ie[Ve].id){He.push(Ve);break}}}Me.push(He.length)}else{Me.push(-1);Me.push(-1)}}var We=4+9*Ne.length+6*He.length;var Xe=4*We;var Ye=Xe+Be;var Ze=ue["_CreateBuffer"](Ye);if(Ze){var $e=o["WASM"]["HEAP32"](Ze,Xe);$e[0]=Xe;$e[1]=Ne.length;$e[2]=He.length;$e[3]=ue.m_pFileLut.length;$e.set(Me,4);var _e=4+Me.length;for(var Ke=0;Ke<He.length;Ke++){var af=6*He[Ke];for(var Le=0;Le<6;Le++){$e[_e++]=Ge[af++]}}var bf=o["WASM"]["HEAPU8"](Ze+Xe,Be);bf.set(new Uint8Array(xe,Ae,Be));ue["_Dispose"](te)}ue.m_pFileLut.push(Fe)}})};qe["Update"]=function(){return this["_Update"]()};qe["Deplanation"]=function(cf){return this["_Deplanation"](cf.x,cf.y,cf.z)};qe["Recover"]=function(){return this["_Recover"]()};qe["GetHeightMap"]=function(){var df=this["_GetHeightMap"]();var ef=o["WASM"]["HEAPF32"](df,8);var ff=4*Math.floor(ef[0])*Math.floor(ef[1]);var gf=o["WASM"]["HEAP8"](df,ff);return gf};Object.defineProperty(qe,"object3D",{get:function(){return p(this["_GetObject"]())}});o["Dioramas3MX"]=function(hf,jf,kf){var lf=p(qe._Dioramas3MX());lf.m_pFileLut=[];lf.m_pTextDecoder=new TextDecoder("utf-8");if(kf){if(kf.m_pGis){kf.m_pGis.AddGameObject(lf.object3D,kf.m_mLngLat.x,kf.m_mLngLat.y,kf.m_nHeight);lf.object3D.transform.Translate(kf.m_mOffset,1);if(0!==kf.m_nPitch){lf.object3D.transform.Rotate2({x:1,y:0,z:0},kf.m_nPitch,1)}}if(kf.m_mAdjust){lf._Adjust(kf.m_mAdjust.x,kf.m_mAdjust.y)}}o["Request"]("GET","json",hf,null,null,function(mf){lf["m_pMeta"]=mf;var nf={m_pPath:hf.substring(0,hf.lastIndexOf("/")+1),m_aFile:[]};var of=[0];for(var pf=0;pf<mf.layers.length;pf++){if("meshPyramid"===mf.layers[pf].type){of.push(pf);of.push(nf.m_aFile.length);nf.m_aFile.push(mf.layers[pf].root)}}of[0]=nf.m_aFile.length;var qf=lf["_CreateBuffer"](4*of.length);var rf=o["WASM"]["HEAP32"](qf,4*of.length);rf.set(of);lf["_Initialize"](qf);if(jf){o["Fetch"](jf,function(sf){if(sf){qf=lf["_CreateBuffer"](sf.byteLength);rf=o["WASM"]["HEAP8"](qf,sf.byteLength);rf.set(new Int8Array(sf));lf["_SetHeightMap"](qf)}})}lf.m_pFileLut.push(nf)});return lf}};function t(tf,uf,vf){p=uf;q=vf;for(var wf=0,xf=tf;wf<xf.length;wf++){var yf=xf[wf];if(yf){var zf=yf.prototype;if(r[zf._type_name]){r[zf._type_name](zf)}if("Miaokit"===zf._type_name){o["Miaokit"]=new yf(0,0)}else if("Gis"===zf._type_name){r["Gis"]["g_pIns"]=new yf(0,0)}else if("Panoramas"===zf._type_name){r["Panoramas"]["g_pIns"]=new yf(0,0)}}}}o["WASM"]=o["WASM"]||{};o["WASM"]["LoadClass"]=t;return[]});MiaokitMerge(function(Af){Af["m_pLogo"]=null;var Bf=undefined;var Cf=false;var Df=false;function Ef(){Af["Track"]("Preload");Af["Request"]("GET","json",Af["m_pConfigPath"],null,null,function(Hf){if(!Hf){Af["Track"]("配置文件错误！",3);return}Af["m_pConfig"]=Hf;Af["Fetch"](Hf.MODULE,function(If){if(Bf){Bf(If)}else{Bf=If}});if(Af["App"]&&Af["App"].m_pProject){Af["App"]["Preload"]()}else{Cf=true}})}function Ff(Jf,Kf){Af["Track"]("LoadEngine");if(Cf){Af["App"]["Preload"]();Cf=false}Af["WASM"]["LoadEngine"]({OnEngineLoad:function(Lf){Af["Track"]("LoadEngine End");if(Bf){Af["Track"]("LoadMiaokit");Af["WASM"]["LoadMiaokit"](Bf,Lf,function(){Jf();Df=true;Gf()})}else{Af["Track"]("LoadMiaokit Delay");Bf=function(Mf){Af["Track"]("LoadMiaokit");Af["WASM"]["LoadMiaokit"](Mf,Lf,function(){Jf();Df=true;Gf()})}}},OnRenderingEvent:function(Nf){if(Df){Kf(Nf)}}})}function Gf(){Af["Track"]("LoadMiaokit End")}Ef["_name"]="Preload";Ff["_name"]="Load";return[Ef,Ff]});MiaokitMerge(function(Of){var Pf=function(){function Rf(){}Rf.Clamp=function(Sf,Tf,Uf){if(Sf>Uf){return Uf}if(Sf<Tf){return Tf}return Sf};return Rf}();var Qf=function(){function Vf(Wf,Xf,Yf){this.x=0;this.y=0;this.z=0;this.x=Wf;this.y=Xf;this.z=Yf}Vf.Scale=function(Zf,$f){return{x:$f.x*Zf,y:$f.y*Zf,z:$f.z*Zf}};return Vf}();Pf["_name"]="Mathf";Qf["_name"]="Vector3";return[Pf,Qf]});MiaokitMerge(function(_f){var ag=null;var bg=null;var cg=null;var dg=[null];var eg=null;var fg=[null];var gg=1;var hg=0;var ig=[undefined];var jg=null;var kg=null;function lg(vg){vg["isnanf"]=isNaN;vg["isinff"]=isFinite;vg["powf"]=Math.pow;vg["sqrtf"]=Math.sqrt;vg["expf"]=Math.exp;vg["logf"]=Math.log;vg["floorf"]=Math.floor;vg["ceilf"]=Math.ceil;vg["sinf"]=Math.sin;vg["cosf"]=Math.cos;vg["tanf"]=Math.tan;vg["asinf"]=Math.asin;vg["acosf"]=Math.acos;vg["atanf"]=Math.atan;vg["atan2f"]=Math.atan2;vg["ldexpf"]=function(wg,xg){return wg*Math.pow(2,xg)}}function mg(yg){function zg(Jg){var Kg=_f["WASM"].GetString(Jg);if(!Kg.startsWith("http")){Kg=_f.m_pConfig.SVE_SERVER+Kg}if(Kg.endsWith("assetbundle")){Kg+=".bin"}return Kg}function Ag(Lg,Mg,Ng,Og,Pg){if(0===Lg){ag.get(Og)(Mg,Pg);console.error("资源丢失: null",Mg);return}var Qg=zg(Lg);var Rg=ag.get(Ng);var Sg=ag.get(Og);_f["Fetch"](Qg,function(Tg){if(Tg){var Ug=Rg(Mg,Tg.byteLength,Pg);if(Ug){_f["WASM"]["HEAPU8"](Ug,Tg.byteLength).set(new Uint8Array(Tg))}}else{console.error("资源丢失:",Qg)}Sg(Mg,Pg)})}function Bg(Vg,Wg,Xg,Yg,Zg){var $g=zg(Vg);var _g=ag.get(Xg);var ah=eg.CreateImage();var bh=eg.Get(ah);bh.crossOrigin="anonymous";bh.src=$g;bh.onload=function(ch){_g(Wg,ah,Zg)}}function Cg(dh,eh,fh,gh,hh){Ag(dh,eh,fh,gh,hh)}function Dg(ih,jh,kh,lh,mh){jg["LoadTerrain"](ih,jh,kh,lh,mh)}function Eg(nh,oh,ph,qh,rh){var sh=_f["WASM"]["HEAP32"](nh,16);jg["LoadBlockbox"](oh,sh[0],sh[1],sh[2],sh[3],ph,qh)}function Fg(th,uh){var vh=_f["WASM"]["HEAP32"](th,12);jg["Load3MX"](vh[0],vh[1],vh[2],uh)}function Gg(wh,xh,yh,zh,Ah){Ag(wh,xh,yh,zh,Ah)}function Hg(Bh,Ch,Dh,Eh){var Fh=ag.get(Eh);var Gh=_f["WASM"]["HEAP8"](Dh,Ch);var Hh=new Blob([Gh]);var Ih=window.URL.createObjectURL(Hh);var Jh=eg.CreateImage();var Kh=eg.Get(Jh);Kh.src=Ih;Kh.onload=function(Lh){Fh(Bh,Jh);window.URL.revokeObjectURL(Ih)}}var Ig=[undefined,Ag,Bg,Cg,Dg,Eg,Fg,Gg,Hg];yg["APP_LOAD"]=function(Mh,Nh,Oh,Ph,Qh,Rh){Ig[Mh](Nh,Oh,Ph,Qh,Rh)}}function ng(Sh){var Th={NaN:NaN,Infinity:Infinity};lg(Sh);mg(Sh);Sh["APP_DYNAMIC_LINK"]=function(Uh,Vh){var Wh=_f["WASM"]["HEAPU32"](Uh,Vh);var Xh=Wh[0];var Yh=Wh[1];for(var Zh=0;Zh<Xh;Zh++){var $h=Wh[2+Zh]-1;var _h=Wh[Yh++];var ai=Wh[Yh++];var bi=_f["WASM"].GetString(_h,ai);var ci=JSON.parse(bi);var di=function(hi,ii){this["m_nID"]=hi;this["m_nObject"]=ii};var ei=di.prototype;ei["_type_name"]=ci[0];ei["_type_id"]=Zh+1;ei["_ins_count"]=0;ig[Zh+1]=di;var fi=function(ji){var ki=ag.get(Wh[Yh++]);Yh++;var li=function(){var mi=Array.prototype.slice.call(arguments);mi.unshift(this.m_nObject);return ki.apply(this,mi)};if(0===ji){ei["_"+ci[ji]]=li}else{ei[ci[ji]]=li}};for(var gi=0;gi<$h;gi++){fi(gi)}}_f["WASM"]["LoadClass"](ig,pg,sg);_f["Miaokit"]["ResizeCavans"]=function(ni,oi){if(cg.SE_RESIZE){cg.SE_RESIZE(ni,oi)}}};Sh["APP_PRINT"]=function(pi,qi,ri){var si=_f["WASM"].GetString(pi,qi);_f["Track"](si,ri)};Sh["APP_DO_ACTION"]=function(ti,ui,vi,wi){dg[ti](ui,vi,wi)};Sh["APP_CREATE_OBJ"]=function(xi,yi){var zi=qg();var Ai=new ig[xi](zi,yi);fg[zi]=Ai;ig[xi].prototype._ins_count++;return zi};Sh["APP_FREE_OBJ"]=function(Bi){var Ci=fg[Bi];ig[Ci._type_id].prototype._ins_count--;rg(Bi)};kg=_f["ShaderLab"].APP_DO_OPERATORS;kg[7]=function(Di,Ei){if(0===Di){eg.FreeImage(Ei)}else if(1===Di){eg.FreeBuffer(Ei)}return 0};Sh["APP_DO"]=function(Fi,Gi,Hi,Ii,Ji){return kg[Fi](Gi,Hi,Ii,Ji)};bg=Sh["memory"];_f["WASM"]["m_pMemory"]=_f["WASM"]["m_pMemory"]||bg;return{env:Sh,global:Th}}function og(Ki,Li,Mi){eg=_f["GL"]["ImageCache"];Li=ng(Li);WebAssembly.instantiate(Ki,Li).then(function(Ni){return Ni.instance}).then(function(Oi){cg=Oi.exports;ag=cg.__indirect_function_table;_f["WASM"]["Update"]=Oi.exports.SE_UPDATE;_f["WASM"]["Malloc"]=Oi.exports.Malloc;_f["WASM"]["Free"]=Oi.exports.Free;_f["ShaderLab"]["DrawPass_"]=Oi.exports.SE_DRAW_PASS;_f["ShaderLab"]["SetSunlight"]=Oi.exports.SE_SUNLIGHT;_f["ShaderLab"]["CreateUniformsDesc"]=Oi.exports.SE_CREATE_UNIFORMS_DESC;_f["ShaderLab"]["GetTexture"]=function(Pi){return cg.SE_RESOURCE(9,Pi)};_f["ShaderLab"]["GetObject"]=function(Qi){var Ri=cg.SE_RESOURCE(13,Qi);if(Ri){return pg(Ri)}return null};_f["Track"]("Start thread");_f["WASM"]["Worker"]=ug(function(){_f["Track"]("Start thread succeed")});cg.Start();Mi()})}function pg(Si){return fg[Si]}function qg(){var Ti=gg;if(fg.length>gg){gg=fg[gg]}else{gg++}hg++;return Ti}function rg(Ui){fg[Ui]=gg;gg=Ui;hg--}function sg(Vi){var Wi="'系统运行':{";Wi+="'时间':"+(_f.Time()/1e3).toFixed(0);Wi+=", '帧率':"+Vi;Wi+=", 'WASM内存':"+_f.WASM.m_pMemory.buffer.byteLength/1024/1024;Wi+="}";var Xi="'JS对象':{";Xi+="'工厂':["+fg.length+", "+hg+", "+(fg.length-hg)+"]";Xi+=eg.Analyze();for(var Yi=1;Yi<ig.length;Yi++){Xi+=", '"+ig[Yi].prototype._type_name+"':"+ig[Yi].prototype._ins_count}Xi+="}";return[Wi,Xi]}function tg(Zi){var $i=dg.length;dg.push(Zi);return $i}function ug(_i){var aj=cg.UTIL_WORKER_CODE();var bj=_f["WASM"]["HEAPU32"](aj,16);if(false){jg=new Worker(window.URL.createObjectURL(new Blob([_f["WASM"]["HEAPU8"](bj[2],bj[3])])));var cj=_f["WASM"]["HEAPU8"]().slice(bj[0],bj[0]+bj[1]);var dj=cj.buffer;jg.postMessage({m_nID:1,m_aCode:dj},[dj])}else{var ej=_f["m_pConfig"]["MODULE"].replace(".wasm","");jg=new Worker(ej+"Worker.min.js");fetch(ej+"Worker.wasm").then(function(fj){return fj.arrayBuffer()}).then(function(gj){if(gj){jg.postMessage({m_nID:1,m_aCode:gj},[gj])}else{console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",gj)}}).catch(function(hj){console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",hj)})}jg.onmessage=function(ij){var jj=ij.data;switch(jj.m_nID){case 1:_i();_i=null;break;case 2:jg["OnLoadTerrain"](jj);break;case 3:jg["OnLoadBlockbox"](jj);break;case 4:jg["OnLoad3MX"](jj);break;default:console.error("子线程消息异常:",jj);break}};jg["LoadTerrain"]=function(kj,lj,mj,nj,oj){jg.postMessage({m_nID:2,m_pPath:_f["WASM"].GetString(kj),m_nRequest:lj,m_nCallback:mj,m_nTS:oj})};jg["OnLoadTerrain"]=function(pj){var qj=ag.get(pj.m_nCallback);var rj=pj.m_pData;var sj=0;if(rj){sj=eg.PushBuffer(rj)}else{console.warn("Terrain miss:",pj.m_pPath)}qj(pj.m_nRequest,sj,pj.m_nTS)};jg["LoadBlockbox"]=function tj(uj,vj,wj,xj,yj,zj,Aj){jg.postMessage({m_nID:3,m_nRequest:uj,m_nCol:vj,m_nRow:wj,m_nColOffset:xj,m_nRowOffset:yj,m_nAlloc:zj,m_nCallback:Aj})};jg["OnLoadBlockbox"]=function(Bj){var Cj=ag.get(Bj.m_nAlloc);var Dj=ag.get(Bj.m_nCallback);var Ej=Bj.m_pData;var Fj=[0,0,0,0];for(var Gj=0;Gj<4;Gj++){var Hj=Ej[Gj];if(0<Hj.m_nVertexCount&&0<Hj.m_nSubmeshCount){var Ij=new _f.Mesh;var Jj=new Int32Array(Hj.m_aIndex);Ij.position=new Float32Array(Hj.m_aPosition);Ij.normal=new Float32Array(Hj.m_aNormal);Ij.uv=new Float32Array(Hj.m_aUV);for(var Kj=0;Kj<Hj.m_nSubmeshCount;Kj++){var Lj=Jj[2*Kj];var Mj=Jj[2*Kj+1];var Nj=[];for(var Oj=Lj;Oj<Mj;Oj++){Nj.push(Oj)}Ij.SetIndices(Kj,new Int32Array(Nj),4)}Ij.Apply();Fj[Gj]=Ij.m_nObject}else{Fj[Gj]=0}}var Pj=Cj(Bj.m_nRequest,16);if(Pj){_f["WASM"]["HEAPU32"](Pj,16).set(new Uint32Array(Fj));Dj(Bj.m_nRequest)}};jg["Load3MX"]=function(Qj,Rj,Sj,Tj){var Uj=pg(Qj);if(Uj){var Vj=Uj.m_pFileLut[Rj];var Wj=Vj.m_pPath+Vj.m_aFile[Sj];var Xj=Uj.m_pFileLut.length;Uj.m_pFileLut.push(null);jg.postMessage({m_nID:4,m_nDior:Qj,m_pPath:Wj,m_nRequest:Tj,m_nNewFolder:Xj})}};jg["OnLoad3MX"]=function(Yj){var Zj=Yj.m_pData;if(Zj){var $j=pg(Yj.m_nDior);if($j){$j.m_pFileLut[Yj.m_nNewFolder]=Yj.m_pNewFolder;var _j=new Int32Array(Zj[0]);var ak=_j[1];var bk=_j[2];var ck=4+9*ak;var dk=0;var ek=[];var fk=function(){if(bk===++dk||0==bk){var ik=Zj[0].byteLength;var jk=$j["_CreateBuffer"](ik);var kk=_f["WASM"]["HEAP32"](jk,ik);kk.set(_j);$j["_Dispose"](Yj.m_nRequest)}};var gk=function(lk){var mk=_j[ck+0];var nk=_j[ck+1];if(0===nk){var ok=Zj[1+lk];if(null!==ok){var pk=eg.CreateImage();var qk=eg.Get(pk);var rk=new Blob([new Int8Array(ok)]);var sk=window.URL.createObjectURL(rk);qk.src=sk;qk.onload=function(wk){fk();window.URL.revokeObjectURL(sk)};ek[mk]=cg["SE_CREATE_INTERNAL_TEXTURE"]();_j[ck+3]=ek[mk];_j[ck+4]=pk}else{ek[mk]=0;_j[ck+3]=ek[mk];_j[ck+4]=0;fk()}}else if(1===nk){_j[ck+4]=ek[_j[ck+5]];var ok=Zj[1+lk];if(null!==ok){var tk=ok.byteLength;var uk=$j["_CreateBuffer"](tk);var vk=_f["WASM"]["HEAP8"](uk,tk);vk.set(new Int8Array(ok));$j["_MarkBuilding"](uk);ek[mk]=cg["SE_CREATE_INTERNAL_MESH"](0,uk);_j[ck+3]=ek[mk];fk()}else{ek[mk]=0;_j[ck+3]=ek[mk];fk()}}else{ek[mk]=0;_j[ck+3]=ek[mk];_j[ck+4]=0;fk()}ck+=6};for(var hk=0;hk<bk;hk++){gk(hk)}if(0===bk){fk()}}}else{console.warn("3mx miss:",Yj.m_pPath)}};return jg}_f["WASM"]=_f["WASM"]||{};_f["WASM"]["LoadMiaokit"]=og;_f["WASM"]["GetObject"]=pg;_f["WASM"]["RegisterDelegate"]=tg;return[]});MiaokitMerge(function(xk){var yk=null;var zk=null;var Ak=null;var Bk=null;var Ck=null;var Dk=null;var Ek=null;var Fk=null;var Gk=null;var Hk=null;var Ik=null;var Jk=null;var Kk=null;var Lk=null;var Mk=null;var Nk=null;var Ok=0;var Pk=function(){var Rk=xk.m_pConfig.WEBGL;var Sk=xk.m_pConfig.QUALITY;if(0===Sk){Ak="\n                #define LOW_QUALITY\n            ";Bk="\n                #define LOW_QUALITY\n            "}else if(1===Sk){Ak="\n                #define MEDIUM_QUALITY\n            ";Bk="\n                #define MEDIUM_QUALITY\n            "}else{Ak="\n                #define HIGH_QUALITY\n            ";Bk="\n                #define HIGH_QUALITY\n            "}if(1===Rk){yk="\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform lowp vec4 u_Sunlight;\n                uniform lowp vec4 u_GisBias;\n                uniform lowp vec4 u_EyePos;\n                uniform lowp vec4 u_Mark;\n                uniform highp mat4 u_MatG;\n                uniform highp mat4 u_MatVP;\n            ";zk="\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform lowp vec4 u_Sunlight;\n                uniform lowp vec4 u_GisBias;\n                uniform lowp vec4 u_EyePos;\n                uniform lowp vec4 u_Mark;\n                uniform highp mat4 u_MatG;\n                uniform highp mat4 u_MatVP;\n            "}else{yk="#version 300 es\n                #define attribute in\n                #define varying out\n                #define texture2D texture\n\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform CommonBlock\n                {\n                    lowp vec4 u_Sunlight;\n                    lowp vec4 u_GisBias;\n                    lowp vec4 u_EyePos;\n                    lowp vec4 u_Mark;\n                    highp mat4 u_MatG;\n                    highp mat4 u_MatVP;\n                };\n            ";zk="#version 300 es\n                #define varying in\n                #define texture2D texture\n                #define gl_FragColor FragColor\n\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform CommonBlock\n                {\n                    lowp vec4 u_Sunlight;\n                    lowp vec4 u_GisBias;\n                    lowp vec4 u_EyePos;\n                    lowp vec4 u_Mark;\n                    highp mat4 u_MatG;\n                    highp mat4 u_MatVP;\n                };\n\n                out vec4 FragColor;\n            "}Ok=Sk;return{DeclareVS:yk+Ak+Ck,DeclareFS:zk+Bk+Dk,ClearVS:Ek,ClearFS:Fk,RenderVS:Gk,RenderFS:Hk,PostprocessVS:Ik,PostprocessFS:Jk,ATOM_VS:Lk,ATOM_FS:Mk,BRDF_VS:"",BRDF_FS:Kk}};var Qk={_name:"Shader",GetSourceCode:function(Tk){if(!Nk){Nk=Pk()}var Uk=Qk[Tk];var Vk="";var Wk="";if(Uk.include){var Xk=Uk.include[Ok];if(Xk){for(var Yk=0,Zk=Xk;Yk<Zk.length;Yk++){var $k=Zk[Yk];Vk+=Nk[$k+"_VS"];Wk+=Nk[$k+"_FS"]}}}return[Nk["DeclareVS"]+Vk+Uk.vs_src+Nk[Uk.type+"VS"],Nk["DeclareFS"]+Wk+Uk.fs_src+Nk[Uk.type+"FS"]]}};Ck="\nattribute mediump vec3 a_Position;\nattribute mediump vec3 a_Normal;\nattribute mediump vec2 a_UV;\nattribute mediump vec4 a_Color;\nattribute mediump vec4 a_Tangent;\nattribute mediump vec4 a_Object;\nattribute highp mat4 a_MatW;\n\nvarying vec4 v_Object;\n\n/// ����ռ�����ת����ռ�����\nvec3 ObjectToWorldPos(vec3 i_Position)\n{\n    return (a_MatW * vec4(i_Position, 1.0)).xyz;\n}\n\n/// ����ռ�����ת�ü��ռ�����\nvec4 ObjectToClipPos(vec3 i_Position)\n{\n    // GIS�ı任����ֵ������ת��Ϣ��δ����λ����Ϣ�����⾫�Ȳ�����ɻ��涶��\n    // return u_MatVP * u_MatG * a_MatW * vec4(i_Position, 1.0);\n    \n    vec4 mPosition = vec4(i_Position, 1.0);\n    mPosition = u_MatG * a_MatW * mPosition;\n    mPosition.y = mPosition.y - 6378137.0;\n\n    return u_MatVP * mPosition;\n}\n\n/// ����ռ䷨��ת����ռ䷨��\nvec3 ObjectToWorldNormal(vec3 i_Normal)\n{\n    return normalize((u_MatG * a_MatW * vec4(i_Normal, 0.0)).xyz);\n}";Dk="\nuniform sampler2D u_MainTex;\nvarying vec4 v_Object;\n\n/// ����2D����\nvec4 Tex2D(sampler2D i_Tex, vec2 i_UV)\n{\n    i_UV.x = fract(i_UV.x);\n    i_UV.y = fract(1.0 - i_UV.y);\n\n    return texture2D(i_Tex, i_UV);\n}";Ek="\nvoid main()\n{\n    gl_Position = vs();\n}";Fk="\nvoid main()\n{\n    gl_FragColor = fs();\n}";Gk="\nvoid main()\n{\n    v_Object = a_Object;\n    \n    gl_Position = vs();\n}";Hk="\nvoid main()\n{\n    gl_FragColor = fs();\n    \n    float nAlpha = u_Mark.x;\n    \n    // ��͸�������https://zhuanlan.zhihu.com/p/49164063\n    if(0.01 < nAlpha)\n    {\n        // ���Σ�0-��͸����1-ȫ͸����Ĭ��ֵ0��׷��0.3��͸����\n        nAlpha = 0.3 + 0.7 * v_Object.b;\n        \n        // Gͨ������ɫ�Ҷ��ۼӡ�����֧�ֲ�ɫ͸����\n        gl_FragColor.g = dot(gl_FragColor.rgb, vec3(0.299, 0.587, 0.114));\n        // Rͨ������ϴ����ۼӣ���ֵ1.0����ֵ0.99��Ǹ�������\n        gl_FragColor.r = 1.0 - (0.01 * v_Object.a);        \n        // Bͨ����OPACITY�ۼ�\n        gl_FragColor.b = 1.0 - nAlpha;\n        gl_FragColor.g *= gl_FragColor.b;\n        // Aͨ����ALPHA�۳ˡ���ϣ�Դ����Ϊ0��Ŀ�����Դ\n        gl_FragColor.a = 1.0 - gl_FragColor.b;\n    }\n    // ��͸�����\n    else\n    {\n        // ����������\n        gl_FragColor.a = 1.0 - (0.01 * v_Object.a);\n    }\n}";Ik="\nvoid main()\n{\n    gl_Position = vs();\n}";Jk="\nvoid main()\n{\n    gl_FragColor = fs();\n}";Kk='\nconst float PI = 3.14159265358979323846;\n\nconst vec3 baseColor = vec3(0.5, 0.5, 0.5);\nconst float metallic = 0.0;\nconst float subsurface = 0.5; // 0.0\nconst float specular = 0.2;\nconst float roughness = 0.7; //0.5;\nconst float specularTint = 0.0;\nconst float anisotropic = 0.0;\nconst float sheen = 0.0;\nconst float sheenTint = 0.5;\nconst float clearcoat = 0.0;\nconst float clearcoatGloss = 1.0;\n\nfloat sqr(float x) { return x * x; }\n\nfloat SchlickFresnel(float u)\n{\n\tfloat m = clamp(1.0 - u, 0.0, 1.0);\n\tfloat m2 = m * m;\n\treturn m2 * m2 * m; // pow(m,5)\n}\n\nfloat GTR1(float NdotH, float a)\n{\n\tif (a >= 1.0) return 1.0 / PI;\n\tfloat a2 = a * a;\n\tfloat t = 1.0 + (a2 - 1.0) * NdotH * NdotH;\n\treturn (a2 - 1.0) / (PI * log(a2) * t);\n}\n\nfloat GTR2(float NdotH, float a)\n{\n\tfloat a2 = a * a;\n\tfloat t = 1.0 + (a2 - 1.0) * NdotH * NdotH;\n\treturn a2 / (PI * t * t);\n}\n\nfloat GTR2_aniso(float NdotH, float HdotX, float HdotY, float ax, float ay)\n{\n\treturn 1.0 / (PI * ax * ay * sqr(sqr(HdotX / ax) + sqr(HdotY / ay) + NdotH * NdotH));\n}\n\nfloat smithG_GGX(float NdotV, float alphaG)\n{\n\tfloat a = alphaG * alphaG;\n\tfloat b = NdotV * NdotV;\n\treturn 1.0 / (NdotV + sqrt(a + b - a * b));\n}\n\nfloat smithG_GGX_aniso(float NdotV, float VdotX, float VdotY, float ax, float ay)\n{\n\treturn 1.0 / (NdotV + sqrt(sqr(VdotX * ax) + sqr(VdotY * ay) + sqr(NdotV)));\n}\n\nvec3 mon2lin(vec3 x)\n{\n\treturn vec3(pow(x[0], 2.2), pow(x[1], 2.2), pow(x[2], 2.2));\n}\n\nvec3 BRDF(vec3 L, vec3 V, vec3 N, vec3 X, vec3 Y)\n{\n    //x��y����ֱ��ʾ�˱�����������͸�������������\n    //https://www.cnblogs.com/starfallen/p/3572352.html\n\n\tfloat NdotL = dot(N, L);\n\tfloat NdotV = dot(N, V);\n\tif (NdotL < 0.0 || NdotV < 0.0) return vec3(0.0);\n\n\tvec3 H = normalize(L + V);\n\tfloat NdotH = dot(N, H);\n\tfloat LdotH = dot(L, H);\n\n\tvec3 Cdlin = mon2lin(baseColor);\n\tfloat Cdlum = 0.3 * Cdlin[0] + 0.6 * Cdlin[1] + 0.1 * Cdlin[2]; // luminance approx.\n\n\tvec3 Ctint = Cdlum > 0.0 ? Cdlin / Cdlum : vec3(1.0); // normalize lum. to isolate hue+sat\n\tvec3 Cspec0 = mix(specular * 0.08 * mix(vec3(1.0), Ctint, specularTint), Cdlin, metallic);\n\tvec3 Csheen = mix(vec3(1.0), Ctint, sheenTint);\n\n\t// Diffuse fresnel - go from 1 at normal incidence to .5 at grazing\n\t// and mix in diffuse retro-reflection based on roughness\n\tfloat FL = SchlickFresnel(NdotL), FV = SchlickFresnel(NdotV);\n\tfloat Fd90 = 0.5 + 2.0 * LdotH * LdotH * roughness;\n\tfloat Fd = mix(1.0, Fd90, FL) * mix(1.0, Fd90, FV);\n\n\t// Based on Hanrahan-Krueger brdf approximation of isotropic bssrdf\n\t// 1.25 scale is used to (roughly) preserve albedo\n\t// Fss90 used to "flatten" retroreflection based on roughness\n\tfloat Fss90 = LdotH * LdotH * roughness;\n\tfloat Fss = mix(1.0, Fss90, FL) * mix(1.0, Fss90, FV);\n\tfloat ss = 1.25 * (Fss * (1.0 / (NdotL + NdotV) - 0.5) + 0.5);\n\n\t// specular\n\tfloat aspect = sqrt(1.0 - anisotropic * 0.9);\n\tfloat ax = max(0.001, sqr(roughness) / aspect);\n\tfloat ay = max(0.001, sqr(roughness) * aspect);\n\tfloat Ds = GTR2_aniso(NdotH, dot(H, X), dot(H, Y), ax, ay);\n\tfloat FH = SchlickFresnel(LdotH);\n\tvec3 Fs = mix(Cspec0, vec3(1.0), FH);\n\tfloat Gs;\n\tGs = smithG_GGX_aniso(NdotL, dot(L, X), dot(L, Y), ax, ay);\n\tGs *= smithG_GGX_aniso(NdotV, dot(V, X), dot(V, Y), ax, ay);\n\n\t// sheen\n\tvec3 Fsheen = FH * sheen * Csheen;\n\n\t// clearcoat (ior = 1.5 -> F0 = 0.04)\n\tfloat Dr = GTR1(NdotH, mix(0.1, 0.001, clearcoatGloss));\n\tfloat Fr = mix(0.04, 1.0, FH);\n\tfloat Gr = smithG_GGX(NdotL, 0.25) * smithG_GGX(NdotV, 0.25);\n\n\treturn ((1.0 / PI) * mix(Fd, ss, subsurface) * Cdlin + Fsheen) * (1.0 - metallic) + Gs * Fs * Ds + 0.25 * clearcoat * Gr * Fr * Dr;\n}';Lk="\nvarying vec4 v_ViewDir;\nvarying vec4 v_Scattering;\nvarying vec4 v_Attenuate;\n\n//P and ray define the line; O is the sphere's center point\nvec3 CalculateIntersection(vec3 P, vec3 ray, vec3 O, float r)\n{\n\tvec3 PO = O - P;\n\tfloat lPO = length(PO);\n\tfloat B = 2.0 * dot(PO, ray);\n\n\tfloat C = B * B - 4.0 * (lPO * lPO - r * r);\n\tfloat det = sqrt(max(0.0, C));\n\n\tfloat d = 0.5*(B-det);\n\tvec3 intersect = P + d * ray;\n\n\treturn intersect;\n}\n\nvoid Atmosphere(vec3 mLightDir, vec3 mWorldPos)\n{\n    // ����ɢ�䣬���Ӧ�����㣬�����Ӧ�����ڲ�֮�⣬��������Ϊ���뾶���ڲ�뾶�����뾶ӦԶ�����ڲ�뾶\n    //650 nm for red; 570 nm for green; 475 nm for blue\n    vec3 _Wave = vec3(5.602046, 9.473285, 20.49314);\n    vec3 _ESun = vec3(20.0, 20.0, 20.0);\n    vec3 _PlanetPos = vec3(0.0, -6378137.0, 0.0);\n    float _Sealevel = 6378137.0;\n    float _OuterRadius = 6478137.0;\n    float _SampleNum = 5.0;\n    //Rayleigh scattering constant\n    float _Kr = 0.0025;\n    //Mie scattering constant\n    float _Km = 0.001;\n    //the altitude at which the atmosphere's average density is found\n    float _H0 = 0.25;\n\n    vec3 mRay = mWorldPos - u_EyePos.xyz;\n    float nDepth = length(mRay); mRay = mRay / nDepth;\n\n    float nSampleLength = nDepth / _SampleNum;\n    vec3 mSampleRay = mRay * nSampleLength;\n    vec3 mSamplePoint = u_EyePos.xyz + mSampleRay * 0.5;\n    vec3 mInScattering = vec3(0.0, 0.0, 0.0);\n    vec3 mOutScatteringAB = vec3(0.0, 0.0, 0.0);\n    vec3 mOutGroundScatteringAB = vec3(0.0, 0.0, 0.0);\n    float nInvOuterH = 1.0 / (_OuterRadius-_Sealevel);\n\n    for(int i=0; i</*_SampleNum*/5; i++)\n    {\n\t    vec3 mCrossPoint = CalculateIntersection(mSamplePoint, -mLightDir, _PlanetPos, _OuterRadius);\n\t    //AP out scattering\n\t    vec3 mAPRay = (mSamplePoint - u_EyePos.xyz) / _SampleNum;\n\t    float nAPRayLength = length(mAPRay);\n\t    vec3 mSampleAP = u_EyePos.xyz + mAPRay * 0.5;\n\t    vec3 mOutScatteringAP = vec3(0.0, 0.0, 0.0);\n\n\t    for(int m=0; m</*_SampleNum*/5; m++)\n\t    {\n\t\t    mOutScatteringAP += exp(-(length(mSampleAP - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nAPRayLength * nInvOuterH;\n\t\t    mSampleAP += mAPRay;\n\t    }\n\t    mOutScatteringAP = 4.0 * 3.14 * (_Km + _Kr * _Wave) * mOutScatteringAP;\n\n\t    //PC out scattering\n\t    vec3 mPCRay = (mCrossPoint - mSamplePoint) / _SampleNum;\n\t    float nPCRayLength = length(mPCRay);\n\t    vec3 mSamplePC = mSamplePoint + mPCRay*0.5;\n\t    vec3 mOutScatteringPC = vec3(0.0, 0.0, 0.0);\n\n\t    for(int n=0; n</*_SampleNum*/5; n++)\n\t    {\n\t\t    mOutScatteringPC += exp(-(length(mSamplePC - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nPCRayLength * nInvOuterH;\n\t\t    mSamplePC += mPCRay;\n\t    }\n\t    mOutScatteringPC = 4.0 * 3.14 * (_Km + _Kr * _Wave) * mOutScatteringPC;\n\n\t    mInScattering += exp(-(length(mSamplePoint - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nSampleLength * nInvOuterH * exp(-mOutScatteringAP - mOutScatteringPC);\n\t    mSamplePoint+=mSampleRay;\n\t    mOutScatteringAB = mCrossPoint;\n        mOutGroundScatteringAB = mOutScatteringAP + mOutScatteringPC;\n    }\n\n    vec3 mAttenuateGround = exp(-mOutGroundScatteringAB);\n\n    v_ViewDir.xyz = u_EyePos.xyz - mWorldPos;\n    v_Scattering.xyz = mInScattering * _ESun * _Kr * _Wave;\n    v_Attenuate.xyz = mInScattering * _ESun * _Km;\n\n    v_ViewDir.w = mAttenuateGround.x;\n    v_Scattering.w = mAttenuateGround.y;\n    v_Attenuate.w = mAttenuateGround.z;\n\n    //Ground : v_ScatteringR = v_Scattering; v_ScatteringM = v_Attenuate; v_Attenuate = v_AttenuateGround;\n    //v_ViewDir = u_EyePos.xyz - mWorldPos;\n    //v_ScatteringR = mInScattering * _ESun * _Kr * _Wave;\n    //v_ScatteringM = mInScattering * _ESun * _Km;\n    //v_Attenuate = exp(-mOutGroundScatteringAB);\n}";Mk="\nvarying vec4 v_ViewDir;\nvarying vec4 v_Scattering;\nvarying vec4 v_Attenuate;\n\nfloat PhaseRayleigh(float nCostheta)\n{\n\treturn 0.75 * (1.0 + nCostheta * nCostheta);\n}\n\nfloat PhaseMie(float nCostheta, float g, float g2)\n{\n\treturn 1.5 * ((1.0 - g2) / (2.0 + g2)) * (1.0 + nCostheta * nCostheta) / pow(1.0 + g2 - 2.0 * g * nCostheta, 1.5);\n}\n\nvec4 AtmosphereColor(vec4 mColor, vec3 mLightDir)\n{\n    float _G = -0.990;\n    float _G2 = _G * _G;\n    \n    float nCostheta = dot(normalize(v_ViewDir.xyz), mLightDir);\n    float nPhaseMie = PhaseMie(nCostheta, _G, _G2);\n    float nPhaseRayleigh = PhaseRayleigh(nCostheta);\n\t\t\t\t\n    mColor.rgb = v_Scattering.xyz * nPhaseRayleigh + v_Attenuate.xyz * nPhaseMie;\n    mColor.a = mColor.b + 0.35;\n    mColor = clamp(mColor, 0.0, 0.9);\n\n    return mColor;\n}\n\nvec4 AtmosphereLight(vec4 mColor, vec3 mLightDir)\n{\n    // Ground : v_ScatteringR = v_Scattering.xyz; v_ScatteringM = v_Attenuate.xyz; v_Attenuate = v_AttenuateGround;\n    \n    float _G = -0.980;\n    float _G2 = _G * _G;\n    \n    float nCostheta = dot(normalize(v_ViewDir.xyz), mLightDir);\n    float nPhaseMie = PhaseMie(nCostheta, _G, _G2);\n    float nPhaseRayleigh = PhaseRayleigh(nCostheta);\n    \n    mColor.rgb = v_Scattering.xyz * nPhaseRayleigh + v_Attenuate.xyz * nPhaseMie + mColor.rgb * vec3(v_ViewDir.w, v_Scattering.w, v_Attenuate.w)/*v_AttenuateGround*/;\n    \n    return mColor;\n}";return[Qk]});MiaokitMerge(function(_k){var al=undefined;var bl=true;var cl=[];var dl={RGBA32_FLOAT:function(){return true?[al["RGBA32F"],al.RGBA,al.FLOAT]:[al.RGBA,al.RGBA,al.FLOAT]},RGBA16_FLOAT:function(){return true?[al["RGBA16F"],al.RGBA,al["HALF_FLOAT"]]:[al.RGBA,al.RGBA,36193]},RGBA8:function(){return true?[al.RGBA,al.RGBA,al.UNSIGNED_BYTE]:[al.RGBA,al.RGBA,al.UNSIGNED_BYTE]},D16_UNORM:function(){return true?[al["DEPTH_COMPONENT16"],al.DEPTH_COMPONENT,al.UNSIGNED_SHORT]:[al.DEPTH_COMPONENT,al.DEPTH_COMPONENT,al.UNSIGNED_SHORT]},D24_UNORM:function(){return true?[al["DEPTH_COMPONENT24"],al.DEPTH_COMPONENT,al.UNSIGNED_INT]:[al.DEPTH_COMPONENT,al.DEPTH_COMPONENT,al.UNSIGNED_INT]},D24S8_UNORM:function(){return true?[al.DEPTH_STENCIL,al.DEPTH_STENCIL,34042]:[al.DEPTH_STENCIL,al.DEPTH_STENCIL,34042]}};var el={Opaque:1,Transparent:2,Outline:4,CastShadow:8,ReceiveShadow:16};var fl=null;var gl=["u_Sunlight","u_Picker","u_EyePos","u_MatG","u_MatVP","u_Color","u_MainTex","",""];var hl=[null];var il=[null];var jl=[null];var kl=[null];var ll=[new Int32Array([0,0,0,0]),new Float32Array([0,0,0,0]),new Float32Array([1,0,0,0,1,0,0,0,1]),new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0])];var ml=[function(Sl,Tl,Ul){zl(hl[Sl],kl[Tl])},function(Vl,Wl,Xl){Al(hl[Vl],kl[Wl])},function(Yl,Zl,$l){Bl(hl[Yl],kl[Zl])},function(_l,am,bm){Cl(hl[_l],kl[am])},function(cm,dm,em){var fm=kl[dm];var gm=fm[1];if(fm[0]){gm=Ql.GetTexture(gm);if(gm){fm[0]=0;fm[1]=gm}}var hm=cl[gm]||wl;if(null===hm){console.log("BindTexture null!");return}al.activeTexture(33984+em);al.bindTexture(3553,hm)},function(im,jm){console.error("Unsupported UniformCubemap!")},null,function(km,lm,mm){var nm=kl[lm];var om=nm[1];if(nm[0]){om=Ql.GetTexture(om);if(om){nm[0]=0;nm[1]=om}}var pm=cl[om]||wl;if(null===pm){console.log("BindTexture null!");return}al.activeTexture(33984+mm);al.bindTexture(35866,pm)}];var nl=[null];var ol=[null];var pl=1280;var ql=720;var rl=1;var sl=0;var tl=null;var ul=new Float32Array(4);var vl=[0,0,0,0];var wl=null;var xl=null;var yl=0;function zl(qm,rm){if(undefined===qm.mark){al.uniform4iv(qm,rm)}else if(rl!==qm.mark){al.uniform4iv(qm,rm);qm.mark=rl}}function Al(sm,tm){if(undefined===sm.mark){al.uniform4fv(sm,tm)}else if(rl!==sm.mark){al.uniform4fv(sm,tm);sm.mark=rl}}function Bl(um,vm){if(undefined===um.mark){al.uniformMatrix3fv(um,false,vm)}else if(rl!==um.mark){al.uniformMatrix3fv(um,false,vm);um.mark=rl}}function Cl(wm,xm){if(undefined===wm.mark){al.uniformMatrix4fv(wm,false,xm)}else if(rl!==wm.mark){al.uniformMatrix4fv(wm,false,xm);wm.mark=rl}}function Dl(ym,zm){var Am=al.createShader(ym);if(!Am){console.error("Could not create shader object!");return null}al.shaderSource(Am,zm);al.compileShader(Am);if(!al.getShaderParameter(Am,al.COMPILE_STATUS)){var Bm=al.getShaderInfoLog(Am);al.deleteShader(Am);console.error("Could not compile shader! \n\n"+Bm);return null}return Am}function El(Cm){var Dm=Cm.program;var Em=0;{al.bindAttribLocation(Dm,0,"a_Position");al.bindAttribLocation(Dm,1,"a_Normal");al.bindAttribLocation(Dm,2,"a_UV");al.bindAttribLocation(Dm,3,"a_Color");al.bindAttribLocation(Dm,4,"a_Tangent");al.bindAttribLocation(Dm,5,"a_Object");al.bindAttribLocation(Dm,6,"a_MatW")}{al.linkProgram(Dm);if(!al.getProgramParameter(Dm,al.LINK_STATUS)){var Fm=al.getProgramInfoLog(Dm);console.error("Could not compile program! \n\n"+Fm);return 0}}{var Gm=al.getProgramParameter(Dm,35718);if(bl){Gm-=6;var Hm=al["getUniformBlockIndex"](Dm,"CommonBlock")}var Im=Ql.CreateUniformsDesc(Gm);var Jm=kl[Im];var Km={};var Lm=0;Jm[19]=jl.push(Km)-1;nl[Jm[19]]=Cm;al.useProgram(Dm);for(var Mm=0;Mm<2;Mm++){var Nm=Gm+(bl?6:0);for(var Om=0;Om<Nm;Om++){var Fm=al.getActiveUniform(Dm,Om);var Pm=Fm.type;if(35678===Pm||35680===Pm||36289===Pm){if(0!==Mm){continue}}else{if(1!==Mm){continue}}var Qm=Fm.name;var Rm=al.getUniformLocation(Dm,Qm);if(!Rm){continue}var Sm=hl.push(Rm)-1;for(var Tm=0;Tm<gl.length;Tm++){if(Qm===gl[Tm]){Jm[Tm]=Lm;if(5>Tm){Rm.mark=1}break}}switch(Pm){case 35669:Pm=0;break;case 35666:Pm=1;break;case 35675:Pm=2;break;case 35676:Pm=3;break;case 35678:Pm=4;break;case 35680:Pm=5;break;case 36289:Pm=7;break;default:console.error("Unsupported uniform type:",Fm);break}Jm[20+Lm]=Sm;Jm[20+Gm+Lm]=Pm;Km[Qm]=Lm;il[Sm]=Qm;if(0===Mm){al.uniform1i(Rm,Lm)}Lm++}}if(Lm!==Gm){console.error("Process uniform cout error!",Gm,Lm)}Em=Jm[16]}{var Um=0;if(Cm.mark){for(var Vm=0,Wm=Cm.mark;Vm<Wm.length;Vm++){var Xm=Wm[Vm];Um|=el[Xm]}}Cm.mode=Um}return Em}function Fl(Ym){if(!Ym){return null}var Zm=_k.Shader[Ym];if(!Zm){console.error("Could not find shader:",Ym);return null}if(Zm.program){return Zm}var $m=_k.Shader.GetSourceCode(Ym);Zm.vs=Dl(al.VERTEX_SHADER,$m[0]);if(!Zm.vs){console.error("Could not create vertex shader:",Ym);return null}Zm.fs=Dl(al.FRAGMENT_SHADER,$m[1]);if(!Zm.fs){al.deleteShader(Zm.vs);Zm.vs=null;console.error("Could not create fragment shader:",Ym);return null}Zm.program=al.createProgram();if(!Zm.program){al.deleteShader(Zm.vs);al.deleteShader(Zm.fs);Zm.vs=null;Zm.fs=null;console.error("Could not create program object!");return null}al.attachShader(Zm.program,Zm.vs);al.attachShader(Zm.program,Zm.fs);Zm.id=El(Zm);if(!Zm.id){al.deleteProgram(Zm.program);al.deleteShader(Zm.vs);al.deleteShader(Zm.fs);Zm.program=null;Zm.vs=null;Zm.fs=null}return Zm}function Gl(_m,an){var bn=undefined;var cn=undefined;var dn=undefined;var en=undefined;var fn=0;function gn(){var rn=kl[_m];var sn=kl[an];var tn=nl[rn[19]];var un=rn[20];var vn=20+rn[17];bn=tn.program;cn=jl[rn[19]];dn=rn;en=[];fn=rn[17];var wn=function(Fn){var Gn=Fn;var Hn=kl[sn[Gn]];var In=hl[un+Gn];var Jn=rn[vn+Gn];var Kn=[function(){return Hn},function(Ln){Hn.set(Ln)},undefined];switch(Jn){case 0:Kn[2]=function(){zl(In,Hn)};break;case 1:Kn[2]=function(){Al(In,Hn)};break;case 2:Kn[2]=function(){Bl(In,Hn)};break;case 3:Kn[2]=function(){Cl(In,Hn)};break;case 4:Kn[2]=function(){var Mn=Hn[1];if(Hn[0]){Mn=Ql.GetTexture(Mn);if(Mn){Hn[0]=0;Hn[1]=Mn}}var Nn=cl[Mn]||wl;if(null===Nn){console.log("BindTexture null!");return}al.activeTexture(33984+Gn);al.bindTexture(3553,Nn)};break;case 7:Kn[2]=function(){var On=Hn[1];if(Hn[0]){On=Ql.GetTexture(On);if(On){Hn[0]=0;Hn[1]=On}}var Pn=cl[On]||wl;if(null===Pn){console.log("BindTexture null!");return}al.activeTexture(33984+Gn);al.bindTexture(35866,Pn)};break;default:console.error("Unsupported uniform type!",Jn);break}en[Gn]=Kn};for(var xn=0;xn<fn;xn++){wn(xn)}if(tn.uniform_values){for(var yn=0,zn=tn.uniform_values;yn<zn.length;yn++){var An=zn[yn];var Bn=cn[An[0]];if(undefined!==Bn){var Cn=rn[vn+Bn];if(4===Cn||5===Cn){var Dn=Ql.Pipeline["Resource"][An[1]];var En=[0,Dn.Handle,0,0];en[Bn][1](En)}}}}return tn.mode}function hn(Qn){if(tl){tl(ol[an],al)}if(sl!==_m){al.useProgram(bn);sl=_m;if(xl){al["bindBufferBase"](al["UNIFORM_BUFFER"],0,xl)}}for(var Rn=0,Sn=en;Rn<Sn.length;Rn++){var Tn=Sn[Rn];Tn[2]()}}function jn(Un){return cn[Un]}function kn(Vn){return en[Vn][0]()}function ln(Wn){Wn=dn[Wn];if(-1<Wn){return en[Wn][0]()}return null}function mn(Xn){var Yn=cn[Xn];if(undefined!==Yn){return en[Yn][0]()}return null}function nn(Zn,$n){en[Zn][1]($n);if(sl===_m){en[Zn][2]()}}function on(_n,ao){_n=dn[_n];if(-1<_n){en[_n][1](ao);if(sl===_m){en[_n][2]()}}}function pn(bo,co){var eo=cn[bo];if(undefined!==eo){en[eo][1](co);if(sl===_m){en[eo][2]()}}}function qn(fo){en[fo][2]()}ol[an]=[gn,hn,jn,kn,ln,mn,nn,on,pn,qn];return gn()}function Hl(go){{Object.defineProperty(go,"Attr",{get:function(){if(!this.Attr_){this.Attr_=ol[this._VarList()]}return this.Attr_}})}{var ho=function(jo){var ko=jo;Object.defineProperty(go,gl[jo],{get:function(){return this.Attr[4](ko)},set:function(lo){if(lo){this.Attr[7](ko,lo)}}})};for(var io=0;io<gl.length;io++){ho(io)}}{}}function Il(mo){var no=al.createTexture();if(!no){console.error("Could not create texture object!");return null}al.bindTexture(al.TEXTURE_2D,no);al.texParameteri(al.TEXTURE_2D,al.TEXTURE_MIN_FILTER,al.NEAREST);al.texParameteri(al.TEXTURE_2D,al.TEXTURE_MAG_FILTER,al.NEAREST);al.texParameteri(al.TEXTURE_2D,al.TEXTURE_WRAP_S,al.CLAMP_TO_EDGE);al.texParameteri(al.TEXTURE_2D,al.TEXTURE_WRAP_T,al.CLAMP_TO_EDGE);al.texImage2D(al.TEXTURE_2D,0,al.RGBA,1,1,0,al.RGBA,al.UNSIGNED_BYTE,new Uint8Array(4));var oo=new Image;oo.crossOrigin="anonymous";oo.src=mo.URL;oo.onload=function(po){al.bindTexture(al.TEXTURE_2D,no);al.texImage2D(al.TEXTURE_2D,0,al.RGBA,al.RGBA,al.UNSIGNED_BYTE,oo);al.bindTexture(al.TEXTURE_2D,null)};al.bindTexture(al.TEXTURE_2D,null);return no}function Jl(qo){var ro=al.createTexture();if(!ro){console.error("Could not create texture object!");return null}al.bindTexture(al.TEXTURE_2D,ro);var so=qo.Params;al.texParameteri(al.TEXTURE_2D,al.TEXTURE_MAG_FILTER,al[so[1]]);al.texParameteri(al.TEXTURE_2D,al.TEXTURE_MIN_FILTER,al[so[0]]);al.texParameteri(al.TEXTURE_2D,al.TEXTURE_WRAP_S,al[so[2]]);al.texParameteri(al.TEXTURE_2D,al.TEXTURE_WRAP_T,al[so[3]]);var to=dl[qo.Format]();al.texImage2D(al.TEXTURE_2D,qo.Levels,to[0],qo.Width,qo.Height,0,to[1],to[2],null);al.bindTexture(al.TEXTURE_2D,null);ro["_Format"]=to;return ro}function Kl(uo,vo){var wo=al.createFramebuffer();if(!wo){console.error("Could not create framebuffer object!");return null}al.bindFramebuffer(al.FRAMEBUFFER,wo);al.framebufferTexture2D(al.FRAMEBUFFER,al.COLOR_ATTACHMENT0,al.TEXTURE_2D,uo,0);if(vo&&vo["_Format"][0]===al.DEPTH_STENCIL){al.framebufferTexture2D(al.FRAMEBUFFER,al.DEPTH_STENCIL_ATTACHMENT,al.TEXTURE_2D,vo,0)}else{al.framebufferTexture2D(al.FRAMEBUFFER,al.DEPTH_ATTACHMENT,al.TEXTURE_2D,vo,0)}if(al.FRAMEBUFFER_COMPLETE!=al.checkFramebufferStatus(al.FRAMEBUFFER)){al.deleteFramebuffer(wo);console.error("Framebuffer check failed!");return null}return wo}var Ll=function(xo){if(bl){kl[yl][12]=xo;al.bindBuffer(al["UNIFORM_BUFFER"],xl);al.bufferData(al["UNIFORM_BUFFER"],kl[yl],al.DYNAMIC_DRAW)}};var Ml=null;var Nl=null;var Ol=null;var Pl=null;var Ql={_name:"ShaderLab",Pipeline:null,Init:function(yo){al=_k["GL"]["Ctx"];cl=_k["GL"]["_textures"];pl=al.canvas.width;ql=al.canvas.height;Ml=_k["GL"]["BindViewport"];Nl=_k["GL"]["BindDepth"];Ol=_k["GL"]["BindBlend"];Pl=_k["GL"]["BindStencil"];if(bl){var zo=al.createBuffer();if(zo){al.bindBuffer(al["UNIFORM_BUFFER"],zo);al.bufferData(al["UNIFORM_BUFFER"],64*3,al.DYNAMIC_DRAW);al.bindBuffer(al["UNIFORM_BUFFER"],null);xl=zo}}this.Pipeline.Init();for(var Ao=0,Bo=this.Pipeline.RenderTarget;Ao<Bo.length;Ao++){var Co=Bo[Ao];if(Co){Co.Width=Co.Width||pl;Co.Height=Co.Height||ql;Co.Levels=Co.Levels||0;Co.Params=Co.Params||["NEAREST","NEAREST","CLAMP_TO_EDGE","CLAMP_TO_EDGE"];Co.Texture=Jl(Co);Co.Handle=_k["GL"]["RegisterTexture"](Co.Texture);Co.Size=[1/Co.Width,1/Co.Height,Co.Width,Co.Height]}}for(var Do=0,Eo=this.Pipeline.Resource;Do<Eo.length;Do++){var Fo=Eo[Do];if(Fo){if("2D"===Fo.TYPE){Fo.Texture=Il(Fo);Fo.Handle=_k["GL"]["RegisterTexture"](Fo.Texture);if(2===Fo.ID){wl=Fo.Texture}}}}function Go(Qo){var Ro=Qo.RenderTarget;if(Ro){var So=Ql.Pipeline["RenderTarget"][Ro[0]];var To=Ql.Pipeline["RenderTarget"][Ro[1]];Qo.Framebuffer=Kl(So.Texture,To?To.Texture:null);if(!Qo.Framebuffer){console.log(Qo)}Qo.Framebuffer.width=So.Size[2];Qo.Framebuffer.height=So.Size[3]}else{Qo.Framebuffer=null}}for(var Ho=0,Io=this.Pipeline.Pass;Ho<Io.length;Ho++){var Jo=Io[Ho];if(Jo){if("Clear"===Jo.Type){Jo._Type=2}else{Jo._Type="Render"===Jo.Type?0:1}Jo._Mask=0;for(var Ko=0,Lo=Jo.Mask;Ko<Lo.length;Ko++){var Mo=Lo[Ko];Jo._Mask+=el[Mo]}Go(Jo);if(Jo.Pingpong){for(var No=0,Oo=Jo.Pingpong;No<Oo.length;No++){var Po=Oo[No];Go(Po)}}}}},Draw:function(){rl++;var Uo=0;var Vo=this.Pipeline.Picker;if(Vo){vl[0]=Vo.x;vl[1]=al.canvas.height-Vo.y}else{vl[0]=-10;vl[1]=-10}Ll(0);for(var Wo=0,Xo=this.Pipeline.Pass;Wo<Xo.length;Wo++){var Yo=Xo[Wo];Rl.BeginDrawPass();if(Yo.Pingpong){for(var Zo=0;Zo<Yo.PingpongCount;Zo++){for(var $o=0;$o<Yo.Pingpong.length;$o++){Yo.Framebuffer=Yo.Pingpong[$o].Framebuffer;Yo.SetUniforms=Yo.Pingpong[$o].SetUniforms;this.DrawPass(Yo,Ql.DrawPass_)}}}else{this.DrawPass(Yo,Ql.DrawPass_)}Rl.EndDrawPass(Uo++)}},DrawPass:function(_o,ap){al.bindFramebuffer(al.FRAMEBUFFER,_o.Framebuffer);Ml(_o.Framebuffer,pl,ql);Nl(_o.Depth);Ol(_o.Blend,Ll);Pl(_o.Stencil);var bp=_o.ClearTarget;if(bp){var cp=0;if(bp.Color){al.clearColor(bp.Color.r,bp.Color.g,bp.Color.b,bp.Color.a);cp+=al.COLOR_BUFFER_BIT}if(undefined!==bp.Depth){al.clearDepth(bp.Depth);cp+=al.DEPTH_BUFFER_BIT}if(undefined!==bp.Stencil){al.clearStencil(bp.Stencil);cp+=al.STENCIL_BUFFER_BIT}al.clear(cp)}tl=_o.SetUniforms;if(_o.Shader){if(!_o._Material){_o._Material=new _k["Material"](_o.Shader)}_o._Material._Bind()}ap(_o._Type,_o._Mask);if(_o.Postprocess){_o.Postprocess(al)}},PreflushBuffer:function(){var dp=kl.length;var ep=new Array(dp);for(var fp=0;fp<dp;fp++){var gp=kl[fp];if(gp){if("Float32Array"===gp.constructor.name){ep[fp]=gp.length}else{ep[fp]=-gp.length}kl[fp]=gp.byteOffset}}return ep},FlushBuffer:function(hp,ip){fl=hp;var jp=kl.length;for(var kp=0;kp<jp;kp++){var lp=kl[kp];if(lp){var mp=ip[kp];if(0<mp){kl[kp]=new Float32Array(fl,lp,mp)}else{kl[kp]=new Int32Array(fl,lp,-mp)}}}for(var kp=0;kp<jp;kp++){var np=ol[kp];if(np){np[0]()}}_k["GL"]["FlushHeap"]()},ResizeCanvas:function(op,pp){},PickObject:function(){var qp=this.Pipeline.Picker;if(qp){al.readPixels(qp.x,al.canvas.height-qp.y,1,1,al.RGBA,al.FLOAT,ul);if(0>ul[3]){var rp=Math.ceil(ul[0]*1e4)*8192+Math.ceil(ul[1]*1e4);var sp=Math.ceil(ul[2]*1e4);var tp=this["GetObject"](rp);qp.Feedback(tp,sp)}else{qp.Feedback(null,0)}this.Pipeline.Picker=null}},APP_DO_OPERATORS:[function(up){var vp=_k["ShaderLab"]["Pipeline"]["InternalShader"][up];var wp=Fl(vp);return wp.id},function(xp,yp,zp,Ap){var Bp=null;switch(yp){case 0:Bp=new Int32Array(fl,Ap,4);Bp.set(ll[0]);break;case 1:Bp=new Float32Array(fl,Ap,4);Bp.set(ll[1]);break;case 2:Bp=new Float32Array(fl,Ap,9);Bp.set(ll[2]);break;case 3:Bp=new Float32Array(fl,Ap,16);Bp.set(ll[3]);break;case 4:Bp=new Int32Array(fl,Ap,4);Bp.set(ll[4]);break;case 5:Bp=new Int32Array(fl,Ap,4);Bp.set(ll[5]);break;case 6:Bp=new Int32Array(fl,Ap,zp);break;case 7:Bp=new Int32Array(fl,Ap,4);Bp.set(ll[7]);break;case 8:Bp=new Float32Array(fl,Ap,48);yl=xp;break;default:console.error("Unsupported uniform type:",yp);break}kl[xp]=Bp;return xp},function(Cp,Dp,Ep,Fp){ml[Cp](Dp,Ep,Fp);return 0},function(Gp,Hp,Ip,Jp){var Kp=_k["WASM"].GetString(Jp);var Lp=kl[Gp];var Mp=jl[Lp[19]];var Np=Mp[Kp];return undefined===Np?0:Np},function(Op,Pp){ol[Pp][1](Op);return 0},function(){Ql.Draw()},Gl,null],ExpandMaterial:Hl,CreateUniformsDesc:undefined,GetTexture:undefined,DrawPass_:undefined,SetSunlight:undefined};var Rl={_name:"Profiler",m_pMsg:"",m_nCycleStart:0,m_nCycleTick:0,m_nBeginCycle:0,m_nTotalCycle:0,m_nBeginScript:0,m_nTotalScript:0,m_nBeginUpdate:0,m_nTotalUpdate:0,m_nBeginDraw:0,m_nTotalDraw:0,m_nBeginMaterial:0,m_nTotalMaterial:0,m_nBeginDrawPass:0,m_nTotalDrawPass:[],BeginCycle:function(){if(0===Rl.m_nCycleTick){Rl.m_nCycleStart=_k["Time"]();Rl.m_nCycleTick=0;Rl.m_nBeginCycle=0;Rl.m_nTotalCycle=0;Rl.m_nBeginScript=0;Rl.m_nTotalScript=0;Rl.m_nBeginUpdate=0;Rl.m_nTotalUpdate=0;Rl.m_nBeginDraw=0;Rl.m_nTotalDraw=0;Rl.m_nBeginMaterial=0;Rl.m_nTotalMaterial=0;Rl.m_nBeginDrawPass=0;Rl.m_nTotalDrawPass=[]}Rl.m_nBeginCycle=_k["Time"]()},EndCycle:function(){Rl.m_nTotalCycle+=_k["Time"]()-Rl.m_nBeginCycle;if(60===++Rl.m_nCycleTick){var Qp={"总耗时":_k["Time"]()-Rl.m_nCycleStart,"应用循环":Rl.m_nTotalCycle,"脚本逻辑":Rl.m_nTotalScript,"场景更新":Rl.m_nTotalUpdate,"场景绘制":Rl.m_nTotalDraw,"通道绘制":Rl.m_nTotalDrawPass};Rl.m_pMsg="'开销统计':"+JSON.stringify(Qp);Rl.m_nCycleTick=0}},BeginScript:function(){Rl.m_nBeginScript=_k["Time"]()},EndScript:function(){Rl.m_nTotalScript+=_k["Time"]()-Rl.m_nBeginScript},BeginUpdate:function(){Rl.m_nBeginUpdate=_k["Time"]()},EndUpdate:function(){Rl.m_nTotalUpdate+=_k["Time"]()-Rl.m_nBeginUpdate},BeginDraw:function(){Rl.m_nBeginDraw=_k["Time"]()},EndDraw:function(){Rl.m_nTotalDraw+=_k["Time"]()-Rl.m_nBeginDraw},BeginMaterial:function(){Rl.m_nBeginMaterial=_k["Time"]()},EndMaterial:function(){Rl.m_nTotalMaterial+=_k["Time"]()-Rl.m_nBeginMaterial},BeginDrawPass:function(){Rl.m_nBeginDrawPass=_k["Time"]()},EndDrawPass:function(Rp){Rl.m_nTotalDrawPass[Rp]=(Rl.m_nTotalDrawPass[Rp]?Rl.m_nTotalDrawPass[Rp]:0)+_k["Time"]()-Rl.m_nBeginDrawPass}};return[Ql,Rl]});MiaokitMerge(function(Sp){if("Sisyphus"!==Sp["m_pConfig"]["ENGINE"]){return[]}var Tp=undefined;var Up=true;function Vp(_p){Wp();Tp=_p.OnRenderingEvent;Xp();var aq={memory:new WebAssembly.Memory({initial:64*16,maximum:32768}),APP_PLUGIN_TYPE:function(){return 2},APP_MEM_TYPE:function(){return 2},APP_MEM_RESERVE:function(){return 1024},APP_MEM_MALLOC:function(bq){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!");return 0},APP_MEM_FREE:function(cq){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!")},APP_MEM_BASE:function(){return 64*1024*1024},APP_MEM_GROW:function(dq){if(Sp["ShaderLab"]){var eq=Sp["ShaderLab"]["PreflushBuffer"]();try{aq["memory"].grow(dq/64/1024)}catch(gq){alert("΢���ṩ���ڴ治�㣬�볢��ʹ���ֻ��Դ��������")}var fq=aq["memory"].buffer;Sp["ShaderLab"]["FlushBuffer"](fq,eq)}else{aq["memory"].grow(dq/64/1024)}},APP_MEM_RECYCLE:function(hq){alert("WAMSģ�鲻֧�ֻ����ڴ�!")},UNITY_CREATE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_FREE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_GET:function(){alert("δװ��UNITY��չ!");return 0},UNITY_DO:function(){alert("δװ��UNITY��չ!");return 0}};Object["assign"](aq,$p.Export);_p.OnEngineLoad(aq)}function Wp(){var iq=document.getElementById("unityContainer");var jq=document.createElement("canvas");jq.id="3d";jq.width=iq.offsetWidth;jq.height=iq.offsetHeight;jq.style.width="100%";jq.style.height="100%";jq.style.top="0rem";jq.style.bottom="0rem";jq.style.left="0rem";jq.style.right="0rem";jq.style.position="absolute";jq.style.zIndex="1";iq.appendChild(jq);$p["CreateContext"](jq,null);Sp["ShaderLab"]["Init"]($p)}function Xp(){if(Up){Up=false;Zp()}}function Yp(){Up=true}function Zp(){if(Up){return}Sp.Profiler.BeginCycle();Sp.Profiler.BeginScript();Tp(0);Sp.Profiler.EndScript();if(Sp["WASM"]["Update"]){Sp.Profiler.BeginUpdate();Sp["WASM"]["Update"](0);Sp.Profiler.EndUpdate();Sp.Profiler.BeginDraw();Sp["WASM"]["Update"](1);Sp.Profiler.EndDraw()}Sp.Profiler.EndCycle();requestAnimationFrame(Zp)}var $p=function(){var kq=undefined;var lq=[-1,-1,-1,-1];var mq=[-1,-1,-1];var nq=[-1,-1,-1,-1,-1,-1,-1];var oq=[-1,-1,-1,-1,-1,-1,-1];var pq=[null];var qq=null;var rq=null;var sq=0;var tq=function(){var Bq=[null];var Cq=[];var Dq=[];var Eq=0;var Fq=0;return{Analyze:function(){return", 'Image':["+Eq+","+Cq.length+","+Fq+","+Dq.length+"]"},Get:function(Gq){return Bq[Gq]},CreateImage:function(){var Hq=null;if(0<Cq.length){Hq=Cq.pop()}else{Eq++;Hq=Bq.push(new Image)-1}return Hq},FreeImage:function(Iq){Cq.push(Iq)},PushBuffer:function(Jq){var Kq=null;if(0<Dq.length){Kq=Dq.pop()}else{Fq++;Kq=Bq.push(null)-1}Bq[Kq]=Jq;return Kq},FreeBuffer:function(Lq){Bq[Lq]=null;Dq.push(Lq)}}}();var uq=function(Mq){var Nq=pq.length;Mq.name=Nq;pq[Nq]=Mq;return Nq};var vq=function(Oq){return pq[Oq]};var wq=function(Pq,Qq){pq[Pq]=Qq};var xq=function(Rq,Sq){rq[Rq>>2]=Sq};var yq=function(Tq){return rq[Tq>>2]};var zq=function(Uq,Vq){return qq.subarray(Uq,Uq+Vq)};var Aq={glGenVertexArrays:function(Wq,Xq){var Yq=kq["createVertexArray"]();if(!Yq||1!=Wq){console.error("gl.createVertexArray error!");return}var Zq=uq(Yq);xq(Xq,Zq)},glDeleteVertexArrays:function($q,_q){var ar=yq(_q);var br=vq(ar);if(!br||1!=$q){console.error("gl.deleteVertexArray error!");return}kq["deleteVertexArray"](br);wq(ar,null)},glBindVertexArray:function(cr){kq["bindVertexArray"](vq(cr))},glVertexAttribPointer:function(dr,er,fr,gr,hr,ir){kq.vertexAttribPointer(dr,er,fr,!!gr,hr,ir)},glEnableVertexAttribArray:function(jr){kq.enableVertexAttribArray(jr)},glVertexAttribDivisor:function(kr,lr){kq["vertexAttribDivisor"](kr,lr)},glGenTextures:function(mr,nr){var or=kq.createTexture();if(!or||1!=mr){console.error("gl.createTexture error!");return}var pr=uq(or);xq(nr,pr)},glDeleteTextures:function(qr,rr){var sr=yq(rr);var tr=vq(sr);if(!tr||1!=qr){console.error("gl.deleteTexture error!");return}kq.deleteTexture(tr);wq(sr,null)},glActiveTexture:function(ur){kq.activeTexture(ur)},glBindTexture:function(vr,wr){kq.bindTexture(vr,vq(wr))},glTexParameteri:function(xr,yr,zr){kq.texParameteri(xr,yr,zr)},glTexImage2DObj:function(Ar,Br,Cr,Dr,Er,Fr,Gr,Hr,Ir,Jr){if(0==Jr){var Kr=tq.Get(Ir);if(Kr){if(Kr instanceof ArrayBuffer){kq.texImage2D(Ar,Br,Cr,Dr,Er,Fr,Gr,Hr,new Uint8Array(Kr));tq.FreeBuffer(Ir)}else{kq.texParameterf(Ar,34046,sq);kq.texImage2D(Ar,Br,Cr,Gr,Hr,Kr);tq.FreeImage(Ir)}}}else{kq.texImage2D(Ar,Br,Cr,Dr,Er,Fr,Gr,Hr,0===Ir?new Uint8Array(3):zq(Ir,Jr))}},glGenBuffers:function(Lr,Mr){var Nr=kq.createBuffer();if(!Nr||1!=Lr){console.error("gl.createBuffer error!");return}var Or=uq(Nr);xq(Mr,Or)},glDeleteBuffers:function(Pr,Qr){var Rr=yq(Qr);var Sr=vq(Rr);if(!Sr||1!=Pr){console.error("gl.deleteBuffer error!");return}kq.deleteBuffer(Sr);wq(Rr,null)},glBindBuffer:function(Tr,Ur){kq.bindBuffer(Tr,vq(Ur))},glBufferData:function(Vr,Wr,Xr,Yr){if(!Xr){kq.bufferData(Vr,Wr,Yr)}else{kq.bufferData(Vr,zq(Xr,Wr),Yr)}},glBufferSubData:function(Zr,$r,_r,as){kq.bufferSubData(Zr,$r,zq(as,_r))},glBlendEquationSeparate:function(bs,cs){if(bs!=nq[1]||cs!=nq[2]){kq.blendEquationSeparate(bs,cs);nq[1]=bs;nq[2]=cs}},glBlendFuncSeparate:function(ds,es,fs,gs){if(ds!=nq[3]||es!=nq[4]||fs!=nq[5]||gs!=nq[6]){kq.blendFuncSeparate(ds,es,fs,gs);nq[3]=ds;nq[4]=es;nq[5]=fs;nq[6]=gs}},glEnable:function(hs){kq.enable(hs)},glDisable:function(is){kq.disable(is)},glDepthFunc:function(js){kq.depthFunc(js)},glDepthMask:function(ks){kq.depthMask(!!ks)},glCullFace:function(ls){kq.cullFace(ls)},glPolygonOffset:function(ms,ns){kq.polygonOffset(ms,ns)},glViewport:function(os,ps,qs,rs){if(qs!=lq[2]||rs!=lq[3]){kq.viewport(os,ps,qs,rs);lq[2]=qs;lq[3]=rs}},glDrawArrays:function(ss,ts,us){kq.drawArrays(ss,ts,us)},glDrawArraysInstanced:function(vs,ws,xs,ys){kq["drawArraysInstanced"](vs,ws,xs,ys)},glDrawElements:function(zs,As,Bs,Cs){kq.drawElements(zs,As,Bs,Cs)},glDrawElementsInstanced:function(Ds,Es,Fs,Gs,Hs){kq["drawElementsInstanced"](Ds,Es,Fs,Gs,Hs)}};return{_name:"GL",_textures:pq,Ctx:null,ImageCache:tq,Export:Aq,FlushHeap:function(){qq=Sp["WASM"]["HEAPU8"]();rq=Sp["WASM"]["HEAP32"]()},CreateContext:function(Is,Js){Js=Js||{majorVersion:2,minorVersion:0,alpha:0,depth:0,stencil:0,antialias:0,premultipliedAlpha:0,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:0,proxyContextToMainThread:0,renderViaOffscreenBackBuffer:0};if(Js["explicitSwapControl"]){return 0}if(Js["majorVersion"]==1){kq=Is.getContext("webgl",Js)||Is.getContext("experimental-webgl",Js);if(!kq){console.error("create webgl_1 error!");return}var Ks=kq.getExtension("ANGLE_instanced_arrays");if(Ks){kq["vertexAttribDivisor"]=function(Ts,Us){Ks["vertexAttribDivisorANGLE"](Ts,Us)};kq["drawArraysInstanced"]=function(Vs,Ws,Xs,Ys){Ks["drawArraysInstancedANGLE"](Vs,Ws,Xs,Ys)};kq["drawElementsInstanced"]=function(Zs,$s,_s,at,bt){Ks["drawElementsInstancedANGLE"](Zs,$s,_s,at,bt)}}else{console.error("!ANGLE_instanced_arrays")}var Ls=kq.getExtension("OES_vertex_array_object");if(Ls){kq["createVertexArray"]=function(){return Ls["createVertexArrayOES"]()};kq["deleteVertexArray"]=function(ct){Ls["deleteVertexArrayOES"](ct)};kq["bindVertexArray"]=function(dt){Ls["bindVertexArrayOES"](dt)}}else{console.error("!OES_vertex_array_object")}var Ms=["EXT_color_buffer_half_float","OES_texture_half_float","EXT_texture_filter_anisotropic","WEBGL_depth_texture","OES_element_index_uint","EXT_frag_depth","EXT_blend_minmax"];for(var Ns=0,Os=Ms;Ns<Os.length;Ns++){var Ps=Os[Ns];var Qs=kq.getExtension(Ps);if(!Qs){console.error("!"+Ps)}}}else{kq=Is.getContext("webgl2",Js);if(!kq){console.error("create webgl_2 error!");return}var Ms=["EXT_color_buffer_float","EXT_texture_filter_anisotropic"];for(var Rs=0,Ss=Ms;Rs<Ss.length;Rs++){var Ps=Ss[Rs];var Qs=kq.getExtension(Ps);if(!Qs){console.error("!"+Ps)}}}sq=kq.getParameter(34047);$p.Ctx=kq;return 0},DestroyContext:function(){console.error("!DestroyContext")},GetTextureByHandle:function(et){return pq[et]},RegisterTexture:function(ft){return uq(ft)},BindViewport:function(gt,ht,it){var jt=gt&&gt.width||ht;var kt=gt&&gt.height||it;if(jt!=lq[2]||kt!=lq[3]){kq.viewport(0,0,jt,kt);lq[2]=jt;lq[3]=kt}},BindDepth:function(lt){if(lt){var mt=lt.Write;var nt=kq[lt.Func];if(1!=mq[0]){kq.enable(kq.DEPTH_TEST);mq[0]=1}if(mt!=mq[1]){kq.depthMask(mt);mq[1]=mt}if(nt!=mq[2]){kq.depthFunc(nt);mq[2]=nt}}else{if(0!=mq[0]){kq.disable(kq.DEPTH_TEST);mq[0]=0}}},BindBlend:function(ot,pt){if(ot){var qt=kq[ot.ColorFunc];var rt=kq[ot.AlphaFunc];var st=kq[ot.ColorSrc];var tt=kq[ot.ColorDest];var ut=kq[ot.AlphaSrc];var vt=kq[ot.AlphaDest];if(1!=nq[0]){kq.enable(kq.BLEND);nq[0]=1;pt(1)}kq.blendEquationSeparate(qt,rt);nq[1]=qt;nq[2]=rt;kq.blendFuncSeparate(st,tt,ut,vt);nq[3]=st;nq[4]=tt;nq[5]=ut;nq[6]=vt}else{if(0!=nq[0]){kq.disable(kq.BLEND);nq[0]=0;pt(0)}}},BindStencil:function(wt){if(wt){var xt=kq[wt.Func];var yt=wt.Value;var zt=wt.Mask;var At=kq[wt.Faild];var Bt=kq[wt.ZFaild];var Ct=kq[wt.Pass];if(1!=oq[0]){kq.enable(kq.STENCIL_TEST);oq[0]=1}if(xt!=oq[1]||yt!=oq[2]||zt!=oq[3]){kq.stencilFunc(xt,yt,zt);oq[1]=xt;oq[2]=yt;oq[3]=zt}if(At!=oq[4]||Bt!=oq[5]||Ct!=oq[6]){kq.stencilOp(At,Bt,Ct);oq[4]=At;oq[5]=Bt;oq[6]=Ct}}else{if(0!=oq[0]){kq.disable(kq.STENCIL_TEST);oq[0]=0}}}}}();Sp["WASM"]=Sp["WASM"]||{};Sp["WASM"]["LoadEngine"]=Vp;Xp["_name"]="Start";Yp["_name"]="Stop";return[$p,Xp,Yp]});MiaokitMerge(function(Dt){var Et=Date.now();function Ft(){return Date.now()-Et}function Gt(Jt,Kt){if(Kt===void 0){Kt=0}if(2===Kt){console.warn("Track:",Ft(),Jt)}else if(2<Kt){console.error("Track:",Ft(),Jt)}else{console.info("Track:",Ft(),Jt)}}function Ht(Lt,Mt,Nt){if(Nt===void 0){Nt=undefined}var Ot=new XMLHttpRequest;Ot.open("GET",Lt,true);Ot.responseType="arraybuffer";Ot.onprogress=function(Pt){if(0<Pt.total&&Nt){Nt(Pt.loaded/Pt.total)}};Ot.onload=function(Qt){if(Ot.status==200){Mt(Ot.response)}else{Mt(null)}};Ot.onerror=function(Rt){Gt(Rt,2);Mt(null)};Ot.send(null)}function It(St,Tt,Ut,Vt,Wt,Xt){var Yt=new XMLHttpRequest;Yt.onprogress=function(Zt){if(0<Zt.total&&Wt){Wt(Zt.loaded/Zt.total)}};Yt.onload=function($t){if(Yt.status==200){Xt(Yt.response)}else{Xt(null)}Yt=null};Yt.onerror=function(_t){Gt(_t,2);Xt(null)};Yt.responseType=Tt;Yt.open(St,Ut,true);Yt.send(Vt)}Ft["_name"]="Time";Gt["_name"]="Track";Ht["_name"]="Fetch";It["_name"]="Request";return[Ft,Gt,Ht,It]});MiaokitMerge(function(au){if("Unity"!==au["m_pConfig"]["ENGINE"]){return[]}if(!UnityLoader){return[]}var bu=au["m_pLogo"]||"data:image/png;base64,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";UnityLoader.Progress.Styles.Dark.progressLogoUrl=bu;UnityLoader.Progress.Styles.Light.progressLogoUrl=bu;if(UnityLoader.SystemInfo.mobile){UnityLoader.SystemInfo.mobile=false;UnityLoader.downloadJob=function(ju,ku){var lu=new XMLHttpRequest;lu.open("GET",ku.parameters.url);lu.responseType="arraybuffer";lu.onload=function(){UnityLoader.Compression.decompress(new Uint8Array(lu.response),function(mu){ku.complete(mu)})};if(ku.parameters.onprogress)lu.addEventListener("progress",ku.parameters.onprogress);if(ku.parameters.onload)lu.addEventListener("load",ku.parameters.onload);lu.send()}}UnityLoader.processWasmFrameworkJob=function(nu,ou){var pu=UnityLoader.Job.result(nu,"downloadWasmFramework");UnityLoader.loadCode(nu,pu,function(qu,ru){nu["mainScriptUrlOrBlob"]=ru;if(nu.isModularized){UnityLoader[qu]=UnityModule}nu["instantiateWasm"]=function(su,tu){fu(nu,su["env"]);if(nu["wasmBinary"]){WebAssembly.instantiate(nu["wasmBinary"],su).then(function(uu){tu(uu.instance,uu.module)})}else{console.info("MiaokitLoader.InitUnity.instantiateWasm error!")}return{}};UnityLoader[qu](nu);ou.complete()},{Module:nu,url:nu["wasmFrameworkUrl"],isModularized:nu.isModularized})};var cu=null;var du=null;var eu={};function fu(vu,wu){Object["assign"](wu,{_Init:function(xu,yu){au["WASM"]["m_pMemory"]=au["WASM"]["m_pMemory"]||du.Module.wasmMemory;gu(vu,eu,xu,yu);hu(du,eu);cu.OnEngineLoad(eu)},_RenderingEvent:function(zu){cu.OnRenderingEvent(zu)}});au["GL"]=wu}function gu(Au,Bu,Cu,Du){var Eu=au.WASM.GetString(Cu,Du);var Fu=JSON.parse(Eu);var Gu=function(Ku){var Lu=function(){var Mu=Array.prototype.slice.call(arguments);Mu.unshift(Lu["m_nAddr"]);return Lu["m_pFunc"].apply(this,Mu)};Lu["m_pFunc"]=Au[Ku.Call];Lu["m_nAddr"]=Ku.Addr;Bu[Ku.Name]=Lu};for(var Hu=0,Iu=Fu.List;Hu<Iu.length;Hu++){var Ju=Iu[Hu];Gu(Ju)}}function hu(Nu,Ou){Ou["APP_PLUGIN_TYPE"]=function(){return 1};Ou["APP_MEM_TYPE"]=function(){return 1};Ou["memory"]=function(Pu){var Qu=32*1024*1024;var Ru=Pu._memalign(16,Qu);var Su=Qu-Ru;Pu._free(Ru);var Tu=Pu._memalign(16,Su+Qu);if(Tu!==Ru){console.error("miaokit.prememory: addr error",Ru,Tu);return}if(Tu+Su+Qu!==67108864){console.error("miaokit.prememory: addr end error",Tu+Su+Qu);return}Ou["APP_MEM_RESERVE"]=function(){return Tu};return Pu.wasmMemory}(du.Module);Ou["APP_MEM_MALLOC"]=function(Uu){return du.Module._memalign(16,Uu)};Ou["APP_MEM_FREE"]=function(Vu){du.Module._free(Vu)};Ou["APP_MEM_BASE"]=function(){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Ou["APP_MEM_GROW"]=function(Wu){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Ou["APP_MEM_RECYCLE"]=function(Xu){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0}}function iu(Yu){cu=Yu;du=UnityLoader.instantiate("unityContainer",au["m_pConfig"]["UNITY"])}au["WASM"]=au["WASM"]||{};au["WASM"]["LoadEngine"]=iu;return[]});MiaokitMerge(function(Zu){var $u=undefined;var _u=new TextDecoder("utf-8");var av=new TextEncoder;function bv(cv){if(!$u||Zu["WASM"].m_pMemory.buffer.byteLength!==$u[0].byteLength){if(!$u){$u=[]}$u[0]=new Int8Array(Zu["WASM"].m_pMemory.buffer);$u[1]=new Uint8Array(Zu["WASM"].m_pMemory.buffer);$u[2]=new Int16Array(Zu["WASM"].m_pMemory.buffer);$u[3]=new Uint16Array(Zu["WASM"].m_pMemory.buffer);$u[4]=new Int32Array(Zu["WASM"].m_pMemory.buffer);$u[5]=new Uint32Array(Zu["WASM"].m_pMemory.buffer);$u[6]=new Float32Array(Zu["WASM"].m_pMemory.buffer);$u[7]=new Float64Array(Zu["WASM"].m_pMemory.buffer)}return $u[cv]}Zu["WASM"]=Zu["WASM"]||{};Zu["WASM"]["HEAP8"]=function(dv,ev){if(dv===void 0){dv=0}if(ev===void 0){ev=0}var fv=bv(0);if(dv&&ev){return fv.subarray(dv,dv+ev)}else{return fv}};Zu["WASM"]["HEAPU8"]=function(gv,hv){if(gv===void 0){gv=0}if(hv===void 0){hv=0}var iv=bv(1);if(gv&&hv){return iv.subarray(gv,gv+hv)}else{return iv}};Zu["WASM"]["HEAP16"]=function(jv,kv){if(jv===void 0){jv=0}if(kv===void 0){kv=0}var lv=bv(2);if(jv&&kv){return lv.subarray(jv/2,(jv+kv)/2)}else{return lv}};Zu["WASM"]["HEAPU16"]=function(mv,nv){if(mv===void 0){mv=0}if(nv===void 0){nv=0}var ov=bv(3);if(mv&&nv){return ov.subarray(mv/2,(mv+nv)/2)}else{return ov}};Zu["WASM"]["HEAP32"]=function(pv,qv,rv){if(pv===void 0){pv=0}if(qv===void 0){qv=0}var sv=bv(4);if(pv&&qv){if(rv){return sv.slice(pv/4,(pv+qv)/4)}else{return sv.subarray(pv/4,(pv+qv)/4)}}else{return sv}};Zu["WASM"]["HEAPU32"]=function(tv,uv){if(tv===void 0){tv=0}if(uv===void 0){uv=0}var vv=bv(5);if(tv&&uv){return vv.subarray(tv/4,(tv+uv)/4)}else{return vv}};Zu["WASM"]["HEAPF32"]=function(wv,xv,yv){if(wv===void 0){wv=0}if(xv===void 0){xv=0}var zv=bv(6);if(wv&&xv){if(yv){return zv.slice(wv/4,(wv+xv)/4)}else{return zv.subarray(wv/4,(wv+xv)/4)}}else{return zv}};Zu["WASM"]["HEAPF64"]=function(Av,Bv){if(Av===void 0){Av=0}if(Bv===void 0){Bv=0}var Cv=bv(7);if(Av&&Bv){return Cv.subarray(Av/8,(Av+Bv)/8)}else{return Cv}};Zu["WASM"]["GetString"]=function(Dv,Ev){if(!Ev){var Fv=Zu["WASM"].HEAPU8();var Gv=Dv;while(0!==Fv[Gv++]);Ev=Gv-Dv-1}var Hv=Zu["WASM"].HEAPU8(Dv,Ev);var Iv=_u.decode(Hv);return Iv};Zu["WASM"]["SetString"]=function(Jv,Kv){var Lv=av.encode(Kv);var Mv=Zu["WASM"].HEAPU8(Jv,Lv.byteLength);Mv.set(Lv)};Zu["WASM"]["EncodeString"]=function(Nv){return av.encode(Nv)};Zu["WASM"]["m_pMemory"]=null;return[]});