var MiaokitModule=function(a,b){var c=this;c["m_pConfigPath"]=b;c["m_pConfig"]={ENGINE:a};c["Merge"](c);c["Preload"]()};var MiaokitMerge=function(d){var e=[];d["Merge"]=d["Merge"]||function(f){for(var g=0,h=e;g<h.length;g++){var i=h[g];var j=i(f);if(j){for(var k=0,l=j;k<l.length;k++){var m=l[k];f[m._name]=m}}}};return function(n){e.push(n)}}(MiaokitModule.prototype);MiaokitMerge(function(o){var p=undefined;var q=undefined;var r={};var s=function(u,v){if(v===void 0){v=undefined}var w=0;this.length=u(-1);this[Symbol.iterator]=function(){return{next:function(){var x=u(w);if(x){var y=p(x);w=v?w+1:y.m_nObject;return{value:y,done:false}}return{value:undefined,done:true}}}}};r["Transform"]=function(z){Object.defineProperty(z,"position",{get:function(){var A=this["_GetPosition"]()/4;var B=o["WASM"].HEAPF32();return{x:B[A],y:B[A+1],z:B[A+2]}},set:function(C){this["_SetPosition"](C.x,C.y,C.z)}});Object.defineProperty(z,"euler",{get:function(){var D=this["_GetEuler"]()/4;var E=o["WASM"].HEAPF32();return{x:E[D],y:E[D+1],z:E[D+2]}},set:function(F){this["_SetEuler"](F.x,F.y,F.z)}});Object.defineProperty(z,"rotation",{get:function(){var G=this["_GetRotation"]()/4;var H=o["WASM"].HEAPF32();return{x:H[G],y:H[G+1],z:H[G+2],w:H[G+3]}},set:function(I){this["_SetRotation"](I.x,I.y,I.z,I.w)}});Object.defineProperty(z,"scale",{get:function(){var J=this["_GetScale"]()/4;var K=o["WASM"].HEAPF32();return{x:K[J],y:K[J+1],z:K[J+2]}},set:function(L){this["_SetScale"](L.x,L.y,L.z)}});Object.defineProperty(z,"localPosition",{get:function(){var M=this["_GetLocalPosition"]()/4;var N=o["WASM"].HEAPF32();return{x:N[M],y:N[M+1],z:N[M+2]}},set:function(O){this["_SetLocalPosition"](O.x,O.y,O.z)}});Object.defineProperty(z,"localEuler",{get:function(){var P=this["_GetLocalEuler"]()/4;var Q=o["WASM"].HEAPF32();return{x:Q[P],y:Q[P+1],z:Q[P+2]}},set:function(R){this["_SetLocalEuler"](R.x,R.y,R.z)}});Object.defineProperty(z,"localRotation",{get:function(){var S=this["_GetLocalRotation"]()/4;var T=o["WASM"].HEAPF32();return{x:T[S],y:T[S+1],z:T[S+2],w:T[S+3]}},set:function(U){this["_SetLocalRotation"](U.x,U.y,U.z,U.w)}});Object.defineProperty(z,"localScale",{get:function(){var V=this["_GetLocalScale"]()/4;var W=o["WASM"].HEAPF32();return{x:W[V],y:W[V+1],z:W[V+2]}},set:function(X){this["_SetLocalScale"](X.x,X.y,X.z)}});Object.defineProperty(z,"right",{get:function(){var Y=this["_GetRight"]()/4;var Z=o["WASM"].HEAPF32();return{x:Z[Y],y:Z[Y+1],z:Z[Y+2]}},set:function($){this["_SetRight"]($.x,$.y,$.z)}});Object.defineProperty(z,"up",{get:function(){var _=this["_GetUp"]()/4;var aa=o["WASM"].HEAPF32();return{x:aa[_],y:aa[_+1],z:aa[_+2]}},set:function(){var ba=this["_SetUp"]()/4;var ca=o["WASM"].HEAPF32();return{x:ca[ba],y:ca[ba+1],z:ca[ba+2]}}});Object.defineProperty(z,"forward",{get:function(){var da=this["_GetForward"]()/4;var ea=o["WASM"].HEAPF32();return{x:ea[da],y:ea[da+1],z:ea[da+2]}},set:function(){var fa=this["_SetForward"]()/4;var ga=o["WASM"].HEAPF32();return{x:ga[fa],y:ga[fa+1],z:ga[fa+2]}}});Object.defineProperty(z,"regionPosition",{get:function(){var ha=this["_GisToWorld"]()/4;var ia=o["WASM"].HEAPF32();return{x:ia[ha],y:ia[ha+1],z:ia[ha+2]}}});z["Rotate"]=function(ja,ka){this["_Rotate"](ja.x,ja.y,ja.z,ka)};z["Rotate2"]=function(la,ma,na){this["_Rotate2"](la.x,la.y,la.z,ma,na)};z["Translate"]=function(oa,pa){this["_Translate"](oa.x,oa.y,oa.z,pa)};z["TransformPoint"]=function(qa){var ra=this["_TransformPoint"](qa.x,qa.y,qa.z)/4;var sa=o["WASM"].HEAPF32();return{x:sa[ra],y:sa[ra+1],z:sa[ra+2]}}};r["GameObject"]=function(ta){Object.defineProperty(ta,"name",{get:function(){if(!this._name){var ua=this._GetName(0);var va=this._GetName(1);this._name=o["WASM"].GetString(va,ua)}return this._name}});Object.defineProperty(ta,"transform",{get:function(){return p(this["_GetTransform"]())}});Object.defineProperty(ta,"mesh",{get:function(){return p(this["_GetMesh"]())},set:function(wa){this["_SetMesh"](wa.m_nObject)}});Object.defineProperty(ta,"children",{get:function(){var xa=this;return new s(function(ya){return xa._IterChild(ya)},true)}});Object.defineProperty(ta,"parent",{get:function(){return p(this["_GetParent"]())}});Object.defineProperty(ta,"data",{get:function(){return p(this["_GetUserData"]())},set:function(za){}});Object.defineProperty(ta,"enableCollider",{set:function(Aa){this["_EnableCollider"](Aa)}});Object.defineProperty(ta,"active",{set:function(Ba){this["_Active"](Ba)}});Object.defineProperty(ta,"highlight",{set:function(Ca){this["_Highlight"](Ca)}});Object.defineProperty(ta,"transparent",{set:function(Da){console.warn("transparent discard!")}});Object.defineProperty(ta,"opacity",{set:function(Ea){this["_Transparent"](Ea)}});ta["Destory"]=function(){this["_Destory"]()};o["GameObject"]=function(){return p(ta._GameObject())}};r["Miaokit"]=function(Fa){Fa["LoadTile"]=function(Ga){var Ha=this["_Malloc"](Ga.byteLength);if(Ha){o["WASM"]["HEAPU8"](Ha,Ga.byteLength).set(new Uint8Array(Ga));var Ia=this["_LoadTile"](Ha,Ga.byteLength);var Ja=p(Ia);return Ja}return null};Fa["Analyze"]=function(Ka){var La=this["_Analyze"]();var Ma=o["WASM"].HEAP32()[La/4];var Na=o["WASM"].GetString(La+4,Ma);try{var Oa=JSON.parse(Na);var Pa=q(Ka).concat(Oa);return Pa}catch(Qa){console.log(Na)}return null};Fa["PickEntity"]=function(Ra){return p(this["_PickEntity"](Ra))};Fa["GetScene"]=function(Sa){return p(this["_GetScene"](Sa))};Fa["LngLatToGis"]=function(Ta,Ua,Va){var Wa=this["_LngLatToGis"](Ta.x,Ta.y,Ua.x,Ua.y,Ua.z,Va)/4;var Xa=o["WASM"].HEAPF32();return{x:Xa[Wa],y:Xa[Wa+1],z:Xa[Wa+2]}};Fa["GisToWorld"]=function(Ya){var Za=this["_GisToWorld"](Ya.x,Ya.y,Ya.z)/4;var $a=o["WASM"].HEAPF32();return{x:$a[Za],y:$a[Za+1],z:$a[Za+2]}};Fa["WorldToScreenPoint"]=function(_a){var ab=this["_WorldToScreenPoint"](_a.x,_a.y,_a.z)/4;var bb=o["WASM"].HEAPF32();return{x:bb[ab],y:bb[ab+1],z:bb[ab+2]}};Fa["ScreenPointToRay"]=function(cb){var db=this["_ScreenPointToRay"](cb.x,cb.y,cb.z)/4;var eb=o["WASM"].HEAPF32();return{m_mOrigin:{x:eb[db],y:eb[db+1],z:eb[db+2]},m_mDirection:{x:eb[db+4],y:eb[db+5],z:eb[db+6]}}};Object.defineProperty(Fa,"camera",{get:function(){return p(this["_GetCamera"]())}});Object.defineProperty(Fa,"cameraMode",{set:function(fb){this["_SetCameraMode"](fb)}});Object.defineProperty(Fa,"fieldOfView",{set:function(gb){this["_FieldOfView"](gb)}});Object.defineProperty(Fa,"gis",{get:function(){if(!this._gis){this._gis=r["Gis"]["g_pIns"]}return this._gis}});Object.defineProperty(Fa,"panoramas",{get:function(){if(!this._panoramas){this._panoramas=r["Panoramas"]["g_pIns"]}return this._panoramas}});Object.defineProperty(Fa,"progress",{get:function(){return this["_GetProgress"]()}})};r["Mesh"]=function(hb){hb["SetVertices"]=function(ib,jb){this["m_aVertex"]=this["m_aVertex"]||[];this["m_aVertex"].push({m_pArray:jb,m_nSlot:this["_SlotLut"][ib],m_nItemSize:this["_SizeLut"][ib]})};hb["SetIndices"]=function(kb,lb,mb){this["m_aIndex"]=this["m_aIndex"]||[];this["m_aIndex"][kb]={m_pArray:lb,m_nItemSize:mb}};hb["Apply"]=function(){var nb=this["m_aVertex"];var ob=this["m_aIndex"];if(!nb||!ob){return}var pb=2+2*nb.length+3*ob.length;var qb=this._CreateBuffer(pb);var rb=o["WASM"]["HEAP32"](qb,pb*4);var sb=0;rb[sb++]=nb.length;rb[sb++]=ob.length;for(var tb=0;tb<nb.length;tb++){rb[sb++]=nb[tb].m_nSlot;rb[sb++]=nb[tb].m_pArray.length/nb[tb].m_nItemSize}for(var tb=0;tb<ob.length;tb++){rb[sb++]=0;rb[sb++]=0;rb[sb++]=ob[tb].m_pArray.length}this._CreateBuffer(0);for(var tb=0;tb<nb.length;tb++){var ub=nb[tb].m_pArray;var vb=this._GetVertexBuffer(tb);var wb=o["WASM"]["HEAPF32"](vb,ub.length*4);wb.set(ub)}for(var tb=0;tb<ob.length;tb++){var ub=ob[tb].m_pArray;var vb=this._GetIndexBuffer(tb);var wb=o["WASM"]["HEAP32"](vb,ub.length*4);wb.set(ub)}this._Apply();this["m_aVertex"]=undefined;this["m_aIndex"]=undefined};hb["_SlotLut"]={position:0,normal:1,uv:2,color:3,tangent:4,uv2:9,uv3:10,uv4:11,uv5:12,uv6:13,uv7:14,uv8:15};hb["_SizeLut"]={position:3,normal:3,uv:2,color:4,tangent:4,uv2:2,uv3:2,uv4:2,uv5:2,uv6:2,uv7:2,uv8:2};Object.defineProperty(hb,"position",{set:function(xb){this.SetVertices("position",xb)}});Object.defineProperty(hb,"normal",{set:function(yb){this.SetVertices("normal",yb)}});Object.defineProperty(hb,"uv",{set:function(zb){this.SetVertices("uv",zb)}});Object.defineProperty(hb,"triangles",{set:function(Ab){this.SetIndices(0,Ab)}});Object.defineProperty(hb,"material",{set:function(Bb){this.SetMaterial(0,Bb)}});o["Mesh"]=function(){return p(hb._Mesh())}};r["Texture2D"]=function(Cb){Cb["SetImageData"]=function(Db){var Eb=this._CreateBuffer(Db.byteLength);if(Eb){o["WASM"]["HEAPU8"](Eb,Db.byteLength).set(new Uint8Array(Db));this._Apply()}};Cb["Load"]=function(Fb){var Gb=this;o["Fetch"](Fb,function(Hb){if(Hb){Gb.SetImageData(Hb)}})};o["Texture2D"]=function(Ib){var Jb=p(Cb._Texture2D());if(Ib){if("string"===typeof Ib){this.Load(Ib)}else{this.SetImageData(Ib)}}return Jb}};r["Material"]=function(Kb){if("Sisyphus"===o["m_pConfig"]["ENGINE"]){o["ShaderLab"].ExpandMaterial(Kb)}Kb["GetTexture"]=function(){return p(this["_GetTexture"]())};Kb["SetTexture"]=function(Lb){this["_SetTexture"](Lb.m_nObject)};o["Material"]=function(Mb){if(Mb===void 0){Mb=undefined}var Nb=null;if(Mb){var Ob=o["ShaderLab"]["Pipeline"]["InternalShader"];var Pb=Ob[0];Ob[0]=Mb;Nb=p(Kb._Material());Ob[0]=Pb}else{Nb=p(Kb._Material())}return Nb}};r["Tile"]=function(Qb){Object.defineProperty(Qb,"scenes",{get:function(){var Rb=this;return new s(function(Sb){return Rb._IterWork(Sb)})}});Object.defineProperty(Qb,"object3D",{get:function(){if(undefined===this._object3D){var Tb=this._GetObject(this.m_nObject);if(0===Tb){this._object3D=null;return null}this._object3D=p(Tb)}return this._object3D}})};r["Scene"]=function(Ub){Ub["GetLayer"]=function(Vb){return p(this["_GetLayer"](Vb))};Object.defineProperty(Ub,"id",{get:function(){if(!this._id){var Wb=this._GetID(0);var Xb=this._GetID(1);this._id=o["WASM"].GetString(Xb,Wb)}return this._id}});Object.defineProperty(Ub,"layers",{get:function(){var Yb=this;return new s(function(Zb){return Yb._IterLayer(Zb)})}});Object.defineProperty(Ub,"object3D",{get:function(){if(undefined===this._object3D){var $b=this._GetObject(this.m_nObject);if(0===$b){this._object3D=null;return null}this._object3D=p($b)}return this._object3D}});Object.defineProperty(Ub,"viewState",{get:function(){return{m_mTarget:{x:0,y:0,z:0},m_nPitch:45,m_nYaw:0,m_nDistance:60,m_mOrthoTarget:{x:0,y:0,z:0},m_nOrthoScaled:0,m_nOrthoRotate:0}}});Object.defineProperty(Ub,"binding",{get:function(){return p(this._GetBinding())}})};r["Layer"]=function(_b){_b["HighlightRoom"]=function(ac){this["_HighlightRoom"](ac.x,ac.y,ac.z)};Object.defineProperty(_b,"id",{get:function(){if(!this._id){var bc=this._GetID(0);var cc=this._GetID(1);this._id=o["WASM"].GetString(cc,bc)}return this._id}});Object.defineProperty(_b,"sites",{get:function(){var dc=this;return new s(function(ec){return dc._IterSite(ec)})}});Object.defineProperty(_b,"object3D",{get:function(){if(undefined===this._object3D){var fc=this._GetObject(this.m_nObject);if(0===fc){this._object3D=null;return null}this._object3D=p(fc)}return this._object3D}});Object.defineProperty(_b,"decorationObject3D",{get:function(){if(undefined===this._decorationObject3D){var gc=this._GetDecorationObject(this.m_nObject);if(0===gc){this._decorationObject3D=null;return null}this._decorationObject3D=p(gc)}return this._decorationObject3D}});Object.defineProperty(_b,"viewState",{get:function(){var hc=this["_GetViewState"]();if(0<hc){var ic=o["WASM"]["HEAPF32"](hc,4*11);var jc=0;return{m_mTarget:{x:ic[jc++],y:ic[jc++],z:ic[jc++]},m_nPitch:ic[jc++],m_nYaw:ic[jc++],m_nDistance:ic[jc++],m_mOrthoTarget:{x:ic[jc++],y:ic[jc++],z:ic[jc++]},m_nOrthoScaled:ic[jc++],m_nOrthoRotate:ic[jc++]}}return null}})};r["Attachment"]=function(kc){Object.defineProperty(kc,"entityType",{get:function(){return this._GetEntityType()}});Object.defineProperty(kc,"secondType",{get:function(){return this._GetSecondType()}});Object.defineProperty(kc,"flag",{get:function(){return this._GetFlag()}});Object.defineProperty(kc,"object3D",{get:function(){return p(this._GetObject())}});Object.defineProperty(kc,"viewState",{get:function(){var lc=this["_GetViewState"]();if(0<lc){var mc=o["WASM"]["HEAPF32"](lc,4*11);var nc=0;var oc={m_mTarget:{x:mc[nc++],y:mc[nc++],z:mc[nc++]},m_nPitch:mc[nc++],m_nYaw:mc[nc++],m_nDistance:mc[nc++],m_mOrthoTarget:{x:mc[nc++],y:mc[nc++],z:mc[nc++]},m_nOrthoScaled:mc[nc++],m_nOrthoRotate:mc[nc++]};console.log("attachment view:",oc);return oc}else{console.log("attachment view: null")}return null}})};r["Site"]=function(pc){Object.defineProperty(pc,"id",{get:function(){if(!this._id){var qc=this._GetID(0);var rc=this._GetID(1);this._id=o["WASM"].GetString(rc,qc)}return this._id}});Object.defineProperty(pc,"layer",{get:function(){return p(this["_Layer"]())}});Object.defineProperty(pc,"scene",{get:function(){return p(this["_Scene"]())}});Object.defineProperty(pc,"type",{get:function(){return this["_Type"]()}});Object.defineProperty(pc,"number",{get:function(){return this["_Number"]()}});Object.defineProperty(pc,"position",{get:function(){var sc=this["_Position"]()/4;var tc=o["WASM"].HEAPF32();return{x:tc[sc],y:tc[sc+1],z:tc[sc+2]}}})};r["Prefab"]=function(uc){uc["Instantiate"]=function(){return p(this["_Instantiate"]())};o["LoadPrefab"]=function(vc,wc){o["Fetch"](vc,function(xc){var yc=null;if(xc){var zc=uc._Prefab();var Ac=p(zc);var Bc=Ac.CreateBuffer(xc.byteLength);if(Bc){o["WASM"]["HEAPU8"](Bc,xc.byteLength).set(new Uint8Array(xc));Ac.Apply();yc=Ac}}wc(yc)})}};r["Gis"]=function(Cc){Cc["Update"]=function(Dc,Ec,Fc){return this["_Update"](Dc,Ec,Fc)};Cc["AddSvetile"]=function(Gc){var Hc=o["WASM"]["EncodeString"](Gc.m_pUrl);var Ic=this["_CreateSvetileDesc"](Hc.byteLength);var Jc=o["WASM"]["HEAPU32"](Ic,4*8);Jc[0]=Gc.m_nID;Jc[1]=Gc.m_nFlags;o["WASM"]["HEAPU8"](Jc[2],Hc.byteLength).set(Hc,0);Jc[3]=0;Jc[4]=o["WASM"]["RegisterDelegate"](function(Lc,Mc){Gc.OnActive(p(Lc),0<Mc)});var Kc=o["WASM"]["HEAPF32"](Ic+20,16);Kc[0]=Gc.m_mLngLat.x;Kc[1]=Gc.m_mLngLat.y;Kc[2]=Gc.m_mSize.x;Kc[3]=Gc.m_mSize.y;this["_AddSvetile"](Ic)};Cc["AddMapbox"]=function(Nc){var Oc=this["_GetMapboxDesc"]();var Pc=o["WASM"]["HEAPF32"](Oc,40);Pc[0]=Nc.m_mOffset.x;Pc[1]=Nc.m_mOffset.y;Pc[2]=Nc.m_mOffset.z;Pc[3]=Nc.m_mScale.x;Pc[4]=Nc.m_mScale.y;Pc[5]=Nc.m_mScale.z;Pc[6]=Nc.m_mLngLat.x;Pc[7]=Nc.m_mLngLat.y;Pc[8]=Nc.m_mSize.x;Pc[9]=Nc.m_mSize.y;this["_AddMapbox"](Oc)};Cc["AddGameObject"]=function(Qc,Rc,Sc,Tc){this["_AddGameObject"](Qc.m_nObject,Rc,Sc,Tc)};Object.defineProperty(Cc,"terrainServer",{set:function(Uc){if(!Uc){Uc="https://t%d.tianditu.gov.cn/DEM/DataServer?T=ele_c&tk=3d26628c3a0e2694fecfbbb983ff7d87&x=%d&y=%d&l=%d"}var Vc=this["_GetServer"](0);o["WASM"].SetString(Vc,Uc)}});Object.defineProperty(Cc,"imageServer",{set:function(Wc){if(!Wc){Wc="http://t%d.tianditu.gov.cn/DataServer?T=img_c&tk=3d26628c3a0e2694fecfbbb983ff7d87&x=%d&y=%d&l=%d"}var Xc=this["_GetServer"](1);o["WASM"].SetString(Xc,Wc)}});Object.defineProperty(Cc,"labelServer",{set:function(Yc){if(!Yc){Yc="http://t%d.tianditu.gov.cn/DataServer?T=cia_c&tk=3d26628c3a0e2694fecfbbb983ff7d87&x=%d&y=%d&l=%d"}var Zc=this["_GetServer"](2);o["WASM"].SetString(Zc,Yc)}})};r["Panoramas"]=function($c){var _c=null;var ad=function(bd){var cd=o["GL"]["ImageCache"];var dd=null;var ed=null;var fd=null;var gd=0;var hd=90;var id=function(od,pd){var qd=0;var rd=od.m_pPath;var sd=["r","f","l","b","d","u"];for(var td=0;td<6;td++){for(var ud=0;ud<2;ud++){var vd=function(xd){var yd=td;var zd=1;var Ad=ud;var Bd=xd;var Cd=cd.CreateImage();var Dd=cd.Get(Cd);var Ed=rd+"l"+zd+"_"+sd[yd]+"_0"+(1+Ad)+"_0"+(2-Bd)+".jpg";Dd.crossOrigin="anonymous";Dd.src=Ed;Dd.onload=function(Fd){if(1===od.m_nState){bd["_SetImage"](yd,zd,Ad,Bd,Cd);if(24===++qd){pd()}}}};for(var wd=0;wd<2;wd++){vd(wd)}}}};var jd=function(Gd,Hd){_c=Gd;ed=Hd;dd={m_mTarget:{x:Hd.m_mTarget.x,y:Hd.m_mTarget.y,z:Hd.m_mTarget.z},m_nDistance:Hd.m_nDistance,m_nPitch:Hd.m_nPitch,m_nYaw:Hd.m_nYaw,m_nField:Hd.m_nField};Gd.m_nState=1;if(!Gd.m_mGisPos){Gd.m_mGisPos=o.Miaokit.LngLatToGis(Gd.m_mLngLat,Gd.m_nOffset,Gd.m_nHeight)}bd["_Open"](Gd.m_mGisPos.x,Gd.m_mGisPos.y,Gd.m_mGisPos.z);id(Gd,function(){md(Gd)})};var kd=function(){if(fd){if(hd>gd){var Id=++gd/hd;var Jd=ed.m_mTarget;var Kd=fd.m_mTarget;var Ld={x:0,y:0,z:0};var Md=0;var Nd=0;var Od=0;Ld.x=Jd.x+(Kd.x-Jd.x)*Id;Ld.y=Jd.y+(Kd.y-Jd.y)*Id;Ld.z=Jd.z+(Kd.z-Jd.z)*Id;Md=ed.m_nDistance+(fd.m_nDistance-ed.m_nDistance)*Id;Nd=ed.m_nPitch+(fd.m_nPitch-ed.m_nPitch)*Id;Od=ed.m_nYaw+(fd.m_nYaw-ed.m_nYaw)*Id;if(-90>Nd){Nd=180-Nd}if(2===_c.m_nState||5===_c.m_nState){o.Miaokit.fieldOfView=ed.m_nField+(fd.m_nField-ed.m_nField)*Id}ed.m_pTransform.position={x:0,y:0,z:0};ed.m_pTransform.euler={x:0,y:0,z:0};ed.m_pTransform.Rotate2({x:1,y:0,z:0},Nd,1);ed.m_pTransform.Rotate2({x:0,y:1,z:0},Od,0);ed.m_pTransform.position=Ld;ed.m_pTransform.Translate(o.Vector3.Scale(-Md,{x:0,y:0,z:1}),1);if(hd===gd){ed.m_mTarget=Ld;ed.m_nDistance=Md;ed.m_nPitch=Nd;ed.m_nYaw=Od;ed.m_nField=fd.m_nField;if(2===_c.m_nState){_c.m_nState=3;fd.m_nDistance=0;fd.m_nPitch=0;fd.m_nYaw=0;fd.m_nField=105;gd=0;hd=90}else if(3===_c.m_nState){_c.m_nState=4}else if(5===_c.m_nState){_c.m_nState=0;_c=null;dd=null;ed=null;fd=null}}}}};var ld=function(Pd,Qd,Rd,Sd){if(!_c||4!==_c.m_nState){return}var Td=fd.m_nPitch;var Ud=fd.m_nYaw;Ud+=Pd/Rd*90;Td-=Qd/Sd*90;if(-90>Td){Td=-90}if(90<Td){Td=90}fd.m_nPitch=Td;fd.m_nYaw=Ud;gd=0;hd=1};var md=function(Vd){Vd.m_nState=2;fd={m_mTarget:bd.Position(Vd),m_nDistance:60,m_nPitch:90,m_nYaw:180,m_nField:105};gd=0;hd=90};var nd=function(){_c.m_nState=5;fd={m_mTarget:{x:dd.m_mTarget.x,y:dd.m_mTarget.y,z:dd.m_mTarget.z},m_nDistance:dd.m_nDistance,m_nPitch:dd.m_nPitch,m_nYaw:dd.m_nYaw,m_nField:dd.m_nField};gd=0;hd=60};return{Open:jd,Update:kd,Rotate:ld,Close:nd}}($c);$c["Open"]=function(Wd,Xd){ad.Open(Wd,Xd)};$c["Update"]=function(){ad.Update()};$c["Rotate"]=function(Yd,Zd,$d,_d){ad.Rotate(Yd,Zd,$d,_d)};$c["Close"]=function(){ad.Close()};Object.defineProperty($c,"panor",{get:function(){return _c}});$c["Position"]=function(ae){if(!ae.m_mGisPos){ae.m_mGisPos=o.Miaokit.LngLatToGis(ae.m_mLngLat,ae.m_nOffset,ae.m_nHeight)}ae.m_mPosition=o.Miaokit.GisToWorld(ae.m_mGisPos);return ae.m_mPosition};$c["ScreenPoint"]=function(be){if(!be.m_mGisPos){be.m_mGisPos=o.Miaokit.LngLatToGis(be.m_mLngLat,be.m_nOffset,be.m_nHeight)}var ce=o.Miaokit.GisToWorld(be.m_mGisPos);var de=o.Miaokit.WorldToScreenPoint(ce);return de}};r["Dioramas3MX"]=function(ee){ee["_Load3MX"]=function(fe,ge,he){var ie=this;var je=ie.m_pFileLut[fe];var ke=je.m_pPath+je.m_aFile[ge];o["Request"]("GET","arraybuffer",ke,null,null,function(le){if(!le){return}var me=new Uint32Array(le,0,2);if(1113083187===me[0]){var ne=me[1]>>8;var oe=9+ne;var pe=le.byteLength-oe;var qe=new Uint8Array(le,9,ne);var re=ie.m_pTextDecoder.decode(qe);var se=JSON.parse(re);var te={m_pPath:ke.substring(0,ke.lastIndexOf("/")+1),m_aFile:[]};var ue=[];var ve=[];var we=se.resources;var xe=0;for(var ye=0;ye<we.length;ye++){ue.push(ye);if("textureBuffer"===we[ye].type){ue.push(0);ve.push(ye);if("jpg"===we[ye].format){ue.push(0)}else if("png"===we[ye].format){ue.push(1)}else{ue.push(1e4)}}else if("geometryBuffer"===we[ye].type){ue.push(1);if("ctm"===we[ye].format){ue.push(0)}else{ue.push(1e4)}}else{ue.push(1e4);ue.push(1e4)}ue.push(we[ye].size);ue.push(xe);xe+=we[ye].size;ue.push(1e4);if(we[ye].texture){for(var ze=0;ze<we.length;ze++){if(we[ye].texture===we[ze].id){ue[ue.length-1]=ze;break}}}}var Ae=[];var Be=se.nodes;for(var ye=0;ye<Be.length;ye++){var Ce=Be[ye];var De=Ce.bbMax[0]-Ce.bbMin[0];var Ee=Ce.bbMax[1]-Ce.bbMin[1];var Fe=Ce.bbMax[2]-Ce.bbMin[2];var Ge=Math.sqrt(De*De+Ee*Ee+Fe*Fe);Ae.push(Math.floor(parseInt(Ce.bbMin[0]+Ce.bbMax[0])*.5*100));Ae.push(Math.floor(parseInt(Ce.bbMin[1]+Ce.bbMax[1])*.5*100));Ae.push(Math.floor(parseInt(Ce.bbMin[2]+Ce.bbMax[2])*.5*100));Ae.push(Math.floor(Ge*100));Ae.push(Math.floor(Ce.maxScreenDiameter));var He=Ce.children?Ce.children.length:0;if(0<He){Ae.push(te.m_aFile.length);for(var ze=0;ze<He;ze++){te.m_aFile.push(Ce.children[ze])}Ae.push(te.m_aFile.length)}else{Ae.push(-1);Ae.push(-1)}var Ie=Ce.resources?Ce.resources.length:0;if(0<Ie){Ae.push(ve.length);for(var ze=0;ze<Ie;ze++){for(var Je=0;Je<we.length;Je++){if(Ce.resources[ze]===we[Je].id){ve.push(Je);break}}}Ae.push(ve.length)}else{Ae.push(-1);Ae.push(-1)}}var Ke=4+9*Be.length+6*ve.length;var Le=4*Ke;var Me=Le+pe;var Ne=ie["_CreateBuffer"](Me);if(Ne){var Oe=o["WASM"]["HEAP32"](Ne,Le);Oe[0]=Le;Oe[1]=Be.length;Oe[2]=ve.length;Oe[3]=ie.m_pFileLut.length;Oe.set(Ae,4);var Pe=4+Ae.length;for(var ye=0;ye<ve.length;ye++){var Qe=6*ve[ye];for(var ze=0;ze<6;ze++){Oe[Pe++]=ue[Qe++]}}var Re=o["WASM"]["HEAPU8"](Ne+Le,pe);Re.set(new Uint8Array(le,oe,pe));ie["_Dispose"](he)}ie.m_pFileLut.push(te)}})};ee["Update"]=function(){return this["_Update"]()};ee["Deplanation"]=function(Se){return this["_Deplanation"](Se.x,Se.y,Se.z)};ee["Recover"]=function(){return this["_Recover"]()};Object.defineProperty(ee,"object3D",{get:function(){return p(this["_GetObject"]())}});o["Dioramas3MX"]=function(Te,Ue){var Ve=p(ee._Dioramas3MX());Ve.m_pFileLut=[];Ve.m_pTextDecoder=new TextDecoder("utf-8");if(Ue){if(Ue.m_pGis){Ue.m_pGis.AddGameObject(Ve.object3D,Ue.m_mLngLat.x,Ue.m_mLngLat.y,Ue.m_nHeight);Ve.object3D.transform.Translate(Ue.m_mOffset,1);Ve.object3D.transform.Rotate({x:0,y:0,z:0},1)}}o["Request"]("GET","json",Te,null,null,function(We){Ve["m_pMeta"]=We;var Xe={m_pPath:Te.substring(0,Te.lastIndexOf("/")+1),m_aFile:[]};var Ye=[0];for(var Ze=0;Ze<We.layers.length;Ze++){if("meshPyramid"===We.layers[Ze].type){Ye.push(Ze);Ye.push(Xe.m_aFile.length);Xe.m_aFile.push(We.layers[Ze].root)}}Ye[0]=Xe.m_aFile.length;var $e=Ve["_CreateBuffer"](4*Ye.length);var _e=o["WASM"]["HEAP32"]($e,4*Ye.length);_e.set(Ye);Ve["_Initialize"]($e);Ve.m_pFileLut.push(Xe)});return Ve}};function t(af,bf,cf){p=bf;q=cf;for(var df=0,ef=af;df<ef.length;df++){var ff=ef[df];if(ff){var gf=ff.prototype;if(r[gf._type_name]){r[gf._type_name](gf)}if("Miaokit"===gf._type_name){o["Miaokit"]=new ff(0,0)}else if("Gis"===gf._type_name){r["Gis"]["g_pIns"]=new ff(0,0)}else if("Panoramas"===gf._type_name){r["Panoramas"]["g_pIns"]=new ff(0,0)}}}}o["WASM"]=o["WASM"]||{};o["WASM"]["LoadClass"]=t;return[]});MiaokitMerge(function(hf){hf["m_pLogo"]=null;var jf=undefined;var kf=false;var lf=false;function mf(){hf["Track"]("Preload");hf["Request"]("GET","json",hf["m_pConfigPath"],null,null,function(pf){if(!pf){hf["Track"]("配置文件错误！",3);return}hf["m_pConfig"]=pf;hf["Fetch"](pf.MODULE,function(sf){if(jf){jf(sf)}else{jf=sf}});if(pf.SVE){var qf=function(tf){var uf=pf.SVE[tf];uf.m_pData=null;uf.m_pTile=null;if(true===uf.m_bPreload){hf["Fetch"](uf.m_pProject,function(vf){uf.m_pData=vf;if(lf&&vf){uf.m_pTile=hf["Miaokit"]["LoadTile"](uf.m_pData);uf.m_pData=null;hf["App"]["ActiveTile"](uf)}})}};for(var rf=0;rf<pf.SVE.length;rf++){qf(rf)}}if(hf["App"]&&hf["App"].m_pProject){hf["App"]["Preload"]()}else{kf=true}})}function nf(wf,xf){hf["Track"]("LoadEngine");if(kf){hf["App"]["Preload"]();kf=false}hf["WASM"]["LoadEngine"]({OnEngineLoad:function(yf){hf["Track"]("LoadEngine End");if(jf){hf["Track"]("LoadMiaokit");hf["WASM"]["LoadMiaokit"](jf,yf,function(){wf();lf=true;of()})}else{hf["Track"]("LoadMiaokit Delay");jf=function(zf){hf["Track"]("LoadMiaokit");hf["WASM"]["LoadMiaokit"](zf,yf,function(){wf();lf=true;of()})}}},OnRenderingEvent:function(Af){if(lf){xf(Af)}}})}function of(){hf["Track"]("LoadMiaokit End");var Bf=hf["m_pConfig"]["SVE"];if(Bf){for(var Cf=0,Df=Bf;Cf<Df.length;Cf++){var Ef=Df[Cf];if(true===Ef.m_bPreload){if(null===Ef.m_pTile&&null!==Ef.m_pData){Ef.m_pTile=hf["Miaokit"]["LoadTile"](Ef.m_pData);Ef.m_pData=null;hf["App"]["ActiveTile"](Ef)}}}}}mf["_name"]="Preload";nf["_name"]="Load";return[mf,nf]});MiaokitMerge(function(Ff){var Gf=function(){function If(){}If.Clamp=function(Jf,Kf,Lf){if(Jf>Lf){return Lf}if(Jf<Kf){return Kf}return Jf};return If}();var Hf=function(){function Mf(Nf,Of,Pf){this.x=0;this.y=0;this.z=0;this.x=Nf;this.y=Of;this.z=Pf}Mf.Scale=function(Qf,Rf){return{x:Rf.x*Qf,y:Rf.y*Qf,z:Rf.z*Qf}};return Mf}();Gf["_name"]="Mathf";Hf["_name"]="Vector3";return[Gf,Hf]});MiaokitMerge(function(Sf){var Tf=null;var Uf=null;var Vf=null;var Wf=[null];var Xf=null;var Yf=[null];var Zf=1;var $f=0;var _f=[undefined];var ag=null;var bg=null;function cg(mg){mg["isnanf"]=isNaN;mg["isinff"]=isFinite;mg["powf"]=Math.pow;mg["sqrtf"]=Math.sqrt;mg["expf"]=Math.exp;mg["logf"]=Math.log;mg["floorf"]=Math.floor;mg["ceilf"]=Math.ceil;mg["sinf"]=Math.sin;mg["cosf"]=Math.cos;mg["tanf"]=Math.tan;mg["asinf"]=Math.asin;mg["acosf"]=Math.acos;mg["atanf"]=Math.atan;mg["atan2f"]=Math.atan2;mg["ldexpf"]=function(ng,og){return ng*Math.pow(2,og)}}function dg(pg){function qg(Ag){var Bg=Sf["WASM"].GetString(Ag);if(!Bg.startsWith("http")){Bg="./data/projects/sve/"+Bg}if(Bg.endsWith("assetbundle")){Bg+=".bin"}return Bg}function rg(Cg,Dg,Eg,Fg,Gg){var Hg=qg(Cg);var Ig=Tf.get(Eg);var Jg=Tf.get(Fg);Sf["Fetch"](Hg,function(Kg){if(Kg){var Lg=Ig(Dg,Kg.byteLength,Gg);if(Lg){Sf["WASM"]["HEAPU8"](Lg,Kg.byteLength).set(new Uint8Array(Kg))}}else{console.error("资源丢失:",Hg)}Jg(Dg,Gg)})}function sg(Mg,Ng,Og,Pg,Qg){var Rg=qg(Mg);var Sg=Tf.get(Og);var Tg=Xf.CreateImage();var Ug=Xf.Get(Tg);Ug.crossOrigin="anonymous";Ug.src=Rg;Ug.onload=function(Vg){Sg(Ng,Tg,Qg)}}function tg(Wg,Xg,Yg,Zg,$g){rg(Wg,Xg,Yg,Zg,$g)}function ug(_g,ah,bh,ch,dh){ag["LoadTerrain"](_g,ah,bh,ch,dh)}function vg(eh,fh,gh,hh,ih){var jh=Sf["WASM"]["HEAP32"](eh,16);ag["LoadBlockbox"](fh,jh[0],jh[1],jh[2],jh[3],gh,hh)}function wg(kh,lh){var mh=Sf["WASM"]["HEAP32"](kh,12);ag["Load3MX"](mh[0],mh[1],mh[2],lh)}function xg(nh,oh,ph,qh,rh){rg(nh,oh,ph,qh,rh)}function yg(sh,th,uh,vh){var wh=Tf.get(vh);var xh=Sf["WASM"]["HEAP8"](uh,th);var yh=new Blob([xh]);var zh=window.URL.createObjectURL(yh);var Ah=Xf.CreateImage();var Bh=Xf.Get(Ah);Bh.src=zh;Bh.onload=function(Ch){wh(sh,Ah);window.URL.revokeObjectURL(zh)}}var zg=[undefined,rg,sg,tg,ug,vg,wg,xg,yg];pg["APP_LOAD"]=function(Dh,Eh,Fh,Gh,Hh,Ih){zg[Dh](Eh,Fh,Gh,Hh,Ih)}}function eg(Jh){var Kh={NaN:NaN,Infinity:Infinity};cg(Jh);dg(Jh);Jh["APP_DYNAMIC_LINK"]=function(Lh,Mh){var Nh=Sf["WASM"]["HEAPU32"](Lh,Mh);var Oh=Nh[0];var Ph=Nh[1];for(var Qh=0;Qh<Oh;Qh++){var Rh=Nh[2+Qh]-1;var Sh=Nh[Ph++];var Th=Nh[Ph++];var Uh=Sf["WASM"].GetString(Sh,Th);var Vh=JSON.parse(Uh);var Wh=function($h,_h){this["m_nID"]=$h;this["m_nObject"]=_h};var Xh=Wh.prototype;Xh["_type_name"]=Vh[0];Xh["_type_id"]=Qh+1;Xh["_ins_count"]=0;_f[Qh+1]=Wh;var Yh=function(ai){var bi=Tf.get(Nh[Ph++]);Ph++;var ci=function(){var di=Array.prototype.slice.call(arguments);di.unshift(this.m_nObject);return bi.apply(this,di)};if(0===ai){Xh["_"+Vh[ai]]=ci}else{Xh[Vh[ai]]=ci}};for(var Zh=0;Zh<Rh;Zh++){Yh(Zh)}}Sf["WASM"]["LoadClass"](_f,gg,jg);Sf["Miaokit"]["ResizeCavans"]=function(ei,fi){if(Vf.SE_RESIZE){Vf.SE_RESIZE(ei,fi)}}};Jh["APP_PRINT"]=function(gi,hi,ii){var ji=Sf["WASM"].GetString(gi,hi);Sf["Track"](ji,ii)};Jh["APP_DO_ACTION"]=function(ki,li,mi,ni){Wf[ki](li,mi,ni)};Jh["APP_CREATE_OBJ"]=function(oi,pi){var qi=hg();var ri=new _f[oi](qi,pi);Yf[qi]=ri;_f[oi].prototype._ins_count++;return qi};Jh["APP_FREE_OBJ"]=function(si){var ti=Yf[si];_f[ti._type_id].prototype._ins_count--;ig(si)};bg=Sf["ShaderLab"].APP_DO_OPERATORS;bg[7]=function(ui,vi){if(0===ui){Xf.FreeImage(vi)}else if(1===ui){Xf.FreeBuffer(vi)}return 0};Jh["APP_DO"]=function(wi,xi,yi,zi,Ai){return bg[wi](xi,yi,zi,Ai)};Uf=Jh["memory"];Sf["WASM"]["m_pMemory"]=Sf["WASM"]["m_pMemory"]||Uf;return{env:Jh,global:Kh}}function fg(Bi,Ci,Di){Xf=Sf["GL"]["ImageCache"];Ci=eg(Ci);WebAssembly.instantiate(Bi,Ci).then(function(Ei){return Ei.instance}).then(function(Fi){Vf=Fi.exports;Tf=Vf.__indirect_function_table;Sf["WASM"]["Update"]=Fi.exports.SE_UPDATE;Sf["WASM"]["Malloc"]=Fi.exports.Malloc;Sf["WASM"]["Free"]=Fi.exports.Free;Sf["ShaderLab"]["DrawPass_"]=Fi.exports.SE_DRAW_PASS;Sf["ShaderLab"]["SetSunlight"]=Fi.exports.SE_SUNLIGHT;Sf["ShaderLab"]["CreateUniformsDesc"]=Fi.exports.SE_CREATE_UNIFORMS_DESC;Sf["ShaderLab"]["GetTexture"]=function(Gi){return Vf.SE_RESOURCE(9,Gi)};Sf["ShaderLab"]["GetObject"]=function(Hi){var Ii=Vf.SE_RESOURCE(13,Hi);if(Ii){return gg(Ii)}return null};Sf["Track"]("Start thread");Sf["WASM"]["Worker"]=lg(function(){Sf["Track"]("Start thread succeed")});Vf.Start();Di()})}function gg(Ji){return Yf[Ji]}function hg(){var Ki=Zf;if(Yf.length>Zf){Zf=Yf[Zf]}else{Zf++}$f++;return Ki}function ig(Li){Yf[Li]=Zf;Zf=Li;$f--}function jg(Mi){var Ni="'系统运行':{";Ni+="'时间':"+(Sf.Time()/1e3).toFixed(0);Ni+=", '帧率':"+Mi;Ni+=", 'WASM内存':"+Sf.WASM.m_pMemory.buffer.byteLength/1024/1024;Ni+="}";var Oi="'JS对象':{";Oi+="'工厂':["+Yf.length+", "+$f+", "+(Yf.length-$f)+"]";Oi+=Xf.Analyze();for(var Pi=1;Pi<_f.length;Pi++){Oi+=", '"+_f[Pi].prototype._type_name+"':"+_f[Pi].prototype._ins_count}Oi+="}";return[Ni,Oi]}function kg(Qi){var Ri=Wf.length;Wf.push(Qi);return Ri}function lg(Si){var Ti=Vf.UTIL_WORKER_CODE();var Ui=Sf["WASM"]["HEAPU32"](Ti,16);if(false){ag=new Worker(window.URL.createObjectURL(new Blob([Sf["WASM"]["HEAPU8"](Ui[2],Ui[3])])));var Vi=Sf["WASM"]["HEAPU8"]().slice(Ui[0],Ui[0]+Ui[1]);var Wi=Vi.buffer;ag.postMessage({m_nID:1,m_aCode:Wi},[Wi])}else{var Xi=Sf["m_pConfig"]["MODULE"].replace(".wasm","");ag=new Worker(Xi+"Worker.min.js");fetch(Xi+"Worker.wasm").then(function(Yi){return Yi.arrayBuffer()}).then(function(Zi){if(Zi){ag.postMessage({m_nID:1,m_aCode:Zi},[Zi])}else{console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",Zi)}}).catch(function($i){console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",$i)})}ag.onmessage=function(_i){var aj=_i.data;switch(aj.m_nID){case 1:Si();Si=null;break;case 2:ag["OnLoadTerrain"](aj);break;case 3:ag["OnLoadBlockbox"](aj);break;case 4:ag["OnLoad3MX"](aj);break;default:console.error("子线程消息异常:",aj);break}};ag["LoadTerrain"]=function(bj,cj,dj,ej,fj){ag.postMessage({m_nID:2,m_pPath:Sf["WASM"].GetString(bj),m_nRequest:cj,m_nCallback:dj,m_nTS:fj})};ag["OnLoadTerrain"]=function(gj){var hj=Tf.get(gj.m_nCallback);var ij=gj.m_pData;var jj=0;if(ij){jj=Xf.PushBuffer(ij)}else{console.warn("Terrain miss:",gj.m_pPath)}hj(gj.m_nRequest,jj,gj.m_nTS)};ag["LoadBlockbox"]=function kj(lj,mj,nj,oj,pj,qj,rj){ag.postMessage({m_nID:3,m_nRequest:lj,m_nCol:mj,m_nRow:nj,m_nColOffset:oj,m_nRowOffset:pj,m_nAlloc:qj,m_nCallback:rj})};ag["OnLoadBlockbox"]=function(sj){var tj=Tf.get(sj.m_nAlloc);var uj=Tf.get(sj.m_nCallback);var vj=sj.m_pData;var wj=[0,0,0,0];for(var xj=0;xj<4;xj++){var yj=vj[xj];if(0<yj.m_nVertexCount&&0<yj.m_nSubmeshCount){var zj=new Sf.Mesh;var Aj=new Int32Array(yj.m_aIndex);zj.position=new Float32Array(yj.m_aPosition);zj.normal=new Float32Array(yj.m_aNormal);zj.uv=new Float32Array(yj.m_aUV);for(var Bj=0;Bj<yj.m_nSubmeshCount;Bj++){var Cj=Aj[2*Bj];var Dj=Aj[2*Bj+1];var Ej=[];for(var Fj=Cj;Fj<Dj;Fj++){Ej.push(Fj)}zj.SetIndices(Bj,new Int32Array(Ej),4)}zj.Apply();wj[xj]=zj.m_nObject}else{wj[xj]=0}}var Gj=tj(sj.m_nRequest,16);if(Gj){Sf["WASM"]["HEAPU32"](Gj,16).set(new Uint32Array(wj));uj(sj.m_nRequest)}};ag["Load3MX"]=function(Hj,Ij,Jj,Kj){var Lj=gg(Hj);if(Lj){var Mj=Lj.m_pFileLut[Ij];var Nj=Mj.m_pPath+Mj.m_aFile[Jj];var Oj=Lj.m_pFileLut.length;Lj.m_pFileLut.push(null);ag.postMessage({m_nID:4,m_nDior:Hj,m_pPath:Nj,m_nRequest:Kj,m_nNewFolder:Oj})}};ag["OnLoad3MX"]=function(Pj){var Qj=Pj.m_pData;if(Qj){var Rj=gg(Pj.m_nDior);if(Rj){Rj.m_pFileLut[Pj.m_nNewFolder]=Pj.m_pNewFolder;var Sj=new Int32Array(Qj[0]);var Tj=Sj[1];var Uj=Sj[2];var Vj=4+9*Tj;var Wj=0;var Xj=[];var Yj=function(){if(Uj===++Wj||0==Uj){var _j=Qj[0].byteLength;var ak=Rj["_CreateBuffer"](_j);var bk=Sf["WASM"]["HEAP32"](ak,_j);bk.set(Sj);Rj["_Dispose"](Pj.m_nRequest)}};var Zj=function(ck){var dk=Sj[Vj+0];var ek=Sj[Vj+1];if(0===ek){var fk=Qj[1+ck];if(null!==fk){var gk=Xf.CreateImage();var hk=Xf.Get(gk);var ik=new Blob([new Int8Array(fk)]);var jk=window.URL.createObjectURL(ik);hk.src=jk;hk.onload=function(nk){Yj();window.URL.revokeObjectURL(jk)};Xj[dk]=Vf["SE_CREATE_INTERNAL_TEXTURE"]();Sj[Vj+3]=Xj[dk];Sj[Vj+4]=gk}else{Xj[dk]=0;Sj[Vj+3]=Xj[dk];Sj[Vj+4]=0;Yj()}}else if(1===ek){Sj[Vj+4]=Xj[Sj[Vj+5]];var fk=Qj[1+ck];if(null!==fk){var kk=fk.byteLength;var lk=Rj["_CreateBuffer"](kk);var mk=Sf["WASM"]["HEAP8"](lk,kk);mk.set(new Int8Array(fk));Rj["_MarkBuilding"](lk);Xj[dk]=Vf["SE_CREATE_INTERNAL_MESH"](0,lk);Sj[Vj+3]=Xj[dk];Yj()}else{Xj[dk]=0;Sj[Vj+3]=Xj[dk];Yj()}}else{Xj[dk]=0;Sj[Vj+3]=Xj[dk];Sj[Vj+4]=0;Yj()}Vj+=6};for(var $j=0;$j<Uj;$j++){Zj($j)}if(0===Uj){Yj()}}}else{console.warn("3mx miss:",Pj.m_pPath)}};return ag}Sf["WASM"]=Sf["WASM"]||{};Sf["WASM"]["LoadMiaokit"]=fg;Sf["WASM"]["GetObject"]=gg;Sf["WASM"]["RegisterDelegate"]=kg;return[]});MiaokitMerge(function(ok){var pk=null;var qk=null;var rk=null;var sk=null;var tk=null;var uk=null;var vk=null;var wk=null;var xk=null;var yk=null;var zk=null;var Ak=null;var Bk=null;var Ck=null;var Dk=null;var Ek=null;var Fk=0;var Gk=function(){var Ik=ok.m_pConfig.WEBGL;var Jk=ok.m_pConfig.QUALITY;if(0===Jk){rk="\n                #define LOW_QUALITY\n            ";sk="\n                #define LOW_QUALITY\n            "}else if(1===Jk){rk="\n                #define MEDIUM_QUALITY\n            ";sk="\n                #define MEDIUM_QUALITY\n            "}else{rk="\n                #define HIGH_QUALITY\n            ";sk="\n                #define HIGH_QUALITY\n            "}if(1===Ik){pk="\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform lowp vec4 u_Sunlight;\n                uniform lowp vec4 u_Picker;\n                uniform lowp vec4 u_EyePos;\n                uniform lowp vec4 u_Mark;\n                uniform highp mat4 u_MatG;\n                uniform highp mat4 u_MatVP;\n            ";qk="\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform lowp vec4 u_Sunlight;\n                uniform lowp vec4 u_Picker;\n                uniform lowp vec4 u_EyePos;\n                uniform lowp vec4 u_Mark;\n                uniform highp mat4 u_MatG;\n                uniform highp mat4 u_MatVP;\n            "}else{pk="#version 300 es\n                #define attribute in\n                #define varying out\n                #define texture2D texture\n\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform CommonBlock\n                {\n                    lowp vec4 u_Sunlight;\n                    lowp vec4 u_Picker;\n                    lowp vec4 u_EyePos;\n                    lowp vec4 u_Mark;\n                    highp mat4 u_MatG;\n                    highp mat4 u_MatVP;\n                };\n            ";qk="#version 300 es\n                #define varying in\n                #define texture2D texture\n                #define gl_FragColor FragColor\n\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform CommonBlock\n                {\n                    lowp vec4 u_Sunlight;\n                    lowp vec4 u_Picker;\n                    lowp vec4 u_EyePos;\n                    lowp vec4 u_Mark;\n                    highp mat4 u_MatG;\n                    highp mat4 u_MatVP;\n                };\n\n                out vec4 FragColor;\n            "}Fk=Jk;return{DeclareVS:pk+rk+tk,DeclareFS:qk+sk+uk,ClearVS:vk,ClearFS:wk,RenderVS:xk,RenderFS:yk,PostprocessVS:zk,PostprocessFS:Ak,ATOM_VS:Ck,ATOM_FS:Dk,BRDF_VS:"",BRDF_FS:Bk}};var Hk={_name:"Shader",GetSourceCode:function(Kk){if(!Ek){Ek=Gk()}var Lk=Hk[Kk];var Mk="";var Nk="";if(Lk.include){var Ok=Lk.include[Fk];if(Ok){for(var Pk=0,Qk=Ok;Pk<Qk.length;Pk++){var Rk=Qk[Pk];Mk+=Ek[Rk+"_VS"];Nk+=Ek[Rk+"_FS"]}}}return[Ek["DeclareVS"]+Mk+Lk.vs_src+Ek[Lk.type+"VS"],Ek["DeclareFS"]+Nk+Lk.fs_src+Ek[Lk.type+"FS"]]}};tk="\nattribute mediump vec3 a_Position;\nattribute mediump vec3 a_Normal;\nattribute mediump vec2 a_UV;\nattribute mediump vec4 a_Color;\nattribute mediump vec4 a_Tangent;\nattribute mediump vec4 a_Object;\nattribute highp mat4 a_MatW;\n\nvarying vec4 v_Object;\n\n/// ����ռ�����ת����ռ�����\nvec3 ObjectToWorldPos(vec3 i_Position)\n{\n    return (a_MatW * vec4(i_Position, 1.0)).xyz;\n}\n\n/// ����ռ�����ת�ü��ռ�����\nvec4 ObjectToClipPos(vec3 i_Position)\n{\n    // GIS�ı任����ֵ������ת��Ϣ��δ����λ����Ϣ�����⾫�Ȳ�����ɻ��涶��\n    // return u_MatVP * u_MatG * a_MatW * vec4(i_Position, 1.0);\n    \n    vec4 mPosition = vec4(i_Position, 1.0);\n    mPosition = u_MatG * a_MatW * mPosition;\n    mPosition.y = mPosition.y - 6378137.0;\n\n    return u_MatVP * mPosition;\n}\n\n/// ����ռ䷨��ת����ռ䷨��\nvec3 ObjectToWorldNormal(vec3 i_Normal)\n{\n    return normalize((u_MatG * a_MatW * vec4(i_Normal, 0.0)).xyz);\n}";uk="\nuniform sampler2D u_MainTex;\nvarying vec4 v_Object;\n\n/// ����2D����\nvec4 Tex2D(sampler2D i_Tex, vec2 i_UV)\n{\n    i_UV.x = fract(i_UV.x);\n    i_UV.y = fract(1.0 - i_UV.y);\n\n    return texture2D(i_Tex, i_UV);\n}";vk="\nvoid main()\n{\n    gl_Position = vs();\n}";wk="\nvoid main()\n{\n    gl_FragColor = fs();\n}";xk="\nvoid main()\n{\n    v_Object = a_Object;\n    \n    gl_Position = vs();\n}";yk="\nvoid main()\n{\n    gl_FragColor = fs();\n    \n    float nAlpha = u_Mark.x;\n    \n    // ��͸�������https://zhuanlan.zhihu.com/p/49164063\n    if(0.01 < nAlpha)\n    {\n        // ���Σ�0-��͸����1-ȫ͸����Ĭ��ֵ0��׷��0.3��͸����\n        nAlpha = 0.3 + 0.7 * v_Object.b;\n        \n        // Gͨ������ɫ�Ҷ��ۼӡ�����֧�ֲ�ɫ͸����\n        gl_FragColor.g = dot(gl_FragColor.rgb, vec3(0.299, 0.587, 0.114));\n        // Rͨ������ϴ����ۼӣ���ֵ1.0����ֵ0.99��Ǹ�������\n        gl_FragColor.r = 1.0 - (0.01 * v_Object.a);        \n        // Bͨ����OPACITY�ۼ�\n        gl_FragColor.b = 1.0 - nAlpha;\n        gl_FragColor.g *= gl_FragColor.b;\n        // Aͨ����ALPHA�۳ˡ���ϣ�Դ����Ϊ0��Ŀ�����Դ\n        gl_FragColor.a = 1.0 - gl_FragColor.b;\n    }\n    // ��͸�����\n    else\n    {\n        // ����������\n        gl_FragColor.a = 1.0 - (0.01 * v_Object.a);\n    }\n}";zk="\nvoid main()\n{\n    gl_Position = vs();\n}";Ak="\nvoid main()\n{\n    gl_FragColor = fs();\n}";Bk='\nconst float PI = 3.14159265358979323846;\n\nconst vec3 baseColor = vec3(0.5, 0.5, 0.5);\nconst float metallic = 0.0;\nconst float subsurface = 0.5; // 0.0\nconst float specular = 0.2;\nconst float roughness = 0.7; //0.5;\nconst float specularTint = 0.0;\nconst float anisotropic = 0.0;\nconst float sheen = 0.0;\nconst float sheenTint = 0.5;\nconst float clearcoat = 0.0;\nconst float clearcoatGloss = 1.0;\n\nfloat sqr(float x) { return x * x; }\n\nfloat SchlickFresnel(float u)\n{\n\tfloat m = clamp(1.0 - u, 0.0, 1.0);\n\tfloat m2 = m * m;\n\treturn m2 * m2 * m; // pow(m,5)\n}\n\nfloat GTR1(float NdotH, float a)\n{\n\tif (a >= 1.0) return 1.0 / PI;\n\tfloat a2 = a * a;\n\tfloat t = 1.0 + (a2 - 1.0) * NdotH * NdotH;\n\treturn (a2 - 1.0) / (PI * log(a2) * t);\n}\n\nfloat GTR2(float NdotH, float a)\n{\n\tfloat a2 = a * a;\n\tfloat t = 1.0 + (a2 - 1.0) * NdotH * NdotH;\n\treturn a2 / (PI * t * t);\n}\n\nfloat GTR2_aniso(float NdotH, float HdotX, float HdotY, float ax, float ay)\n{\n\treturn 1.0 / (PI * ax * ay * sqr(sqr(HdotX / ax) + sqr(HdotY / ay) + NdotH * NdotH));\n}\n\nfloat smithG_GGX(float NdotV, float alphaG)\n{\n\tfloat a = alphaG * alphaG;\n\tfloat b = NdotV * NdotV;\n\treturn 1.0 / (NdotV + sqrt(a + b - a * b));\n}\n\nfloat smithG_GGX_aniso(float NdotV, float VdotX, float VdotY, float ax, float ay)\n{\n\treturn 1.0 / (NdotV + sqrt(sqr(VdotX * ax) + sqr(VdotY * ay) + sqr(NdotV)));\n}\n\nvec3 mon2lin(vec3 x)\n{\n\treturn vec3(pow(x[0], 2.2), pow(x[1], 2.2), pow(x[2], 2.2));\n}\n\nvec3 BRDF(vec3 L, vec3 V, vec3 N, vec3 X, vec3 Y)\n{\n    //x��y����ֱ��ʾ�˱�����������͸�������������\n    //https://www.cnblogs.com/starfallen/p/3572352.html\n\n\tfloat NdotL = dot(N, L);\n\tfloat NdotV = dot(N, V);\n\tif (NdotL < 0.0 || NdotV < 0.0) return vec3(0.0);\n\n\tvec3 H = normalize(L + V);\n\tfloat NdotH = dot(N, H);\n\tfloat LdotH = dot(L, H);\n\n\tvec3 Cdlin = mon2lin(baseColor);\n\tfloat Cdlum = 0.3 * Cdlin[0] + 0.6 * Cdlin[1] + 0.1 * Cdlin[2]; // luminance approx.\n\n\tvec3 Ctint = Cdlum > 0.0 ? Cdlin / Cdlum : vec3(1.0); // normalize lum. to isolate hue+sat\n\tvec3 Cspec0 = mix(specular * 0.08 * mix(vec3(1.0), Ctint, specularTint), Cdlin, metallic);\n\tvec3 Csheen = mix(vec3(1.0), Ctint, sheenTint);\n\n\t// Diffuse fresnel - go from 1 at normal incidence to .5 at grazing\n\t// and mix in diffuse retro-reflection based on roughness\n\tfloat FL = SchlickFresnel(NdotL), FV = SchlickFresnel(NdotV);\n\tfloat Fd90 = 0.5 + 2.0 * LdotH * LdotH * roughness;\n\tfloat Fd = mix(1.0, Fd90, FL) * mix(1.0, Fd90, FV);\n\n\t// Based on Hanrahan-Krueger brdf approximation of isotropic bssrdf\n\t// 1.25 scale is used to (roughly) preserve albedo\n\t// Fss90 used to "flatten" retroreflection based on roughness\n\tfloat Fss90 = LdotH * LdotH * roughness;\n\tfloat Fss = mix(1.0, Fss90, FL) * mix(1.0, Fss90, FV);\n\tfloat ss = 1.25 * (Fss * (1.0 / (NdotL + NdotV) - 0.5) + 0.5);\n\n\t// specular\n\tfloat aspect = sqrt(1.0 - anisotropic * 0.9);\n\tfloat ax = max(0.001, sqr(roughness) / aspect);\n\tfloat ay = max(0.001, sqr(roughness) * aspect);\n\tfloat Ds = GTR2_aniso(NdotH, dot(H, X), dot(H, Y), ax, ay);\n\tfloat FH = SchlickFresnel(LdotH);\n\tvec3 Fs = mix(Cspec0, vec3(1.0), FH);\n\tfloat Gs;\n\tGs = smithG_GGX_aniso(NdotL, dot(L, X), dot(L, Y), ax, ay);\n\tGs *= smithG_GGX_aniso(NdotV, dot(V, X), dot(V, Y), ax, ay);\n\n\t// sheen\n\tvec3 Fsheen = FH * sheen * Csheen;\n\n\t// clearcoat (ior = 1.5 -> F0 = 0.04)\n\tfloat Dr = GTR1(NdotH, mix(0.1, 0.001, clearcoatGloss));\n\tfloat Fr = mix(0.04, 1.0, FH);\n\tfloat Gr = smithG_GGX(NdotL, 0.25) * smithG_GGX(NdotV, 0.25);\n\n\treturn ((1.0 / PI) * mix(Fd, ss, subsurface) * Cdlin + Fsheen) * (1.0 - metallic) + Gs * Fs * Ds + 0.25 * clearcoat * Gr * Fr * Dr;\n}';Ck="\nvarying vec4 v_ViewDir;\nvarying vec4 v_Scattering;\nvarying vec4 v_Attenuate;\n\n//P and ray define the line; O is the sphere's center point\nvec3 CalculateIntersection(vec3 P, vec3 ray, vec3 O, float r)\n{\n\tvec3 PO = O - P;\n\tfloat lPO = length(PO);\n\tfloat B = 2.0 * dot(PO, ray);\n\n\tfloat C = B * B - 4.0 * (lPO * lPO - r * r);\n\tfloat det = sqrt(max(0.0, C));\n\n\tfloat d = 0.5*(B-det);\n\tvec3 intersect = P + d * ray;\n\n\treturn intersect;\n}\n\nvoid Atmosphere(vec3 mLightDir, vec3 mWorldPos)\n{\n    // ����ɢ�䣬���Ӧ�����㣬�����Ӧ�����ڲ�֮�⣬��������Ϊ���뾶���ڲ�뾶�����뾶ӦԶ�����ڲ�뾶\n    //650 nm for red; 570 nm for green; 475 nm for blue\n    vec3 _Wave = vec3(5.602046, 9.473285, 20.49314);\n    vec3 _ESun = vec3(20.0, 20.0, 20.0);\n    vec3 _PlanetPos = vec3(0.0, -6378137.0, 0.0);\n    float _Sealevel = 6378137.0;\n    float _OuterRadius = 6478137.0;\n    float _SampleNum = 5.0;\n    //Rayleigh scattering constant\n    float _Kr = 0.0025;\n    //Mie scattering constant\n    float _Km = 0.001;\n    //the altitude at which the atmosphere's average density is found\n    float _H0 = 0.25;\n\n    vec3 mRay = mWorldPos - u_EyePos.xyz;\n    float nDepth = length(mRay); mRay = mRay / nDepth;\n\n    float nSampleLength = nDepth / _SampleNum;\n    vec3 mSampleRay = mRay * nSampleLength;\n    vec3 mSamplePoint = u_EyePos.xyz + mSampleRay * 0.5;\n    vec3 mInScattering = vec3(0.0, 0.0, 0.0);\n    vec3 mOutScatteringAB = vec3(0.0, 0.0, 0.0);\n    vec3 mOutGroundScatteringAB = vec3(0.0, 0.0, 0.0);\n    float nInvOuterH = 1.0 / (_OuterRadius-_Sealevel);\n\n    for(int i=0; i</*_SampleNum*/5; i++)\n    {\n\t    vec3 mCrossPoint = CalculateIntersection(mSamplePoint, -mLightDir, _PlanetPos, _OuterRadius);\n\t    //AP out scattering\n\t    vec3 mAPRay = (mSamplePoint - u_EyePos.xyz) / _SampleNum;\n\t    float nAPRayLength = length(mAPRay);\n\t    vec3 mSampleAP = u_EyePos.xyz + mAPRay * 0.5;\n\t    vec3 mOutScatteringAP = vec3(0.0, 0.0, 0.0);\n\n\t    for(int m=0; m</*_SampleNum*/5; m++)\n\t    {\n\t\t    mOutScatteringAP += exp(-(length(mSampleAP - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nAPRayLength * nInvOuterH;\n\t\t    mSampleAP += mAPRay;\n\t    }\n\t    mOutScatteringAP = 4.0 * 3.14 * (_Km + _Kr * _Wave) * mOutScatteringAP;\n\n\t    //PC out scattering\n\t    vec3 mPCRay = (mCrossPoint - mSamplePoint) / _SampleNum;\n\t    float nPCRayLength = length(mPCRay);\n\t    vec3 mSamplePC = mSamplePoint + mPCRay*0.5;\n\t    vec3 mOutScatteringPC = vec3(0.0, 0.0, 0.0);\n\n\t    for(int n=0; n</*_SampleNum*/5; n++)\n\t    {\n\t\t    mOutScatteringPC += exp(-(length(mSamplePC - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nPCRayLength * nInvOuterH;\n\t\t    mSamplePC += mPCRay;\n\t    }\n\t    mOutScatteringPC = 4.0 * 3.14 * (_Km + _Kr * _Wave) * mOutScatteringPC;\n\n\t    mInScattering += exp(-(length(mSamplePoint - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nSampleLength * nInvOuterH * exp(-mOutScatteringAP - mOutScatteringPC);\n\t    mSamplePoint+=mSampleRay;\n\t    mOutScatteringAB = mCrossPoint;\n        mOutGroundScatteringAB = mOutScatteringAP + mOutScatteringPC;\n    }\n\n    vec3 mAttenuateGround = exp(-mOutGroundScatteringAB);\n\n    v_ViewDir.xyz = u_EyePos.xyz - mWorldPos;\n    v_Scattering.xyz = mInScattering * _ESun * _Kr * _Wave;\n    v_Attenuate.xyz = mInScattering * _ESun * _Km;\n\n    v_ViewDir.w = mAttenuateGround.x;\n    v_Scattering.w = mAttenuateGround.y;\n    v_Attenuate.w = mAttenuateGround.z;\n\n    //Ground : v_ScatteringR = v_Scattering; v_ScatteringM = v_Attenuate; v_Attenuate = v_AttenuateGround;\n    //v_ViewDir = u_EyePos.xyz - mWorldPos;\n    //v_ScatteringR = mInScattering * _ESun * _Kr * _Wave;\n    //v_ScatteringM = mInScattering * _ESun * _Km;\n    //v_Attenuate = exp(-mOutGroundScatteringAB);\n}";Dk="\nvarying vec4 v_ViewDir;\nvarying vec4 v_Scattering;\nvarying vec4 v_Attenuate;\n\nfloat PhaseRayleigh(float nCostheta)\n{\n\treturn 0.75 * (1.0 + nCostheta * nCostheta);\n}\n\nfloat PhaseMie(float nCostheta, float g, float g2)\n{\n\treturn 1.5 * ((1.0 - g2) / (2.0 + g2)) * (1.0 + nCostheta * nCostheta) / pow(1.0 + g2 - 2.0 * g * nCostheta, 1.5);\n}\n\nvec4 AtmosphereColor(vec4 mColor, vec3 mLightDir)\n{\n    float _G = -0.990;\n    float _G2 = _G * _G;\n    \n    float nCostheta = dot(normalize(v_ViewDir.xyz), mLightDir);\n    float nPhaseMie = PhaseMie(nCostheta, _G, _G2);\n    float nPhaseRayleigh = PhaseRayleigh(nCostheta);\n\t\t\t\t\n    mColor.rgb = v_Scattering.xyz * nPhaseRayleigh + v_Attenuate.xyz * nPhaseMie;\n    mColor.a = mColor.b + 0.35;\n    mColor = clamp(mColor, 0.0, 0.9);\n\n    return mColor;\n}\n\nvec4 AtmosphereLight(vec4 mColor, vec3 mLightDir)\n{\n    // Ground : v_ScatteringR = v_Scattering.xyz; v_ScatteringM = v_Attenuate.xyz; v_Attenuate = v_AttenuateGround;\n    \n    float _G = -0.980;\n    float _G2 = _G * _G;\n    \n    float nCostheta = dot(normalize(v_ViewDir.xyz), mLightDir);\n    float nPhaseMie = PhaseMie(nCostheta, _G, _G2);\n    float nPhaseRayleigh = PhaseRayleigh(nCostheta);\n    \n    mColor.rgb = v_Scattering.xyz * nPhaseRayleigh + v_Attenuate.xyz * nPhaseMie + mColor.rgb * vec3(v_ViewDir.w, v_Scattering.w, v_Attenuate.w)/*v_AttenuateGround*/;\n    \n    return mColor;\n}";return[Hk]});MiaokitMerge(function(Sk){var Tk=undefined;var Uk=true;var Vk=[];var Wk={RGBA32_FLOAT:function(){return true?[Tk["RGBA32F"],Tk.RGBA,Tk.FLOAT]:[Tk.RGBA,Tk.RGBA,Tk.FLOAT]},RGBA16_FLOAT:function(){return true?[Tk["RGBA16F"],Tk.RGBA,Tk["HALF_FLOAT"]]:[Tk.RGBA,Tk.RGBA,36193]},RGBA8:function(){return true?[Tk.RGBA,Tk.RGBA,Tk.UNSIGNED_BYTE]:[Tk.RGBA,Tk.RGBA,Tk.UNSIGNED_BYTE]},D16_UNORM:function(){return true?[Tk["DEPTH_COMPONENT16"],Tk.DEPTH_COMPONENT,Tk.UNSIGNED_SHORT]:[Tk.DEPTH_COMPONENT,Tk.DEPTH_COMPONENT,Tk.UNSIGNED_SHORT]},D24_UNORM:function(){return true?[Tk["DEPTH_COMPONENT24"],Tk.DEPTH_COMPONENT,Tk.UNSIGNED_INT]:[Tk.DEPTH_COMPONENT,Tk.DEPTH_COMPONENT,Tk.UNSIGNED_INT]},D24S8_UNORM:function(){return true?[Tk.DEPTH_STENCIL,Tk.DEPTH_STENCIL,34042]:[Tk.DEPTH_STENCIL,Tk.DEPTH_STENCIL,34042]}};var Xk={Opaque:1,Transparent:2,Outline:4,CastShadow:8,ReceiveShadow:16};var Yk=null;var Zk=["u_Sunlight","u_Picker","u_EyePos","u_MatG","u_MatVP","u_Color","u_MainTex","",""];var $k=[null];var _k=[null];var al=[null];var bl=[null];var cl=[new Int32Array([0,0,0,0]),new Float32Array([0,0,0,0]),new Float32Array([1,0,0,0,1,0,0,0,1]),new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0])];var dl=[function(Jl,Kl,Ll){ql($k[Jl],bl[Kl])},function(Ml,Nl,Ol){rl($k[Ml],bl[Nl])},function(Pl,Ql,Rl){sl($k[Pl],bl[Ql])},function(Sl,Tl,Ul){tl($k[Sl],bl[Tl])},function(Vl,Wl,Xl){var Yl=bl[Wl];var Zl=Yl[1];if(Yl[0]){Zl=Hl.GetTexture(Zl);if(Zl){Yl[0]=0;Yl[1]=Zl}}var $l=Vk[Zl]||nl;if(null===$l){console.log("BindTexture null!");return}Tk.activeTexture(33984+Xl);Tk.bindTexture(3553,$l)},function(_l,am){console.error("Unsupported UniformCubemap!")},null,function(bm,cm,dm){var em=bl[cm];var fm=em[1];if(em[0]){fm=Hl.GetTexture(fm);if(fm){em[0]=0;em[1]=fm}}var gm=Vk[fm]||nl;if(null===gm){console.log("BindTexture null!");return}Tk.activeTexture(33984+dm);Tk.bindTexture(35866,gm)}];var el=[null];var fl=[null];var gl=1280;var hl=720;var il=1;var jl=0;var kl=null;var ll=new Float32Array(4);var ml=[0,0,0,0];var nl=null;var ol=null;var pl=0;function ql(hm,im){if(undefined===hm.mark){Tk.uniform4iv(hm,im)}else if(il!==hm.mark){Tk.uniform4iv(hm,im);hm.mark=il}}function rl(jm,km){if(undefined===jm.mark){Tk.uniform4fv(jm,km)}else if(il!==jm.mark){Tk.uniform4fv(jm,km);jm.mark=il}}function sl(lm,mm){if(undefined===lm.mark){Tk.uniformMatrix3fv(lm,false,mm)}else if(il!==lm.mark){Tk.uniformMatrix3fv(lm,false,mm);lm.mark=il}}function tl(nm,om){if(undefined===nm.mark){Tk.uniformMatrix4fv(nm,false,om)}else if(il!==nm.mark){Tk.uniformMatrix4fv(nm,false,om);nm.mark=il}}function ul(pm,qm){var rm=Tk.createShader(pm);if(!rm){console.error("Could not create shader object!");return null}Tk.shaderSource(rm,qm);Tk.compileShader(rm);if(!Tk.getShaderParameter(rm,Tk.COMPILE_STATUS)){var sm=Tk.getShaderInfoLog(rm);Tk.deleteShader(rm);console.error("Could not compile shader! \n\n"+sm);return null}return rm}function vl(tm){var um=tm.program;var vm=0;{Tk.bindAttribLocation(um,0,"a_Position");Tk.bindAttribLocation(um,1,"a_Normal");Tk.bindAttribLocation(um,2,"a_UV");Tk.bindAttribLocation(um,3,"a_Color");Tk.bindAttribLocation(um,4,"a_Tangent");Tk.bindAttribLocation(um,5,"a_Object");Tk.bindAttribLocation(um,6,"a_MatW")}{Tk.linkProgram(um);if(!Tk.getProgramParameter(um,Tk.LINK_STATUS)){var wm=Tk.getProgramInfoLog(um);console.error("Could not compile program! \n\n"+wm);return 0}}{var xm=Tk.getProgramParameter(um,35718);if(Uk){xm-=6;var ym=Tk["getUniformBlockIndex"](um,"CommonBlock")}var zm=Hl.CreateUniformsDesc(xm);var Am=bl[zm];var Bm={};var Cm=0;Am[19]=al.push(Bm)-1;el[Am[19]]=tm;Tk.useProgram(um);for(var Dm=0;Dm<2;Dm++){var Em=xm+(Uk?6:0);for(var Fm=0;Fm<Em;Fm++){var wm=Tk.getActiveUniform(um,Fm);var Gm=wm.type;if(35678===Gm||35680===Gm||36289===Gm){if(0!==Dm){continue}}else{if(1!==Dm){continue}}var Hm=wm.name;var Im=Tk.getUniformLocation(um,Hm);if(!Im){continue}var Jm=$k.push(Im)-1;for(var Km=0;Km<Zk.length;Km++){if(Hm===Zk[Km]){Am[Km]=Cm;if(5>Km){Im.mark=1}break}}switch(Gm){case 35669:Gm=0;break;case 35666:Gm=1;break;case 35675:Gm=2;break;case 35676:Gm=3;break;case 35678:Gm=4;break;case 35680:Gm=5;break;case 36289:Gm=7;break;default:console.error("Unsupported uniform type:",wm);break}Am[20+Cm]=Jm;Am[20+xm+Cm]=Gm;Bm[Hm]=Cm;_k[Jm]=Hm;if(0===Dm){Tk.uniform1i(Im,Cm)}Cm++}}if(Cm!==xm){console.error("Process uniform cout error!",xm,Cm)}vm=Am[16]}{var Lm=0;if(tm.mark){for(var Mm=0,Nm=tm.mark;Mm<Nm.length;Mm++){var Om=Nm[Mm];Lm|=Xk[Om]}}tm.mode=Lm}return vm}function wl(Pm){if(!Pm){return null}var Qm=Sk.Shader[Pm];if(!Qm){console.error("Could not find shader:",Pm);return null}if(Qm.program){return Qm}var Rm=Sk.Shader.GetSourceCode(Pm);Qm.vs=ul(Tk.VERTEX_SHADER,Rm[0]);if(!Qm.vs){console.error("Could not create vertex shader:",Pm);return null}Qm.fs=ul(Tk.FRAGMENT_SHADER,Rm[1]);if(!Qm.fs){Tk.deleteShader(Qm.vs);Qm.vs=null;console.error("Could not create fragment shader:",Pm);return null}Qm.program=Tk.createProgram();if(!Qm.program){Tk.deleteShader(Qm.vs);Tk.deleteShader(Qm.fs);Qm.vs=null;Qm.fs=null;console.error("Could not create program object!");return null}Tk.attachShader(Qm.program,Qm.vs);Tk.attachShader(Qm.program,Qm.fs);Qm.id=vl(Qm);if(!Qm.id){Tk.deleteProgram(Qm.program);Tk.deleteShader(Qm.vs);Tk.deleteShader(Qm.fs);Qm.program=null;Qm.vs=null;Qm.fs=null}return Qm}function xl(Sm,Tm){var Um=undefined;var Vm=undefined;var Wm=undefined;var Xm=undefined;var Ym=0;function Zm(){var hn=bl[Sm];var jn=bl[Tm];var kn=el[hn[19]];var ln=hn[20];var mn=20+hn[17];Um=kn.program;Vm=al[hn[19]];Wm=hn;Xm=[];Ym=hn[17];var nn=function(wn){var xn=wn;var yn=bl[jn[xn]];var zn=$k[ln+xn];var An=hn[mn+xn];var Bn=[function(){return yn},function(Cn){yn.set(Cn)},undefined];switch(An){case 0:Bn[2]=function(){ql(zn,yn)};break;case 1:Bn[2]=function(){rl(zn,yn)};break;case 2:Bn[2]=function(){sl(zn,yn)};break;case 3:Bn[2]=function(){tl(zn,yn)};break;case 4:Bn[2]=function(){var Dn=yn[1];if(yn[0]){Dn=Hl.GetTexture(Dn);if(Dn){yn[0]=0;yn[1]=Dn}}var En=Vk[Dn]||nl;if(null===En){console.log("BindTexture null!");return}Tk.activeTexture(33984+xn);Tk.bindTexture(3553,En)};break;case 7:Bn[2]=function(){var Fn=yn[1];if(yn[0]){Fn=Hl.GetTexture(Fn);if(Fn){yn[0]=0;yn[1]=Fn}}var Gn=Vk[Fn]||nl;if(null===Gn){console.log("BindTexture null!");return}Tk.activeTexture(33984+xn);Tk.bindTexture(35866,Gn)};break;default:console.error("Unsupported uniform type!",An);break}Xm[xn]=Bn};for(var on=0;on<Ym;on++){nn(on)}if(kn.uniform_values){for(var pn=0,qn=kn.uniform_values;pn<qn.length;pn++){var rn=qn[pn];var sn=Vm[rn[0]];if(undefined!==sn){var tn=hn[mn+sn];if(4===tn||5===tn){var un=Hl.Pipeline["Resource"][rn[1]];var vn=[0,un.Handle,0,0];Xm[sn][1](vn)}}}}return kn.mode}function $m(Hn){if(kl){kl(fl[Tm],Tk)}if(jl!==Sm){Tk.useProgram(Um);jl=Sm;if(ol){Tk["bindBufferBase"](Tk["UNIFORM_BUFFER"],0,ol)}}for(var In=0,Jn=Xm;In<Jn.length;In++){var Kn=Jn[In];Kn[2]()}}function _m(Ln){return Vm[Ln]}function an(Mn){return Xm[Mn][0]()}function bn(Nn){Nn=Wm[Nn];if(-1<Nn){return Xm[Nn][0]()}return null}function cn(On){var Pn=Vm[On];if(undefined!==Pn){return Xm[Pn][0]()}return null}function dn(Qn,Rn){Xm[Qn][1](Rn);if(jl===Sm){Xm[Qn][2]()}}function en(Sn,Tn){Sn=Wm[Sn];if(-1<Sn){Xm[Sn][1](Tn);if(jl===Sm){Xm[Sn][2]()}}}function fn(Un,Vn){var Wn=Vm[Un];if(undefined!==Wn){Xm[Wn][1](Vn);if(jl===Sm){Xm[Wn][2]()}}}function gn(Xn){Xm[Xn][2]()}fl[Tm]=[Zm,$m,_m,an,bn,cn,dn,en,fn,gn];return Zm()}function yl(Yn){{Object.defineProperty(Yn,"Attr",{get:function(){if(!this.Attr_){this.Attr_=fl[this._VarList()]}return this.Attr_}})}{var Zn=function(_n){var ao=_n;Object.defineProperty(Yn,Zk[_n],{get:function(){return this.Attr[4](ao)},set:function(bo){if(bo){this.Attr[7](ao,bo)}}})};for(var $n=0;$n<Zk.length;$n++){Zn($n)}}{}}function zl(co){var eo=Tk.createTexture();if(!eo){console.error("Could not create texture object!");return null}Tk.bindTexture(Tk.TEXTURE_2D,eo);Tk.texParameteri(Tk.TEXTURE_2D,Tk.TEXTURE_MIN_FILTER,Tk.NEAREST);Tk.texParameteri(Tk.TEXTURE_2D,Tk.TEXTURE_MAG_FILTER,Tk.NEAREST);Tk.texParameteri(Tk.TEXTURE_2D,Tk.TEXTURE_WRAP_S,Tk.CLAMP_TO_EDGE);Tk.texParameteri(Tk.TEXTURE_2D,Tk.TEXTURE_WRAP_T,Tk.CLAMP_TO_EDGE);Tk.texImage2D(Tk.TEXTURE_2D,0,Tk.RGBA,1,1,0,Tk.RGBA,Tk.UNSIGNED_BYTE,new Uint8Array(4));var fo=new Image;fo.crossOrigin="anonymous";fo.src=co.URL;fo.onload=function(go){Tk.bindTexture(Tk.TEXTURE_2D,eo);Tk.texImage2D(Tk.TEXTURE_2D,0,Tk.RGBA,Tk.RGBA,Tk.UNSIGNED_BYTE,fo);Tk.bindTexture(Tk.TEXTURE_2D,null)};Tk.bindTexture(Tk.TEXTURE_2D,null);return eo}function Al(ho){var io=Tk.createTexture();if(!io){console.error("Could not create texture object!");return null}Tk.bindTexture(Tk.TEXTURE_2D,io);var jo=ho.Params;Tk.texParameteri(Tk.TEXTURE_2D,Tk.TEXTURE_MAG_FILTER,Tk[jo[1]]);Tk.texParameteri(Tk.TEXTURE_2D,Tk.TEXTURE_MIN_FILTER,Tk[jo[0]]);Tk.texParameteri(Tk.TEXTURE_2D,Tk.TEXTURE_WRAP_S,Tk[jo[2]]);Tk.texParameteri(Tk.TEXTURE_2D,Tk.TEXTURE_WRAP_T,Tk[jo[3]]);var ko=Wk[ho.Format]();Tk.texImage2D(Tk.TEXTURE_2D,ho.Levels,ko[0],ho.Width,ho.Height,0,ko[1],ko[2],null);Tk.bindTexture(Tk.TEXTURE_2D,null);io["_Format"]=ko;return io}function Bl(lo,mo){var no=Tk.createFramebuffer();if(!no){console.error("Could not create framebuffer object!");return null}Tk.bindFramebuffer(Tk.FRAMEBUFFER,no);Tk.framebufferTexture2D(Tk.FRAMEBUFFER,Tk.COLOR_ATTACHMENT0,Tk.TEXTURE_2D,lo,0);if(mo&&mo["_Format"][0]===Tk.DEPTH_STENCIL){Tk.framebufferTexture2D(Tk.FRAMEBUFFER,Tk.DEPTH_STENCIL_ATTACHMENT,Tk.TEXTURE_2D,mo,0)}else{Tk.framebufferTexture2D(Tk.FRAMEBUFFER,Tk.DEPTH_ATTACHMENT,Tk.TEXTURE_2D,mo,0)}if(Tk.FRAMEBUFFER_COMPLETE!=Tk.checkFramebufferStatus(Tk.FRAMEBUFFER)){Tk.deleteFramebuffer(no);console.error("Framebuffer check failed!");return null}return no}var Cl=function(oo){if(Uk){bl[pl][12]=oo;Tk.bindBuffer(Tk["UNIFORM_BUFFER"],ol);Tk.bufferData(Tk["UNIFORM_BUFFER"],bl[pl],Tk.DYNAMIC_DRAW)}};var Dl=null;var El=null;var Fl=null;var Gl=null;var Hl={_name:"ShaderLab",Pipeline:null,Init:function(po){Tk=Sk["GL"]["Ctx"];Vk=Sk["GL"]["_textures"];gl=Tk.canvas.width;hl=Tk.canvas.height;Dl=Sk["GL"]["BindViewport"];El=Sk["GL"]["BindDepth"];Fl=Sk["GL"]["BindBlend"];Gl=Sk["GL"]["BindStencil"];if(Uk){var qo=Tk.createBuffer();if(qo){Tk.bindBuffer(Tk["UNIFORM_BUFFER"],qo);Tk.bufferData(Tk["UNIFORM_BUFFER"],64*3,Tk.DYNAMIC_DRAW);Tk.bindBuffer(Tk["UNIFORM_BUFFER"],null);ol=qo}}this.Pipeline.Init();for(var ro=0,so=this.Pipeline.RenderTarget;ro<so.length;ro++){var to=so[ro];if(to){to.Width=to.Width||gl;to.Height=to.Height||hl;to.Levels=to.Levels||0;to.Params=to.Params||["NEAREST","NEAREST","CLAMP_TO_EDGE","CLAMP_TO_EDGE"];to.Texture=Al(to);to.Handle=Sk["GL"]["RegisterTexture"](to.Texture);to.Size=[1/to.Width,1/to.Height,to.Width,to.Height]}}for(var uo=0,vo=this.Pipeline.Resource;uo<vo.length;uo++){var wo=vo[uo];if(wo){if("2D"===wo.TYPE){wo.Texture=zl(wo);wo.Handle=Sk["GL"]["RegisterTexture"](wo.Texture);if(2===wo.ID){nl=wo.Texture}}}}function xo(Ho){var Io=Ho.RenderTarget;if(Io){var Jo=Hl.Pipeline["RenderTarget"][Io[0]];var Ko=Hl.Pipeline["RenderTarget"][Io[1]];Ho.Framebuffer=Bl(Jo.Texture,Ko?Ko.Texture:null);if(!Ho.Framebuffer){console.log(Ho)}Ho.Framebuffer.width=Jo.Size[2];Ho.Framebuffer.height=Jo.Size[3]}else{Ho.Framebuffer=null}}for(var yo=0,zo=this.Pipeline.Pass;yo<zo.length;yo++){var Ao=zo[yo];if(Ao){if("Clear"===Ao.Type){Ao._Type=2}else{Ao._Type="Render"===Ao.Type?0:1}Ao._Mask=0;for(var Bo=0,Co=Ao.Mask;Bo<Co.length;Bo++){var Do=Co[Bo];Ao._Mask+=Xk[Do]}xo(Ao);if(Ao.Pingpong){for(var Eo=0,Fo=Ao.Pingpong;Eo<Fo.length;Eo++){var Go=Fo[Eo];xo(Go)}}}}},Draw:function(){il++;var Lo=0;var Mo=this.Pipeline.Picker;if(Mo){ml[0]=Mo.x;ml[1]=Tk.canvas.height-Mo.y}else{ml[0]=-10;ml[1]=-10}Cl(0);for(var No=0,Oo=this.Pipeline.Pass;No<Oo.length;No++){var Po=Oo[No];Il.BeginDrawPass();if(Po.Pingpong){for(var Qo=0;Qo<Po.PingpongCount;Qo++){for(var Ro=0;Ro<Po.Pingpong.length;Ro++){Po.Framebuffer=Po.Pingpong[Ro].Framebuffer;Po.SetUniforms=Po.Pingpong[Ro].SetUniforms;this.DrawPass(Po,Hl.DrawPass_)}}}else{this.DrawPass(Po,Hl.DrawPass_)}Il.EndDrawPass(Lo++)}},DrawPass:function(So,To){Tk.bindFramebuffer(Tk.FRAMEBUFFER,So.Framebuffer);Dl(So.Framebuffer,gl,hl);El(So.Depth);Fl(So.Blend,Cl);Gl(So.Stencil);var Uo=So.ClearTarget;if(Uo){var Vo=0;if(Uo.Color){Tk.clearColor(Uo.Color.r,Uo.Color.g,Uo.Color.b,Uo.Color.a);Vo+=Tk.COLOR_BUFFER_BIT}if(undefined!==Uo.Depth){Tk.clearDepth(Uo.Depth);Vo+=Tk.DEPTH_BUFFER_BIT}if(undefined!==Uo.Stencil){Tk.clearStencil(Uo.Stencil);Vo+=Tk.STENCIL_BUFFER_BIT}Tk.clear(Vo)}kl=So.SetUniforms;if(So.Shader){if(!So._Material){So._Material=new Sk["Material"](So.Shader)}So._Material._Bind()}To(So._Type,So._Mask);if(So.Postprocess){So.Postprocess(Tk)}},PreflushBuffer:function(){var Wo=bl.length;var Xo=new Array(Wo);for(var Yo=0;Yo<Wo;Yo++){var Zo=bl[Yo];if(Zo){if("Float32Array"===Zo.constructor.name){Xo[Yo]=Zo.length}else{Xo[Yo]=-Zo.length}bl[Yo]=Zo.byteOffset}}return Xo},FlushBuffer:function($o,_o){Yk=$o;var ap=bl.length;for(var bp=0;bp<ap;bp++){var cp=bl[bp];if(cp){var dp=_o[bp];if(0<dp){bl[bp]=new Float32Array(Yk,cp,dp)}else{bl[bp]=new Int32Array(Yk,cp,-dp)}}}for(var bp=0;bp<ap;bp++){var ep=fl[bp];if(ep){ep[0]()}}Sk["GL"]["FlushHeap"]()},ResizeCanvas:function(fp,gp){},PickObject:function(){var hp=this.Pipeline.Picker;if(hp){Tk.readPixels(hp.x,Tk.canvas.height-hp.y,1,1,Tk.RGBA,Tk.FLOAT,ll);if(0>ll[3]){var ip=Math.ceil(ll[0]*1e4)*8192+Math.ceil(ll[1]*1e4);var jp=Math.ceil(ll[2]*1e4);var kp=this["GetObject"](ip);hp.Feedback(kp,jp)}else{hp.Feedback(null,0)}this.Pipeline.Picker=null}},APP_DO_OPERATORS:[function(lp){var mp=Sk["ShaderLab"]["Pipeline"]["InternalShader"][lp];var np=wl(mp);return np.id},function(op,pp,qp,rp){var sp=null;switch(pp){case 0:sp=new Int32Array(Yk,rp,4);sp.set(cl[0]);break;case 1:sp=new Float32Array(Yk,rp,4);sp.set(cl[1]);break;case 2:sp=new Float32Array(Yk,rp,9);sp.set(cl[2]);break;case 3:sp=new Float32Array(Yk,rp,16);sp.set(cl[3]);break;case 4:sp=new Int32Array(Yk,rp,4);sp.set(cl[4]);break;case 5:sp=new Int32Array(Yk,rp,4);sp.set(cl[5]);break;case 6:sp=new Int32Array(Yk,rp,qp);break;case 7:sp=new Int32Array(Yk,rp,4);sp.set(cl[7]);break;case 8:sp=new Float32Array(Yk,rp,48);pl=op;break;default:console.error("Unsupported uniform type:",pp);break}bl[op]=sp;return op},function(tp,up,vp,wp){dl[tp](up,vp,wp);return 0},function(xp,yp,zp,Ap){var Bp=Sk["WASM"].GetString(Ap);var Cp=bl[xp];var Dp=al[Cp[19]];var Ep=Dp[Bp];return undefined===Ep?0:Ep},function(Fp,Gp){fl[Gp][1](Fp);return 0},function(){Hl.Draw()},xl,null],ExpandMaterial:yl,CreateUniformsDesc:undefined,GetTexture:undefined,DrawPass_:undefined,SetSunlight:undefined};var Il={_name:"Profiler",m_pMsg:"",m_nCycleStart:0,m_nCycleTick:0,m_nBeginCycle:0,m_nTotalCycle:0,m_nBeginScript:0,m_nTotalScript:0,m_nBeginUpdate:0,m_nTotalUpdate:0,m_nBeginDraw:0,m_nTotalDraw:0,m_nBeginMaterial:0,m_nTotalMaterial:0,m_nBeginDrawPass:0,m_nTotalDrawPass:[],BeginCycle:function(){if(0===Il.m_nCycleTick){Il.m_nCycleStart=Sk["Time"]();Il.m_nCycleTick=0;Il.m_nBeginCycle=0;Il.m_nTotalCycle=0;Il.m_nBeginScript=0;Il.m_nTotalScript=0;Il.m_nBeginUpdate=0;Il.m_nTotalUpdate=0;Il.m_nBeginDraw=0;Il.m_nTotalDraw=0;Il.m_nBeginMaterial=0;Il.m_nTotalMaterial=0;Il.m_nBeginDrawPass=0;Il.m_nTotalDrawPass=[]}Il.m_nBeginCycle=Sk["Time"]()},EndCycle:function(){Il.m_nTotalCycle+=Sk["Time"]()-Il.m_nBeginCycle;if(60===++Il.m_nCycleTick){var Hp={"总耗时":Sk["Time"]()-Il.m_nCycleStart,"应用循环":Il.m_nTotalCycle,"脚本逻辑":Il.m_nTotalScript,"场景更新":Il.m_nTotalUpdate,"场景绘制":Il.m_nTotalDraw,"通道绘制":Il.m_nTotalDrawPass};Il.m_pMsg="'开销统计':"+JSON.stringify(Hp);Il.m_nCycleTick=0}},BeginScript:function(){Il.m_nBeginScript=Sk["Time"]()},EndScript:function(){Il.m_nTotalScript+=Sk["Time"]()-Il.m_nBeginScript},BeginUpdate:function(){Il.m_nBeginUpdate=Sk["Time"]()},EndUpdate:function(){Il.m_nTotalUpdate+=Sk["Time"]()-Il.m_nBeginUpdate},BeginDraw:function(){Il.m_nBeginDraw=Sk["Time"]()},EndDraw:function(){Il.m_nTotalDraw+=Sk["Time"]()-Il.m_nBeginDraw},BeginMaterial:function(){Il.m_nBeginMaterial=Sk["Time"]()},EndMaterial:function(){Il.m_nTotalMaterial+=Sk["Time"]()-Il.m_nBeginMaterial},BeginDrawPass:function(){Il.m_nBeginDrawPass=Sk["Time"]()},EndDrawPass:function(Ip){Il.m_nTotalDrawPass[Ip]=(Il.m_nTotalDrawPass[Ip]?Il.m_nTotalDrawPass[Ip]:0)+Sk["Time"]()-Il.m_nBeginDrawPass}};return[Hl,Il]});MiaokitMerge(function(Jp){if("Sisyphus"!==Jp["m_pConfig"]["ENGINE"]){return[]}var Kp=undefined;var Lp=true;function Mp(Sp){Np();Kp=Sp.OnRenderingEvent;Op();var Tp={memory:new WebAssembly.Memory({initial:64*16,maximum:32768}),APP_PLUGIN_TYPE:function(){return 2},APP_MEM_TYPE:function(){return 2},APP_MEM_RESERVE:function(){return 1024},APP_MEM_MALLOC:function(Up){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!");return 0},APP_MEM_FREE:function(Vp){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!")},APP_MEM_BASE:function(){return 64*1024*1024},APP_MEM_GROW:function(Wp){if(Jp["ShaderLab"]){var Xp=Jp["ShaderLab"]["PreflushBuffer"]();Tp["memory"].grow(Wp/64/1024);var Yp=Tp["memory"].buffer;Jp["ShaderLab"]["FlushBuffer"](Yp,Xp)}else{Tp["memory"].grow(Wp/64/1024)}},APP_MEM_RECYCLE:function(Zp){alert("WAMSģ�鲻֧�ֻ����ڴ�!")},UNITY_CREATE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_FREE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_GET:function(){alert("δװ��UNITY��չ!");return 0},UNITY_DO:function(){alert("δװ��UNITY��չ!");return 0}};Object["assign"](Tp,Rp.Export);Sp.OnEngineLoad(Tp)}function Np(){var $p=document.getElementById("unityContainer");var _p=document.createElement("canvas");_p.id="3d";_p.width=$p.offsetWidth;_p.height=$p.offsetHeight;_p.style.width="100%";_p.style.height="100%";_p.style.top="0rem";_p.style.bottom="0rem";_p.style.left="0rem";_p.style.right="0rem";_p.style.position="absolute";_p.style.zIndex="1";$p.appendChild(_p);Rp["CreateContext"](_p,null);Jp["ShaderLab"]["Init"](Rp)}function Op(){if(Lp){Lp=false;Qp()}}function Pp(){Lp=true}function Qp(){if(Lp){return}Jp.Profiler.BeginCycle();Jp.Profiler.BeginScript();Kp(0);Jp.Profiler.EndScript();if(Jp["WASM"]["Update"]){Jp.Profiler.BeginUpdate();Jp["WASM"]["Update"](0);Jp.Profiler.EndUpdate();Jp.Profiler.BeginDraw();Jp["WASM"]["Update"](1);Jp.Profiler.EndDraw()}Jp.Profiler.EndCycle();requestAnimationFrame(Qp)}var Rp=function(){var aq=undefined;var bq=[-1,-1,-1,-1];var cq=[-1,-1,-1];var dq=[-1,-1,-1,-1,-1,-1,-1];var eq=[-1,-1,-1,-1,-1,-1,-1];var fq=[null];var gq=null;var hq=null;var iq=0;var jq=function(){var rq=[null];var sq=[];var tq=[];var uq=0;var vq=0;return{Analyze:function(){return", 'Image':["+uq+","+sq.length+","+vq+","+tq.length+"]"},Get:function(wq){return rq[wq]},CreateImage:function(){var xq=null;if(0<sq.length){xq=sq.pop()}else{uq++;xq=rq.push(new Image)-1}return xq},FreeImage:function(yq){sq.push(yq)},PushBuffer:function(zq){var Aq=null;if(0<tq.length){Aq=tq.pop()}else{vq++;Aq=rq.push(null)-1}rq[Aq]=zq;return Aq},FreeBuffer:function(Bq){rq[Bq]=null;tq.push(Bq)}}}();var kq=function(Cq){var Dq=fq.length;Cq.name=Dq;fq[Dq]=Cq;return Dq};var lq=function(Eq){return fq[Eq]};var mq=function(Fq,Gq){fq[Fq]=Gq};var nq=function(Hq,Iq){hq[Hq>>2]=Iq};var oq=function(Jq){return hq[Jq>>2]};var pq=function(Kq,Lq){return gq.subarray(Kq,Kq+Lq)};var qq={glGenVertexArrays:function(Mq,Nq){var Oq=aq["createVertexArray"]();if(!Oq||1!=Mq){console.error("gl.createVertexArray error!");return}var Pq=kq(Oq);nq(Nq,Pq)},glDeleteVertexArrays:function(Qq,Rq){var Sq=oq(Rq);var Tq=lq(Sq);if(!Tq||1!=Qq){console.error("gl.deleteVertexArray error!");return}aq["deleteVertexArray"](Tq);mq(Sq,null)},glBindVertexArray:function(Uq){aq["bindVertexArray"](lq(Uq))},glVertexAttribPointer:function(Vq,Wq,Xq,Yq,Zq,$q){aq.vertexAttribPointer(Vq,Wq,Xq,!!Yq,Zq,$q)},glEnableVertexAttribArray:function(_q){aq.enableVertexAttribArray(_q)},glVertexAttribDivisor:function(ar,br){aq["vertexAttribDivisor"](ar,br)},glGenTextures:function(cr,dr){var er=aq.createTexture();if(!er||1!=cr){console.error("gl.createTexture error!");return}var fr=kq(er);nq(dr,fr)},glDeleteTextures:function(gr,hr){var ir=oq(hr);var jr=lq(ir);if(!jr||1!=gr){console.error("gl.deleteTexture error!");return}aq.deleteTexture(jr);mq(ir,null)},glActiveTexture:function(kr){aq.activeTexture(kr)},glBindTexture:function(lr,mr){aq.bindTexture(lr,lq(mr))},glTexParameteri:function(nr,or,pr){aq.texParameteri(nr,or,pr)},glTexImage2DObj:function(qr,rr,sr,tr,ur,vr,wr,xr,yr,zr){if(0==zr){var Ar=jq.Get(yr);if(Ar){if(Ar instanceof ArrayBuffer){aq.texImage2D(qr,rr,sr,tr,ur,vr,wr,xr,new Uint8Array(Ar));jq.FreeBuffer(yr)}else{aq.texParameterf(qr,34046,iq);aq.texImage2D(qr,rr,sr,wr,xr,Ar);jq.FreeImage(yr)}}}else{aq.texImage2D(qr,rr,sr,tr,ur,vr,wr,xr,0===yr?new Uint8Array(3):pq(yr,zr))}},glGenBuffers:function(Br,Cr){var Dr=aq.createBuffer();if(!Dr||1!=Br){console.error("gl.createBuffer error!");return}var Er=kq(Dr);nq(Cr,Er)},glDeleteBuffers:function(Fr,Gr){var Hr=oq(Gr);var Ir=lq(Hr);if(!Ir||1!=Fr){console.error("gl.deleteBuffer error!");return}aq.deleteBuffer(Ir);mq(Hr,null)},glBindBuffer:function(Jr,Kr){aq.bindBuffer(Jr,lq(Kr))},glBufferData:function(Lr,Mr,Nr,Or){if(!Nr){aq.bufferData(Lr,Mr,Or)}else{aq.bufferData(Lr,pq(Nr,Mr),Or)}},glBufferSubData:function(Pr,Qr,Rr,Sr){aq.bufferSubData(Pr,Qr,pq(Sr,Rr))},glBlendEquationSeparate:function(Tr,Ur){if(Tr!=dq[1]||Ur!=dq[2]){aq.blendEquationSeparate(Tr,Ur);dq[1]=Tr;dq[2]=Ur}},glBlendFuncSeparate:function(Vr,Wr,Xr,Yr){if(Vr!=dq[3]||Wr!=dq[4]||Xr!=dq[5]||Yr!=dq[6]){aq.blendFuncSeparate(Vr,Wr,Xr,Yr);dq[3]=Vr;dq[4]=Wr;dq[5]=Xr;dq[6]=Yr}},glEnable:function(Zr){aq.enable(Zr)},glDisable:function($r){aq.disable($r)},glDepthFunc:function(_r){aq.depthFunc(_r)},glDepthMask:function(as){aq.depthMask(!!as)},glCullFace:function(bs){aq.cullFace(bs)},glPolygonOffset:function(cs,ds){aq.polygonOffset(cs,ds)},glViewport:function(es,fs,gs,hs){if(gs!=bq[2]||hs!=bq[3]){aq.viewport(es,fs,gs,hs);bq[2]=gs;bq[3]=hs}},glDrawArrays:function(is,js,ks){aq.drawArrays(is,js,ks)},glDrawArraysInstanced:function(ls,ms,ns,os){aq["drawArraysInstanced"](ls,ms,ns,os)},glDrawElements:function(ps,qs,rs,ss){aq.drawElements(ps,qs,rs,ss)},glDrawElementsInstanced:function(ts,us,vs,ws,xs){aq["drawElementsInstanced"](ts,us,vs,ws,xs)}};return{_name:"GL",_textures:fq,Ctx:null,ImageCache:jq,Export:qq,FlushHeap:function(){gq=Jp["WASM"]["HEAPU8"]();hq=Jp["WASM"]["HEAP32"]()},CreateContext:function(ys,zs){zs=zs||{majorVersion:2,minorVersion:0,alpha:0,depth:0,stencil:0,antialias:0,premultipliedAlpha:0,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:0,proxyContextToMainThread:0,renderViaOffscreenBackBuffer:0};if(zs["explicitSwapControl"]){return 0}if(zs["majorVersion"]==1){aq=ys.getContext("webgl",zs)||ys.getContext("experimental-webgl",zs);if(!aq){console.error("create webgl_1 error!");return}var As=aq.getExtension("ANGLE_instanced_arrays");if(As){aq["vertexAttribDivisor"]=function(Js,Ks){As["vertexAttribDivisorANGLE"](Js,Ks)};aq["drawArraysInstanced"]=function(Ls,Ms,Ns,Os){As["drawArraysInstancedANGLE"](Ls,Ms,Ns,Os)};aq["drawElementsInstanced"]=function(Ps,Qs,Rs,Ss,Ts){As["drawElementsInstancedANGLE"](Ps,Qs,Rs,Ss,Ts)}}else{console.error("!ANGLE_instanced_arrays")}var Bs=aq.getExtension("OES_vertex_array_object");if(Bs){aq["createVertexArray"]=function(){return Bs["createVertexArrayOES"]()};aq["deleteVertexArray"]=function(Us){Bs["deleteVertexArrayOES"](Us)};aq["bindVertexArray"]=function(Vs){Bs["bindVertexArrayOES"](Vs)}}else{console.error("!OES_vertex_array_object")}var Cs=["EXT_color_buffer_half_float","OES_texture_half_float","EXT_texture_filter_anisotropic","WEBGL_depth_texture","OES_element_index_uint","EXT_frag_depth","EXT_blend_minmax"];for(var Ds=0,Es=Cs;Ds<Es.length;Ds++){var Fs=Es[Ds];var Gs=aq.getExtension(Fs);if(!Gs){console.error("!"+Fs)}}}else{aq=ys.getContext("webgl2",zs);if(!aq){console.error("create webgl_2 error!");return}var Cs=["EXT_color_buffer_float","EXT_texture_filter_anisotropic"];for(var Hs=0,Is=Cs;Hs<Is.length;Hs++){var Fs=Is[Hs];var Gs=aq.getExtension(Fs);if(!Gs){console.error("!"+Fs)}}}iq=aq.getParameter(34047);Rp.Ctx=aq;return 0},DestroyContext:function(){console.error("!DestroyContext")},GetTextureByHandle:function(Ws){return fq[Ws]},RegisterTexture:function(Xs){return kq(Xs)},BindViewport:function(Ys,Zs,$s){var _s=Ys&&Ys.width||Zs;var at=Ys&&Ys.height||$s;if(_s!=bq[2]||at!=bq[3]){aq.viewport(0,0,_s,at);bq[2]=_s;bq[3]=at}},BindDepth:function(bt){if(bt){var ct=bt.Write;var dt=aq[bt.Func];if(1!=cq[0]){aq.enable(aq.DEPTH_TEST);cq[0]=1}if(ct!=cq[1]){aq.depthMask(ct);cq[1]=ct}if(dt!=cq[2]){aq.depthFunc(dt);cq[2]=dt}}else{if(0!=cq[0]){aq.disable(aq.DEPTH_TEST);cq[0]=0}}},BindBlend:function(et,ft){if(et){var gt=aq[et.ColorFunc];var ht=aq[et.AlphaFunc];var it=aq[et.ColorSrc];var jt=aq[et.ColorDest];var kt=aq[et.AlphaSrc];var lt=aq[et.AlphaDest];if(1!=dq[0]){aq.enable(aq.BLEND);dq[0]=1;ft(1)}aq.blendEquationSeparate(gt,ht);dq[1]=gt;dq[2]=ht;aq.blendFuncSeparate(it,jt,kt,lt);dq[3]=it;dq[4]=jt;dq[5]=kt;dq[6]=lt}else{if(0!=dq[0]){aq.disable(aq.BLEND);dq[0]=0;ft(0)}}},BindStencil:function(mt){if(mt){var nt=aq[mt.Func];var ot=mt.Value;var pt=mt.Mask;var qt=aq[mt.Faild];var rt=aq[mt.ZFaild];var st=aq[mt.Pass];if(1!=eq[0]){aq.enable(aq.STENCIL_TEST);eq[0]=1}if(nt!=eq[1]||ot!=eq[2]||pt!=eq[3]){aq.stencilFunc(nt,ot,pt);eq[1]=nt;eq[2]=ot;eq[3]=pt}if(qt!=eq[4]||rt!=eq[5]||st!=eq[6]){aq.stencilOp(qt,rt,st);eq[4]=qt;eq[5]=rt;eq[6]=st}}else{if(0!=eq[0]){aq.disable(aq.STENCIL_TEST);eq[0]=0}}}}}();Jp["WASM"]=Jp["WASM"]||{};Jp["WASM"]["LoadEngine"]=Mp;Op["_name"]="Start";Pp["_name"]="Stop";return[Rp,Op,Pp]});MiaokitMerge(function(tt){var ut=Date.now();function vt(){return Date.now()-ut}function wt(zt,At){if(At===void 0){At=0}if(2===At){console.warn("Track:",vt(),zt)}else if(2<At){console.error("Track:",vt(),zt)}else{console.info("Track:",vt(),zt)}}function xt(Bt,Ct,Dt){if(Dt===void 0){Dt=undefined}var Et=new XMLHttpRequest;Et.open("GET",Bt,true);Et.responseType="arraybuffer";Et.onprogress=function(Ft){if(0<Ft.total&&Dt){Dt(Ft.loaded/Ft.total)}};Et.onload=function(Gt){if(Et.status==200){Ct(Et.response)}else{Ct(null)}};Et.onerror=function(Ht){wt(Ht,2);Ct(null)};Et.send(null)}function yt(It,Jt,Kt,Lt,Mt,Nt){var Ot=new XMLHttpRequest;Ot.onprogress=function(Pt){if(0<Pt.total&&Mt){Mt(Pt.loaded/Pt.total)}};Ot.onload=function(Qt){if(Ot.status==200){Nt(Ot.response)}else{Nt(null)}Ot=null};Ot.onerror=function(Rt){wt(Rt,2);Nt(null)};Ot.responseType=Jt;Ot.open(It,Kt,true);Ot.send(Lt)}vt["_name"]="Time";wt["_name"]="Track";xt["_name"]="Fetch";yt["_name"]="Request";return[vt,wt,xt,yt]});MiaokitMerge(function(St){if("Unity"!==St["m_pConfig"]["ENGINE"]){return[]}if(!UnityLoader){return[]}var Tt=St["m_pLogo"]||"data:image/png;base64,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";UnityLoader.Progress.Styles.Dark.progressLogoUrl=Tt;UnityLoader.Progress.Styles.Light.progressLogoUrl=Tt;if(UnityLoader.SystemInfo.mobile){UnityLoader.SystemInfo.mobile=false;UnityLoader.downloadJob=function(_t,au){var bu=new XMLHttpRequest;bu.open("GET",au.parameters.url);bu.responseType="arraybuffer";bu.onload=function(){UnityLoader.Compression.decompress(new Uint8Array(bu.response),function(cu){au.complete(cu)})};if(au.parameters.onprogress)bu.addEventListener("progress",au.parameters.onprogress);if(au.parameters.onload)bu.addEventListener("load",au.parameters.onload);bu.send()}}UnityLoader.processWasmFrameworkJob=function(du,eu){var fu=UnityLoader.Job.result(du,"downloadWasmFramework");UnityLoader.loadCode(du,fu,function(gu,hu){du["mainScriptUrlOrBlob"]=hu;if(du.isModularized){UnityLoader[gu]=UnityModule}du["instantiateWasm"]=function(iu,ju){Xt(du,iu["env"]);if(du["wasmBinary"]){WebAssembly.instantiate(du["wasmBinary"],iu).then(function(ku){ju(ku.instance,ku.module)})}else{console.info("MiaokitLoader.InitUnity.instantiateWasm error!")}return{}};UnityLoader[gu](du);eu.complete()},{Module:du,url:du["wasmFrameworkUrl"],isModularized:du.isModularized})};var Ut=null;var Vt=null;var Wt={};function Xt(lu,mu){Object["assign"](mu,{_Init:function(nu,ou){St["WASM"]["m_pMemory"]=St["WASM"]["m_pMemory"]||Vt.Module.wasmMemory;Yt(lu,Wt,nu,ou);Zt(Vt,Wt);Ut.OnEngineLoad(Wt)},_RenderingEvent:function(pu){Ut.OnRenderingEvent(pu)}});St["GL"]=mu}function Yt(qu,ru,su,tu){var uu=St.WASM.GetString(su,tu);var vu=JSON.parse(uu);var wu=function(Au){var Bu=function(){var Cu=Array.prototype.slice.call(arguments);Cu.unshift(Bu["m_nAddr"]);return Bu["m_pFunc"].apply(this,Cu)};Bu["m_pFunc"]=qu[Au.Call];Bu["m_nAddr"]=Au.Addr;ru[Au.Name]=Bu};for(var xu=0,yu=vu.List;xu<yu.length;xu++){var zu=yu[xu];wu(zu)}}function Zt(Du,Eu){Eu["APP_PLUGIN_TYPE"]=function(){return 1};Eu["APP_MEM_TYPE"]=function(){return 1};Eu["memory"]=function(Fu){var Gu=32*1024*1024;var Hu=Fu._memalign(16,Gu);var Iu=Gu-Hu;Fu._free(Hu);var Ju=Fu._memalign(16,Iu+Gu);if(Ju!==Hu){console.error("miaokit.prememory: addr error",Hu,Ju);return}if(Ju+Iu+Gu!==67108864){console.error("miaokit.prememory: addr end error",Ju+Iu+Gu);return}Eu["APP_MEM_RESERVE"]=function(){return Ju};return Fu.wasmMemory}(Vt.Module);Eu["APP_MEM_MALLOC"]=function(Ku){return Vt.Module._memalign(16,Ku)};Eu["APP_MEM_FREE"]=function(Lu){Vt.Module._free(Lu)};Eu["APP_MEM_BASE"]=function(){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Eu["APP_MEM_GROW"]=function(Mu){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Eu["APP_MEM_RECYCLE"]=function(Nu){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0}}function $t(Ou){Ut=Ou;Vt=UnityLoader.instantiate("unityContainer",St["m_pConfig"]["UNITY"])}St["WASM"]=St["WASM"]||{};St["WASM"]["LoadEngine"]=$t;return[]});MiaokitMerge(function(Pu){var Qu=undefined;var Ru=new TextDecoder("utf-8");var Su=new TextEncoder;function Tu(Uu){if(!Qu||Pu["WASM"].m_pMemory.buffer.byteLength!==Qu[0].byteLength){if(!Qu){Qu=[]}Qu[0]=new Int8Array(Pu["WASM"].m_pMemory.buffer);Qu[1]=new Uint8Array(Pu["WASM"].m_pMemory.buffer);Qu[2]=new Int16Array(Pu["WASM"].m_pMemory.buffer);Qu[3]=new Uint16Array(Pu["WASM"].m_pMemory.buffer);Qu[4]=new Int32Array(Pu["WASM"].m_pMemory.buffer);Qu[5]=new Uint32Array(Pu["WASM"].m_pMemory.buffer);Qu[6]=new Float32Array(Pu["WASM"].m_pMemory.buffer);Qu[7]=new Float64Array(Pu["WASM"].m_pMemory.buffer)}return Qu[Uu]}Pu["WASM"]=Pu["WASM"]||{};Pu["WASM"]["HEAP8"]=function(Vu,Wu){if(Vu===void 0){Vu=0}if(Wu===void 0){Wu=0}var Xu=Tu(0);if(Vu&&Wu){return Xu.subarray(Vu,Vu+Wu)}else{return Xu}};Pu["WASM"]["HEAPU8"]=function(Yu,Zu){if(Yu===void 0){Yu=0}if(Zu===void 0){Zu=0}var $u=Tu(1);if(Yu&&Zu){return $u.subarray(Yu,Yu+Zu)}else{return $u}};Pu["WASM"]["HEAP16"]=function(_u,av){if(_u===void 0){_u=0}if(av===void 0){av=0}var bv=Tu(2);if(_u&&av){return bv.subarray(_u/2,(_u+av)/2)}else{return bv}};Pu["WASM"]["HEAPU16"]=function(cv,dv){if(cv===void 0){cv=0}if(dv===void 0){dv=0}var ev=Tu(3);if(cv&&dv){return ev.subarray(cv/2,(cv+dv)/2)}else{return ev}};Pu["WASM"]["HEAP32"]=function(fv,gv,hv){if(fv===void 0){fv=0}if(gv===void 0){gv=0}var iv=Tu(4);if(fv&&gv){if(hv){return iv.slice(fv/4,(fv+gv)/4)}else{return iv.subarray(fv/4,(fv+gv)/4)}}else{return iv}};Pu["WASM"]["HEAPU32"]=function(jv,kv){if(jv===void 0){jv=0}if(kv===void 0){kv=0}var lv=Tu(5);if(jv&&kv){return lv.subarray(jv/4,(jv+kv)/4)}else{return lv}};Pu["WASM"]["HEAPF32"]=function(mv,nv,ov){if(mv===void 0){mv=0}if(nv===void 0){nv=0}var pv=Tu(6);if(mv&&nv){if(ov){return pv.slice(mv/4,(mv+nv)/4)}else{return pv.subarray(mv/4,(mv+nv)/4)}}else{return pv}};Pu["WASM"]["HEAPF64"]=function(qv,rv){if(qv===void 0){qv=0}if(rv===void 0){rv=0}var sv=Tu(7);if(qv&&rv){return sv.subarray(qv/8,(qv+rv)/8)}else{return sv}};Pu["WASM"]["GetString"]=function(tv,uv){if(!uv){var vv=Pu["WASM"].HEAPU8();var wv=tv;while(0!==vv[wv++]);uv=wv-tv-1}var xv=Pu["WASM"].HEAPU8(tv,uv);var yv=Ru.decode(xv);return yv};Pu["WASM"]["SetString"]=function(zv,Av){var Bv=Su.encode(Av);var Cv=Pu["WASM"].HEAPU8(zv,Bv.byteLength);Cv.set(Bv)};Pu["WASM"]["EncodeString"]=function(Dv){return Su.encode(Dv)};Pu["WASM"]["m_pMemory"]=null;return[]});
