var MiaokitModule=function(a,b){var c=this;c["m_pConfigPath"]=b;c["m_pConfig"]={ENGINE:a};c["Merge"](c);c["Preload"]()};var MiaokitMerge=function(d){var e=[];d["Merge"]=d["Merge"]||function(f){for(var g=0,h=e;g<h.length;g++){var i=h[g];var j=i(f);if(j){for(var k=0,l=j;k<l.length;k++){var m=l[k];f[m._name]=m}}}};return function(n){e.push(n)}}(MiaokitModule.prototype);MiaokitMerge(function(o){var p=undefined;var q=undefined;var r={};var s=function(u,v){if(v===void 0){v=undefined}var w=0;this.length=u(-1);this[Symbol.iterator]=function(){return{next:function(){var x=u(w);if(x){var y=p(x);w=v?w+1:y.m_nObject;return{value:y,done:false}}return{value:undefined,done:true}}}}};r["Transform"]=function(z){Object.defineProperty(z,"position",{get:function(){var A=this["_GetPosition"]()/4;var B=o["WASM"].HEAPF32();return{x:B[A],y:B[A+1],z:B[A+2]}},set:function(C){this["_SetPosition"](C.x,C.y,C.z)}});Object.defineProperty(z,"euler",{get:function(){var D=this["_GetEuler"]()/4;var E=o["WASM"].HEAPF32();return{x:E[D],y:E[D+1],z:E[D+2]}},set:function(F){this["_SetEuler"](F.x,F.y,F.z)}});Object.defineProperty(z,"rotation",{get:function(){var G=this["_GetRotation"]()/4;var H=o["WASM"].HEAPF32();return{x:H[G],y:H[G+1],z:H[G+2],w:H[G+3]}},set:function(I){this["_SetRotation"](I.x,I.y,I.z,I.w)}});Object.defineProperty(z,"scale",{get:function(){var J=this["_GetScale"]()/4;var K=o["WASM"].HEAPF32();return{x:K[J],y:K[J+1],z:K[J+2]}},set:function(L){this["_SetScale"](L.x,L.y,L.z)}});Object.defineProperty(z,"localPosition",{get:function(){var M=this["_GetLocalPosition"]()/4;var N=o["WASM"].HEAPF32();return{x:N[M],y:N[M+1],z:N[M+2]}},set:function(O){this["_SetLocalPosition"](O.x,O.y,O.z)}});Object.defineProperty(z,"localEuler",{get:function(){var P=this["_GetLocalEuler"]()/4;var Q=o["WASM"].HEAPF32();return{x:Q[P],y:Q[P+1],z:Q[P+2]}},set:function(R){this["_SetLocalEuler"](R.x,R.y,R.z)}});Object.defineProperty(z,"localRotation",{get:function(){var S=this["_GetLocalRotation"]()/4;var T=o["WASM"].HEAPF32();return{x:T[S],y:T[S+1],z:T[S+2],w:T[S+3]}},set:function(U){this["_SetLocalRotation"](U.x,U.y,U.z,U.w)}});Object.defineProperty(z,"localScale",{get:function(){var V=this["_GetLocalScale"]()/4;var W=o["WASM"].HEAPF32();return{x:W[V],y:W[V+1],z:W[V+2]}},set:function(X){this["_SetLocalScale"](X.x,X.y,X.z)}});Object.defineProperty(z,"right",{get:function(){var Y=this["_GetRight"]()/4;var Z=o["WASM"].HEAPF32();return{x:Z[Y],y:Z[Y+1],z:Z[Y+2]}},set:function($){this["_SetRight"]($.x,$.y,$.z)}});Object.defineProperty(z,"up",{get:function(){var _=this["_GetUp"]()/4;var aa=o["WASM"].HEAPF32();return{x:aa[_],y:aa[_+1],z:aa[_+2]}},set:function(){var ba=this["_SetUp"]()/4;var ca=o["WASM"].HEAPF32();return{x:ca[ba],y:ca[ba+1],z:ca[ba+2]}}});Object.defineProperty(z,"forward",{get:function(){var da=this["_GetForward"]()/4;var ea=o["WASM"].HEAPF32();return{x:ea[da],y:ea[da+1],z:ea[da+2]}},set:function(){var fa=this["_SetForward"]()/4;var ga=o["WASM"].HEAPF32();return{x:ga[fa],y:ga[fa+1],z:ga[fa+2]}}});Object.defineProperty(z,"regionPosition",{get:function(){var ha=this["_GisToWorld"]()/4;var ia=o["WASM"].HEAPF32();return{x:ia[ha],y:ia[ha+1],z:ia[ha+2]}}});z["Rotate"]=function(ja,ka){this["_Rotate"](ja.x,ja.y,ja.z,ka)};z["Rotate2"]=function(la,ma,na){this["_Rotate2"](la.x,la.y,la.z,ma,na)};z["Translate"]=function(oa,pa){this["_Translate"](oa.x,oa.y,oa.z,pa)};z["TransformPoint"]=function(qa){var ra=this["_TransformPoint"](qa.x,qa.y,qa.z)/4;var sa=o["WASM"].HEAPF32();return{x:sa[ra],y:sa[ra+1],z:sa[ra+2]}}};r["GameObject"]=function(ta){Object.defineProperty(ta,"name",{get:function(){if(!this._name){var ua=this._GetName(0);var va=this._GetName(1);this._name=o["WASM"].GetString(va,ua)}return this._name}});Object.defineProperty(ta,"transform",{get:function(){return p(this["_GetTransform"]())}});Object.defineProperty(ta,"mesh",{get:function(){return p(this["_GetMesh"]())},set:function(wa){this["_SetMesh"](wa.m_nObject)}});Object.defineProperty(ta,"children",{get:function(){var xa=this;return new s(function(ya){return xa._IterChild(ya)},true)}});Object.defineProperty(ta,"parent",{get:function(){return p(this["_GetParent"]())}});Object.defineProperty(ta,"data",{get:function(){return p(this["_GetUserData"]())},set:function(za){}});Object.defineProperty(ta,"enableCollider",{set:function(Aa){this["_EnableCollider"](Aa)}});Object.defineProperty(ta,"active",{set:function(Ba){this["_Active"](Ba)}});Object.defineProperty(ta,"highlight",{set:function(Ca){this["_Highlight"](Ca)}});Object.defineProperty(ta,"transparent",{set:function(Da){console.warn("transparent discard!")}});Object.defineProperty(ta,"opacity",{set:function(Ea){this["_Transparent"](Ea)}});ta["Destory"]=function(){this["_Destory"]()};o["GameObject"]=function(){return p(ta._GameObject())}};r["Miaokit"]=function(Fa){Fa["LoadTile"]=function(Ga){var Ha=this["_Malloc"](Ga.byteLength);if(Ha){o["WASM"]["HEAPU8"](Ha,Ga.byteLength).set(new Uint8Array(Ga));var Ia=this["_LoadTile"](Ha,Ga.byteLength);var Ja=p(Ia);return Ja}return null};Fa["Analyze"]=function(Ka){var La=this["_Analyze"]();var Ma=o["WASM"].HEAP32()[La/4];var Na=o["WASM"].GetString(La+4,Ma);try{var Oa=JSON.parse(Na);var Pa=q(Ka).concat(Oa);return Pa}catch(Qa){console.log(Na)}return null};Fa["PickEntity"]=function(Ra){return p(this["_PickEntity"](Ra))};Fa["GetScene"]=function(Sa){return p(this["_GetScene"](Sa))};Fa["LngLatToGis"]=function(Ta,Ua,Va){var Wa=this["_LngLatToGis"](Ta.x,Ta.y,Ua.x,Ua.y,Ua.z,Va)/4;var Xa=o["WASM"].HEAPF32();return{x:Xa[Wa],y:Xa[Wa+1],z:Xa[Wa+2]}};Fa["GisToWorld"]=function(Ya){var Za=this["_GisToWorld"](Ya.x,Ya.y,Ya.z)/4;var $a=o["WASM"].HEAPF32();return{x:$a[Za],y:$a[Za+1],z:$a[Za+2]}};Fa["WorldToScreenPoint"]=function(_a){var ab=this["_WorldToScreenPoint"](_a.x,_a.y,_a.z)/4;var bb=o["WASM"].HEAPF32();return{x:bb[ab],y:bb[ab+1],z:bb[ab+2]}};Fa["ScreenPointToRay"]=function(cb){var db=this["_ScreenPointToRay"](cb.x,cb.y,cb.z)/4;var eb=o["WASM"].HEAPF32();return{m_mOrigin:{x:eb[db],y:eb[db+1],z:eb[db+2]},m_mDirection:{x:eb[db+4],y:eb[db+5],z:eb[db+6]}}};Object.defineProperty(Fa,"camera",{get:function(){return p(this["_GetCamera"]())}});Object.defineProperty(Fa,"cameraMode",{set:function(fb){this["_SetCameraMode"](fb)}});Object.defineProperty(Fa,"fieldOfView",{set:function(gb){this["_FieldOfView"](gb)}});Object.defineProperty(Fa,"gis",{get:function(){if(!this._gis){this._gis=r["Gis"]["g_pIns"]}return this._gis}});Object.defineProperty(Fa,"panoramas",{get:function(){if(!this._panoramas){this._panoramas=r["Panoramas"]["g_pIns"]}return this._panoramas}});Object.defineProperty(Fa,"progress",{get:function(){return this["_GetProgress"]()}})};r["Mesh"]=function(hb){hb["SetVertices"]=function(ib,jb){this["m_aVertex"]=this["m_aVertex"]||[];this["m_aVertex"].push({m_pArray:jb,m_nSlot:this["_SlotLut"][ib],m_nItemSize:this["_SizeLut"][ib]})};hb["SetIndices"]=function(kb,lb,mb){this["m_aIndex"]=this["m_aIndex"]||[];this["m_aIndex"][kb]={m_pArray:lb,m_nItemSize:mb}};hb["Apply"]=function(){var nb=this["m_aVertex"];var ob=this["m_aIndex"];if(!nb||!ob){return}var pb=2+2*nb.length+3*ob.length;var qb=this._CreateBuffer(pb);var rb=o["WASM"]["HEAP32"](qb,pb*4);var sb=0;rb[sb++]=nb.length;rb[sb++]=ob.length;for(var tb=0;tb<nb.length;tb++){rb[sb++]=nb[tb].m_nSlot;rb[sb++]=nb[tb].m_pArray.length/nb[tb].m_nItemSize}for(var tb=0;tb<ob.length;tb++){rb[sb++]=0;rb[sb++]=0;rb[sb++]=ob[tb].m_pArray.length}this._CreateBuffer(0);for(var tb=0;tb<nb.length;tb++){var ub=nb[tb].m_pArray;var vb=this._GetVertexBuffer(tb);var wb=o["WASM"]["HEAPF32"](vb,ub.length*4);wb.set(ub)}for(var tb=0;tb<ob.length;tb++){var ub=ob[tb].m_pArray;var vb=this._GetIndexBuffer(tb);var wb=o["WASM"]["HEAP32"](vb,ub.length*4);wb.set(ub)}this._Apply();this["m_aVertex"]=undefined;this["m_aIndex"]=undefined};hb["_SlotLut"]={position:0,normal:1,uv:2,color:3,tangent:4,uv2:9,uv3:10,uv4:11,uv5:12,uv6:13,uv7:14,uv8:15};hb["_SizeLut"]={position:3,normal:3,uv:2,color:4,tangent:4,uv2:2,uv3:2,uv4:2,uv5:2,uv6:2,uv7:2,uv8:2};Object.defineProperty(hb,"position",{set:function(xb){this.SetVertices("position",xb)}});Object.defineProperty(hb,"normal",{set:function(yb){this.SetVertices("normal",yb)}});Object.defineProperty(hb,"uv",{set:function(zb){this.SetVertices("uv",zb)}});Object.defineProperty(hb,"triangles",{set:function(Ab){this.SetIndices(0,Ab)}});Object.defineProperty(hb,"material",{set:function(Bb){this.SetMaterial(0,Bb)}});o["Mesh"]=function(){return p(hb._Mesh())}};r["Texture2D"]=function(Cb){Cb["SetImageData"]=function(Db){var Eb=this._CreateBuffer(Db.byteLength);if(Eb){o["WASM"]["HEAPU8"](Eb,Db.byteLength).set(new Uint8Array(Db));this._Apply()}};Cb["Load"]=function(Fb){var Gb=this;o["Fetch"](Fb,function(Hb){if(Hb){Gb.SetImageData(Hb)}})};o["Texture2D"]=function(Ib){var Jb=p(Cb._Texture2D());if(Ib){if("string"===typeof Ib){this.Load(Ib)}else{this.SetImageData(Ib)}}return Jb}};r["Material"]=function(Kb){if("Sisyphus"===o["m_pConfig"]["ENGINE"]){o["ShaderLab"].ExpandMaterial(Kb)}Kb["GetTexture"]=function(){return p(this["_GetTexture"]())};Kb["SetTexture"]=function(Lb){this["_SetTexture"](Lb.m_nObject)};o["Material"]=function(Mb){if(Mb===void 0){Mb=undefined}var Nb=null;if(Mb){var Ob=o["ShaderLab"]["Pipeline"]["InternalShader"];var Pb=Ob[0];Ob[0]=Mb;Nb=p(Kb._Material());Ob[0]=Pb}else{Nb=p(Kb._Material())}return Nb}};r["Tile"]=function(Qb){Object.defineProperty(Qb,"scenes",{get:function(){var Rb=this;return new s(function(Sb){return Rb._IterWork(Sb)})}});Object.defineProperty(Qb,"object3D",{get:function(){if(undefined===this._object3D){var Tb=this._GetObject(this.m_nObject);if(0===Tb){this._object3D=null;return null}this._object3D=p(Tb)}return this._object3D}})};r["Scene"]=function(Ub){Ub["GetLayer"]=function(Vb){return p(this["_GetLayer"](Vb))};Object.defineProperty(Ub,"id",{get:function(){if(!this._id){var Wb=this._GetID(0);var Xb=this._GetID(1);this._id=o["WASM"].GetString(Xb,Wb)}return this._id}});Object.defineProperty(Ub,"layers",{get:function(){var Yb=this;return new s(function(Zb){return Yb._IterLayer(Zb)})}});Object.defineProperty(Ub,"object3D",{get:function(){if(undefined===this._object3D){var $b=this._GetObject(this.m_nObject);if(0===$b){this._object3D=null;return null}this._object3D=p($b)}return this._object3D}});Object.defineProperty(Ub,"viewState",{get:function(){return{m_mTarget:{x:0,y:0,z:0},m_nPitch:45,m_nYaw:0,m_nDistance:60,m_mOrthoTarget:{x:0,y:0,z:0},m_nOrthoScaled:0,m_nOrthoRotate:0}}});Object.defineProperty(Ub,"binding",{get:function(){return p(this._GetBinding())}})};r["Layer"]=function(_b){_b["HighlightRoom"]=function(ac,bc){this["_HighlightRoom"](ac.x,ac.y,ac.z,bc)};Object.defineProperty(_b,"id",{get:function(){if(!this._id){var cc=this._GetID(0);var dc=this._GetID(1);this._id=o["WASM"].GetString(dc,cc)}return this._id}});Object.defineProperty(_b,"sites",{get:function(){var ec=this;return new s(function(fc){return ec._IterSite(fc)})}});Object.defineProperty(_b,"object3D",{get:function(){if(undefined===this._object3D){var gc=this._GetObject(this.m_nObject);if(0===gc){this._object3D=null;return null}this._object3D=p(gc)}return this._object3D}});Object.defineProperty(_b,"decorationObject3D",{get:function(){if(undefined===this._decorationObject3D){var hc=this._GetDecorationObject(this.m_nObject);if(0===hc){this._decorationObject3D=null;return null}this._decorationObject3D=p(hc)}return this._decorationObject3D}});Object.defineProperty(_b,"viewState",{get:function(){var ic=this["_GetViewState"]();if(0<ic){var jc=o["WASM"]["HEAPF32"](ic,4*11);var kc=0;return{m_mTarget:{x:jc[kc++],y:jc[kc++],z:jc[kc++]},m_nPitch:jc[kc++],m_nYaw:jc[kc++],m_nDistance:jc[kc++],m_mOrthoTarget:{x:jc[kc++],y:jc[kc++],z:jc[kc++]},m_nOrthoScaled:jc[kc++],m_nOrthoRotate:jc[kc++]}}return null}})};r["Attachment"]=function(lc){Object.defineProperty(lc,"entityType",{get:function(){return this._GetEntityType()}});Object.defineProperty(lc,"secondType",{get:function(){return this._GetSecondType()}});Object.defineProperty(lc,"flag",{get:function(){return this._GetFlag()}});Object.defineProperty(lc,"object3D",{get:function(){return p(this._GetObject())}});Object.defineProperty(lc,"viewState",{get:function(){var mc=this["_GetViewState"]();if(0<mc){var nc=o["WASM"]["HEAPF32"](mc,4*11);var oc=0;var pc={m_mTarget:{x:nc[oc++],y:nc[oc++],z:nc[oc++]},m_nPitch:nc[oc++],m_nYaw:nc[oc++],m_nDistance:nc[oc++],m_mOrthoTarget:{x:nc[oc++],y:nc[oc++],z:nc[oc++]},m_nOrthoScaled:nc[oc++],m_nOrthoRotate:nc[oc++]};console.log("attachment view:",pc);return pc}else{console.log("attachment view: null")}return null}})};r["Site"]=function(qc){Object.defineProperty(qc,"id",{get:function(){if(!this._id){var rc=this._GetID(0);var sc=this._GetID(1);this._id=o["WASM"].GetString(sc,rc)}return this._id}});Object.defineProperty(qc,"layer",{get:function(){return p(this["_Layer"]())}});Object.defineProperty(qc,"scene",{get:function(){return p(this["_Scene"]())}});Object.defineProperty(qc,"type",{get:function(){return this["_Type"]()}});Object.defineProperty(qc,"number",{get:function(){return this["_Number"]()}});Object.defineProperty(qc,"position",{get:function(){var tc=this["_Position"]()/4;var uc=o["WASM"].HEAPF32();return{x:uc[tc],y:uc[tc+1],z:uc[tc+2]}}})};r["Prefab"]=function(vc){vc["Instantiate"]=function(){return p(this["_Instantiate"]())};o["LoadPrefab"]=function(wc,xc){o["Fetch"](wc,function(yc){var zc=null;if(yc){var Ac=vc._Prefab();var Bc=p(Ac);var Cc=Bc.CreateBuffer(yc.byteLength);if(Cc){o["WASM"]["HEAPU8"](Cc,yc.byteLength).set(new Uint8Array(yc));Bc.Apply();zc=Bc}}xc(zc)})}};r["Gis"]=function(Dc){Dc["Update"]=function(Ec,Fc,Gc){return this["_Update"](Ec,Fc,Gc)};Dc["AddSvetile"]=function(Hc){var Ic=o["WASM"]["EncodeString"](Hc.m_pUrl);var Jc=this["_CreateSvetileDesc"](Ic.byteLength);var Kc=o["WASM"]["HEAPU32"](Jc,4*8);Kc[0]=Hc.m_nID;Kc[1]=Hc.m_nFlags;o["WASM"]["HEAPU8"](Kc[2],Ic.byteLength).set(Ic,0);Kc[3]=0;Kc[4]=o["WASM"]["RegisterDelegate"](function(Mc,Nc){Hc.OnActive(p(Mc),0<Nc)});var Lc=o["WASM"]["HEAPF32"](Jc+20,16);Lc[0]=Hc.m_mLngLat.x;Lc[1]=Hc.m_mLngLat.y;Lc[2]=Hc.m_mSize.x;Lc[3]=Hc.m_mSize.y;this["_AddSvetile"](Jc)};Dc["AddMapbox"]=function(Oc){var Pc=this["_GetMapboxDesc"]();var Qc=o["WASM"]["HEAPF32"](Pc,40);Qc[0]=Oc.m_mOffset.x;Qc[1]=Oc.m_mOffset.y;Qc[2]=Oc.m_mOffset.z;Qc[3]=Oc.m_mScale.x;Qc[4]=Oc.m_mScale.y;Qc[5]=Oc.m_mScale.z;Qc[6]=Oc.m_mLngLat.x;Qc[7]=Oc.m_mLngLat.y;Qc[8]=Oc.m_mSize.x;Qc[9]=Oc.m_mSize.y;this["_AddMapbox"](Pc)};Dc["AddGameObject"]=function(Rc,Sc,Tc,Uc){this["_AddGameObject"](Rc.m_nObject,Sc,Tc,Uc)};Object.defineProperty(Dc,"terrainServer",{set:function(Vc){if(!Vc){Vc="https://t%d.tianditu.gov.cn/DEM/DataServer?T=ele_c&tk=3d26628c3a0e2694fecfbbb983ff7d87&x=%d&y=%d&l=%d"}var Wc=this["_GetServer"](0);o["WASM"].SetString(Wc,Vc)}});Object.defineProperty(Dc,"imageServer",{set:function(Xc){if(!Xc){Xc="http://t%d.tianditu.gov.cn/DataServer?T=img_c&tk=3d26628c3a0e2694fecfbbb983ff7d87&x=%d&y=%d&l=%d"}var Yc=this["_GetServer"](1);o["WASM"].SetString(Yc,Xc)}});Object.defineProperty(Dc,"labelServer",{set:function(Zc){if(!Zc){Zc="http://t%d.tianditu.gov.cn/DataServer?T=cia_c&tk=3d26628c3a0e2694fecfbbb983ff7d87&x=%d&y=%d&l=%d"}var $c=this["_GetServer"](2);o["WASM"].SetString($c,Zc)}})};r["Panoramas"]=function(_c){var ad=null;var bd=function(cd){var dd=o["GL"]["ImageCache"];var ed=null;var fd=null;var gd=null;var hd=0;var id=90;var jd=function(pd,qd){var rd=0;var sd=pd.m_pPath;var td=["r","f","l","b","d","u"];for(var ud=0;ud<6;ud++){for(var vd=0;vd<2;vd++){var wd=function(yd){var zd=ud;var Ad=1;var Bd=vd;var Cd=yd;var Dd=dd.CreateImage();var Ed=dd.Get(Dd);var Fd=sd+"l"+Ad+"_"+td[zd]+"_0"+(1+Bd)+"_0"+(2-Cd)+".jpg";Ed.crossOrigin="anonymous";Ed.src=Fd;Ed.onload=function(Gd){if(1===pd.m_nState){cd["_SetImage"](zd,Ad,Bd,Cd,Dd);if(24===++rd){qd()}}}};for(var xd=0;xd<2;xd++){wd(xd)}}}};var kd=function(Hd,Id){ad=Hd;fd=Id;ed={m_mTarget:{x:Id.m_mTarget.x,y:Id.m_mTarget.y,z:Id.m_mTarget.z},m_nDistance:Id.m_nDistance,m_nPitch:Id.m_nPitch,m_nYaw:Id.m_nYaw,m_nField:Id.m_nField};Hd.m_nState=1;if(!Hd.m_mGisPos){Hd.m_mGisPos=o.Miaokit.LngLatToGis(Hd.m_mLngLat,Hd.m_nOffset,Hd.m_nHeight)}cd["_Open"](Hd.m_mGisPos.x,Hd.m_mGisPos.y,Hd.m_mGisPos.z);jd(Hd,function(){nd(Hd)})};var ld=function(){if(gd){if(id>hd){var Jd=++hd/id;var Kd=fd.m_mTarget;var Ld=gd.m_mTarget;var Md={x:0,y:0,z:0};var Nd=0;var Od=0;var Pd=0;Md.x=Kd.x+(Ld.x-Kd.x)*Jd;Md.y=Kd.y+(Ld.y-Kd.y)*Jd;Md.z=Kd.z+(Ld.z-Kd.z)*Jd;Nd=fd.m_nDistance+(gd.m_nDistance-fd.m_nDistance)*Jd;Od=fd.m_nPitch+(gd.m_nPitch-fd.m_nPitch)*Jd;Pd=fd.m_nYaw+(gd.m_nYaw-fd.m_nYaw)*Jd;if(-90>Od){Od=180-Od}if(2===ad.m_nState||5===ad.m_nState){o.Miaokit.fieldOfView=fd.m_nField+(gd.m_nField-fd.m_nField)*Jd}fd.m_pTransform.position={x:0,y:0,z:0};fd.m_pTransform.euler={x:0,y:0,z:0};fd.m_pTransform.Rotate2({x:1,y:0,z:0},Od,1);fd.m_pTransform.Rotate2({x:0,y:1,z:0},Pd,0);fd.m_pTransform.position=Md;fd.m_pTransform.Translate(o.Vector3.Scale(-Nd,{x:0,y:0,z:1}),1);if(id===hd){fd.m_mTarget=Md;fd.m_nDistance=Nd;fd.m_nPitch=Od;fd.m_nYaw=Pd;fd.m_nField=gd.m_nField;if(2===ad.m_nState){ad.m_nState=3;gd.m_nDistance=0;gd.m_nPitch=0;gd.m_nYaw=0;gd.m_nField=105;hd=0;id=90}else if(3===ad.m_nState){ad.m_nState=4}else if(5===ad.m_nState){ad.m_nState=0;ad=null;ed=null;fd=null;gd=null}}}}};var md=function(Qd,Rd,Sd,Td){if(!ad||4!==ad.m_nState){return}var Ud=gd.m_nPitch;var Vd=gd.m_nYaw;Vd+=Qd/Sd*90;Ud-=Rd/Td*90;if(-90>Ud){Ud=-90}if(90<Ud){Ud=90}gd.m_nPitch=Ud;gd.m_nYaw=Vd;hd=0;id=1};var nd=function(Wd){Wd.m_nState=2;gd={m_mTarget:cd.Position(Wd),m_nDistance:60,m_nPitch:90,m_nYaw:180,m_nField:105};hd=0;id=90};var od=function(){ad.m_nState=5;gd={m_mTarget:{x:ed.m_mTarget.x,y:ed.m_mTarget.y,z:ed.m_mTarget.z},m_nDistance:ed.m_nDistance,m_nPitch:ed.m_nPitch,m_nYaw:ed.m_nYaw,m_nField:ed.m_nField};hd=0;id=60};return{Open:kd,Update:ld,Rotate:md,Close:od}}(_c);_c["Open"]=function(Xd,Yd){bd.Open(Xd,Yd)};_c["Update"]=function(){bd.Update()};_c["Rotate"]=function(Zd,$d,_d,ae){bd.Rotate(Zd,$d,_d,ae)};_c["Close"]=function(){bd.Close()};Object.defineProperty(_c,"panor",{get:function(){return ad}});_c["Position"]=function(be){if(!be.m_mGisPos){be.m_mGisPos=o.Miaokit.LngLatToGis(be.m_mLngLat,be.m_nOffset,be.m_nHeight)}be.m_mPosition=o.Miaokit.GisToWorld(be.m_mGisPos);return be.m_mPosition};_c["ScreenPoint"]=function(ce){if(!ce.m_mGisPos){ce.m_mGisPos=o.Miaokit.LngLatToGis(ce.m_mLngLat,ce.m_nOffset,ce.m_nHeight)}var de=o.Miaokit.GisToWorld(ce.m_mGisPos);var ee=o.Miaokit.WorldToScreenPoint(de);return ee}};r["Dioramas3MX"]=function(fe){fe["_Load3MX"]=function(ge,he,ie){var je=this;var ke=je.m_pFileLut[ge];var le=ke.m_pPath+ke.m_aFile[he];o["Request"]("GET","arraybuffer",le,null,null,function(me){if(!me){return}var ne=new Uint32Array(me,0,2);if(1113083187===ne[0]){var oe=ne[1]>>8;var pe=9+oe;var qe=me.byteLength-pe;var re=new Uint8Array(me,9,oe);var se=je.m_pTextDecoder.decode(re);var te=JSON.parse(se);var ue={m_pPath:le.substring(0,le.lastIndexOf("/")+1),m_aFile:[]};var ve=[];var we=[];var xe=te.resources;var ye=0;for(var ze=0;ze<xe.length;ze++){ve.push(ze);if("textureBuffer"===xe[ze].type){ve.push(0);we.push(ze);if("jpg"===xe[ze].format){ve.push(0)}else if("png"===xe[ze].format){ve.push(1)}else{ve.push(1e4)}}else if("geometryBuffer"===xe[ze].type){ve.push(1);if("ctm"===xe[ze].format){ve.push(0)}else{ve.push(1e4)}}else{ve.push(1e4);ve.push(1e4)}ve.push(xe[ze].size);ve.push(ye);ye+=xe[ze].size;ve.push(1e4);if(xe[ze].texture){for(var Ae=0;Ae<xe.length;Ae++){if(xe[ze].texture===xe[Ae].id){ve[ve.length-1]=Ae;break}}}}var Be=[];var Ce=te.nodes;for(var ze=0;ze<Ce.length;ze++){var De=Ce[ze];var Ee=De.bbMax[0]-De.bbMin[0];var Fe=De.bbMax[1]-De.bbMin[1];var Ge=De.bbMax[2]-De.bbMin[2];var He=Math.sqrt(Ee*Ee+Fe*Fe+Ge*Ge);Be.push(Math.floor(parseInt(De.bbMin[0]+De.bbMax[0])*.5*100));Be.push(Math.floor(parseInt(De.bbMin[1]+De.bbMax[1])*.5*100));Be.push(Math.floor(parseInt(De.bbMin[2]+De.bbMax[2])*.5*100));Be.push(Math.floor(He*100));Be.push(Math.floor(De.maxScreenDiameter));var Ie=De.children?De.children.length:0;if(0<Ie){Be.push(ue.m_aFile.length);for(var Ae=0;Ae<Ie;Ae++){ue.m_aFile.push(De.children[Ae])}Be.push(ue.m_aFile.length)}else{Be.push(-1);Be.push(-1)}var Je=De.resources?De.resources.length:0;if(0<Je){Be.push(we.length);for(var Ae=0;Ae<Je;Ae++){for(var Ke=0;Ke<xe.length;Ke++){if(De.resources[Ae]===xe[Ke].id){we.push(Ke);break}}}Be.push(we.length)}else{Be.push(-1);Be.push(-1)}}var Le=4+9*Ce.length+6*we.length;var Me=4*Le;var Ne=Me+qe;var Oe=je["_CreateBuffer"](Ne);if(Oe){var Pe=o["WASM"]["HEAP32"](Oe,Me);Pe[0]=Me;Pe[1]=Ce.length;Pe[2]=we.length;Pe[3]=je.m_pFileLut.length;Pe.set(Be,4);var Qe=4+Be.length;for(var ze=0;ze<we.length;ze++){var Re=6*we[ze];for(var Ae=0;Ae<6;Ae++){Pe[Qe++]=ve[Re++]}}var Se=o["WASM"]["HEAPU8"](Oe+Me,qe);Se.set(new Uint8Array(me,pe,qe));je["_Dispose"](ie)}je.m_pFileLut.push(ue)}})};fe["Update"]=function(){return this["_Update"]()};fe["Deplanation"]=function(Te){return this["_Deplanation"](Te.x,Te.y,Te.z)};fe["Recover"]=function(){return this["_Recover"]()};fe["GetHeightMap"]=function(){var Ue=this["_GetHeightMap"]();var Ve=o["WASM"]["HEAPF32"](Ue,8);var We=4*Math.floor(Ve[0])*Math.floor(Ve[1]);var Xe=o["WASM"]["HEAP8"](Ue,We);return Xe};Object.defineProperty(fe,"object3D",{get:function(){return p(this["_GetObject"]())}});o["Dioramas3MX"]=function(Ye,Ze,$e){var _e=p(fe._Dioramas3MX());_e.m_pFileLut=[];_e.m_pTextDecoder=new TextDecoder("utf-8");if($e){if($e.m_pGis){$e.m_pGis.AddGameObject(_e.object3D,$e.m_mLngLat.x,$e.m_mLngLat.y,$e.m_nHeight);_e.object3D.transform.Translate($e.m_mOffset,1);_e.object3D.transform.Rotate({x:0,y:0,z:0},1)}}o["Request"]("GET","json",Ye,null,null,function(af){_e["m_pMeta"]=af;var bf={m_pPath:Ye.substring(0,Ye.lastIndexOf("/")+1),m_aFile:[]};var cf=[0];for(var df=0;df<af.layers.length;df++){if("meshPyramid"===af.layers[df].type){cf.push(df);cf.push(bf.m_aFile.length);bf.m_aFile.push(af.layers[df].root)}}cf[0]=bf.m_aFile.length;var ef=_e["_CreateBuffer"](4*cf.length);var ff=o["WASM"]["HEAP32"](ef,4*cf.length);ff.set(cf);_e["_Initialize"](ef);if(Ze){o["Fetch"](Ze,function(gf){if(gf){ef=_e["_CreateBuffer"](gf.byteLength);ff=o["WASM"]["HEAP8"](ef,gf.byteLength);ff.set(new Int8Array(gf));_e["_SetHeightMap"](ef)}})}_e.m_pFileLut.push(bf)});return _e}};function t(hf,jf,kf){p=jf;q=kf;for(var lf=0,mf=hf;lf<mf.length;lf++){var nf=mf[lf];if(nf){var of=nf.prototype;if(r[of._type_name]){r[of._type_name](of)}if("Miaokit"===of._type_name){o["Miaokit"]=new nf(0,0)}else if("Gis"===of._type_name){r["Gis"]["g_pIns"]=new nf(0,0)}else if("Panoramas"===of._type_name){r["Panoramas"]["g_pIns"]=new nf(0,0)}}}}o["WASM"]=o["WASM"]||{};o["WASM"]["LoadClass"]=t;return[]});MiaokitMerge(function(pf){pf["m_pLogo"]=null;var qf=undefined;var rf=false;var sf=false;function tf(){pf["Track"]("Preload");pf["Request"]("GET","json",pf["m_pConfigPath"],null,null,function(wf){if(!wf){pf["Track"]("配置文件错误！",3);return}pf["m_pConfig"]=wf;pf["Fetch"](wf.MODULE,function(zf){if(qf){qf(zf)}else{qf=zf}});if(wf.SVE){var xf=function(Af){var Bf=wf.SVE[Af];Bf.m_pData=null;Bf.m_pTile=null;if(true===Bf.m_bPreload){pf["Fetch"](Bf.m_pProject,function(Cf){Bf.m_pData=Cf;if(sf&&Cf){Bf.m_pTile=pf["Miaokit"]["LoadTile"](Bf.m_pData);Bf.m_pData=null;pf["App"]["ActiveTile"](Bf)}})}};for(var yf=0;yf<wf.SVE.length;yf++){xf(yf)}}if(pf["App"]&&pf["App"].m_pProject){pf["App"]["Preload"]()}else{rf=true}})}function uf(Df,Ef){pf["Track"]("LoadEngine");if(rf){pf["App"]["Preload"]();rf=false}pf["WASM"]["LoadEngine"]({OnEngineLoad:function(Ff){pf["Track"]("LoadEngine End");if(qf){pf["Track"]("LoadMiaokit");pf["WASM"]["LoadMiaokit"](qf,Ff,function(){Df();sf=true;vf()})}else{pf["Track"]("LoadMiaokit Delay");qf=function(Gf){pf["Track"]("LoadMiaokit");pf["WASM"]["LoadMiaokit"](Gf,Ff,function(){Df();sf=true;vf()})}}},OnRenderingEvent:function(Hf){if(sf){Ef(Hf)}}})}function vf(){pf["Track"]("LoadMiaokit End");var If=pf["m_pConfig"]["SVE"];if(If){for(var Jf=0,Kf=If;Jf<Kf.length;Jf++){var Lf=Kf[Jf];if(true===Lf.m_bPreload){if(null===Lf.m_pTile&&null!==Lf.m_pData){Lf.m_pTile=pf["Miaokit"]["LoadTile"](Lf.m_pData);Lf.m_pData=null;pf["App"]["ActiveTile"](Lf)}}}}}tf["_name"]="Preload";uf["_name"]="Load";return[tf,uf]});MiaokitMerge(function(Mf){var Nf=function(){function Pf(){}Pf.Clamp=function(Qf,Rf,Sf){if(Qf>Sf){return Sf}if(Qf<Rf){return Rf}return Qf};return Pf}();var Of=function(){function Tf(Uf,Vf,Wf){this.x=0;this.y=0;this.z=0;this.x=Uf;this.y=Vf;this.z=Wf}Tf.Scale=function(Xf,Yf){return{x:Yf.x*Xf,y:Yf.y*Xf,z:Yf.z*Xf}};return Tf}();Nf["_name"]="Mathf";Of["_name"]="Vector3";return[Nf,Of]});MiaokitMerge(function(Zf){var $f=null;var _f=null;var ag=null;var bg=[null];var cg=null;var dg=[null];var eg=1;var fg=0;var gg=[undefined];var hg=null;var ig=null;function jg(tg){tg["isnanf"]=isNaN;tg["isinff"]=isFinite;tg["powf"]=Math.pow;tg["sqrtf"]=Math.sqrt;tg["expf"]=Math.exp;tg["logf"]=Math.log;tg["floorf"]=Math.floor;tg["ceilf"]=Math.ceil;tg["sinf"]=Math.sin;tg["cosf"]=Math.cos;tg["tanf"]=Math.tan;tg["asinf"]=Math.asin;tg["acosf"]=Math.acos;tg["atanf"]=Math.atan;tg["atan2f"]=Math.atan2;tg["ldexpf"]=function(ug,vg){return ug*Math.pow(2,vg)}}function kg(wg){function xg(Hg){var Ig=Zf["WASM"].GetString(Hg);if(!Ig.startsWith("http")){Ig="./data/projects/sve/"+Ig}if(Ig.endsWith("assetbundle")){Ig+=".bin"}return Ig}function yg(Jg,Kg,Lg,Mg,Ng){var Og=xg(Jg);var Pg=$f.get(Lg);var Qg=$f.get(Mg);Zf["Fetch"](Og,function(Rg){if(Rg){var Sg=Pg(Kg,Rg.byteLength,Ng);if(Sg){Zf["WASM"]["HEAPU8"](Sg,Rg.byteLength).set(new Uint8Array(Rg))}}else{console.error("资源丢失:",Og)}Qg(Kg,Ng)})}function zg(Tg,Ug,Vg,Wg,Xg){var Yg=xg(Tg);var Zg=$f.get(Vg);var $g=cg.CreateImage();var _g=cg.Get($g);_g.crossOrigin="anonymous";_g.src=Yg;_g.onload=function(ah){Zg(Ug,$g,Xg)}}function Ag(bh,ch,dh,eh,fh){yg(bh,ch,dh,eh,fh)}function Bg(gh,hh,ih,jh,kh){hg["LoadTerrain"](gh,hh,ih,jh,kh)}function Cg(lh,mh,nh,oh,ph){var qh=Zf["WASM"]["HEAP32"](lh,16);hg["LoadBlockbox"](mh,qh[0],qh[1],qh[2],qh[3],nh,oh)}function Dg(rh,sh){var th=Zf["WASM"]["HEAP32"](rh,12);hg["Load3MX"](th[0],th[1],th[2],sh)}function Eg(uh,vh,wh,xh,yh){yg(uh,vh,wh,xh,yh)}function Fg(zh,Ah,Bh,Ch){var Dh=$f.get(Ch);var Eh=Zf["WASM"]["HEAP8"](Bh,Ah);var Fh=new Blob([Eh]);var Gh=window.URL.createObjectURL(Fh);var Hh=cg.CreateImage();var Ih=cg.Get(Hh);Ih.src=Gh;Ih.onload=function(Jh){Dh(zh,Hh);window.URL.revokeObjectURL(Gh)}}var Gg=[undefined,yg,zg,Ag,Bg,Cg,Dg,Eg,Fg];wg["APP_LOAD"]=function(Kh,Lh,Mh,Nh,Oh,Ph){Gg[Kh](Lh,Mh,Nh,Oh,Ph)}}function lg(Qh){var Rh={NaN:NaN,Infinity:Infinity};jg(Qh);kg(Qh);Qh["APP_DYNAMIC_LINK"]=function(Sh,Th){var Uh=Zf["WASM"]["HEAPU32"](Sh,Th);var Vh=Uh[0];var Wh=Uh[1];for(var Xh=0;Xh<Vh;Xh++){var Yh=Uh[2+Xh]-1;var Zh=Uh[Wh++];var $h=Uh[Wh++];var _h=Zf["WASM"].GetString(Zh,$h);var ai=JSON.parse(_h);var bi=function(fi,gi){this["m_nID"]=fi;this["m_nObject"]=gi};var ci=bi.prototype;ci["_type_name"]=ai[0];ci["_type_id"]=Xh+1;ci["_ins_count"]=0;gg[Xh+1]=bi;var di=function(hi){var ii=$f.get(Uh[Wh++]);Wh++;var ji=function(){var ki=Array.prototype.slice.call(arguments);ki.unshift(this.m_nObject);return ii.apply(this,ki)};if(0===hi){ci["_"+ai[hi]]=ji}else{ci[ai[hi]]=ji}};for(var ei=0;ei<Yh;ei++){di(ei)}}Zf["WASM"]["LoadClass"](gg,ng,qg);Zf["Miaokit"]["ResizeCavans"]=function(li,mi){if(ag.SE_RESIZE){ag.SE_RESIZE(li,mi)}}};Qh["APP_PRINT"]=function(ni,oi,pi){var qi=Zf["WASM"].GetString(ni,oi);Zf["Track"](qi,pi)};Qh["APP_DO_ACTION"]=function(ri,si,ti,ui){bg[ri](si,ti,ui)};Qh["APP_CREATE_OBJ"]=function(vi,wi){var xi=og();var yi=new gg[vi](xi,wi);dg[xi]=yi;gg[vi].prototype._ins_count++;return xi};Qh["APP_FREE_OBJ"]=function(zi){var Ai=dg[zi];gg[Ai._type_id].prototype._ins_count--;pg(zi)};ig=Zf["ShaderLab"].APP_DO_OPERATORS;ig[7]=function(Bi,Ci){if(0===Bi){cg.FreeImage(Ci)}else if(1===Bi){cg.FreeBuffer(Ci)}return 0};Qh["APP_DO"]=function(Di,Ei,Fi,Gi,Hi){return ig[Di](Ei,Fi,Gi,Hi)};_f=Qh["memory"];Zf["WASM"]["m_pMemory"]=Zf["WASM"]["m_pMemory"]||_f;return{env:Qh,global:Rh}}function mg(Ii,Ji,Ki){cg=Zf["GL"]["ImageCache"];Ji=lg(Ji);WebAssembly.instantiate(Ii,Ji).then(function(Li){return Li.instance}).then(function(Mi){ag=Mi.exports;$f=ag.__indirect_function_table;Zf["WASM"]["Update"]=Mi.exports.SE_UPDATE;Zf["WASM"]["Malloc"]=Mi.exports.Malloc;Zf["WASM"]["Free"]=Mi.exports.Free;Zf["ShaderLab"]["DrawPass_"]=Mi.exports.SE_DRAW_PASS;Zf["ShaderLab"]["SetSunlight"]=Mi.exports.SE_SUNLIGHT;Zf["ShaderLab"]["CreateUniformsDesc"]=Mi.exports.SE_CREATE_UNIFORMS_DESC;Zf["ShaderLab"]["GetTexture"]=function(Ni){return ag.SE_RESOURCE(9,Ni)};Zf["ShaderLab"]["GetObject"]=function(Oi){var Pi=ag.SE_RESOURCE(13,Oi);if(Pi){return ng(Pi)}return null};Zf["Track"]("Start thread");Zf["WASM"]["Worker"]=sg(function(){Zf["Track"]("Start thread succeed")});ag.Start();Ki()})}function ng(Qi){return dg[Qi]}function og(){var Ri=eg;if(dg.length>eg){eg=dg[eg]}else{eg++}fg++;return Ri}function pg(Si){dg[Si]=eg;eg=Si;fg--}function qg(Ti){var Ui="'系统运行':{";Ui+="'时间':"+(Zf.Time()/1e3).toFixed(0);Ui+=", '帧率':"+Ti;Ui+=", 'WASM内存':"+Zf.WASM.m_pMemory.buffer.byteLength/1024/1024;Ui+="}";var Vi="'JS对象':{";Vi+="'工厂':["+dg.length+", "+fg+", "+(dg.length-fg)+"]";Vi+=cg.Analyze();for(var Wi=1;Wi<gg.length;Wi++){Vi+=", '"+gg[Wi].prototype._type_name+"':"+gg[Wi].prototype._ins_count}Vi+="}";return[Ui,Vi]}function rg(Xi){var Yi=bg.length;bg.push(Xi);return Yi}function sg(Zi){var $i=ag.UTIL_WORKER_CODE();var _i=Zf["WASM"]["HEAPU32"]($i,16);if(false){hg=new Worker(window.URL.createObjectURL(new Blob([Zf["WASM"]["HEAPU8"](_i[2],_i[3])])));var aj=Zf["WASM"]["HEAPU8"]().slice(_i[0],_i[0]+_i[1]);var bj=aj.buffer;hg.postMessage({m_nID:1,m_aCode:bj},[bj])}else{var cj=Zf["m_pConfig"]["MODULE"].replace(".wasm","");hg=new Worker(cj+"Worker.min.js");fetch(cj+"Worker.wasm").then(function(dj){return dj.arrayBuffer()}).then(function(ej){if(ej){hg.postMessage({m_nID:1,m_aCode:ej},[ej])}else{console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",ej)}}).catch(function(fj){console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",fj)})}hg.onmessage=function(gj){var hj=gj.data;switch(hj.m_nID){case 1:Zi();Zi=null;break;case 2:hg["OnLoadTerrain"](hj);break;case 3:hg["OnLoadBlockbox"](hj);break;case 4:hg["OnLoad3MX"](hj);break;default:console.error("子线程消息异常:",hj);break}};hg["LoadTerrain"]=function(ij,jj,kj,lj,mj){hg.postMessage({m_nID:2,m_pPath:Zf["WASM"].GetString(ij),m_nRequest:jj,m_nCallback:kj,m_nTS:mj})};hg["OnLoadTerrain"]=function(nj){var oj=$f.get(nj.m_nCallback);var pj=nj.m_pData;var qj=0;if(pj){qj=cg.PushBuffer(pj)}else{console.warn("Terrain miss:",nj.m_pPath)}oj(nj.m_nRequest,qj,nj.m_nTS)};hg["LoadBlockbox"]=function rj(sj,tj,uj,vj,wj,xj,yj){hg.postMessage({m_nID:3,m_nRequest:sj,m_nCol:tj,m_nRow:uj,m_nColOffset:vj,m_nRowOffset:wj,m_nAlloc:xj,m_nCallback:yj})};hg["OnLoadBlockbox"]=function(zj){var Aj=$f.get(zj.m_nAlloc);var Bj=$f.get(zj.m_nCallback);var Cj=zj.m_pData;var Dj=[0,0,0,0];for(var Ej=0;Ej<4;Ej++){var Fj=Cj[Ej];if(0<Fj.m_nVertexCount&&0<Fj.m_nSubmeshCount){var Gj=new Zf.Mesh;var Hj=new Int32Array(Fj.m_aIndex);Gj.position=new Float32Array(Fj.m_aPosition);Gj.normal=new Float32Array(Fj.m_aNormal);Gj.uv=new Float32Array(Fj.m_aUV);for(var Ij=0;Ij<Fj.m_nSubmeshCount;Ij++){var Jj=Hj[2*Ij];var Kj=Hj[2*Ij+1];var Lj=[];for(var Mj=Jj;Mj<Kj;Mj++){Lj.push(Mj)}Gj.SetIndices(Ij,new Int32Array(Lj),4)}Gj.Apply();Dj[Ej]=Gj.m_nObject}else{Dj[Ej]=0}}var Nj=Aj(zj.m_nRequest,16);if(Nj){Zf["WASM"]["HEAPU32"](Nj,16).set(new Uint32Array(Dj));Bj(zj.m_nRequest)}};hg["Load3MX"]=function(Oj,Pj,Qj,Rj){var Sj=ng(Oj);if(Sj){var Tj=Sj.m_pFileLut[Pj];var Uj=Tj.m_pPath+Tj.m_aFile[Qj];var Vj=Sj.m_pFileLut.length;Sj.m_pFileLut.push(null);hg.postMessage({m_nID:4,m_nDior:Oj,m_pPath:Uj,m_nRequest:Rj,m_nNewFolder:Vj})}};hg["OnLoad3MX"]=function(Wj){var Xj=Wj.m_pData;if(Xj){var Yj=ng(Wj.m_nDior);if(Yj){Yj.m_pFileLut[Wj.m_nNewFolder]=Wj.m_pNewFolder;var Zj=new Int32Array(Xj[0]);var $j=Zj[1];var _j=Zj[2];var ak=4+9*$j;var bk=0;var ck=[];var dk=function(){if(_j===++bk||0==_j){var gk=Xj[0].byteLength;var hk=Yj["_CreateBuffer"](gk);var ik=Zf["WASM"]["HEAP32"](hk,gk);ik.set(Zj);Yj["_Dispose"](Wj.m_nRequest)}};var ek=function(jk){var kk=Zj[ak+0];var lk=Zj[ak+1];if(0===lk){var mk=Xj[1+jk];if(null!==mk){var nk=cg.CreateImage();var ok=cg.Get(nk);var pk=new Blob([new Int8Array(mk)]);var qk=window.URL.createObjectURL(pk);ok.src=qk;ok.onload=function(uk){dk();window.URL.revokeObjectURL(qk)};ck[kk]=ag["SE_CREATE_INTERNAL_TEXTURE"]();Zj[ak+3]=ck[kk];Zj[ak+4]=nk}else{ck[kk]=0;Zj[ak+3]=ck[kk];Zj[ak+4]=0;dk()}}else if(1===lk){Zj[ak+4]=ck[Zj[ak+5]];var mk=Xj[1+jk];if(null!==mk){var rk=mk.byteLength;var sk=Yj["_CreateBuffer"](rk);var tk=Zf["WASM"]["HEAP8"](sk,rk);tk.set(new Int8Array(mk));Yj["_MarkBuilding"](sk);ck[kk]=ag["SE_CREATE_INTERNAL_MESH"](0,sk);Zj[ak+3]=ck[kk];dk()}else{ck[kk]=0;Zj[ak+3]=ck[kk];dk()}}else{ck[kk]=0;Zj[ak+3]=ck[kk];Zj[ak+4]=0;dk()}ak+=6};for(var fk=0;fk<_j;fk++){ek(fk)}if(0===_j){dk()}}}else{console.warn("3mx miss:",Wj.m_pPath)}};return hg}Zf["WASM"]=Zf["WASM"]||{};Zf["WASM"]["LoadMiaokit"]=mg;Zf["WASM"]["GetObject"]=ng;Zf["WASM"]["RegisterDelegate"]=rg;return[]});MiaokitMerge(function(vk){var wk=null;var xk=null;var yk=null;var zk=null;var Ak=null;var Bk=null;var Ck=null;var Dk=null;var Ek=null;var Fk=null;var Gk=null;var Hk=null;var Ik=null;var Jk=null;var Kk=null;var Lk=null;var Mk=0;var Nk=function(){var Pk=vk.m_pConfig.WEBGL;var Qk=vk.m_pConfig.QUALITY;if(0===Qk){yk="\n                #define LOW_QUALITY\n            ";zk="\n                #define LOW_QUALITY\n            "}else if(1===Qk){yk="\n                #define MEDIUM_QUALITY\n            ";zk="\n                #define MEDIUM_QUALITY\n            "}else{yk="\n                #define HIGH_QUALITY\n            ";zk="\n                #define HIGH_QUALITY\n            "}if(1===Pk){wk="\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform lowp vec4 u_Sunlight;\n                uniform lowp vec4 u_Picker;\n                uniform lowp vec4 u_EyePos;\n                uniform lowp vec4 u_Mark;\n                uniform highp mat4 u_MatG;\n                uniform highp mat4 u_MatVP;\n            ";xk="\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform lowp vec4 u_Sunlight;\n                uniform lowp vec4 u_Picker;\n                uniform lowp vec4 u_EyePos;\n                uniform lowp vec4 u_Mark;\n                uniform highp mat4 u_MatG;\n                uniform highp mat4 u_MatVP;\n            "}else{wk="#version 300 es\n                #define attribute in\n                #define varying out\n                #define texture2D texture\n\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform CommonBlock\n                {\n                    lowp vec4 u_Sunlight;\n                    lowp vec4 u_Picker;\n                    lowp vec4 u_EyePos;\n                    lowp vec4 u_Mark;\n                    highp mat4 u_MatG;\n                    highp mat4 u_MatVP;\n                };\n            ";xk="#version 300 es\n                #define varying in\n                #define texture2D texture\n                #define gl_FragColor FragColor\n\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform CommonBlock\n                {\n                    lowp vec4 u_Sunlight;\n                    lowp vec4 u_Picker;\n                    lowp vec4 u_EyePos;\n                    lowp vec4 u_Mark;\n                    highp mat4 u_MatG;\n                    highp mat4 u_MatVP;\n                };\n\n                out vec4 FragColor;\n            "}Mk=Qk;return{DeclareVS:wk+yk+Ak,DeclareFS:xk+zk+Bk,ClearVS:Ck,ClearFS:Dk,RenderVS:Ek,RenderFS:Fk,PostprocessVS:Gk,PostprocessFS:Hk,ATOM_VS:Jk,ATOM_FS:Kk,BRDF_VS:"",BRDF_FS:Ik}};var Ok={_name:"Shader",GetSourceCode:function(Rk){if(!Lk){Lk=Nk()}var Sk=Ok[Rk];var Tk="";var Uk="";if(Sk.include){var Vk=Sk.include[Mk];if(Vk){for(var Wk=0,Xk=Vk;Wk<Xk.length;Wk++){var Yk=Xk[Wk];Tk+=Lk[Yk+"_VS"];Uk+=Lk[Yk+"_FS"]}}}return[Lk["DeclareVS"]+Tk+Sk.vs_src+Lk[Sk.type+"VS"],Lk["DeclareFS"]+Uk+Sk.fs_src+Lk[Sk.type+"FS"]]}};Ak="\nattribute mediump vec3 a_Position;\nattribute mediump vec3 a_Normal;\nattribute mediump vec2 a_UV;\nattribute mediump vec4 a_Color;\nattribute mediump vec4 a_Tangent;\nattribute mediump vec4 a_Object;\nattribute highp mat4 a_MatW;\n\nvarying vec4 v_Object;\n\n/// ����ռ�����ת����ռ�����\nvec3 ObjectToWorldPos(vec3 i_Position)\n{\n    return (a_MatW * vec4(i_Position, 1.0)).xyz;\n}\n\n/// ����ռ�����ת�ü��ռ�����\nvec4 ObjectToClipPos(vec3 i_Position)\n{\n    // GIS�ı任����ֵ������ת��Ϣ��δ����λ����Ϣ�����⾫�Ȳ�����ɻ��涶��\n    // return u_MatVP * u_MatG * a_MatW * vec4(i_Position, 1.0);\n    \n    vec4 mPosition = vec4(i_Position, 1.0);\n    mPosition = u_MatG * a_MatW * mPosition;\n    mPosition.y = mPosition.y - 6378137.0;\n\n    return u_MatVP * mPosition;\n}\n\n/// ����ռ䷨��ת����ռ䷨��\nvec3 ObjectToWorldNormal(vec3 i_Normal)\n{\n    return normalize((u_MatG * a_MatW * vec4(i_Normal, 0.0)).xyz);\n}";Bk="\nuniform sampler2D u_MainTex;\nvarying vec4 v_Object;\n\n/// ����2D����\nvec4 Tex2D(sampler2D i_Tex, vec2 i_UV)\n{\n    i_UV.x = fract(i_UV.x);\n    i_UV.y = fract(1.0 - i_UV.y);\n\n    return texture2D(i_Tex, i_UV);\n}";Ck="\nvoid main()\n{\n    gl_Position = vs();\n}";Dk="\nvoid main()\n{\n    gl_FragColor = fs();\n}";Ek="\nvoid main()\n{\n    v_Object = a_Object;\n    \n    gl_Position = vs();\n}";Fk="\nvoid main()\n{\n    gl_FragColor = fs();\n    \n    float nAlpha = u_Mark.x;\n    \n    // ��͸�������https://zhuanlan.zhihu.com/p/49164063\n    if(0.01 < nAlpha)\n    {\n        // ���Σ�0-��͸����1-ȫ͸����Ĭ��ֵ0��׷��0.3��͸����\n        nAlpha = 0.3 + 0.7 * v_Object.b;\n        \n        // Gͨ������ɫ�Ҷ��ۼӡ�����֧�ֲ�ɫ͸����\n        gl_FragColor.g = dot(gl_FragColor.rgb, vec3(0.299, 0.587, 0.114));\n        // Rͨ������ϴ����ۼӣ���ֵ1.0����ֵ0.99��Ǹ�������\n        gl_FragColor.r = 1.0 - (0.01 * v_Object.a);        \n        // Bͨ����OPACITY�ۼ�\n        gl_FragColor.b = 1.0 - nAlpha;\n        gl_FragColor.g *= gl_FragColor.b;\n        // Aͨ����ALPHA�۳ˡ���ϣ�Դ����Ϊ0��Ŀ�����Դ\n        gl_FragColor.a = 1.0 - gl_FragColor.b;\n    }\n    // ��͸�����\n    else\n    {\n        // ����������\n        gl_FragColor.a = 1.0 - (0.01 * v_Object.a);\n    }\n}";Gk="\nvoid main()\n{\n    gl_Position = vs();\n}";Hk="\nvoid main()\n{\n    gl_FragColor = fs();\n}";Ik='\nconst float PI = 3.14159265358979323846;\n\nconst vec3 baseColor = vec3(0.5, 0.5, 0.5);\nconst float metallic = 0.0;\nconst float subsurface = 0.5; // 0.0\nconst float specular = 0.2;\nconst float roughness = 0.7; //0.5;\nconst float specularTint = 0.0;\nconst float anisotropic = 0.0;\nconst float sheen = 0.0;\nconst float sheenTint = 0.5;\nconst float clearcoat = 0.0;\nconst float clearcoatGloss = 1.0;\n\nfloat sqr(float x) { return x * x; }\n\nfloat SchlickFresnel(float u)\n{\n\tfloat m = clamp(1.0 - u, 0.0, 1.0);\n\tfloat m2 = m * m;\n\treturn m2 * m2 * m; // pow(m,5)\n}\n\nfloat GTR1(float NdotH, float a)\n{\n\tif (a >= 1.0) return 1.0 / PI;\n\tfloat a2 = a * a;\n\tfloat t = 1.0 + (a2 - 1.0) * NdotH * NdotH;\n\treturn (a2 - 1.0) / (PI * log(a2) * t);\n}\n\nfloat GTR2(float NdotH, float a)\n{\n\tfloat a2 = a * a;\n\tfloat t = 1.0 + (a2 - 1.0) * NdotH * NdotH;\n\treturn a2 / (PI * t * t);\n}\n\nfloat GTR2_aniso(float NdotH, float HdotX, float HdotY, float ax, float ay)\n{\n\treturn 1.0 / (PI * ax * ay * sqr(sqr(HdotX / ax) + sqr(HdotY / ay) + NdotH * NdotH));\n}\n\nfloat smithG_GGX(float NdotV, float alphaG)\n{\n\tfloat a = alphaG * alphaG;\n\tfloat b = NdotV * NdotV;\n\treturn 1.0 / (NdotV + sqrt(a + b - a * b));\n}\n\nfloat smithG_GGX_aniso(float NdotV, float VdotX, float VdotY, float ax, float ay)\n{\n\treturn 1.0 / (NdotV + sqrt(sqr(VdotX * ax) + sqr(VdotY * ay) + sqr(NdotV)));\n}\n\nvec3 mon2lin(vec3 x)\n{\n\treturn vec3(pow(x[0], 2.2), pow(x[1], 2.2), pow(x[2], 2.2));\n}\n\nvec3 BRDF(vec3 L, vec3 V, vec3 N, vec3 X, vec3 Y)\n{\n    //x��y����ֱ��ʾ�˱�����������͸�������������\n    //https://www.cnblogs.com/starfallen/p/3572352.html\n\n\tfloat NdotL = dot(N, L);\n\tfloat NdotV = dot(N, V);\n\tif (NdotL < 0.0 || NdotV < 0.0) return vec3(0.0);\n\n\tvec3 H = normalize(L + V);\n\tfloat NdotH = dot(N, H);\n\tfloat LdotH = dot(L, H);\n\n\tvec3 Cdlin = mon2lin(baseColor);\n\tfloat Cdlum = 0.3 * Cdlin[0] + 0.6 * Cdlin[1] + 0.1 * Cdlin[2]; // luminance approx.\n\n\tvec3 Ctint = Cdlum > 0.0 ? Cdlin / Cdlum : vec3(1.0); // normalize lum. to isolate hue+sat\n\tvec3 Cspec0 = mix(specular * 0.08 * mix(vec3(1.0), Ctint, specularTint), Cdlin, metallic);\n\tvec3 Csheen = mix(vec3(1.0), Ctint, sheenTint);\n\n\t// Diffuse fresnel - go from 1 at normal incidence to .5 at grazing\n\t// and mix in diffuse retro-reflection based on roughness\n\tfloat FL = SchlickFresnel(NdotL), FV = SchlickFresnel(NdotV);\n\tfloat Fd90 = 0.5 + 2.0 * LdotH * LdotH * roughness;\n\tfloat Fd = mix(1.0, Fd90, FL) * mix(1.0, Fd90, FV);\n\n\t// Based on Hanrahan-Krueger brdf approximation of isotropic bssrdf\n\t// 1.25 scale is used to (roughly) preserve albedo\n\t// Fss90 used to "flatten" retroreflection based on roughness\n\tfloat Fss90 = LdotH * LdotH * roughness;\n\tfloat Fss = mix(1.0, Fss90, FL) * mix(1.0, Fss90, FV);\n\tfloat ss = 1.25 * (Fss * (1.0 / (NdotL + NdotV) - 0.5) + 0.5);\n\n\t// specular\n\tfloat aspect = sqrt(1.0 - anisotropic * 0.9);\n\tfloat ax = max(0.001, sqr(roughness) / aspect);\n\tfloat ay = max(0.001, sqr(roughness) * aspect);\n\tfloat Ds = GTR2_aniso(NdotH, dot(H, X), dot(H, Y), ax, ay);\n\tfloat FH = SchlickFresnel(LdotH);\n\tvec3 Fs = mix(Cspec0, vec3(1.0), FH);\n\tfloat Gs;\n\tGs = smithG_GGX_aniso(NdotL, dot(L, X), dot(L, Y), ax, ay);\n\tGs *= smithG_GGX_aniso(NdotV, dot(V, X), dot(V, Y), ax, ay);\n\n\t// sheen\n\tvec3 Fsheen = FH * sheen * Csheen;\n\n\t// clearcoat (ior = 1.5 -> F0 = 0.04)\n\tfloat Dr = GTR1(NdotH, mix(0.1, 0.001, clearcoatGloss));\n\tfloat Fr = mix(0.04, 1.0, FH);\n\tfloat Gr = smithG_GGX(NdotL, 0.25) * smithG_GGX(NdotV, 0.25);\n\n\treturn ((1.0 / PI) * mix(Fd, ss, subsurface) * Cdlin + Fsheen) * (1.0 - metallic) + Gs * Fs * Ds + 0.25 * clearcoat * Gr * Fr * Dr;\n}';Jk="\nvarying vec4 v_ViewDir;\nvarying vec4 v_Scattering;\nvarying vec4 v_Attenuate;\n\n//P and ray define the line; O is the sphere's center point\nvec3 CalculateIntersection(vec3 P, vec3 ray, vec3 O, float r)\n{\n\tvec3 PO = O - P;\n\tfloat lPO = length(PO);\n\tfloat B = 2.0 * dot(PO, ray);\n\n\tfloat C = B * B - 4.0 * (lPO * lPO - r * r);\n\tfloat det = sqrt(max(0.0, C));\n\n\tfloat d = 0.5*(B-det);\n\tvec3 intersect = P + d * ray;\n\n\treturn intersect;\n}\n\nvoid Atmosphere(vec3 mLightDir, vec3 mWorldPos)\n{\n    // ����ɢ�䣬���Ӧ�����㣬�����Ӧ�����ڲ�֮�⣬��������Ϊ���뾶���ڲ�뾶�����뾶ӦԶ�����ڲ�뾶\n    //650 nm for red; 570 nm for green; 475 nm for blue\n    vec3 _Wave = vec3(5.602046, 9.473285, 20.49314);\n    vec3 _ESun = vec3(20.0, 20.0, 20.0);\n    vec3 _PlanetPos = vec3(0.0, -6378137.0, 0.0);\n    float _Sealevel = 6378137.0;\n    float _OuterRadius = 6478137.0;\n    float _SampleNum = 5.0;\n    //Rayleigh scattering constant\n    float _Kr = 0.0025;\n    //Mie scattering constant\n    float _Km = 0.001;\n    //the altitude at which the atmosphere's average density is found\n    float _H0 = 0.25;\n\n    vec3 mRay = mWorldPos - u_EyePos.xyz;\n    float nDepth = length(mRay); mRay = mRay / nDepth;\n\n    float nSampleLength = nDepth / _SampleNum;\n    vec3 mSampleRay = mRay * nSampleLength;\n    vec3 mSamplePoint = u_EyePos.xyz + mSampleRay * 0.5;\n    vec3 mInScattering = vec3(0.0, 0.0, 0.0);\n    vec3 mOutScatteringAB = vec3(0.0, 0.0, 0.0);\n    vec3 mOutGroundScatteringAB = vec3(0.0, 0.0, 0.0);\n    float nInvOuterH = 1.0 / (_OuterRadius-_Sealevel);\n\n    for(int i=0; i</*_SampleNum*/5; i++)\n    {\n\t    vec3 mCrossPoint = CalculateIntersection(mSamplePoint, -mLightDir, _PlanetPos, _OuterRadius);\n\t    //AP out scattering\n\t    vec3 mAPRay = (mSamplePoint - u_EyePos.xyz) / _SampleNum;\n\t    float nAPRayLength = length(mAPRay);\n\t    vec3 mSampleAP = u_EyePos.xyz + mAPRay * 0.5;\n\t    vec3 mOutScatteringAP = vec3(0.0, 0.0, 0.0);\n\n\t    for(int m=0; m</*_SampleNum*/5; m++)\n\t    {\n\t\t    mOutScatteringAP += exp(-(length(mSampleAP - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nAPRayLength * nInvOuterH;\n\t\t    mSampleAP += mAPRay;\n\t    }\n\t    mOutScatteringAP = 4.0 * 3.14 * (_Km + _Kr * _Wave) * mOutScatteringAP;\n\n\t    //PC out scattering\n\t    vec3 mPCRay = (mCrossPoint - mSamplePoint) / _SampleNum;\n\t    float nPCRayLength = length(mPCRay);\n\t    vec3 mSamplePC = mSamplePoint + mPCRay*0.5;\n\t    vec3 mOutScatteringPC = vec3(0.0, 0.0, 0.0);\n\n\t    for(int n=0; n</*_SampleNum*/5; n++)\n\t    {\n\t\t    mOutScatteringPC += exp(-(length(mSamplePC - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nPCRayLength * nInvOuterH;\n\t\t    mSamplePC += mPCRay;\n\t    }\n\t    mOutScatteringPC = 4.0 * 3.14 * (_Km + _Kr * _Wave) * mOutScatteringPC;\n\n\t    mInScattering += exp(-(length(mSamplePoint - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nSampleLength * nInvOuterH * exp(-mOutScatteringAP - mOutScatteringPC);\n\t    mSamplePoint+=mSampleRay;\n\t    mOutScatteringAB = mCrossPoint;\n        mOutGroundScatteringAB = mOutScatteringAP + mOutScatteringPC;\n    }\n\n    vec3 mAttenuateGround = exp(-mOutGroundScatteringAB);\n\n    v_ViewDir.xyz = u_EyePos.xyz - mWorldPos;\n    v_Scattering.xyz = mInScattering * _ESun * _Kr * _Wave;\n    v_Attenuate.xyz = mInScattering * _ESun * _Km;\n\n    v_ViewDir.w = mAttenuateGround.x;\n    v_Scattering.w = mAttenuateGround.y;\n    v_Attenuate.w = mAttenuateGround.z;\n\n    //Ground : v_ScatteringR = v_Scattering; v_ScatteringM = v_Attenuate; v_Attenuate = v_AttenuateGround;\n    //v_ViewDir = u_EyePos.xyz - mWorldPos;\n    //v_ScatteringR = mInScattering * _ESun * _Kr * _Wave;\n    //v_ScatteringM = mInScattering * _ESun * _Km;\n    //v_Attenuate = exp(-mOutGroundScatteringAB);\n}";Kk="\nvarying vec4 v_ViewDir;\nvarying vec4 v_Scattering;\nvarying vec4 v_Attenuate;\n\nfloat PhaseRayleigh(float nCostheta)\n{\n\treturn 0.75 * (1.0 + nCostheta * nCostheta);\n}\n\nfloat PhaseMie(float nCostheta, float g, float g2)\n{\n\treturn 1.5 * ((1.0 - g2) / (2.0 + g2)) * (1.0 + nCostheta * nCostheta) / pow(1.0 + g2 - 2.0 * g * nCostheta, 1.5);\n}\n\nvec4 AtmosphereColor(vec4 mColor, vec3 mLightDir)\n{\n    float _G = -0.990;\n    float _G2 = _G * _G;\n    \n    float nCostheta = dot(normalize(v_ViewDir.xyz), mLightDir);\n    float nPhaseMie = PhaseMie(nCostheta, _G, _G2);\n    float nPhaseRayleigh = PhaseRayleigh(nCostheta);\n\t\t\t\t\n    mColor.rgb = v_Scattering.xyz * nPhaseRayleigh + v_Attenuate.xyz * nPhaseMie;\n    mColor.a = mColor.b + 0.35;\n    mColor = clamp(mColor, 0.0, 0.9);\n\n    return mColor;\n}\n\nvec4 AtmosphereLight(vec4 mColor, vec3 mLightDir)\n{\n    // Ground : v_ScatteringR = v_Scattering.xyz; v_ScatteringM = v_Attenuate.xyz; v_Attenuate = v_AttenuateGround;\n    \n    float _G = -0.980;\n    float _G2 = _G * _G;\n    \n    float nCostheta = dot(normalize(v_ViewDir.xyz), mLightDir);\n    float nPhaseMie = PhaseMie(nCostheta, _G, _G2);\n    float nPhaseRayleigh = PhaseRayleigh(nCostheta);\n    \n    mColor.rgb = v_Scattering.xyz * nPhaseRayleigh + v_Attenuate.xyz * nPhaseMie + mColor.rgb * vec3(v_ViewDir.w, v_Scattering.w, v_Attenuate.w)/*v_AttenuateGround*/;\n    \n    return mColor;\n}";return[Ok]});MiaokitMerge(function(Zk){var $k=undefined;var _k=true;var al=[];var bl={RGBA32_FLOAT:function(){return true?[$k["RGBA32F"],$k.RGBA,$k.FLOAT]:[$k.RGBA,$k.RGBA,$k.FLOAT]},RGBA16_FLOAT:function(){return true?[$k["RGBA16F"],$k.RGBA,$k["HALF_FLOAT"]]:[$k.RGBA,$k.RGBA,36193]},RGBA8:function(){return true?[$k.RGBA,$k.RGBA,$k.UNSIGNED_BYTE]:[$k.RGBA,$k.RGBA,$k.UNSIGNED_BYTE]},D16_UNORM:function(){return true?[$k["DEPTH_COMPONENT16"],$k.DEPTH_COMPONENT,$k.UNSIGNED_SHORT]:[$k.DEPTH_COMPONENT,$k.DEPTH_COMPONENT,$k.UNSIGNED_SHORT]},D24_UNORM:function(){return true?[$k["DEPTH_COMPONENT24"],$k.DEPTH_COMPONENT,$k.UNSIGNED_INT]:[$k.DEPTH_COMPONENT,$k.DEPTH_COMPONENT,$k.UNSIGNED_INT]},D24S8_UNORM:function(){return true?[$k.DEPTH_STENCIL,$k.DEPTH_STENCIL,34042]:[$k.DEPTH_STENCIL,$k.DEPTH_STENCIL,34042]}};var cl={Opaque:1,Transparent:2,Outline:4,CastShadow:8,ReceiveShadow:16};var dl=null;var el=["u_Sunlight","u_Picker","u_EyePos","u_MatG","u_MatVP","u_Color","u_MainTex","",""];var fl=[null];var gl=[null];var hl=[null];var il=[null];var jl=[new Int32Array([0,0,0,0]),new Float32Array([0,0,0,0]),new Float32Array([1,0,0,0,1,0,0,0,1]),new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0])];var kl=[function(Ql,Rl,Sl){xl(fl[Ql],il[Rl])},function(Tl,Ul,Vl){yl(fl[Tl],il[Ul])},function(Wl,Xl,Yl){zl(fl[Wl],il[Xl])},function(Zl,$l,_l){Al(fl[Zl],il[$l])},function(am,bm,cm){var dm=il[bm];var em=dm[1];if(dm[0]){em=Ol.GetTexture(em);if(em){dm[0]=0;dm[1]=em}}var fm=al[em]||ul;if(null===fm){console.log("BindTexture null!");return}$k.activeTexture(33984+cm);$k.bindTexture(3553,fm)},function(gm,hm){console.error("Unsupported UniformCubemap!")},null,function(im,jm,km){var lm=il[jm];var mm=lm[1];if(lm[0]){mm=Ol.GetTexture(mm);if(mm){lm[0]=0;lm[1]=mm}}var nm=al[mm]||ul;if(null===nm){console.log("BindTexture null!");return}$k.activeTexture(33984+km);$k.bindTexture(35866,nm)}];var ll=[null];var ml=[null];var nl=1280;var ol=720;var pl=1;var ql=0;var rl=null;var sl=new Float32Array(4);var tl=[0,0,0,0];var ul=null;var vl=null;var wl=0;function xl(om,pm){if(undefined===om.mark){$k.uniform4iv(om,pm)}else if(pl!==om.mark){$k.uniform4iv(om,pm);om.mark=pl}}function yl(qm,rm){if(undefined===qm.mark){$k.uniform4fv(qm,rm)}else if(pl!==qm.mark){$k.uniform4fv(qm,rm);qm.mark=pl}}function zl(sm,tm){if(undefined===sm.mark){$k.uniformMatrix3fv(sm,false,tm)}else if(pl!==sm.mark){$k.uniformMatrix3fv(sm,false,tm);sm.mark=pl}}function Al(um,vm){if(undefined===um.mark){$k.uniformMatrix4fv(um,false,vm)}else if(pl!==um.mark){$k.uniformMatrix4fv(um,false,vm);um.mark=pl}}function Bl(wm,xm){var ym=$k.createShader(wm);if(!ym){console.error("Could not create shader object!");return null}$k.shaderSource(ym,xm);$k.compileShader(ym);if(!$k.getShaderParameter(ym,$k.COMPILE_STATUS)){var zm=$k.getShaderInfoLog(ym);$k.deleteShader(ym);console.error("Could not compile shader! \n\n"+zm);return null}return ym}function Cl(Am){var Bm=Am.program;var Cm=0;{$k.bindAttribLocation(Bm,0,"a_Position");$k.bindAttribLocation(Bm,1,"a_Normal");$k.bindAttribLocation(Bm,2,"a_UV");$k.bindAttribLocation(Bm,3,"a_Color");$k.bindAttribLocation(Bm,4,"a_Tangent");$k.bindAttribLocation(Bm,5,"a_Object");$k.bindAttribLocation(Bm,6,"a_MatW")}{$k.linkProgram(Bm);if(!$k.getProgramParameter(Bm,$k.LINK_STATUS)){var Dm=$k.getProgramInfoLog(Bm);console.error("Could not compile program! \n\n"+Dm);return 0}}{var Em=$k.getProgramParameter(Bm,35718);if(_k){Em-=6;var Fm=$k["getUniformBlockIndex"](Bm,"CommonBlock")}var Gm=Ol.CreateUniformsDesc(Em);var Hm=il[Gm];var Im={};var Jm=0;Hm[19]=hl.push(Im)-1;ll[Hm[19]]=Am;$k.useProgram(Bm);for(var Km=0;Km<2;Km++){var Lm=Em+(_k?6:0);for(var Mm=0;Mm<Lm;Mm++){var Dm=$k.getActiveUniform(Bm,Mm);var Nm=Dm.type;if(35678===Nm||35680===Nm||36289===Nm){if(0!==Km){continue}}else{if(1!==Km){continue}}var Om=Dm.name;var Pm=$k.getUniformLocation(Bm,Om);if(!Pm){continue}var Qm=fl.push(Pm)-1;for(var Rm=0;Rm<el.length;Rm++){if(Om===el[Rm]){Hm[Rm]=Jm;if(5>Rm){Pm.mark=1}break}}switch(Nm){case 35669:Nm=0;break;case 35666:Nm=1;break;case 35675:Nm=2;break;case 35676:Nm=3;break;case 35678:Nm=4;break;case 35680:Nm=5;break;case 36289:Nm=7;break;default:console.error("Unsupported uniform type:",Dm);break}Hm[20+Jm]=Qm;Hm[20+Em+Jm]=Nm;Im[Om]=Jm;gl[Qm]=Om;if(0===Km){$k.uniform1i(Pm,Jm)}Jm++}}if(Jm!==Em){console.error("Process uniform cout error!",Em,Jm)}Cm=Hm[16]}{var Sm=0;if(Am.mark){for(var Tm=0,Um=Am.mark;Tm<Um.length;Tm++){var Vm=Um[Tm];Sm|=cl[Vm]}}Am.mode=Sm}return Cm}function Dl(Wm){if(!Wm){return null}var Xm=Zk.Shader[Wm];if(!Xm){console.error("Could not find shader:",Wm);return null}if(Xm.program){return Xm}var Ym=Zk.Shader.GetSourceCode(Wm);Xm.vs=Bl($k.VERTEX_SHADER,Ym[0]);if(!Xm.vs){console.error("Could not create vertex shader:",Wm);return null}Xm.fs=Bl($k.FRAGMENT_SHADER,Ym[1]);if(!Xm.fs){$k.deleteShader(Xm.vs);Xm.vs=null;console.error("Could not create fragment shader:",Wm);return null}Xm.program=$k.createProgram();if(!Xm.program){$k.deleteShader(Xm.vs);$k.deleteShader(Xm.fs);Xm.vs=null;Xm.fs=null;console.error("Could not create program object!");return null}$k.attachShader(Xm.program,Xm.vs);$k.attachShader(Xm.program,Xm.fs);Xm.id=Cl(Xm);if(!Xm.id){$k.deleteProgram(Xm.program);$k.deleteShader(Xm.vs);$k.deleteShader(Xm.fs);Xm.program=null;Xm.vs=null;Xm.fs=null}return Xm}function El(Zm,$m){var _m=undefined;var an=undefined;var bn=undefined;var cn=undefined;var dn=0;function en(){var pn=il[Zm];var qn=il[$m];var rn=ll[pn[19]];var sn=pn[20];var tn=20+pn[17];_m=rn.program;an=hl[pn[19]];bn=pn;cn=[];dn=pn[17];var un=function(Dn){var En=Dn;var Fn=il[qn[En]];var Gn=fl[sn+En];var Hn=pn[tn+En];var In=[function(){return Fn},function(Jn){Fn.set(Jn)},undefined];switch(Hn){case 0:In[2]=function(){xl(Gn,Fn)};break;case 1:In[2]=function(){yl(Gn,Fn)};break;case 2:In[2]=function(){zl(Gn,Fn)};break;case 3:In[2]=function(){Al(Gn,Fn)};break;case 4:In[2]=function(){var Kn=Fn[1];if(Fn[0]){Kn=Ol.GetTexture(Kn);if(Kn){Fn[0]=0;Fn[1]=Kn}}var Ln=al[Kn]||ul;if(null===Ln){console.log("BindTexture null!");return}$k.activeTexture(33984+En);$k.bindTexture(3553,Ln)};break;case 7:In[2]=function(){var Mn=Fn[1];if(Fn[0]){Mn=Ol.GetTexture(Mn);if(Mn){Fn[0]=0;Fn[1]=Mn}}var Nn=al[Mn]||ul;if(null===Nn){console.log("BindTexture null!");return}$k.activeTexture(33984+En);$k.bindTexture(35866,Nn)};break;default:console.error("Unsupported uniform type!",Hn);break}cn[En]=In};for(var vn=0;vn<dn;vn++){un(vn)}if(rn.uniform_values){for(var wn=0,xn=rn.uniform_values;wn<xn.length;wn++){var yn=xn[wn];var zn=an[yn[0]];if(undefined!==zn){var An=pn[tn+zn];if(4===An||5===An){var Bn=Ol.Pipeline["Resource"][yn[1]];var Cn=[0,Bn.Handle,0,0];cn[zn][1](Cn)}}}}return rn.mode}function fn(On){if(rl){rl(ml[$m],$k)}if(ql!==Zm){$k.useProgram(_m);ql=Zm;if(vl){$k["bindBufferBase"]($k["UNIFORM_BUFFER"],0,vl)}}for(var Pn=0,Qn=cn;Pn<Qn.length;Pn++){var Rn=Qn[Pn];Rn[2]()}}function gn(Sn){return an[Sn]}function hn(Tn){return cn[Tn][0]()}function jn(Un){Un=bn[Un];if(-1<Un){return cn[Un][0]()}return null}function kn(Vn){var Wn=an[Vn];if(undefined!==Wn){return cn[Wn][0]()}return null}function ln(Xn,Yn){cn[Xn][1](Yn);if(ql===Zm){cn[Xn][2]()}}function mn(Zn,$n){Zn=bn[Zn];if(-1<Zn){cn[Zn][1]($n);if(ql===Zm){cn[Zn][2]()}}}function nn(_n,ao){var bo=an[_n];if(undefined!==bo){cn[bo][1](ao);if(ql===Zm){cn[bo][2]()}}}function on(co){cn[co][2]()}ml[$m]=[en,fn,gn,hn,jn,kn,ln,mn,nn,on];return en()}function Fl(eo){{Object.defineProperty(eo,"Attr",{get:function(){if(!this.Attr_){this.Attr_=ml[this._VarList()]}return this.Attr_}})}{var fo=function(ho){var io=ho;Object.defineProperty(eo,el[ho],{get:function(){return this.Attr[4](io)},set:function(jo){if(jo){this.Attr[7](io,jo)}}})};for(var go=0;go<el.length;go++){fo(go)}}{}}function Gl(ko){var lo=$k.createTexture();if(!lo){console.error("Could not create texture object!");return null}$k.bindTexture($k.TEXTURE_2D,lo);$k.texParameteri($k.TEXTURE_2D,$k.TEXTURE_MIN_FILTER,$k.NEAREST);$k.texParameteri($k.TEXTURE_2D,$k.TEXTURE_MAG_FILTER,$k.NEAREST);$k.texParameteri($k.TEXTURE_2D,$k.TEXTURE_WRAP_S,$k.CLAMP_TO_EDGE);$k.texParameteri($k.TEXTURE_2D,$k.TEXTURE_WRAP_T,$k.CLAMP_TO_EDGE);$k.texImage2D($k.TEXTURE_2D,0,$k.RGBA,1,1,0,$k.RGBA,$k.UNSIGNED_BYTE,new Uint8Array(4));var mo=new Image;mo.crossOrigin="anonymous";mo.src=ko.URL;mo.onload=function(no){$k.bindTexture($k.TEXTURE_2D,lo);$k.texImage2D($k.TEXTURE_2D,0,$k.RGBA,$k.RGBA,$k.UNSIGNED_BYTE,mo);$k.bindTexture($k.TEXTURE_2D,null)};$k.bindTexture($k.TEXTURE_2D,null);return lo}function Hl(oo){var po=$k.createTexture();if(!po){console.error("Could not create texture object!");return null}$k.bindTexture($k.TEXTURE_2D,po);var qo=oo.Params;$k.texParameteri($k.TEXTURE_2D,$k.TEXTURE_MAG_FILTER,$k[qo[1]]);$k.texParameteri($k.TEXTURE_2D,$k.TEXTURE_MIN_FILTER,$k[qo[0]]);$k.texParameteri($k.TEXTURE_2D,$k.TEXTURE_WRAP_S,$k[qo[2]]);$k.texParameteri($k.TEXTURE_2D,$k.TEXTURE_WRAP_T,$k[qo[3]]);var ro=bl[oo.Format]();$k.texImage2D($k.TEXTURE_2D,oo.Levels,ro[0],oo.Width,oo.Height,0,ro[1],ro[2],null);$k.bindTexture($k.TEXTURE_2D,null);po["_Format"]=ro;return po}function Il(so,to){var uo=$k.createFramebuffer();if(!uo){console.error("Could not create framebuffer object!");return null}$k.bindFramebuffer($k.FRAMEBUFFER,uo);$k.framebufferTexture2D($k.FRAMEBUFFER,$k.COLOR_ATTACHMENT0,$k.TEXTURE_2D,so,0);if(to&&to["_Format"][0]===$k.DEPTH_STENCIL){$k.framebufferTexture2D($k.FRAMEBUFFER,$k.DEPTH_STENCIL_ATTACHMENT,$k.TEXTURE_2D,to,0)}else{$k.framebufferTexture2D($k.FRAMEBUFFER,$k.DEPTH_ATTACHMENT,$k.TEXTURE_2D,to,0)}if($k.FRAMEBUFFER_COMPLETE!=$k.checkFramebufferStatus($k.FRAMEBUFFER)){$k.deleteFramebuffer(uo);console.error("Framebuffer check failed!");return null}return uo}var Jl=function(vo){if(_k){il[wl][12]=vo;$k.bindBuffer($k["UNIFORM_BUFFER"],vl);$k.bufferData($k["UNIFORM_BUFFER"],il[wl],$k.DYNAMIC_DRAW)}};var Kl=null;var Ll=null;var Ml=null;var Nl=null;var Ol={_name:"ShaderLab",Pipeline:null,Init:function(wo){$k=Zk["GL"]["Ctx"];al=Zk["GL"]["_textures"];nl=$k.canvas.width;ol=$k.canvas.height;Kl=Zk["GL"]["BindViewport"];Ll=Zk["GL"]["BindDepth"];Ml=Zk["GL"]["BindBlend"];Nl=Zk["GL"]["BindStencil"];if(_k){var xo=$k.createBuffer();if(xo){$k.bindBuffer($k["UNIFORM_BUFFER"],xo);$k.bufferData($k["UNIFORM_BUFFER"],64*3,$k.DYNAMIC_DRAW);$k.bindBuffer($k["UNIFORM_BUFFER"],null);vl=xo}}this.Pipeline.Init();for(var yo=0,zo=this.Pipeline.RenderTarget;yo<zo.length;yo++){var Ao=zo[yo];if(Ao){Ao.Width=Ao.Width||nl;Ao.Height=Ao.Height||ol;Ao.Levels=Ao.Levels||0;Ao.Params=Ao.Params||["NEAREST","NEAREST","CLAMP_TO_EDGE","CLAMP_TO_EDGE"];Ao.Texture=Hl(Ao);Ao.Handle=Zk["GL"]["RegisterTexture"](Ao.Texture);Ao.Size=[1/Ao.Width,1/Ao.Height,Ao.Width,Ao.Height]}}for(var Bo=0,Co=this.Pipeline.Resource;Bo<Co.length;Bo++){var Do=Co[Bo];if(Do){if("2D"===Do.TYPE){Do.Texture=Gl(Do);Do.Handle=Zk["GL"]["RegisterTexture"](Do.Texture);if(2===Do.ID){ul=Do.Texture}}}}function Eo(Oo){var Po=Oo.RenderTarget;if(Po){var Qo=Ol.Pipeline["RenderTarget"][Po[0]];var Ro=Ol.Pipeline["RenderTarget"][Po[1]];Oo.Framebuffer=Il(Qo.Texture,Ro?Ro.Texture:null);if(!Oo.Framebuffer){console.log(Oo)}Oo.Framebuffer.width=Qo.Size[2];Oo.Framebuffer.height=Qo.Size[3]}else{Oo.Framebuffer=null}}for(var Fo=0,Go=this.Pipeline.Pass;Fo<Go.length;Fo++){var Ho=Go[Fo];if(Ho){if("Clear"===Ho.Type){Ho._Type=2}else{Ho._Type="Render"===Ho.Type?0:1}Ho._Mask=0;for(var Io=0,Jo=Ho.Mask;Io<Jo.length;Io++){var Ko=Jo[Io];Ho._Mask+=cl[Ko]}Eo(Ho);if(Ho.Pingpong){for(var Lo=0,Mo=Ho.Pingpong;Lo<Mo.length;Lo++){var No=Mo[Lo];Eo(No)}}}}},Draw:function(){pl++;var So=0;var To=this.Pipeline.Picker;if(To){tl[0]=To.x;tl[1]=$k.canvas.height-To.y}else{tl[0]=-10;tl[1]=-10}Jl(0);for(var Uo=0,Vo=this.Pipeline.Pass;Uo<Vo.length;Uo++){var Wo=Vo[Uo];Pl.BeginDrawPass();if(Wo.Pingpong){for(var Xo=0;Xo<Wo.PingpongCount;Xo++){for(var Yo=0;Yo<Wo.Pingpong.length;Yo++){Wo.Framebuffer=Wo.Pingpong[Yo].Framebuffer;Wo.SetUniforms=Wo.Pingpong[Yo].SetUniforms;this.DrawPass(Wo,Ol.DrawPass_)}}}else{this.DrawPass(Wo,Ol.DrawPass_)}Pl.EndDrawPass(So++)}},DrawPass:function(Zo,$o){$k.bindFramebuffer($k.FRAMEBUFFER,Zo.Framebuffer);Kl(Zo.Framebuffer,nl,ol);Ll(Zo.Depth);Ml(Zo.Blend,Jl);Nl(Zo.Stencil);var _o=Zo.ClearTarget;if(_o){var ap=0;if(_o.Color){$k.clearColor(_o.Color.r,_o.Color.g,_o.Color.b,_o.Color.a);ap+=$k.COLOR_BUFFER_BIT}if(undefined!==_o.Depth){$k.clearDepth(_o.Depth);ap+=$k.DEPTH_BUFFER_BIT}if(undefined!==_o.Stencil){$k.clearStencil(_o.Stencil);ap+=$k.STENCIL_BUFFER_BIT}$k.clear(ap)}rl=Zo.SetUniforms;if(Zo.Shader){if(!Zo._Material){Zo._Material=new Zk["Material"](Zo.Shader)}Zo._Material._Bind()}$o(Zo._Type,Zo._Mask);if(Zo.Postprocess){Zo.Postprocess($k)}},PreflushBuffer:function(){var bp=il.length;var cp=new Array(bp);for(var dp=0;dp<bp;dp++){var ep=il[dp];if(ep){if("Float32Array"===ep.constructor.name){cp[dp]=ep.length}else{cp[dp]=-ep.length}il[dp]=ep.byteOffset}}return cp},FlushBuffer:function(fp,gp){dl=fp;var hp=il.length;for(var ip=0;ip<hp;ip++){var jp=il[ip];if(jp){var kp=gp[ip];if(0<kp){il[ip]=new Float32Array(dl,jp,kp)}else{il[ip]=new Int32Array(dl,jp,-kp)}}}for(var ip=0;ip<hp;ip++){var lp=ml[ip];if(lp){lp[0]()}}Zk["GL"]["FlushHeap"]()},ResizeCanvas:function(mp,np){},PickObject:function(){var op=this.Pipeline.Picker;if(op){$k.readPixels(op.x,$k.canvas.height-op.y,1,1,$k.RGBA,$k.FLOAT,sl);if(0>sl[3]){var pp=Math.ceil(sl[0]*1e4)*8192+Math.ceil(sl[1]*1e4);var qp=Math.ceil(sl[2]*1e4);var rp=this["GetObject"](pp);op.Feedback(rp,qp)}else{op.Feedback(null,0)}this.Pipeline.Picker=null}},APP_DO_OPERATORS:[function(sp){var tp=Zk["ShaderLab"]["Pipeline"]["InternalShader"][sp];var up=Dl(tp);return up.id},function(vp,wp,xp,yp){var zp=null;switch(wp){case 0:zp=new Int32Array(dl,yp,4);zp.set(jl[0]);break;case 1:zp=new Float32Array(dl,yp,4);zp.set(jl[1]);break;case 2:zp=new Float32Array(dl,yp,9);zp.set(jl[2]);break;case 3:zp=new Float32Array(dl,yp,16);zp.set(jl[3]);break;case 4:zp=new Int32Array(dl,yp,4);zp.set(jl[4]);break;case 5:zp=new Int32Array(dl,yp,4);zp.set(jl[5]);break;case 6:zp=new Int32Array(dl,yp,xp);break;case 7:zp=new Int32Array(dl,yp,4);zp.set(jl[7]);break;case 8:zp=new Float32Array(dl,yp,48);wl=vp;break;default:console.error("Unsupported uniform type:",wp);break}il[vp]=zp;return vp},function(Ap,Bp,Cp,Dp){kl[Ap](Bp,Cp,Dp);return 0},function(Ep,Fp,Gp,Hp){var Ip=Zk["WASM"].GetString(Hp);var Jp=il[Ep];var Kp=hl[Jp[19]];var Lp=Kp[Ip];return undefined===Lp?0:Lp},function(Mp,Np){ml[Np][1](Mp);return 0},function(){Ol.Draw()},El,null],ExpandMaterial:Fl,CreateUniformsDesc:undefined,GetTexture:undefined,DrawPass_:undefined,SetSunlight:undefined};var Pl={_name:"Profiler",m_pMsg:"",m_nCycleStart:0,m_nCycleTick:0,m_nBeginCycle:0,m_nTotalCycle:0,m_nBeginScript:0,m_nTotalScript:0,m_nBeginUpdate:0,m_nTotalUpdate:0,m_nBeginDraw:0,m_nTotalDraw:0,m_nBeginMaterial:0,m_nTotalMaterial:0,m_nBeginDrawPass:0,m_nTotalDrawPass:[],BeginCycle:function(){if(0===Pl.m_nCycleTick){Pl.m_nCycleStart=Zk["Time"]();Pl.m_nCycleTick=0;Pl.m_nBeginCycle=0;Pl.m_nTotalCycle=0;Pl.m_nBeginScript=0;Pl.m_nTotalScript=0;Pl.m_nBeginUpdate=0;Pl.m_nTotalUpdate=0;Pl.m_nBeginDraw=0;Pl.m_nTotalDraw=0;Pl.m_nBeginMaterial=0;Pl.m_nTotalMaterial=0;Pl.m_nBeginDrawPass=0;Pl.m_nTotalDrawPass=[]}Pl.m_nBeginCycle=Zk["Time"]()},EndCycle:function(){Pl.m_nTotalCycle+=Zk["Time"]()-Pl.m_nBeginCycle;if(60===++Pl.m_nCycleTick){var Op={"总耗时":Zk["Time"]()-Pl.m_nCycleStart,"应用循环":Pl.m_nTotalCycle,"脚本逻辑":Pl.m_nTotalScript,"场景更新":Pl.m_nTotalUpdate,"场景绘制":Pl.m_nTotalDraw,"通道绘制":Pl.m_nTotalDrawPass};Pl.m_pMsg="'开销统计':"+JSON.stringify(Op);Pl.m_nCycleTick=0}},BeginScript:function(){Pl.m_nBeginScript=Zk["Time"]()},EndScript:function(){Pl.m_nTotalScript+=Zk["Time"]()-Pl.m_nBeginScript},BeginUpdate:function(){Pl.m_nBeginUpdate=Zk["Time"]()},EndUpdate:function(){Pl.m_nTotalUpdate+=Zk["Time"]()-Pl.m_nBeginUpdate},BeginDraw:function(){Pl.m_nBeginDraw=Zk["Time"]()},EndDraw:function(){Pl.m_nTotalDraw+=Zk["Time"]()-Pl.m_nBeginDraw},BeginMaterial:function(){Pl.m_nBeginMaterial=Zk["Time"]()},EndMaterial:function(){Pl.m_nTotalMaterial+=Zk["Time"]()-Pl.m_nBeginMaterial},BeginDrawPass:function(){Pl.m_nBeginDrawPass=Zk["Time"]()},EndDrawPass:function(Pp){Pl.m_nTotalDrawPass[Pp]=(Pl.m_nTotalDrawPass[Pp]?Pl.m_nTotalDrawPass[Pp]:0)+Zk["Time"]()-Pl.m_nBeginDrawPass}};return[Ol,Pl]});MiaokitMerge(function(Qp){if("Sisyphus"!==Qp["m_pConfig"]["ENGINE"]){return[]}var Rp=undefined;var Sp=true;function Tp(Zp){Up();Rp=Zp.OnRenderingEvent;Vp();var $p={memory:new WebAssembly.Memory({initial:64*16,maximum:32768}),APP_PLUGIN_TYPE:function(){return 2},APP_MEM_TYPE:function(){return 2},APP_MEM_RESERVE:function(){return 1024},APP_MEM_MALLOC:function(_p){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!");return 0},APP_MEM_FREE:function(aq){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!")},APP_MEM_BASE:function(){return 64*1024*1024},APP_MEM_GROW:function(bq){if(Qp["ShaderLab"]){var cq=Qp["ShaderLab"]["PreflushBuffer"]();$p["memory"].grow(bq/64/1024);var dq=$p["memory"].buffer;Qp["ShaderLab"]["FlushBuffer"](dq,cq)}else{$p["memory"].grow(bq/64/1024)}},APP_MEM_RECYCLE:function(eq){alert("WAMSģ�鲻֧�ֻ����ڴ�!")},UNITY_CREATE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_FREE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_GET:function(){alert("δװ��UNITY��չ!");return 0},UNITY_DO:function(){alert("δװ��UNITY��չ!");return 0}};Object["assign"]($p,Yp.Export);Zp.OnEngineLoad($p)}function Up(){var fq=document.getElementById("unityContainer");var gq=document.createElement("canvas");gq.id="3d";gq.width=fq.offsetWidth;gq.height=fq.offsetHeight;gq.style.width="100%";gq.style.height="100%";gq.style.top="0rem";gq.style.bottom="0rem";gq.style.left="0rem";gq.style.right="0rem";gq.style.position="absolute";gq.style.zIndex="1";fq.appendChild(gq);Yp["CreateContext"](gq,null);Qp["ShaderLab"]["Init"](Yp)}function Vp(){if(Sp){Sp=false;Xp()}}function Wp(){Sp=true}function Xp(){if(Sp){return}Qp.Profiler.BeginCycle();Qp.Profiler.BeginScript();Rp(0);Qp.Profiler.EndScript();if(Qp["WASM"]["Update"]){Qp.Profiler.BeginUpdate();Qp["WASM"]["Update"](0);Qp.Profiler.EndUpdate();Qp.Profiler.BeginDraw();Qp["WASM"]["Update"](1);Qp.Profiler.EndDraw()}Qp.Profiler.EndCycle();requestAnimationFrame(Xp)}var Yp=function(){var hq=undefined;var iq=[-1,-1,-1,-1];var jq=[-1,-1,-1];var kq=[-1,-1,-1,-1,-1,-1,-1];var lq=[-1,-1,-1,-1,-1,-1,-1];var mq=[null];var nq=null;var oq=null;var pq=0;var qq=function(){var yq=[null];var zq=[];var Aq=[];var Bq=0;var Cq=0;return{Analyze:function(){return", 'Image':["+Bq+","+zq.length+","+Cq+","+Aq.length+"]"},Get:function(Dq){return yq[Dq]},CreateImage:function(){var Eq=null;if(0<zq.length){Eq=zq.pop()}else{Bq++;Eq=yq.push(new Image)-1}return Eq},FreeImage:function(Fq){zq.push(Fq)},PushBuffer:function(Gq){var Hq=null;if(0<Aq.length){Hq=Aq.pop()}else{Cq++;Hq=yq.push(null)-1}yq[Hq]=Gq;return Hq},FreeBuffer:function(Iq){yq[Iq]=null;Aq.push(Iq)}}}();var rq=function(Jq){var Kq=mq.length;Jq.name=Kq;mq[Kq]=Jq;return Kq};var sq=function(Lq){return mq[Lq]};var tq=function(Mq,Nq){mq[Mq]=Nq};var uq=function(Oq,Pq){oq[Oq>>2]=Pq};var vq=function(Qq){return oq[Qq>>2]};var wq=function(Rq,Sq){return nq.subarray(Rq,Rq+Sq)};var xq={glGenVertexArrays:function(Tq,Uq){var Vq=hq["createVertexArray"]();if(!Vq||1!=Tq){console.error("gl.createVertexArray error!");return}var Wq=rq(Vq);uq(Uq,Wq)},glDeleteVertexArrays:function(Xq,Yq){var Zq=vq(Yq);var $q=sq(Zq);if(!$q||1!=Xq){console.error("gl.deleteVertexArray error!");return}hq["deleteVertexArray"]($q);tq(Zq,null)},glBindVertexArray:function(_q){hq["bindVertexArray"](sq(_q))},glVertexAttribPointer:function(ar,br,cr,dr,er,fr){hq.vertexAttribPointer(ar,br,cr,!!dr,er,fr)},glEnableVertexAttribArray:function(gr){hq.enableVertexAttribArray(gr)},glVertexAttribDivisor:function(hr,ir){hq["vertexAttribDivisor"](hr,ir)},glGenTextures:function(jr,kr){var lr=hq.createTexture();if(!lr||1!=jr){console.error("gl.createTexture error!");return}var mr=rq(lr);uq(kr,mr)},glDeleteTextures:function(nr,or){var pr=vq(or);var qr=sq(pr);if(!qr||1!=nr){console.error("gl.deleteTexture error!");return}hq.deleteTexture(qr);tq(pr,null)},glActiveTexture:function(rr){hq.activeTexture(rr)},glBindTexture:function(sr,tr){hq.bindTexture(sr,sq(tr))},glTexParameteri:function(ur,vr,wr){hq.texParameteri(ur,vr,wr)},glTexImage2DObj:function(xr,yr,zr,Ar,Br,Cr,Dr,Er,Fr,Gr){if(0==Gr){var Hr=qq.Get(Fr);if(Hr){if(Hr instanceof ArrayBuffer){hq.texImage2D(xr,yr,zr,Ar,Br,Cr,Dr,Er,new Uint8Array(Hr));qq.FreeBuffer(Fr)}else{hq.texParameterf(xr,34046,pq);hq.texImage2D(xr,yr,zr,Dr,Er,Hr);qq.FreeImage(Fr)}}}else{hq.texImage2D(xr,yr,zr,Ar,Br,Cr,Dr,Er,0===Fr?new Uint8Array(3):wq(Fr,Gr))}},glGenBuffers:function(Ir,Jr){var Kr=hq.createBuffer();if(!Kr||1!=Ir){console.error("gl.createBuffer error!");return}var Lr=rq(Kr);uq(Jr,Lr)},glDeleteBuffers:function(Mr,Nr){var Or=vq(Nr);var Pr=sq(Or);if(!Pr||1!=Mr){console.error("gl.deleteBuffer error!");return}hq.deleteBuffer(Pr);tq(Or,null)},glBindBuffer:function(Qr,Rr){hq.bindBuffer(Qr,sq(Rr))},glBufferData:function(Sr,Tr,Ur,Vr){if(!Ur){hq.bufferData(Sr,Tr,Vr)}else{hq.bufferData(Sr,wq(Ur,Tr),Vr)}},glBufferSubData:function(Wr,Xr,Yr,Zr){hq.bufferSubData(Wr,Xr,wq(Zr,Yr))},glBlendEquationSeparate:function($r,_r){if($r!=kq[1]||_r!=kq[2]){hq.blendEquationSeparate($r,_r);kq[1]=$r;kq[2]=_r}},glBlendFuncSeparate:function(as,bs,cs,ds){if(as!=kq[3]||bs!=kq[4]||cs!=kq[5]||ds!=kq[6]){hq.blendFuncSeparate(as,bs,cs,ds);kq[3]=as;kq[4]=bs;kq[5]=cs;kq[6]=ds}},glEnable:function(es){hq.enable(es)},glDisable:function(fs){hq.disable(fs)},glDepthFunc:function(gs){hq.depthFunc(gs)},glDepthMask:function(hs){hq.depthMask(!!hs)},glCullFace:function(is){hq.cullFace(is)},glPolygonOffset:function(js,ks){hq.polygonOffset(js,ks)},glViewport:function(ls,ms,ns,os){if(ns!=iq[2]||os!=iq[3]){hq.viewport(ls,ms,ns,os);iq[2]=ns;iq[3]=os}},glDrawArrays:function(ps,qs,rs){hq.drawArrays(ps,qs,rs)},glDrawArraysInstanced:function(ss,ts,us,vs){hq["drawArraysInstanced"](ss,ts,us,vs)},glDrawElements:function(ws,xs,ys,zs){hq.drawElements(ws,xs,ys,zs)},glDrawElementsInstanced:function(As,Bs,Cs,Ds,Es){hq["drawElementsInstanced"](As,Bs,Cs,Ds,Es)}};return{_name:"GL",_textures:mq,Ctx:null,ImageCache:qq,Export:xq,FlushHeap:function(){nq=Qp["WASM"]["HEAPU8"]();oq=Qp["WASM"]["HEAP32"]()},CreateContext:function(Fs,Gs){Gs=Gs||{majorVersion:2,minorVersion:0,alpha:0,depth:0,stencil:0,antialias:0,premultipliedAlpha:0,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:0,proxyContextToMainThread:0,renderViaOffscreenBackBuffer:0};if(Gs["explicitSwapControl"]){return 0}if(Gs["majorVersion"]==1){hq=Fs.getContext("webgl",Gs)||Fs.getContext("experimental-webgl",Gs);if(!hq){console.error("create webgl_1 error!");return}var Hs=hq.getExtension("ANGLE_instanced_arrays");if(Hs){hq["vertexAttribDivisor"]=function(Qs,Rs){Hs["vertexAttribDivisorANGLE"](Qs,Rs)};hq["drawArraysInstanced"]=function(Ss,Ts,Us,Vs){Hs["drawArraysInstancedANGLE"](Ss,Ts,Us,Vs)};hq["drawElementsInstanced"]=function(Ws,Xs,Ys,Zs,$s){Hs["drawElementsInstancedANGLE"](Ws,Xs,Ys,Zs,$s)}}else{console.error("!ANGLE_instanced_arrays")}var Is=hq.getExtension("OES_vertex_array_object");if(Is){hq["createVertexArray"]=function(){return Is["createVertexArrayOES"]()};hq["deleteVertexArray"]=function(_s){Is["deleteVertexArrayOES"](_s)};hq["bindVertexArray"]=function(at){Is["bindVertexArrayOES"](at)}}else{console.error("!OES_vertex_array_object")}var Js=["EXT_color_buffer_half_float","OES_texture_half_float","EXT_texture_filter_anisotropic","WEBGL_depth_texture","OES_element_index_uint","EXT_frag_depth","EXT_blend_minmax"];for(var Ks=0,Ls=Js;Ks<Ls.length;Ks++){var Ms=Ls[Ks];var Ns=hq.getExtension(Ms);if(!Ns){console.error("!"+Ms)}}}else{hq=Fs.getContext("webgl2",Gs);if(!hq){console.error("create webgl_2 error!");return}var Js=["EXT_color_buffer_float","EXT_texture_filter_anisotropic"];for(var Os=0,Ps=Js;Os<Ps.length;Os++){var Ms=Ps[Os];var Ns=hq.getExtension(Ms);if(!Ns){console.error("!"+Ms)}}}pq=hq.getParameter(34047);Yp.Ctx=hq;return 0},DestroyContext:function(){console.error("!DestroyContext")},GetTextureByHandle:function(bt){return mq[bt]},RegisterTexture:function(ct){return rq(ct)},BindViewport:function(dt,et,ft){var gt=dt&&dt.width||et;var ht=dt&&dt.height||ft;if(gt!=iq[2]||ht!=iq[3]){hq.viewport(0,0,gt,ht);iq[2]=gt;iq[3]=ht}},BindDepth:function(it){if(it){var jt=it.Write;var kt=hq[it.Func];if(1!=jq[0]){hq.enable(hq.DEPTH_TEST);jq[0]=1}if(jt!=jq[1]){hq.depthMask(jt);jq[1]=jt}if(kt!=jq[2]){hq.depthFunc(kt);jq[2]=kt}}else{if(0!=jq[0]){hq.disable(hq.DEPTH_TEST);jq[0]=0}}},BindBlend:function(lt,mt){if(lt){var nt=hq[lt.ColorFunc];var ot=hq[lt.AlphaFunc];var pt=hq[lt.ColorSrc];var qt=hq[lt.ColorDest];var rt=hq[lt.AlphaSrc];var st=hq[lt.AlphaDest];if(1!=kq[0]){hq.enable(hq.BLEND);kq[0]=1;mt(1)}hq.blendEquationSeparate(nt,ot);kq[1]=nt;kq[2]=ot;hq.blendFuncSeparate(pt,qt,rt,st);kq[3]=pt;kq[4]=qt;kq[5]=rt;kq[6]=st}else{if(0!=kq[0]){hq.disable(hq.BLEND);kq[0]=0;mt(0)}}},BindStencil:function(tt){if(tt){var ut=hq[tt.Func];var vt=tt.Value;var wt=tt.Mask;var xt=hq[tt.Faild];var yt=hq[tt.ZFaild];var zt=hq[tt.Pass];if(1!=lq[0]){hq.enable(hq.STENCIL_TEST);lq[0]=1}if(ut!=lq[1]||vt!=lq[2]||wt!=lq[3]){hq.stencilFunc(ut,vt,wt);lq[1]=ut;lq[2]=vt;lq[3]=wt}if(xt!=lq[4]||yt!=lq[5]||zt!=lq[6]){hq.stencilOp(xt,yt,zt);lq[4]=xt;lq[5]=yt;lq[6]=zt}}else{if(0!=lq[0]){hq.disable(hq.STENCIL_TEST);lq[0]=0}}}}}();Qp["WASM"]=Qp["WASM"]||{};Qp["WASM"]["LoadEngine"]=Tp;Vp["_name"]="Start";Wp["_name"]="Stop";return[Yp,Vp,Wp]});MiaokitMerge(function(At){var Bt=Date.now();function Ct(){return Date.now()-Bt}function Dt(Gt,Ht){if(Ht===void 0){Ht=0}if(2===Ht){console.warn("Track:",Ct(),Gt)}else if(2<Ht){console.error("Track:",Ct(),Gt)}else{console.info("Track:",Ct(),Gt)}}function Et(It,Jt,Kt){if(Kt===void 0){Kt=undefined}var Lt=new XMLHttpRequest;Lt.open("GET",It,true);Lt.responseType="arraybuffer";Lt.onprogress=function(Mt){if(0<Mt.total&&Kt){Kt(Mt.loaded/Mt.total)}};Lt.onload=function(Nt){if(Lt.status==200){Jt(Lt.response)}else{Jt(null)}};Lt.onerror=function(Ot){Dt(Ot,2);Jt(null)};Lt.send(null)}function Ft(Pt,Qt,Rt,St,Tt,Ut){var Vt=new XMLHttpRequest;Vt.onprogress=function(Wt){if(0<Wt.total&&Tt){Tt(Wt.loaded/Wt.total)}};Vt.onload=function(Xt){if(Vt.status==200){Ut(Vt.response)}else{Ut(null)}Vt=null};Vt.onerror=function(Yt){Dt(Yt,2);Ut(null)};Vt.responseType=Qt;Vt.open(Pt,Rt,true);Vt.send(St)}Ct["_name"]="Time";Dt["_name"]="Track";Et["_name"]="Fetch";Ft["_name"]="Request";return[Ct,Dt,Et,Ft]});MiaokitMerge(function(Zt){if("Unity"!==Zt["m_pConfig"]["ENGINE"]){return[]}if(!UnityLoader){return[]}var $t=Zt["m_pLogo"]||"data:image/png;base64,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";UnityLoader.Progress.Styles.Dark.progressLogoUrl=$t;UnityLoader.Progress.Styles.Light.progressLogoUrl=$t;if(UnityLoader.SystemInfo.mobile){UnityLoader.SystemInfo.mobile=false;UnityLoader.downloadJob=function(gu,hu){var iu=new XMLHttpRequest;iu.open("GET",hu.parameters.url);iu.responseType="arraybuffer";iu.onload=function(){UnityLoader.Compression.decompress(new Uint8Array(iu.response),function(ju){hu.complete(ju)})};if(hu.parameters.onprogress)iu.addEventListener("progress",hu.parameters.onprogress);if(hu.parameters.onload)iu.addEventListener("load",hu.parameters.onload);iu.send()}}UnityLoader.processWasmFrameworkJob=function(ku,lu){var mu=UnityLoader.Job.result(ku,"downloadWasmFramework");UnityLoader.loadCode(ku,mu,function(nu,ou){ku["mainScriptUrlOrBlob"]=ou;if(ku.isModularized){UnityLoader[nu]=UnityModule}ku["instantiateWasm"]=function(pu,qu){cu(ku,pu["env"]);if(ku["wasmBinary"]){WebAssembly.instantiate(ku["wasmBinary"],pu).then(function(ru){qu(ru.instance,ru.module)})}else{console.info("MiaokitLoader.InitUnity.instantiateWasm error!")}return{}};UnityLoader[nu](ku);lu.complete()},{Module:ku,url:ku["wasmFrameworkUrl"],isModularized:ku.isModularized})};var _t=null;var au=null;var bu={};function cu(su,tu){Object["assign"](tu,{_Init:function(uu,vu){Zt["WASM"]["m_pMemory"]=Zt["WASM"]["m_pMemory"]||au.Module.wasmMemory;du(su,bu,uu,vu);eu(au,bu);_t.OnEngineLoad(bu)},_RenderingEvent:function(wu){_t.OnRenderingEvent(wu)}});Zt["GL"]=tu}function du(xu,yu,zu,Au){var Bu=Zt.WASM.GetString(zu,Au);var Cu=JSON.parse(Bu);var Du=function(Hu){var Iu=function(){var Ju=Array.prototype.slice.call(arguments);Ju.unshift(Iu["m_nAddr"]);return Iu["m_pFunc"].apply(this,Ju)};Iu["m_pFunc"]=xu[Hu.Call];Iu["m_nAddr"]=Hu.Addr;yu[Hu.Name]=Iu};for(var Eu=0,Fu=Cu.List;Eu<Fu.length;Eu++){var Gu=Fu[Eu];Du(Gu)}}function eu(Ku,Lu){Lu["APP_PLUGIN_TYPE"]=function(){return 1};Lu["APP_MEM_TYPE"]=function(){return 1};Lu["memory"]=function(Mu){var Nu=32*1024*1024;var Ou=Mu._memalign(16,Nu);var Pu=Nu-Ou;Mu._free(Ou);var Qu=Mu._memalign(16,Pu+Nu);if(Qu!==Ou){console.error("miaokit.prememory: addr error",Ou,Qu);return}if(Qu+Pu+Nu!==67108864){console.error("miaokit.prememory: addr end error",Qu+Pu+Nu);return}Lu["APP_MEM_RESERVE"]=function(){return Qu};return Mu.wasmMemory}(au.Module);Lu["APP_MEM_MALLOC"]=function(Ru){return au.Module._memalign(16,Ru)};Lu["APP_MEM_FREE"]=function(Su){au.Module._free(Su)};Lu["APP_MEM_BASE"]=function(){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Lu["APP_MEM_GROW"]=function(Tu){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Lu["APP_MEM_RECYCLE"]=function(Uu){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0}}function fu(Vu){_t=Vu;au=UnityLoader.instantiate("unityContainer",Zt["m_pConfig"]["UNITY"])}Zt["WASM"]=Zt["WASM"]||{};Zt["WASM"]["LoadEngine"]=fu;return[]});MiaokitMerge(function(Wu){var Xu=undefined;var Yu=new TextDecoder("utf-8");var Zu=new TextEncoder;function $u(_u){if(!Xu||Wu["WASM"].m_pMemory.buffer.byteLength!==Xu[0].byteLength){if(!Xu){Xu=[]}Xu[0]=new Int8Array(Wu["WASM"].m_pMemory.buffer);Xu[1]=new Uint8Array(Wu["WASM"].m_pMemory.buffer);Xu[2]=new Int16Array(Wu["WASM"].m_pMemory.buffer);Xu[3]=new Uint16Array(Wu["WASM"].m_pMemory.buffer);Xu[4]=new Int32Array(Wu["WASM"].m_pMemory.buffer);Xu[5]=new Uint32Array(Wu["WASM"].m_pMemory.buffer);Xu[6]=new Float32Array(Wu["WASM"].m_pMemory.buffer);Xu[7]=new Float64Array(Wu["WASM"].m_pMemory.buffer)}return Xu[_u]}Wu["WASM"]=Wu["WASM"]||{};Wu["WASM"]["HEAP8"]=function(av,bv){if(av===void 0){av=0}if(bv===void 0){bv=0}var cv=$u(0);if(av&&bv){return cv.subarray(av,av+bv)}else{return cv}};Wu["WASM"]["HEAPU8"]=function(dv,ev){if(dv===void 0){dv=0}if(ev===void 0){ev=0}var fv=$u(1);if(dv&&ev){return fv.subarray(dv,dv+ev)}else{return fv}};Wu["WASM"]["HEAP16"]=function(gv,hv){if(gv===void 0){gv=0}if(hv===void 0){hv=0}var iv=$u(2);if(gv&&hv){return iv.subarray(gv/2,(gv+hv)/2)}else{return iv}};Wu["WASM"]["HEAPU16"]=function(jv,kv){if(jv===void 0){jv=0}if(kv===void 0){kv=0}var lv=$u(3);if(jv&&kv){return lv.subarray(jv/2,(jv+kv)/2)}else{return lv}};Wu["WASM"]["HEAP32"]=function(mv,nv,ov){if(mv===void 0){mv=0}if(nv===void 0){nv=0}var pv=$u(4);if(mv&&nv){if(ov){return pv.slice(mv/4,(mv+nv)/4)}else{return pv.subarray(mv/4,(mv+nv)/4)}}else{return pv}};Wu["WASM"]["HEAPU32"]=function(qv,rv){if(qv===void 0){qv=0}if(rv===void 0){rv=0}var sv=$u(5);if(qv&&rv){return sv.subarray(qv/4,(qv+rv)/4)}else{return sv}};Wu["WASM"]["HEAPF32"]=function(tv,uv,vv){if(tv===void 0){tv=0}if(uv===void 0){uv=0}var wv=$u(6);if(tv&&uv){if(vv){return wv.slice(tv/4,(tv+uv)/4)}else{return wv.subarray(tv/4,(tv+uv)/4)}}else{return wv}};Wu["WASM"]["HEAPF64"]=function(xv,yv){if(xv===void 0){xv=0}if(yv===void 0){yv=0}var zv=$u(7);if(xv&&yv){return zv.subarray(xv/8,(xv+yv)/8)}else{return zv}};Wu["WASM"]["GetString"]=function(Av,Bv){if(!Bv){var Cv=Wu["WASM"].HEAPU8();var Dv=Av;while(0!==Cv[Dv++]);Bv=Dv-Av-1}var Ev=Wu["WASM"].HEAPU8(Av,Bv);var Fv=Yu.decode(Ev);return Fv};Wu["WASM"]["SetString"]=function(Gv,Hv){var Iv=Zu.encode(Hv);var Jv=Wu["WASM"].HEAPU8(Gv,Iv.byteLength);Jv.set(Iv)};Wu["WASM"]["EncodeString"]=function(Kv){return Zu.encode(Kv)};Wu["WASM"]["m_pMemory"]=null;return[]});