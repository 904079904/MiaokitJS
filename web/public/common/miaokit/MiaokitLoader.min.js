var MiaokitModule=function(a,b){var c=this;c["m_pConfigPath"]=b;c["m_pConfig"]={ENGINE:a};c["Merge"](c);c["Preload"]()};var MiaokitMerge=function(d){var e=[];d["Merge"]=d["Merge"]||function(f){for(var g=0,h=e;g<h.length;g++){var i=h[g];var j=i(f);if(j){for(var k=0,l=j;k<l.length;k++){var m=l[k];f[m._name]=m}}}};return function(n){e.push(n)}}(MiaokitModule.prototype);MiaokitMerge(function(o){var p=undefined;var q=undefined;var r={};var s=function(u,v){if(v===void 0){v=undefined}var w=0;this.length=u(-1);this[Symbol.iterator]=function(){return{next:function(){var x=u(w);if(x){var y=p(x);w=v?w+1:y.m_nObject;return{value:y,done:false}}return{value:undefined,done:true}}}}};r["Transform"]=function(z){Object.defineProperty(z,"position",{get:function(){var A=this["_GetPosition"]()/4;var B=o["WASM"].HEAPF32();return{x:B[A],y:B[A+1],z:B[A+2]}},set:function(C){this["_SetPosition"](C.x,C.y,C.z)}});Object.defineProperty(z,"euler",{get:function(){var D=this["_GetEuler"]()/4;var E=o["WASM"].HEAPF32();return{x:E[D],y:E[D+1],z:E[D+2]}},set:function(F){this["_SetEuler"](F.x,F.y,F.z)}});Object.defineProperty(z,"rotation",{get:function(){var G=this["_GetRotation"]()/4;var H=o["WASM"].HEAPF32();return{x:H[G],y:H[G+1],z:H[G+2],w:H[G+3]}},set:function(I){this["_SetRotation"](I.x,I.y,I.z,I.w)}});Object.defineProperty(z,"scale",{get:function(){var J=this["_GetScale"]()/4;var K=o["WASM"].HEAPF32();return{x:K[J],y:K[J+1],z:K[J+2]}},set:function(L){this["_SetScale"](L.x,L.y,L.z)}});Object.defineProperty(z,"localPosition",{get:function(){var M=this["_GetLocalPosition"]()/4;var N=o["WASM"].HEAPF32();return{x:N[M],y:N[M+1],z:N[M+2]}},set:function(O){this["_SetLocalPosition"](O.x,O.y,O.z)}});Object.defineProperty(z,"localEuler",{get:function(){var P=this["_GetLocalEuler"]()/4;var Q=o["WASM"].HEAPF32();return{x:Q[P],y:Q[P+1],z:Q[P+2]}},set:function(R){this["_SetLocalEuler"](R.x,R.y,R.z)}});Object.defineProperty(z,"localRotation",{get:function(){var S=this["_GetLocalRotation"]()/4;var T=o["WASM"].HEAPF32();return{x:T[S],y:T[S+1],z:T[S+2],w:T[S+3]}},set:function(U){this["_SetLocalRotation"](U.x,U.y,U.z,U.w)}});Object.defineProperty(z,"localScale",{get:function(){var V=this["_GetLocalScale"]()/4;var W=o["WASM"].HEAPF32();return{x:W[V],y:W[V+1],z:W[V+2]}},set:function(X){this["_SetLocalScale"](X.x,X.y,X.z)}});Object.defineProperty(z,"right",{get:function(){var Y=this["_GetRight"]()/4;var Z=o["WASM"].HEAPF32();return{x:Z[Y],y:Z[Y+1],z:Z[Y+2]}},set:function($){this["_SetRight"]($.x,$.y,$.z)}});Object.defineProperty(z,"up",{get:function(){var _=this["_GetUp"]()/4;var aa=o["WASM"].HEAPF32();return{x:aa[_],y:aa[_+1],z:aa[_+2]}},set:function(){var ba=this["_SetUp"]()/4;var ca=o["WASM"].HEAPF32();return{x:ca[ba],y:ca[ba+1],z:ca[ba+2]}}});Object.defineProperty(z,"forward",{get:function(){var da=this["_GetForward"]()/4;var ea=o["WASM"].HEAPF32();return{x:ea[da],y:ea[da+1],z:ea[da+2]}},set:function(){var fa=this["_SetForward"]()/4;var ga=o["WASM"].HEAPF32();return{x:ga[fa],y:ga[fa+1],z:ga[fa+2]}}});Object.defineProperty(z,"regionPosition",{get:function(){var ha=this["_GetRegionPosition"]()/4;var ia=o["WASM"].HEAPF32();return{x:ia[ha],y:ia[ha+1],z:ia[ha+2]}}});z["Rotate"]=function(ja,ka){this["_Rotate"](ja.x,ja.y,ja.z,ka)};z["Rotate2"]=function(la,ma,na){this["_Rotate2"](la.x,la.y,la.z,ma,na)};z["Translate"]=function(oa,pa){this["_Translate"](oa.x,oa.y,oa.z,pa)};z["TransformPoint"]=function(qa){var ra=this["_TransformPoint"](qa.x,qa.y,qa.z)/4;var sa=o["WASM"].HEAPF32();return{x:sa[ra],y:sa[ra+1],z:sa[ra+2]}}};r["GameObject"]=function(ta){Object.defineProperty(ta,"name",{get:function(){if(!this._name){var ua=this._GetName(0);var va=this._GetName(1);this._name=o["WASM"].GetString(va,ua)}return this._name}});Object.defineProperty(ta,"transform",{get:function(){return p(this["_GetTransform"]())}});Object.defineProperty(ta,"mesh",{get:function(){return p(this["_GetMesh"]())},set:function(wa){this["_SetMesh"](wa.m_nObject)}});Object.defineProperty(ta,"children",{get:function(){var xa=this;return new s(function(ya){return xa._IterChild(ya)},true)}});Object.defineProperty(ta,"parent",{get:function(){return p(this["_GetParent"]())}});Object.defineProperty(ta,"data",{get:function(){return p(this["_GetUserData"]())},set:function(za){}});Object.defineProperty(ta,"enableCollider",{set:function(Aa){this["_EnableCollider"](Aa)}});Object.defineProperty(ta,"active",{set:function(Ba){this["_Active"](Ba)}});Object.defineProperty(ta,"highlight",{set:function(Ca){this["_Highlight"](Ca)}});Object.defineProperty(ta,"transparent",{set:function(Da){console.warn("transparent discard!")}});Object.defineProperty(ta,"opacity",{set:function(Ea){this["_Transparent"](Ea)}});ta["Destory"]=function(){this["_Destory"]()};o["GameObject"]=function(){return p(ta._GameObject())}};r["Miaokit"]=function(Fa){Fa["LoadTile"]=function(Ga){var Ha=this["_Malloc"](Ga.byteLength);if(Ha){o["WASM"]["HEAPU8"](Ha,Ga.byteLength).set(new Uint8Array(Ga));var Ia=this["_LoadTile"](Ha,Ga.byteLength);var Ja=p(Ia);return Ja}return null};Fa["Analyze"]=function(Ka){var La=this["_Analyze"]();var Ma=o["WASM"].HEAP32()[La/4];var Na=o["WASM"].GetString(La+4,Ma);try{var Oa=JSON.parse(Na);var Pa=q(Ka).concat(Oa);return Pa}catch(Qa){console.log(Na)}return null};Fa["PickEntity"]=function(Ra){return p(this["_PickEntity"](Ra))};Fa["GetScene"]=function(Sa){return p(this["_GetScene"](Sa))};Fa["WorldToScreenPoint"]=function(Ta){var Ua=this["_WorldToScreenPoint"](Ta.x,Ta.y,Ta.z)/4;var Va=o["WASM"].HEAPF32();return{x:Va[Ua],y:Va[Ua+1],z:Va[Ua+2]}};Fa["ScreenPointToRay"]=function(Wa){var Xa=this["_ScreenPointToRay"](Wa.x,Wa.y,Wa.z)/4;var Ya=o["WASM"].HEAPF32();return{m_mOrigin:{x:Ya[Xa],y:Ya[Xa+1],z:Ya[Xa+2]},m_mDirection:{x:Ya[Xa+4],y:Ya[Xa+5],z:Ya[Xa+6]}}};Object.defineProperty(Fa,"camera",{get:function(){return p(this["_GetCamera"]())}});Object.defineProperty(Fa,"cameraMode",{set:function(Za){this["_SetCameraMode"](Za)}});Object.defineProperty(Fa,"gis",{get:function(){if(!this._gis){this._gis=r["Gis"]["g_pIns"]}return this._gis}});Object.defineProperty(Fa,"progress",{get:function(){return this["_GetProgress"]()}})};r["Mesh"]=function($a){$a["SetVertices"]=function(_a,ab){this["m_aVertex"]=this["m_aVertex"]||[];this["m_aVertex"].push({m_pArray:ab,m_nSlot:this["_SlotLut"][_a],m_nItemSize:this["_SizeLut"][_a]})};$a["SetIndices"]=function(bb,cb,db){this["m_aIndex"]=this["m_aIndex"]||[];this["m_aIndex"][bb]={m_pArray:cb,m_nItemSize:db}};$a["Apply"]=function(){var eb=this["m_aVertex"];var fb=this["m_aIndex"];if(!eb||!fb){return}var gb=2+2*eb.length+3*fb.length;var hb=this._CreateBuffer(gb);var ib=o["WASM"]["HEAP32"](hb,gb*4);var jb=0;ib[jb++]=eb.length;ib[jb++]=fb.length;for(var kb=0;kb<eb.length;kb++){ib[jb++]=eb[kb].m_nSlot;ib[jb++]=eb[kb].m_pArray.length/eb[kb].m_nItemSize}for(var kb=0;kb<fb.length;kb++){ib[jb++]=0;ib[jb++]=0;ib[jb++]=fb[kb].m_pArray.length}this._CreateBuffer(0);for(var kb=0;kb<eb.length;kb++){var lb=eb[kb].m_pArray;var mb=this._GetVertexBuffer(kb);var nb=o["WASM"]["HEAPF32"](mb,lb.length*4);nb.set(lb)}for(var kb=0;kb<fb.length;kb++){var lb=fb[kb].m_pArray;var mb=this._GetIndexBuffer(kb);var nb=o["WASM"]["HEAP32"](mb,lb.length*4);nb.set(lb)}this._Apply();this["m_aVertex"]=undefined;this["m_aIndex"]=undefined};$a["_SlotLut"]={position:0,normal:1,uv:2,color:3,tangent:4,uv2:9,uv3:10,uv4:11,uv5:12,uv6:13,uv7:14,uv8:15};$a["_SizeLut"]={position:3,normal:3,uv:2,color:4,tangent:4,uv2:2,uv3:2,uv4:2,uv5:2,uv6:2,uv7:2,uv8:2};Object.defineProperty($a,"position",{set:function(ob){this.SetVertices("position",ob)}});Object.defineProperty($a,"normal",{set:function(pb){this.SetVertices("normal",pb)}});Object.defineProperty($a,"uv",{set:function(qb){this.SetVertices("uv",qb)}});Object.defineProperty($a,"triangles",{set:function(rb){this.SetIndices(0,rb)}});Object.defineProperty($a,"material",{set:function(sb){this.SetMaterial(0,sb)}});o["Mesh"]=function(){return p($a._Mesh())}};r["Texture2D"]=function(tb){tb["SetImageData"]=function(ub){var vb=this._CreateBuffer(ub.byteLength);if(vb){o["WASM"]["HEAPU8"](vb,ub.byteLength).set(new Uint8Array(ub));this._Apply()}};tb["Load"]=function(wb){var xb=this;o["Fetch"](wb,function(yb){if(yb){xb.SetImageData(yb)}})};o["Texture2D"]=function(zb){var Ab=p(tb._Texture2D());if(zb){if("string"===typeof zb){this.Load(zb)}else{this.SetImageData(zb)}}return Ab}};r["Material"]=function(Bb){if("Sisyphus"===o["m_pConfig"]["ENGINE"]){o["ShaderLab"].ExpandMaterial(Bb)}Bb["GetTexture"]=function(){return p(this["_GetTexture"]())};Bb["SetTexture"]=function(Cb){this["_SetTexture"](Cb.m_nObject)};o["Material"]=function(Db){if(Db===void 0){Db=undefined}var Eb=null;if(Db){var Fb=o["ShaderLab"]["Pipeline"]["InternalShader"];var Gb=Fb[0];Fb[0]=Db;Eb=p(Bb._Material());Fb[0]=Gb}else{Eb=p(Bb._Material())}return Eb}};r["Tile"]=function(Hb){Object.defineProperty(Hb,"scenes",{get:function(){var Ib=this;return new s(function(Jb){return Ib._IterWork(Jb)})}});Object.defineProperty(Hb,"object3D",{get:function(){if(undefined===this._object3D){var Kb=this._GetObject(this.m_nObject);if(0===Kb){this._object3D=null;return null}this._object3D=p(Kb)}return this._object3D}})};r["Scene"]=function(Lb){Lb["GetLayer"]=function(Mb){return p(this["_GetLayer"](Mb))};Object.defineProperty(Lb,"id",{get:function(){if(!this._id){var Nb=this._GetID(0);var Ob=this._GetID(1);this._id=o["WASM"].GetString(Ob,Nb)}return this._id}});Object.defineProperty(Lb,"layers",{get:function(){var Pb=this;return new s(function(Qb){return Pb._IterLayer(Qb)})}});Object.defineProperty(Lb,"object3D",{get:function(){if(undefined===this._object3D){var Rb=this._GetObject(this.m_nObject);if(0===Rb){this._object3D=null;return null}this._object3D=p(Rb)}return this._object3D}});Object.defineProperty(Lb,"viewState",{get:function(){return{m_mTarget:{x:0,y:0,z:0},m_nPitch:45,m_nYaw:0,m_nDistance:60,m_mOrthoTarget:{x:0,y:0,z:0},m_nOrthoScaled:0,m_nOrthoRotate:0}}});Object.defineProperty(Lb,"binding",{get:function(){return p(this._GetBinding())}})};r["Layer"]=function(Sb){Object.defineProperty(Sb,"id",{get:function(){if(!this._id){var Tb=this._GetID(0);var Ub=this._GetID(1);this._id=o["WASM"].GetString(Ub,Tb)}return this._id}});Object.defineProperty(Sb,"sites",{get:function(){var Vb=this;return new s(function(Wb){return Vb._IterSite(Wb)})}});Object.defineProperty(Sb,"object3D",{get:function(){if(undefined===this._object3D){var Xb=this._GetObject(this.m_nObject);if(0===Xb){this._object3D=null;return null}this._object3D=p(Xb)}return this._object3D}});Object.defineProperty(Sb,"viewState",{get:function(){var Yb=this["_GetViewState"]();if(0<Yb){var Zb=o["WASM"]["HEAPF32"](Yb,4*11);var $b=0;return{m_mTarget:{x:Zb[$b++],y:Zb[$b++],z:Zb[$b++]},m_nPitch:Zb[$b++],m_nYaw:Zb[$b++],m_nDistance:Zb[$b++],m_mOrthoTarget:{x:Zb[$b++],y:Zb[$b++],z:Zb[$b++]},m_nOrthoScaled:Zb[$b++],m_nOrthoRotate:Zb[$b++]}}return null}})};r["Attachment"]=function(_b){Object.defineProperty(_b,"entityType",{get:function(){return this._GetEntityType()}});Object.defineProperty(_b,"secondType",{get:function(){return this._GetSecondType()}});Object.defineProperty(_b,"flag",{get:function(){return this._GetFlag()}});Object.defineProperty(_b,"object3D",{get:function(){return p(this._GetObject())}});Object.defineProperty(_b,"viewState",{get:function(){var ac=this["_GetViewState"]();if(0<ac){var bc=o["WASM"]["HEAPF32"](ac,4*11);var cc=0;var dc={m_mTarget:{x:bc[cc++],y:bc[cc++],z:bc[cc++]},m_nPitch:bc[cc++],m_nYaw:bc[cc++],m_nDistance:bc[cc++],m_mOrthoTarget:{x:bc[cc++],y:bc[cc++],z:bc[cc++]},m_nOrthoScaled:bc[cc++],m_nOrthoRotate:bc[cc++]};console.log("attachment view:",dc);return dc}else{console.log("attachment view: null")}return null}})};r["Site"]=function(ec){Object.defineProperty(ec,"id",{get:function(){if(!this._id){var fc=this._GetID(0);var gc=this._GetID(1);this._id=o["WASM"].GetString(gc,fc)}return this._id}});Object.defineProperty(ec,"layer",{get:function(){return p(this["_Layer"]())}});Object.defineProperty(ec,"scene",{get:function(){return p(this["_Scene"]())}});Object.defineProperty(ec,"type",{get:function(){return this["_Type"]()}});Object.defineProperty(ec,"number",{get:function(){return this["_Number"]()}});Object.defineProperty(ec,"position",{get:function(){var hc=this["_Position"]()/4;var ic=o["WASM"].HEAPF32();return{x:ic[hc],y:ic[hc+1],z:ic[hc+2]}}})};r["Prefab"]=function(jc){jc["Instantiate"]=function(){return p(this["_Instantiate"]())};o["LoadPrefab"]=function(kc,lc){o["Fetch"](kc,function(mc){var nc=null;if(mc){var oc=jc._Prefab();var pc=p(oc);var qc=pc.CreateBuffer(mc.byteLength);if(qc){o["WASM"]["HEAPU8"](qc,mc.byteLength).set(new Uint8Array(mc));pc.Apply();nc=pc}}lc(nc)})}};r["Gis"]=function(rc){rc["Update"]=function(sc,tc,uc){return this["_Update"](sc,tc,uc)};rc["AddSvetile"]=function(vc){var wc=o["WASM"]["EncodeString"](vc.m_pUrl);var xc=this["_CreateSvetileDesc"](wc.byteLength);var yc=o["WASM"]["HEAPU32"](xc,4*8);yc[0]=vc.m_nID;yc[1]=vc.m_nFlags;o["WASM"]["HEAPU8"](yc[2],wc.byteLength).set(wc,0);yc[3]=0;yc[4]=o["WASM"]["RegisterDelegate"](function(Ac,Bc){vc.OnActive(p(Ac),0<Bc)});var zc=o["WASM"]["HEAPF32"](xc+20,16);zc[0]=vc.m_mLngLat.x;zc[1]=vc.m_mLngLat.y;zc[2]=vc.m_mSize.x;zc[3]=vc.m_mSize.y;this["_AddSvetile"](xc)};rc["AddMapbox"]=function(Cc){var Dc=this["_GetMapboxDesc"]();var Ec=o["WASM"]["HEAPF32"](Dc,40);Ec[0]=Cc.m_mOffset.x;Ec[1]=Cc.m_mOffset.y;Ec[2]=Cc.m_mOffset.z;Ec[3]=Cc.m_mScale.x;Ec[4]=Cc.m_mScale.y;Ec[5]=Cc.m_mScale.z;Ec[6]=Cc.m_mLngLat.x;Ec[7]=Cc.m_mLngLat.y;Ec[8]=Cc.m_mSize.x;Ec[9]=Cc.m_mSize.y;this["_AddMapbox"](Dc)};rc["AddGameObject"]=function(Fc,Gc,Hc){this["_AddGameObject"](Fc.m_nObject,Gc,Hc)};Object.defineProperty(rc,"imageServer",{set:function(Ic){if(!Ic){Ic="http://t%d.tianditu.gov.cn/DataServer?T=vec_c&tk=fb14b0853d59b619e18c259898bd0d4d&x=%d&y=%d&l=%d"}var Jc=this["_GetServer"](1);o["WASM"].SetString(Jc,Ic)}});Object.defineProperty(rc,"terrainServer",{set:function(Kc){if(!Kc){Kc="https://t%d.tianditu.gov.cn/dem_sjk/DataServer?T=ele_c&tk=fb14b0853d59b619e18c259898bd0d4d&x=%d&y=%d&l=%d"}var Lc=this["_GetServer"](0);o["WASM"].SetString(Lc,Kc)}})};r["Dioramas3MX"]=function(Mc){Mc["_Load3MX"]=function(Nc,Oc,Pc){var Qc=this;var Rc=Qc.m_pFileLut[Nc];var Sc=Rc.m_pPath+Rc.m_aFile[Oc];o["Request"]("GET","arraybuffer",Sc,null,null,function(Tc){if(!Tc){return}var Uc=new Uint32Array(Tc,0,2);if(1113083187===Uc[0]){var Vc=Uc[1]>>8;var Wc=9+Vc;var Xc=Tc.byteLength-Wc;var Yc=new Uint8Array(Tc,9,Vc);var Zc=Qc.m_pTextDecoder.decode(Yc);var $c=JSON.parse(Zc);var _c={m_pPath:Sc.substring(0,Sc.lastIndexOf("/")+1),m_aFile:[]};var ad=[];var bd=[];var cd=$c.resources;var dd=0;for(var ed=0;ed<cd.length;ed++){ad.push(ed);if("textureBuffer"===cd[ed].type){ad.push(0);bd.push(ed);if("jpg"===cd[ed].format){ad.push(0)}else if("png"===cd[ed].format){ad.push(1)}else{ad.push(1e4)}}else if("geometryBuffer"===cd[ed].type){ad.push(1);if("ctm"===cd[ed].format){ad.push(0)}else{ad.push(1e4)}}else{ad.push(1e4);ad.push(1e4)}ad.push(cd[ed].size);ad.push(dd);dd+=cd[ed].size;ad.push(1e4);if(cd[ed].texture){for(var fd=0;fd<cd.length;fd++){if(cd[ed].texture===cd[fd].id){ad[ad.length-1]=fd;break}}}}var gd=[];var hd=$c.nodes;for(var ed=0;ed<hd.length;ed++){var id=hd[ed];var jd=id.bbMax[0]-id.bbMin[0];var kd=id.bbMax[1]-id.bbMin[1];var ld=id.bbMax[2]-id.bbMin[2];var md=Math.sqrt(jd*jd+kd*kd+ld*ld);gd.push(Math.floor(parseInt(id.bbMin[0]+id.bbMax[0])*.5*100));gd.push(Math.floor(parseInt(id.bbMin[1]+id.bbMax[1])*.5*100));gd.push(Math.floor(parseInt(id.bbMin[2]+id.bbMax[2])*.5*100));gd.push(Math.floor(md*100));gd.push(Math.floor(id.maxScreenDiameter));var nd=id.children?id.children.length:0;if(0<nd){gd.push(_c.m_aFile.length);for(var fd=0;fd<nd;fd++){_c.m_aFile.push(id.children[fd])}gd.push(_c.m_aFile.length)}else{gd.push(-1);gd.push(-1)}var od=id.resources?id.resources.length:0;if(0<od){gd.push(bd.length);for(var fd=0;fd<od;fd++){for(var pd=0;pd<cd.length;pd++){if(id.resources[fd]===cd[pd].id){bd.push(pd);break}}}gd.push(bd.length)}else{gd.push(-1);gd.push(-1)}}var qd=4+9*hd.length+6*bd.length;var rd=4*qd;var sd=rd+Xc;var td=Qc["_CreateBuffer"](sd);if(td){var ud=o["WASM"]["HEAP32"](td,rd);ud[0]=rd;ud[1]=hd.length;ud[2]=bd.length;ud[3]=Qc.m_pFileLut.length;ud.set(gd,4);var vd=4+gd.length;for(var ed=0;ed<bd.length;ed++){var wd=6*bd[ed];for(var fd=0;fd<6;fd++){ud[vd++]=ad[wd++]}}var xd=o["WASM"]["HEAPU8"](td+rd,Xc);xd.set(new Uint8Array(Tc,Wc,Xc));Qc["_Dispose"](Pc)}Qc.m_pFileLut.push(_c)}})};Mc["Update"]=function(){return this["_Update"]()};Object.defineProperty(Mc,"object3D",{get:function(){return p(this["_GetObject"]())}});o["Dioramas3MX"]=function(yd,zd){var Ad=p(Mc._Dioramas3MX());Ad.m_pFileLut=[];Ad.m_pTextDecoder=new TextDecoder("utf-8");if(zd){if(zd.m_pGis){zd.m_pGis.AddGameObject(Ad.object3D,zd.m_mLngLat.x,zd.m_mLngLat.y);Ad.object3D.transform.Translate(zd.m_mOffset,1);Ad.object3D.transform.Rotate({x:0,y:0,z:0},1)}}o["Request"]("GET","json",yd,null,null,function(Bd){Ad["m_pMeta"]=Bd;var Cd={m_pPath:yd.substring(0,yd.lastIndexOf("/")+1),m_aFile:[]};var Dd=[0];for(var Ed=0;Ed<Bd.layers.length;Ed++){if("meshPyramid"===Bd.layers[Ed].type){Dd.push(Ed);Dd.push(Cd.m_aFile.length);Cd.m_aFile.push(Bd.layers[Ed].root)}}Dd[0]=Cd.m_aFile.length;var Fd=Ad["_CreateBuffer"](4*Dd.length);var Gd=o["WASM"]["HEAP32"](Fd,4*Dd.length);Gd.set(Dd);Ad["_Initialize"](Fd);Ad.m_pFileLut.push(Cd)});return Ad}};function t(Hd,Id,Jd){p=Id;q=Jd;for(var Kd=0,Ld=Hd;Kd<Ld.length;Kd++){var Md=Ld[Kd];if(Md){var Nd=Md.prototype;if(r[Nd._type_name]){r[Nd._type_name](Nd)}if("Miaokit"===Nd._type_name){o["Miaokit"]=new Md(0,0)}else if("Gis"===Nd._type_name){r["Gis"]["g_pIns"]=new Md(0,0)}}}}o["WASM"]=o["WASM"]||{};o["WASM"]["LoadClass"]=t;return[]});MiaokitMerge(function(Od){Od["m_pLogo"]=null;var Pd=undefined;var Qd=false;var Rd=false;function Sd(){Od["Track"]("Preload");Od["Request"]("GET","json",Od["m_pConfigPath"],null,null,function(Vd){if(!Vd){Od["Track"]("配置文件错误！",3);return}Od["m_pConfig"]=Vd;Od["Fetch"](Vd.MODULE,function(Yd){if(Pd){Pd(Yd)}else{Pd=Yd}});if(Vd.SVE){var Wd=function(Zd){var $d=Vd.SVE[Zd];$d.m_pData=null;$d.m_pTile=null;if(true===$d.m_bPreload){Od["Fetch"]($d.m_pProject,function(_d){$d.m_pData=_d;if(Rd&&_d){$d.m_pTile=Od["Miaokit"]["LoadTile"]($d.m_pData);$d.m_pData=null;Od["App"]["ActiveTile"]($d)}})}};for(var Xd=0;Xd<Vd.SVE.length;Xd++){Wd(Xd)}}if(Od["App"]&&Od["App"].m_pProject){Od["App"]["Preload"]()}else{Qd=true}})}function Td(ae,be){Od["Track"]("LoadEngine");if(Qd){Od["App"]["Preload"]();Qd=false}Od["WASM"]["LoadEngine"]({OnEngineLoad:function(ce){Od["Track"]("LoadEngine End");if(Pd){Od["Track"]("LoadMiaokit");Od["WASM"]["LoadMiaokit"](Pd,ce,function(){ae();Rd=true;Ud()})}else{Od["Track"]("LoadMiaokit Delay");Pd=function(de){Od["Track"]("LoadMiaokit");Od["WASM"]["LoadMiaokit"](de,ce,function(){ae();Rd=true;Ud()})}}},OnRenderingEvent:function(ee){if(Rd){be(ee)}}})}function Ud(){Od["Track"]("LoadMiaokit End");var fe=Od["m_pConfig"]["SVE"];if(fe){for(var ge=0,he=fe;ge<he.length;ge++){var ie=he[ge];if(true===ie.m_bPreload){if(null===ie.m_pTile&&null!==ie.m_pData){ie.m_pTile=Od["Miaokit"]["LoadTile"](ie.m_pData);ie.m_pData=null;Od["App"]["ActiveTile"](ie)}}}}}Sd["_name"]="Preload";Td["_name"]="Load";return[Sd,Td]});MiaokitMerge(function(je){var ke=function(){function me(){}me.Clamp=function(ne,oe,pe){if(ne>pe){return pe}if(ne<oe){return oe}return ne};return me}();var le=function(){function qe(re,se,te){this.x=0;this.y=0;this.z=0;this.x=re;this.y=se;this.z=te}qe.Scale=function(ue,ve){return{x:ve.x*ue,y:ve.y*ue,z:ve.z*ue}};return qe}();ke["_name"]="Mathf";le["_name"]="Vector3";return[ke,le]});MiaokitMerge(function(we){var xe=null;var ye=null;var ze=null;var Ae=[null];var Be=function(){var Te=[null];var Ue=[];var Ve=[];var We=0;var Xe=0;return{Analyze:function(){return", 'Image':["+We+","+Ue.length+","+Xe+","+Ve.length+"]"},Get:function(Ye){return Te[Ye]},CreateImage:function(){var Ze=null;if(0<Ue.length){Ze=Ue.pop()}else{We++;Ze=Te.push(new Image)-1}return Ze},FreeImage:function($e){Ue.push($e)},PushBuffer:function(_e){var af=null;if(0<Ve.length){af=Ve.pop()}else{Xe++;af=Te.push(null)-1}Te[af]=_e;return af},FreeBuffer:function(bf){Te[bf]=null;Ve.push(bf)}}}();var Ce=[null];var De=1;var Ee=0;var Fe=[undefined];var Ge=null;var He=null;function Ie(cf){cf["isnanf"]=isNaN;cf["isinff"]=isFinite;cf["powf"]=Math.pow;cf["sqrtf"]=Math.sqrt;cf["expf"]=Math.exp;cf["logf"]=Math.log;cf["floorf"]=Math.floor;cf["ceilf"]=Math.ceil;cf["sinf"]=Math.sin;cf["cosf"]=Math.cos;cf["tanf"]=Math.tan;cf["asinf"]=Math.asin;cf["acosf"]=Math.acos;cf["atanf"]=Math.atan;cf["atan2f"]=Math.atan2;cf["ldexpf"]=function(df,ef){return df*Math.pow(2,ef)}}function Je(ff){var gf=we["GL"];var hf=gf.Ctx.getParameter(34047);ff["glTexImage2DObj"]=function(jf,kf,lf,mf,nf,of,pf,qf,rf){var sf=Be.Get(rf);if(sf){if(sf instanceof ArrayBuffer){gf.Ctx.texImage2D(jf,kf,lf,mf,nf,of,pf,qf,new Uint8Array(sf));Be.FreeBuffer(rf)}else{gf.Ctx.texParameterf(jf,34046,hf);gf.Ctx.texImage2D(jf,kf,lf,pf,qf,sf);Be.FreeImage(rf)}}};ff["glCreateShader"]=gf._glCreateShader;ff["glDeleteShader"]=gf._glDeleteShader;ff["glShaderSource"]=gf._glShaderSource;ff["glCompileShader"]=gf._glCompileShader;ff["glGetShaderiv"]=gf._glGetShaderiv;ff["glGetShaderInfoLog"]=gf._glGetShaderInfoLog;ff["glCreateProgram"]=gf._glCreateProgram;ff["glDeleteProgram"]=gf._glDeleteProgram;ff["glAttachShader"]=gf._glAttachShader;ff["glLinkProgram"]=gf._glLinkProgram;ff["glUseProgram"]=gf._glUseProgram;ff["glGetProgramiv"]=gf._glGetProgramiv;ff["glGetProgramInfoLog"]=gf._glGetProgramInfoLog;ff["glBindAttribLocation"]=gf._glBindAttribLocation;ff["glGenVertexArrays"]=gf._glGenVertexArrays;ff["glDeleteVertexArrays"]=gf._glDeleteVertexArrays;ff["glBindVertexArray"]=gf._glBindVertexArray;ff["glVertexAttribPointer"]=gf._glVertexAttribPointer;ff["glEnableVertexAttribArray"]=gf._glEnableVertexAttribArray;ff["glVertexAttribDivisor"]=gf._glVertexAttribDivisor;ff["glGetActiveUniform"]=gf._glGetActiveUniform;ff["glGetUniformLocation"]=gf._glGetUniformLocation;ff["glUniform1i"]=gf._glUniform1i;ff["glUniform1fv"]=gf._glUniform1fv;ff["glUniform2fv"]=gf._glUniform2fv;ff["glUniform3fv"]=gf._glUniform3fv;ff["glUniform4fv"]=gf._glUniform4fv;ff["glUniform1iv"]=gf._glUniform1iv;ff["glUniform2iv"]=gf._glUniform2iv;ff["glUniform3iv"]=gf._glUniform3iv;ff["glUniform4iv"]=gf._glUniform4iv;ff["glUniformMatrix3fv"]=gf._glUniformMatrix3fv;ff["glUniformMatrix4fv"]=gf._glUniformMatrix4fv;ff["glGenTextures"]=gf._glGenTextures;ff["glDeleteTextures"]=gf._glDeleteTextures;ff["glActiveTexture"]=gf._glActiveTexture;ff["glBindTexture"]=gf._glBindTexture;ff["glTexStorage2D"]=gf._glTexStorage2D;ff["glTexParameteri"]=gf._glTexParameteri;ff["glTexImage2D"]=gf._glTexImage2D;ff["glGenerateMipmap"]=gf._glGenerateMipmap;ff["glGenBuffers"]=gf._glGenBuffers;ff["glDeleteBuffers"]=gf._glDeleteBuffers;ff["glBindBuffer"]=gf._glBindBuffer;ff["glBufferData"]=gf._glBufferData;ff["glBufferSubData"]=gf._glBufferSubData;ff["glMapBufferRange"]=gf._glMapBufferRange;ff["glUnmapBuffer"]=gf._glUnmapBuffer;ff["glGenFramebuffers"]=gf._glGenFramebuffers;ff["glDeleteFramebuffers"]=gf._glDeleteFramebuffers;ff["glBindFramebuffer"]=gf._glBindFramebuffer;ff["glFramebufferTexture2D"]=gf._glFramebufferTexture2D;ff["glCheckFramebufferStatus"]=gf._glCheckFramebufferStatus;ff["glClearColor"]=gf._glClearColor;ff["glClear"]=gf._glClear;ff["glBlendFuncSeparate"]=gf._glBlendFuncSeparate;ff["glBlendEquationSeparate"]=gf._glBlendEquationSeparate;ff["glEnable"]=gf._glEnable;ff["glDisable"]=gf._glDisable;ff["glDepthFunc"]=gf._glDepthFunc;ff["glDepthMask"]=gf._glDepthMask;ff["glClearDepthf"]=gf._glClearDepthf;ff["glClearStencil"]=gf._glClearStencil;ff["glCullFace"]=gf._glCullFace;ff["glPolygonOffset"]=gf._glPolygonOffset;ff["glViewport"]=gf._glViewport;ff["glDrawArrays"]=gf._glDrawArrays;ff["glDrawArraysInstanced"]=gf._glDrawArraysInstanced;ff["glDrawElements"]=gf._glDrawElements;ff["glDrawElementsInstanced"]=gf._glDrawElementsInstanced;ff["glFlush"]=gf._glFlush;ff["glFinish"]=gf._glFinish}function Ke(tf){function uf(Ef){var Ff=we["WASM"].GetString(Ef);if(!Ff.startsWith("http")){Ff="./data/projects/sve/"+Ff}if(Ff.endsWith("assetbundle")){Ff+=".bin"}return Ff}function vf(Gf,Hf,If,Jf,Kf){var Lf=uf(Gf);var Mf=xe.get(If);var Nf=xe.get(Jf);we["Fetch"](Lf,function(Of){if(Of){var Pf=Mf(Hf,Of.byteLength,Kf);if(Pf){we["WASM"]["HEAPU8"](Pf,Of.byteLength).set(new Uint8Array(Of))}}else{console.error("资源丢失:",Lf)}Nf(Hf,Kf)})}function wf(Qf,Rf,Sf,Tf,Uf){var Vf=uf(Qf);var Wf=xe.get(Sf);var Xf=Be.CreateImage();var Yf=Be.Get(Xf);Yf.crossOrigin="anonymous";Yf.src=Vf;Yf.onload=function(Zf){Wf(Rf,Xf,Uf)}}function xf($f,_f,ag,bg,cg){vf($f,_f,ag,bg,cg)}function yf(dg,eg,fg,gg,hg){Ge["LoadTerrain"](dg,eg,fg,gg,hg)}function zf(ig,jg,kg,lg,mg){var ng=we["WASM"]["HEAP32"](ig,16);Ge["LoadBlockbox"](jg,ng[0],ng[1],ng[2],ng[3],kg,lg)}function Af(og,pg){var qg=we["WASM"]["HEAP32"](og,12);var rg=Ne(qg[0]);if(rg){rg["_Load3MX"](qg[1],qg[2],pg)}}function Bf(sg,tg){var ug=we["WASM"]["HEAP32"](sg,12);Ge["Load3MX"](ug[0],ug[1],ug[2],tg)}function Cf(vg,wg,xg,yg,zg){vf(vg,wg,xg,yg,zg)}var Df=[undefined,vf,wf,xf,yf,zf,Bf,Cf];tf["APP_LOAD"]=function(Ag,Bg,Cg,Dg,Eg,Fg){Df[Ag](Bg,Cg,Dg,Eg,Fg)}}function Le(Gg){var Hg={NaN:NaN,Infinity:Infinity};Ie(Gg);Je(Gg);Ke(Gg);Gg["APP_DYNAMIC_LINK"]=function(Ig,Jg){var Kg=we["WASM"]["HEAPU32"](Ig,Jg);var Lg=Kg[0];var Mg=Kg[1];for(var Ng=0;Ng<Lg;Ng++){var Og=Kg[2+Ng]-1;var Pg=Kg[Mg++];var Qg=Kg[Mg++];var Rg=we["WASM"].GetString(Pg,Qg);var Sg=JSON.parse(Rg);var Tg=function(Xg,Yg){this["m_nID"]=Xg;this["m_nObject"]=Yg};var Ug=Tg.prototype;Ug["_type_name"]=Sg[0];Ug["_type_id"]=Ng+1;Ug["_ins_count"]=0;Fe[Ng+1]=Tg;var Vg=function(Zg){var $g=xe.get(Kg[Mg++]);Mg++;var _g=function(){var ah=Array.prototype.slice.call(arguments);ah.unshift(this.m_nObject);return $g.apply(this,ah)};if(0===Zg){Ug["_"+Sg[Zg]]=_g}else{Ug[Sg[Zg]]=_g}};for(var Wg=0;Wg<Og;Wg++){Vg(Wg)}}we["WASM"]["LoadClass"](Fe,Ne,Qe);we["Miaokit"]["ResizeCavans"]=function(bh,ch){if(ze.SE_RESIZE){ze.SE_RESIZE(bh,ch)}}};Gg["APP_PRINT"]=function(dh,eh,fh){var gh=we["WASM"].GetString(dh,eh);we["Track"](gh,fh)};Gg["APP_DO_ACTION"]=function(hh,ih,jh,kh){Ae[hh](ih,jh,kh)};Gg["APP_CREATE_OBJ"]=function(lh,mh){if(0<lh){var nh=Oe();var oh=new Fe[lh](nh,mh);Ce[nh]=oh;Fe[lh].prototype._ins_count++;return nh}else{if(-21==lh){var ph=we["WASM"]["HEAP32"](mh,16);var qh=ph[0];var rh=ph[1];var sh=ph[2];var th=ph[3];var uh=we["WASM"]["HEAP8"](sh,rh);var vh=new Blob([uh]);var wh=window.URL.createObjectURL(vh);var xh=xe.get(th);var yh=Be.CreateImage();var zh=Be.Get(yh);zh.src=wh;zh.onload=function(Ah){xh(qh,yh);window.URL.revokeObjectURL(wh)}}}return 0};Gg["APP_FREE_OBJ"]=function(Bh){var Ch=Ce[Bh];Fe[Ch._type_id].prototype._ins_count--;Pe(Bh)};He=we["ShaderLab"].APP_DO_OPERATORS;He[7]=function(Dh,Eh){if(0===Dh){Be.FreeImage(Eh)}else if(1===Dh){Be.FreeBuffer(Eh)}return 0};Gg["APP_DO"]=function(Fh,Gh,Hh,Ih,Jh){return He[Fh](Gh,Hh,Ih,Jh)};ye=Gg["memory"];we["WASM"]["m_pMemory"]=we["WASM"]["m_pMemory"]||ye;return{env:Gg,global:Hg}}function Me(Kh,Lh,Mh){Lh=Le(Lh);WebAssembly.instantiate(Kh,Lh).then(function(Nh){return Nh.instance}).then(function(Oh){ze=Oh.exports;xe=ze.__indirect_function_table;we["WASM"]["Update"]=Oh.exports.SE_UPDATE;we["WASM"]["Malloc"]=Oh.exports.Malloc;we["WASM"]["Free"]=Oh.exports.Free;we["ShaderLab"]["DrawPass_"]=Oh.exports.SE_DRAW_PASS;we["ShaderLab"]["SetSunlight"]=Oh.exports.SE_SUNLIGHT;we["ShaderLab"]["CreateUniformsDesc"]=Oh.exports.SE_CREATE_UNIFORMS_DESC;we["ShaderLab"]["GetTexture"]=function(Ph){return ze.SE_RESOURCE(9,Ph)};we["ShaderLab"]["GetObject"]=function(Qh){var Rh=ze.SE_RESOURCE(13,Qh);if(Rh){return Ne(Rh)}return null};we["Track"]("Start thread");we["WASM"]["Worker"]=Se(function(){we["Track"]("Start thread succeed")});ze.Start();Mh()})}function Ne(Sh){return Ce[Sh]}function Oe(){var Th=De;if(Ce.length>De){De=Ce[De]}else{De++}Ee++;return Th}function Pe(Uh){Ce[Uh]=De;De=Uh;Ee--}function Qe(Vh){var Wh="'系统运行':{";Wh+="'时间':"+(we.Time()/1e3).toFixed(0);Wh+=", '帧率':"+Vh;Wh+=", 'WASM内存':"+we.WASM.m_pMemory.buffer.byteLength/1024/1024;Wh+="}";var Xh="'JS对象':{";Xh+="'工厂':["+Ce.length+", "+Ee+", "+(Ce.length-Ee)+"]";Xh+=Be.Analyze();for(var Yh=1;Yh<Fe.length;Yh++){Xh+=", '"+Fe[Yh].prototype._type_name+"':"+Fe[Yh].prototype._ins_count}Xh+="}";return[Wh,Xh]}function Re(Zh){var $h=Ae.length;Ae.push(Zh);return $h}function Se(_h){var ai=ze.UTIL_WORKER_CODE();var bi=we["WASM"]["HEAPU32"](ai,16);if(false){Ge=new Worker(window.URL.createObjectURL(new Blob([we["WASM"]["HEAPU8"](bi[2],bi[3])])));var ci=we["WASM"]["HEAPU8"]().slice(bi[0],bi[0]+bi[1]);var di=ci.buffer;Ge.postMessage({m_nID:1,m_aCode:di},[di])}else{var ei=we["m_pConfig"]["MODULE"].replace(".wasm","");Ge=new Worker(ei+"Worker.min.js");fetch(ei+"Worker.wasm").then(function(fi){return fi.arrayBuffer()}).then(function(gi){if(gi){Ge.postMessage({m_nID:1,m_aCode:gi},[gi])}else{console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",gi)}}).catch(function(hi){console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",hi)})}Ge.onmessage=function(ii){var ji=ii.data;switch(ji.m_nID){case 1:_h();_h=null;break;case 2:Ge["OnLoadTerrain"](ji);break;case 3:Ge["OnLoadBlockbox"](ji);break;case 4:Ge["OnLoad3MX"](ji);break;default:console.error("子线程消息异常:",ji);break}};Ge["LoadTerrain"]=function(ki,li,mi,ni,oi){Ge.postMessage({m_nID:2,m_pPath:we["WASM"].GetString(ki),m_nRequest:li,m_nCallback:mi,m_nTS:oi})};Ge["OnLoadTerrain"]=function(pi){var qi=xe.get(pi.m_nCallback);var ri=pi.m_pData;var si=0;if(ri){si=Be.PushBuffer(ri)}else{console.warn("Terrain miss:",pi.m_pPath)}qi(pi.m_nRequest,si,pi.m_nTS)};Ge["LoadBlockbox"]=function ti(ui,vi,wi,xi,yi,zi,Ai){Ge.postMessage({m_nID:3,m_nRequest:ui,m_nCol:vi,m_nRow:wi,m_nColOffset:xi,m_nRowOffset:yi,m_nAlloc:zi,m_nCallback:Ai})};Ge["OnLoadBlockbox"]=function(Bi){var Ci=xe.get(Bi.m_nAlloc);var Di=xe.get(Bi.m_nCallback);var Ei=Bi.m_pData;var Fi=[0,0,0,0];for(var Gi=0;Gi<4;Gi++){var Hi=Ei[Gi];if(0<Hi.m_nVertexCount&&0<Hi.m_nSubmeshCount){var Ii=new we.Mesh;var Ji=new Int32Array(Hi.m_aIndex);Ii.position=new Float32Array(Hi.m_aPosition);Ii.normal=new Float32Array(Hi.m_aNormal);Ii.uv=new Float32Array(Hi.m_aUV);for(var Ki=0;Ki<Hi.m_nSubmeshCount;Ki++){var Li=Ji[2*Ki];var Mi=Ji[2*Ki+1];var Ni=[];for(var Oi=Li;Oi<Mi;Oi++){Ni.push(Oi)}Ii.SetIndices(Ki,new Int32Array(Ni),4)}Ii.Apply();Fi[Gi]=Ii.m_nObject}else{Fi[Gi]=0}}var Pi=Ci(Bi.m_nRequest,16);if(Pi){we["WASM"]["HEAPU32"](Pi,16).set(new Uint32Array(Fi));Di(Bi.m_nRequest)}};Ge["Load3MX"]=function(Qi,Ri,Si,Ti){var Ui=Ne(Qi);if(Ui){var Vi=Ui.m_pFileLut[Ri];var Wi=Vi.m_pPath+Vi.m_aFile[Si];var Xi=Ui.m_pFileLut.length;Ui.m_pFileLut.push(null);Ge.postMessage({m_nID:4,m_nDior:Qi,m_pPath:Wi,m_nRequest:Ti,m_nNewFolder:Xi})}};Ge["OnLoad3MX"]=function(Yi){var Zi=Yi.m_pData;if(Zi){var $i=Ne(Yi.m_nDior);if($i){$i.m_pFileLut[Yi.m_nNewFolder]=Yi.m_pNewFolder;var _i=new Int32Array(Zi[0]);var aj=_i[1];var bj=_i[2];var cj=4+9*aj;var dj=0;var ej=[];var fj=function(){if(bj===++dj||0==bj){var ij=Zi[0].byteLength;var jj=$i["_CreateBuffer"](ij);var kj=we["WASM"]["HEAP32"](jj,ij);kj.set(_i);$i["_Dispose"](Yi.m_nRequest)}};var gj=function(lj){var mj=_i[cj+0];var nj=_i[cj+1];if(0===nj){var oj=Zi[1+lj];if(null!==oj){var pj=Be.CreateImage();var qj=Be.Get(pj);var rj=new Blob([new Int8Array(oj)]);var sj=window.URL.createObjectURL(rj);qj.src=sj;qj.onload=function(wj){fj();window.URL.revokeObjectURL(sj)};ej[mj]=ze["SE_CREATE_INTERNAL_TEXTURE"]();_i[cj+3]=ej[mj];_i[cj+4]=pj}else{ej[mj]=0;_i[cj+3]=ej[mj];_i[cj+4]=0;fj()}}else if(1===nj){_i[cj+4]=ej[_i[cj+5]];var oj=Zi[1+lj];if(null!==oj){var tj=oj.byteLength;var uj=$i["_CreateBuffer"](tj);var vj=we["WASM"]["HEAP8"](uj,tj);vj.set(new Int8Array(oj));ej[mj]=ze["SE_CREATE_INTERNAL_MESH"](0,uj);_i[cj+3]=ej[mj];fj()}else{ej[mj]=0;_i[cj+3]=ej[mj];fj()}}else{ej[mj]=0;_i[cj+3]=ej[mj];_i[cj+4]=0;fj()}cj+=6};for(var hj=0;hj<bj;hj++){gj(hj)}if(0===bj){fj()}}}else{console.warn("3mx miss:",Yi.m_pPath)}};return Ge}we["WASM"]=we["WASM"]||{};we["WASM"]["LoadMiaokit"]=Me;we["WASM"]["GetObject"]=Ne;we["WASM"]["RegisterDelegate"]=Re;return[]});MiaokitMerge(function(xj){var yj=undefined;var zj=true;var Aj={};var Bj=[];var Cj={RGBA32_FLOAT:function(){return true?[yj["RGBA32F"],yj.RGBA,yj.FLOAT]:[yj.RGBA,yj.RGBA,yj.FLOAT]},RGBA16_FLOAT:function(){return true?[yj["RGBA16F"],yj.RGBA,yj["HALF_FLOAT"]]:[yj.RGBA,yj.RGBA,36193]},RGBA8:function(){return true?[yj.RGBA,yj.RGBA,yj.UNSIGNED_BYTE]:[yj.RGBA,yj.RGBA,yj.UNSIGNED_BYTE]},D16_UNORM:function(){return true?[yj["DEPTH_COMPONENT16"],yj.DEPTH_COMPONENT,yj.UNSIGNED_SHORT]:[yj.DEPTH_COMPONENT,yj.DEPTH_COMPONENT,yj.UNSIGNED_SHORT]},D24_UNORM:function(){return true?[yj["DEPTH_COMPONENT24"],yj.DEPTH_COMPONENT,yj.UNSIGNED_INT]:[yj.DEPTH_COMPONENT,yj.DEPTH_COMPONENT,yj.UNSIGNED_INT]},D24S8_UNORM:function(){return true?[yj.DEPTH_STENCIL,yj.DEPTH_STENCIL,34042]:[yj.DEPTH_STENCIL,yj.DEPTH_STENCIL,34042]}};var Dj={Opaque:1,Transparent:2,Outline:4,CastShadow:8,ReceiveShadow:16};var Ej=null;var Fj=["u_Sunlight","u_Picker","u_EyePos","u_MatG","u_MatVP","u_Color","u_MainTex","",""];var Gj=[null];var Hj=[null];var Ij=[null];var Jj=[null];var Kj=[new Int32Array([0,0,0,0]),new Float32Array([0,0,0,0]),new Float32Array([1,0,0,0,1,0,0,0,1]),new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0])];var Lj=[function(mk,nk,ok){Yj(Gj[mk],Jj[nk])},function(pk,qk,rk){Zj(Gj[pk],Jj[qk])},function(sk,tk,uk){$j(Gj[sk],Jj[tk])},function(vk,wk,xk){_j(Gj[vk],Jj[wk])},function(yk,zk,Ak){var Bk=Jj[zk];var Ck=Bk[1];if(Bk[0]){Ck=ik.GetTexture(Ck);if(Ck){Bk[0]=0;Bk[1]=Ck}}var Dk=Bj[Ck]||Vj;if(null===Dk){console.log("BindTexture null!");return}yj.activeTexture(33984+Ak);yj.bindTexture(3553,Dk)},function(Ek,Fk){console.error("Unsupported UniformCubemap!")},null,function(Gk,Hk,Ik){var Jk=Jj[Hk];var Kk=Jk[1];if(Jk[0]){Kk=ik.GetTexture(Kk);if(Kk){Jk[0]=0;Jk[1]=Kk}}var Lk=Bj[Kk]||Vj;if(null===Lk){console.log("BindTexture null!");return}yj.activeTexture(33984+Ik);yj.bindTexture(35866,Lk)}];var Mj=[null];var Nj=[null];var Oj=1280;var Pj=720;var Qj=1;var Rj=0;var Sj=null;var Tj=new Float32Array(4);var Uj=[0,0,0,0];var Vj=null;var Wj=null;var Xj=0;function Yj(Mk,Nk){if(undefined===Mk.mark){yj.uniform4iv(Mk,Nk)}else if(Qj!==Mk.mark){yj.uniform4iv(Mk,Nk);Mk.mark=Qj}}function Zj(Ok,Pk){if(undefined===Ok.mark){yj.uniform4fv(Ok,Pk)}else if(Qj!==Ok.mark){yj.uniform4fv(Ok,Pk);Ok.mark=Qj}}function $j(Qk,Rk){if(undefined===Qk.mark){yj.uniformMatrix3fv(Qk,false,Rk)}else if(Qj!==Qk.mark){yj.uniformMatrix3fv(Qk,false,Rk);Qk.mark=Qj}}function _j(Sk,Tk){if(undefined===Sk.mark){yj.uniformMatrix4fv(Sk,false,Tk)}else if(Qj!==Sk.mark){yj.uniformMatrix4fv(Sk,false,Tk);Sk.mark=Qj}}function ak(Uk,Vk){var Wk=yj.createShader(Uk);if(!Wk){console.error("Could not create shader object!");return null}yj.shaderSource(Wk,Vk);yj.compileShader(Wk);if(!yj.getShaderParameter(Wk,yj.COMPILE_STATUS)){var Xk=yj.getShaderInfoLog(Wk);yj.deleteShader(Wk);console.error("Could not compile shader! \n\n"+Xk);return null}return Wk}function bk(Yk){var Zk=Yk.program;var $k=0;{yj.bindAttribLocation(Zk,0,"a_Position");yj.bindAttribLocation(Zk,1,"a_Normal");yj.bindAttribLocation(Zk,2,"a_UV");yj.bindAttribLocation(Zk,3,"a_Color");yj.bindAttribLocation(Zk,4,"a_Tangent");yj.bindAttribLocation(Zk,5,"a_Object");yj.bindAttribLocation(Zk,6,"a_MatW")}{yj.linkProgram(Zk);if(!yj.getProgramParameter(Zk,yj.LINK_STATUS)){var _k=yj.getProgramInfoLog(Zk);console.error("Could not compile program! \n\n"+_k);return 0}}{var al=yj.getProgramParameter(Zk,35718);if(zj){al-=6;var bl=yj["getUniformBlockIndex"](Zk,"CommonBlock")}var cl=ik.CreateUniformsDesc(al);var dl=Jj[cl];var el={};var fl=0;dl[19]=Ij.push(el)-1;Mj[dl[19]]=Yk;yj.useProgram(Zk);console.log(".............................",Yk.name);for(var gl=0;gl<2;gl++){var hl=al+(zj?6:0);for(var il=0;il<hl;il++){var _k=yj.getActiveUniform(Zk,il);var jl=_k.type;if(35678===jl||35680===jl||36289===jl){if(0!==gl){continue}}else{if(1!==gl){continue}}var kl=_k.name;console.log(kl);var ll=yj.getUniformLocation(Zk,kl);if(!ll){continue}var ml=Gj.push(ll)-1;ll.lll=kl;for(var nl=0;nl<Fj.length;nl++){if(kl===Fj[nl]){dl[nl]=fl;if(5>nl){ll.mark=1}break}}switch(jl){case 35669:jl=0;break;case 35666:jl=1;break;case 35675:jl=2;break;case 35676:jl=3;break;case 35678:jl=4;break;case 35680:jl=5;break;case 36289:jl=7;break;default:console.error("Unsupported uniform type:",_k);break}dl[20+fl]=ml;dl[20+al+fl]=jl;el[kl]=fl;Hj[ml]=kl;if(0===gl){yj.uniform1i(ll,fl)}fl++}}if(fl!==al){console.error("Process uniform cout error!",al,fl)}$k=dl[16]}{var ol=0;if(Yk.mark){for(var pl=0,ql=Yk.mark;pl<ql.length;pl++){var rl=ql[pl];ol|=Dj[rl]}}Yk.mode=ol}return $k}function ck(sl){if(!sl){return null}var tl=Aj[sl];if(!tl){console.error("Could not find shader:",sl);return null}if(tl.program){return tl}tl.vs=ak(yj.VERTEX_SHADER,Aj["Common"]["DeclareVS"]+tl.vs_src+Aj["Common"][tl.type+"VS"]);if(!tl.vs){console.error("Could not create vertex shader:",sl);return null}tl.fs=ak(yj.FRAGMENT_SHADER,Aj["Common"]["DeclareFS"]+tl.fs_src+Aj["Common"][tl.type+"FS"]);if(!tl.fs){yj.deleteShader(tl.vs);tl.vs=null;console.error("Could not create fragment shader:",sl);return null}tl.program=yj.createProgram();if(!tl.program){yj.deleteShader(tl.vs);yj.deleteShader(tl.fs);tl.vs=null;tl.fs=null;console.error("Could not create program object!");return null}yj.attachShader(tl.program,tl.vs);yj.attachShader(tl.program,tl.fs);tl.id=bk(tl);if(!tl.id){yj.deleteProgram(tl.program);yj.deleteShader(tl.vs);yj.deleteShader(tl.fs);tl.program=null;tl.vs=null;tl.fs=null}return tl}function dk(ul,vl){var wl=undefined;var xl=undefined;var yl=undefined;var zl=undefined;var Al=0;var Bl=null;function Cl(){var Ml=Jj[ul];var Nl=Jj[vl];var Ol=Mj[Ml[19]];Bl=Ol.name;var Pl=Ml[20];var Ql=20+Ml[17];wl=Ol.program;xl=Ij[Ml[19]];yl=Ml;zl=[];Al=Ml[17];var Rl=function($l){var _l=$l;var am=Jj[Nl[_l]];var bm=Gj[Pl+_l];var cm=Ml[Ql+_l];var dm=[function(){return am},function(em){am.set(em)},undefined];switch(cm){case 0:dm[2]=function(){Yj(bm,am)};break;case 1:dm[2]=function(){Zj(bm,am)};break;case 2:dm[2]=function(){$j(bm,am)};break;case 3:dm[2]=function(){_j(bm,am)};break;case 4:dm[2]=function(){var fm=am[1];if(am[0]){fm=ik.GetTexture(fm);if(fm){am[0]=0;am[1]=fm}}var gm=Bj[fm]||Vj;if(null===gm){console.log("BindTexture null!");return}yj.activeTexture(33984+_l);yj.bindTexture(3553,gm)};break;case 7:dm[2]=function(){var hm=am[1];if(am[0]){hm=ik.GetTexture(hm);if(hm){am[0]=0;am[1]=hm}}var im=Bj[hm]||Vj;if(null===im){console.log("BindTexture null!");return}yj.activeTexture(33984+_l);yj.bindTexture(35866,im)};break;default:console.error("Unsupported uniform type!",cm);break}zl[_l]=dm};for(var Sl=0;Sl<Al;Sl++){Rl(Sl)}if(Ol.uniform_values){for(var Tl=0,Ul=Ol.uniform_values;Tl<Ul.length;Tl++){var Vl=Ul[Tl];var Wl=xl[Vl[0]];if(undefined!==Wl){var Xl=Ml[Ql+Wl];if(4===Xl||5===Xl){var Yl=ik.Pipeline["Resource"][Vl[1]];var Zl=[0,Yl.Handle,0,0];zl[Wl][1](Zl)}}}}return Ol.mode}function Dl(jm){if(Sj){Sj(Nj[vl],yj)}if(Rj!==ul){yj.useProgram(wl);Rj=ul;if(Wj){yj["bindBufferBase"](yj["UNIFORM_BUFFER"],0,Wj)}}for(var km=0,lm=zl;km<lm.length;km++){var mm=lm[km];mm[2]()}}function El(nm){return xl[nm]}function Fl(om){return zl[om][0]()}function Gl(pm){pm=yl[pm];if(-1<pm){return zl[pm][0]()}return null}function Hl(qm){var rm=xl[qm];if(undefined!==rm){return zl[rm][0]()}return null}function Il(sm,tm){zl[sm][1](tm);if(Rj===ul){zl[sm][2]()}}function Jl(um,vm){um=yl[um];if(-1<um){zl[um][1](vm);if(Rj===ul){zl[um][2]()}}}function Kl(wm,xm){var ym=xl[wm];if(undefined!==ym){zl[ym][1](xm);if(Rj===ul){zl[ym][2]()}}}function Ll(zm){zl[zm][2]()}Nj[vl]=[Cl,Dl,El,Fl,Gl,Hl,Il,Jl,Kl,Ll];return Cl()}function ek(Am){{Object.defineProperty(Am,"Attr",{get:function(){if(!this.Attr_){this.Attr_=Nj[this._VarList()]}return this.Attr_}})}{var Bm=function(Dm){var Em=Dm;Object.defineProperty(Am,Fj[Dm],{get:function(){return this.Attr[4](Em)},set:function(Fm){if(Fm){this.Attr[7](Em,Fm)}}})};for(var Cm=0;Cm<Fj.length;Cm++){Bm(Cm)}}{}}function fk(Gm){var Hm=yj.createTexture();if(!Hm){console.error("Could not create texture object!");return null}yj.bindTexture(yj.TEXTURE_2D,Hm);yj.texParameteri(yj.TEXTURE_2D,yj.TEXTURE_MIN_FILTER,yj.LINEAR);yj.texParameteri(yj.TEXTURE_2D,yj.TEXTURE_MAG_FILTER,yj.LINEAR);yj.texParameteri(yj.TEXTURE_2D,yj.TEXTURE_WRAP_S,yj.CLAMP_TO_EDGE);yj.texParameteri(yj.TEXTURE_2D,yj.TEXTURE_WRAP_T,yj.CLAMP_TO_EDGE);var Im=new Image;Im.crossOrigin="anonymous";Im.src=Gm.URL;Im.onload=function(Jm){yj.bindTexture(yj.TEXTURE_2D,Hm);yj.texImage2D(yj.TEXTURE_2D,0,yj.RGB,yj.RGB,yj.UNSIGNED_BYTE,Im);yj.bindTexture(yj.TEXTURE_2D,null)};yj.bindTexture(yj.TEXTURE_2D,null);return Hm}function gk(Km){var Lm=yj.createTexture();if(!Lm){console.error("Could not create texture object!");return null}yj.bindTexture(yj.TEXTURE_2D,Lm);var Mm=Km.Params;yj.texParameteri(yj.TEXTURE_2D,yj.TEXTURE_MAG_FILTER,yj[Mm[1]]);yj.texParameteri(yj.TEXTURE_2D,yj.TEXTURE_MIN_FILTER,yj[Mm[0]]);yj.texParameteri(yj.TEXTURE_2D,yj.TEXTURE_WRAP_S,yj[Mm[2]]);yj.texParameteri(yj.TEXTURE_2D,yj.TEXTURE_WRAP_T,yj[Mm[3]]);var Nm=Cj[Km.Format]();yj.texImage2D(yj.TEXTURE_2D,Km.Levels,Nm[0],Km.Width,Km.Height,0,Nm[1],Nm[2],null);yj.bindTexture(yj.TEXTURE_2D,null);Lm["_Format"]=Nm;return Lm}function hk(Om,Pm){var Qm=yj.createFramebuffer();if(!Qm){console.error("Could not create framebuffer object!");return null}yj.bindFramebuffer(yj.FRAMEBUFFER,Qm);yj.framebufferTexture2D(yj.FRAMEBUFFER,yj.COLOR_ATTACHMENT0,yj.TEXTURE_2D,Om,0);if(Pm&&Pm["_Format"][0]===yj.DEPTH_STENCIL){yj.framebufferTexture2D(yj.FRAMEBUFFER,yj.DEPTH_STENCIL_ATTACHMENT,yj.TEXTURE_2D,Pm,0)}else{yj.framebufferTexture2D(yj.FRAMEBUFFER,yj.DEPTH_ATTACHMENT,yj.TEXTURE_2D,Pm,0)}if(yj.FRAMEBUFFER_COMPLETE!=yj.checkFramebufferStatus(yj.FRAMEBUFFER)){yj.deleteFramebuffer(Qm);console.error("Framebuffer check failed!");return null}return Qm}var ik={_name:"ShaderLab",Shader:Aj,Pipeline:null,Init:function(Rm){yj=xj["GL"]["Ctx"];Bj=xj["GL"]["_textures"];Oj=yj.canvas.width;Pj=yj.canvas.height;if(zj){var Sm=yj.createBuffer();if(Sm){yj.bindBuffer(yj["UNIFORM_BUFFER"],Sm);yj.bufferData(yj["UNIFORM_BUFFER"],64*3,yj.DYNAMIC_DRAW);yj.bindBuffer(yj["UNIFORM_BUFFER"],null);Wj=Sm}}for(var Tm=0,Um=this.Pipeline.RenderTarget;Tm<Um.length;Tm++){var Vm=Um[Tm];if(Vm){Vm.Width=Vm.Width||Oj;Vm.Height=Vm.Height||Pj;Vm.Levels=Vm.Levels||0;Vm.Params=Vm.Params||["NEAREST","NEAREST","CLAMP_TO_EDGE","CLAMP_TO_EDGE"];Vm.Texture=gk(Vm);Vm.Handle=xj["GL"]["RegisterTexture"](Vm.Texture);Vm.Size=[1/Vm.Width,1/Vm.Height,Vm.Width,Vm.Height]}}for(var Wm=0,Xm=this.Pipeline.Resource;Wm<Xm.length;Wm++){var Ym=Xm[Wm];if(Ym){if("2D"===Ym.TYPE){Ym.Texture=fk(Ym);Ym.Handle=xj["GL"]["RegisterTexture"](Ym.Texture);if(2===Ym.ID){Vj=Ym.Texture}}}}function Zm(hn){var jn=hn.RenderTarget;if(jn){var kn=ik.Pipeline["RenderTarget"][jn[0]];var ln=ik.Pipeline["RenderTarget"][jn[1]];hn.Framebuffer=hk(kn.Texture,ln?ln.Texture:null);if(!hn.Framebuffer){console.log(hn)}hn.Framebuffer.width=kn.Size[2];hn.Framebuffer.height=kn.Size[3]}else{hn.Framebuffer=null}}for(var $m=0,_m=this.Pipeline.Pass;$m<_m.length;$m++){var an=_m[$m];if(an){if("Clear"===an.Type){an._Type=2}else{an._Type="Render"===an.Type?0:1}an._Mask=0;for(var bn=0,cn=an.Mask;bn<cn.length;bn++){var dn=cn[bn];an._Mask+=Dj[dn]}Zm(an);if(an.Pingpong){for(var en=0,fn=an.Pingpong;en<fn.length;en++){var gn=fn[en];Zm(gn)}}}}},Draw:function(){Qj++;var mn=0;var nn=this.Pipeline.Picker;if(nn){Uj[0]=nn.x;Uj[1]=yj.canvas.height-nn.y}else{Uj[0]=-10;Uj[1]=-10}if(zj){yj.bindBuffer(yj["UNIFORM_BUFFER"],Wj);yj.bufferData(yj["UNIFORM_BUFFER"],Jj[Xj],yj.DYNAMIC_DRAW)}for(var on=0,pn=this.Pipeline.Pass;on<pn.length;on++){var qn=pn[on];jk.BeginDrawPass();if(qn.Pingpong){for(var rn=0;rn<qn.PingpongCount;rn++){for(var sn=0;sn<qn.Pingpong.length;sn++){qn.Framebuffer=qn.Pingpong[sn].Framebuffer;qn.SetUniforms=qn.Pingpong[sn].SetUniforms;this.DrawPass(qn,ik.DrawPass_)}}}else{this.DrawPass(qn,ik.DrawPass_)}jk.EndDrawPass(mn++)}},DrawPass:function(tn,un){yj.bindFramebuffer(yj.FRAMEBUFFER,tn.Framebuffer);if(tn.Framebuffer){yj.viewport(0,0,tn.Framebuffer.width,tn.Framebuffer.height)}else{yj.viewport(0,0,Oj,Pj)}var vn=tn.Depth;if(vn){yj.enable(yj.DEPTH_TEST);yj.depthMask(vn.Write);yj.depthFunc(yj[vn.Func])}else{yj.disable(yj.DEPTH_TEST)}var wn=tn.Blend;if(wn){yj.enable(yj.BLEND);yj.blendEquationSeparate(yj[wn.ColorFunc],yj[wn.AlphaFunc]);yj.blendFuncSeparate(yj[wn.ColorSrc],yj[wn.ColorDest],yj[wn.AlphaSrc],yj[wn.AlphaDest])}else{yj.disable(yj.BLEND)}var xn=tn.Stencil;if(xn){yj.enable(yj.STENCIL_TEST);yj.stencilFunc(yj[xn.Func],xn.Value,xn.Mask);yj.stencilOp(yj[xn.Faild],yj[xn.ZFaild],yj[xn.Pass])}else{yj.disable(yj.STENCIL_TEST)}var yn=tn.ClearTarget;if(yn){var zn=0;if(yn.Color){yj.clearColor(yn.Color.r,yn.Color.g,yn.Color.b,yn.Color.a);zn+=yj.COLOR_BUFFER_BIT}if(undefined!==yn.Depth){yj.clearDepth(yn.Depth);zn+=yj.DEPTH_BUFFER_BIT}if(undefined!==yn.Stencil){yj.clearStencil(yn.Stencil);zn+=yj.STENCIL_BUFFER_BIT}yj.clear(zn)}Sj=tn.SetUniforms;if(tn.Shader){if(!tn._Material){tn._Material=new xj["Material"](tn.Shader)}tn._Material._Bind()}un(tn._Type,tn._Mask);if(tn.Postprocess){tn.Postprocess(yj)}yj.flush()},PreflushBuffer:function(){var An=Jj.length;var Bn=new Array(An);for(var Cn=0;Cn<An;Cn++){var Dn=Jj[Cn];if(Dn){if("Float32Array"===Dn.constructor.name){Bn[Cn]=Dn.length}else{Bn[Cn]=-Dn.length}Jj[Cn]=Dn.byteOffset}}return Bn},FlushBuffer:function(En,Fn){Ej=En;var Gn=Jj.length;for(var Hn=0;Hn<Gn;Hn++){var In=Jj[Hn];if(In){var Jn=Fn[Hn];if(0<Jn){Jj[Hn]=new Float32Array(Ej,In,Jn)}else{Jj[Hn]=new Int32Array(Ej,In,-Jn)}}}for(var Hn=0;Hn<Gn;Hn++){var Kn=Nj[Hn];if(Kn){Kn[0]()}}xj["GL"]["FlushHeap"]()},ResizeCanvas:function(Ln,Mn){},PickObject:function(){var Nn=this.Pipeline.Picker;if(Nn){yj.readPixels(Nn.x,yj.canvas.height-Nn.y,1,1,yj.RGBA,yj.FLOAT,Tj);if(0>Tj[3]){var On=Math.ceil(Tj[0]*1e4)*8192+Math.ceil(Tj[1]*1e4);var Pn=Math.ceil(Tj[2]*1e4);var Qn=this["GetObject"](On);Nn.Feedback(Qn,Pn)}else{Nn.Feedback(null,0)}this.Pipeline.Picker=null}},APP_DO_OPERATORS:[function(Rn){var Sn=xj["ShaderLab"]["Pipeline"]["InternalShader"][Rn];var Tn=ck(Sn);return Tn.id},function(Un,Vn,Wn,Xn){var Yn=null;switch(Vn){case 0:Yn=new Int32Array(Ej,Xn,4);Yn.set(Kj[0]);break;case 1:Yn=new Float32Array(Ej,Xn,4);Yn.set(Kj[1]);break;case 2:Yn=new Float32Array(Ej,Xn,9);Yn.set(Kj[2]);break;case 3:Yn=new Float32Array(Ej,Xn,16);Yn.set(Kj[3]);break;case 4:Yn=new Int32Array(Ej,Xn,4);Yn.set(Kj[4]);break;case 5:Yn=new Int32Array(Ej,Xn,4);Yn.set(Kj[5]);break;case 6:Yn=new Int32Array(Ej,Xn,Wn);break;case 7:Yn=new Int32Array(Ej,Xn,4);Yn.set(Kj[7]);break;case 8:Yn=new Float32Array(Ej,Xn,48);Xj=Un;break;default:console.error("Unsupported uniform type:",Vn);break}Jj[Un]=Yn;return Un},function(Zn,$n,_n,ao){Lj[Zn]($n,_n,ao);return 0},function(bo,co,eo,fo){var go=xj["WASM"].GetString(fo);var ho=Jj[bo];var io=Ij[ho[19]];var jo=io[go];return undefined===jo?0:jo},function(ko,lo){Nj[lo][1](ko);return 0},function(){ik.Draw()},dk,null],ExpandMaterial:ek,CreateUniformsDesc:undefined,GetTexture:undefined,DrawPass_:undefined,SetSunlight:undefined};var jk={_name:"Profiler",m_pMsg:"",m_nCycleStart:0,m_nCycleTick:0,m_nBeginCycle:0,m_nTotalCycle:0,m_nBeginScript:0,m_nTotalScript:0,m_nBeginUpdate:0,m_nTotalUpdate:0,m_nBeginDraw:0,m_nTotalDraw:0,m_nBeginMaterial:0,m_nTotalMaterial:0,m_nBeginDrawPass:0,m_nTotalDrawPass:[],BeginCycle:function(){if(0===jk.m_nCycleTick){jk.m_nCycleStart=xj["Time"]();jk.m_nCycleTick=0;jk.m_nBeginCycle=0;jk.m_nTotalCycle=0;jk.m_nBeginScript=0;jk.m_nTotalScript=0;jk.m_nBeginUpdate=0;jk.m_nTotalUpdate=0;jk.m_nBeginDraw=0;jk.m_nTotalDraw=0;jk.m_nBeginMaterial=0;jk.m_nTotalMaterial=0;jk.m_nBeginDrawPass=0;jk.m_nTotalDrawPass=[]}jk.m_nBeginCycle=xj["Time"]()},EndCycle:function(){jk.m_nTotalCycle+=xj["Time"]()-jk.m_nBeginCycle;if(60===++jk.m_nCycleTick){var mo={"总耗时":xj["Time"]()-jk.m_nCycleStart,"应用循环":jk.m_nTotalCycle,"脚本逻辑":jk.m_nTotalScript,"场景更新":jk.m_nTotalUpdate,"场景绘制":jk.m_nTotalDraw,"通道绘制":jk.m_nTotalDrawPass};jk.m_pMsg="'开销统计':"+JSON.stringify(mo);jk.m_nCycleTick=0}},BeginScript:function(){jk.m_nBeginScript=xj["Time"]()},EndScript:function(){jk.m_nTotalScript+=xj["Time"]()-jk.m_nBeginScript},BeginUpdate:function(){jk.m_nBeginUpdate=xj["Time"]()},EndUpdate:function(){jk.m_nTotalUpdate+=xj["Time"]()-jk.m_nBeginUpdate},BeginDraw:function(){jk.m_nBeginDraw=xj["Time"]()},EndDraw:function(){jk.m_nTotalDraw+=xj["Time"]()-jk.m_nBeginDraw},BeginMaterial:function(){jk.m_nBeginMaterial=xj["Time"]()},EndMaterial:function(){jk.m_nTotalMaterial+=xj["Time"]()-jk.m_nBeginMaterial},BeginDrawPass:function(){jk.m_nBeginDrawPass=xj["Time"]()},EndDrawPass:function(no){jk.m_nTotalDrawPass[no]=(jk.m_nTotalDrawPass[no]?jk.m_nTotalDrawPass[no]:0)+xj["Time"]()-jk.m_nBeginDrawPass}};var kk="#version 300 es\n#define attribute in\n#define varying out\n#define texture2D texture\n\nprecision highp float;\nprecision mediump sampler2D;\nprecision mediump sampler2DArray;\n\nuniform CommonBlock\n{\n    lowp vec4 u_Sunlight;\n    lowp vec4 u_Picker;\n    lowp vec4 u_EyePos;\n    lowp vec4 u_Unused;\n    highp mat4 u_MatG;\n    highp mat4 u_MatVP;\n};\n";var lk="#version 300 es\n#define varying in\n#define texture2D texture\n#define gl_FragColor FragColor\n\nprecision highp float;\nprecision mediump sampler2D;\nprecision mediump sampler2DArray;\n\nuniform CommonBlock\n{\n    lowp vec4 u_Sunlight;\n    lowp vec4 u_Picker;\n    lowp vec4 u_EyePos;\n    lowp vec4 u_Unused;\n    highp mat4 u_MatG;\n    highp mat4 u_MatVP;\n};\n\nout vec4 FragColor;\n";ik.Shader["Common"]={DeclareVS:kk+"\nattribute mediump vec3 a_Position;\nattribute mediump vec3 a_Normal;\nattribute mediump vec2 a_UV;\nattribute mediump vec4 a_Color;\nattribute mediump vec4 a_Tangent;\nattribute mediump vec4 a_Binormal;\nattribute mediump vec4 a_Object;\nattribute mediump mat4 a_MatW;\n\n/// 对象空间坐标转世界空间坐标\nvec3 ObjectToWorldPos(vec3 i_Position)\n{\n    return (a_MatW * vec4(i_Position, 1.0)).xyz;\n}\n\n/// 对象空间坐标转裁剪空间坐标\nvec4 ObjectToClipPos(vec3 i_Position)\n{\n    // GIS的变换矩阵值包含旋转信息，未包含位移信息，避免精度不足造成画面抖动\n    // return u_MatVP * u_MatG * a_MatW * vec4(i_Position, 1.0);\n    \n    vec4 mPosition = vec4(i_Position, 1.0);\n    mPosition = u_MatG * a_MatW * mPosition;\n    mPosition.y = mPosition.y - 6378137.0;\n\n    return u_MatVP * mPosition;\n}\n\n/// 对象空间法线转世界空间法线\nvec3 ObjectToWorldNormal(vec3 i_Normal)\n{\n    return normalize((a_MatW * vec4(i_Normal, 0.0)).xyz);\n}\n       ",DeclareFS:lk+"\nuniform sampler2D u_MainTex;\n\n/// 采样2D纹理\nvec4 Tex2D(sampler2D i_Tex, vec2 i_UV)\n{\n    i_UV.x = fract(i_UV.x);\n    i_UV.y = fract(1.0 - i_UV.y);\n\n    return texture2D(i_Tex, i_UV);\n}\n        ",ClearVS:"\nvoid main()\n{\n    gl_Position = vs();\n}\n        ",ClearFS:"\nvoid main()\n{\n    gl_FragColor = fs();\n}\n        ",RenderVS:"\nvarying vec4 v_Object;\n\nvoid main()\n{\n    v_Object = a_Object;\n    gl_Position = vs();\n}\n        ",RenderFS:"\nvarying vec4 v_Object;\n\nvoid main()\n{\n    gl_FragColor = fs();\n\n    // 半透明输出：https://zhuanlan.zhihu.com/p/49164063\n    if(0.01 < v_Object.b)\n    {\n        // R通道：混合次数累加，赋值1.0。赋值0.99标记高亮区域\n        gl_FragColor.r = 0.0;//1.0 - (0.01 * v_Object.a);\n        // G通道：颜色灰度累加。（不支持彩色透明）\n        gl_FragColor.g = dot(gl_FragColor.rgb, vec3(0.299, 0.587, 0.114));\n        // B通道：OPACITY累加\n        gl_FragColor.b = 0.9;//1.0 - v_Object.b;\n        gl_FragColor.g *= gl_FragColor.b;\n        // A通道：ALPHA累乘。混合：源因子为0、目标乘以源\n        gl_FragColor.a = 1.0 - gl_FragColor.b;\n        \n    }\n    // 不透明输出\n    else\n    {\n        // 高亮区域标记\n        gl_FragColor.a = 1.0 - (0.01 * v_Object.a);\n        \n        // 拾取信息\n        //float nLength = length(gl_FragCoord.xy - u_Picker.xy);\n        //nLength = clamp((ceil(nLength) - 1.0), 0.0, 1.0);    \n        //gl_FragColor = (gl_FragColor * nLength) + (u_Object * (1.0 - nLength));\n        //gl_FragColor.a = u_Object.a + (-2.0 * (1.0 - nLength));\n    }\n}\n        ",PostprocessVS:"\nvoid main()\n{\n    gl_Position = vs();\n}\n        ",PostprocessFS:"\nvoid main()\n{\n    gl_FragColor = fs();\n}\n        ",BRDF:'\nconst float PI = 3.14159265358979323846;\n\nconst vec3 baseColor = vec3(0.5, 0.5, 0.5);\nconst float metallic = 0.0;\nconst float subsurface = 0.5; // 0.0\nconst float specular = 0.2;\nconst float roughness = 0.7;//0.5;\nconst float specularTint = 0.0;\nconst float anisotropic = 0.0;\nconst float sheen = 0.0;\nconst float sheenTint = 0.5;\nconst float clearcoat = 0.0;\nconst float clearcoatGloss = 1.0;\n\nfloat sqr(float x) { return x * x; }\n\nfloat SchlickFresnel(float u)\n{\n\tfloat m = clamp(1.0 - u, 0.0, 1.0);\n\tfloat m2 = m * m;\n\treturn m2 * m2 * m; // pow(m,5)\n}\n\nfloat GTR1(float NdotH, float a)\n{\n\tif (a >= 1.0) return 1.0 / PI;\n\tfloat a2 = a * a;\n\tfloat t = 1.0 + (a2 - 1.0) * NdotH * NdotH;\n\treturn (a2 - 1.0) / (PI * log(a2) * t);\n}\n\nfloat GTR2(float NdotH, float a)\n{\n\tfloat a2 = a * a;\n\tfloat t = 1.0 + (a2 - 1.0) * NdotH * NdotH;\n\treturn a2 / (PI * t * t);\n}\n\nfloat GTR2_aniso(float NdotH, float HdotX, float HdotY, float ax, float ay)\n{\n\treturn 1.0 / (PI * ax * ay * sqr(sqr(HdotX / ax) + sqr(HdotY / ay) + NdotH * NdotH));\n}\n\nfloat smithG_GGX(float NdotV, float alphaG)\n{\n\tfloat a = alphaG * alphaG;\n\tfloat b = NdotV * NdotV;\n\treturn 1.0 / (NdotV + sqrt(a + b - a * b));\n}\n\nfloat smithG_GGX_aniso(float NdotV, float VdotX, float VdotY, float ax, float ay)\n{\n\treturn 1.0 / (NdotV + sqrt(sqr(VdotX * ax) + sqr(VdotY * ay) + sqr(NdotV)));\n}\n\nvec3 mon2lin(vec3 x)\n{\n\treturn vec3(pow(x[0], 2.2), pow(x[1], 2.2), pow(x[2], 2.2));\n}\n\nvec3 BRDF(vec3 L, vec3 V, vec3 N, vec3 X, vec3 Y)\n{\n    //x和y方向分别表示了表面的切向量和副法线向量方向\n    //https://www.cnblogs.com/starfallen/p/3572352.html\n\n\tfloat NdotL = dot(N, L);\n\tfloat NdotV = dot(N, V);\n\tif (NdotL < 0.0 || NdotV < 0.0) return vec3(0.0);\n\n\tvec3 H = normalize(L + V);\n\tfloat NdotH = dot(N, H);\n\tfloat LdotH = dot(L, H);\n\n\tvec3 Cdlin = mon2lin(baseColor);\n\tfloat Cdlum = 0.3 * Cdlin[0] + 0.6 * Cdlin[1] + 0.1 * Cdlin[2]; // luminance approx.\n\n\tvec3 Ctint = Cdlum > 0.0 ? Cdlin / Cdlum : vec3(1.0); // normalize lum. to isolate hue+sat\n\tvec3 Cspec0 = mix(specular * 0.08 * mix(vec3(1.0), Ctint, specularTint), Cdlin, metallic);\n\tvec3 Csheen = mix(vec3(1.0), Ctint, sheenTint);\n\n\t// Diffuse fresnel - go from 1 at normal incidence to .5 at grazing\n\t// and mix in diffuse retro-reflection based on roughness\n\tfloat FL = SchlickFresnel(NdotL), FV = SchlickFresnel(NdotV);\n\tfloat Fd90 = 0.5 + 2.0 * LdotH * LdotH * roughness;\n\tfloat Fd = mix(1.0, Fd90, FL) * mix(1.0, Fd90, FV);\n\n\t// Based on Hanrahan-Krueger brdf approximation of isotropic bssrdf\n\t// 1.25 scale is used to (roughly) preserve albedo\n\t// Fss90 used to "flatten" retroreflection based on roughness\n\tfloat Fss90 = LdotH * LdotH * roughness;\n\tfloat Fss = mix(1.0, Fss90, FL) * mix(1.0, Fss90, FV);\n\tfloat ss = 1.25 * (Fss * (1.0 / (NdotL + NdotV) - 0.5) + 0.5);\n\n\t// specular\n\tfloat aspect = sqrt(1.0 - anisotropic * 0.9);\n\tfloat ax = max(0.001, sqr(roughness) / aspect);\n\tfloat ay = max(0.001, sqr(roughness) * aspect);\n\tfloat Ds = GTR2_aniso(NdotH, dot(H, X), dot(H, Y), ax, ay);\n\tfloat FH = SchlickFresnel(LdotH);\n\tvec3 Fs = mix(Cspec0, vec3(1.0), FH);\n\tfloat Gs;\n\tGs = smithG_GGX_aniso(NdotL, dot(L, X), dot(L, Y), ax, ay);\n\tGs *= smithG_GGX_aniso(NdotV, dot(V, X), dot(V, Y), ax, ay);\n\n\t// sheen\n\tvec3 Fsheen = FH * sheen * Csheen;\n\n\t// clearcoat (ior = 1.5 -> F0 = 0.04)\n\tfloat Dr = GTR1(NdotH, mix(0.1, 0.001, clearcoatGloss));\n\tfloat Fr = mix(0.04, 1.0, FH);\n\tfloat Gr = smithG_GGX(NdotL, 0.25) * smithG_GGX(NdotV, 0.25);\n\n\treturn ((1.0 / PI) * mix(Fd, ss, subsurface) * Cdlin + Fsheen) * (1.0 - metallic) + Gs * Fs * Ds + 0.25 * clearcoat * Gr * Fr * Dr;\n}\n        ',AtmosphereVS:"\nvarying vec4 v_ViewDir;\nvarying vec4 v_Scattering;\nvarying vec4 v_Attenuate;\n\n//P and ray define the line; O is the sphere's center point\nvec3 CalculateIntersection(vec3 P, vec3 ray, vec3 O, float r)\n{\n\tvec3 PO = O - P;\n\tfloat lPO = length(PO);\n\tfloat B = 2.0 * dot(PO, ray);\n\n\tfloat C = B * B - 4.0 * (lPO * lPO - r * r);\n\tfloat det = sqrt(max(0.0, C));\n\n\tfloat d = 0.5*(B-det);\n\tvec3 intersect = P + d * ray;\n\n\treturn intersect;\n}\n\nvoid Atmosphere(vec3 mLightDir, vec3 mWorldPos)\n{\n    // 大气散射，天空应分两层，摄像机应该在内层之外，大气层厚度为外层半径减内层半径，外层半径应远大于内层半径\n    //650 nm for red; 570 nm for green; 475 nm for blue\n    vec3 _Wave = vec3(5.602046, 9.473285, 20.49314);\n    vec3 _ESun = vec3(20.0, 20.0, 20.0);\n    vec3 _PlanetPos = vec3(0.0, -6378137.0, 0.0);\n    float _Sealevel = 6378137.0;\n    float _OuterRadius = 6478137.0;\n    float _SampleNum = 5.0;\n    //Rayleigh scattering constant\n    float _Kr = 0.0025;\n    //Mie scattering constant\n    float _Km = 0.001;\n    //the altitude at which the atmosphere's average density is found\n    float _H0 = 0.25;\n\n    vec3 mRay = mWorldPos - u_EyePos.xyz;\n    float nDepth = length(mRay); mRay = mRay / nDepth;\n\n    float nSampleLength = nDepth / _SampleNum;\n    vec3 mSampleRay = mRay * nSampleLength;\n    vec3 mSamplePoint = u_EyePos.xyz + mSampleRay * 0.5;\n    vec3 mInScattering = vec3(0.0, 0.0, 0.0);\n    vec3 mOutScatteringAB = vec3(0.0, 0.0, 0.0);\n    vec3 mOutGroundScatteringAB = vec3(0.0, 0.0, 0.0);\n    float nInvOuterH = 1.0 / (_OuterRadius-_Sealevel);\n\n    for(int i=0; i</*_SampleNum*/5; i++)\n    {\n\t    vec3 mCrossPoint = CalculateIntersection(mSamplePoint, -mLightDir, _PlanetPos, _OuterRadius);\n\t    //AP out scattering\n\t    vec3 mAPRay = (mSamplePoint - u_EyePos.xyz) / _SampleNum;\n\t    float nAPRayLength = length(mAPRay);\n\t    vec3 mSampleAP = u_EyePos.xyz + mAPRay * 0.5;\n\t    vec3 mOutScatteringAP = vec3(0.0, 0.0, 0.0);\n\n\t    for(int m=0; m</*_SampleNum*/5; m++)\n\t    {\n\t\t    mOutScatteringAP += exp(-(length(mSampleAP - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nAPRayLength * nInvOuterH;\n\t\t    mSampleAP += mAPRay;\n\t    }\n\t    mOutScatteringAP = 4.0 * 3.14 * (_Km + _Kr * _Wave) * mOutScatteringAP;\n\n\t    //PC out scattering\n\t    vec3 mPCRay = (mCrossPoint - mSamplePoint) / _SampleNum;\n\t    float nPCRayLength = length(mPCRay);\n\t    vec3 mSamplePC = mSamplePoint + mPCRay*0.5;\n\t    vec3 mOutScatteringPC = vec3(0.0, 0.0, 0.0);\n\n\t    for(int n=0; n</*_SampleNum*/5; n++)\n\t    {\n\t\t    mOutScatteringPC += exp(-(length(mSamplePC - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nPCRayLength * nInvOuterH;\n\t\t    mSamplePC += mPCRay;\n\t    }\n\t    mOutScatteringPC = 4.0 * 3.14 * (_Km + _Kr * _Wave) * mOutScatteringPC;\n\n\t    mInScattering += exp(-(length(mSamplePoint - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nSampleLength * nInvOuterH * exp(-mOutScatteringAP - mOutScatteringPC);\n\t    mSamplePoint+=mSampleRay;\n\t    mOutScatteringAB = mCrossPoint;\n        mOutGroundScatteringAB = mOutScatteringAP + mOutScatteringPC;\n    }\n\n    vec3 mAttenuateGround = exp(-mOutGroundScatteringAB);\n\n    v_ViewDir.xyz = u_EyePos.xyz - mWorldPos;\n    v_Scattering.xyz = mInScattering * _ESun * _Kr * _Wave;\n    v_Attenuate.xyz = mInScattering * _ESun * _Km;\n\n    v_ViewDir.w = mAttenuateGround.x;\n    v_Scattering.w = mAttenuateGround.y;\n    v_Attenuate.w = mAttenuateGround.z;\n\n    //Ground : v_ScatteringR = v_Scattering; v_ScatteringM = v_Attenuate; v_Attenuate = v_AttenuateGround;\n    //v_ViewDir = u_EyePos.xyz - mWorldPos;\n    //v_ScatteringR = mInScattering * _ESun * _Kr * _Wave;\n    //v_ScatteringM = mInScattering * _ESun * _Km;\n    //v_Attenuate = exp(-mOutGroundScatteringAB);\n}\n        ",AtmosphereFS:"\nvarying vec4 v_ViewDir;\nvarying vec4 v_Scattering;\nvarying vec4 v_Attenuate;\n\nfloat PhaseRayleigh(float nCostheta)\n{\n\treturn 0.75 * (1.0 + nCostheta * nCostheta);\n}\n\nfloat PhaseMie(float nCostheta, float g, float g2)\n{\n\treturn 1.5 * ((1.0 - g2) / (2.0 + g2)) * (1.0 + nCostheta * nCostheta) / pow(1.0 + g2 - 2.0 * g * nCostheta, 1.5);\n}\n\nvec4 AtmosphereColor(vec4 mColor, vec3 mLightDir)\n{\n    float _G = -0.990;\n    float _G2 = _G * _G;\n    \n    float nCostheta = dot(normalize(v_ViewDir.xyz), mLightDir);\n    float nPhaseMie = PhaseMie(nCostheta, _G, _G2);\n    float nPhaseRayleigh = PhaseRayleigh(nCostheta);\n\t\t\t\t\n    mColor.rgb = v_Scattering.xyz * nPhaseRayleigh + v_Attenuate.xyz * nPhaseMie;\n    mColor.a = mColor.b + 0.35;\n    mColor = clamp(mColor, 0.0, 0.9);\n\n    return mColor;\n}\n\nvec4 AtmosphereLight(vec4 mColor, vec3 mLightDir)\n{\n    // Ground : v_ScatteringR = v_Scattering.xyz; v_ScatteringM = v_Attenuate.xyz; v_Attenuate = v_AttenuateGround;\n    \n    float _G = -0.980;\n    float _G2 = _G * _G;\n    \n    float nCostheta = dot(normalize(v_ViewDir.xyz), mLightDir);\n    float nPhaseMie = PhaseMie(nCostheta, _G, _G2);\n    float nPhaseRayleigh = PhaseRayleigh(nCostheta);\n    \n    mColor.rgb = v_Scattering.xyz * nPhaseRayleigh + v_Attenuate.xyz * nPhaseMie + mColor.rgb * vec3(v_ViewDir.w, v_Scattering.w, v_Attenuate.w)/*v_AttenuateGround*/;\n    \n    return mColor;\n}\n        "};return[ik,jk]});MiaokitMerge(function(oo){if("Sisyphus"!==oo["m_pConfig"]["ENGINE"]){return[]}var po=undefined;var qo=true;function ro(wo){so();po=wo.OnRenderingEvent;to();var xo={memory:new WebAssembly.Memory({initial:64*16,maximum:32768}),APP_PLUGIN_TYPE:function(){return 2},APP_MEM_TYPE:function(){return 2},APP_MEM_RESERVE:function(){return 1024},APP_MEM_MALLOC:function(yo){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!");return 0},APP_MEM_FREE:function(zo){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!")},APP_MEM_BASE:function(){return 64*1024*1024},APP_MEM_GROW:function(Ao){if(oo["ShaderLab"]){var Bo=oo["ShaderLab"]["PreflushBuffer"]();xo["memory"].grow(Ao/64/1024);var Co=xo["memory"].buffer;oo["ShaderLab"]["FlushBuffer"](Co,Bo)}else{xo["memory"].grow(Ao/64/1024)}},APP_MEM_RECYCLE:function(Do){alert("WAMSģ�鲻֧�ֻ����ڴ�!")},UNITY_CREATE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_FREE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_GET:function(){alert("δװ��UNITY��չ!");return 0},UNITY_DO:function(){alert("δװ��UNITY��չ!");return 0}};wo.OnEngineLoad(xo)}function so(){var Eo=document.getElementById("unityContainer");var Fo=document.createElement("canvas");Fo.id="3d";Fo.width=Eo.offsetWidth;Fo.height=Eo.offsetHeight;Fo.style.width="100%";Fo.style.height="100%";Fo.style.top="0rem";Fo.style.bottom="0rem";Fo.style.left="0rem";Fo.style.right="0rem";Fo.style.position="absolute";Fo.style.zIndex="1";Eo.appendChild(Fo);oo["GL"]["CreateContext"](Fo);oo["ShaderLab"]["Init"](oo["GL"])}function to(){if(qo){qo=false;vo()}}function uo(){qo=true}function vo(){if(qo){return}oo.Profiler.BeginCycle();oo.Profiler.BeginScript();po(0);oo.Profiler.EndScript();if(oo["WASM"]["Update"]){oo.Profiler.BeginUpdate();oo["WASM"]["Update"](0);oo.Profiler.EndUpdate();oo.Profiler.BeginDraw();oo["WASM"]["Update"](1);oo.Profiler.EndDraw()}oo.Profiler.EndCycle();requestAnimationFrame(vo)}oo["WASM"]=oo["WASM"]||{};oo["WASM"]["LoadEngine"]=ro;to["_name"]="Start";uo["_name"]="Stop";return[to,uo]});MiaokitMerge(function(Go){var Ho=Date.now();function Io(){return Date.now()-Ho}function Jo(Mo,No){if(No===void 0){No=0}if(2===No){console.warn("Track:",Io(),Mo)}else if(2<No){console.error("Track:",Io(),Mo)}else{console.info("Track:",Io(),Mo)}}function Ko(Oo,Po,Qo){if(Qo===void 0){Qo=undefined}var Ro=new XMLHttpRequest;Ro.open("GET",Oo,true);Ro.responseType="arraybuffer";Ro.onprogress=function(So){if(0<So.total&&Qo){Qo(So.loaded/So.total)}};Ro.onload=function(To){if(Ro.status==200){Po(Ro.response)}else{Po(null)}};Ro.onerror=function(Uo){Jo(Uo,2);Po(null)};Ro.send(null)}function Lo(Vo,Wo,Xo,Yo,Zo,$o){var _o=new XMLHttpRequest;_o.onprogress=function(ap){if(0<ap.total&&Zo){Zo(ap.loaded/ap.total)}};_o.onload=function(bp){if(_o.status==200){$o(_o.response)}else{$o(null)}_o=null};_o.onerror=function(cp){Jo(cp,2);$o(null)};_o.responseType=Wo;_o.open(Vo,Xo,true);_o.send(Yo)}Io["_name"]="Time";Jo["_name"]="Track";Ko["_name"]="Fetch";Lo["_name"]="Request";return[Io,Jo,Ko,Lo]});MiaokitMerge(function(dp){if("Unity"!==dp["m_pConfig"]["ENGINE"]){return[]}if(!UnityLoader){return[]}var ep=dp["m_pLogo"]||"data:image/png;base64,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";UnityLoader.Progress.Styles.Dark.progressLogoUrl=ep;UnityLoader.Progress.Styles.Light.progressLogoUrl=ep;if(UnityLoader.SystemInfo.mobile){UnityLoader.SystemInfo.mobile=false;UnityLoader.downloadJob=function(mp,np){var op=new XMLHttpRequest;op.open("GET",np.parameters.url);op.responseType="arraybuffer";op.onload=function(){UnityLoader.Compression.decompress(new Uint8Array(op.response),function(pp){np.complete(pp)})};if(np.parameters.onprogress)op.addEventListener("progress",np.parameters.onprogress);if(np.parameters.onload)op.addEventListener("load",np.parameters.onload);op.send()}}UnityLoader.processWasmFrameworkJob=function(qp,rp){var sp=UnityLoader.Job.result(qp,"downloadWasmFramework");UnityLoader.loadCode(qp,sp,function(tp,up){qp["mainScriptUrlOrBlob"]=up;if(qp.isModularized){UnityLoader[tp]=UnityModule}qp["instantiateWasm"]=function(vp,wp){ip(qp,vp["env"]);if(qp["wasmBinary"]){WebAssembly.instantiate(qp["wasmBinary"],vp).then(function(xp){wp(xp.instance,xp.module)})}else{console.info("MiaokitLoader.InitUnity.instantiateWasm error!")}return{}};UnityLoader[tp](qp);rp.complete()},{Module:qp,url:qp["wasmFrameworkUrl"],isModularized:qp.isModularized})};var fp=null;var gp=null;var hp={};function ip(yp,zp){Object["assign"](zp,{_Init:function(Ap,Bp){dp["WASM"]["m_pMemory"]=dp["WASM"]["m_pMemory"]||gp.Module.wasmMemory;jp(yp,hp,Ap,Bp);kp(gp,hp);fp.OnEngineLoad(hp)},_RenderingEvent:function(Cp){fp.OnRenderingEvent(Cp)}});dp["GL"]=zp}function jp(Dp,Ep,Fp,Gp){var Hp=dp.WASM.GetString(Fp,Gp);var Ip=JSON.parse(Hp);var Jp=function(Np){var Op=function(){var Pp=Array.prototype.slice.call(arguments);Pp.unshift(Op["m_nAddr"]);return Op["m_pFunc"].apply(this,Pp)};Op["m_pFunc"]=Dp[Np.Call];Op["m_nAddr"]=Np.Addr;Ep[Np.Name]=Op};for(var Kp=0,Lp=Ip.List;Kp<Lp.length;Kp++){var Mp=Lp[Kp];Jp(Mp)}}function kp(Qp,Rp){Rp["APP_PLUGIN_TYPE"]=function(){return 1};Rp["APP_MEM_TYPE"]=function(){return 1};Rp["memory"]=function(Sp){var Tp=32*1024*1024;var Up=Sp._memalign(16,Tp);var Vp=Tp-Up;Sp._free(Up);var Wp=Sp._memalign(16,Vp+Tp);if(Wp!==Up){console.error("miaokit.prememory: addr error",Up,Wp);return}if(Wp+Vp+Tp!==67108864){console.error("miaokit.prememory: addr end error",Wp+Vp+Tp);return}Rp["APP_MEM_RESERVE"]=function(){return Wp};return Sp.wasmMemory}(gp.Module);Rp["APP_MEM_MALLOC"]=function(Xp){return gp.Module._memalign(16,Xp)};Rp["APP_MEM_FREE"]=function(Yp){gp.Module._free(Yp)};Rp["APP_MEM_BASE"]=function(){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Rp["APP_MEM_GROW"]=function(Zp){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Rp["APP_MEM_RECYCLE"]=function($p){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0}}function lp(_p){fp=_p;gp=UnityLoader.instantiate("unityContainer",dp["m_pConfig"]["UNITY"])}dp["WASM"]=dp["WASM"]||{};dp["WASM"]["LoadEngine"]=lp;return[]});MiaokitMerge(function(aq){var bq=undefined;var cq=new TextDecoder("utf-8");var dq=new TextEncoder;function eq(fq){if(!bq||aq["WASM"].m_pMemory.buffer.byteLength!==bq[0].byteLength){if(!bq){bq=[]}bq[0]=new Int8Array(aq["WASM"].m_pMemory.buffer);bq[1]=new Uint8Array(aq["WASM"].m_pMemory.buffer);bq[2]=new Int16Array(aq["WASM"].m_pMemory.buffer);bq[3]=new Uint16Array(aq["WASM"].m_pMemory.buffer);bq[4]=new Int32Array(aq["WASM"].m_pMemory.buffer);bq[5]=new Uint32Array(aq["WASM"].m_pMemory.buffer);bq[6]=new Float32Array(aq["WASM"].m_pMemory.buffer);bq[7]=new Float64Array(aq["WASM"].m_pMemory.buffer)}return bq[fq]}aq["WASM"]=aq["WASM"]||{};aq["WASM"]["HEAP8"]=function(gq,hq){if(gq===void 0){gq=0}if(hq===void 0){hq=0}var iq=eq(0);if(gq&&hq){return iq.subarray(gq,gq+hq)}else{return iq}};aq["WASM"]["HEAPU8"]=function(jq,kq){if(jq===void 0){jq=0}if(kq===void 0){kq=0}var lq=eq(1);if(jq&&kq){return lq.subarray(jq,jq+kq)}else{return lq}};aq["WASM"]["HEAP16"]=function(mq,nq){if(mq===void 0){mq=0}if(nq===void 0){nq=0}var oq=eq(2);if(mq&&nq){return oq.subarray(mq/2,(mq+nq)/2)}else{return oq}};aq["WASM"]["HEAPU16"]=function(pq,qq){if(pq===void 0){pq=0}if(qq===void 0){qq=0}var rq=eq(3);if(pq&&qq){return rq.subarray(pq/2,(pq+qq)/2)}else{return rq}};aq["WASM"]["HEAP32"]=function(sq,tq,uq){if(sq===void 0){sq=0}if(tq===void 0){tq=0}var vq=eq(4);if(sq&&tq){if(uq){return vq.slice(sq/4,(sq+tq)/4)}else{return vq.subarray(sq/4,(sq+tq)/4)}}else{return vq}};aq["WASM"]["HEAPU32"]=function(wq,xq){if(wq===void 0){wq=0}if(xq===void 0){xq=0}var yq=eq(5);if(wq&&xq){return yq.subarray(wq/4,(wq+xq)/4)}else{return yq}};aq["WASM"]["HEAPF32"]=function(zq,Aq,Bq){if(zq===void 0){zq=0}if(Aq===void 0){Aq=0}var Cq=eq(6);if(zq&&Aq){if(Bq){return Cq.slice(zq/4,(zq+Aq)/4)}else{return Cq.subarray(zq/4,(zq+Aq)/4)}}else{return Cq}};aq["WASM"]["HEAPF64"]=function(Dq,Eq){if(Dq===void 0){Dq=0}if(Eq===void 0){Eq=0}var Fq=eq(7);if(Dq&&Eq){return Fq.subarray(Dq/8,(Dq+Eq)/8)}else{return Fq}};aq["WASM"]["GetString"]=function(Gq,Hq){if(!Hq){var Iq=aq["WASM"].HEAPU8();var Jq=Gq;while(0!==Iq[Jq++]);Hq=Jq-Gq-1}var Kq=aq["WASM"].HEAPU8(Gq,Hq);var Lq=cq.decode(Kq);return Lq};aq["WASM"]["SetString"]=function(Mq,Nq){var Oq=dq.encode(Nq);var Pq=aq["WASM"].HEAPU8(Mq,Oq.byteLength);Pq.set(Oq)};aq["WASM"]["EncodeString"]=function(Qq){return dq.encode(Qq)};aq["WASM"]["m_pMemory"]=null;return[]});MiaokitMerge(function(Rq){if("Sisyphus"!==Rq["m_pConfig"]["ENGINE"]){return[]}var Sq={instance:undefined,counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],currentContext:null,currArrayBuffer:0,currElementArrayBuffer:0,offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},stringiCache:{},tempFixedLengthArray:[],packAlignment:4,unpackAlignment:4,init:function(){Sq.miniTempBuffer=new Float32Array(Sq.MINI_TEMP_BUFFER_SIZE);for(var qr=0;qr<Sq.MINI_TEMP_BUFFER_SIZE;qr++){Sq.miniTempBufferViews[qr]=Sq.miniTempBuffer.subarray(0,qr+1)}for(var qr=0;qr<32;qr++){Sq.tempFixedLengthArray.push(new Array(qr))}},recordError:function rr(sr){if(!Sq.lastError){Sq.lastError=sr}},getNewId:function(tr){var ur=Sq.counter++;for(var vr=tr.length;vr<ur;vr++){tr[vr]=null}return ur},MINI_TEMP_BUFFER_SIZE:256,miniTempBuffer:null,miniTempBufferViews:[0],getSource:function(wr,xr,yr,zr){var Ar="";for(var Br=0;Br<xr;++Br){var Cr;if(zr){var Dr=_q[zr+Br*4>>2];if(Dr<0){Cr=Vq(_q[yr+Br*4>>2])}else{Cr=Vq(_q[yr+Br*4>>2],Dr)}}else{Cr=Vq(_q[yr+Br*4>>2])}Ar+=Cr}return Ar},createContext:function(Er,Fr){if(typeof Fr["majorVersion"]==="undefined"&&typeof Fr["minorVersion"]==="undefined"){if(typeof WebGL2RenderingContext!=="undefined")Fr["majorVersion"]=2;else Fr["majorVersion"]=1;Fr["minorVersion"]=0}var Gr;var Hr="?";function Ir(Kr){Hr=Kr.statusMessage||Hr}try{Er.addEventListener("webglcontextcreationerror",Ir,false);try{if(Fr["majorVersion"]==1&&Fr["minorVersion"]==0){Gr=Er.getContext("webgl",Fr)||Er.getContext("experimental-webgl",Fr)}else if(Fr["majorVersion"]==2&&Fr["minorVersion"]==0){Gr=Er.getContext("webgl2",Fr)}else{throw"Unsupported WebGL context version "+Fr["majorVersion"]+"."+Fr["minorVersion"]+"!"}}finally{Er.removeEventListener("webglcontextcreationerror",Ir,false)}if(!Gr)throw":("}catch(Lr){Uq("Could not create canvas: "+[Hr,Lr,JSON.stringify(Fr)]);return 0}if(!Gr)return 0;var Jr=Sq.registerContext(Gr,Fr);return Jr},registerContext:function(Mr,Nr){var Or=1;var Pr={handle:Or,attributes:Nr,version:Nr["majorVersion"],GLctx:Mr};function Qr(){var Rr=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return Rr?parseInt(Rr[2],10):false}Pr["supportsWebGL2EntryPoints"]=Pr.version>=2&&(Qr()===false||Qr()>=58);if(Mr.canvas)Mr.canvas.GLctxObject=Pr;Sq.contexts[Or]=Pr;if(typeof Nr["enableExtensionsByDefault"]==="undefined"||Nr["enableExtensionsByDefault"]){Sq.initExtensions(Pr)}if(Nr["renderViaOffscreenBackBuffer"]){return 0}return Or},makeContextCurrent:function(Sr){if(!Sr){Tq=Sq.currentContext=null;return true}var Tr=Sq.contexts[Sr];if(!Tr){return false}Tq=Tr.GLctx;Sq.currentContext=Tr;return true},getContext:function(Ur){return Sq.contexts[Ur]},deleteContext:function(Vr){if(!Vr)return;if(Sq.currentContext===Sq.contexts[Vr])Sq.currentContext=null;if(typeof JSEvents==="object")JSEvents.removeAllHandlersOnTarget(Sq.contexts[Vr].GLctx.canvas);if(Sq.contexts[Vr]&&Sq.contexts[Vr].GLctx.canvas)Sq.contexts[Vr].GLctx.canvas.GLctxObject=undefined;dr(Sq.contexts[Vr]);Sq.contexts[Vr]=null},initExtensions:function(Wr){if(!Wr)Wr=Sq.currentContext;if(Wr.initExtensionsDone)return;Wr.initExtensionsDone=true;Tq=Wr.GLctx;Wr.maxVertexAttribs=Tq.getParameter(Tq.MAX_VERTEX_ATTRIBS);if(Wr.version<2){var Xr=Tq.getExtension("ANGLE_instanced_arrays");if(Xr){Tq["vertexAttribDivisor"]=function(as,bs){Xr["vertexAttribDivisorANGLE"](as,bs)};Tq["drawArraysInstanced"]=function(cs,ds,es,fs){Xr["drawArraysInstancedANGLE"](cs,ds,es,fs)};Tq["drawElementsInstanced"]=function(gs,hs,is,js,ks){Xr["drawElementsInstancedANGLE"](gs,hs,is,js,ks)}}var Yr=Tq.getExtension("OES_vertex_array_object");if(Yr){Tq["createVertexArray"]=function(){return Yr["createVertexArrayOES"]()};Tq["deleteVertexArray"]=function(ls){Yr["deleteVertexArrayOES"](ls)};Tq["bindVertexArray"]=function(ms){Yr["bindVertexArrayOES"](ms)};Tq["isVertexArray"]=function(ns){return Yr["isVertexArrayOES"](ns)}}var Zr=Tq.getExtension("WEBGL_draw_buffers");if(Zr){Tq["drawBuffers"]=function(os,ps){Zr["drawBuffersWEBGL"](os,ps)}}}Tq.disjointTimerQueryExt=Tq.getExtension("EXT_disjoint_timer_query");var $r=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2"];var _r=Tq.getSupportedExtensions();if(_r&&_r.length>0){Tq.getSupportedExtensions().forEach(function(qs){if($r.indexOf(qs)!=-1){Tq.getExtension(qs)}})}},populateUniformTable:function(rs){var ss=Sq.programs[rs];Sq.programInfos[rs]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var ts=Sq.programInfos[rs];var us=ts.uniforms;var vs=Tq.getProgramParameter(ss,Tq.ACTIVE_UNIFORMS);for(var ws=0;ws<vs;++ws){var xs=Tq.getActiveUniform(ss,ws);var ys=xs.name;ts.maxUniformLength=Math.max(ts.maxUniformLength,ys.length+1);if(ys.indexOf("]",ys.length-1)!==-1){var zs=ys.lastIndexOf("[");ys=ys.slice(0,zs)}var As=Tq.getUniformLocation(ss,ys);if(As!=null){var Bs=Sq.getNewId(Sq.uniforms);us[ys]=[xs.size,Bs];Sq.uniforms[Bs]=As;for(var Cs=1;Cs<xs.size;++Cs){var Ds=ys+"["+Cs+"]";As=Tq.getUniformLocation(ss,Ds);Bs=Sq.getNewId(Sq.uniforms);Sq.uniforms[Bs]=As}}}}};var Tq=undefined;var Uq=console.error;var Vq=Rq["WASM"]["GetString"];var Wq=function(Es,Fs,Gs){Rq["WASM"]["SetString"](Fs,Es)};var Xq=undefined;var Yq=undefined;var Zq=undefined;var $q=undefined;var _q=undefined;var ar=undefined;var br=undefined;function cr(Hs){return Rq["WASM"]["Malloc"](Hs)}function dr(Is){Rq["WASM"]["Free"](Is)}function er(Js,Ks,Ls){return Ls?+(Js>>>0)+ +(Ks>>>0)*4294967296:+(Js>>>0)+ +(Ks|0)*4294967296}function fr(Ms){switch(Ms){case 34962:Ms=34964;break;case 34963:Ms=34965;break;case 35051:Ms=35053;break;case 35052:Ms=35055;break;case 35982:Ms=35983;break;case 36662:Ms=36662;break;case 36663:Ms=36663;break;case 35345:Ms=35368;break}var Ns=Tq.getParameter(Ms);if(Ns)return Ns.name|0;else return 0}function gr(Os){switch(Os){case 34962:case 34963:case 36662:case 36663:case 35051:case 35052:case 35882:case 35982:case 35345:return true;default:return false}}function hr(Ps,Qs,Rs,Ss){if(!Rs){Sq.recordError(1281);return}var Ts=Tq["getIndexedParameter"](Ps,Qs);var Us;switch(typeof Ts){case"boolean":Us=Ts?1:0;break;case"number":Us=Ts;break;case"object":if(Ts===null){switch(Ps){case 35983:case 35368:Us=0;break;default:{Sq.recordError(1280);return}}}else if(Ts instanceof WebGLBuffer){Us=Ts["name"]|0}else{Sq.recordError(1280);return}break;default:Sq.recordError(1280);return}switch(Ss){case"Integer64":var Vs=0;var Ws=[Us>>>0,(Vs=Us,+Math.abs(Vs)>=1?Vs>0?(Math.min(+Math.floor(Vs/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Vs-+(~~Vs>>>0))/4294967296)>>>0:0)];_q[Rs>>2]=Ws[0];_q[Rs+4>>2]=Ws[1];break;case"Integer":_q[Rs>>2]=Us;break;case"Float":br[Rs>>2]=Us;break;case"Boolean":Xq[Rs>>0]=Us?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+Ss}}function ir(Xs,Ys,Zs){if(!Ys){Sq.recordError(1281);return}var $s=undefined;switch(Xs){case 36346:$s=1;break;case 36344:if(Zs!=="Integer"&&Zs!=="Integer64"){Sq.recordError(1280)}return;case 34814:case 36345:$s=0;break;case 34466:var _s=Tq.getParameter(34467);$s=_s.length;break;case 33309:if(Tq.canvas.GLctxObject.version<2){Sq.recordError(1282);return}var at=Tq.getSupportedExtensions();$s=2*at.length;break;case 33307:case 33308:if(Tq.canvas.GLctxObject.version<2){Sq.recordError(1280);return}$s=Xs==33307?3:0;break}if($s===undefined){var bt=Tq.getParameter(Xs);switch(typeof bt){case"number":$s=bt;break;case"boolean":$s=bt?1:0;break;case"string":Sq.recordError(1280);return;case"object":if(bt===null){switch(Xs){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 35097:case 36389:case 34068:{$s=0;break};default:{Sq.recordError(1280);return}}}else if(bt instanceof Float32Array||bt instanceof Uint32Array||bt instanceof Int32Array||bt instanceof Array){for(var ct=0;ct<bt.length;++ct){switch(Zs){case"Integer":_q[Ys+ct*4>>2]=bt[ct];break;case"Float":br[Ys+ct*4>>2]=bt[ct];break;case"Boolean":Xq[Ys+ct>>0]=bt[ct]?1:0;break;default:throw"internal glGet error, bad type: "+Zs}}return}else if(bt instanceof WebGLBuffer||bt instanceof WebGLProgram||bt instanceof WebGLFramebuffer||bt instanceof WebGLRenderbuffer||bt instanceof WebGLQuery||bt instanceof WebGLSampler||bt instanceof WebGLSync||bt instanceof WebGLTransformFeedback||bt instanceof WebGLVertexArrayObject||bt instanceof WebGLTexture){$s=bt["name"]|0}else{Sq.recordError(1280);return}break;default:Sq.recordError(1280);return}}switch(Zs){case"Integer64":var dt=0;var et=[$s>>>0,(dt=$s,+Math.abs(dt)>=1?dt>0?(Math.min(+Math.floor(dt/4294967296),4294967295)|0)>>>0:~~+Math.ceil((dt-+(~~dt>>>0))/4294967296)>>>0:0)];_q[Ys>>2]=et[0];_q[Ys+4>>2]=et[1];break;case"Integer":_q[Ys>>2]=$s;break;case"Float":br[Ys>>2]=$s;break;case"Boolean":Xq[Ys>>0]=$s?1:0;break;default:throw"internal glGet error, bad type: "+Zs}}function jr(ft,gt,ht,it){if(!ht){Sq.recordError(1281);return}var jt=Tq.getUniform(Sq.programs[ft],Sq.uniforms[gt]);if(typeof jt=="number"||typeof jt=="boolean"){switch(it){case"Integer":_q[ht>>2]=jt;break;case"Float":br[ht>>2]=jt;break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+it}}else{for(var kt=0;kt<jt.length;kt++){switch(it){case"Integer":_q[ht+kt*4>>2]=jt[kt];break;case"Float":br[ht+kt*4>>2]=jt[kt];break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+it}}}}function kr(lt,mt,nt,ot){if(!nt){Sq.recordError(1281);return}var pt=Tq.getVertexAttrib(lt,mt);if(mt==34975){_q[nt>>2]=pt["name"]}else if(typeof pt=="number"||typeof pt=="boolean"){switch(ot){case"Integer":_q[nt>>2]=pt;break;case"Float":br[nt>>2]=pt;break;case"FloatToInteger":_q[nt>>2]=Math["fround"](pt);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+ot}}else{for(var qt=0;qt<pt.length;qt++){switch(ot){case"Integer":_q[nt+qt*4>>2]=pt[qt];break;case"Float":br[nt+qt*4>>2]=pt[qt];break;case"FloatToInteger":_q[nt+qt*4>>2]=Math["fround"](pt[qt]);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+ot}}}}function lr(rt,st,tt,ut){function vt(yt,zt){return Math.floor((yt+zt-1)/zt)*zt}var wt=rt*tt;var xt=vt(wt,ut);return st<=0?0:(st-1)*xt+wt}function mr(At,Bt,Ct,Dt,Et,Ft){var Gt;var Ht;switch(Bt){case 6406:case 6409:case 6402:case 6403:case 36244:Ht=1;break;case 6410:case 33319:case 33320:Ht=2;break;case 6407:case 35904:case 36248:Ht=3;break;case 6408:case 35906:case 36249:Ht=4;break;default:Sq.recordError(1280);return null}switch(At){case 5121:case 5120:Gt=Ht*1;break;case 5123:case 36193:case 5131:case 5122:Gt=Ht*2;break;case 5125:case 5126:case 5124:Gt=Ht*4;break;case 34042:case 35902:case 33640:case 35899:case 34042:Gt=4;break;case 33635:case 32819:case 32820:Gt=2;break;default:Sq.recordError(1280);return null}var It=lr(Ct,Dt,Gt,Sq.unpackAlignment);switch(At){case 5120:return Xq.subarray(Et,Et+It);case 5121:return Yq.subarray(Et,Et+It);case 5122:return Zq.subarray(Et>>1,Et+It>>1);case 5124:return _q.subarray(Et>>2,Et+It>>2);case 5126:return br.subarray(Et>>2,Et+It>>2);case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return ar.subarray(Et>>2,Et+It>>2);case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return $q.subarray(Et>>1,Et+It>>1);default:Sq.recordError(1280);return null}}function nr(Jt){switch(Jt){case 5120:return Xq;case 5121:return Yq;case 5122:return Zq;case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return $q;case 5124:return _q;case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return ar;case 5126:return br;default:return null}}function or(Kt){switch(Kt){case 5120:case 5121:return 0;case 5122:case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return 1;case 5124:case 5126:case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return 2;default:return 0}}var pr=function(){function Lt(){this.Ctx=undefined}Lt.prototype.FlushHeap=function(){Xq=Rq["WASM"]["HEAP8"]();Yq=Rq["WASM"]["HEAPU8"]();Zq=Rq["WASM"]["HEAP16"]();$q=Rq["WASM"]["HEAPU16"]();_q=Rq["WASM"]["HEAP32"]();ar=Rq["WASM"]["HEAPU32"]();br=Rq["WASM"]["HEAPF32"]()};Lt.prototype.CreateContext=function(Mt,Nt){Nt=Nt||{majorVersion:2,minorVersion:0,alpha:0,depth:0,stencil:0,antialias:0,premultipliedAlpha:0,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:0,proxyContextToMainThread:0,renderViaOffscreenBackBuffer:0};if(Nt["explicitSwapControl"]){return 0}Sq.init();var Ot=Sq.createContext(Mt,Nt);var Pt=Sq.makeContextCurrent(Ot);this.Ctx=Tq;return Pt?0:-5};Lt.prototype.DestroyContext=function(){Sq.deleteContext(Sq.currentContext?Sq.currentContext.handle:0)};Lt.prototype.GetTextureByHandle=function(Qt){return Qt?Sq.textures[Qt]:null};Lt.prototype.RegisterTexture=function(Rt){var St=Sq.getNewId(Sq.textures);Rt.name=St;Sq.textures[St]=Rt;return St};Lt.prototype._glVertexAttribDivisor=function(Tt,Ut){Tq["vertexAttribDivisor"](Tt,Ut)};Lt.prototype._glActiveTexture=function(Vt){Tq["activeTexture"](Vt)};Lt.prototype._glAttachShader=function(Wt,Xt){Tq.attachShader(Sq.programs[Wt],Sq.shaders[Xt])};Lt.prototype._glBeginQuery=function(Yt,Zt){Tq["beginQuery"](Yt,Zt?Sq.queries[Zt]:null)};Lt.prototype._glBeginTransformFeedback=function($t){Tq["beginTransformFeedback"]($t)};Lt.prototype._glBindAttribLocation=function(_t,au,bu){bu=Vq(bu);Tq.bindAttribLocation(Sq.programs[_t],au,bu)};Lt.prototype._glBindBuffer=function(cu,du){var eu=du?Sq.buffers[du]:null;if(cu==35051){Tq.currentPixelPackBufferBinding=du}else if(cu==35052){Tq.currentPixelUnpackBufferBinding=du}Tq.bindBuffer(cu,eu)};Lt.prototype._glBindBufferBase=function(fu,gu,hu){var iu=hu?Sq.buffers[hu]:null;Tq["bindBufferBase"](fu,gu,iu)};Lt.prototype._glBindBufferRange=function(ju,ku,lu,mu,nu){var ou=lu?Sq.buffers[lu]:null;Tq["bindBufferRange"](ju,ku,ou,mu,nu)};Lt.prototype._glBindFramebuffer=function(pu,qu){Tq.bindFramebuffer(pu,qu?Sq.framebuffers[qu]:null)};Lt.prototype._glBindRenderbuffer=function(ru,su){Tq.bindRenderbuffer(ru,su?Sq.renderbuffers[su]:null)};Lt.prototype._glBindSampler=function(tu,uu){Tq["bindSampler"](tu,uu?Sq.samplers[uu]:null)};Lt.prototype._glBindTexture=function(vu,wu){Tq.bindTexture(vu,wu?Sq.textures[wu]:null)};Lt.prototype._glBindTransformFeedback=function(xu,yu){var zu=yu?Sq.transformFeedbacks[yu]:null;if(yu&&!zu){Sq.recordError(1282);return}Tq["bindTransformFeedback"](xu,zu)};Lt.prototype._glBindVertexArray=function(Au){Tq["bindVertexArray"](Sq.vaos[Au])};Lt.prototype._glBlendEquation=function(Bu){Tq["blendEquation"](Bu)};Lt.prototype._glBlendEquationSeparate=function(Cu,Du){Tq["blendEquationSeparate"](Cu,Du)};Lt.prototype._glBlendFuncSeparate=function(Eu,Fu,Gu,Hu){Tq["blendFuncSeparate"](Eu,Fu,Gu,Hu)};Lt.prototype._glBlitFramebuffer=function(Iu,Ju,Ku,Lu,Mu,Nu,Ou,Pu,Qu,Ru){Tq["blitFramebuffer"](Iu,Ju,Ku,Lu,Mu,Nu,Ou,Pu,Qu,Ru)};Lt.prototype._glBufferData=function(Su,Tu,Uu,Vu){if(!Uu){Tq.bufferData(Su,Tu,Vu)}else{if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.bufferData(Su,Yq,Vu,Uu,Tu);return}Tq.bufferData(Su,Yq.subarray(Uu,Uu+Tu),Vu)}};Lt.prototype._glBufferSubData=function(Wu,Xu,Yu,Zu){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.bufferSubData(Wu,Xu,Yq,Zu,Yu);return}Tq.bufferSubData(Wu,Xu,Yq.subarray(Zu,Zu+Yu))};Lt.prototype._glCheckFramebufferStatus=function($u){return Tq["checkFramebufferStatus"]($u)};Lt.prototype._glClear=function(_u){Tq["clear"](_u)};Lt.prototype._glClearColor=function(av,bv,cv,dv){Tq["clearColor"](av,bv,cv,dv)};Lt.prototype._glClearDepthf=function(ev){Tq["clearDepth"](ev)};Lt.prototype._glClearStencil=function(fv){Tq["clearStencil"](fv)};Lt.prototype._glClientWaitSync=function(gv,hv,iv,jv){iv=iv>>>0;jv=jv>>>0;var kv=iv==4294967295&&jv==4294967295?-1:er(iv,jv,true);return Tq.clientWaitSync(Sq.syncs[gv],hv,kv)};Lt.prototype._glColorMask=function(lv,mv,nv,ov){Tq.colorMask(!!lv,!!mv,!!nv,!!ov)};Lt.prototype._glCompileShader=function(pv){Tq.compileShader(Sq.shaders[pv])};Lt.prototype._glCompressedTexImage2D=function(qv,rv,sv,tv,uv,vv,wv,xv){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq["compressedTexImage2D"](qv,rv,sv,tv,uv,vv,Yq,xv,wv);return}Tq["compressedTexImage2D"](qv,rv,sv,tv,uv,vv,xv?Yq.subarray(xv,xv+wv):null)};Lt.prototype._glCompressedTexSubImage2D=function(yv,zv,Av,Bv,Cv,Dv,Ev,Fv,Gv){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq["compressedTexSubImage2D"](yv,zv,Av,Bv,Cv,Dv,Ev,Yq,Gv,Fv);return}Tq["compressedTexSubImage2D"](yv,zv,Av,Bv,Cv,Dv,Ev,Gv?Yq.subarray(Gv,Gv+Fv):null)};Lt.prototype._glCompressedTexSubImage3D=function(Hv,Iv,Jv,Kv,Lv,Mv,Nv,Ov,Pv,Qv,Rv){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq["compressedTexSubImage3D"](Hv,Iv,Jv,Kv,Lv,Mv,Nv,Ov,Pv,Yq,Rv,Qv)}else{Tq["compressedTexSubImage3D"](Hv,Iv,Jv,Kv,Lv,Mv,Nv,Ov,Pv,Rv?Yq.subarray(Rv,Rv+Qv):null)}};Lt.prototype._glCopyBufferSubData=function(Sv,Tv,Uv,Vv,Wv){Tq["copyBufferSubData"](Sv,Tv,Uv,Vv,Wv)};Lt.prototype._glCopyTexImage2D=function(Xv,Yv,Zv,$v,_v,aw,bw,cw){Tq["copyTexImage2D"](Xv,Yv,Zv,$v,_v,aw,bw,cw)};Lt.prototype._glCopyTexSubImage2D=function(dw,ew,fw,gw,hw,iw,jw,kw){Tq["copyTexSubImage2D"](dw,ew,fw,gw,hw,iw,jw,kw)};Lt.prototype._glCreateProgram=function(){var lw=Sq.getNewId(Sq.programs);var mw=Tq.createProgram();mw.name=lw;Sq.programs[lw]=mw;return lw};Lt.prototype._glCreateShader=function(nw){var ow=Sq.getNewId(Sq.shaders);Sq.shaders[ow]=Tq.createShader(nw);return ow};Lt.prototype._glCullFace=function(pw){Tq["cullFace"](pw)};Lt.prototype._glDeleteBuffers=function(qw,rw){for(var sw=0;sw<qw;sw++){var tw=_q[rw+sw*4>>2];var uw=Sq.buffers[tw];if(!uw)continue;Tq.deleteBuffer(uw);uw.name=0;Sq.buffers[tw]=null;if(tw==Sq.currArrayBuffer)Sq.currArrayBuffer=0;if(tw==Sq.currElementArrayBuffer)Sq.currElementArrayBuffer=0}};Lt.prototype._glDeleteFramebuffers=function(vw,ww){for(var xw=0;xw<vw;++xw){var yw=_q[ww+xw*4>>2];var zw=Sq.framebuffers[yw];if(!zw)continue;Tq.deleteFramebuffer(zw);zw.name=0;Sq.framebuffers[yw]=null}};Lt.prototype._glDeleteProgram=function(Aw){if(!Aw)return;var Bw=Sq.programs[Aw];if(!Bw){Sq.recordError(1281);return}Tq.deleteProgram(Bw);Bw.name=0;Sq.programs[Aw]=null;Sq.programInfos[Aw]=null};Lt.prototype._glDeleteQueries=function(Cw,Dw){for(var Ew=0;Ew<Cw;Ew++){var Fw=_q[Dw+Ew*4>>2];var Gw=Sq.queries[Fw];if(!Gw)continue;Tq["deleteQuery"](Gw);Sq.queries[Fw]=null}};Lt.prototype._glDeleteRenderbuffers=function(Hw,Iw){for(var Jw=0;Jw<Hw;Jw++){var Kw=_q[Iw+Jw*4>>2];var Lw=Sq.renderbuffers[Kw];if(!Lw)continue;Tq.deleteRenderbuffer(Lw);Lw.name=0;Sq.renderbuffers[Kw]=null}};Lt.prototype._glDeleteSamplers=function(Mw,Nw){for(var Ow=0;Ow<Mw;Ow++){var Pw=_q[Nw+Ow*4>>2];var Qw=Sq.samplers[Pw];if(!Qw)continue;Tq["deleteSampler"](Qw);Qw.name=0;Sq.samplers[Pw]=null}};Lt.prototype._glDeleteShader=function(Rw){if(!Rw)return;var Sw=Sq.shaders[Rw];if(!Sw){Sq.recordError(1281);return}Tq.deleteShader(Sw);Sq.shaders[Rw]=null};Lt.prototype._glDeleteSync=function(Tw){if(!Tw)return;var Uw=Sq.syncs[Tw];if(!Uw){Sq.recordError(1281);return}Tq.deleteSync(Uw);Uw.name=0;Sq.syncs[Tw]=null};Lt.prototype._glDeleteTextures=function(Vw,Ww){for(var Xw=0;Xw<Vw;Xw++){var Yw=_q[Ww+Xw*4>>2];var Zw=Sq.textures[Yw];if(!Zw)continue;Tq.deleteTexture(Zw);Zw.name=0;Sq.textures[Yw]=null}};Lt.prototype._glDeleteTransformFeedbacks=function($w,_w){for(var ax=0;ax<$w;ax++){var bx=_q[_w+ax*4>>2];var cx=Sq.transformFeedbacks[bx];if(!cx)continue;Tq["deleteTransformFeedback"](cx);cx.name=0;Sq.transformFeedbacks[bx]=null}};Lt.prototype._glDeleteVertexArrays=function(dx,ex){for(var fx=0;fx<dx;fx++){var gx=_q[ex+fx*4>>2];Tq["deleteVertexArray"](Sq.vaos[gx]);Sq.vaos[gx]=null}};Lt.prototype._glDepthFunc=function(hx){Tq["depthFunc"](hx)};Lt.prototype._glDepthMask=function(ix){Tq.depthMask(!!ix)};Lt.prototype._glDetachShader=function(jx,kx){Tq.detachShader(Sq.programs[jx],Sq.shaders[kx])};Lt.prototype._glDisable=function(lx){Tq["disable"](lx)};Lt.prototype._glDisableVertexAttribArray=function(mx){Tq.disableVertexAttribArray(mx)};Lt.prototype._glDrawArrays=function(nx,ox,px){Tq.drawArrays(nx,ox,px)};Lt.prototype._glDrawArraysInstanced=function(qx,rx,sx,tx){Tq["drawArraysInstanced"](qx,rx,sx,tx)};Lt.prototype._glDrawBuffers=function(ux,vx){var wx=Sq.tempFixedLengthArray[ux];for(var xx=0;xx<ux;xx++){wx[xx]=_q[vx+xx*4>>2]}Tq["drawBuffers"](wx)};Lt.prototype._glDrawElements=function(yx,zx,Ax,Bx){Tq.drawElements(yx,zx,Ax,Bx)};Lt.prototype._glDrawElementsInstanced=function(Cx,Dx,Ex,Fx,Gx){Tq["drawElementsInstanced"](Cx,Dx,Ex,Fx,Gx)};Lt.prototype._glEnable=function(Hx){Tq["enable"](Hx)};Lt.prototype._glEnableVertexAttribArray=function(Ix){Tq.enableVertexAttribArray(Ix)};Lt.prototype._glEndQuery=function(Jx){Tq["endQuery"](Jx)};Lt.prototype._glEndTransformFeedback=function(){Tq["endTransformFeedback"]()};Lt.prototype._glFenceSync=function(Kx,Lx){var Mx=Tq.fenceSync(Kx,Lx);if(Mx){var Nx=Sq.getNewId(Sq.syncs);Mx.name=Nx;Sq.syncs[Nx]=Mx;return Nx}else{return 0}};Lt.prototype._glFinish=function(){Tq["finish"]()};Lt.prototype._glFlush=function(){Tq["flush"]()};Lt.prototype._glFlushMappedBufferRange=function(Ox,Px,Qx){if(!gr(Ox)){Sq.recordError(1280);Uq("GL_INVALID_ENUM in glFlushMappedBufferRange");return}var Rx=Sq.mappedBuffers[fr(Ox)];if(!Rx){Sq.recordError(1282);Uq("buffer was never mapped in glFlushMappedBufferRange");return}if(!(Rx.access&16)){Sq.recordError(1282);Uq("buffer was not mapped with GL_MAP_FLUSH_EXPLICIT_BIT in glFlushMappedBufferRange");return}if(Px<0||Qx<0||Px+Qx>Rx.length){Sq.recordError(1281);Uq("invalid range in glFlushMappedBufferRange");return}Tq.bufferSubData(Ox,Rx.offset,Yq.subarray(Rx.mem+Px,Rx.mem+Px+Qx))};Lt.prototype._glFramebufferRenderbuffer=function(Sx,Tx,Ux,Vx){Tq.framebufferRenderbuffer(Sx,Tx,Ux,Sq.renderbuffers[Vx])};Lt.prototype._glFramebufferTexture2D=function(Wx,Xx,Yx,Zx,$x){Tq.framebufferTexture2D(Wx,Xx,Yx,Sq.textures[Zx],$x)};Lt.prototype._glFramebufferTextureLayer=function(_x,ay,by,cy,dy){Tq.framebufferTextureLayer(_x,ay,Sq.textures[by],cy,dy)};Lt.prototype._glFrontFace=function(ey){Tq["frontFace"](ey)};Lt.prototype._glGenBuffers=function(fy,gy){for(var hy=0;hy<fy;hy++){var iy=Tq.createBuffer();if(!iy){Sq.recordError(1282);while(hy<fy)_q[gy+hy++*4>>2]=0;return}var jy=Sq.getNewId(Sq.buffers);iy.name=jy;Sq.buffers[jy]=iy;_q[gy+hy*4>>2]=jy}};Lt.prototype._glGenFramebuffers=function(ky,ly){for(var my=0;my<ky;++my){var ny=Tq.createFramebuffer();if(!ny){Sq.recordError(1282);while(my<ky)_q[ly+my++*4>>2]=0;return}var oy=Sq.getNewId(Sq.framebuffers);ny.name=oy;Sq.framebuffers[oy]=ny;_q[ly+my*4>>2]=oy}};Lt.prototype._glGenQueries=function(py,qy){for(var ry=0;ry<py;ry++){var sy=Tq["createQuery"]();if(!sy){Sq.recordError(1282);while(ry<py)_q[qy+ry++*4>>2]=0;return}var ty=Sq.getNewId(Sq.queries);sy.name=ty;Sq.queries[ty]=sy;_q[qy+ry*4>>2]=ty}};Lt.prototype._glGenRenderbuffers=function(uy,vy){for(var wy=0;wy<uy;wy++){var xy=Tq.createRenderbuffer();if(!xy){Sq.recordError(1282);while(wy<uy)_q[vy+wy++*4>>2]=0;return}var yy=Sq.getNewId(Sq.renderbuffers);xy.name=yy;Sq.renderbuffers[yy]=xy;_q[vy+wy*4>>2]=yy}};Lt.prototype._glGenSamplers=function(zy,Ay){for(var By=0;By<zy;By++){var Cy=Tq["createSampler"]();if(!Cy){Sq.recordError(1282);while(By<zy)_q[Ay+By++*4>>2]=0;return}var Dy=Sq.getNewId(Sq.samplers);Cy.name=Dy;Sq.samplers[Dy]=Cy;_q[Ay+By*4>>2]=Dy}};Lt.prototype._glGenTextures=function(Ey,Fy){for(var Gy=0;Gy<Ey;Gy++){var Hy=Tq.createTexture();if(!Hy){Sq.recordError(1282);while(Gy<Ey)_q[Fy+Gy++*4>>2]=0;return}var Iy=Sq.getNewId(Sq.textures);Hy.name=Iy;Sq.textures[Iy]=Hy;_q[Fy+Gy*4>>2]=Iy}};Lt.prototype._glGenTransformFeedbacks=function(Jy,Ky){for(var Ly=0;Ly<Jy;Ly++){var My=Tq["createTransformFeedback"]();if(!My){Sq.recordError(1282);while(Ly<Jy)_q[Ky+Ly++*4>>2]=0;return}var Ny=Sq.getNewId(Sq.transformFeedbacks);My.name=Ny;Sq.transformFeedbacks[Ny]=My;_q[Ky+Ly*4>>2]=Ny}};Lt.prototype._glGenVertexArrays=function(Oy,Py){for(var Qy=0;Qy<Oy;Qy++){var Ry=Tq["createVertexArray"]();if(!Ry){Sq.recordError(1282);while(Qy<Oy)_q[Py+Qy++*4>>2]=0;return}var Sy=Sq.getNewId(Sq.vaos);Ry.name=Sy;Sq.vaos[Sy]=Ry;_q[Py+Qy*4>>2]=Sy}};Lt.prototype._glGenerateMipmap=function(Ty){Tq["generateMipmap"](Ty)};Lt.prototype._glGetActiveAttrib=function(Uy,Vy,Wy,Xy,Yy,Zy,$y){Uy=Sq.programs[Uy];var _y=Tq.getActiveAttrib(Uy,Vy);if(!_y)return;if(Wy>0&&$y){var az=Wq(_y.name,$y,Wy);if(Xy)_q[Xy>>2]=az}else{if(Xy)_q[Xy>>2]=0}if(Yy)_q[Yy>>2]=_y.size;if(Zy)_q[Zy>>2]=_y.type};Lt.prototype._glGetActiveUniform=function(bz,cz,dz,ez,fz,gz,hz){bz=Sq.programs[bz];var iz=Tq.getActiveUniform(bz,cz);if(!iz)return;if(dz>0&&hz){var jz=Wq(iz.name,hz,dz);if(ez)_q[ez>>2]=jz}else{if(ez)_q[ez>>2]=0}if(fz)_q[fz>>2]=iz.size;if(gz)_q[gz>>2]=iz.type};Lt.prototype._glGetActiveUniformBlockName=function(kz,lz,mz,nz,oz){kz=Sq.programs[kz];var pz=Tq["getActiveUniformBlockName"](kz,lz);if(!pz)return;if(oz&&mz>0){var qz=Wq(pz,oz,mz);if(nz)_q[nz>>2]=qz}else{if(nz)_q[nz>>2]=0}};Lt.prototype._glGetActiveUniformBlockiv=function(rz,sz,tz,uz){if(!uz){Sq.recordError(1281);return}rz=Sq.programs[rz];switch(tz){case 35393:var vz=Tq["getActiveUniformBlockName"](rz,sz);_q[uz>>2]=vz.length+1;return;default:var wz=Tq["getActiveUniformBlockParameter"](rz,sz,tz);if(!wz)return;if(typeof wz=="number"){_q[uz>>2]=wz}else{for(var xz=0;xz<wz.length;xz++){_q[uz+xz*4>>2]=wz[xz]}}}};Lt.prototype._glGetActiveUniformsiv=function(yz,zz,Az,Bz,Cz){if(!Cz){Sq.recordError(1281);return}if(zz>0&&Az==0){Sq.recordError(1281);return}yz=Sq.programs[yz];var Dz=[];for(var Ez=0;Ez<zz;Ez++){Dz.push(_q[Az+Ez*4>>2])}var Fz=Tq["getActiveUniforms"](yz,Dz,Bz);if(!Fz)return;var Gz=Fz.length;for(var Ez=0;Ez<Gz;Ez++){_q[Cz+Ez*4>>2]=Fz[Ez]}};Lt.prototype._glGetAttribLocation=function(Hz,Iz){return Tq.getAttribLocation(Sq.programs[Hz],Vq(Iz))};Lt.prototype._glGetError=function(){if(Sq.lastError){var Jz=Sq.lastError;Sq.lastError=0;return Jz}else{return Tq.getError()}};Lt.prototype._glGetFramebufferAttachmentParameteriv=function(Kz,Lz,Mz,Nz){var Oz=Tq.getFramebufferAttachmentParameter(Kz,Lz,Mz);if(Oz instanceof WebGLRenderbuffer||Oz instanceof WebGLTexture){Oz=Oz["name"]|0}_q[Nz>>2]=Oz};Lt.prototype._glGetIntegeri_v=function(Pz,Qz,Rz){hr(Pz,Qz,Rz,"Integer")};Lt.prototype._glGetIntegerv=function(Sz,Tz){ir(Sz,Tz,"Integer")};Lt.prototype._glGetInternalformativ=function(Uz,Vz,Wz,Xz,Yz){if(Xz<0){Sq.recordError(1281);return}var Zz=Tq["getInternalformatParameter"](Uz,Vz,32937);if(!Zz){Sq.recordError(1280);return}switch(Wz){case 32937:var $z=Math.min(Xz,Zz.length);for(var _z=0;_z<$z;_z++){var aA=Zz[_z];_q[Yz+_z*4>>2]=aA}break;case 37760:if(Xz>1){var aA=Zz.length;_q[Yz>>2]=aA}break;default:Sq.recordError(1280)}};Lt.prototype._glGetProgramBinary=function(bA,cA,dA,eA,fA){Sq.recordError(1282)};Lt.prototype._glGetProgramInfoLog=function(gA,hA,iA,jA){var kA=Tq.getProgramInfoLog(Sq.programs[gA]);if(kA===null)kA="(unknown error)";if(hA>0&&jA){var lA=Wq(kA,jA,hA);if(iA)_q[iA>>2]=lA}else{if(iA)_q[iA>>2]=0}};Lt.prototype._glGetProgramiv=function(mA,nA,oA){if(!oA){Sq.recordError(1281);return}if(mA>=Sq.counter){Sq.recordError(1281);return}var pA=Sq.programInfos[mA];if(!pA){Sq.recordError(1282);return}if(nA==35716){var qA=Tq.getProgramInfoLog(Sq.programs[mA]);if(qA===null)qA="(unknown error)";_q[oA>>2]=qA.length+1}else if(nA==35719){_q[oA>>2]=pA.maxUniformLength}else if(nA==35722){if(pA.maxAttributeLength==-1){mA=Sq.programs[mA];var rA=Tq.getProgramParameter(mA,Tq.ACTIVE_ATTRIBUTES);pA.maxAttributeLength=0;for(var sA=0;sA<rA;++sA){var tA=Tq.getActiveAttrib(mA,sA);pA.maxAttributeLength=Math.max(pA.maxAttributeLength,tA.name.length+1)}}_q[oA>>2]=pA.maxAttributeLength}else if(nA==35381){if(pA.maxUniformBlockNameLength==-1){mA=Sq.programs[mA];var uA=Tq.getProgramParameter(mA,Tq.ACTIVE_UNIFORM_BLOCKS);pA.maxUniformBlockNameLength=0;for(var sA=0;sA<uA;++sA){var vA=Tq.getActiveUniformBlockName(mA,sA);pA.maxUniformBlockNameLength=Math.max(pA.maxUniformBlockNameLength,vA.length+1)}}_q[oA>>2]=pA.maxUniformBlockNameLength}else{_q[oA>>2]=Tq.getProgramParameter(Sq.programs[mA],nA)}};Lt.prototype._glGetRenderbufferParameteriv=function(wA,xA,yA){if(!yA){Sq.recordError(1281);return}_q[yA>>2]=Tq.getRenderbufferParameter(wA,xA)};Lt.prototype._glGetShaderInfoLog=function(zA,AA,BA,CA){var DA=Tq.getShaderInfoLog(Sq.shaders[zA]);if(DA===null)DA="(unknown error)";if(AA>0&&CA){var EA=Wq(DA,CA,AA);if(BA)_q[BA>>2]=EA}else{if(BA)_q[BA>>2]=0}};Lt.prototype._glGetShaderPrecisionFormat=function(FA,GA,HA,IA){var JA=Tq.getShaderPrecisionFormat(FA,GA);_q[HA>>2]=JA.rangeMin;_q[HA+4>>2]=JA.rangeMax;_q[IA>>2]=JA.precision};Lt.prototype._glGetShaderSource=function(KA,LA,MA,NA){var OA=Tq.getShaderSource(Sq.shaders[KA]);if(!OA)return;if(LA>0&&NA){var PA=Wq(OA,NA,LA);if(MA)_q[MA>>2]=PA}else{if(MA)_q[MA>>2]=0}};Lt.prototype._glGetShaderiv=function(QA,RA,SA){if(!SA){Sq.recordError(1281);return}if(RA==35716){var TA=Tq.getShaderInfoLog(Sq.shaders[QA]);if(TA===null)TA="(unknown error)";_q[SA>>2]=TA.length+1}else if(RA==35720){var UA=Tq.getShaderSource(Sq.shaders[QA]);var VA=UA===null||UA.length==0?0:UA.length+1;_q[SA>>2]=VA}else{_q[SA>>2]=Tq.getShaderParameter(Sq.shaders[QA],RA)}};Lt.prototype._glGetString=function(WA){Uq("unsupported glGetString");return 0};Lt.prototype._glGetStringi=function(XA,YA){Uq("unsupported glGetStringi");return 0};Lt.prototype._glGetTexParameteriv=function(ZA,$A,_A){if(!_A){Sq.recordError(1281);return}_q[_A>>2]=Tq.getTexParameter(ZA,$A)};Lt.prototype._glGetUniformBlockIndex=function(aB,bB){aB=Sq.programs[aB];bB=Vq(bB);return Tq["getUniformBlockIndex"](aB,bB)};Lt.prototype._glGetUniformIndices=function(cB,dB,eB,fB){if(!fB){Sq.recordError(1281);return}if(dB>0&&(eB==0||fB==0)){Sq.recordError(1281);return}cB=Sq.programs[cB];var gB=[];for(var hB=0;hB<dB;hB++)gB.push(Vq(_q[eB+hB*4>>2]));var iB=Tq["getUniformIndices"](cB,gB);if(!iB)return;var jB=iB.length;for(var hB=0;hB<jB;hB++){_q[fB+hB*4>>2]=iB[hB]}};Lt.prototype._glGetUniformLocation=function(kB,lB){lB=Vq(lB);var mB=0;if(lB.indexOf("]",lB.length-1)!==-1){var nB=lB.lastIndexOf("[");var oB=lB.slice(nB+1,-1);if(oB.length>0){mB=parseInt(oB);if(mB<0){return-1}}lB=lB.slice(0,nB)}var pB=Sq.programInfos[kB];if(!pB){return-1}var qB=pB.uniforms;var rB=qB[lB];if(rB&&mB<rB[0]){return rB[1]+mB}else{return-1}};Lt.prototype._glGetUniformiv=function(sB,tB,uB){jr(sB,tB,uB,"Integer")};Lt.prototype._glGetVertexAttribiv=function(vB,wB,xB){kr(vB,wB,xB,"FloatToInteger")};Lt.prototype._glInvalidateFramebuffer=function(yB,zB,AB){var BB=Sq.tempFixedLengthArray[zB];for(var CB=0;CB<zB;CB++){BB[CB]=_q[AB+CB*4>>2]}Tq["invalidateFramebuffer"](yB,BB)};Lt.prototype._glIsEnabled=function(DB){return Tq["isEnabled"](DB)};Lt.prototype._glIsVertexArray=function(EB){var FB=Sq.vaos[EB];if(!FB)return 0;return Tq["isVertexArray"](FB)};Lt.prototype._glLinkProgram=function(GB){Tq.linkProgram(Sq.programs[GB]);Sq.programInfos[GB]=null;Sq.populateUniformTable(GB)};Lt.prototype._glMapBufferRange=function(HB,IB,JB,KB){if(KB!=26&&KB!=10){Uq("glMapBufferRange is only supported when access is MAP_WRITE|INVALIDATE_BUFFER");return 0}if(!gr(HB)){Sq.recordError(1280);Uq("GL_INVALID_ENUM in glMapBufferRange");return 0}var LB=cr(JB);if(!LB)return 0;Sq.mappedBuffers[fr(HB)]={offset:IB,length:JB,mem:LB,access:KB};return LB};Lt.prototype._glPixelStorei=function(MB,NB){if(MB==3333){Sq.packAlignment=NB}else if(MB==3317){Sq.unpackAlignment=NB}Tq.pixelStorei(MB,NB)};Lt.prototype._glPolygonOffset=function(OB,PB){Tq["polygonOffset"](OB,PB)};Lt.prototype._glProgramBinary=function(QB,RB,SB,TB){Sq.recordError(1280)};Lt.prototype._glProgramParameteri=function(UB,VB,WB){Sq.recordError(1280)};Lt.prototype._glReadBuffer=function(XB){Tq["readBuffer"](XB)};Lt.prototype._glReadPixels=function(YB,ZB,$B,_B,aC,bC,cC){if(Sq.currentContext.supportsWebGL2EntryPoints){if(Tq.currentPixelPackBufferBinding){Tq.readPixels(YB,ZB,$B,_B,aC,bC,cC)}else{Tq.readPixels(YB,ZB,$B,_B,aC,bC,nr(bC),cC>>or(bC))}return}var dC=mr(bC,aC,$B,_B,cC,aC);if(!dC){Sq.recordError(1280);return}Tq.readPixels(YB,ZB,$B,_B,aC,bC,dC)};Lt.prototype._glRenderbufferStorage=function(eC,fC,gC,hC){Tq["renderbufferStorage"](eC,fC,gC,hC)};Lt.prototype._glRenderbufferStorageMultisample=function(iC,jC,kC,lC,mC){Tq["renderbufferStorageMultisample"](iC,jC,kC,lC,mC)};Lt.prototype._glSamplerParameteri=function(nC,oC,pC){Tq["samplerParameteri"](nC?Sq.samplers[nC]:null,oC,pC)};Lt.prototype._glScissor=function(qC,rC,sC,tC){Tq["scissor"](qC,rC,sC,tC)};Lt.prototype._glShaderSource=function(uC,vC,wC,xC){var yC=Sq.getSource(uC,vC,wC,xC);Tq.shaderSource(Sq.shaders[uC],yC)};Lt.prototype._glStencilFuncSeparate=function(zC,AC,BC,CC){Tq["stencilFuncSeparate"](zC,AC,BC,CC)};Lt.prototype._glStencilMask=function(DC){Tq["stencilMask"](DC)};Lt.prototype._glStencilOpSeparate=function(EC,FC,GC,HC){Tq["stencilOpSeparate"](EC,FC,GC,HC)};Lt.prototype._glTexImage2D=function(IC,JC,KC,LC,MC,NC,OC,PC,QC){if(Sq.currentContext.supportsWebGL2EntryPoints){if(Tq.currentPixelUnpackBufferBinding){Tq.texImage2D(IC,JC,KC,LC,MC,NC,OC,PC,QC)}else if(QC!=0){Tq.texImage2D(IC,JC,KC,LC,MC,NC,OC,PC,nr(PC),QC>>or(PC))}else{Tq.texImage2D(IC,JC,KC,LC,MC,NC,OC,PC,null)}return}var RC=null;if(QC)RC=mr(PC,OC,LC,MC,QC,KC);Tq.texImage2D(IC,JC,KC,LC,MC,NC,OC,PC,RC)};Lt.prototype._glTexImage3D=function(SC,TC,UC,VC,WC,XC,YC,ZC,$C,_C){if(Tq.currentPixelUnpackBufferBinding){Tq["texImage3D"](SC,TC,UC,VC,WC,XC,YC,ZC,$C,_C)}else if(_C!=0){Tq["texImage3D"](SC,TC,UC,VC,WC,XC,YC,ZC,$C,nr($C),_C>>or($C))}else{Tq["texImage3D"](SC,TC,UC,VC,WC,XC,YC,ZC,$C,null)}};Lt.prototype._glTexParameterf=function(aD,bD,cD){Tq["texParameterf"](aD,bD,cD)};Lt.prototype._glTexParameteri=function(dD,eD,fD){Tq["texParameteri"](dD,eD,fD)};Lt.prototype._glTexParameteriv=function(gD,hD,iD){var jD=_q[iD>>2];Tq.texParameteri(gD,hD,jD)};Lt.prototype._glTexStorage2D=function(kD,lD,mD,nD,oD){Tq["texStorage2D"](kD,lD,mD,nD,oD)};Lt.prototype._glTexStorage3D=function(pD,qD,rD,sD,tD,uD){Tq["texStorage3D"](pD,qD,rD,sD,tD,uD)};Lt.prototype._glTexSubImage2D=function(vD,wD,xD,yD,zD,AD,BD,CD,DD){if(Sq.currentContext.supportsWebGL2EntryPoints){if(Tq.currentPixelUnpackBufferBinding){Tq.texSubImage2D(vD,wD,xD,yD,zD,AD,BD,CD,DD)}else if(DD!=0){Tq.texSubImage2D(vD,wD,xD,yD,zD,AD,BD,CD,nr(CD),DD>>or(CD))}else{Tq.texSubImage2D(vD,wD,xD,yD,zD,AD,BD,CD,null)}return}var ED=null;if(DD)ED=mr(CD,BD,zD,AD,DD,0);Tq.texSubImage2D(vD,wD,xD,yD,zD,AD,BD,CD,ED)};Lt.prototype._glTexSubImage3D=function(FD,GD,HD,ID,JD,KD,LD,MD,ND,OD,PD){if(Tq.currentPixelUnpackBufferBinding){Tq["texSubImage3D"](FD,GD,HD,ID,JD,KD,LD,MD,ND,OD,PD)}else if(PD!=0){Tq["texSubImage3D"](FD,GD,HD,ID,JD,KD,LD,MD,ND,OD,nr(OD),PD>>or(OD))}else{Tq["texSubImage3D"](FD,GD,HD,ID,JD,KD,LD,MD,ND,OD,null)}};Lt.prototype._glTransformFeedbackVaryings=function(QD,RD,SD,TD){QD=Sq.programs[QD];var UD=[];for(var VD=0;VD<RD;VD++)UD.push(Vq(_q[SD+VD*4>>2]));Tq["transformFeedbackVaryings"](QD,UD,TD)};Lt.prototype._glUniform1fv=function(WD,XD,YD){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniform1fv(Sq.uniforms[WD],br,YD>>2,XD);return}var ZD;if(XD<=Sq.MINI_TEMP_BUFFER_SIZE){ZD=Sq.miniTempBufferViews[XD-1];for(var $D=0;$D<XD;++$D){ZD[$D]=br[YD+4*$D>>2]}}else{ZD=br.subarray(YD>>2,YD+XD*4>>2)}Tq.uniform1fv(Sq.uniforms[WD],ZD)};Lt.prototype._glUniform1i=function(_D,aE){Tq.uniform1i(Sq.uniforms[_D],aE)};Lt.prototype._glUniform1iv=function(bE,cE,dE){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniform1iv(Sq.uniforms[bE],_q,dE>>2,cE);return}Tq.uniform1iv(Sq.uniforms[bE],_q.subarray(dE>>2,dE+cE*4>>2))};Lt.prototype._glUniform1uiv=function(eE,fE,gE){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniform1uiv(Sq.uniforms[eE],ar,gE>>2,fE)}else{Tq.uniform1uiv(Sq.uniforms[eE],ar.subarray(gE>>2,gE+fE*4>>2))}};Lt.prototype._glUniform2fv=function(hE,iE,jE){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniform2fv(Sq.uniforms[hE],br,jE>>2,iE*2);return}var kE;if(2*iE<=Sq.MINI_TEMP_BUFFER_SIZE){kE=Sq.miniTempBufferViews[2*iE-1];for(var lE=0;lE<2*iE;lE+=2){kE[lE]=br[jE+4*lE>>2];kE[lE+1]=br[jE+(4*lE+4)>>2]}}else{kE=br.subarray(jE>>2,jE+iE*8>>2)}Tq.uniform2fv(Sq.uniforms[hE],kE)};Lt.prototype._glUniform2iv=function(mE,nE,oE){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniform2iv(Sq.uniforms[mE],_q,oE>>2,nE*2);return}Tq.uniform2iv(Sq.uniforms[mE],_q.subarray(oE>>2,oE+nE*8>>2))};Lt.prototype._glUniform2uiv=function(pE,qE,rE){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniform2uiv(Sq.uniforms[pE],ar,rE>>2,qE*2)}else{Tq.uniform2uiv(Sq.uniforms[pE],ar.subarray(rE>>2,rE+qE*8>>2))}};Lt.prototype._glUniform3fv=function(sE,tE,uE){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniform3fv(Sq.uniforms[sE],br,uE>>2,tE*3);return}var vE;if(3*tE<=Sq.MINI_TEMP_BUFFER_SIZE){vE=Sq.miniTempBufferViews[3*tE-1];for(var wE=0;wE<3*tE;wE+=3){vE[wE]=br[uE+4*wE>>2];vE[wE+1]=br[uE+(4*wE+4)>>2];vE[wE+2]=br[uE+(4*wE+8)>>2]}}else{vE=br.subarray(uE>>2,uE+tE*12>>2)}Tq.uniform3fv(Sq.uniforms[sE],vE)};Lt.prototype._glUniform3iv=function(xE,yE,zE){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniform3iv(Sq.uniforms[xE],_q,zE>>2,yE*3);return}Tq.uniform3iv(Sq.uniforms[xE],_q.subarray(zE>>2,zE+yE*12>>2))};Lt.prototype._glUniform3uiv=function(AE,BE,CE){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniform3uiv(Sq.uniforms[AE],ar,CE>>2,BE*3)}else{Tq.uniform3uiv(Sq.uniforms[AE],ar.subarray(CE>>2,CE+BE*12>>2))}};Lt.prototype._glUniform4fv=function(DE,EE,FE){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniform4fv(Sq.uniforms[DE],br,FE>>2,EE*4);return}var GE;if(4*EE<=Sq.MINI_TEMP_BUFFER_SIZE){GE=Sq.miniTempBufferViews[4*EE-1];for(var HE=0;HE<4*EE;HE+=4){GE[HE]=br[FE+4*HE>>2];GE[HE+1]=br[FE+(4*HE+4)>>2];GE[HE+2]=br[FE+(4*HE+8)>>2];GE[HE+3]=br[FE+(4*HE+12)>>2]}}else{GE=br.subarray(FE>>2,FE+EE*16>>2)}Tq.uniform4fv(Sq.uniforms[DE],GE)};Lt.prototype._glUniform4iv=function(IE,JE,KE){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniform4iv(Sq.uniforms[IE],_q,KE>>2,JE*4);return}Tq.uniform4iv(Sq.uniforms[IE],_q.subarray(KE>>2,KE+JE*16>>2))};Lt.prototype._glUniform4uiv=function(LE,ME,NE){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniform4uiv(Sq.uniforms[LE],ar,NE>>2,ME*4)}else{Tq.uniform4uiv(Sq.uniforms[LE],ar.subarray(NE>>2,NE+ME*16>>2))}};Lt.prototype._glUniformBlockBinding=function(OE,PE,QE){OE=Sq.programs[OE];Tq["uniformBlockBinding"](OE,PE,QE)};Lt.prototype._glUniformMatrix3fv=function(RE,SE,TE,UE){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniformMatrix3fv(Sq.uniforms[RE],!!TE,br,UE>>2,SE*9);return}var VE;if(9*SE<=Sq.MINI_TEMP_BUFFER_SIZE){VE=Sq.miniTempBufferViews[9*SE-1];for(var WE=0;WE<9*SE;WE+=9){VE[WE]=br[UE+4*WE>>2];VE[WE+1]=br[UE+(4*WE+4)>>2];VE[WE+2]=br[UE+(4*WE+8)>>2];VE[WE+3]=br[UE+(4*WE+12)>>2];VE[WE+4]=br[UE+(4*WE+16)>>2];VE[WE+5]=br[UE+(4*WE+20)>>2];VE[WE+6]=br[UE+(4*WE+24)>>2];VE[WE+7]=br[UE+(4*WE+28)>>2];VE[WE+8]=br[UE+(4*WE+32)>>2]}}else{VE=br.subarray(UE>>2,UE+SE*36>>2)}Tq.uniformMatrix3fv(Sq.uniforms[RE],!!TE,VE)};Lt.prototype._glUniformMatrix4fv=function(XE,YE,ZE,$E){if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.uniformMatrix4fv(Sq.uniforms[XE],!!ZE,br,$E>>2,YE*16);return}var _E;if(16*YE<=Sq.MINI_TEMP_BUFFER_SIZE){_E=Sq.miniTempBufferViews[16*YE-1];for(var aF=0;aF<16*YE;aF+=16){_E[aF]=br[$E+4*aF>>2];_E[aF+1]=br[$E+(4*aF+4)>>2];_E[aF+2]=br[$E+(4*aF+8)>>2];_E[aF+3]=br[$E+(4*aF+12)>>2];_E[aF+4]=br[$E+(4*aF+16)>>2];_E[aF+5]=br[$E+(4*aF+20)>>2];_E[aF+6]=br[$E+(4*aF+24)>>2];_E[aF+7]=br[$E+(4*aF+28)>>2];_E[aF+8]=br[$E+(4*aF+32)>>2];_E[aF+9]=br[$E+(4*aF+36)>>2];_E[aF+10]=br[$E+(4*aF+40)>>2];_E[aF+11]=br[$E+(4*aF+44)>>2];_E[aF+12]=br[$E+(4*aF+48)>>2];_E[aF+13]=br[$E+(4*aF+52)>>2];_E[aF+14]=br[$E+(4*aF+56)>>2];_E[aF+15]=br[$E+(4*aF+60)>>2]}}else{_E=br.subarray($E>>2,$E+YE*64>>2)}Tq.uniformMatrix4fv(Sq.uniforms[XE],!!ZE,_E)};Lt.prototype._glUnmapBuffer=function(bF){if(!gr(bF)){Sq.recordError(1280);Uq("GL_INVALID_ENUM in glUnmapBuffer");return 0}var cF=fr(bF);var dF=Sq.mappedBuffers[cF];if(!dF){Sq.recordError(1282);Uq("buffer was never mapped in glUnmapBuffer");return 0}Sq.mappedBuffers[cF]=null;if(!(dF.access&16))if(Sq.currentContext.supportsWebGL2EntryPoints){Tq.bufferSubData(bF,dF.offset,Yq,dF.mem,dF.length)}else{Tq.bufferSubData(bF,dF.offset,Yq.subarray(dF.mem,dF.mem+dF.length))}dr(dF.mem);return 1};Lt.prototype._glUseProgram=function(eF){Tq.useProgram(eF?Sq.programs[eF]:null)};Lt.prototype._glValidateProgram=function(fF){Tq.validateProgram(Sq.programs[fF])};Lt.prototype._glVertexAttrib4f=function(gF,hF,iF,jF,kF){Tq["vertexAttrib4f"](gF,hF,iF,jF,kF)};Lt.prototype._glVertexAttrib4fv=function(lF,mF){Tq.vertexAttrib4f(lF,br[mF>>2],br[mF+4>>2],br[mF+8>>2],br[mF+12>>2])};Lt.prototype._glVertexAttribIPointer=function(nF,oF,pF,qF,rF){var sF=Sq.currentContext.clientBuffers[nF];if(!Sq.currArrayBuffer){sF.size=oF;sF.type=pF;sF.normalized=false;sF.stride=qF;sF.ptr=rF;sF.clientside=true;return}sF.clientside=false;Tq.vertexAttribIPointer(nF,oF,pF,qF,rF)};Lt.prototype._glVertexAttribPointer=function(tF,uF,vF,wF,xF,yF){Tq.vertexAttribPointer(tF,uF,vF,!!wF,xF,yF)};Lt.prototype._glViewport=function(zF,AF,BF,CF){Tq["viewport"](zF,AF,BF,CF)};return Lt}();Sq.instance=new pr;Sq.instance["_name"]="GL";Sq.instance["_textures"]=Sq.textures;return[Sq.instance]});