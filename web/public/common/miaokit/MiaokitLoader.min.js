var MiaokitModule=function(a,b){var c=this;c["m_pConfigPath"]=b;c["m_pConfig"]={ENGINE:a};c["Merge"](c);c["Preload"]()};var MiaokitMerge=function(d){var e=[];d["Merge"]=d["Merge"]||function(f){for(var g=0,h=e;g<h.length;g++){var i=h[g];var j=i(f);if(j){for(var k=0,l=j;k<l.length;k++){var m=l[k];f[m._name]=m}}}};return function(n){e.push(n)}}(MiaokitModule.prototype);MiaokitMerge(function(o){var p=undefined;var q=undefined;var r={};var s=function(u,v){if(v===void 0){v=undefined}var w=0;this.length=u(-1);this[Symbol.iterator]=function(){return{next:function(){var x=u(w);if(x){var y=p(x);w=v?w+1:y.m_nObject;return{value:y,done:false}}return{value:undefined,done:true}}}}};r["Transform"]=function(z){Object.defineProperty(z,"position",{get:function(){var A=this["_GetPosition"]()/4;var B=o["WASM"].HEAPF32();return{x:B[A],y:B[A+1],z:B[A+2]}},set:function(C){this["_SetPosition"](C.x,C.y,C.z)}});Object.defineProperty(z,"euler",{get:function(){var D=this["_GetEuler"]()/4;var E=o["WASM"].HEAPF32();return{x:E[D],y:E[D+1],z:E[D+2]}},set:function(F){this["_SetEuler"](F.x,F.y,F.z)}});Object.defineProperty(z,"rotation",{get:function(){var G=this["_GetRotation"]()/4;var H=o["WASM"].HEAPF32();return{x:H[G],y:H[G+1],z:H[G+2],w:H[G+3]}},set:function(I){this["_SetRotation"](I.x,I.y,I.z,I.w)}});Object.defineProperty(z,"scale",{get:function(){var J=this["_GetScale"]()/4;var K=o["WASM"].HEAPF32();return{x:K[J],y:K[J+1],z:K[J+2]}},set:function(L){this["_SetScale"](L.x,L.y,L.z)}});Object.defineProperty(z,"localPosition",{get:function(){var M=this["_GetLocalPosition"]()/4;var N=o["WASM"].HEAPF32();return{x:N[M],y:N[M+1],z:N[M+2]}},set:function(O){this["_SetLocalPosition"](O.x,O.y,O.z)}});Object.defineProperty(z,"localEuler",{get:function(){var P=this["_GetLocalEuler"]()/4;var Q=o["WASM"].HEAPF32();return{x:Q[P],y:Q[P+1],z:Q[P+2]}},set:function(R){this["_SetLocalEuler"](R.x,R.y,R.z)}});Object.defineProperty(z,"localRotation",{get:function(){var S=this["_GetLocalRotation"]()/4;var T=o["WASM"].HEAPF32();return{x:T[S],y:T[S+1],z:T[S+2],w:T[S+3]}},set:function(U){this["_SetLocalRotation"](U.x,U.y,U.z,U.w)}});Object.defineProperty(z,"localScale",{get:function(){var V=this["_GetLocalScale"]()/4;var W=o["WASM"].HEAPF32();return{x:W[V],y:W[V+1],z:W[V+2]}},set:function(X){this["_SetLocalScale"](X.x,X.y,X.z)}});Object.defineProperty(z,"right",{get:function(){var Y=this["_GetRight"]()/4;var Z=o["WASM"].HEAPF32();return{x:Z[Y],y:Z[Y+1],z:Z[Y+2]}},set:function($){this["_SetRight"]($.x,$.y,$.z)}});Object.defineProperty(z,"up",{get:function(){var _=this["_GetUp"]()/4;var aa=o["WASM"].HEAPF32();return{x:aa[_],y:aa[_+1],z:aa[_+2]}},set:function(){var ba=this["_SetUp"]()/4;var ca=o["WASM"].HEAPF32();return{x:ca[ba],y:ca[ba+1],z:ca[ba+2]}}});Object.defineProperty(z,"forward",{get:function(){var da=this["_GetForward"]()/4;var ea=o["WASM"].HEAPF32();return{x:ea[da],y:ea[da+1],z:ea[da+2]}},set:function(){var fa=this["_SetForward"]()/4;var ga=o["WASM"].HEAPF32();return{x:ga[fa],y:ga[fa+1],z:ga[fa+2]}}});Object.defineProperty(z,"regionPosition",{get:function(){var ha=this["_GisToWorld"]()/4;var ia=o["WASM"].HEAPF32();return{x:ia[ha],y:ia[ha+1],z:ia[ha+2]}}});z["Rotate"]=function(ja,ka){this["_Rotate"](ja.x,ja.y,ja.z,ka)};z["Rotate2"]=function(la,ma,na){this["_Rotate2"](la.x,la.y,la.z,ma,na)};z["Translate"]=function(oa,pa){this["_Translate"](oa.x,oa.y,oa.z,pa)};z["TransformPoint"]=function(qa){var ra=this["_TransformPoint"](qa.x,qa.y,qa.z)/4;var sa=o["WASM"].HEAPF32();return{x:sa[ra],y:sa[ra+1],z:sa[ra+2]}}};r["GameObject"]=function(ta){Object.defineProperty(ta,"name",{get:function(){if(!this._name){var ua=this._GetName(0);var va=this._GetName(1);this._name=o["WASM"].GetString(va,ua)}return this._name}});Object.defineProperty(ta,"transform",{get:function(){return p(this["_GetTransform"]())}});Object.defineProperty(ta,"mesh",{get:function(){return p(this["_GetMesh"]())},set:function(wa){this["_SetMesh"](wa.m_nObject)}});Object.defineProperty(ta,"children",{get:function(){var xa=this;return new s(function(ya){return xa._IterChild(ya)},true)}});Object.defineProperty(ta,"parent",{get:function(){return p(this["_GetParent"]())}});Object.defineProperty(ta,"data",{get:function(){return p(this["_GetUserData"]())},set:function(za){}});Object.defineProperty(ta,"enableCollider",{set:function(Aa){this["_EnableCollider"](Aa)}});Object.defineProperty(ta,"active",{set:function(Ba){this["_Active"](Ba)}});Object.defineProperty(ta,"highlight",{set:function(Ca){this["_Highlight"](Ca)}});Object.defineProperty(ta,"transparent",{set:function(Da){console.warn("transparent discard!")}});Object.defineProperty(ta,"opacity",{set:function(Ea){this["_Transparent"](Ea)}});ta["Destory"]=function(){this["_Destory"]()};o["GameObject"]=function(){return p(ta._GameObject())}};r["Miaokit"]=function(Fa){Fa["LoadTile"]=function(Ga){var Ha=this["_Malloc"](Ga.byteLength);if(Ha){o["WASM"]["HEAPU8"](Ha,Ga.byteLength).set(new Uint8Array(Ga));var Ia=this["_LoadTile"](Ha,Ga.byteLength);var Ja=p(Ia);return Ja}return null};Fa["Analyze"]=function(Ka){var La=this["_Analyze"]();var Ma=o["WASM"].HEAP32()[La/4];var Na=o["WASM"].GetString(La+4,Ma);try{var Oa=JSON.parse(Na);var Pa=q(Ka).concat(Oa);return Pa}catch(Qa){console.log(Na)}return null};Fa["PickEntity"]=function(Ra){return p(this["_PickEntity"](Ra))};Fa["GetScene"]=function(Sa){return p(this["_GetScene"](Sa))};Fa["WorldToScreenPoint"]=function(Ta){var Ua=this["_WorldToScreenPoint"](Ta.x,Ta.y,Ta.z)/4;var Va=o["WASM"].HEAPF32();return{x:Va[Ua],y:Va[Ua+1],z:Va[Ua+2]}};Fa["ScreenPointToRay"]=function(Wa){var Xa=this["_ScreenPointToRay"](Wa.x,Wa.y,Wa.z)/4;var Ya=o["WASM"].HEAPF32();return{m_mOrigin:{x:Ya[Xa],y:Ya[Xa+1],z:Ya[Xa+2]},m_mDirection:{x:Ya[Xa+4],y:Ya[Xa+5],z:Ya[Xa+6]}}};Object.defineProperty(Fa,"camera",{get:function(){return p(this["_GetCamera"]())}});Object.defineProperty(Fa,"cameraMode",{set:function(Za){this["_SetCameraMode"](Za)}});Object.defineProperty(Fa,"gis",{get:function(){if(!this._gis){this._gis=r["Gis"]["g_pIns"]}return this._gis}});Object.defineProperty(Fa,"progress",{get:function(){return this["_GetProgress"]()}})};r["Mesh"]=function($a){$a["SetVertices"]=function(_a,ab){this["m_aVertex"]=this["m_aVertex"]||[];this["m_aVertex"].push({m_pArray:ab,m_nSlot:this["_SlotLut"][_a],m_nItemSize:this["_SizeLut"][_a]})};$a["SetIndices"]=function(bb,cb,db){this["m_aIndex"]=this["m_aIndex"]||[];this["m_aIndex"][bb]={m_pArray:cb,m_nItemSize:db}};$a["Apply"]=function(){var eb=this["m_aVertex"];var fb=this["m_aIndex"];if(!eb||!fb){return}var gb=2+2*eb.length+3*fb.length;var hb=this._CreateBuffer(gb);var ib=o["WASM"]["HEAP32"](hb,gb*4);var jb=0;ib[jb++]=eb.length;ib[jb++]=fb.length;for(var kb=0;kb<eb.length;kb++){ib[jb++]=eb[kb].m_nSlot;ib[jb++]=eb[kb].m_pArray.length/eb[kb].m_nItemSize}for(var kb=0;kb<fb.length;kb++){ib[jb++]=0;ib[jb++]=0;ib[jb++]=fb[kb].m_pArray.length}this._CreateBuffer(0);for(var kb=0;kb<eb.length;kb++){var lb=eb[kb].m_pArray;var mb=this._GetVertexBuffer(kb);var nb=o["WASM"]["HEAPF32"](mb,lb.length*4);nb.set(lb)}for(var kb=0;kb<fb.length;kb++){var lb=fb[kb].m_pArray;var mb=this._GetIndexBuffer(kb);var nb=o["WASM"]["HEAP32"](mb,lb.length*4);nb.set(lb)}this._Apply();this["m_aVertex"]=undefined;this["m_aIndex"]=undefined};$a["_SlotLut"]={position:0,normal:1,uv:2,color:3,tangent:4,uv2:9,uv3:10,uv4:11,uv5:12,uv6:13,uv7:14,uv8:15};$a["_SizeLut"]={position:3,normal:3,uv:2,color:4,tangent:4,uv2:2,uv3:2,uv4:2,uv5:2,uv6:2,uv7:2,uv8:2};Object.defineProperty($a,"position",{set:function(ob){this.SetVertices("position",ob)}});Object.defineProperty($a,"normal",{set:function(pb){this.SetVertices("normal",pb)}});Object.defineProperty($a,"uv",{set:function(qb){this.SetVertices("uv",qb)}});Object.defineProperty($a,"triangles",{set:function(rb){this.SetIndices(0,rb)}});Object.defineProperty($a,"material",{set:function(sb){this.SetMaterial(0,sb)}});o["Mesh"]=function(){return p($a._Mesh())}};r["Texture2D"]=function(tb){tb["SetImageData"]=function(ub){var vb=this._CreateBuffer(ub.byteLength);if(vb){o["WASM"]["HEAPU8"](vb,ub.byteLength).set(new Uint8Array(ub));this._Apply()}};tb["Load"]=function(wb){var xb=this;o["Fetch"](wb,function(yb){if(yb){xb.SetImageData(yb)}})};o["Texture2D"]=function(zb){var Ab=p(tb._Texture2D());if(zb){if("string"===typeof zb){this.Load(zb)}else{this.SetImageData(zb)}}return Ab}};r["Material"]=function(Bb){if("Sisyphus"===o["m_pConfig"]["ENGINE"]){o["ShaderLab"].ExpandMaterial(Bb)}Bb["GetTexture"]=function(){return p(this["_GetTexture"]())};Bb["SetTexture"]=function(Cb){this["_SetTexture"](Cb.m_nObject)};o["Material"]=function(Db){if(Db===void 0){Db=undefined}var Eb=null;if(Db){var Fb=o["ShaderLab"]["Pipeline"]["InternalShader"];var Gb=Fb[0];Fb[0]=Db;Eb=p(Bb._Material());Fb[0]=Gb}else{Eb=p(Bb._Material())}return Eb}};r["Tile"]=function(Hb){Object.defineProperty(Hb,"scenes",{get:function(){var Ib=this;return new s(function(Jb){return Ib._IterWork(Jb)})}});Object.defineProperty(Hb,"object3D",{get:function(){if(undefined===this._object3D){var Kb=this._GetObject(this.m_nObject);if(0===Kb){this._object3D=null;return null}this._object3D=p(Kb)}return this._object3D}})};r["Scene"]=function(Lb){Lb["GetLayer"]=function(Mb){return p(this["_GetLayer"](Mb))};Object.defineProperty(Lb,"id",{get:function(){if(!this._id){var Nb=this._GetID(0);var Ob=this._GetID(1);this._id=o["WASM"].GetString(Ob,Nb)}return this._id}});Object.defineProperty(Lb,"layers",{get:function(){var Pb=this;return new s(function(Qb){return Pb._IterLayer(Qb)})}});Object.defineProperty(Lb,"object3D",{get:function(){if(undefined===this._object3D){var Rb=this._GetObject(this.m_nObject);if(0===Rb){this._object3D=null;return null}this._object3D=p(Rb)}return this._object3D}});Object.defineProperty(Lb,"viewState",{get:function(){return{m_mTarget:{x:0,y:0,z:0},m_nPitch:45,m_nYaw:0,m_nDistance:60,m_mOrthoTarget:{x:0,y:0,z:0},m_nOrthoScaled:0,m_nOrthoRotate:0}}});Object.defineProperty(Lb,"binding",{get:function(){return p(this._GetBinding())}})};r["Layer"]=function(Sb){Object.defineProperty(Sb,"id",{get:function(){if(!this._id){var Tb=this._GetID(0);var Ub=this._GetID(1);this._id=o["WASM"].GetString(Ub,Tb)}return this._id}});Object.defineProperty(Sb,"sites",{get:function(){var Vb=this;return new s(function(Wb){return Vb._IterSite(Wb)})}});Object.defineProperty(Sb,"object3D",{get:function(){if(undefined===this._object3D){var Xb=this._GetObject(this.m_nObject);if(0===Xb){this._object3D=null;return null}this._object3D=p(Xb)}return this._object3D}});Object.defineProperty(Sb,"viewState",{get:function(){var Yb=this["_GetViewState"]();if(0<Yb){var Zb=o["WASM"]["HEAPF32"](Yb,4*11);var $b=0;return{m_mTarget:{x:Zb[$b++],y:Zb[$b++],z:Zb[$b++]},m_nPitch:Zb[$b++],m_nYaw:Zb[$b++],m_nDistance:Zb[$b++],m_mOrthoTarget:{x:Zb[$b++],y:Zb[$b++],z:Zb[$b++]},m_nOrthoScaled:Zb[$b++],m_nOrthoRotate:Zb[$b++]}}return null}})};r["Attachment"]=function(_b){Object.defineProperty(_b,"entityType",{get:function(){return this._GetEntityType()}});Object.defineProperty(_b,"secondType",{get:function(){return this._GetSecondType()}});Object.defineProperty(_b,"flag",{get:function(){return this._GetFlag()}});Object.defineProperty(_b,"object3D",{get:function(){return p(this._GetObject())}});Object.defineProperty(_b,"viewState",{get:function(){var ac=this["_GetViewState"]();if(0<ac){var bc=o["WASM"]["HEAPF32"](ac,4*11);var cc=0;var dc={m_mTarget:{x:bc[cc++],y:bc[cc++],z:bc[cc++]},m_nPitch:bc[cc++],m_nYaw:bc[cc++],m_nDistance:bc[cc++],m_mOrthoTarget:{x:bc[cc++],y:bc[cc++],z:bc[cc++]},m_nOrthoScaled:bc[cc++],m_nOrthoRotate:bc[cc++]};console.log("attachment view:",dc);return dc}else{console.log("attachment view: null")}return null}})};r["Site"]=function(ec){Object.defineProperty(ec,"id",{get:function(){if(!this._id){var fc=this._GetID(0);var gc=this._GetID(1);this._id=o["WASM"].GetString(gc,fc)}return this._id}});Object.defineProperty(ec,"layer",{get:function(){return p(this["_Layer"]())}});Object.defineProperty(ec,"scene",{get:function(){return p(this["_Scene"]())}});Object.defineProperty(ec,"type",{get:function(){return this["_Type"]()}});Object.defineProperty(ec,"number",{get:function(){return this["_Number"]()}});Object.defineProperty(ec,"position",{get:function(){var hc=this["_Position"]()/4;var ic=o["WASM"].HEAPF32();return{x:ic[hc],y:ic[hc+1],z:ic[hc+2]}}})};r["Prefab"]=function(jc){jc["Instantiate"]=function(){return p(this["_Instantiate"]())};o["LoadPrefab"]=function(kc,lc){o["Fetch"](kc,function(mc){var nc=null;if(mc){var oc=jc._Prefab();var pc=p(oc);var qc=pc.CreateBuffer(mc.byteLength);if(qc){o["WASM"]["HEAPU8"](qc,mc.byteLength).set(new Uint8Array(mc));pc.Apply();nc=pc}}lc(nc)})}};r["Gis"]=function(rc){rc["Update"]=function(sc,tc,uc){return this["_Update"](sc,tc,uc)};rc["AddSvetile"]=function(vc){var wc=o["WASM"]["EncodeString"](vc.m_pUrl);var xc=this["_CreateSvetileDesc"](wc.byteLength);var yc=o["WASM"]["HEAPU32"](xc,4*8);yc[0]=vc.m_nID;yc[1]=vc.m_nFlags;o["WASM"]["HEAPU8"](yc[2],wc.byteLength).set(wc,0);yc[3]=0;yc[4]=o["WASM"]["RegisterDelegate"](function(Ac,Bc){vc.OnActive(p(Ac),0<Bc)});var zc=o["WASM"]["HEAPF32"](xc+20,16);zc[0]=vc.m_mLngLat.x;zc[1]=vc.m_mLngLat.y;zc[2]=vc.m_mSize.x;zc[3]=vc.m_mSize.y;this["_AddSvetile"](xc)};rc["AddMapbox"]=function(Cc){var Dc=this["_GetMapboxDesc"]();var Ec=o["WASM"]["HEAPF32"](Dc,40);Ec[0]=Cc.m_mOffset.x;Ec[1]=Cc.m_mOffset.y;Ec[2]=Cc.m_mOffset.z;Ec[3]=Cc.m_mScale.x;Ec[4]=Cc.m_mScale.y;Ec[5]=Cc.m_mScale.z;Ec[6]=Cc.m_mLngLat.x;Ec[7]=Cc.m_mLngLat.y;Ec[8]=Cc.m_mSize.x;Ec[9]=Cc.m_mSize.y;this["_AddMapbox"](Dc)};rc["AddGameObject"]=function(Fc,Gc,Hc){this["_AddGameObject"](Fc.m_nObject,Gc,Hc)};Object.defineProperty(rc,"imageServer",{set:function(Ic){if(!Ic){Ic="http://t%d.tianditu.gov.cn/DataServer?T=vec_c&tk=fb14b0853d59b619e18c259898bd0d4d&x=%d&y=%d&l=%d"}var Jc=this["_GetServer"](1);o["WASM"].SetString(Jc,Ic)}});Object.defineProperty(rc,"terrainServer",{set:function(Kc){if(!Kc){Kc="https://t%d.tianditu.gov.cn/dem_sjk/DataServer?T=ele_c&tk=fb14b0853d59b619e18c259898bd0d4d&x=%d&y=%d&l=%d"}var Lc=this["_GetServer"](0);o["WASM"].SetString(Lc,Kc)}})};r["Dioramas3MX"]=function(Mc){Mc["_Load3MX"]=function(Nc,Oc,Pc){var Qc=this;var Rc=Qc.m_pFileLut[Nc];var Sc=Rc.m_pPath+Rc.m_aFile[Oc];o["Request"]("GET","arraybuffer",Sc,null,null,function(Tc){if(!Tc){return}var Uc=new Uint32Array(Tc,0,2);if(1113083187===Uc[0]){var Vc=Uc[1]>>8;var Wc=9+Vc;var Xc=Tc.byteLength-Wc;var Yc=new Uint8Array(Tc,9,Vc);var Zc=Qc.m_pTextDecoder.decode(Yc);var $c=JSON.parse(Zc);var _c={m_pPath:Sc.substring(0,Sc.lastIndexOf("/")+1),m_aFile:[]};var ad=[];var bd=[];var cd=$c.resources;var dd=0;for(var ed=0;ed<cd.length;ed++){ad.push(ed);if("textureBuffer"===cd[ed].type){ad.push(0);bd.push(ed);if("jpg"===cd[ed].format){ad.push(0)}else if("png"===cd[ed].format){ad.push(1)}else{ad.push(1e4)}}else if("geometryBuffer"===cd[ed].type){ad.push(1);if("ctm"===cd[ed].format){ad.push(0)}else{ad.push(1e4)}}else{ad.push(1e4);ad.push(1e4)}ad.push(cd[ed].size);ad.push(dd);dd+=cd[ed].size;ad.push(1e4);if(cd[ed].texture){for(var fd=0;fd<cd.length;fd++){if(cd[ed].texture===cd[fd].id){ad[ad.length-1]=fd;break}}}}var gd=[];var hd=$c.nodes;for(var ed=0;ed<hd.length;ed++){var id=hd[ed];var jd=id.bbMax[0]-id.bbMin[0];var kd=id.bbMax[1]-id.bbMin[1];var ld=id.bbMax[2]-id.bbMin[2];var md=Math.sqrt(jd*jd+kd*kd+ld*ld);gd.push(Math.floor(parseInt(id.bbMin[0]+id.bbMax[0])*.5*100));gd.push(Math.floor(parseInt(id.bbMin[1]+id.bbMax[1])*.5*100));gd.push(Math.floor(parseInt(id.bbMin[2]+id.bbMax[2])*.5*100));gd.push(Math.floor(md*100));gd.push(Math.floor(id.maxScreenDiameter));var nd=id.children?id.children.length:0;if(0<nd){gd.push(_c.m_aFile.length);for(var fd=0;fd<nd;fd++){_c.m_aFile.push(id.children[fd])}gd.push(_c.m_aFile.length)}else{gd.push(-1);gd.push(-1)}var od=id.resources?id.resources.length:0;if(0<od){gd.push(bd.length);for(var fd=0;fd<od;fd++){for(var pd=0;pd<cd.length;pd++){if(id.resources[fd]===cd[pd].id){bd.push(pd);break}}}gd.push(bd.length)}else{gd.push(-1);gd.push(-1)}}var qd=4+9*hd.length+6*bd.length;var rd=4*qd;var sd=rd+Xc;var td=Qc["_CreateBuffer"](sd);if(td){var ud=o["WASM"]["HEAP32"](td,rd);ud[0]=rd;ud[1]=hd.length;ud[2]=bd.length;ud[3]=Qc.m_pFileLut.length;ud.set(gd,4);var vd=4+gd.length;for(var ed=0;ed<bd.length;ed++){var wd=6*bd[ed];for(var fd=0;fd<6;fd++){ud[vd++]=ad[wd++]}}var xd=o["WASM"]["HEAPU8"](td+rd,Xc);xd.set(new Uint8Array(Tc,Wc,Xc));Qc["_Dispose"](Pc)}Qc.m_pFileLut.push(_c)}})};Mc["Update"]=function(){return this["_Update"]()};Object.defineProperty(Mc,"object3D",{get:function(){return p(this["_GetObject"]())}});o["Dioramas3MX"]=function(yd,zd){var Ad=p(Mc._Dioramas3MX());Ad.m_pFileLut=[];Ad.m_pTextDecoder=new TextDecoder("utf-8");if(zd){if(zd.m_pGis){zd.m_pGis.AddGameObject(Ad.object3D,zd.m_mLngLat.x,zd.m_mLngLat.y);Ad.object3D.transform.Translate(zd.m_mOffset,1);Ad.object3D.transform.Rotate({x:0,y:0,z:0},1)}}o["Request"]("GET","json",yd,null,null,function(Bd){Ad["m_pMeta"]=Bd;var Cd={m_pPath:yd.substring(0,yd.lastIndexOf("/")+1),m_aFile:[]};var Dd=[0];for(var Ed=0;Ed<Bd.layers.length;Ed++){if("meshPyramid"===Bd.layers[Ed].type){Dd.push(Ed);Dd.push(Cd.m_aFile.length);Cd.m_aFile.push(Bd.layers[Ed].root)}}Dd[0]=Cd.m_aFile.length;var Fd=Ad["_CreateBuffer"](4*Dd.length);var Gd=o["WASM"]["HEAP32"](Fd,4*Dd.length);Gd.set(Dd);Ad["_Initialize"](Fd);Ad.m_pFileLut.push(Cd)});return Ad}};function t(Hd,Id,Jd){p=Id;q=Jd;for(var Kd=0,Ld=Hd;Kd<Ld.length;Kd++){var Md=Ld[Kd];if(Md){var Nd=Md.prototype;if(r[Nd._type_name]){r[Nd._type_name](Nd)}if("Miaokit"===Nd._type_name){o["Miaokit"]=new Md(0,0)}else if("Gis"===Nd._type_name){r["Gis"]["g_pIns"]=new Md(0,0)}}}}o["WASM"]=o["WASM"]||{};o["WASM"]["LoadClass"]=t;return[]});MiaokitMerge(function(Od){Od["m_pLogo"]=null;var Pd=undefined;var Qd=false;var Rd=false;function Sd(){Od["Track"]("Preload");Od["Request"]("GET","json",Od["m_pConfigPath"],null,null,function(Vd){if(!Vd){Od["Track"]("配置文件错误！",3);return}Od["m_pConfig"]=Vd;Od["Fetch"](Vd.MODULE,function(Yd){if(Pd){Pd(Yd)}else{Pd=Yd}});if(Vd.SVE){var Wd=function(Zd){var $d=Vd.SVE[Zd];$d.m_pData=null;$d.m_pTile=null;if(true===$d.m_bPreload){Od["Fetch"]($d.m_pProject,function(_d){$d.m_pData=_d;if(Rd&&_d){$d.m_pTile=Od["Miaokit"]["LoadTile"]($d.m_pData);$d.m_pData=null;Od["App"]["ActiveTile"]($d)}})}};for(var Xd=0;Xd<Vd.SVE.length;Xd++){Wd(Xd)}}if(Od["App"]&&Od["App"].m_pProject){Od["App"]["Preload"]()}else{Qd=true}})}function Td(ae,be){Od["Track"]("LoadEngine");if(Qd){Od["App"]["Preload"]();Qd=false}Od["WASM"]["LoadEngine"]({OnEngineLoad:function(ce){Od["Track"]("LoadEngine End");if(Pd){Od["Track"]("LoadMiaokit");Od["WASM"]["LoadMiaokit"](Pd,ce,function(){ae();Rd=true;Ud()})}else{Od["Track"]("LoadMiaokit Delay");Pd=function(de){Od["Track"]("LoadMiaokit");Od["WASM"]["LoadMiaokit"](de,ce,function(){ae();Rd=true;Ud()})}}},OnRenderingEvent:function(ee){if(Rd){be(ee)}}})}function Ud(){Od["Track"]("LoadMiaokit End");var fe=Od["m_pConfig"]["SVE"];if(fe){for(var ge=0,he=fe;ge<he.length;ge++){var ie=he[ge];if(true===ie.m_bPreload){if(null===ie.m_pTile&&null!==ie.m_pData){ie.m_pTile=Od["Miaokit"]["LoadTile"](ie.m_pData);ie.m_pData=null;Od["App"]["ActiveTile"](ie)}}}}}Sd["_name"]="Preload";Td["_name"]="Load";return[Sd,Td]});MiaokitMerge(function(je){var ke=function(){function me(){}me.Clamp=function(ne,oe,pe){if(ne>pe){return pe}if(ne<oe){return oe}return ne};return me}();var le=function(){function qe(re,se,te){this.x=0;this.y=0;this.z=0;this.x=re;this.y=se;this.z=te}qe.Scale=function(ue,ve){return{x:ve.x*ue,y:ve.y*ue,z:ve.z*ue}};return qe}();ke["_name"]="Mathf";le["_name"]="Vector3";return[ke,le]});MiaokitMerge(function(we){var xe=null;var ye=null;var ze=null;var Ae=[null];var Be=function(){var Te=[null];var Ue=[];var Ve=[];var We=0;var Xe=0;return{Analyze:function(){return", 'Image':["+We+","+Ue.length+","+Xe+","+Ve.length+"]"},Get:function(Ye){return Te[Ye]},CreateImage:function(){var Ze=null;if(0<Ue.length){Ze=Ue.pop()}else{We++;Ze=Te.push(new Image)-1}return Ze},FreeImage:function($e){Ue.push($e)},PushBuffer:function(_e){var af=null;if(0<Ve.length){af=Ve.pop()}else{Xe++;af=Te.push(null)-1}Te[af]=_e;return af},FreeBuffer:function(bf){Te[bf]=null;Ve.push(bf)}}}();var Ce=[null];var De=1;var Ee=0;var Fe=[undefined];var Ge=null;var He=null;function Ie(cf){cf["isnanf"]=isNaN;cf["isinff"]=isFinite;cf["powf"]=Math.pow;cf["sqrtf"]=Math.sqrt;cf["expf"]=Math.exp;cf["logf"]=Math.log;cf["floorf"]=Math.floor;cf["ceilf"]=Math.ceil;cf["sinf"]=Math.sin;cf["cosf"]=Math.cos;cf["tanf"]=Math.tan;cf["asinf"]=Math.asin;cf["acosf"]=Math.acos;cf["atanf"]=Math.atan;cf["atan2f"]=Math.atan2;cf["ldexpf"]=function(df,ef){return df*Math.pow(2,ef)}}function Je(ff){var gf=we["GL"];var hf=gf.Ctx.getParameter(34047);ff["glTexImage2DObj"]=function(jf,kf,lf,mf,nf,of,pf,qf,rf){var sf=Be.Get(rf);if(sf){if(sf instanceof ArrayBuffer){gf.Ctx.texImage2D(jf,kf,lf,mf,nf,of,pf,qf,new Uint8Array(sf));Be.FreeBuffer(rf)}else{gf.Ctx.texParameterf(jf,34046,hf);gf.Ctx.texImage2D(jf,kf,lf,pf,qf,sf);Be.FreeImage(rf)}}};ff["glCreateShader"]=gf._glCreateShader;ff["glDeleteShader"]=gf._glDeleteShader;ff["glShaderSource"]=gf._glShaderSource;ff["glCompileShader"]=gf._glCompileShader;ff["glGetShaderiv"]=gf._glGetShaderiv;ff["glGetShaderInfoLog"]=gf._glGetShaderInfoLog;ff["glCreateProgram"]=gf._glCreateProgram;ff["glDeleteProgram"]=gf._glDeleteProgram;ff["glAttachShader"]=gf._glAttachShader;ff["glLinkProgram"]=gf._glLinkProgram;ff["glUseProgram"]=gf._glUseProgram;ff["glGetProgramiv"]=gf._glGetProgramiv;ff["glGetProgramInfoLog"]=gf._glGetProgramInfoLog;ff["glBindAttribLocation"]=gf._glBindAttribLocation;ff["glGenVertexArrays"]=gf._glGenVertexArrays;ff["glDeleteVertexArrays"]=gf._glDeleteVertexArrays;ff["glBindVertexArray"]=gf._glBindVertexArray;ff["glVertexAttribPointer"]=gf._glVertexAttribPointer;ff["glEnableVertexAttribArray"]=gf._glEnableVertexAttribArray;ff["glVertexAttribDivisor"]=gf._glVertexAttribDivisor;ff["glGetActiveUniform"]=gf._glGetActiveUniform;ff["glGetUniformLocation"]=gf._glGetUniformLocation;ff["glUniform1i"]=gf._glUniform1i;ff["glUniform1fv"]=gf._glUniform1fv;ff["glUniform2fv"]=gf._glUniform2fv;ff["glUniform3fv"]=gf._glUniform3fv;ff["glUniform4fv"]=gf._glUniform4fv;ff["glUniform1iv"]=gf._glUniform1iv;ff["glUniform2iv"]=gf._glUniform2iv;ff["glUniform3iv"]=gf._glUniform3iv;ff["glUniform4iv"]=gf._glUniform4iv;ff["glUniformMatrix3fv"]=gf._glUniformMatrix3fv;ff["glUniformMatrix4fv"]=gf._glUniformMatrix4fv;ff["glGenTextures"]=gf._glGenTextures;ff["glDeleteTextures"]=gf._glDeleteTextures;ff["glActiveTexture"]=gf._glActiveTexture;ff["glBindTexture"]=gf._glBindTexture;ff["glTexStorage2D"]=gf._glTexStorage2D;ff["glTexParameteri"]=gf._glTexParameteri;ff["glTexImage2D"]=gf._glTexImage2D;ff["glGenerateMipmap"]=gf._glGenerateMipmap;ff["glGenBuffers"]=gf._glGenBuffers;ff["glDeleteBuffers"]=gf._glDeleteBuffers;ff["glBindBuffer"]=gf._glBindBuffer;ff["glBufferData"]=gf._glBufferData;ff["glBufferSubData"]=gf._glBufferSubData;ff["glMapBufferRange"]=gf._glMapBufferRange;ff["glUnmapBuffer"]=gf._glUnmapBuffer;ff["glGenFramebuffers"]=gf._glGenFramebuffers;ff["glDeleteFramebuffers"]=gf._glDeleteFramebuffers;ff["glBindFramebuffer"]=gf._glBindFramebuffer;ff["glFramebufferTexture2D"]=gf._glFramebufferTexture2D;ff["glCheckFramebufferStatus"]=gf._glCheckFramebufferStatus;ff["glClearColor"]=gf._glClearColor;ff["glClear"]=gf._glClear;ff["glBlendFuncSeparate"]=gf._glBlendFuncSeparate;ff["glBlendEquationSeparate"]=gf._glBlendEquationSeparate;ff["glEnable"]=gf._glEnable;ff["glDisable"]=gf._glDisable;ff["glDepthFunc"]=gf._glDepthFunc;ff["glDepthMask"]=gf._glDepthMask;ff["glClearDepthf"]=gf._glClearDepthf;ff["glClearStencil"]=gf._glClearStencil;ff["glCullFace"]=gf._glCullFace;ff["glPolygonOffset"]=gf._glPolygonOffset;ff["glViewport"]=gf._glViewport;ff["glDrawArrays"]=gf._glDrawArrays;ff["glDrawArraysInstanced"]=gf._glDrawArraysInstanced;ff["glDrawElements"]=gf._glDrawElements;ff["glDrawElementsInstanced"]=gf._glDrawElementsInstanced;ff["glFlush"]=gf._glFlush;ff["glFinish"]=gf._glFinish}function Ke(tf){function uf(Ef){var Ff=we["WASM"].GetString(Ef);if(!Ff.startsWith("http")){Ff="./data/projects/sve/"+Ff}if(Ff.endsWith("assetbundle")){Ff+=".bin"}return Ff}function vf(Gf,Hf,If,Jf,Kf){var Lf=uf(Gf);var Mf=xe.get(If);var Nf=xe.get(Jf);we["Fetch"](Lf,function(Of){if(Of){var Pf=Mf(Hf,Of.byteLength,Kf);if(Pf){we["WASM"]["HEAPU8"](Pf,Of.byteLength).set(new Uint8Array(Of))}}else{console.error("资源丢失:",Lf)}Nf(Hf,Kf)})}function wf(Qf,Rf,Sf,Tf,Uf){var Vf=uf(Qf);var Wf=xe.get(Sf);var Xf=Be.CreateImage();var Yf=Be.Get(Xf);Yf.crossOrigin="anonymous";Yf.src=Vf;Yf.onload=function(Zf){Wf(Rf,Xf,Uf)}}function xf($f,_f,ag,bg,cg){vf($f,_f,ag,bg,cg)}function yf(dg,eg,fg,gg,hg){Ge["LoadTerrain"](dg,eg,fg,gg,hg)}function zf(ig,jg,kg,lg,mg){var ng=we["WASM"]["HEAP32"](ig,16);Ge["LoadBlockbox"](jg,ng[0],ng[1],ng[2],ng[3],kg,lg)}function Af(og,pg){var qg=we["WASM"]["HEAP32"](og,12);Ge["Load3MX"](qg[0],qg[1],qg[2],pg)}function Bf(rg,sg,tg,ug,vg){vf(rg,sg,tg,ug,vg)}function Cf(wg,xg,yg,zg){var Ag=xe.get(zg);var Bg=we["WASM"]["HEAP8"](yg,xg);var Cg=new Blob([Bg]);var Dg=window.URL.createObjectURL(Cg);var Eg=Be.CreateImage();var Fg=Be.Get(Eg);Fg.src=Dg;Fg.onload=function(Gg){Ag(wg,Eg);window.URL.revokeObjectURL(Dg)}}var Df=[undefined,vf,wf,xf,yf,zf,Af,Bf,Cf];tf["APP_LOAD"]=function(Hg,Ig,Jg,Kg,Lg,Mg){Df[Hg](Ig,Jg,Kg,Lg,Mg)}}function Le(Ng){var Og={NaN:NaN,Infinity:Infinity};Ie(Ng);Je(Ng);Ke(Ng);Ng["APP_DYNAMIC_LINK"]=function(Pg,Qg){var Rg=we["WASM"]["HEAPU32"](Pg,Qg);var Sg=Rg[0];var Tg=Rg[1];for(var Ug=0;Ug<Sg;Ug++){var Vg=Rg[2+Ug]-1;var Wg=Rg[Tg++];var Xg=Rg[Tg++];var Yg=we["WASM"].GetString(Wg,Xg);var Zg=JSON.parse(Yg);var $g=function(ch,dh){this["m_nID"]=ch;this["m_nObject"]=dh};var _g=$g.prototype;_g["_type_name"]=Zg[0];_g["_type_id"]=Ug+1;_g["_ins_count"]=0;Fe[Ug+1]=$g;var ah=function(eh){var fh=xe.get(Rg[Tg++]);Tg++;var gh=function(){var hh=Array.prototype.slice.call(arguments);hh.unshift(this.m_nObject);return fh.apply(this,hh)};if(0===eh){_g["_"+Zg[eh]]=gh}else{_g[Zg[eh]]=gh}};for(var bh=0;bh<Vg;bh++){ah(bh)}}we["WASM"]["LoadClass"](Fe,Ne,Qe);we["Miaokit"]["ResizeCavans"]=function(ih,jh){if(ze.SE_RESIZE){ze.SE_RESIZE(ih,jh)}}};Ng["APP_PRINT"]=function(kh,lh,mh){var nh=we["WASM"].GetString(kh,lh);we["Track"](nh,mh)};Ng["APP_DO_ACTION"]=function(oh,ph,qh,rh){Ae[oh](ph,qh,rh)};Ng["APP_CREATE_OBJ"]=function(sh,th){var uh=Oe();var vh=new Fe[sh](uh,th);Ce[uh]=vh;Fe[sh].prototype._ins_count++;return uh};Ng["APP_FREE_OBJ"]=function(wh){var xh=Ce[wh];Fe[xh._type_id].prototype._ins_count--;Pe(wh)};He=we["ShaderLab"].APP_DO_OPERATORS;He[7]=function(yh,zh){if(0===yh){Be.FreeImage(zh)}else if(1===yh){Be.FreeBuffer(zh)}return 0};Ng["APP_DO"]=function(Ah,Bh,Ch,Dh,Eh){return He[Ah](Bh,Ch,Dh,Eh)};ye=Ng["memory"];we["WASM"]["m_pMemory"]=we["WASM"]["m_pMemory"]||ye;return{env:Ng,global:Og}}function Me(Fh,Gh,Hh){Gh=Le(Gh);WebAssembly.instantiate(Fh,Gh).then(function(Ih){return Ih.instance}).then(function(Jh){ze=Jh.exports;xe=ze.__indirect_function_table;we["WASM"]["Update"]=Jh.exports.SE_UPDATE;we["WASM"]["Malloc"]=Jh.exports.Malloc;we["WASM"]["Free"]=Jh.exports.Free;we["ShaderLab"]["DrawPass_"]=Jh.exports.SE_DRAW_PASS;we["ShaderLab"]["SetSunlight"]=Jh.exports.SE_SUNLIGHT;we["ShaderLab"]["CreateUniformsDesc"]=Jh.exports.SE_CREATE_UNIFORMS_DESC;we["ShaderLab"]["GetTexture"]=function(Kh){return ze.SE_RESOURCE(9,Kh)};we["ShaderLab"]["GetObject"]=function(Lh){var Mh=ze.SE_RESOURCE(13,Lh);if(Mh){return Ne(Mh)}return null};we["Track"]("Start thread");we["WASM"]["Worker"]=Se(function(){we["Track"]("Start thread succeed")});ze.Start();Hh()})}function Ne(Nh){return Ce[Nh]}function Oe(){var Oh=De;if(Ce.length>De){De=Ce[De]}else{De++}Ee++;return Oh}function Pe(Ph){Ce[Ph]=De;De=Ph;Ee--}function Qe(Qh){var Rh="'系统运行':{";Rh+="'时间':"+(we.Time()/1e3).toFixed(0);Rh+=", '帧率':"+Qh;Rh+=", 'WASM内存':"+we.WASM.m_pMemory.buffer.byteLength/1024/1024;Rh+="}";var Sh="'JS对象':{";Sh+="'工厂':["+Ce.length+", "+Ee+", "+(Ce.length-Ee)+"]";Sh+=Be.Analyze();for(var Th=1;Th<Fe.length;Th++){Sh+=", '"+Fe[Th].prototype._type_name+"':"+Fe[Th].prototype._ins_count}Sh+="}";return[Rh,Sh]}function Re(Uh){var Vh=Ae.length;Ae.push(Uh);return Vh}function Se(Wh){var Xh=ze.UTIL_WORKER_CODE();var Yh=we["WASM"]["HEAPU32"](Xh,16);if(false){Ge=new Worker(window.URL.createObjectURL(new Blob([we["WASM"]["HEAPU8"](Yh[2],Yh[3])])));var Zh=we["WASM"]["HEAPU8"]().slice(Yh[0],Yh[0]+Yh[1]);var $h=Zh.buffer;Ge.postMessage({m_nID:1,m_aCode:$h},[$h])}else{var _h=we["m_pConfig"]["MODULE"].replace(".wasm","");Ge=new Worker(_h+"Worker.min.js");fetch(_h+"Worker.wasm").then(function(ai){return ai.arrayBuffer()}).then(function(bi){if(bi){Ge.postMessage({m_nID:1,m_aCode:bi},[bi])}else{console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",bi)}}).catch(function(ci){console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",ci)})}Ge.onmessage=function(di){var ei=di.data;switch(ei.m_nID){case 1:Wh();Wh=null;break;case 2:Ge["OnLoadTerrain"](ei);break;case 3:Ge["OnLoadBlockbox"](ei);break;case 4:Ge["OnLoad3MX"](ei);break;default:console.error("子线程消息异常:",ei);break}};Ge["LoadTerrain"]=function(fi,gi,hi,ii,ji){Ge.postMessage({m_nID:2,m_pPath:we["WASM"].GetString(fi),m_nRequest:gi,m_nCallback:hi,m_nTS:ji})};Ge["OnLoadTerrain"]=function(ki){var li=xe.get(ki.m_nCallback);var mi=ki.m_pData;var ni=0;if(mi){ni=Be.PushBuffer(mi)}else{console.warn("Terrain miss:",ki.m_pPath)}li(ki.m_nRequest,ni,ki.m_nTS)};Ge["LoadBlockbox"]=function oi(pi,qi,ri,si,ti,ui,vi){Ge.postMessage({m_nID:3,m_nRequest:pi,m_nCol:qi,m_nRow:ri,m_nColOffset:si,m_nRowOffset:ti,m_nAlloc:ui,m_nCallback:vi})};Ge["OnLoadBlockbox"]=function(wi){var xi=xe.get(wi.m_nAlloc);var yi=xe.get(wi.m_nCallback);var zi=wi.m_pData;var Ai=[0,0,0,0];for(var Bi=0;Bi<4;Bi++){var Ci=zi[Bi];if(0<Ci.m_nVertexCount&&0<Ci.m_nSubmeshCount){var Di=new we.Mesh;var Ei=new Int32Array(Ci.m_aIndex);Di.position=new Float32Array(Ci.m_aPosition);Di.normal=new Float32Array(Ci.m_aNormal);Di.uv=new Float32Array(Ci.m_aUV);for(var Fi=0;Fi<Ci.m_nSubmeshCount;Fi++){var Gi=Ei[2*Fi];var Hi=Ei[2*Fi+1];var Ii=[];for(var Ji=Gi;Ji<Hi;Ji++){Ii.push(Ji)}Di.SetIndices(Fi,new Int32Array(Ii),4)}Di.Apply();Ai[Bi]=Di.m_nObject}else{Ai[Bi]=0}}var Ki=xi(wi.m_nRequest,16);if(Ki){we["WASM"]["HEAPU32"](Ki,16).set(new Uint32Array(Ai));yi(wi.m_nRequest)}};Ge["Load3MX"]=function(Li,Mi,Ni,Oi){var Pi=Ne(Li);if(Pi){var Qi=Pi.m_pFileLut[Mi];var Ri=Qi.m_pPath+Qi.m_aFile[Ni];var Si=Pi.m_pFileLut.length;Pi.m_pFileLut.push(null);Ge.postMessage({m_nID:4,m_nDior:Li,m_pPath:Ri,m_nRequest:Oi,m_nNewFolder:Si})}};Ge["OnLoad3MX"]=function(Ti){var Ui=Ti.m_pData;if(Ui){var Vi=Ne(Ti.m_nDior);if(Vi){Vi.m_pFileLut[Ti.m_nNewFolder]=Ti.m_pNewFolder;var Wi=new Int32Array(Ui[0]);var Xi=Wi[1];var Yi=Wi[2];var Zi=4+9*Xi;var $i=0;var _i=[];var aj=function(){if(Yi===++$i||0==Yi){var dj=Ui[0].byteLength;var ej=Vi["_CreateBuffer"](dj);var fj=we["WASM"]["HEAP32"](ej,dj);fj.set(Wi);Vi["_Dispose"](Ti.m_nRequest)}};var bj=function(gj){var hj=Wi[Zi+0];var ij=Wi[Zi+1];if(0===ij){var jj=Ui[1+gj];if(null!==jj){var kj=Be.CreateImage();var lj=Be.Get(kj);var mj=new Blob([new Int8Array(jj)]);var nj=window.URL.createObjectURL(mj);lj.src=nj;lj.onload=function(rj){aj();window.URL.revokeObjectURL(nj)};_i[hj]=ze["SE_CREATE_INTERNAL_TEXTURE"]();Wi[Zi+3]=_i[hj];Wi[Zi+4]=kj}else{_i[hj]=0;Wi[Zi+3]=_i[hj];Wi[Zi+4]=0;aj()}}else if(1===ij){Wi[Zi+4]=_i[Wi[Zi+5]];var jj=Ui[1+gj];if(null!==jj){var oj=jj.byteLength;var pj=Vi["_CreateBuffer"](oj);var qj=we["WASM"]["HEAP8"](pj,oj);qj.set(new Int8Array(jj));_i[hj]=ze["SE_CREATE_INTERNAL_MESH"](0,pj);Wi[Zi+3]=_i[hj];aj()}else{_i[hj]=0;Wi[Zi+3]=_i[hj];aj()}}else{_i[hj]=0;Wi[Zi+3]=_i[hj];Wi[Zi+4]=0;aj()}Zi+=6};for(var cj=0;cj<Yi;cj++){bj(cj)}if(0===Yi){aj()}}}else{console.warn("3mx miss:",Ti.m_pPath)}};return Ge}we["WASM"]=we["WASM"]||{};we["WASM"]["LoadMiaokit"]=Me;we["WASM"]["GetObject"]=Ne;we["WASM"]["RegisterDelegate"]=Re;return[]});MiaokitMerge(function(sj){var tj=undefined;var uj=true;var vj={};var wj=[];var xj={RGBA32_FLOAT:function(){return true?[tj["RGBA32F"],tj.RGBA,tj.FLOAT]:[tj.RGBA,tj.RGBA,tj.FLOAT]},RGBA16_FLOAT:function(){return true?[tj["RGBA16F"],tj.RGBA,tj["HALF_FLOAT"]]:[tj.RGBA,tj.RGBA,36193]},RGBA8:function(){return true?[tj.RGBA,tj.RGBA,tj.UNSIGNED_BYTE]:[tj.RGBA,tj.RGBA,tj.UNSIGNED_BYTE]},D16_UNORM:function(){return true?[tj["DEPTH_COMPONENT16"],tj.DEPTH_COMPONENT,tj.UNSIGNED_SHORT]:[tj.DEPTH_COMPONENT,tj.DEPTH_COMPONENT,tj.UNSIGNED_SHORT]},D24_UNORM:function(){return true?[tj["DEPTH_COMPONENT24"],tj.DEPTH_COMPONENT,tj.UNSIGNED_INT]:[tj.DEPTH_COMPONENT,tj.DEPTH_COMPONENT,tj.UNSIGNED_INT]},D24S8_UNORM:function(){return true?[tj.DEPTH_STENCIL,tj.DEPTH_STENCIL,34042]:[tj.DEPTH_STENCIL,tj.DEPTH_STENCIL,34042]}};var yj={Opaque:1,Transparent:2,Outline:4,CastShadow:8,ReceiveShadow:16};var zj=null;var Aj=["u_Sunlight","u_Picker","u_EyePos","u_MatG","u_MatVP","u_Color","u_MainTex","",""];var Bj=[null];var Cj=[null];var Dj=[null];var Ej=[null];var Fj=[new Int32Array([0,0,0,0]),new Float32Array([0,0,0,0]),new Float32Array([1,0,0,0,1,0,0,0,1]),new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0])];var Gj=[function(hk,ik,jk){Tj(Bj[hk],Ej[ik])},function(kk,lk,mk){Uj(Bj[kk],Ej[lk])},function(nk,ok,pk){Vj(Bj[nk],Ej[ok])},function(qk,rk,sk){Wj(Bj[qk],Ej[rk])},function(tk,uk,vk){var wk=Ej[uk];var xk=wk[1];if(wk[0]){xk=dk.GetTexture(xk);if(xk){wk[0]=0;wk[1]=xk}}var yk=wj[xk]||Qj;if(null===yk){console.log("BindTexture null!");return}tj.activeTexture(33984+vk);tj.bindTexture(3553,yk)},function(zk,Ak){console.error("Unsupported UniformCubemap!")},null,function(Bk,Ck,Dk){var Ek=Ej[Ck];var Fk=Ek[1];if(Ek[0]){Fk=dk.GetTexture(Fk);if(Fk){Ek[0]=0;Ek[1]=Fk}}var Gk=wj[Fk]||Qj;if(null===Gk){console.log("BindTexture null!");return}tj.activeTexture(33984+Dk);tj.bindTexture(35866,Gk)}];var Hj=[null];var Ij=[null];var Jj=1280;var Kj=720;var Lj=1;var Mj=0;var Nj=null;var Oj=new Float32Array(4);var Pj=[0,0,0,0];var Qj=null;var Rj=null;var Sj=0;function Tj(Hk,Ik){if(undefined===Hk.mark){tj.uniform4iv(Hk,Ik)}else if(Lj!==Hk.mark){tj.uniform4iv(Hk,Ik);Hk.mark=Lj}}function Uj(Jk,Kk){if(undefined===Jk.mark){tj.uniform4fv(Jk,Kk)}else if(Lj!==Jk.mark){tj.uniform4fv(Jk,Kk);Jk.mark=Lj}}function Vj(Lk,Mk){if(undefined===Lk.mark){tj.uniformMatrix3fv(Lk,false,Mk)}else if(Lj!==Lk.mark){tj.uniformMatrix3fv(Lk,false,Mk);Lk.mark=Lj}}function Wj(Nk,Ok){if(undefined===Nk.mark){tj.uniformMatrix4fv(Nk,false,Ok)}else if(Lj!==Nk.mark){tj.uniformMatrix4fv(Nk,false,Ok);Nk.mark=Lj}}function Xj(Pk,Qk){var Rk=tj.createShader(Pk);if(!Rk){console.error("Could not create shader object!");return null}tj.shaderSource(Rk,Qk);tj.compileShader(Rk);if(!tj.getShaderParameter(Rk,tj.COMPILE_STATUS)){var Sk=tj.getShaderInfoLog(Rk);tj.deleteShader(Rk);console.error("Could not compile shader! \n\n"+Sk);return null}return Rk}function Yj(Tk){var Uk=Tk.program;var Vk=0;{tj.bindAttribLocation(Uk,0,"a_Position");tj.bindAttribLocation(Uk,1,"a_Normal");tj.bindAttribLocation(Uk,2,"a_UV");tj.bindAttribLocation(Uk,3,"a_Color");tj.bindAttribLocation(Uk,4,"a_Tangent");tj.bindAttribLocation(Uk,5,"a_Object");tj.bindAttribLocation(Uk,6,"a_MatW")}{tj.linkProgram(Uk);if(!tj.getProgramParameter(Uk,tj.LINK_STATUS)){var Wk=tj.getProgramInfoLog(Uk);console.error("Could not compile program! \n\n"+Wk);return 0}}{var Xk=tj.getProgramParameter(Uk,35718);if(uj){Xk-=6;var Yk=tj["getUniformBlockIndex"](Uk,"CommonBlock")}var Zk=dk.CreateUniformsDesc(Xk);var $k=Ej[Zk];var _k={};var al=0;$k[19]=Dj.push(_k)-1;Hj[$k[19]]=Tk;tj.useProgram(Uk);for(var bl=0;bl<2;bl++){var cl=Xk+(uj?6:0);for(var dl=0;dl<cl;dl++){var Wk=tj.getActiveUniform(Uk,dl);var el=Wk.type;if(35678===el||35680===el||36289===el){if(0!==bl){continue}}else{if(1!==bl){continue}}var fl=Wk.name;var gl=tj.getUniformLocation(Uk,fl);if(!gl){continue}var hl=Bj.push(gl)-1;for(var il=0;il<Aj.length;il++){if(fl===Aj[il]){$k[il]=al;if(5>il){gl.mark=1}break}}switch(el){case 35669:el=0;break;case 35666:el=1;break;case 35675:el=2;break;case 35676:el=3;break;case 35678:el=4;break;case 35680:el=5;break;case 36289:el=7;break;default:console.error("Unsupported uniform type:",Wk);break}$k[20+al]=hl;$k[20+Xk+al]=el;_k[fl]=al;Cj[hl]=fl;if(0===bl){tj.uniform1i(gl,al)}al++}}if(al!==Xk){console.error("Process uniform cout error!",Xk,al)}Vk=$k[16]}{var jl=0;if(Tk.mark){for(var kl=0,ll=Tk.mark;kl<ll.length;kl++){var ml=ll[kl];jl|=yj[ml]}}Tk.mode=jl}return Vk}function Zj(nl){if(!nl){return null}var ol=vj[nl];if(!ol){console.error("Could not find shader:",nl);return null}if(ol.program){return ol}ol.vs=Xj(tj.VERTEX_SHADER,vj["Common"]["DeclareVS"]+ol.vs_src+vj["Common"][ol.type+"VS"]);if(!ol.vs){console.error("Could not create vertex shader:",nl);return null}ol.fs=Xj(tj.FRAGMENT_SHADER,vj["Common"]["DeclareFS"]+ol.fs_src+vj["Common"][ol.type+"FS"]);if(!ol.fs){tj.deleteShader(ol.vs);ol.vs=null;console.error("Could not create fragment shader:",nl);return null}ol.program=tj.createProgram();if(!ol.program){tj.deleteShader(ol.vs);tj.deleteShader(ol.fs);ol.vs=null;ol.fs=null;console.error("Could not create program object!");return null}tj.attachShader(ol.program,ol.vs);tj.attachShader(ol.program,ol.fs);ol.id=Yj(ol);if(!ol.id){tj.deleteProgram(ol.program);tj.deleteShader(ol.vs);tj.deleteShader(ol.fs);ol.program=null;ol.vs=null;ol.fs=null}return ol}function $j(pl,ql){var rl=undefined;var sl=undefined;var tl=undefined;var ul=undefined;var vl=0;function wl(){var Gl=Ej[pl];var Hl=Ej[ql];var Il=Hj[Gl[19]];var Jl=Gl[20];var Kl=20+Gl[17];rl=Il.program;sl=Dj[Gl[19]];tl=Gl;ul=[];vl=Gl[17];var Ll=function(Ul){var Vl=Ul;var Wl=Ej[Hl[Vl]];var Xl=Bj[Jl+Vl];var Yl=Gl[Kl+Vl];var Zl=[function(){return Wl},function($l){Wl.set($l)},undefined];switch(Yl){case 0:Zl[2]=function(){Tj(Xl,Wl)};break;case 1:Zl[2]=function(){Uj(Xl,Wl)};break;case 2:Zl[2]=function(){Vj(Xl,Wl)};break;case 3:Zl[2]=function(){Wj(Xl,Wl)};break;case 4:Zl[2]=function(){var _l=Wl[1];if(Wl[0]){_l=dk.GetTexture(_l);if(_l){Wl[0]=0;Wl[1]=_l}}var am=wj[_l]||Qj;if(null===am){console.log("BindTexture null!");return}tj.activeTexture(33984+Vl);tj.bindTexture(3553,am)};break;case 7:Zl[2]=function(){var bm=Wl[1];if(Wl[0]){bm=dk.GetTexture(bm);if(bm){Wl[0]=0;Wl[1]=bm}}var cm=wj[bm]||Qj;if(null===cm){console.log("BindTexture null!");return}tj.activeTexture(33984+Vl);tj.bindTexture(35866,cm)};break;default:console.error("Unsupported uniform type!",Yl);break}ul[Vl]=Zl};for(var Ml=0;Ml<vl;Ml++){Ll(Ml)}if(Il.uniform_values){for(var Nl=0,Ol=Il.uniform_values;Nl<Ol.length;Nl++){var Pl=Ol[Nl];var Ql=sl[Pl[0]];if(undefined!==Ql){var Rl=Gl[Kl+Ql];if(4===Rl||5===Rl){var Sl=dk.Pipeline["Resource"][Pl[1]];var Tl=[0,Sl.Handle,0,0];ul[Ql][1](Tl)}}}}return Il.mode}function xl(dm){if(Nj){Nj(Ij[ql],tj)}if(Mj!==pl){tj.useProgram(rl);Mj=pl;if(Rj){tj["bindBufferBase"](tj["UNIFORM_BUFFER"],0,Rj)}}for(var em=0,fm=ul;em<fm.length;em++){var gm=fm[em];gm[2]()}}function yl(hm){return sl[hm]}function zl(im){return ul[im][0]()}function Al(jm){jm=tl[jm];if(-1<jm){return ul[jm][0]()}return null}function Bl(km){var lm=sl[km];if(undefined!==lm){return ul[lm][0]()}return null}function Cl(mm,nm){ul[mm][1](nm);if(Mj===pl){ul[mm][2]()}}function Dl(om,pm){om=tl[om];if(-1<om){ul[om][1](pm);if(Mj===pl){ul[om][2]()}}}function El(qm,rm){var sm=sl[qm];if(undefined!==sm){ul[sm][1](rm);if(Mj===pl){ul[sm][2]()}}}function Fl(tm){ul[tm][2]()}Ij[ql]=[wl,xl,yl,zl,Al,Bl,Cl,Dl,El,Fl];return wl()}function _j(um){{Object.defineProperty(um,"Attr",{get:function(){if(!this.Attr_){this.Attr_=Ij[this._VarList()]}return this.Attr_}})}{var vm=function(xm){var ym=xm;Object.defineProperty(um,Aj[xm],{get:function(){return this.Attr[4](ym)},set:function(zm){if(zm){this.Attr[7](ym,zm)}}})};for(var wm=0;wm<Aj.length;wm++){vm(wm)}}{}}function ak(Am){var Bm=tj.createTexture();if(!Bm){console.error("Could not create texture object!");return null}tj.bindTexture(tj.TEXTURE_2D,Bm);tj.texParameteri(tj.TEXTURE_2D,tj.TEXTURE_MIN_FILTER,tj.LINEAR);tj.texParameteri(tj.TEXTURE_2D,tj.TEXTURE_MAG_FILTER,tj.LINEAR);tj.texParameteri(tj.TEXTURE_2D,tj.TEXTURE_WRAP_S,tj.CLAMP_TO_EDGE);tj.texParameteri(tj.TEXTURE_2D,tj.TEXTURE_WRAP_T,tj.CLAMP_TO_EDGE);var Cm=new Image;Cm.crossOrigin="anonymous";Cm.src=Am.URL;Cm.onload=function(Dm){tj.bindTexture(tj.TEXTURE_2D,Bm);tj.texImage2D(tj.TEXTURE_2D,0,tj.RGB,tj.RGB,tj.UNSIGNED_BYTE,Cm);tj.bindTexture(tj.TEXTURE_2D,null)};tj.bindTexture(tj.TEXTURE_2D,null);return Bm}function bk(Em){var Fm=tj.createTexture();if(!Fm){console.error("Could not create texture object!");return null}tj.bindTexture(tj.TEXTURE_2D,Fm);var Gm=Em.Params;tj.texParameteri(tj.TEXTURE_2D,tj.TEXTURE_MAG_FILTER,tj[Gm[1]]);tj.texParameteri(tj.TEXTURE_2D,tj.TEXTURE_MIN_FILTER,tj[Gm[0]]);tj.texParameteri(tj.TEXTURE_2D,tj.TEXTURE_WRAP_S,tj[Gm[2]]);tj.texParameteri(tj.TEXTURE_2D,tj.TEXTURE_WRAP_T,tj[Gm[3]]);var Hm=xj[Em.Format]();tj.texImage2D(tj.TEXTURE_2D,Em.Levels,Hm[0],Em.Width,Em.Height,0,Hm[1],Hm[2],null);tj.bindTexture(tj.TEXTURE_2D,null);Fm["_Format"]=Hm;return Fm}function ck(Im,Jm){var Km=tj.createFramebuffer();if(!Km){console.error("Could not create framebuffer object!");return null}tj.bindFramebuffer(tj.FRAMEBUFFER,Km);tj.framebufferTexture2D(tj.FRAMEBUFFER,tj.COLOR_ATTACHMENT0,tj.TEXTURE_2D,Im,0);if(Jm&&Jm["_Format"][0]===tj.DEPTH_STENCIL){tj.framebufferTexture2D(tj.FRAMEBUFFER,tj.DEPTH_STENCIL_ATTACHMENT,tj.TEXTURE_2D,Jm,0)}else{tj.framebufferTexture2D(tj.FRAMEBUFFER,tj.DEPTH_ATTACHMENT,tj.TEXTURE_2D,Jm,0)}if(tj.FRAMEBUFFER_COMPLETE!=tj.checkFramebufferStatus(tj.FRAMEBUFFER)){tj.deleteFramebuffer(Km);console.error("Framebuffer check failed!");return null}return Km}var dk={_name:"ShaderLab",Shader:vj,Pipeline:null,Init:function(Lm){tj=sj["GL"]["Ctx"];wj=sj["GL"]["_textures"];Jj=tj.canvas.width;Kj=tj.canvas.height;if(uj){var Mm=tj.createBuffer();if(Mm){tj.bindBuffer(tj["UNIFORM_BUFFER"],Mm);tj.bufferData(tj["UNIFORM_BUFFER"],64*3,tj.DYNAMIC_DRAW);tj.bindBuffer(tj["UNIFORM_BUFFER"],null);Rj=Mm}}for(var Nm=0,Om=this.Pipeline.RenderTarget;Nm<Om.length;Nm++){var Pm=Om[Nm];if(Pm){Pm.Width=Pm.Width||Jj;Pm.Height=Pm.Height||Kj;Pm.Levels=Pm.Levels||0;Pm.Params=Pm.Params||["NEAREST","NEAREST","CLAMP_TO_EDGE","CLAMP_TO_EDGE"];Pm.Texture=bk(Pm);Pm.Handle=sj["GL"]["RegisterTexture"](Pm.Texture);Pm.Size=[1/Pm.Width,1/Pm.Height,Pm.Width,Pm.Height]}}for(var Qm=0,Rm=this.Pipeline.Resource;Qm<Rm.length;Qm++){var Sm=Rm[Qm];if(Sm){if("2D"===Sm.TYPE){Sm.Texture=ak(Sm);Sm.Handle=sj["GL"]["RegisterTexture"](Sm.Texture);if(2===Sm.ID){Qj=Sm.Texture}}}}function Tm(bn){var cn=bn.RenderTarget;if(cn){var dn=dk.Pipeline["RenderTarget"][cn[0]];var en=dk.Pipeline["RenderTarget"][cn[1]];bn.Framebuffer=ck(dn.Texture,en?en.Texture:null);if(!bn.Framebuffer){console.log(bn)}bn.Framebuffer.width=dn.Size[2];bn.Framebuffer.height=dn.Size[3]}else{bn.Framebuffer=null}}for(var Um=0,Vm=this.Pipeline.Pass;Um<Vm.length;Um++){var Wm=Vm[Um];if(Wm){if("Clear"===Wm.Type){Wm._Type=2}else{Wm._Type="Render"===Wm.Type?0:1}Wm._Mask=0;for(var Xm=0,Ym=Wm.Mask;Xm<Ym.length;Xm++){var Zm=Ym[Xm];Wm._Mask+=yj[Zm]}Tm(Wm);if(Wm.Pingpong){for(var $m=0,_m=Wm.Pingpong;$m<_m.length;$m++){var an=_m[$m];Tm(an)}}}}},Draw:function(){Lj++;var fn=0;var gn=this.Pipeline.Picker;if(gn){Pj[0]=gn.x;Pj[1]=tj.canvas.height-gn.y}else{Pj[0]=-10;Pj[1]=-10}if(uj){Ej[Sj][12]=0;tj.bindBuffer(tj["UNIFORM_BUFFER"],Rj);tj.bufferData(tj["UNIFORM_BUFFER"],Ej[Sj],tj.DYNAMIC_DRAW)}for(var hn=0,jn=this.Pipeline.Pass;hn<jn.length;hn++){var kn=jn[hn];ek.BeginDrawPass();if(kn.Pingpong){for(var ln=0;ln<kn.PingpongCount;ln++){for(var mn=0;mn<kn.Pingpong.length;mn++){kn.Framebuffer=kn.Pingpong[mn].Framebuffer;kn.SetUniforms=kn.Pingpong[mn].SetUniforms;this.DrawPass(kn,dk.DrawPass_)}}}else{this.DrawPass(kn,dk.DrawPass_)}ek.EndDrawPass(fn++)}},DrawPass:function(nn,on){tj.bindFramebuffer(tj.FRAMEBUFFER,nn.Framebuffer);if(nn.Framebuffer){tj.viewport(0,0,nn.Framebuffer.width,nn.Framebuffer.height)}else{tj.viewport(0,0,Jj,Kj)}var pn=nn.Depth;if(pn){tj.enable(tj.DEPTH_TEST);tj.depthMask(pn.Write);tj.depthFunc(tj[pn.Func])}else{tj.disable(tj.DEPTH_TEST)}var qn=nn.Blend;if(qn){tj.enable(tj.BLEND);tj.blendEquationSeparate(tj[qn.ColorFunc],tj[qn.AlphaFunc]);tj.blendFuncSeparate(tj[qn.ColorSrc],tj[qn.ColorDest],tj[qn.AlphaSrc],tj[qn.AlphaDest])}else{tj.disable(tj.BLEND)}var rn=nn.Stencil;if(rn){tj.enable(tj.STENCIL_TEST);tj.stencilFunc(tj[rn.Func],rn.Value,rn.Mask);tj.stencilOp(tj[rn.Faild],tj[rn.ZFaild],tj[rn.Pass])}else{tj.disable(tj.STENCIL_TEST)}var sn=nn.ClearTarget;if(sn){var tn=0;if(sn.Color){tj.clearColor(sn.Color.r,sn.Color.g,sn.Color.b,sn.Color.a);tn+=tj.COLOR_BUFFER_BIT}if(undefined!==sn.Depth){tj.clearDepth(sn.Depth);tn+=tj.DEPTH_BUFFER_BIT}if(undefined!==sn.Stencil){tj.clearStencil(sn.Stencil);tn+=tj.STENCIL_BUFFER_BIT}tj.clear(tn)}Nj=nn.SetUniforms;if(nn.Shader){if(!nn._Material){nn._Material=new sj["Material"](nn.Shader)}nn._Material._Bind()}if(qn){if(uj){Ej[Sj][12]=1;tj.bindBuffer(tj["UNIFORM_BUFFER"],Rj);tj.bufferData(tj["UNIFORM_BUFFER"],Ej[Sj],tj.DYNAMIC_DRAW)}}on(nn._Type,nn._Mask);if(qn){if(uj){Ej[Sj][12]=0;tj.bindBuffer(tj["UNIFORM_BUFFER"],Rj);tj.bufferData(tj["UNIFORM_BUFFER"],Ej[Sj],tj.DYNAMIC_DRAW)}}if(nn.Postprocess){nn.Postprocess(tj)}tj.flush()},PreflushBuffer:function(){var un=Ej.length;var vn=new Array(un);for(var wn=0;wn<un;wn++){var xn=Ej[wn];if(xn){if("Float32Array"===xn.constructor.name){vn[wn]=xn.length}else{vn[wn]=-xn.length}Ej[wn]=xn.byteOffset}}return vn},FlushBuffer:function(yn,zn){zj=yn;var An=Ej.length;for(var Bn=0;Bn<An;Bn++){var Cn=Ej[Bn];if(Cn){var Dn=zn[Bn];if(0<Dn){Ej[Bn]=new Float32Array(zj,Cn,Dn)}else{Ej[Bn]=new Int32Array(zj,Cn,-Dn)}}}for(var Bn=0;Bn<An;Bn++){var En=Ij[Bn];if(En){En[0]()}}sj["GL"]["FlushHeap"]()},ResizeCanvas:function(Fn,Gn){},PickObject:function(){var Hn=this.Pipeline.Picker;if(Hn){tj.readPixels(Hn.x,tj.canvas.height-Hn.y,1,1,tj.RGBA,tj.FLOAT,Oj);if(0>Oj[3]){var In=Math.ceil(Oj[0]*1e4)*8192+Math.ceil(Oj[1]*1e4);var Jn=Math.ceil(Oj[2]*1e4);var Kn=this["GetObject"](In);Hn.Feedback(Kn,Jn)}else{Hn.Feedback(null,0)}this.Pipeline.Picker=null}},APP_DO_OPERATORS:[function(Ln){var Mn=sj["ShaderLab"]["Pipeline"]["InternalShader"][Ln];var Nn=Zj(Mn);return Nn.id},function(On,Pn,Qn,Rn){var Sn=null;switch(Pn){case 0:Sn=new Int32Array(zj,Rn,4);Sn.set(Fj[0]);break;case 1:Sn=new Float32Array(zj,Rn,4);Sn.set(Fj[1]);break;case 2:Sn=new Float32Array(zj,Rn,9);Sn.set(Fj[2]);break;case 3:Sn=new Float32Array(zj,Rn,16);Sn.set(Fj[3]);break;case 4:Sn=new Int32Array(zj,Rn,4);Sn.set(Fj[4]);break;case 5:Sn=new Int32Array(zj,Rn,4);Sn.set(Fj[5]);break;case 6:Sn=new Int32Array(zj,Rn,Qn);break;case 7:Sn=new Int32Array(zj,Rn,4);Sn.set(Fj[7]);break;case 8:Sn=new Float32Array(zj,Rn,48);Sj=On;break;default:console.error("Unsupported uniform type:",Pn);break}Ej[On]=Sn;return On},function(Tn,Un,Vn,Wn){Gj[Tn](Un,Vn,Wn);return 0},function(Xn,Yn,Zn,$n){var _n=sj["WASM"].GetString($n);var ao=Ej[Xn];var bo=Dj[ao[19]];var co=bo[_n];return undefined===co?0:co},function(eo,fo){Ij[fo][1](eo);return 0},function(){dk.Draw()},$j,null],ExpandMaterial:_j,CreateUniformsDesc:undefined,GetTexture:undefined,DrawPass_:undefined,SetSunlight:undefined};var ek={_name:"Profiler",m_pMsg:"",m_nCycleStart:0,m_nCycleTick:0,m_nBeginCycle:0,m_nTotalCycle:0,m_nBeginScript:0,m_nTotalScript:0,m_nBeginUpdate:0,m_nTotalUpdate:0,m_nBeginDraw:0,m_nTotalDraw:0,m_nBeginMaterial:0,m_nTotalMaterial:0,m_nBeginDrawPass:0,m_nTotalDrawPass:[],BeginCycle:function(){if(0===ek.m_nCycleTick){ek.m_nCycleStart=sj["Time"]();ek.m_nCycleTick=0;ek.m_nBeginCycle=0;ek.m_nTotalCycle=0;ek.m_nBeginScript=0;ek.m_nTotalScript=0;ek.m_nBeginUpdate=0;ek.m_nTotalUpdate=0;ek.m_nBeginDraw=0;ek.m_nTotalDraw=0;ek.m_nBeginMaterial=0;ek.m_nTotalMaterial=0;ek.m_nBeginDrawPass=0;ek.m_nTotalDrawPass=[]}ek.m_nBeginCycle=sj["Time"]()},EndCycle:function(){ek.m_nTotalCycle+=sj["Time"]()-ek.m_nBeginCycle;if(60===++ek.m_nCycleTick){var go={"总耗时":sj["Time"]()-ek.m_nCycleStart,"应用循环":ek.m_nTotalCycle,"脚本逻辑":ek.m_nTotalScript,"场景更新":ek.m_nTotalUpdate,"场景绘制":ek.m_nTotalDraw,"通道绘制":ek.m_nTotalDrawPass};ek.m_pMsg="'开销统计':"+JSON.stringify(go);ek.m_nCycleTick=0}},BeginScript:function(){ek.m_nBeginScript=sj["Time"]()},EndScript:function(){ek.m_nTotalScript+=sj["Time"]()-ek.m_nBeginScript},BeginUpdate:function(){ek.m_nBeginUpdate=sj["Time"]()},EndUpdate:function(){ek.m_nTotalUpdate+=sj["Time"]()-ek.m_nBeginUpdate},BeginDraw:function(){ek.m_nBeginDraw=sj["Time"]()},EndDraw:function(){ek.m_nTotalDraw+=sj["Time"]()-ek.m_nBeginDraw},BeginMaterial:function(){ek.m_nBeginMaterial=sj["Time"]()},EndMaterial:function(){ek.m_nTotalMaterial+=sj["Time"]()-ek.m_nBeginMaterial},BeginDrawPass:function(){ek.m_nBeginDrawPass=sj["Time"]()},EndDrawPass:function(ho){ek.m_nTotalDrawPass[ho]=(ek.m_nTotalDrawPass[ho]?ek.m_nTotalDrawPass[ho]:0)+sj["Time"]()-ek.m_nBeginDrawPass}};var fk="#version 300 es\n#define attribute in\n#define varying out\n#define texture2D texture\n\nprecision highp float;\nprecision mediump sampler2D;\nprecision mediump sampler2DArray;\n\nuniform CommonBlock\n{\n    lowp vec4 u_Sunlight;\n    lowp vec4 u_Picker;\n    lowp vec4 u_EyePos;\n    lowp vec4 u_Mark;\n    highp mat4 u_MatG;\n    highp mat4 u_MatVP;\n};\n";var gk="#version 300 es\n#define varying in\n#define texture2D texture\n#define gl_FragColor FragColor\n\nprecision highp float;\nprecision mediump sampler2D;\nprecision mediump sampler2DArray;\n\nuniform CommonBlock\n{\n    lowp vec4 u_Sunlight;\n    lowp vec4 u_Picker;\n    lowp vec4 u_EyePos;\n    lowp vec4 u_Mark;\n    highp mat4 u_MatG;\n    highp mat4 u_MatVP;\n};\n\nout vec4 FragColor;\n";dk.Shader["Common"]={DeclareVS:fk+"\nattribute mediump vec3 a_Position;\nattribute mediump vec3 a_Normal;\nattribute mediump vec2 a_UV;\nattribute mediump vec4 a_Color;\nattribute mediump vec4 a_Tangent;\nattribute mediump vec4 a_Binormal;\nattribute mediump vec4 a_Object;\nattribute mediump mat4 a_MatW;\n\n/// 对象空间坐标转世界空间坐标\nvec3 ObjectToWorldPos(vec3 i_Position)\n{\n    return (a_MatW * vec4(i_Position, 1.0)).xyz;\n}\n\n/// 对象空间坐标转裁剪空间坐标\nvec4 ObjectToClipPos(vec3 i_Position)\n{\n    // GIS的变换矩阵值包含旋转信息，未包含位移信息，避免精度不足造成画面抖动\n    // return u_MatVP * u_MatG * a_MatW * vec4(i_Position, 1.0);\n    \n    vec4 mPosition = vec4(i_Position, 1.0);\n    mPosition = u_MatG * a_MatW * mPosition;\n    mPosition.y = mPosition.y - 6378137.0;\n\n    return u_MatVP * mPosition;\n}\n\n/// 对象空间法线转世界空间法线\nvec3 ObjectToWorldNormal(vec3 i_Normal)\n{\n    return normalize((a_MatW * vec4(i_Normal, 0.0)).xyz);\n}\n       ",DeclareFS:gk+"\nuniform sampler2D u_MainTex;\n\n/// 采样2D纹理\nvec4 Tex2D(sampler2D i_Tex, vec2 i_UV)\n{\n    i_UV.x = fract(i_UV.x);\n    i_UV.y = fract(1.0 - i_UV.y);\n\n    return texture2D(i_Tex, i_UV);\n}\n        ",ClearVS:"\nvoid main()\n{\n    gl_Position = vs();\n}\n        ",ClearFS:"\nvoid main()\n{\n    gl_FragColor = fs();\n}\n        ",RenderVS:"\nvarying vec4 v_Object;\n\nvoid main()\n{\n    v_Object = a_Object;\n    \n    gl_Position = vs();\n}\n        ",RenderFS:"\nvarying vec4 v_Object;\n\nvoid main()\n{\n    gl_FragColor = fs();\n    \n    float nAlpha = u_Mark.x;\n    \n    // 半透明输出：https://zhuanlan.zhihu.com/p/49164063\n    if(0.01 < nAlpha)\n    {\n        // 传参：0-不透明，1-全透明，默认值0，追加0.3的透明度\n        nAlpha = 0.3 + 0.7 * v_Object.b;\n        \n        // G通道：颜色灰度累加。（不支持彩色透明）\n        gl_FragColor.g = dot(gl_FragColor.rgb, vec3(0.299, 0.587, 0.114));\n        // R通道：混合次数累加，赋值1.0。赋值0.99标记高亮区域\n        gl_FragColor.r = 1.0 - (0.01 * v_Object.a);        \n        // B通道：OPACITY累加\n        gl_FragColor.b = 1.0 - nAlpha;\n        gl_FragColor.g *= gl_FragColor.b;\n        // A通道：ALPHA累乘。混合：源因子为0、目标乘以源\n        gl_FragColor.a = 1.0 - gl_FragColor.b;\n    }\n    // 不透明输出\n    else\n    {\n        // 高亮区域标记\n        gl_FragColor.a = 1.0 - (0.01 * v_Object.a);\n    }\n}\n        ",PostprocessVS:"\nvoid main()\n{\n    gl_Position = vs();\n}\n        ",PostprocessFS:"\nvoid main()\n{\n    gl_FragColor = fs();\n}\n        ",BRDF:'\nconst float PI = 3.14159265358979323846;\n\nconst vec3 baseColor = vec3(0.5, 0.5, 0.5);\nconst float metallic = 0.0;\nconst float subsurface = 0.5; // 0.0\nconst float specular = 0.2;\nconst float roughness = 0.7;//0.5;\nconst float specularTint = 0.0;\nconst float anisotropic = 0.0;\nconst float sheen = 0.0;\nconst float sheenTint = 0.5;\nconst float clearcoat = 0.0;\nconst float clearcoatGloss = 1.0;\n\nfloat sqr(float x) { return x * x; }\n\nfloat SchlickFresnel(float u)\n{\n\tfloat m = clamp(1.0 - u, 0.0, 1.0);\n\tfloat m2 = m * m;\n\treturn m2 * m2 * m; // pow(m,5)\n}\n\nfloat GTR1(float NdotH, float a)\n{\n\tif (a >= 1.0) return 1.0 / PI;\n\tfloat a2 = a * a;\n\tfloat t = 1.0 + (a2 - 1.0) * NdotH * NdotH;\n\treturn (a2 - 1.0) / (PI * log(a2) * t);\n}\n\nfloat GTR2(float NdotH, float a)\n{\n\tfloat a2 = a * a;\n\tfloat t = 1.0 + (a2 - 1.0) * NdotH * NdotH;\n\treturn a2 / (PI * t * t);\n}\n\nfloat GTR2_aniso(float NdotH, float HdotX, float HdotY, float ax, float ay)\n{\n\treturn 1.0 / (PI * ax * ay * sqr(sqr(HdotX / ax) + sqr(HdotY / ay) + NdotH * NdotH));\n}\n\nfloat smithG_GGX(float NdotV, float alphaG)\n{\n\tfloat a = alphaG * alphaG;\n\tfloat b = NdotV * NdotV;\n\treturn 1.0 / (NdotV + sqrt(a + b - a * b));\n}\n\nfloat smithG_GGX_aniso(float NdotV, float VdotX, float VdotY, float ax, float ay)\n{\n\treturn 1.0 / (NdotV + sqrt(sqr(VdotX * ax) + sqr(VdotY * ay) + sqr(NdotV)));\n}\n\nvec3 mon2lin(vec3 x)\n{\n\treturn vec3(pow(x[0], 2.2), pow(x[1], 2.2), pow(x[2], 2.2));\n}\n\nvec3 BRDF(vec3 L, vec3 V, vec3 N, vec3 X, vec3 Y)\n{\n    //x和y方向分别表示了表面的切向量和副法线向量方向\n    //https://www.cnblogs.com/starfallen/p/3572352.html\n\n\tfloat NdotL = dot(N, L);\n\tfloat NdotV = dot(N, V);\n\tif (NdotL < 0.0 || NdotV < 0.0) return vec3(0.0);\n\n\tvec3 H = normalize(L + V);\n\tfloat NdotH = dot(N, H);\n\tfloat LdotH = dot(L, H);\n\n\tvec3 Cdlin = mon2lin(baseColor);\n\tfloat Cdlum = 0.3 * Cdlin[0] + 0.6 * Cdlin[1] + 0.1 * Cdlin[2]; // luminance approx.\n\n\tvec3 Ctint = Cdlum > 0.0 ? Cdlin / Cdlum : vec3(1.0); // normalize lum. to isolate hue+sat\n\tvec3 Cspec0 = mix(specular * 0.08 * mix(vec3(1.0), Ctint, specularTint), Cdlin, metallic);\n\tvec3 Csheen = mix(vec3(1.0), Ctint, sheenTint);\n\n\t// Diffuse fresnel - go from 1 at normal incidence to .5 at grazing\n\t// and mix in diffuse retro-reflection based on roughness\n\tfloat FL = SchlickFresnel(NdotL), FV = SchlickFresnel(NdotV);\n\tfloat Fd90 = 0.5 + 2.0 * LdotH * LdotH * roughness;\n\tfloat Fd = mix(1.0, Fd90, FL) * mix(1.0, Fd90, FV);\n\n\t// Based on Hanrahan-Krueger brdf approximation of isotropic bssrdf\n\t// 1.25 scale is used to (roughly) preserve albedo\n\t// Fss90 used to "flatten" retroreflection based on roughness\n\tfloat Fss90 = LdotH * LdotH * roughness;\n\tfloat Fss = mix(1.0, Fss90, FL) * mix(1.0, Fss90, FV);\n\tfloat ss = 1.25 * (Fss * (1.0 / (NdotL + NdotV) - 0.5) + 0.5);\n\n\t// specular\n\tfloat aspect = sqrt(1.0 - anisotropic * 0.9);\n\tfloat ax = max(0.001, sqr(roughness) / aspect);\n\tfloat ay = max(0.001, sqr(roughness) * aspect);\n\tfloat Ds = GTR2_aniso(NdotH, dot(H, X), dot(H, Y), ax, ay);\n\tfloat FH = SchlickFresnel(LdotH);\n\tvec3 Fs = mix(Cspec0, vec3(1.0), FH);\n\tfloat Gs;\n\tGs = smithG_GGX_aniso(NdotL, dot(L, X), dot(L, Y), ax, ay);\n\tGs *= smithG_GGX_aniso(NdotV, dot(V, X), dot(V, Y), ax, ay);\n\n\t// sheen\n\tvec3 Fsheen = FH * sheen * Csheen;\n\n\t// clearcoat (ior = 1.5 -> F0 = 0.04)\n\tfloat Dr = GTR1(NdotH, mix(0.1, 0.001, clearcoatGloss));\n\tfloat Fr = mix(0.04, 1.0, FH);\n\tfloat Gr = smithG_GGX(NdotL, 0.25) * smithG_GGX(NdotV, 0.25);\n\n\treturn ((1.0 / PI) * mix(Fd, ss, subsurface) * Cdlin + Fsheen) * (1.0 - metallic) + Gs * Fs * Ds + 0.25 * clearcoat * Gr * Fr * Dr;\n}\n        ',AtmosphereVS:"\nvarying vec4 v_ViewDir;\nvarying vec4 v_Scattering;\nvarying vec4 v_Attenuate;\n\n//P and ray define the line; O is the sphere's center point\nvec3 CalculateIntersection(vec3 P, vec3 ray, vec3 O, float r)\n{\n\tvec3 PO = O - P;\n\tfloat lPO = length(PO);\n\tfloat B = 2.0 * dot(PO, ray);\n\n\tfloat C = B * B - 4.0 * (lPO * lPO - r * r);\n\tfloat det = sqrt(max(0.0, C));\n\n\tfloat d = 0.5*(B-det);\n\tvec3 intersect = P + d * ray;\n\n\treturn intersect;\n}\n\nvoid Atmosphere(vec3 mLightDir, vec3 mWorldPos)\n{\n    // 大气散射，天空应分两层，摄像机应该在内层之外，大气层厚度为外层半径减内层半径，外层半径应远大于内层半径\n    //650 nm for red; 570 nm for green; 475 nm for blue\n    vec3 _Wave = vec3(5.602046, 9.473285, 20.49314);\n    vec3 _ESun = vec3(20.0, 20.0, 20.0);\n    vec3 _PlanetPos = vec3(0.0, -6378137.0, 0.0);\n    float _Sealevel = 6378137.0;\n    float _OuterRadius = 6478137.0;\n    float _SampleNum = 5.0;\n    //Rayleigh scattering constant\n    float _Kr = 0.0025;\n    //Mie scattering constant\n    float _Km = 0.001;\n    //the altitude at which the atmosphere's average density is found\n    float _H0 = 0.25;\n\n    vec3 mRay = mWorldPos - u_EyePos.xyz;\n    float nDepth = length(mRay); mRay = mRay / nDepth;\n\n    float nSampleLength = nDepth / _SampleNum;\n    vec3 mSampleRay = mRay * nSampleLength;\n    vec3 mSamplePoint = u_EyePos.xyz + mSampleRay * 0.5;\n    vec3 mInScattering = vec3(0.0, 0.0, 0.0);\n    vec3 mOutScatteringAB = vec3(0.0, 0.0, 0.0);\n    vec3 mOutGroundScatteringAB = vec3(0.0, 0.0, 0.0);\n    float nInvOuterH = 1.0 / (_OuterRadius-_Sealevel);\n\n    for(int i=0; i</*_SampleNum*/5; i++)\n    {\n\t    vec3 mCrossPoint = CalculateIntersection(mSamplePoint, -mLightDir, _PlanetPos, _OuterRadius);\n\t    //AP out scattering\n\t    vec3 mAPRay = (mSamplePoint - u_EyePos.xyz) / _SampleNum;\n\t    float nAPRayLength = length(mAPRay);\n\t    vec3 mSampleAP = u_EyePos.xyz + mAPRay * 0.5;\n\t    vec3 mOutScatteringAP = vec3(0.0, 0.0, 0.0);\n\n\t    for(int m=0; m</*_SampleNum*/5; m++)\n\t    {\n\t\t    mOutScatteringAP += exp(-(length(mSampleAP - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nAPRayLength * nInvOuterH;\n\t\t    mSampleAP += mAPRay;\n\t    }\n\t    mOutScatteringAP = 4.0 * 3.14 * (_Km + _Kr * _Wave) * mOutScatteringAP;\n\n\t    //PC out scattering\n\t    vec3 mPCRay = (mCrossPoint - mSamplePoint) / _SampleNum;\n\t    float nPCRayLength = length(mPCRay);\n\t    vec3 mSamplePC = mSamplePoint + mPCRay*0.5;\n\t    vec3 mOutScatteringPC = vec3(0.0, 0.0, 0.0);\n\n\t    for(int n=0; n</*_SampleNum*/5; n++)\n\t    {\n\t\t    mOutScatteringPC += exp(-(length(mSamplePC - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nPCRayLength * nInvOuterH;\n\t\t    mSamplePC += mPCRay;\n\t    }\n\t    mOutScatteringPC = 4.0 * 3.14 * (_Km + _Kr * _Wave) * mOutScatteringPC;\n\n\t    mInScattering += exp(-(length(mSamplePoint - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nSampleLength * nInvOuterH * exp(-mOutScatteringAP - mOutScatteringPC);\n\t    mSamplePoint+=mSampleRay;\n\t    mOutScatteringAB = mCrossPoint;\n        mOutGroundScatteringAB = mOutScatteringAP + mOutScatteringPC;\n    }\n\n    vec3 mAttenuateGround = exp(-mOutGroundScatteringAB);\n\n    v_ViewDir.xyz = u_EyePos.xyz - mWorldPos;\n    v_Scattering.xyz = mInScattering * _ESun * _Kr * _Wave;\n    v_Attenuate.xyz = mInScattering * _ESun * _Km;\n\n    v_ViewDir.w = mAttenuateGround.x;\n    v_Scattering.w = mAttenuateGround.y;\n    v_Attenuate.w = mAttenuateGround.z;\n\n    //Ground : v_ScatteringR = v_Scattering; v_ScatteringM = v_Attenuate; v_Attenuate = v_AttenuateGround;\n    //v_ViewDir = u_EyePos.xyz - mWorldPos;\n    //v_ScatteringR = mInScattering * _ESun * _Kr * _Wave;\n    //v_ScatteringM = mInScattering * _ESun * _Km;\n    //v_Attenuate = exp(-mOutGroundScatteringAB);\n}\n        ",AtmosphereFS:"\nvarying vec4 v_ViewDir;\nvarying vec4 v_Scattering;\nvarying vec4 v_Attenuate;\n\nfloat PhaseRayleigh(float nCostheta)\n{\n\treturn 0.75 * (1.0 + nCostheta * nCostheta);\n}\n\nfloat PhaseMie(float nCostheta, float g, float g2)\n{\n\treturn 1.5 * ((1.0 - g2) / (2.0 + g2)) * (1.0 + nCostheta * nCostheta) / pow(1.0 + g2 - 2.0 * g * nCostheta, 1.5);\n}\n\nvec4 AtmosphereColor(vec4 mColor, vec3 mLightDir)\n{\n    float _G = -0.990;\n    float _G2 = _G * _G;\n    \n    float nCostheta = dot(normalize(v_ViewDir.xyz), mLightDir);\n    float nPhaseMie = PhaseMie(nCostheta, _G, _G2);\n    float nPhaseRayleigh = PhaseRayleigh(nCostheta);\n\t\t\t\t\n    mColor.rgb = v_Scattering.xyz * nPhaseRayleigh + v_Attenuate.xyz * nPhaseMie;\n    mColor.a = mColor.b + 0.35;\n    mColor = clamp(mColor, 0.0, 0.9);\n\n    return mColor;\n}\n\nvec4 AtmosphereLight(vec4 mColor, vec3 mLightDir)\n{\n    // Ground : v_ScatteringR = v_Scattering.xyz; v_ScatteringM = v_Attenuate.xyz; v_Attenuate = v_AttenuateGround;\n    \n    float _G = -0.980;\n    float _G2 = _G * _G;\n    \n    float nCostheta = dot(normalize(v_ViewDir.xyz), mLightDir);\n    float nPhaseMie = PhaseMie(nCostheta, _G, _G2);\n    float nPhaseRayleigh = PhaseRayleigh(nCostheta);\n    \n    mColor.rgb = v_Scattering.xyz * nPhaseRayleigh + v_Attenuate.xyz * nPhaseMie + mColor.rgb * vec3(v_ViewDir.w, v_Scattering.w, v_Attenuate.w)/*v_AttenuateGround*/;\n    \n    return mColor;\n}\n        "};return[dk,ek]});MiaokitMerge(function(io){if("Sisyphus"!==io["m_pConfig"]["ENGINE"]){return[]}var jo=undefined;var ko=true;function lo(qo){mo();jo=qo.OnRenderingEvent;no();var ro={memory:new WebAssembly.Memory({initial:64*16,maximum:32768}),APP_PLUGIN_TYPE:function(){return 2},APP_MEM_TYPE:function(){return 2},APP_MEM_RESERVE:function(){return 1024},APP_MEM_MALLOC:function(so){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!");return 0},APP_MEM_FREE:function(to){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!")},APP_MEM_BASE:function(){return 64*1024*1024},APP_MEM_GROW:function(uo){if(io["ShaderLab"]){var vo=io["ShaderLab"]["PreflushBuffer"]();ro["memory"].grow(uo/64/1024);var wo=ro["memory"].buffer;io["ShaderLab"]["FlushBuffer"](wo,vo)}else{ro["memory"].grow(uo/64/1024)}},APP_MEM_RECYCLE:function(xo){alert("WAMSģ�鲻֧�ֻ����ڴ�!")},UNITY_CREATE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_FREE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_GET:function(){alert("δװ��UNITY��չ!");return 0},UNITY_DO:function(){alert("δװ��UNITY��չ!");return 0}};qo.OnEngineLoad(ro)}function mo(){var yo=document.getElementById("unityContainer");var zo=document.createElement("canvas");zo.id="3d";zo.width=yo.offsetWidth;zo.height=yo.offsetHeight;zo.style.width="100%";zo.style.height="100%";zo.style.top="0rem";zo.style.bottom="0rem";zo.style.left="0rem";zo.style.right="0rem";zo.style.position="absolute";zo.style.zIndex="1";yo.appendChild(zo);io["GL"]["CreateContext"](zo);io["ShaderLab"]["Init"](io["GL"])}function no(){if(ko){ko=false;po()}}function oo(){ko=true}function po(){if(ko){return}io.Profiler.BeginCycle();io.Profiler.BeginScript();jo(0);io.Profiler.EndScript();if(io["WASM"]["Update"]){io.Profiler.BeginUpdate();io["WASM"]["Update"](0);io.Profiler.EndUpdate();io.Profiler.BeginDraw();io["WASM"]["Update"](1);io.Profiler.EndDraw()}io.Profiler.EndCycle();requestAnimationFrame(po)}io["WASM"]=io["WASM"]||{};io["WASM"]["LoadEngine"]=lo;no["_name"]="Start";oo["_name"]="Stop";return[no,oo]});MiaokitMerge(function(Ao){var Bo=Date.now();function Co(){return Date.now()-Bo}function Do(Go,Ho){if(Ho===void 0){Ho=0}if(2===Ho){console.warn("Track:",Co(),Go)}else if(2<Ho){console.error("Track:",Co(),Go)}else{console.info("Track:",Co(),Go)}}function Eo(Io,Jo,Ko){if(Ko===void 0){Ko=undefined}var Lo=new XMLHttpRequest;Lo.open("GET",Io,true);Lo.responseType="arraybuffer";Lo.onprogress=function(Mo){if(0<Mo.total&&Ko){Ko(Mo.loaded/Mo.total)}};Lo.onload=function(No){if(Lo.status==200){Jo(Lo.response)}else{Jo(null)}};Lo.onerror=function(Oo){Do(Oo,2);Jo(null)};Lo.send(null)}function Fo(Po,Qo,Ro,So,To,Uo){var Vo=new XMLHttpRequest;Vo.onprogress=function(Wo){if(0<Wo.total&&To){To(Wo.loaded/Wo.total)}};Vo.onload=function(Xo){if(Vo.status==200){Uo(Vo.response)}else{Uo(null)}Vo=null};Vo.onerror=function(Yo){Do(Yo,2);Uo(null)};Vo.responseType=Qo;Vo.open(Po,Ro,true);Vo.send(So)}Co["_name"]="Time";Do["_name"]="Track";Eo["_name"]="Fetch";Fo["_name"]="Request";return[Co,Do,Eo,Fo]});MiaokitMerge(function(Zo){if("Unity"!==Zo["m_pConfig"]["ENGINE"]){return[]}if(!UnityLoader){return[]}var $o=Zo["m_pLogo"]||"data:image/png;base64,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";UnityLoader.Progress.Styles.Dark.progressLogoUrl=$o;UnityLoader.Progress.Styles.Light.progressLogoUrl=$o;if(UnityLoader.SystemInfo.mobile){UnityLoader.SystemInfo.mobile=false;UnityLoader.downloadJob=function(gp,hp){var ip=new XMLHttpRequest;ip.open("GET",hp.parameters.url);ip.responseType="arraybuffer";ip.onload=function(){UnityLoader.Compression.decompress(new Uint8Array(ip.response),function(jp){hp.complete(jp)})};if(hp.parameters.onprogress)ip.addEventListener("progress",hp.parameters.onprogress);if(hp.parameters.onload)ip.addEventListener("load",hp.parameters.onload);ip.send()}}UnityLoader.processWasmFrameworkJob=function(kp,lp){var mp=UnityLoader.Job.result(kp,"downloadWasmFramework");UnityLoader.loadCode(kp,mp,function(np,op){kp["mainScriptUrlOrBlob"]=op;if(kp.isModularized){UnityLoader[np]=UnityModule}kp["instantiateWasm"]=function(pp,qp){cp(kp,pp["env"]);if(kp["wasmBinary"]){WebAssembly.instantiate(kp["wasmBinary"],pp).then(function(rp){qp(rp.instance,rp.module)})}else{console.info("MiaokitLoader.InitUnity.instantiateWasm error!")}return{}};UnityLoader[np](kp);lp.complete()},{Module:kp,url:kp["wasmFrameworkUrl"],isModularized:kp.isModularized})};var _o=null;var ap=null;var bp={};function cp(sp,tp){Object["assign"](tp,{_Init:function(up,vp){Zo["WASM"]["m_pMemory"]=Zo["WASM"]["m_pMemory"]||ap.Module.wasmMemory;dp(sp,bp,up,vp);ep(ap,bp);_o.OnEngineLoad(bp)},_RenderingEvent:function(wp){_o.OnRenderingEvent(wp)}});Zo["GL"]=tp}function dp(xp,yp,zp,Ap){var Bp=Zo.WASM.GetString(zp,Ap);var Cp=JSON.parse(Bp);var Dp=function(Hp){var Ip=function(){var Jp=Array.prototype.slice.call(arguments);Jp.unshift(Ip["m_nAddr"]);return Ip["m_pFunc"].apply(this,Jp)};Ip["m_pFunc"]=xp[Hp.Call];Ip["m_nAddr"]=Hp.Addr;yp[Hp.Name]=Ip};for(var Ep=0,Fp=Cp.List;Ep<Fp.length;Ep++){var Gp=Fp[Ep];Dp(Gp)}}function ep(Kp,Lp){Lp["APP_PLUGIN_TYPE"]=function(){return 1};Lp["APP_MEM_TYPE"]=function(){return 1};Lp["memory"]=function(Mp){var Np=32*1024*1024;var Op=Mp._memalign(16,Np);var Pp=Np-Op;Mp._free(Op);var Qp=Mp._memalign(16,Pp+Np);if(Qp!==Op){console.error("miaokit.prememory: addr error",Op,Qp);return}if(Qp+Pp+Np!==67108864){console.error("miaokit.prememory: addr end error",Qp+Pp+Np);return}Lp["APP_MEM_RESERVE"]=function(){return Qp};return Mp.wasmMemory}(ap.Module);Lp["APP_MEM_MALLOC"]=function(Rp){return ap.Module._memalign(16,Rp)};Lp["APP_MEM_FREE"]=function(Sp){ap.Module._free(Sp)};Lp["APP_MEM_BASE"]=function(){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Lp["APP_MEM_GROW"]=function(Tp){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Lp["APP_MEM_RECYCLE"]=function(Up){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0}}function fp(Vp){_o=Vp;ap=UnityLoader.instantiate("unityContainer",Zo["m_pConfig"]["UNITY"])}Zo["WASM"]=Zo["WASM"]||{};Zo["WASM"]["LoadEngine"]=fp;return[]});MiaokitMerge(function(Wp){var Xp=undefined;var Yp=new TextDecoder("utf-8");var Zp=new TextEncoder;function $p(_p){if(!Xp||Wp["WASM"].m_pMemory.buffer.byteLength!==Xp[0].byteLength){if(!Xp){Xp=[]}Xp[0]=new Int8Array(Wp["WASM"].m_pMemory.buffer);Xp[1]=new Uint8Array(Wp["WASM"].m_pMemory.buffer);Xp[2]=new Int16Array(Wp["WASM"].m_pMemory.buffer);Xp[3]=new Uint16Array(Wp["WASM"].m_pMemory.buffer);Xp[4]=new Int32Array(Wp["WASM"].m_pMemory.buffer);Xp[5]=new Uint32Array(Wp["WASM"].m_pMemory.buffer);Xp[6]=new Float32Array(Wp["WASM"].m_pMemory.buffer);Xp[7]=new Float64Array(Wp["WASM"].m_pMemory.buffer)}return Xp[_p]}Wp["WASM"]=Wp["WASM"]||{};Wp["WASM"]["HEAP8"]=function(aq,bq){if(aq===void 0){aq=0}if(bq===void 0){bq=0}var cq=$p(0);if(aq&&bq){return cq.subarray(aq,aq+bq)}else{return cq}};Wp["WASM"]["HEAPU8"]=function(dq,eq){if(dq===void 0){dq=0}if(eq===void 0){eq=0}var fq=$p(1);if(dq&&eq){return fq.subarray(dq,dq+eq)}else{return fq}};Wp["WASM"]["HEAP16"]=function(gq,hq){if(gq===void 0){gq=0}if(hq===void 0){hq=0}var iq=$p(2);if(gq&&hq){return iq.subarray(gq/2,(gq+hq)/2)}else{return iq}};Wp["WASM"]["HEAPU16"]=function(jq,kq){if(jq===void 0){jq=0}if(kq===void 0){kq=0}var lq=$p(3);if(jq&&kq){return lq.subarray(jq/2,(jq+kq)/2)}else{return lq}};Wp["WASM"]["HEAP32"]=function(mq,nq,oq){if(mq===void 0){mq=0}if(nq===void 0){nq=0}var pq=$p(4);if(mq&&nq){if(oq){return pq.slice(mq/4,(mq+nq)/4)}else{return pq.subarray(mq/4,(mq+nq)/4)}}else{return pq}};Wp["WASM"]["HEAPU32"]=function(qq,rq){if(qq===void 0){qq=0}if(rq===void 0){rq=0}var sq=$p(5);if(qq&&rq){return sq.subarray(qq/4,(qq+rq)/4)}else{return sq}};Wp["WASM"]["HEAPF32"]=function(tq,uq,vq){if(tq===void 0){tq=0}if(uq===void 0){uq=0}var wq=$p(6);if(tq&&uq){if(vq){return wq.slice(tq/4,(tq+uq)/4)}else{return wq.subarray(tq/4,(tq+uq)/4)}}else{return wq}};Wp["WASM"]["HEAPF64"]=function(xq,yq){if(xq===void 0){xq=0}if(yq===void 0){yq=0}var zq=$p(7);if(xq&&yq){return zq.subarray(xq/8,(xq+yq)/8)}else{return zq}};Wp["WASM"]["GetString"]=function(Aq,Bq){if(!Bq){var Cq=Wp["WASM"].HEAPU8();var Dq=Aq;while(0!==Cq[Dq++]);Bq=Dq-Aq-1}var Eq=Wp["WASM"].HEAPU8(Aq,Bq);var Fq=Yp.decode(Eq);return Fq};Wp["WASM"]["SetString"]=function(Gq,Hq){var Iq=Zp.encode(Hq);var Jq=Wp["WASM"].HEAPU8(Gq,Iq.byteLength);Jq.set(Iq)};Wp["WASM"]["EncodeString"]=function(Kq){return Zp.encode(Kq)};Wp["WASM"]["m_pMemory"]=null;return[]});MiaokitMerge(function(Lq){if("Sisyphus"!==Lq["m_pConfig"]["ENGINE"]){return[]}var Mq={instance:undefined,counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],currentContext:null,currArrayBuffer:0,currElementArrayBuffer:0,offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},stringiCache:{},tempFixedLengthArray:[],packAlignment:4,unpackAlignment:4,init:function(){Mq.miniTempBuffer=new Float32Array(Mq.MINI_TEMP_BUFFER_SIZE);for(var kr=0;kr<Mq.MINI_TEMP_BUFFER_SIZE;kr++){Mq.miniTempBufferViews[kr]=Mq.miniTempBuffer.subarray(0,kr+1)}for(var kr=0;kr<32;kr++){Mq.tempFixedLengthArray.push(new Array(kr))}},recordError:function lr(mr){if(!Mq.lastError){Mq.lastError=mr}},getNewId:function(nr){var or=Mq.counter++;for(var pr=nr.length;pr<or;pr++){nr[pr]=null}return or},MINI_TEMP_BUFFER_SIZE:256,miniTempBuffer:null,miniTempBufferViews:[0],getSource:function(qr,rr,sr,tr){var ur="";for(var vr=0;vr<rr;++vr){var wr;if(tr){var xr=Vq[tr+vr*4>>2];if(xr<0){wr=Pq(Vq[sr+vr*4>>2])}else{wr=Pq(Vq[sr+vr*4>>2],xr)}}else{wr=Pq(Vq[sr+vr*4>>2])}ur+=wr}return ur},createContext:function(yr,zr){if(typeof zr["majorVersion"]==="undefined"&&typeof zr["minorVersion"]==="undefined"){if(typeof WebGL2RenderingContext!=="undefined")zr["majorVersion"]=2;else zr["majorVersion"]=1;zr["minorVersion"]=0}var Ar;var Br="?";function Cr(Er){Br=Er.statusMessage||Br}try{yr.addEventListener("webglcontextcreationerror",Cr,false);try{if(zr["majorVersion"]==1&&zr["minorVersion"]==0){Ar=yr.getContext("webgl",zr)||yr.getContext("experimental-webgl",zr)}else if(zr["majorVersion"]==2&&zr["minorVersion"]==0){Ar=yr.getContext("webgl2",zr)}else{throw"Unsupported WebGL context version "+zr["majorVersion"]+"."+zr["minorVersion"]+"!"}}finally{yr.removeEventListener("webglcontextcreationerror",Cr,false)}if(!Ar)throw":("}catch(Fr){Oq("Could not create canvas: "+[Br,Fr,JSON.stringify(zr)]);return 0}if(!Ar)return 0;var Dr=Mq.registerContext(Ar,zr);return Dr},registerContext:function(Gr,Hr){var Ir=1;var Jr={handle:Ir,attributes:Hr,version:Hr["majorVersion"],GLctx:Gr};function Kr(){var Lr=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return Lr?parseInt(Lr[2],10):false}Jr["supportsWebGL2EntryPoints"]=Jr.version>=2&&(Kr()===false||Kr()>=58);if(Gr.canvas)Gr.canvas.GLctxObject=Jr;Mq.contexts[Ir]=Jr;if(typeof Hr["enableExtensionsByDefault"]==="undefined"||Hr["enableExtensionsByDefault"]){Mq.initExtensions(Jr)}if(Hr["renderViaOffscreenBackBuffer"]){return 0}return Ir},makeContextCurrent:function(Mr){if(!Mr){Nq=Mq.currentContext=null;return true}var Nr=Mq.contexts[Mr];if(!Nr){return false}Nq=Nr.GLctx;Mq.currentContext=Nr;return true},getContext:function(Or){return Mq.contexts[Or]},deleteContext:function(Pr){if(!Pr)return;if(Mq.currentContext===Mq.contexts[Pr])Mq.currentContext=null;if(typeof JSEvents==="object")JSEvents.removeAllHandlersOnTarget(Mq.contexts[Pr].GLctx.canvas);if(Mq.contexts[Pr]&&Mq.contexts[Pr].GLctx.canvas)Mq.contexts[Pr].GLctx.canvas.GLctxObject=undefined;Zq(Mq.contexts[Pr]);Mq.contexts[Pr]=null},initExtensions:function(Qr){if(!Qr)Qr=Mq.currentContext;if(Qr.initExtensionsDone)return;Qr.initExtensionsDone=true;Nq=Qr.GLctx;Qr.maxVertexAttribs=Nq.getParameter(Nq.MAX_VERTEX_ATTRIBS);if(Qr.version<2){var Rr=Nq.getExtension("ANGLE_instanced_arrays");if(Rr){Nq["vertexAttribDivisor"]=function(Wr,Xr){Rr["vertexAttribDivisorANGLE"](Wr,Xr)};Nq["drawArraysInstanced"]=function(Yr,Zr,$r,_r){Rr["drawArraysInstancedANGLE"](Yr,Zr,$r,_r)};Nq["drawElementsInstanced"]=function(as,bs,cs,ds,es){Rr["drawElementsInstancedANGLE"](as,bs,cs,ds,es)}}var Sr=Nq.getExtension("OES_vertex_array_object");if(Sr){Nq["createVertexArray"]=function(){return Sr["createVertexArrayOES"]()};Nq["deleteVertexArray"]=function(fs){Sr["deleteVertexArrayOES"](fs)};Nq["bindVertexArray"]=function(gs){Sr["bindVertexArrayOES"](gs)};Nq["isVertexArray"]=function(hs){return Sr["isVertexArrayOES"](hs)}}var Tr=Nq.getExtension("WEBGL_draw_buffers");if(Tr){Nq["drawBuffers"]=function(is,js){Tr["drawBuffersWEBGL"](is,js)}}}Nq.disjointTimerQueryExt=Nq.getExtension("EXT_disjoint_timer_query");var Ur=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2"];var Vr=Nq.getSupportedExtensions();if(Vr&&Vr.length>0){Nq.getSupportedExtensions().forEach(function(ks){if(Ur.indexOf(ks)!=-1){Nq.getExtension(ks)}})}},populateUniformTable:function(ls){var ms=Mq.programs[ls];Mq.programInfos[ls]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var ns=Mq.programInfos[ls];var os=ns.uniforms;var ps=Nq.getProgramParameter(ms,Nq.ACTIVE_UNIFORMS);for(var qs=0;qs<ps;++qs){var rs=Nq.getActiveUniform(ms,qs);var ss=rs.name;ns.maxUniformLength=Math.max(ns.maxUniformLength,ss.length+1);if(ss.indexOf("]",ss.length-1)!==-1){var ts=ss.lastIndexOf("[");ss=ss.slice(0,ts)}var us=Nq.getUniformLocation(ms,ss);if(us!=null){var vs=Mq.getNewId(Mq.uniforms);os[ss]=[rs.size,vs];Mq.uniforms[vs]=us;for(var ws=1;ws<rs.size;++ws){var xs=ss+"["+ws+"]";us=Nq.getUniformLocation(ms,xs);vs=Mq.getNewId(Mq.uniforms);Mq.uniforms[vs]=us}}}}};var Nq=undefined;var Oq=console.error;var Pq=Lq["WASM"]["GetString"];var Qq=function(ys,zs,As){Lq["WASM"]["SetString"](zs,ys)};var Rq=undefined;var Sq=undefined;var Tq=undefined;var Uq=undefined;var Vq=undefined;var Wq=undefined;var Xq=undefined;function Yq(Bs){return Lq["WASM"]["Malloc"](Bs)}function Zq(Cs){Lq["WASM"]["Free"](Cs)}function $q(Ds,Es,Fs){return Fs?+(Ds>>>0)+ +(Es>>>0)*4294967296:+(Ds>>>0)+ +(Es|0)*4294967296}function _q(Gs){switch(Gs){case 34962:Gs=34964;break;case 34963:Gs=34965;break;case 35051:Gs=35053;break;case 35052:Gs=35055;break;case 35982:Gs=35983;break;case 36662:Gs=36662;break;case 36663:Gs=36663;break;case 35345:Gs=35368;break}var Hs=Nq.getParameter(Gs);if(Hs)return Hs.name|0;else return 0}function ar(Is){switch(Is){case 34962:case 34963:case 36662:case 36663:case 35051:case 35052:case 35882:case 35982:case 35345:return true;default:return false}}function br(Js,Ks,Ls,Ms){if(!Ls){Mq.recordError(1281);return}var Ns=Nq["getIndexedParameter"](Js,Ks);var Os;switch(typeof Ns){case"boolean":Os=Ns?1:0;break;case"number":Os=Ns;break;case"object":if(Ns===null){switch(Js){case 35983:case 35368:Os=0;break;default:{Mq.recordError(1280);return}}}else if(Ns instanceof WebGLBuffer){Os=Ns["name"]|0}else{Mq.recordError(1280);return}break;default:Mq.recordError(1280);return}switch(Ms){case"Integer64":var Ps=0;var Qs=[Os>>>0,(Ps=Os,+Math.abs(Ps)>=1?Ps>0?(Math.min(+Math.floor(Ps/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Ps-+(~~Ps>>>0))/4294967296)>>>0:0)];Vq[Ls>>2]=Qs[0];Vq[Ls+4>>2]=Qs[1];break;case"Integer":Vq[Ls>>2]=Os;break;case"Float":Xq[Ls>>2]=Os;break;case"Boolean":Rq[Ls>>0]=Os?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+Ms}}function cr(Rs,Ss,Ts){if(!Ss){Mq.recordError(1281);return}var Us=undefined;switch(Rs){case 36346:Us=1;break;case 36344:if(Ts!=="Integer"&&Ts!=="Integer64"){Mq.recordError(1280)}return;case 34814:case 36345:Us=0;break;case 34466:var Vs=Nq.getParameter(34467);Us=Vs.length;break;case 33309:if(Nq.canvas.GLctxObject.version<2){Mq.recordError(1282);return}var Ws=Nq.getSupportedExtensions();Us=2*Ws.length;break;case 33307:case 33308:if(Nq.canvas.GLctxObject.version<2){Mq.recordError(1280);return}Us=Rs==33307?3:0;break}if(Us===undefined){var Xs=Nq.getParameter(Rs);switch(typeof Xs){case"number":Us=Xs;break;case"boolean":Us=Xs?1:0;break;case"string":Mq.recordError(1280);return;case"object":if(Xs===null){switch(Rs){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 35097:case 36389:case 34068:{Us=0;break};default:{Mq.recordError(1280);return}}}else if(Xs instanceof Float32Array||Xs instanceof Uint32Array||Xs instanceof Int32Array||Xs instanceof Array){for(var Ys=0;Ys<Xs.length;++Ys){switch(Ts){case"Integer":Vq[Ss+Ys*4>>2]=Xs[Ys];break;case"Float":Xq[Ss+Ys*4>>2]=Xs[Ys];break;case"Boolean":Rq[Ss+Ys>>0]=Xs[Ys]?1:0;break;default:throw"internal glGet error, bad type: "+Ts}}return}else if(Xs instanceof WebGLBuffer||Xs instanceof WebGLProgram||Xs instanceof WebGLFramebuffer||Xs instanceof WebGLRenderbuffer||Xs instanceof WebGLQuery||Xs instanceof WebGLSampler||Xs instanceof WebGLSync||Xs instanceof WebGLTransformFeedback||Xs instanceof WebGLVertexArrayObject||Xs instanceof WebGLTexture){Us=Xs["name"]|0}else{Mq.recordError(1280);return}break;default:Mq.recordError(1280);return}}switch(Ts){case"Integer64":var Zs=0;var $s=[Us>>>0,(Zs=Us,+Math.abs(Zs)>=1?Zs>0?(Math.min(+Math.floor(Zs/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Zs-+(~~Zs>>>0))/4294967296)>>>0:0)];Vq[Ss>>2]=$s[0];Vq[Ss+4>>2]=$s[1];break;case"Integer":Vq[Ss>>2]=Us;break;case"Float":Xq[Ss>>2]=Us;break;case"Boolean":Rq[Ss>>0]=Us?1:0;break;default:throw"internal glGet error, bad type: "+Ts}}function dr(_s,at,bt,ct){if(!bt){Mq.recordError(1281);return}var dt=Nq.getUniform(Mq.programs[_s],Mq.uniforms[at]);if(typeof dt=="number"||typeof dt=="boolean"){switch(ct){case"Integer":Vq[bt>>2]=dt;break;case"Float":Xq[bt>>2]=dt;break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+ct}}else{for(var et=0;et<dt.length;et++){switch(ct){case"Integer":Vq[bt+et*4>>2]=dt[et];break;case"Float":Xq[bt+et*4>>2]=dt[et];break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+ct}}}}function er(ft,gt,ht,it){if(!ht){Mq.recordError(1281);return}var jt=Nq.getVertexAttrib(ft,gt);if(gt==34975){Vq[ht>>2]=jt["name"]}else if(typeof jt=="number"||typeof jt=="boolean"){switch(it){case"Integer":Vq[ht>>2]=jt;break;case"Float":Xq[ht>>2]=jt;break;case"FloatToInteger":Vq[ht>>2]=Math["fround"](jt);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+it}}else{for(var kt=0;kt<jt.length;kt++){switch(it){case"Integer":Vq[ht+kt*4>>2]=jt[kt];break;case"Float":Xq[ht+kt*4>>2]=jt[kt];break;case"FloatToInteger":Vq[ht+kt*4>>2]=Math["fround"](jt[kt]);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+it}}}}function fr(lt,mt,nt,ot){function pt(st,tt){return Math.floor((st+tt-1)/tt)*tt}var qt=lt*nt;var rt=pt(qt,ot);return mt<=0?0:(mt-1)*rt+qt}function gr(ut,vt,wt,xt,yt,zt){var At;var Bt;switch(vt){case 6406:case 6409:case 6402:case 6403:case 36244:Bt=1;break;case 6410:case 33319:case 33320:Bt=2;break;case 6407:case 35904:case 36248:Bt=3;break;case 6408:case 35906:case 36249:Bt=4;break;default:Mq.recordError(1280);return null}switch(ut){case 5121:case 5120:At=Bt*1;break;case 5123:case 36193:case 5131:case 5122:At=Bt*2;break;case 5125:case 5126:case 5124:At=Bt*4;break;case 34042:case 35902:case 33640:case 35899:case 34042:At=4;break;case 33635:case 32819:case 32820:At=2;break;default:Mq.recordError(1280);return null}var Ct=fr(wt,xt,At,Mq.unpackAlignment);switch(ut){case 5120:return Rq.subarray(yt,yt+Ct);case 5121:return Sq.subarray(yt,yt+Ct);case 5122:return Tq.subarray(yt>>1,yt+Ct>>1);case 5124:return Vq.subarray(yt>>2,yt+Ct>>2);case 5126:return Xq.subarray(yt>>2,yt+Ct>>2);case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return Wq.subarray(yt>>2,yt+Ct>>2);case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return Uq.subarray(yt>>1,yt+Ct>>1);default:Mq.recordError(1280);return null}}function hr(Dt){switch(Dt){case 5120:return Rq;case 5121:return Sq;case 5122:return Tq;case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return Uq;case 5124:return Vq;case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return Wq;case 5126:return Xq;default:return null}}function ir(Et){switch(Et){case 5120:case 5121:return 0;case 5122:case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return 1;case 5124:case 5126:case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return 2;default:return 0}}var jr=function(){function Ft(){this.Ctx=undefined}Ft.prototype.FlushHeap=function(){Rq=Lq["WASM"]["HEAP8"]();Sq=Lq["WASM"]["HEAPU8"]();Tq=Lq["WASM"]["HEAP16"]();Uq=Lq["WASM"]["HEAPU16"]();Vq=Lq["WASM"]["HEAP32"]();Wq=Lq["WASM"]["HEAPU32"]();Xq=Lq["WASM"]["HEAPF32"]()};Ft.prototype.CreateContext=function(Gt,Ht){Ht=Ht||{majorVersion:2,minorVersion:0,alpha:0,depth:0,stencil:0,antialias:0,premultipliedAlpha:0,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:0,proxyContextToMainThread:0,renderViaOffscreenBackBuffer:0};if(Ht["explicitSwapControl"]){return 0}Mq.init();var It=Mq.createContext(Gt,Ht);var Jt=Mq.makeContextCurrent(It);this.Ctx=Nq;return Jt?0:-5};Ft.prototype.DestroyContext=function(){Mq.deleteContext(Mq.currentContext?Mq.currentContext.handle:0)};Ft.prototype.GetTextureByHandle=function(Kt){return Kt?Mq.textures[Kt]:null};Ft.prototype.RegisterTexture=function(Lt){var Mt=Mq.getNewId(Mq.textures);Lt.name=Mt;Mq.textures[Mt]=Lt;return Mt};Ft.prototype._glVertexAttribDivisor=function(Nt,Ot){Nq["vertexAttribDivisor"](Nt,Ot)};Ft.prototype._glActiveTexture=function(Pt){Nq["activeTexture"](Pt)};Ft.prototype._glAttachShader=function(Qt,Rt){Nq.attachShader(Mq.programs[Qt],Mq.shaders[Rt])};Ft.prototype._glBeginQuery=function(St,Tt){Nq["beginQuery"](St,Tt?Mq.queries[Tt]:null)};Ft.prototype._glBeginTransformFeedback=function(Ut){Nq["beginTransformFeedback"](Ut)};Ft.prototype._glBindAttribLocation=function(Vt,Wt,Xt){Xt=Pq(Xt);Nq.bindAttribLocation(Mq.programs[Vt],Wt,Xt)};Ft.prototype._glBindBuffer=function(Yt,Zt){var $t=Zt?Mq.buffers[Zt]:null;if(Yt==35051){Nq.currentPixelPackBufferBinding=Zt}else if(Yt==35052){Nq.currentPixelUnpackBufferBinding=Zt}Nq.bindBuffer(Yt,$t)};Ft.prototype._glBindBufferBase=function(_t,au,bu){var cu=bu?Mq.buffers[bu]:null;Nq["bindBufferBase"](_t,au,cu)};Ft.prototype._glBindBufferRange=function(du,eu,fu,gu,hu){var iu=fu?Mq.buffers[fu]:null;Nq["bindBufferRange"](du,eu,iu,gu,hu)};Ft.prototype._glBindFramebuffer=function(ju,ku){Nq.bindFramebuffer(ju,ku?Mq.framebuffers[ku]:null)};Ft.prototype._glBindRenderbuffer=function(lu,mu){Nq.bindRenderbuffer(lu,mu?Mq.renderbuffers[mu]:null)};Ft.prototype._glBindSampler=function(nu,ou){Nq["bindSampler"](nu,ou?Mq.samplers[ou]:null)};Ft.prototype._glBindTexture=function(pu,qu){Nq.bindTexture(pu,qu?Mq.textures[qu]:null)};Ft.prototype._glBindTransformFeedback=function(ru,su){var tu=su?Mq.transformFeedbacks[su]:null;if(su&&!tu){Mq.recordError(1282);return}Nq["bindTransformFeedback"](ru,tu)};Ft.prototype._glBindVertexArray=function(uu){Nq["bindVertexArray"](Mq.vaos[uu])};Ft.prototype._glBlendEquation=function(vu){Nq["blendEquation"](vu)};Ft.prototype._glBlendEquationSeparate=function(wu,xu){Nq["blendEquationSeparate"](wu,xu)};Ft.prototype._glBlendFuncSeparate=function(yu,zu,Au,Bu){Nq["blendFuncSeparate"](yu,zu,Au,Bu)};Ft.prototype._glBlitFramebuffer=function(Cu,Du,Eu,Fu,Gu,Hu,Iu,Ju,Ku,Lu){Nq["blitFramebuffer"](Cu,Du,Eu,Fu,Gu,Hu,Iu,Ju,Ku,Lu)};Ft.prototype._glBufferData=function(Mu,Nu,Ou,Pu){if(!Ou){Nq.bufferData(Mu,Nu,Pu)}else{if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.bufferData(Mu,Sq,Pu,Ou,Nu);return}Nq.bufferData(Mu,Sq.subarray(Ou,Ou+Nu),Pu)}};Ft.prototype._glBufferSubData=function(Qu,Ru,Su,Tu){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.bufferSubData(Qu,Ru,Sq,Tu,Su);return}Nq.bufferSubData(Qu,Ru,Sq.subarray(Tu,Tu+Su))};Ft.prototype._glCheckFramebufferStatus=function(Uu){return Nq["checkFramebufferStatus"](Uu)};Ft.prototype._glClear=function(Vu){Nq["clear"](Vu)};Ft.prototype._glClearColor=function(Wu,Xu,Yu,Zu){Nq["clearColor"](Wu,Xu,Yu,Zu)};Ft.prototype._glClearDepthf=function($u){Nq["clearDepth"]($u)};Ft.prototype._glClearStencil=function(_u){Nq["clearStencil"](_u)};Ft.prototype._glClientWaitSync=function(av,bv,cv,dv){cv=cv>>>0;dv=dv>>>0;var ev=cv==4294967295&&dv==4294967295?-1:$q(cv,dv,true);return Nq.clientWaitSync(Mq.syncs[av],bv,ev)};Ft.prototype._glColorMask=function(fv,gv,hv,iv){Nq.colorMask(!!fv,!!gv,!!hv,!!iv)};Ft.prototype._glCompileShader=function(jv){Nq.compileShader(Mq.shaders[jv])};Ft.prototype._glCompressedTexImage2D=function(kv,lv,mv,nv,ov,pv,qv,rv){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq["compressedTexImage2D"](kv,lv,mv,nv,ov,pv,Sq,rv,qv);return}Nq["compressedTexImage2D"](kv,lv,mv,nv,ov,pv,rv?Sq.subarray(rv,rv+qv):null)};Ft.prototype._glCompressedTexSubImage2D=function(sv,tv,uv,vv,wv,xv,yv,zv,Av){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq["compressedTexSubImage2D"](sv,tv,uv,vv,wv,xv,yv,Sq,Av,zv);return}Nq["compressedTexSubImage2D"](sv,tv,uv,vv,wv,xv,yv,Av?Sq.subarray(Av,Av+zv):null)};Ft.prototype._glCompressedTexSubImage3D=function(Bv,Cv,Dv,Ev,Fv,Gv,Hv,Iv,Jv,Kv,Lv){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq["compressedTexSubImage3D"](Bv,Cv,Dv,Ev,Fv,Gv,Hv,Iv,Jv,Sq,Lv,Kv)}else{Nq["compressedTexSubImage3D"](Bv,Cv,Dv,Ev,Fv,Gv,Hv,Iv,Jv,Lv?Sq.subarray(Lv,Lv+Kv):null)}};Ft.prototype._glCopyBufferSubData=function(Mv,Nv,Ov,Pv,Qv){Nq["copyBufferSubData"](Mv,Nv,Ov,Pv,Qv)};Ft.prototype._glCopyTexImage2D=function(Rv,Sv,Tv,Uv,Vv,Wv,Xv,Yv){Nq["copyTexImage2D"](Rv,Sv,Tv,Uv,Vv,Wv,Xv,Yv)};Ft.prototype._glCopyTexSubImage2D=function(Zv,$v,_v,aw,bw,cw,dw,ew){Nq["copyTexSubImage2D"](Zv,$v,_v,aw,bw,cw,dw,ew)};Ft.prototype._glCreateProgram=function(){var fw=Mq.getNewId(Mq.programs);var gw=Nq.createProgram();gw.name=fw;Mq.programs[fw]=gw;return fw};Ft.prototype._glCreateShader=function(hw){var iw=Mq.getNewId(Mq.shaders);Mq.shaders[iw]=Nq.createShader(hw);return iw};Ft.prototype._glCullFace=function(jw){Nq["cullFace"](jw)};Ft.prototype._glDeleteBuffers=function(kw,lw){for(var mw=0;mw<kw;mw++){var nw=Vq[lw+mw*4>>2];var ow=Mq.buffers[nw];if(!ow)continue;Nq.deleteBuffer(ow);ow.name=0;Mq.buffers[nw]=null;if(nw==Mq.currArrayBuffer)Mq.currArrayBuffer=0;if(nw==Mq.currElementArrayBuffer)Mq.currElementArrayBuffer=0}};Ft.prototype._glDeleteFramebuffers=function(pw,qw){for(var rw=0;rw<pw;++rw){var sw=Vq[qw+rw*4>>2];var tw=Mq.framebuffers[sw];if(!tw)continue;Nq.deleteFramebuffer(tw);tw.name=0;Mq.framebuffers[sw]=null}};Ft.prototype._glDeleteProgram=function(uw){if(!uw)return;var vw=Mq.programs[uw];if(!vw){Mq.recordError(1281);return}Nq.deleteProgram(vw);vw.name=0;Mq.programs[uw]=null;Mq.programInfos[uw]=null};Ft.prototype._glDeleteQueries=function(ww,xw){for(var yw=0;yw<ww;yw++){var zw=Vq[xw+yw*4>>2];var Aw=Mq.queries[zw];if(!Aw)continue;Nq["deleteQuery"](Aw);Mq.queries[zw]=null}};Ft.prototype._glDeleteRenderbuffers=function(Bw,Cw){for(var Dw=0;Dw<Bw;Dw++){var Ew=Vq[Cw+Dw*4>>2];var Fw=Mq.renderbuffers[Ew];if(!Fw)continue;Nq.deleteRenderbuffer(Fw);Fw.name=0;Mq.renderbuffers[Ew]=null}};Ft.prototype._glDeleteSamplers=function(Gw,Hw){for(var Iw=0;Iw<Gw;Iw++){var Jw=Vq[Hw+Iw*4>>2];var Kw=Mq.samplers[Jw];if(!Kw)continue;Nq["deleteSampler"](Kw);Kw.name=0;Mq.samplers[Jw]=null}};Ft.prototype._glDeleteShader=function(Lw){if(!Lw)return;var Mw=Mq.shaders[Lw];if(!Mw){Mq.recordError(1281);return}Nq.deleteShader(Mw);Mq.shaders[Lw]=null};Ft.prototype._glDeleteSync=function(Nw){if(!Nw)return;var Ow=Mq.syncs[Nw];if(!Ow){Mq.recordError(1281);return}Nq.deleteSync(Ow);Ow.name=0;Mq.syncs[Nw]=null};Ft.prototype._glDeleteTextures=function(Pw,Qw){for(var Rw=0;Rw<Pw;Rw++){var Sw=Vq[Qw+Rw*4>>2];var Tw=Mq.textures[Sw];if(!Tw)continue;Nq.deleteTexture(Tw);Tw.name=0;Mq.textures[Sw]=null}};Ft.prototype._glDeleteTransformFeedbacks=function(Uw,Vw){for(var Ww=0;Ww<Uw;Ww++){var Xw=Vq[Vw+Ww*4>>2];var Yw=Mq.transformFeedbacks[Xw];if(!Yw)continue;Nq["deleteTransformFeedback"](Yw);Yw.name=0;Mq.transformFeedbacks[Xw]=null}};Ft.prototype._glDeleteVertexArrays=function(Zw,$w){for(var _w=0;_w<Zw;_w++){var ax=Vq[$w+_w*4>>2];Nq["deleteVertexArray"](Mq.vaos[ax]);Mq.vaos[ax]=null}};Ft.prototype._glDepthFunc=function(bx){Nq["depthFunc"](bx)};Ft.prototype._glDepthMask=function(cx){Nq.depthMask(!!cx)};Ft.prototype._glDetachShader=function(dx,ex){Nq.detachShader(Mq.programs[dx],Mq.shaders[ex])};Ft.prototype._glDisable=function(fx){Nq["disable"](fx)};Ft.prototype._glDisableVertexAttribArray=function(gx){Nq.disableVertexAttribArray(gx)};Ft.prototype._glDrawArrays=function(hx,ix,jx){Nq.drawArrays(hx,ix,jx)};Ft.prototype._glDrawArraysInstanced=function(kx,lx,mx,nx){Nq["drawArraysInstanced"](kx,lx,mx,nx)};Ft.prototype._glDrawBuffers=function(ox,px){var qx=Mq.tempFixedLengthArray[ox];for(var rx=0;rx<ox;rx++){qx[rx]=Vq[px+rx*4>>2]}Nq["drawBuffers"](qx)};Ft.prototype._glDrawElements=function(sx,tx,ux,vx){Nq.drawElements(sx,tx,ux,vx)};Ft.prototype._glDrawElementsInstanced=function(wx,xx,yx,zx,Ax){Nq["drawElementsInstanced"](wx,xx,yx,zx,Ax)};Ft.prototype._glEnable=function(Bx){Nq["enable"](Bx)};Ft.prototype._glEnableVertexAttribArray=function(Cx){Nq.enableVertexAttribArray(Cx)};Ft.prototype._glEndQuery=function(Dx){Nq["endQuery"](Dx)};Ft.prototype._glEndTransformFeedback=function(){Nq["endTransformFeedback"]()};Ft.prototype._glFenceSync=function(Ex,Fx){var Gx=Nq.fenceSync(Ex,Fx);if(Gx){var Hx=Mq.getNewId(Mq.syncs);Gx.name=Hx;Mq.syncs[Hx]=Gx;return Hx}else{return 0}};Ft.prototype._glFinish=function(){Nq["finish"]()};Ft.prototype._glFlush=function(){Nq["flush"]()};Ft.prototype._glFlushMappedBufferRange=function(Ix,Jx,Kx){if(!ar(Ix)){Mq.recordError(1280);Oq("GL_INVALID_ENUM in glFlushMappedBufferRange");return}var Lx=Mq.mappedBuffers[_q(Ix)];if(!Lx){Mq.recordError(1282);Oq("buffer was never mapped in glFlushMappedBufferRange");return}if(!(Lx.access&16)){Mq.recordError(1282);Oq("buffer was not mapped with GL_MAP_FLUSH_EXPLICIT_BIT in glFlushMappedBufferRange");return}if(Jx<0||Kx<0||Jx+Kx>Lx.length){Mq.recordError(1281);Oq("invalid range in glFlushMappedBufferRange");return}Nq.bufferSubData(Ix,Lx.offset,Sq.subarray(Lx.mem+Jx,Lx.mem+Jx+Kx))};Ft.prototype._glFramebufferRenderbuffer=function(Mx,Nx,Ox,Px){Nq.framebufferRenderbuffer(Mx,Nx,Ox,Mq.renderbuffers[Px])};Ft.prototype._glFramebufferTexture2D=function(Qx,Rx,Sx,Tx,Ux){Nq.framebufferTexture2D(Qx,Rx,Sx,Mq.textures[Tx],Ux)};Ft.prototype._glFramebufferTextureLayer=function(Vx,Wx,Xx,Yx,Zx){Nq.framebufferTextureLayer(Vx,Wx,Mq.textures[Xx],Yx,Zx)};Ft.prototype._glFrontFace=function($x){Nq["frontFace"]($x)};Ft.prototype._glGenBuffers=function(_x,ay){for(var by=0;by<_x;by++){var cy=Nq.createBuffer();if(!cy){Mq.recordError(1282);while(by<_x)Vq[ay+by++*4>>2]=0;return}var dy=Mq.getNewId(Mq.buffers);cy.name=dy;Mq.buffers[dy]=cy;Vq[ay+by*4>>2]=dy}};Ft.prototype._glGenFramebuffers=function(ey,fy){for(var gy=0;gy<ey;++gy){var hy=Nq.createFramebuffer();if(!hy){Mq.recordError(1282);while(gy<ey)Vq[fy+gy++*4>>2]=0;return}var iy=Mq.getNewId(Mq.framebuffers);hy.name=iy;Mq.framebuffers[iy]=hy;Vq[fy+gy*4>>2]=iy}};Ft.prototype._glGenQueries=function(jy,ky){for(var ly=0;ly<jy;ly++){var my=Nq["createQuery"]();if(!my){Mq.recordError(1282);while(ly<jy)Vq[ky+ly++*4>>2]=0;return}var ny=Mq.getNewId(Mq.queries);my.name=ny;Mq.queries[ny]=my;Vq[ky+ly*4>>2]=ny}};Ft.prototype._glGenRenderbuffers=function(oy,py){for(var qy=0;qy<oy;qy++){var ry=Nq.createRenderbuffer();if(!ry){Mq.recordError(1282);while(qy<oy)Vq[py+qy++*4>>2]=0;return}var sy=Mq.getNewId(Mq.renderbuffers);ry.name=sy;Mq.renderbuffers[sy]=ry;Vq[py+qy*4>>2]=sy}};Ft.prototype._glGenSamplers=function(ty,uy){for(var vy=0;vy<ty;vy++){var wy=Nq["createSampler"]();if(!wy){Mq.recordError(1282);while(vy<ty)Vq[uy+vy++*4>>2]=0;return}var xy=Mq.getNewId(Mq.samplers);wy.name=xy;Mq.samplers[xy]=wy;Vq[uy+vy*4>>2]=xy}};Ft.prototype._glGenTextures=function(yy,zy){for(var Ay=0;Ay<yy;Ay++){var By=Nq.createTexture();if(!By){Mq.recordError(1282);while(Ay<yy)Vq[zy+Ay++*4>>2]=0;return}var Cy=Mq.getNewId(Mq.textures);By.name=Cy;Mq.textures[Cy]=By;Vq[zy+Ay*4>>2]=Cy}};Ft.prototype._glGenTransformFeedbacks=function(Dy,Ey){for(var Fy=0;Fy<Dy;Fy++){var Gy=Nq["createTransformFeedback"]();if(!Gy){Mq.recordError(1282);while(Fy<Dy)Vq[Ey+Fy++*4>>2]=0;return}var Hy=Mq.getNewId(Mq.transformFeedbacks);Gy.name=Hy;Mq.transformFeedbacks[Hy]=Gy;Vq[Ey+Fy*4>>2]=Hy}};Ft.prototype._glGenVertexArrays=function(Iy,Jy){for(var Ky=0;Ky<Iy;Ky++){var Ly=Nq["createVertexArray"]();if(!Ly){Mq.recordError(1282);while(Ky<Iy)Vq[Jy+Ky++*4>>2]=0;return}var My=Mq.getNewId(Mq.vaos);Ly.name=My;Mq.vaos[My]=Ly;Vq[Jy+Ky*4>>2]=My}};Ft.prototype._glGenerateMipmap=function(Ny){Nq["generateMipmap"](Ny)};Ft.prototype._glGetActiveAttrib=function(Oy,Py,Qy,Ry,Sy,Ty,Uy){Oy=Mq.programs[Oy];var Vy=Nq.getActiveAttrib(Oy,Py);if(!Vy)return;if(Qy>0&&Uy){var Wy=Qq(Vy.name,Uy,Qy);if(Ry)Vq[Ry>>2]=Wy}else{if(Ry)Vq[Ry>>2]=0}if(Sy)Vq[Sy>>2]=Vy.size;if(Ty)Vq[Ty>>2]=Vy.type};Ft.prototype._glGetActiveUniform=function(Xy,Yy,Zy,$y,_y,az,bz){Xy=Mq.programs[Xy];var cz=Nq.getActiveUniform(Xy,Yy);if(!cz)return;if(Zy>0&&bz){var dz=Qq(cz.name,bz,Zy);if($y)Vq[$y>>2]=dz}else{if($y)Vq[$y>>2]=0}if(_y)Vq[_y>>2]=cz.size;if(az)Vq[az>>2]=cz.type};Ft.prototype._glGetActiveUniformBlockName=function(ez,fz,gz,hz,iz){ez=Mq.programs[ez];var jz=Nq["getActiveUniformBlockName"](ez,fz);if(!jz)return;if(iz&&gz>0){var kz=Qq(jz,iz,gz);if(hz)Vq[hz>>2]=kz}else{if(hz)Vq[hz>>2]=0}};Ft.prototype._glGetActiveUniformBlockiv=function(lz,mz,nz,oz){if(!oz){Mq.recordError(1281);return}lz=Mq.programs[lz];switch(nz){case 35393:var pz=Nq["getActiveUniformBlockName"](lz,mz);Vq[oz>>2]=pz.length+1;return;default:var qz=Nq["getActiveUniformBlockParameter"](lz,mz,nz);if(!qz)return;if(typeof qz=="number"){Vq[oz>>2]=qz}else{for(var rz=0;rz<qz.length;rz++){Vq[oz+rz*4>>2]=qz[rz]}}}};Ft.prototype._glGetActiveUniformsiv=function(sz,tz,uz,vz,wz){if(!wz){Mq.recordError(1281);return}if(tz>0&&uz==0){Mq.recordError(1281);return}sz=Mq.programs[sz];var xz=[];for(var yz=0;yz<tz;yz++){xz.push(Vq[uz+yz*4>>2])}var zz=Nq["getActiveUniforms"](sz,xz,vz);if(!zz)return;var Az=zz.length;for(var yz=0;yz<Az;yz++){Vq[wz+yz*4>>2]=zz[yz]}};Ft.prototype._glGetAttribLocation=function(Bz,Cz){return Nq.getAttribLocation(Mq.programs[Bz],Pq(Cz))};Ft.prototype._glGetError=function(){if(Mq.lastError){var Dz=Mq.lastError;Mq.lastError=0;return Dz}else{return Nq.getError()}};Ft.prototype._glGetFramebufferAttachmentParameteriv=function(Ez,Fz,Gz,Hz){var Iz=Nq.getFramebufferAttachmentParameter(Ez,Fz,Gz);if(Iz instanceof WebGLRenderbuffer||Iz instanceof WebGLTexture){Iz=Iz["name"]|0}Vq[Hz>>2]=Iz};Ft.prototype._glGetIntegeri_v=function(Jz,Kz,Lz){br(Jz,Kz,Lz,"Integer")};Ft.prototype._glGetIntegerv=function(Mz,Nz){cr(Mz,Nz,"Integer")};Ft.prototype._glGetInternalformativ=function(Oz,Pz,Qz,Rz,Sz){if(Rz<0){Mq.recordError(1281);return}var Tz=Nq["getInternalformatParameter"](Oz,Pz,32937);if(!Tz){Mq.recordError(1280);return}switch(Qz){case 32937:var Uz=Math.min(Rz,Tz.length);for(var Vz=0;Vz<Uz;Vz++){var Wz=Tz[Vz];Vq[Sz+Vz*4>>2]=Wz}break;case 37760:if(Rz>1){var Wz=Tz.length;Vq[Sz>>2]=Wz}break;default:Mq.recordError(1280)}};Ft.prototype._glGetProgramBinary=function(Xz,Yz,Zz,$z,_z){Mq.recordError(1282)};Ft.prototype._glGetProgramInfoLog=function(aA,bA,cA,dA){var eA=Nq.getProgramInfoLog(Mq.programs[aA]);if(eA===null)eA="(unknown error)";if(bA>0&&dA){var fA=Qq(eA,dA,bA);if(cA)Vq[cA>>2]=fA}else{if(cA)Vq[cA>>2]=0}};Ft.prototype._glGetProgramiv=function(gA,hA,iA){if(!iA){Mq.recordError(1281);return}if(gA>=Mq.counter){Mq.recordError(1281);return}var jA=Mq.programInfos[gA];if(!jA){Mq.recordError(1282);return}if(hA==35716){var kA=Nq.getProgramInfoLog(Mq.programs[gA]);if(kA===null)kA="(unknown error)";Vq[iA>>2]=kA.length+1}else if(hA==35719){Vq[iA>>2]=jA.maxUniformLength}else if(hA==35722){if(jA.maxAttributeLength==-1){gA=Mq.programs[gA];var lA=Nq.getProgramParameter(gA,Nq.ACTIVE_ATTRIBUTES);jA.maxAttributeLength=0;for(var mA=0;mA<lA;++mA){var nA=Nq.getActiveAttrib(gA,mA);jA.maxAttributeLength=Math.max(jA.maxAttributeLength,nA.name.length+1)}}Vq[iA>>2]=jA.maxAttributeLength}else if(hA==35381){if(jA.maxUniformBlockNameLength==-1){gA=Mq.programs[gA];var oA=Nq.getProgramParameter(gA,Nq.ACTIVE_UNIFORM_BLOCKS);jA.maxUniformBlockNameLength=0;for(var mA=0;mA<oA;++mA){var pA=Nq.getActiveUniformBlockName(gA,mA);jA.maxUniformBlockNameLength=Math.max(jA.maxUniformBlockNameLength,pA.length+1)}}Vq[iA>>2]=jA.maxUniformBlockNameLength}else{Vq[iA>>2]=Nq.getProgramParameter(Mq.programs[gA],hA)}};Ft.prototype._glGetRenderbufferParameteriv=function(qA,rA,sA){if(!sA){Mq.recordError(1281);return}Vq[sA>>2]=Nq.getRenderbufferParameter(qA,rA)};Ft.prototype._glGetShaderInfoLog=function(tA,uA,vA,wA){var xA=Nq.getShaderInfoLog(Mq.shaders[tA]);if(xA===null)xA="(unknown error)";if(uA>0&&wA){var yA=Qq(xA,wA,uA);if(vA)Vq[vA>>2]=yA}else{if(vA)Vq[vA>>2]=0}};Ft.prototype._glGetShaderPrecisionFormat=function(zA,AA,BA,CA){var DA=Nq.getShaderPrecisionFormat(zA,AA);Vq[BA>>2]=DA.rangeMin;Vq[BA+4>>2]=DA.rangeMax;Vq[CA>>2]=DA.precision};Ft.prototype._glGetShaderSource=function(EA,FA,GA,HA){var IA=Nq.getShaderSource(Mq.shaders[EA]);if(!IA)return;if(FA>0&&HA){var JA=Qq(IA,HA,FA);if(GA)Vq[GA>>2]=JA}else{if(GA)Vq[GA>>2]=0}};Ft.prototype._glGetShaderiv=function(KA,LA,MA){if(!MA){Mq.recordError(1281);return}if(LA==35716){var NA=Nq.getShaderInfoLog(Mq.shaders[KA]);if(NA===null)NA="(unknown error)";Vq[MA>>2]=NA.length+1}else if(LA==35720){var OA=Nq.getShaderSource(Mq.shaders[KA]);var PA=OA===null||OA.length==0?0:OA.length+1;Vq[MA>>2]=PA}else{Vq[MA>>2]=Nq.getShaderParameter(Mq.shaders[KA],LA)}};Ft.prototype._glGetString=function(QA){Oq("unsupported glGetString");return 0};Ft.prototype._glGetStringi=function(RA,SA){Oq("unsupported glGetStringi");return 0};Ft.prototype._glGetTexParameteriv=function(TA,UA,VA){if(!VA){Mq.recordError(1281);return}Vq[VA>>2]=Nq.getTexParameter(TA,UA)};Ft.prototype._glGetUniformBlockIndex=function(WA,XA){WA=Mq.programs[WA];XA=Pq(XA);return Nq["getUniformBlockIndex"](WA,XA)};Ft.prototype._glGetUniformIndices=function(YA,ZA,$A,_A){if(!_A){Mq.recordError(1281);return}if(ZA>0&&($A==0||_A==0)){Mq.recordError(1281);return}YA=Mq.programs[YA];var aB=[];for(var bB=0;bB<ZA;bB++)aB.push(Pq(Vq[$A+bB*4>>2]));var cB=Nq["getUniformIndices"](YA,aB);if(!cB)return;var dB=cB.length;for(var bB=0;bB<dB;bB++){Vq[_A+bB*4>>2]=cB[bB]}};Ft.prototype._glGetUniformLocation=function(eB,fB){fB=Pq(fB);var gB=0;if(fB.indexOf("]",fB.length-1)!==-1){var hB=fB.lastIndexOf("[");var iB=fB.slice(hB+1,-1);if(iB.length>0){gB=parseInt(iB);if(gB<0){return-1}}fB=fB.slice(0,hB)}var jB=Mq.programInfos[eB];if(!jB){return-1}var kB=jB.uniforms;var lB=kB[fB];if(lB&&gB<lB[0]){return lB[1]+gB}else{return-1}};Ft.prototype._glGetUniformiv=function(mB,nB,oB){dr(mB,nB,oB,"Integer")};Ft.prototype._glGetVertexAttribiv=function(pB,qB,rB){er(pB,qB,rB,"FloatToInteger")};Ft.prototype._glInvalidateFramebuffer=function(sB,tB,uB){var vB=Mq.tempFixedLengthArray[tB];for(var wB=0;wB<tB;wB++){vB[wB]=Vq[uB+wB*4>>2]}Nq["invalidateFramebuffer"](sB,vB)};Ft.prototype._glIsEnabled=function(xB){return Nq["isEnabled"](xB)};Ft.prototype._glIsVertexArray=function(yB){var zB=Mq.vaos[yB];if(!zB)return 0;return Nq["isVertexArray"](zB)};Ft.prototype._glLinkProgram=function(AB){Nq.linkProgram(Mq.programs[AB]);Mq.programInfos[AB]=null;Mq.populateUniformTable(AB)};Ft.prototype._glMapBufferRange=function(BB,CB,DB,EB){if(EB!=26&&EB!=10){Oq("glMapBufferRange is only supported when access is MAP_WRITE|INVALIDATE_BUFFER");return 0}if(!ar(BB)){Mq.recordError(1280);Oq("GL_INVALID_ENUM in glMapBufferRange");return 0}var FB=Yq(DB);if(!FB)return 0;Mq.mappedBuffers[_q(BB)]={offset:CB,length:DB,mem:FB,access:EB};return FB};Ft.prototype._glPixelStorei=function(GB,HB){if(GB==3333){Mq.packAlignment=HB}else if(GB==3317){Mq.unpackAlignment=HB}Nq.pixelStorei(GB,HB)};Ft.prototype._glPolygonOffset=function(IB,JB){Nq["polygonOffset"](IB,JB)};Ft.prototype._glProgramBinary=function(KB,LB,MB,NB){Mq.recordError(1280)};Ft.prototype._glProgramParameteri=function(OB,PB,QB){Mq.recordError(1280)};Ft.prototype._glReadBuffer=function(RB){Nq["readBuffer"](RB)};Ft.prototype._glReadPixels=function(SB,TB,UB,VB,WB,XB,YB){if(Mq.currentContext.supportsWebGL2EntryPoints){if(Nq.currentPixelPackBufferBinding){Nq.readPixels(SB,TB,UB,VB,WB,XB,YB)}else{Nq.readPixels(SB,TB,UB,VB,WB,XB,hr(XB),YB>>ir(XB))}return}var ZB=gr(XB,WB,UB,VB,YB,WB);if(!ZB){Mq.recordError(1280);return}Nq.readPixels(SB,TB,UB,VB,WB,XB,ZB)};Ft.prototype._glRenderbufferStorage=function($B,_B,aC,bC){Nq["renderbufferStorage"]($B,_B,aC,bC)};Ft.prototype._glRenderbufferStorageMultisample=function(cC,dC,eC,fC,gC){Nq["renderbufferStorageMultisample"](cC,dC,eC,fC,gC)};Ft.prototype._glSamplerParameteri=function(hC,iC,jC){Nq["samplerParameteri"](hC?Mq.samplers[hC]:null,iC,jC)};Ft.prototype._glScissor=function(kC,lC,mC,nC){Nq["scissor"](kC,lC,mC,nC)};Ft.prototype._glShaderSource=function(oC,pC,qC,rC){var sC=Mq.getSource(oC,pC,qC,rC);Nq.shaderSource(Mq.shaders[oC],sC)};Ft.prototype._glStencilFuncSeparate=function(tC,uC,vC,wC){Nq["stencilFuncSeparate"](tC,uC,vC,wC)};Ft.prototype._glStencilMask=function(xC){Nq["stencilMask"](xC)};Ft.prototype._glStencilOpSeparate=function(yC,zC,AC,BC){Nq["stencilOpSeparate"](yC,zC,AC,BC)};Ft.prototype._glTexImage2D=function(CC,DC,EC,FC,GC,HC,IC,JC,KC){if(Mq.currentContext.supportsWebGL2EntryPoints){if(Nq.currentPixelUnpackBufferBinding){Nq.texImage2D(CC,DC,EC,FC,GC,HC,IC,JC,KC)}else if(KC!=0){Nq.texImage2D(CC,DC,EC,FC,GC,HC,IC,JC,hr(JC),KC>>ir(JC))}else{Nq.texImage2D(CC,DC,EC,FC,GC,HC,IC,JC,null)}return}var LC=null;if(KC)LC=gr(JC,IC,FC,GC,KC,EC);Nq.texImage2D(CC,DC,EC,FC,GC,HC,IC,JC,LC)};Ft.prototype._glTexImage3D=function(MC,NC,OC,PC,QC,RC,SC,TC,UC,VC){if(Nq.currentPixelUnpackBufferBinding){Nq["texImage3D"](MC,NC,OC,PC,QC,RC,SC,TC,UC,VC)}else if(VC!=0){Nq["texImage3D"](MC,NC,OC,PC,QC,RC,SC,TC,UC,hr(UC),VC>>ir(UC))}else{Nq["texImage3D"](MC,NC,OC,PC,QC,RC,SC,TC,UC,null)}};Ft.prototype._glTexParameterf=function(WC,XC,YC){Nq["texParameterf"](WC,XC,YC)};Ft.prototype._glTexParameteri=function(ZC,$C,_C){Nq["texParameteri"](ZC,$C,_C)};Ft.prototype._glTexParameteriv=function(aD,bD,cD){var dD=Vq[cD>>2];Nq.texParameteri(aD,bD,dD)};Ft.prototype._glTexStorage2D=function(eD,fD,gD,hD,iD){Nq["texStorage2D"](eD,fD,gD,hD,iD)};Ft.prototype._glTexStorage3D=function(jD,kD,lD,mD,nD,oD){Nq["texStorage3D"](jD,kD,lD,mD,nD,oD)};Ft.prototype._glTexSubImage2D=function(pD,qD,rD,sD,tD,uD,vD,wD,xD){if(Mq.currentContext.supportsWebGL2EntryPoints){if(Nq.currentPixelUnpackBufferBinding){Nq.texSubImage2D(pD,qD,rD,sD,tD,uD,vD,wD,xD)}else if(xD!=0){Nq.texSubImage2D(pD,qD,rD,sD,tD,uD,vD,wD,hr(wD),xD>>ir(wD))}else{Nq.texSubImage2D(pD,qD,rD,sD,tD,uD,vD,wD,null)}return}var yD=null;if(xD)yD=gr(wD,vD,tD,uD,xD,0);Nq.texSubImage2D(pD,qD,rD,sD,tD,uD,vD,wD,yD)};Ft.prototype._glTexSubImage3D=function(zD,AD,BD,CD,DD,ED,FD,GD,HD,ID,JD){if(Nq.currentPixelUnpackBufferBinding){Nq["texSubImage3D"](zD,AD,BD,CD,DD,ED,FD,GD,HD,ID,JD)}else if(JD!=0){Nq["texSubImage3D"](zD,AD,BD,CD,DD,ED,FD,GD,HD,ID,hr(ID),JD>>ir(ID))}else{Nq["texSubImage3D"](zD,AD,BD,CD,DD,ED,FD,GD,HD,ID,null)}};Ft.prototype._glTransformFeedbackVaryings=function(KD,LD,MD,ND){KD=Mq.programs[KD];var OD=[];for(var PD=0;PD<LD;PD++)OD.push(Pq(Vq[MD+PD*4>>2]));Nq["transformFeedbackVaryings"](KD,OD,ND)};Ft.prototype._glUniform1fv=function(QD,RD,SD){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniform1fv(Mq.uniforms[QD],Xq,SD>>2,RD);return}var TD;if(RD<=Mq.MINI_TEMP_BUFFER_SIZE){TD=Mq.miniTempBufferViews[RD-1];for(var UD=0;UD<RD;++UD){TD[UD]=Xq[SD+4*UD>>2]}}else{TD=Xq.subarray(SD>>2,SD+RD*4>>2)}Nq.uniform1fv(Mq.uniforms[QD],TD)};Ft.prototype._glUniform1i=function(VD,WD){Nq.uniform1i(Mq.uniforms[VD],WD)};Ft.prototype._glUniform1iv=function(XD,YD,ZD){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniform1iv(Mq.uniforms[XD],Vq,ZD>>2,YD);return}Nq.uniform1iv(Mq.uniforms[XD],Vq.subarray(ZD>>2,ZD+YD*4>>2))};Ft.prototype._glUniform1uiv=function($D,_D,aE){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniform1uiv(Mq.uniforms[$D],Wq,aE>>2,_D)}else{Nq.uniform1uiv(Mq.uniforms[$D],Wq.subarray(aE>>2,aE+_D*4>>2))}};Ft.prototype._glUniform2fv=function(bE,cE,dE){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniform2fv(Mq.uniforms[bE],Xq,dE>>2,cE*2);return}var eE;if(2*cE<=Mq.MINI_TEMP_BUFFER_SIZE){eE=Mq.miniTempBufferViews[2*cE-1];for(var fE=0;fE<2*cE;fE+=2){eE[fE]=Xq[dE+4*fE>>2];eE[fE+1]=Xq[dE+(4*fE+4)>>2]}}else{eE=Xq.subarray(dE>>2,dE+cE*8>>2)}Nq.uniform2fv(Mq.uniforms[bE],eE)};Ft.prototype._glUniform2iv=function(gE,hE,iE){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniform2iv(Mq.uniforms[gE],Vq,iE>>2,hE*2);return}Nq.uniform2iv(Mq.uniforms[gE],Vq.subarray(iE>>2,iE+hE*8>>2))};Ft.prototype._glUniform2uiv=function(jE,kE,lE){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniform2uiv(Mq.uniforms[jE],Wq,lE>>2,kE*2)}else{Nq.uniform2uiv(Mq.uniforms[jE],Wq.subarray(lE>>2,lE+kE*8>>2))}};Ft.prototype._glUniform3fv=function(mE,nE,oE){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniform3fv(Mq.uniforms[mE],Xq,oE>>2,nE*3);return}var pE;if(3*nE<=Mq.MINI_TEMP_BUFFER_SIZE){pE=Mq.miniTempBufferViews[3*nE-1];for(var qE=0;qE<3*nE;qE+=3){pE[qE]=Xq[oE+4*qE>>2];pE[qE+1]=Xq[oE+(4*qE+4)>>2];pE[qE+2]=Xq[oE+(4*qE+8)>>2]}}else{pE=Xq.subarray(oE>>2,oE+nE*12>>2)}Nq.uniform3fv(Mq.uniforms[mE],pE)};Ft.prototype._glUniform3iv=function(rE,sE,tE){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniform3iv(Mq.uniforms[rE],Vq,tE>>2,sE*3);return}Nq.uniform3iv(Mq.uniforms[rE],Vq.subarray(tE>>2,tE+sE*12>>2))};Ft.prototype._glUniform3uiv=function(uE,vE,wE){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniform3uiv(Mq.uniforms[uE],Wq,wE>>2,vE*3)}else{Nq.uniform3uiv(Mq.uniforms[uE],Wq.subarray(wE>>2,wE+vE*12>>2))}};Ft.prototype._glUniform4fv=function(xE,yE,zE){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniform4fv(Mq.uniforms[xE],Xq,zE>>2,yE*4);return}var AE;if(4*yE<=Mq.MINI_TEMP_BUFFER_SIZE){AE=Mq.miniTempBufferViews[4*yE-1];for(var BE=0;BE<4*yE;BE+=4){AE[BE]=Xq[zE+4*BE>>2];AE[BE+1]=Xq[zE+(4*BE+4)>>2];AE[BE+2]=Xq[zE+(4*BE+8)>>2];AE[BE+3]=Xq[zE+(4*BE+12)>>2]}}else{AE=Xq.subarray(zE>>2,zE+yE*16>>2)}Nq.uniform4fv(Mq.uniforms[xE],AE)};Ft.prototype._glUniform4iv=function(CE,DE,EE){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniform4iv(Mq.uniforms[CE],Vq,EE>>2,DE*4);return}Nq.uniform4iv(Mq.uniforms[CE],Vq.subarray(EE>>2,EE+DE*16>>2))};Ft.prototype._glUniform4uiv=function(FE,GE,HE){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniform4uiv(Mq.uniforms[FE],Wq,HE>>2,GE*4)}else{Nq.uniform4uiv(Mq.uniforms[FE],Wq.subarray(HE>>2,HE+GE*16>>2))}};Ft.prototype._glUniformBlockBinding=function(IE,JE,KE){IE=Mq.programs[IE];Nq["uniformBlockBinding"](IE,JE,KE)};Ft.prototype._glUniformMatrix3fv=function(LE,ME,NE,OE){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniformMatrix3fv(Mq.uniforms[LE],!!NE,Xq,OE>>2,ME*9);return}var PE;if(9*ME<=Mq.MINI_TEMP_BUFFER_SIZE){PE=Mq.miniTempBufferViews[9*ME-1];for(var QE=0;QE<9*ME;QE+=9){PE[QE]=Xq[OE+4*QE>>2];PE[QE+1]=Xq[OE+(4*QE+4)>>2];PE[QE+2]=Xq[OE+(4*QE+8)>>2];PE[QE+3]=Xq[OE+(4*QE+12)>>2];PE[QE+4]=Xq[OE+(4*QE+16)>>2];PE[QE+5]=Xq[OE+(4*QE+20)>>2];PE[QE+6]=Xq[OE+(4*QE+24)>>2];PE[QE+7]=Xq[OE+(4*QE+28)>>2];PE[QE+8]=Xq[OE+(4*QE+32)>>2]}}else{PE=Xq.subarray(OE>>2,OE+ME*36>>2)}Nq.uniformMatrix3fv(Mq.uniforms[LE],!!NE,PE)};Ft.prototype._glUniformMatrix4fv=function(RE,SE,TE,UE){if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.uniformMatrix4fv(Mq.uniforms[RE],!!TE,Xq,UE>>2,SE*16);return}var VE;if(16*SE<=Mq.MINI_TEMP_BUFFER_SIZE){VE=Mq.miniTempBufferViews[16*SE-1];for(var WE=0;WE<16*SE;WE+=16){VE[WE]=Xq[UE+4*WE>>2];VE[WE+1]=Xq[UE+(4*WE+4)>>2];VE[WE+2]=Xq[UE+(4*WE+8)>>2];VE[WE+3]=Xq[UE+(4*WE+12)>>2];VE[WE+4]=Xq[UE+(4*WE+16)>>2];VE[WE+5]=Xq[UE+(4*WE+20)>>2];VE[WE+6]=Xq[UE+(4*WE+24)>>2];VE[WE+7]=Xq[UE+(4*WE+28)>>2];VE[WE+8]=Xq[UE+(4*WE+32)>>2];VE[WE+9]=Xq[UE+(4*WE+36)>>2];VE[WE+10]=Xq[UE+(4*WE+40)>>2];VE[WE+11]=Xq[UE+(4*WE+44)>>2];VE[WE+12]=Xq[UE+(4*WE+48)>>2];VE[WE+13]=Xq[UE+(4*WE+52)>>2];VE[WE+14]=Xq[UE+(4*WE+56)>>2];VE[WE+15]=Xq[UE+(4*WE+60)>>2]}}else{VE=Xq.subarray(UE>>2,UE+SE*64>>2)}Nq.uniformMatrix4fv(Mq.uniforms[RE],!!TE,VE)};Ft.prototype._glUnmapBuffer=function(XE){if(!ar(XE)){Mq.recordError(1280);Oq("GL_INVALID_ENUM in glUnmapBuffer");return 0}var YE=_q(XE);var ZE=Mq.mappedBuffers[YE];if(!ZE){Mq.recordError(1282);Oq("buffer was never mapped in glUnmapBuffer");return 0}Mq.mappedBuffers[YE]=null;if(!(ZE.access&16))if(Mq.currentContext.supportsWebGL2EntryPoints){Nq.bufferSubData(XE,ZE.offset,Sq,ZE.mem,ZE.length)}else{Nq.bufferSubData(XE,ZE.offset,Sq.subarray(ZE.mem,ZE.mem+ZE.length))}Zq(ZE.mem);return 1};Ft.prototype._glUseProgram=function($E){Nq.useProgram($E?Mq.programs[$E]:null)};Ft.prototype._glValidateProgram=function(_E){Nq.validateProgram(Mq.programs[_E])};Ft.prototype._glVertexAttrib4f=function(aF,bF,cF,dF,eF){Nq["vertexAttrib4f"](aF,bF,cF,dF,eF)};Ft.prototype._glVertexAttrib4fv=function(fF,gF){Nq.vertexAttrib4f(fF,Xq[gF>>2],Xq[gF+4>>2],Xq[gF+8>>2],Xq[gF+12>>2])};Ft.prototype._glVertexAttribIPointer=function(hF,iF,jF,kF,lF){var mF=Mq.currentContext.clientBuffers[hF];if(!Mq.currArrayBuffer){mF.size=iF;mF.type=jF;mF.normalized=false;mF.stride=kF;mF.ptr=lF;mF.clientside=true;return}mF.clientside=false;Nq.vertexAttribIPointer(hF,iF,jF,kF,lF)};Ft.prototype._glVertexAttribPointer=function(nF,oF,pF,qF,rF,sF){Nq.vertexAttribPointer(nF,oF,pF,!!qF,rF,sF)};Ft.prototype._glViewport=function(tF,uF,vF,wF){Nq["viewport"](tF,uF,vF,wF)};return Ft}();Mq.instance=new jr;Mq.instance["_name"]="GL";Mq.instance["_textures"]=Mq.textures;return[Mq.instance]});