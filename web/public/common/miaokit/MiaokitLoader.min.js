var MiaokitModule=function(a,b){if(a===void 0){a={m_bUnity:true,m_pUnityPath:undefined,m_pModulePath:undefined,m_pServer:undefined}}if(b===void 0){b="WWW.YONGTOC.COM"}var c=this;c["m_pEngine"]=a.m_bUnity?"Unity":"Sisyphus";c["m_pEnginePath"]=a.m_pUnityPath;c["m_pModulePath"]=a.m_pModulePath;c["m_pServer"]=a.m_pServer;c["m_pID"]=b;c["Merge"](c)};var MiaokitMerge=function(d){var e=[];d["Merge"]=d["Merge"]||function(f){for(var g=0,h=e;g<h.length;g++){var i=h[g];var j=i(f);if(j){for(var k=0,l=j;k<l.length;k++){var m=l[k];f[m._name]=m}}}};return function(n){e.push(n)}}(MiaokitModule.prototype);MiaokitMerge(function(o){var p=undefined;var q=undefined;var r={};var s=function(v,w){if(w===void 0){w=undefined}var x=0;this.length=v(-1);this[Symbol.iterator]=function(){return{next:function(){var y=v(x);if(y){var z=p(y);x=w?x+1:z.m_nObject;return{value:z,done:false}}return{value:undefined,done:true}}}}};var t={AddShader:function(A,B,C,D){var E=this.m_pShader[A];if(E){return}var F=this.m_pShaderLut.length;E={m_nID:F,m_nType:"VS"===B?1:2,m_pName:A,m_pSrc:C};this.m_pShader[A]=E;this.m_pShaderLut.push(E);if(D){var G=this.m_pTextEncoder.encode(E["m_pSrc"]);var H=o["WASM"]["Malloc"](G.byteLength);o["WASM"].HEAPU8(H,G.byteLength).set(G);D(0,F,E["m_nType"],H,G.byteLength)}return F},AddProgram:function(I,J,K,L){var M=this.m_pProgram[I];if(M){return}var N=this.m_pProgramLut.length;var O=this.m_pShader[J];var P=this.m_pShader[K];if(!O||!P){return}M={m_nID:N,m_pName:I,m_nVSID:O["m_nID"],m_nPSID:P["m_nID"]};this.m_pProgram[I]=M;this.m_pProgramLut.push(M);if(L){L(0,N,M["m_nVSID"],M["m_nPSID"])}return N},m_pShader:{},m_pProgram:{},m_pShaderLut:[],m_pProgramLut:[],m_pTextEncoder:new TextEncoder};r["Transform"]=function(Q){Object.defineProperty(Q,"position",{get:function(){var R=this["_GetPosition"]()/4;var S=o["WASM"].HEAPF32();return{x:S[R],y:S[R+1],z:S[R+2]}},set:function(T){this["_SetPosition"](T.x,T.y,T.z)}});Object.defineProperty(Q,"euler",{get:function(){var U=this["_GetEuler"]()/4;var V=o["WASM"].HEAPF32();return{x:V[U],y:V[U+1],z:V[U+2]}},set:function(W){this["_SetEuler"](W.x,W.y,W.z)}});Object.defineProperty(Q,"rotation",{get:function(){var X=this["_GetRotation"]()/4;var Y=o["WASM"].HEAPF32();return{x:Y[X],y:Y[X+1],z:Y[X+2],w:Y[X+3]}},set:function(Z){this["_SetRotation"](Z.x,Z.y,Z.z,Z.w)}});Object.defineProperty(Q,"scale",{get:function(){var $=this["_GetScale"]()/4;var _=o["WASM"].HEAPF32();return{x:_[$],y:_[$+1],z:_[$+2]}},set:function(aa){this["_SetScale"](aa.x,aa.y,aa.z)}});Object.defineProperty(Q,"localPosition",{get:function(){var ba=this["_GetLocalPosition"]()/4;var ca=o["WASM"].HEAPF32();return{x:ca[ba],y:ca[ba+1],z:ca[ba+2]}},set:function(da){this["_SetLocalPosition"](da.x,da.y,da.z)}});Object.defineProperty(Q,"localEuler",{get:function(){var ea=this["_GetLocalEuler"]()/4;var fa=o["WASM"].HEAPF32();return{x:fa[ea],y:fa[ea+1],z:fa[ea+2]}},set:function(ga){this["_SetLocalEuler"](ga.x,ga.y,ga.z)}});Object.defineProperty(Q,"localRotation",{get:function(){var ha=this["_GetLocalRotation"]()/4;var ia=o["WASM"].HEAPF32();return{x:ia[ha],y:ia[ha+1],z:ia[ha+2],w:ia[ha+3]}},set:function(ja){this["_SetLocalRotation"](ja.x,ja.y,ja.z,ja.w)}});Object.defineProperty(Q,"localScale",{get:function(){var ka=this["_GetLocalScale"]()/4;var la=o["WASM"].HEAPF32();return{x:la[ka],y:la[ka+1],z:la[ka+2]}},set:function(ma){this["_SetLocalScale"](ma.x,ma.y,ma.z)}});Object.defineProperty(Q,"right",{get:function(){var na=this["_GetRight"]()/4;var oa=o["WASM"].HEAPF32();return{x:oa[na],y:oa[na+1],z:oa[na+2]}},set:function(pa){this["_SetRight"](pa.x,pa.y,pa.z)}});Object.defineProperty(Q,"up",{get:function(){var qa=this["_GetUp"]()/4;var ra=o["WASM"].HEAPF32();return{x:ra[qa],y:ra[qa+1],z:ra[qa+2]}},set:function(){var sa=this["_SetUp"]()/4;var ta=o["WASM"].HEAPF32();return{x:ta[sa],y:ta[sa+1],z:ta[sa+2]}}});Object.defineProperty(Q,"forward",{get:function(){var ua=this["_GetForward"]()/4;var va=o["WASM"].HEAPF32();return{x:va[ua],y:va[ua+1],z:va[ua+2]}},set:function(){var wa=this["_SetForward"]()/4;var xa=o["WASM"].HEAPF32();return{x:xa[wa],y:xa[wa+1],z:xa[wa+2]}}});Q["Rotate"]=function(ya,za){this["_Rotate"](ya.x,ya.y,ya.z,za)};Q["Rotate2"]=function(Aa,Ba,Ca){this["_Rotate2"](Aa.x,Aa.y,Aa.z,Ba,Ca)};Q["Translate"]=function(Da,Ea){this["_Translate"](Da.x,Da.y,Da.z,Ea)};Q["TransformPoint"]=function(Fa){var Ga=this["_TransformPoint"](Fa.x,Fa.y,Fa.z)/4;var Ha=o["WASM"].HEAPF32();return{x:Ha[Ga],y:Ha[Ga+1],z:Ha[Ga+2]}}};r["GameObject"]=function(Ia){Object.defineProperty(Ia,"name",{get:function(){if(!this._name){var Ja=this._GetName(0);var Ka=this._GetName(1);this._name=o["WASM"].GetString(Ka,Ja)}return this._name}});Object.defineProperty(Ia,"transform",{get:function(){return p(this["_GetTransform"]())}});Object.defineProperty(Ia,"mesh",{get:function(){return p(this["_GetMesh"]())},set:function(La){this["_SetMesh"](La.m_nObject)}});Object.defineProperty(Ia,"children",{get:function(){var Ma=this;return new s(function(Na){return Ma._IterChild(Na)},true)}});Object.defineProperty(Ia,"parent",{get:function(){return p(this["_GetParent"]())}});Object.defineProperty(Ia,"data",{get:function(){return p(this["_GetUserData"]())},set:function(Oa){}});Object.defineProperty(Ia,"enableCollider",{set:function(Pa){this["_EnableCollider"](Pa)}});Object.defineProperty(Ia,"active",{set:function(Qa){this["_Active"](Qa)}});Object.defineProperty(Ia,"highlight",{set:function(Ra){this["_Highlight"](Ra)}});Ia["Destory"]=function(){this["_Destory"]()};o["GameObject"]=function(){return p(Ia._GameObject())}};r["Miaokit"]=function(Sa){Sa["LoadTile"]=function(Ta){var Ua=this["_Malloc"](Ta.byteLength);if(Ua){o["WASM"]["HEAPU8"](Ua,Ta.byteLength).set(new Uint8Array(Ta));var Va=this["_LoadTile"](Ua,Ta.byteLength);var Wa=p(Va);return Wa}return null};Sa["Analyze"]=function(Xa){var Ya=this["_Analyze"]();var Za=o["WASM"].HEAP32()[Ya/4];var $a=o["WASM"].GetString(Ya+4,Za);try{var _a=JSON.parse($a);var ab=q(Xa).concat(_a);return ab}catch(bb){console.log($a)}return null};Sa["PickEntity"]=function(cb){return p(this["_PickEntity"](cb))};Sa["GetScene"]=function(db){return p(this["_GetScene"](db))};Sa["WorldToScreenPoint"]=function(eb){var fb=this["_WorldToScreenPoint"](eb.x,eb.y,eb.z)/4;var gb=o["WASM"].HEAPF32();return{x:gb[fb],y:gb[fb+1],z:gb[fb+2]}};Sa["ScreenPointToRay"]=function(hb){var ib=this["_ScreenPointToRay"](hb.x,hb.y,hb.z)/4;var jb=o["WASM"].HEAPF32();return{m_mOrigin:{x:jb[ib],y:jb[ib+1],z:jb[ib+2]},m_mDirection:{x:jb[ib+4],y:jb[ib+5],z:jb[ib+6]}}};Object.defineProperty(Sa,"camera",{get:function(){return p(this["_GetCamera"]())}});Object.defineProperty(Sa,"gis",{get:function(){if(!this._gis){this._gis=r["Gis"]["g_pIns"]}return this._gis}});Object.defineProperty(Sa,"progress",{get:function(){return this["_GetProgress"]()}})};r["Mesh"]=function(kb){kb["SetVertices"]=function(lb,mb){this["m_aVertex"]=this["m_aVertex"]||[];this["m_aVertex"].push({m_pArray:mb,m_nSlot:this["_SlotLut"][lb],m_nItemSize:this["_SizeLut"][lb]})};kb["SetIndices"]=function(nb,ob,pb){this["m_aIndex"]=this["m_aIndex"]||[];this["m_aIndex"][nb]={m_pArray:ob,m_nItemSize:pb}};kb["Apply"]=function(){var qb=this["m_aVertex"];var rb=this["m_aIndex"];if(!qb||!rb){return}var sb=2+2*qb.length+3*rb.length;var tb=this._CreateBuffer(sb);var ub=o["WASM"]["HEAP32"](tb,sb*4);var vb=0;ub[vb++]=qb.length;ub[vb++]=rb.length;for(var wb=0;wb<qb.length;wb++){ub[vb++]=qb[wb].m_nSlot;ub[vb++]=qb[wb].m_pArray.length/qb[wb].m_nItemSize}for(var wb=0;wb<rb.length;wb++){ub[vb++]=0;ub[vb++]=0;ub[vb++]=rb[wb].m_pArray.length}this._CreateBuffer(0);for(var wb=0;wb<qb.length;wb++){var xb=qb[wb].m_pArray;var yb=this._GetVertexBuffer(wb);var zb=o["WASM"]["HEAPF32"](yb,xb.length*4);zb.set(xb)}for(var wb=0;wb<rb.length;wb++){var xb=rb[wb].m_pArray;var yb=this._GetIndexBuffer(wb);var zb=o["WASM"]["HEAP32"](yb,xb.length*4);zb.set(xb)}this._Apply();this["m_aVertex"]=undefined;this["m_aIndex"]=undefined};kb["_SlotLut"]={position:0,normal:1,uv:2,color:3,tangent:4,uv2:9,uv3:10,uv4:11,uv5:12,uv6:13,uv7:14,uv8:15};kb["_SizeLut"]={position:3,normal:3,uv:2,color:4,tangent:4,uv2:2,uv3:2,uv4:2,uv5:2,uv6:2,uv7:2,uv8:2};Object.defineProperty(kb,"position",{set:function(Ab){this.SetVertices("position",Ab)}});Object.defineProperty(kb,"normal",{set:function(Bb){this.SetVertices("normal",Bb)}});Object.defineProperty(kb,"uv",{set:function(Cb){this.SetVertices("uv",Cb)}});Object.defineProperty(kb,"triangles",{set:function(Db){this.SetIndices(0,Db)}});Object.defineProperty(kb,"material",{set:function(Eb){this.SetMaterial(0,Eb)}});o["Mesh"]=function(){return p(kb._Mesh())}};r["Texture2D"]=function(Fb){Fb["SetImageData"]=function(Gb){var Hb=this._CreateBuffer(Gb.byteLength);if(Hb){o["WASM"]["HEAPU8"](Hb,Gb.byteLength).set(new Uint8Array(Gb));this._Apply()}};Fb["Load"]=function(Ib){var Jb=this;o["Fetch"](Ib,function(Kb){if(Kb){Jb.SetImageData(Kb)}})};o["Texture2D"]=function(Lb){var Mb=p(Fb._Texture2D());if(Lb){if("string"===typeof Lb){this.Load(Lb)}else{this.SetImageData(Lb)}}return Mb}};r["Material"]=function(Nb){Nb["GetTexture"]=function(){return p(this["_GetTexture"]())};Nb["SetTexture"]=function(Ob){this["_SetTexture"](Ob.m_nObject)};if(true){Nb["Bind"]=function(){if(!this._shader){console.error("material.shader is null!");return}this._shader.bind(this)};Object.defineProperty(Nb,"shader",{get:function(){return this._shader},set:function(Pb){if(Pb){var Qb=o["ShaderLab"].GetShader(Pb);if(Qb){var Rb=this._shader?this._shader.data:{};var Sb=new Qb.uniforms_class(Rb);this._shader=Qb;this.uniforms=Sb}}}})}o["Material"]=function(Tb){if(Tb===void 0){Tb=undefined}var Ub=null;if(Tb){var Vb=o["ShaderLab"]["Pipeline"]["InternalShader"];var Wb=Vb[0];Vb[0]=Tb;Ub=p(Nb._Material());Vb[0]=Wb}else{Ub=p(Nb._Material())}return Ub}};r["Tile"]=function(Xb){Object.defineProperty(Xb,"scenes",{get:function(){var Yb=this;return new s(function(Zb){return Yb._IterWork(Zb)})}})};r["Scene"]=function($b){$b["GetLayer"]=function(_b){return p(this["_GetLayer"](_b))};Object.defineProperty($b,"id",{get:function(){if(!this._id){var ac=this._GetID(0);var bc=this._GetID(1);this._id=o["WASM"].GetString(bc,ac)}return this._id}});Object.defineProperty($b,"layers",{get:function(){var cc=this;return new s(function(dc){return cc._IterLayer(dc)})}});Object.defineProperty($b,"object3D",{get:function(){if(undefined===this._object3D){var ec=this._GetObject(this.m_nObject);if(0===ec){this._object3D=null;return null}this._object3D=p(ec)}return this._object3D}});Object.defineProperty($b,"viewState",{get:function(){return{m_mTarget:{x:0,y:0,z:0},m_nPitch:45,m_nYaw:0,m_nDistance:60,m_mOrthoTarget:{x:0,y:0,z:0},m_nOrthoScaled:0,m_nOrthoRotate:0}}});Object.defineProperty($b,"binding",{get:function(){return p(this._GetBinding())}})};r["Layer"]=function(fc){Object.defineProperty(fc,"id",{get:function(){if(!this._id){var gc=this._GetID(0);var hc=this._GetID(1);this._id=o["WASM"].GetString(hc,gc)}return this._id}});Object.defineProperty(fc,"sites",{get:function(){var ic=this;return new s(function(jc){return ic._IterSite(jc)})}});Object.defineProperty(fc,"object3D",{get:function(){if(undefined===this._object3D){var kc=this._GetObject(this.m_nObject);if(0===kc){this._object3D=null;return null}this._object3D=p(kc)}return this._object3D}});Object.defineProperty(fc,"viewState",{get:function(){var lc=this["_GetViewState"]();if(0<lc){var mc=o["WASM"]["HEAPF32"](lc,4*11);var nc=0;return{m_mTarget:{x:mc[nc++],y:mc[nc++],z:mc[nc++]},m_nPitch:mc[nc++],m_nYaw:mc[nc++],m_nDistance:mc[nc++],m_mOrthoTarget:{x:mc[nc++],y:mc[nc++],z:mc[nc++]},m_nOrthoScaled:mc[nc++],m_nOrthoRotate:mc[nc++]}}return null}})};r["Attachment"]=function(oc){Object.defineProperty(oc,"entityType",{get:function(){return this._GetEntityType()}});Object.defineProperty(oc,"secondType",{get:function(){return this._GetSecondType()}});Object.defineProperty(oc,"flag",{get:function(){return this._GetFlag()}});Object.defineProperty(oc,"object3D",{get:function(){return p(this._GetObject())}});Object.defineProperty(oc,"viewState",{get:function(){var pc=this["_GetViewState"]();if(0<pc){var qc=o["WASM"]["HEAPF32"](pc,4*11);var rc=0;var sc={m_mTarget:{x:qc[rc++],y:qc[rc++],z:qc[rc++]},m_nPitch:qc[rc++],m_nYaw:qc[rc++],m_nDistance:qc[rc++],m_mOrthoTarget:{x:qc[rc++],y:qc[rc++],z:qc[rc++]},m_nOrthoScaled:qc[rc++],m_nOrthoRotate:qc[rc++]};console.log("attachment view:",sc);return sc}else{console.log("attachment view: null")}return null}})};r["Site"]=function(tc){Object.defineProperty(tc,"id",{get:function(){if(!this._id){var uc=this._GetID(0);var vc=this._GetID(1);this._id=o["WASM"].GetString(vc,uc)}return this._id}});Object.defineProperty(tc,"layer",{get:function(){return p(this["_Layer"]())}});Object.defineProperty(tc,"scene",{get:function(){return p(this["_Scene"]())}});Object.defineProperty(tc,"type",{get:function(){return this["_Type"]()}});Object.defineProperty(tc,"number",{get:function(){return this["_Number"]()}});Object.defineProperty(tc,"position",{get:function(){var wc=this["_Position"]()/4;var xc=o["WASM"].HEAPF32();return{x:xc[wc],y:xc[wc+1],z:xc[wc+2]}}})};r["Prefab"]=function(yc){yc["Instantiate"]=function(){return p(this["_Instantiate"]())};o["LoadPrefab"]=function(zc,Ac){o["Fetch"](zc,function(Bc){var Cc=null;if(Bc){var Dc=yc._Prefab();var Ec=p(Dc);var Fc=Ec.CreateBuffer(Bc.byteLength);if(Fc){o["WASM"]["HEAPU8"](Fc,Bc.byteLength).set(new Uint8Array(Bc));Ec.Apply();Cc=Ec}}Ac(Cc)})}};r["Gis"]=function(Gc){Gc["Update"]=function(Hc,Ic,Jc){return this["_Update"](Hc,Ic,Jc)};Gc["AddSvetile"]=function(Kc){var Lc=o["WASM"]["EncodeString"](Kc.m_pUrl);var Mc=this["_CreateSvetileDesc"](Lc.byteLength);var Nc=o["WASM"]["HEAPU32"](Mc,4*8);Nc[0]=Kc.m_nID;Nc[1]=Kc.m_nFlags;o["WASM"]["HEAPU8"](Nc[2],Lc.byteLength).set(Lc,0);Nc[3]=0;Nc[4]=o["WASM"]["RegisterDelegate"](function(Pc,Qc){Kc.OnActive(p(Pc),0<Qc)});var Oc=o["WASM"]["HEAPF32"](Mc+20,16);Oc[0]=Kc.m_mLngLat.x;Oc[1]=Kc.m_mLngLat.y;Oc[2]=Kc.m_mSize.x;Oc[3]=Kc.m_mSize.y;this["_AddSvetile"](Mc)};Gc["AddMapbox"]=function(Rc){var Sc=this["_GetMapboxDesc"]();var Tc=o["WASM"]["HEAPF32"](Sc,40);Tc[0]=Rc.m_mOffset.x;Tc[1]=Rc.m_mOffset.y;Tc[2]=Rc.m_mOffset.z;Tc[3]=Rc.m_mScale.x;Tc[4]=Rc.m_mScale.y;Tc[5]=Rc.m_mScale.z;Tc[6]=Rc.m_mLngLat.x;Tc[7]=Rc.m_mLngLat.y;Tc[8]=Rc.m_mSize.x;Tc[9]=Rc.m_mSize.y;this["_AddMapbox"](Sc)};Gc["AddGameObject"]=function(Uc,Vc,Wc){this["_AddGameObject"](Uc.m_nObject,Vc,Wc)};Object.defineProperty(Gc,"imageServer",{set:function(Xc){if(!Xc){Xc="http://t%d.tianditu.gov.cn/DataServer?T=vec_c&tk=fb14b0853d59b619e18c259898bd0d4d&x=%d&y=%d&l=%d"}var Yc=this["_GetServer"](0);o["WASM"].SetString(Yc,Xc)}});Object.defineProperty(Gc,"terrainServer",{set:function(Zc){if(!Zc){Zc="https://t%d.tianditu.gov.cn/dem_sjk/DataServer?T=ele_c&tk=fb14b0853d59b619e18c259898bd0d4d&x=%d&y=%d&l=%d"}var $c=this["_GetServer"](1);o["WASM"].SetString($c,Zc)}})};r["Dioramas3MX"]=function(_c){_c["_Load3MX"]=function(ad,bd,cd){var dd=this;var ed=dd.m_pFileLut[ad];var fd=ed.m_pPath+ed.m_aFile[bd];o["Request"]("GET","arraybuffer",fd,null,null,function(gd){if(!gd){return}var hd=new Uint32Array(gd,0,2);if(1113083187===hd[0]){var id=hd[1]>>8;var jd=9+id;var kd=gd.byteLength-jd;var ld=new Uint8Array(gd,9,id);var md=dd.m_pTextDecoder.decode(ld);var nd=JSON.parse(md);var od={m_pPath:fd.substring(0,fd.lastIndexOf("/")+1),m_aFile:[]};var pd=[];var qd=[];var rd=nd.resources;var sd=0;for(var td=0;td<rd.length;td++){pd.push(td);if("textureBuffer"===rd[td].type){pd.push(0);qd.push(td);if("jpg"===rd[td].format){pd.push(0)}else if("png"===rd[td].format){pd.push(1)}else{pd.push(1e4)}}else if("geometryBuffer"===rd[td].type){pd.push(1);if("ctm"===rd[td].format){pd.push(0)}else{pd.push(1e4)}}else{pd.push(1e4);pd.push(1e4)}pd.push(rd[td].size);pd.push(sd);sd+=rd[td].size;pd.push(1e4);if(rd[td].texture){for(var ud=0;ud<rd.length;ud++){if(rd[td].texture===rd[ud].id){pd[pd.length-1]=ud;break}}}}var vd=[];var wd=nd.nodes;for(var td=0;td<wd.length;td++){var xd=wd[td];var yd=xd.bbMax[0]-xd.bbMin[0];var zd=xd.bbMax[1]-xd.bbMin[1];var Ad=xd.bbMax[2]-xd.bbMin[2];var Bd=Math.sqrt(yd*yd+zd*zd+Ad*Ad);vd.push(Math.floor(parseInt(xd.bbMin[0]+xd.bbMax[0])*.5*100));vd.push(Math.floor(parseInt(xd.bbMin[1]+xd.bbMax[1])*.5*100));vd.push(Math.floor(parseInt(xd.bbMin[2]+xd.bbMax[2])*.5*100));vd.push(Math.floor(Bd*100));vd.push(Math.floor(xd.maxScreenDiameter));var Cd=xd.children?xd.children.length:0;if(0<Cd){vd.push(od.m_aFile.length);for(var ud=0;ud<Cd;ud++){od.m_aFile.push(xd.children[ud])}vd.push(od.m_aFile.length)}else{vd.push(-1);vd.push(-1)}var Dd=xd.resources?xd.resources.length:0;if(0<Dd){vd.push(qd.length);for(var ud=0;ud<Dd;ud++){for(var Ed=0;Ed<rd.length;Ed++){if(xd.resources[ud]===rd[Ed].id){qd.push(Ed);break}}}vd.push(qd.length)}else{vd.push(-1);vd.push(-1)}}var Fd=4+9*wd.length+6*qd.length;var Gd=4*Fd;var Hd=Gd+kd;var Id=dd["_CreateBuffer"](Hd);if(Id){var Jd=o["WASM"]["HEAP32"](Id,Gd);Jd[0]=Gd;Jd[1]=wd.length;Jd[2]=qd.length;Jd[3]=dd.m_pFileLut.length;Jd.set(vd,4);var Kd=4+vd.length;for(var td=0;td<qd.length;td++){var Ld=6*qd[td];for(var ud=0;ud<6;ud++){Jd[Kd++]=pd[Ld++]}}var Md=o["WASM"]["HEAPU8"](Id+Gd,kd);Md.set(new Uint8Array(gd,jd,kd));dd["_Dispose"](cd)}dd.m_pFileLut.push(od)}})};_c["Update"]=function(){return this["_Update"]()};Object.defineProperty(_c,"object3D",{get:function(){return p(this["_GetObject"]())}});o["Dioramas3MX"]=function(Nd,Od){var Pd=p(_c._Dioramas3MX());Pd.m_pFileLut=[];Pd.m_pTextDecoder=new TextDecoder("utf-8");if(Od){if(Od.m_pGis){Od.m_pGis.AddGameObject(Pd.object3D,Od.m_mLngLat.x,Od.m_mLngLat.y);Pd.object3D.transform.Translate(Od.m_mOffset,1);Pd.object3D.transform.Rotate({x:0,y:0,z:0},1)}}o["Request"]("GET","json",Nd,null,null,function(Qd){Pd["m_pMeta"]=Qd;var Rd={m_pPath:Nd.substring(0,Nd.lastIndexOf("/")+1),m_aFile:[]};var Sd=[0];for(var Td=0;Td<Qd.layers.length;Td++){if("meshPyramid"===Qd.layers[Td].type){Sd.push(Td);Sd.push(Rd.m_aFile.length);Rd.m_aFile.push(Qd.layers[Td].root)}}Sd[0]=Rd.m_aFile.length;var Ud=Pd["_CreateBuffer"](4*Sd.length);var Vd=o["WASM"]["HEAP32"](Ud,4*Sd.length);Vd.set(Sd);Pd["_Initialize"](Ud);Pd.m_pFileLut.push(Rd)});return Pd}};function u(Wd,Xd,Yd){p=Xd;q=Yd;for(var Zd=0,$d=Wd;Zd<$d.length;Zd++){var _d=$d[Zd];if(_d){var ae=_d.prototype;if(r[ae._type_name]){r[ae._type_name](ae)}if("Miaokit"===ae._type_name){o["Miaokit"]=new _d(0,0)}else if("Gis"===ae._type_name){r["Gis"]["g_pIns"]=new _d(0,0)}}}}o["WASM"]=o["WASM"]||{};o["WASM"]["LoadClass"]=u;return[]});MiaokitMerge(function(be){be["m_pLogo"]=null;be["m_pEngine"]=be["m_pEngine"]||"Unity";be["m_pEnginePath"]=be["m_pEnginePath"]||"js/Miaokit/MiaokitU3D/Build/MiaokitU3D.json";be["m_pModulePath"]=be["m_pModulePath"]||"./js/Miaokit/Miaokit.wasm";be["m_pServer"]=be["m_pServer"]||"http://sve.yongtoc.com/";be["m_aTiles"]=[];var ce=be["m_pEngine"];var de=be["m_pEnginePath"];var ee=be["m_pModulePath"];var fe=be["m_pServer"];var ge=be["m_aTiles"];var he=undefined;var ie=false;function je(){be["Track"]("Preload");be["Fetch"](ee,function(oe){if(he){he(oe)}else{he=oe}});var me=function(pe){var qe=ge[pe];be["Fetch"](qe.m_pPath,function(re){qe["m_pData"]=re;qe["m_pTile"]=null;if(ge["m_pLoader"]){ge["m_pLoader"](qe)}})};for(var ne=0;ne<ge.length;ne++){me(ne)}}function ke(se,te){be["Track"]("LoadEngine");be["WASM"]["LoadEngine"]({OnEngineLoad:function(ue){be["Track"]("LoadEngine End");if(he){be["Track"]("LoadMiaokit");be["WASM"]["LoadMiaokit"](he,ue,function(){le(function(){se();ie=true})})}else{be["Track"]("LoadMiaokit Delay");he=function(ve){be["Track"]("LoadMiaokit");be["WASM"]["LoadMiaokit"](ve,ue,function(){le(function(){se();ie=true})})}}},OnRenderingEvent:function(we){if(ie){te(we)}}})}function le(xe){be["Track"]("LoadMiaokit End");var ye=ge.length;if(0==ye){xe()}ge["m_pLoader"]=function(Be){Be["m_pTile"]=be["Miaokit"]["LoadTile"](Be["m_pData"]);Be["m_pData"]=null;if(Be["Active"]){Be["Active"]()}if(0===--ye){xe()}};for(var ze=0;ze<ge.length;ze++){var Ae=ge[ze];if(Ae["m_pData"]){ge["m_pLoader"](Ae)}}}je["_name"]="Preload";ke["_name"]="Load";return[je,ke]});MiaokitMerge(function(Ce){var De=function(){function Fe(){}Fe.Clamp=function(Ge,He,Ie){if(Ge>Ie){return Ie}if(Ge<He){return He}return Ge};return Fe}();var Ee=function(){function Je(Ke,Le,Me){this.x=0;this.y=0;this.z=0;this.x=Ke;this.y=Le;this.z=Me}Je.Scale=function(Ne,Oe){return{x:Oe.x*Ne,y:Oe.y*Ne,z:Oe.z*Ne}};return Je}();De["_name"]="Mathf";Ee["_name"]="Vector3";return[De,Ee]});MiaokitMerge(function(Pe){var Qe=null;var Re=null;var Se=null;var Te=[null];var Ue=[null];var Ve=[null];var We=1;var Xe=0;var Ye=[undefined];var Ze=null;function $e(kf){kf["isnanf"]=isNaN;kf["isinff"]=isFinite;kf["powf"]=Math.pow;kf["sqrtf"]=Math.sqrt;kf["expf"]=Math.exp;kf["logf"]=Math.log;kf["floorf"]=Math.floor;kf["ceilf"]=Math.ceil;kf["sinf"]=Math.sin;kf["cosf"]=Math.cos;kf["tanf"]=Math.tan;kf["asinf"]=Math.asin;kf["acosf"]=Math.acos;kf["atanf"]=Math.atan;kf["atan2f"]=Math.atan2;kf["ldexpf"]=function(lf,mf){return lf*Math.pow(2,mf)}}function _e(nf){var of=Pe["GL"];nf["glTexImage2DExt"]=function(pf,qf){var rf=Ue[qf];if(rf){of.Ctx.texImage2D(pf,0,of.Ctx.RGB,of.Ctx.RGB,of.Ctx.UNSIGNED_BYTE,rf);Ue[qf]=null}};nf["glCreateShader"]=of._glCreateShader;nf["glDeleteShader"]=of._glDeleteShader;nf["glShaderSource"]=of._glShaderSource;nf["glCompileShader"]=of._glCompileShader;nf["glGetShaderiv"]=of._glGetShaderiv;nf["glGetShaderInfoLog"]=of._glGetShaderInfoLog;nf["glCreateProgram"]=of._glCreateProgram;nf["glDeleteProgram"]=of._glDeleteProgram;nf["glAttachShader"]=of._glAttachShader;nf["glLinkProgram"]=of._glLinkProgram;nf["glUseProgram"]=of._glUseProgram;nf["glGetProgramiv"]=of._glGetProgramiv;nf["glGetProgramInfoLog"]=of._glGetProgramInfoLog;nf["glBindAttribLocation"]=of._glBindAttribLocation;nf["glGenVertexArrays"]=of._glGenVertexArrays;nf["glDeleteVertexArrays"]=of._glDeleteVertexArrays;nf["glBindVertexArray"]=of._glBindVertexArray;nf["glVertexAttribPointer"]=of._glVertexAttribPointer;nf["glEnableVertexAttribArray"]=of._glEnableVertexAttribArray;nf["glGetActiveUniform"]=of._glGetActiveUniform;nf["glGetUniformLocation"]=of._glGetUniformLocation;nf["glUniform1i"]=of._glUniform1i;nf["glUniform1fv"]=of._glUniform1fv;nf["glUniform2fv"]=of._glUniform2fv;nf["glUniform3fv"]=of._glUniform3fv;nf["glUniform4fv"]=of._glUniform4fv;nf["glUniform1iv"]=of._glUniform1iv;nf["glUniform2iv"]=of._glUniform2iv;nf["glUniform3iv"]=of._glUniform3iv;nf["glUniform4iv"]=of._glUniform4iv;nf["glUniformMatrix3fv"]=of._glUniformMatrix3fv;nf["glUniformMatrix4fv"]=of._glUniformMatrix4fv;nf["glGenTextures"]=of._glGenTextures;nf["glDeleteTextures"]=of._glDeleteTextures;nf["glActiveTexture"]=of._glActiveTexture;nf["glBindTexture"]=of._glBindTexture;nf["glTexStorage2D"]=of._glTexStorage2D;nf["glTexParameteri"]=of._glTexParameteri;nf["glTexImage2D"]=of._glTexImage2D;nf["glGenerateMipmap"]=of._glGenerateMipmap;nf["glGenBuffers"]=of._glGenBuffers;nf["glDeleteBuffers"]=of._glDeleteBuffers;nf["glBindBuffer"]=of._glBindBuffer;nf["glBufferData"]=of._glBufferData;nf["glMapBufferRange"]=of._glMapBufferRange;nf["glUnmapBuffer"]=of._glUnmapBuffer;nf["glGenFramebuffers"]=of._glGenFramebuffers;nf["glDeleteFramebuffers"]=of._glDeleteFramebuffers;nf["glBindFramebuffer"]=of._glBindFramebuffer;nf["glFramebufferTexture2D"]=of._glFramebufferTexture2D;nf["glCheckFramebufferStatus"]=of._glCheckFramebufferStatus;nf["glClearColor"]=of._glClearColor;nf["glClear"]=of._glClear;nf["glBlendFuncSeparate"]=of._glBlendFuncSeparate;nf["glBlendEquationSeparate"]=of._glBlendEquationSeparate;nf["glEnable"]=of._glEnable;nf["glDisable"]=of._glDisable;nf["glDepthFunc"]=of._glDepthFunc;nf["glDepthMask"]=of._glDepthMask;nf["glClearDepthf"]=of._glClearDepthf;nf["glClearStencil"]=of._glClearStencil;nf["glCullFace"]=of._glCullFace;nf["glPolygonOffset"]=of._glPolygonOffset;nf["glViewport"]=of._glViewport;nf["glDrawArrays"]=of._glDrawArrays;nf["glDrawArraysInstanced"]=of._glDrawArraysInstanced;nf["glDrawElements"]=of._glDrawElements;nf["glDrawElementsInstanced"]=of._glDrawElementsInstanced;nf["glFlush"]=of._glFlush;nf["glFinish"]=of._glFinish}function af(sf){function tf(Cf){var Df=Pe["WASM"].GetString(Cf);if(!Df.startsWith("http")){Df=Pe["m_pServer"]+Df}if(Df.endsWith("assetbundle")){Df+=".bin"}return Df}function uf(Ef,Ff,Gf,Hf){var If=tf(Ef);var Jf=Qe.get(Gf);var Kf=Qe.get(Hf);Pe["Fetch"](If,function(Lf){if(Lf){var Mf=Jf(Ff,Lf.byteLength);if(Mf){Pe["WASM"]["HEAPU8"](Mf,Lf.byteLength).set(new Uint8Array(Lf))}}else{console.error("资源丢失:",If)}Kf(Ff)})}function vf(Nf,Of,Pf){var Qf=tf(Nf);var Rf=Qe.get(Pf);var Sf=new Image;Sf.crossOrigin="anonymous";Sf.src=Qf;Sf.onload=function(Tf){Rf(Of,Ue.push(Sf)-1)}}function wf(Uf,Vf,Wf,Xf){uf(Uf,Vf,Wf,Xf)}function xf(Yf,Zf,$f,_f){Ze["LoadTerrain"](Yf,Zf,$f,_f)}function yf(ag,bg,cg,dg){var eg=Pe["WASM"]["HEAP32"](ag,16);Ze["LoadBlockbox"](bg,eg[0],eg[1],eg[2],eg[3],cg,dg)}function zf(fg,gg){var hg=Pe["WASM"]["HEAP32"](fg,12);var ig=df(hg[0]);if(ig){ig["_Load3MX"](hg[1],hg[2],gg)}}function Af(jg,kg,lg,mg){uf(jg,kg,lg,mg)}var Bf=[undefined,uf,vf,wf,xf,yf,zf,Af];sf["APP_LOAD"]=function(ng,og,pg,qg,rg){Bf[ng](og,pg,qg,rg)}}function bf(sg){var tg={NaN:NaN,Infinity:Infinity};$e(sg);_e(sg);af(sg);sg["APP_DYNAMIC_LINK"]=function(ug,vg){var wg=Pe["WASM"]["HEAPU32"](ug,vg);var xg=wg[0];var yg=wg[1];for(var zg=0;zg<xg;zg++){var Ag=wg[2+zg]-1;var Bg=wg[yg++];var Cg=wg[yg++];var Dg=Pe["WASM"].GetString(Bg,Cg);var Eg=JSON.parse(Dg);var Fg=function(Jg,Kg){this["m_nID"]=Jg;this["m_nObject"]=Kg};var Gg=Fg.prototype;Gg["_type_name"]=Eg[0];Gg["_type_id"]=zg+1;Gg["_ins_count"]=0;Ye[zg+1]=Fg;var Hg=function(Lg){var Mg=Qe.get(wg[yg++]);yg++;var Ng=function(){var Og=Array.prototype.slice.call(arguments);Og.unshift(this.m_nObject);return Mg.apply(this,Og)};if(0===Lg){Gg["_"+Eg[Lg]]=Ng}else{Gg[Eg[Lg]]=Ng}};for(var Ig=0;Ig<Ag;Ig++){Hg(Ig)}}Pe["WASM"]["LoadClass"](Ye,df,gf);Pe["Miaokit"]["ResizeCavans"]=function(Pg,Qg){if(Se.SE_RESIZE){Se.SE_RESIZE(Pg,Qg)}}};sg["APP_PRINT"]=function(Rg,Sg,Tg){var Ug=Pe["WASM"].GetString(Rg,Sg);Pe["Track"](Ug,Tg)};sg["APP_DO_ACTION"]=function(Vg,Wg,Xg,Yg){Te[Vg](Wg,Xg,Yg)};sg["APP_CREATE_OBJ"]=function(Zg,$g){if(0<Zg){var _g=ef();var ah=new Ye[Zg](_g,$g);Ve[_g]=ah;Ye[Zg].prototype._ins_count++;return _g}else{if(-21==Zg){var bh=Pe["WASM"]["HEAP32"]($g,16);var ch=bh[0];var dh=bh[1];var eh=bh[2];var fh=bh[3];var gh=Pe["WASM"]["HEAP8"](eh,dh);var hh=new Blob([gh]);var ih=window.URL.createObjectURL(hh);var jh=Qe.get(fh);var kh=new Image;kh.src=ih;kh.onload=function(lh){jh(ch,Ue.push(kh)-1);window.URL.revokeObjectURL(ih)}}}return 0};sg["APP_FREE_OBJ"]=function(mh){var nh=Ve[mh];Ye[nh._type_id].prototype._ins_count--;ff(mh)};sg["APP_DO"]=function(oh,ph,qh,rh){if(31===oh){Pe["ShaderLab"]["Draw"]()}else{var sh=df(ph);if(sh){return Pe["ShaderLab"].SetMaterial(sh,oh,qh,rh)}}return 0};Re=sg["memory"];Pe["WASM"]["m_pMemory"]=Pe["WASM"]["m_pMemory"]||Re;return{env:sg,global:tg}}function cf(th,uh,vh){uh=bf(uh);WebAssembly.instantiate(th,uh).then(function(wh){return wh.instance}).then(function(xh){Se=xh.exports;Qe=Se.__indirect_function_table;Pe["WASM"]["Update"]=xh.exports.SE_UPDATE;Pe["WASM"]["Malloc"]=xh.exports.Malloc;Pe["WASM"]["Free"]=xh.exports.Free;Pe["GL"]["DrawPass"]=xh.exports.SE_DRAW_PASS;Pe["GL"]["GetTextureByID"]=function(yh){var zh=Se.SE_GL_RESOURCE(9,yh);return Pe["GL"]["GetTextureByHandle"](zh)};Pe["Track"]("Start thread");Pe["WASM"]["Worker"]=jf(function(){Pe["Track"]("Start thread succeed")});Se.Start();vh()})}function df(Ah){return Ve[Ah]}function ef(){var Bh=We;if(Ve.length>We){We=Ve[We]}else{We++}Xe++;return Bh}function ff(Ch){Ve[Ch]=We;We=Ch;Xe--}function gf(Dh){var Eh="'系统运行':{";Eh+="'时间':"+(Pe.Time()/1e3).toFixed(0);Eh+=", '帧率':"+Dh;Eh+=", 'WASM内存':"+Pe.WASM.m_pMemory.buffer.byteLength/1024/1024;Eh+="}";var Fh="'JS对象':{";Fh+="'工厂':["+Ve.length+", "+Xe+", "+(Ve.length-Xe)+"]";for(var Gh=1;Gh<Ye.length;Gh++){Fh+=", '"+Ye[Gh].prototype._type_name+"':"+Ye[Gh].prototype._ins_count}Fh+="}";return[Eh,Fh]}function hf(Hh){var Ih=Te.length;Te.push(Hh);return Ih}function jf(Jh){var Kh=Se.UTIL_WORKER_CODE();var Lh=Pe["WASM"]["HEAPU32"](Kh,16);if(false){Ze=new Worker(window.URL.createObjectURL(new Blob([Pe["WASM"]["HEAPU8"](Lh[2],Lh[3])])));var Mh=Pe["WASM"]["HEAPU8"]().slice(Lh[0],Lh[0]+Lh[1]);var Nh=Mh.buffer;Ze.postMessage({m_nID:1,m_aCode:Nh},[Nh])}else{var Oh=Pe["m_pModulePath"].replace(".wasm","");Ze=new Worker(Oh+"Worker.min.js");fetch(Oh+"Worker.wasm").then(function(Ph){return Ph.arrayBuffer()}).then(function(Qh){if(Qh){Ze.postMessage({m_nID:1,m_aCode:Qh},[Qh])}else{console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",Qh)}}).catch(function(Rh){console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",Rh)})}Ze.onmessage=function(Sh){var Th=Sh.data;switch(Th.m_nID){case 1:Jh();Jh=null;break;case 2:Ze["OnLoadTerrain"](Th);break;case 3:Ze["OnLoadBlockbox"](Th);break;default:console.error("子线程消息异常:",Th);break}};Ze["LoadTerrain"]=function(Uh,Vh,Wh,Xh){Ze.postMessage({m_nID:2,m_pPath:Pe["WASM"].GetString(Uh),m_nRequest:Vh,m_nAlloc:Wh,m_nCallback:Xh})};Ze["OnLoadTerrain"]=function(Yh){var Zh=Qe.get(Yh.m_nAlloc);var $h=Qe.get(Yh.m_nCallback);var _h=Yh.m_pData;if(_h){var ai=Zh(Yh.m_nRequest,_h.byteLength);if(ai){Pe["WASM"]["HEAPU8"](ai,_h.byteLength).set(new Uint8Array(_h))}}else{console.warn("Terrain miss:",Yh.m_pPath)}$h(Yh.m_nRequest)};Ze["LoadBlockbox"]=function bi(ci,di,ei,fi,gi,hi,ii){Ze.postMessage({m_nID:3,m_nRequest:ci,m_nCol:di,m_nRow:ei,m_nColOffset:fi,m_nRowOffset:gi,m_nAlloc:hi,m_nCallback:ii})};Ze["OnLoadBlockbox"]=function(ji){var ki=Qe.get(ji.m_nAlloc);var li=Qe.get(ji.m_nCallback);var mi=ji.m_pData;var ni=[0,0,0,0];for(var oi=0;oi<4;oi++){var pi=mi[oi];if(0<pi.m_nVertexCount&&0<pi.m_nSubmeshCount){var qi=new Pe.Mesh;var ri=new Int32Array(pi.m_aIndex);qi.position=new Float32Array(pi.m_aPosition);qi.normal=new Float32Array(pi.m_aNormal);qi.uv=new Float32Array(pi.m_aUV);for(var si=0;si<pi.m_nSubmeshCount;si++){var ti=ri[2*si];var ui=ri[2*si+1];var vi=[];for(var wi=ti;wi<ui;wi++){vi.push(wi)}qi.SetIndices(si,new Int32Array(vi),4)}qi.Apply();ni[oi]=qi.m_nObject}else{ni[oi]=0}}var xi=ki(ji.m_nRequest,16);if(xi){Pe["WASM"]["HEAPU32"](xi,16).set(new Uint32Array(ni));li(ji.m_nRequest)}};return Ze}Pe["WASM"]=Pe["WASM"]||{};Pe["WASM"]["LoadMiaokit"]=cf;Pe["WASM"]["GetObject"]=df;Pe["WASM"]["RegisterDelegate"]=hf;return[]});MiaokitMerge(function(yi){var zi=undefined;var Ai=null;var Bi=1280;var Ci=720;var Di={Format:{RGBA32_FLOAT:function(){return[zi.RGBA,zi.FLOAT]},D16_UNORM:function(){return[zi.DEPTH_COMPONENT,zi.UNSIGNED_SHORT]},D24_UNORM:function(){return[zi.DEPTH_COMPONENT,zi.UNSIGNED_INT]}},DepthTest:{Never:0,Less:1,Equal:2,LessEqual:3,Greater:4,NotEqual:5,GreaterEqual:6,Always:7},BlendOP:{Add:32774,Sub:32778,RevSub:32779,Min:32775,Max:32776},BlendFactor:{Zero:0,One:1,SrcColor:768,InvSrcColor:769,DestColor:774,InvDestColor:775,SrcAlpha:770,InvSrcAlpha:771,DestAlpha:772,InvDestAlpha:773,MinAlpha:776},Mark:{Opaque:1,Transparent:2,Outline:4,CastShadow:8,ReceiveShadow:16}};function Ei(Li){var Mi=zi.createTexture();if(!Mi){console.error("Could not create texture object!");return null}zi.bindTexture(zi.TEXTURE_2D,Mi);zi.texParameteri(zi.TEXTURE_2D,zi.TEXTURE_MIN_FILTER,zi.LINEAR);zi.texParameteri(zi.TEXTURE_2D,zi.TEXTURE_MAG_FILTER,zi.LINEAR);zi.texParameteri(zi.TEXTURE_2D,zi.TEXTURE_WRAP_S,zi.CLAMP_TO_EDGE);zi.texParameteri(zi.TEXTURE_2D,zi.TEXTURE_WRAP_T,zi.CLAMP_TO_EDGE);var Ni=Di.Format[Li]();zi.texImage2D(zi.TEXTURE_2D,0,Ni[0],Bi,Ci,0,Ni[0],Ni[1],null);zi.bindTexture(zi.TEXTURE_2D,null);return Mi}function Fi(Oi,Pi){var Qi=zi.createFramebuffer();if(!Qi){console.error("Could not create framebuffer object!");return null}zi.bindFramebuffer(zi.FRAMEBUFFER,Qi);zi.framebufferTexture2D(zi.FRAMEBUFFER,zi.COLOR_ATTACHMENT0,zi.TEXTURE_2D,Oi,0);zi.framebufferTexture2D(zi.FRAMEBUFFER,zi.DEPTH_ATTACHMENT,zi.TEXTURE_2D,Pi,0);if(zi.FRAMEBUFFER_COMPLETE!=zi.checkFramebufferStatus(zi.FRAMEBUFFER)){zi.deleteFramebuffer(Qi);console.error("Framebuffer check failed!");return null}return Qi}function Gi(Ri){if(!Ri.Enable){return function(){zi.disable(zi.BLEND)}}else{var Si={ColorOP:Di.BlendOP[Ri.ColorOP],AlphaOP:Di.BlendOP[Ri.AlphaOP],ColorSrc:Di.BlendFactor[Ri.ColorSrc],ColorDest:Di.BlendFactor[Ri.ColorDest],AlphaSrc:Di.BlendFactor[Ri.AlphaSrc],AlphaDest:Di.BlendFactor[Ri.AlphaDest]};return function(){zi.enable(zi.BLEND);zi.blendEquationSeparate(Si.ColorOP,Si.AlphaOP);zi.blendFuncSeparate(Si.ColorSrc,Si.ColorDest,Si.AlphaSrc,Si.AlphaDest)}}}function Hi(Ti){if(!Ti.Enable){return function(){zi.disable(zi.DEPTH_TEST)}}else{return function(){zi.enable(zi.DEPTH_TEST);zi.depthMask(Ti.Write);zi.depthFunc(zi.NEVER+Di.DepthTest[Ti.TestOP])}}}function Ii(Ui,Vi){var Wi=zi.createShader(Ui);if(!Wi){console.error("Could not create shader object!");return null}zi.shaderSource(Wi,Vi);zi.compileShader(Wi);if(!zi.getShaderParameter(Wi,zi.COMPILE_STATUS)){var Xi=zi.getShaderInfoLog(Wi);zi.deleteShader(Wi);console.error("Could not compile shader! \n\n"+Xi);return null}return Wi}function Ji(Yi,Zi){var $i=function(ej){this["data"]=ej||{}};Zi=Zi||{};var _i=zi.getProgramParameter(Yi,zi.ACTIVE_UNIFORMS);var aj=1;var bj=[];var cj=function(fj){var gj=zi.getActiveUniform(Yi,fj);var hj=gj.name;var ij=zi.getUniformLocation(Yi,hj);if(zi.FLOAT===gj.type){if(undefined===Zi[hj]){Zi[hj]=[0]}Object.defineProperty($i.prototype,hj,{get:function(){return this.data[hj]},set:function(lj){if(lj){this.data[hj]=lj;if(Ai===Yi){zi.uniform1fv(ij,lj)}}}})}else if(zi.FLOAT_VEC2===gj.type){if(undefined===Zi[hj]){Zi[hj]=[0,0]}Object.defineProperty($i.prototype,hj,{get:function(){return this.data[hj]},set:function(mj){if(mj){this.data[hj]=mj;if(Ai===Yi){zi.uniform2fv(ij,mj)}}}})}else if(zi.FLOAT_VEC3===gj.type){if(undefined===Zi[hj]){Zi[hj]=[0,0,0]}Object.defineProperty($i.prototype,hj,{get:function(){return this.data[hj]},set:function(nj){if(nj){this.data[hj]=nj;if(Ai===Yi){zi.uniform3fv(ij,nj)}}}})}else if(zi.FLOAT_VEC4===gj.type){if(undefined===Zi[hj]){Zi[hj]=[0,0,0,0]}Object.defineProperty($i.prototype,hj,{get:function(){return this.data[hj]},set:function(oj){if(oj){this.data[hj]=oj;if(Ai===Yi){zi.uniform4fv(ij,oj)}}}})}else if(zi.INT===gj.type){if(undefined===Zi[hj]){Zi[hj]=[0]}Object.defineProperty($i.prototype,hj,{get:function(){return this.data[hj]},set:function(pj){if(pj){this.data[hj]=pj;if(Ai===Yi){zi.uniform1iv(ij,pj)}}}})}else if(zi.INT_VEC2===gj.type){if(undefined===Zi[hj]){Zi[hj]=[0,0]}Object.defineProperty($i.prototype,hj,{get:function(){return this.data[hj]},set:function(qj){if(qj){this.data[hj]=qj;if(Ai===Yi){zi.uniform2iv(ij,qj)}}}})}else if(zi.INT_VEC3===gj.type){if(undefined===Zi[hj]){Zi[hj]=[0,0,0]}Object.defineProperty($i.prototype,hj,{get:function(){return this.data[hj]},set:function(rj){if(rj){this.data[hj]=rj;if(Ai===Yi){zi.uniform3iv(ij,rj)}}}})}else if(zi.INT_VEC4===gj.type){if(undefined===Zi[hj]){Zi[hj]=[0,0,0,0]}Object.defineProperty($i.prototype,hj,{get:function(){return this.data[hj]},set:function(sj){if(sj){this.data[hj]=sj;if(Ai===Yi){zi.uniform4iv(ij,sj)}}}})}else if(zi.FLOAT_MAT3===gj.type){if(undefined===Zi[hj]){Zi[hj]=[1,0,0,0,1,0,0,0,1]}Object.defineProperty($i.prototype,hj,{get:function(){return this.data[hj]},set:function(tj){if(tj){this.data[hj]=tj;if(Ai===Yi){zi.uniformMatrix3fv(ij,false,tj)}}}})}else if(zi.FLOAT_MAT4===gj.type){if(undefined===Zi[hj]){Zi[hj]=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}Object.defineProperty($i.prototype,hj,{get:function(){return this.data[hj]},set:function(uj){if(uj){this.data[hj]=uj;if(Ai===Yi){zi.uniformMatrix4fv(ij,false,uj)}}}})}else if(zi.SAMPLER_2D===gj.type){var jj=aj++;if(undefined===Zi[hj]){Zi[hj]=null}Object.defineProperty($i.prototype,hj,{get:function(){return this.data[hj]},set:function(vj){if(vj&&!(vj instanceof WebGLTexture)){if(yi["GL"][vj.func]){var wj=yi["GL"][vj.func](vj.param);if(wj){vj=wj}}}this.data[hj]=vj;if(Ai===Yi){var wj=vj;if(!wj||!(wj instanceof WebGLTexture)){wj=null}zi.uniform1i(ij,jj);zi.activeTexture(zi.TEXTURE0+jj);zi.bindTexture(zi.TEXTURE_2D,wj)}}})}else if(zi.SAMPLER_CUBE===gj.type){var kj=aj++;if(undefined===Zi[hj]){Zi[hj]=null}Object.defineProperty($i.prototype,hj,{get:function(){return this.data[hj]},set:function(xj){if(xj&&!(xj instanceof WebGLTexture)){if(yi["GL"][xj.func]){var yj=yi["GL"][xj.func](xj.param);if(yj){xj=yj}}}this.data[hj]=xj;if(Ai===Yi){var yj=xj;if(!yj||!(yj instanceof WebGLTexture)){yj=null}zi.uniform1i(ij,kj);zi.activeTexture(zi.TEXTURE0+kj);zi.bindTexture(zi.TEXTURE_CUBE_MAP,yj)}}})}else{Object.defineProperty($i.prototype,hj,{get:function(){return undefined},set:function(zj){}});console.error("unsupported uniform type:",gj)}bj.push(hj)};for(var dj=0;dj<_i;dj++){cj(dj)}$i.prototype.uniforms=new $i(Zi);$i.prototype.var_list=bj;return $i}var Ki={_name:"ShaderLab",Shader:{},Pipeline:{},Init:function(Aj){zi=Aj;Bi=zi.canvas.width;Ci=zi.canvas.height;for(var Bj=0,Cj=this.Pipeline.ColorTarget;Bj<Cj.length;Bj++){var Dj=Cj[Bj];if(Dj){Dj.Texture=Ei(Dj.Format)}}for(var Ej=0,Fj=this.Pipeline.DepthTarget;Ej<Fj.length;Ej++){var Gj=Fj[Ej];if(Gj){Gj.Texture=Ei(Gj.Format)}}for(var Hj=0,Ij=this.Pipeline.RenderTarget;Hj<Ij.length;Hj++){var Jj=Ij[Hj];if(Jj){var Dj=this.Pipeline.ColorTarget[Jj.ColorTarget].Texture;var Gj=this.Pipeline.DepthTarget[Jj.DepthTarget];Jj.Framebuffer=Fi(Dj,Gj?Gj.Texture:null)}}for(var Kj=0,Lj=this.Pipeline.BlendState;Kj<Lj.length;Kj++){var Mj=Lj[Kj];if(Mj){Mj.Bind=Gi(Mj)}}for(var Nj=0,Oj=this.Pipeline.DepthState;Nj<Oj.length;Nj++){var Mj=Oj[Nj];if(Mj){Mj.Bind=Hi(Mj)}}for(var Pj=0,Qj=this.Pipeline.Pass;Pj<Qj.length;Pj++){var Rj=Qj[Pj];if(Rj){Rj._Type="Render"===Rj.Type?0:1;Rj._Mask=0;for(var Sj=0,Tj=Rj.Mask;Sj<Tj.length;Sj++){var Uj=Tj[Sj];Rj._Mask+=Di.Mark[Uj]}Rj._Target=this.Pipeline.RenderTarget[Rj.Target];if(Rj._Target){Rj._Target=Rj._Target.Framebuffer}Rj._Depth=this.Pipeline.DepthState[Rj.Depth];Rj._Blend=this.Pipeline.BlendState[Rj.Blend]}}},GetShader:function(Vj){if(!Vj){return null}var Wj=this.Shader[Vj];if(!Wj){console.error("Could not find shader:",Vj);return null}if(Wj.program){return Wj}Wj.vs=Ii(zi.VERTEX_SHADER,this.Shader["Common"].code_vs+Wj.code_vs);if(!Wj.vs){console.error("Could not create vertex shader:",Vj);return null}Wj.fs=Ii(zi.FRAGMENT_SHADER,this.Shader["Common"].code_fs+Wj.code_fs);if(!Wj.fs){zi.deleteShader(Wj.vs);Wj.vs=null;console.error("Could not create fragment shader:",Vj);return null}Wj.program=zi.createProgram();if(!Wj.program){zi.deleteShader(Wj.vs);zi.deleteShader(Wj.fs);Wj.vs=null;Wj.fs=null;console.error("Could not create program object!");return null}zi.attachShader(Wj.program,Wj.vs);zi.attachShader(Wj.program,Wj.fs);{zi.bindAttribLocation(Wj.program,0,"a_Position");zi.bindAttribLocation(Wj.program,1,"a_Normal");zi.bindAttribLocation(Wj.program,2,"a_UV");zi.bindAttribLocation(Wj.program,3,"a_Color");zi.bindAttribLocation(Wj.program,4,"a_Tangent");zi.bindAttribLocation(Wj.program,5,"a_Binormal");zi.bindAttribLocation(Wj.program,9,"a_UV2");if(7<zi.getProgramParameter(Wj.program,zi.ACTIVE_ATTRIBUTES)){zi.bindAttribLocation(Wj.program,10,"a_UV3");zi.bindAttribLocation(Wj.program,11,"a_UV4");zi.bindAttribLocation(Wj.program,12,"a_UV5");zi.bindAttribLocation(Wj.program,13,"a_UV6");zi.bindAttribLocation(Wj.program,14,"a_UV7");zi.bindAttribLocation(Wj.program,15,"a_UV8")}}zi.linkProgram(Wj.program);if(!zi.getProgramParameter(Wj.program,zi.LINK_STATUS)){var Xj=zi.getProgramInfoLog(Wj.program);zi.deleteProgram(Wj.program);zi.deleteShader(Wj.vs);zi.deleteShader(Wj.fs);Wj.program=null;Wj.vs=null;Wj.fs=null;console.error("Could not compile program! \n\n"+Xj);return null}Wj.uniforms_class=Ji(Wj.program,Wj.data);Wj.uniforms=Wj.uniforms_class.prototype.uniforms;Wj.bind=function(Yj){Ai=Wj.program;zi.useProgram(Wj.program);var Zj=Yj.uniforms;var $j=Zj.uniforms;var _j=Zj.var_list;for(var ak=0,bk=_j;ak<bk.length;ak++){var ck=bk[ak];var dk=Zj[ck];if(undefined!==dk){Zj[ck]=dk}else{$j[ck]=$j[ck]}}};Object.defineProperty(Wj,"mode",{get:function(){if(undefined!==Wj.mode_){return Wj.mode_}var ek=0;if(Wj.mark){for(var fk=0,gk=Wj.mark;fk<gk.length;fk++){var hk=gk[fk];ek|=Di.Mark[hk]}}Wj.mode_=ek;return ek}});return Wj},SetMaterial:function(ik,jk,kk,lk){var mk=ik.uniforms;var nk=null;var ok=null;switch(jk){case 1:ik.shader=yi["ShaderLab"]["Pipeline"]["InternalShader"][kk];return ik.shader.mode;case 2:ik.Bind();break;case 3:mk.u_MainTex={func:"GetTextureByHandle",param:lk};break;case 4:mk.u_MainTex={func:"GetTextureByID",param:kk};break;case 5:mk.u_MatW=yi["WASM"]["HEAPF32"](lk,4*16,true);break;case 6:mk.u_MatVP=yi["WASM"]["HEAPF32"](lk,4*16,true);break;case 7:mk.u_MatWVP=yi["WASM"]["HEAPF32"](lk,4*16,true);break;case 8:ok=yi["WASM"].GetString(lk);nk=mk.var_list;for(var pk=0;pk<nk.length;pk++){if(ok==nk[pk]){return pk}}return-1;case 9:ok=mk.var_list[kk];if(ok){mk[ok]={func:"GetTextureByHandle",param:lk}}break;case 10:ok=mk.var_list[kk];if(ok){mk[ok]={func:"GetTextureByID",param:lk}}break;default:if(15>jk){ok=mk.var_list[kk];if(ok){mk[ok]=yi["WASM"]["HEAP32"](lk,4*(jk-10),true)}}else if(19>jk){ok=mk.var_list[kk];if(ok){mk[ok]=yi["WASM"]["HEAPF32"](lk,4*(jk-14),true)}}else if(23){ok=mk.var_list[kk];if(ok){mk[ok]=yi["WASM"]["HEAPF32"](lk,4*9,true)}}else if(30){ok=mk.var_list[kk];if(ok){mk[ok]=yi["WASM"]["HEAPF32"](lk,4*16,true)}}else{console.error("Error material ctrl!")}break}return 0},DrawPass:function(qk,rk){zi.bindFramebuffer(zi.FRAMEBUFFER,qk._Target);var sk=qk.ClearTarget;if(sk){var tk=0;if(sk.Color){zi.clearColor(sk.Color.r,sk.Color.g,sk.Color.b,sk.Color.a);tk+=zi.COLOR_BUFFER_BIT}if(undefined!==sk.Depth){zi.clearDepth(sk.Depth);tk+=zi.DEPTH_BUFFER_BIT}if(undefined!==sk.Stencil){zi.clearStencil(sk.Stencil);tk+=zi.STENCIL_BUFFER_BIT}zi.clear(tk)}qk._Depth.Bind();qk._Blend.Bind();if(qk.Shader){if(!qk._Material){qk._Material=new yi["Material"](qk.Shader)}if(qk.SetUniforms){qk.SetUniforms(qk._Material.uniforms)}qk._Material.Bind()}rk(qk._Type,qk._Mask)},Draw:function(){var uk=yi["GL"]["DrawPass"];for(var vk=0,wk=this.Pipeline.Pass;vk<wk.length;vk++){var xk=wk[vk];this.DrawPass(xk,uk)}}};return[Ki]});MiaokitMerge(function(yk){if("Sisyphus"!==yk["m_pEngine"]){return[]}var zk=undefined;var Ak=true;function Bk(Gk){Ck();zk=Gk.OnRenderingEvent;Dk();var Hk={memory:new WebAssembly.Memory({initial:64*16,maximum:32768}),APP_PLUGIN_TYPE:function(){return 2},APP_MEM_TYPE:function(){return 2},APP_MEM_RESERVE:function(){return 1024},APP_MEM_MALLOC:function(Ik){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!");return 0},APP_MEM_FREE:function(Jk){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!")},APP_MEM_BASE:function(){return 64*1024*1024},APP_MEM_GROW:function(Kk){Hk["memory"].grow(Kk/64/1024);if(yk["GL"]){yk["GL"]["FlushHeap"]()}},APP_MEM_RECYCLE:function(Lk){alert("WAMSģ�鲻֧�ֻ����ڴ�!")},UNITY_CREATE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_FREE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_GET:function(){alert("δװ��UNITY��չ!");return 0},UNITY_DO:function(){alert("δװ��UNITY��չ!");return 0}};Gk.OnEngineLoad(Hk)}function Ck(){var Mk=document.getElementById("unityContainer");var Nk=document.createElement("canvas");Nk.id="3d";Nk.width=Mk.offsetWidth;Nk.height=Mk.offsetHeight;Nk.style.width="100%";Nk.style.height="100%";Nk.style.top="0rem";Nk.style.bottom="0rem";Nk.style.left="0rem";Nk.style.right="0rem";Nk.style.position="absolute";Nk.style.zIndex="1";Mk.appendChild(Nk);yk["GL"]["CreateContext"](Nk);yk["ShaderLab"]["Init"](yk["GL"]["Ctx"])}function Dk(){if(Ak){Ak=false;Fk()}}function Ek(){Ak=true}function Fk(){if(Ak){return}zk(0);if(yk["WASM"]["Update"]){yk["WASM"]["Update"]()}requestAnimationFrame(Fk)}yk["WASM"]=yk["WASM"]||{};yk["WASM"]["LoadEngine"]=Bk;return[]});MiaokitMerge(function(Ok){var Pk=Date.now();function Qk(){return Date.now()-Pk}function Rk(Uk,Vk){if(Vk===void 0){Vk=0}if(2===Vk){console.warn("Track:",Qk(),Uk)}else if(2<Vk){console.error("Track:",Qk(),Uk)}else{console.info("Track:",Qk(),Uk)}}function Sk(Wk,Xk,Yk){if(Yk===void 0){Yk=undefined}var Zk=new XMLHttpRequest;Zk.open("GET",Wk,true);Zk.responseType="arraybuffer";Zk.onprogress=function($k){if(0<$k.total&&Yk){Yk($k.loaded/$k.total)}};Zk.onload=function(_k){if(Zk.status==200){Xk(Zk.response)}else{Xk(null)}};Zk.onerror=function(al){Rk(al,2);Xk(null)};Zk.send(null)}function Tk(bl,cl,dl,el,fl,gl){var hl=new XMLHttpRequest;hl.onprogress=function(il){if(0<il.total&&fl){fl(il.loaded/il.total)}};hl.onload=function(jl){if(hl.status==200){gl(hl.response)}else{gl(null)}hl=null};hl.onerror=function(kl){Rk(kl,2);gl(null)};hl.responseType=cl;hl.open(bl,dl,true);hl.send(el)}Qk["_name"]="Time";Rk["_name"]="Track";Sk["_name"]="Fetch";Tk["_name"]="Request";return[Qk,Rk,Sk,Tk]});MiaokitMerge(function(ll){if("Unity"!==ll["m_pEngine"]){return[]}if(!UnityLoader){return[]}var ml=ll["m_pLogo"]||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAJvNJREFUeNrsnQe4XUXVhufmpveQhIQiNYEYiEASAkiL9CKCGop0AUEUVBRB+KWIYpcuvQqCSpEeEZQqkIQAgohAgBBDgqGmt1v+/f3n2/9dd+7up9wT/N7nmefec/Y+s8vMrFlrzZqZhtbWVieE+O+ki16BEBIAQggJACGEBIAQQgJACCEBIISQABBCSAAIISQAhBASAEIICQAhhASAEEICQAghASCEkAAQQkgACCEkAIQQEgBCCAkAIYQEgBBCAkAIIQEghJAAEEJIAAghJACEEBIAQggJACGEBIAQQgJACCEBIISQABBCSAAIISQAhBASAEIICQAhhASAEEICQAgJACGEBIAQQgJACCEBIISQABBCSAAIISQAhBASAEIICQAhhASAEEICQAghASCEkAAQQkgACCEkAIQQEgBCCAkAIYQEgBBCAkAIIQEghJAAEEJIAAghJACEEBIAQggJACGEBIAQQgJACCEBIISQABBCSAAIISQAhBASAEIICQAhhASAEEICQAghASCEkAAQQgJACCEBIISQABBCSAAIISQAhBASAEIICQAhhASAEEICQAghASCEkAAQQkgACCEkACL5RZD+GaSj9NqFqA8aWltbq32NbYJ0QZAmmO/+GKQTg/S2ikCIj68G8LMgPek1fvD5IL0cpONVBEJ8/DSAHYN0fpC2yHDuHUH6TpBmqjiEWLU1gG609R/J2PjBF4L0Ck0CIcQqqgHsEaSLgjSyjDweDNK3g/QPFY0Qq4YGMDBIlwRpcpmNH+wapBeDdIqKRoj61wAmsddfowr39kSQTg7SFBWTEPWlAQwL0m+CdGuVGj/YLkhPB+mHKiYh6kcDQK9/ZZAG1fA+XwjSV4I0VUUmROcIAPT0GNo7sBPv98dBOjNIzXX4Lnvw/j50pdgHjGx0dqBToyuNzPiFjM8rVP3/nwFBWi9ILeZdNfDvG0FanDO/1YI01nvvKIt5QXq+4D32DdKWzMfm2zVIrwdpRjUFwJGu5OjrUweF9VqQvhqkv9ZZJcKw57P8H0LgpSA9F6SngjTdleIcat3o9gnSoazYzlTs913J0bpYbf//+Czrd5PfPoJ0CE3RPGwfpLuNsA0b6p+pQRdhlCuNkvX1BAAEPCJtzyiSadck4eBKXn1kvmcdFRbu6S8ssB9SqtYDR5r/B9GHgYT4hiUUCNNcybkJx+ZbNdBkNg3SARHfQwB8fxUUAPBZ9XKlkafVg7RWkD4RpPWDtE6Qzg7Svwr2ruvGHOtVUPMaGPF9vzKffXDM/fQtmmnXFJX/lTquDCcEaT+qbp1tEqAy7p9wvDfVN6SvBWkBVUGYCo8G6ZkgvVeF+4rTOBZFmAVgPHuoppjjlaQ7BeJt/L830wBW9CF8r0NYF4cxhd8NYkOz4J3+tMC9JNWflgL5tRa4TpY8myqdb5IAeDdIv+9kmz+NX9aJP+ArLt9oSP8g7cD0PfoK4OB8OEj3BunNTnoOCIBTa3i9WykAvuhK80Z68t30KJgfNNWfe40WPec3g/SAK81GFd7LiWNlkA6qIxXbBzMKL6yTe/kP7bui7wqqLCZIXUQtobOotY9iCf/OoSo/tIzG7/juNvK+gwl7nisFqu2mJp8sAD4Tcc7edXjfC2JU7r2oRtaaq4O0e5A25/v6SZAe433mAR7nP/0X1kOEfr9TgXx6ufZOtgtc2xwT+AjucqVQ81WRhQmmxbJKmQDwrJ/OChwC+xQTfL5bRy9jnwjVH6rzTmU6WsplLtP9/AznFKZCT3Qlh+BGtHeTtJoFFbyfZQl27aI6Kk84JTG6M7zg75cGaT7ffTd2Ar+gv8UCE+NXQRoRpJOCtLxKz9OUwzcAzeeQDL6D4QnaEerWd1JM+rC9z6BpH+sDwFj2R0G6zHx3ClXUEXVQWS5k7+r3wOh5n3f1FSPwJlP4wj/lSguk7EihsIZXyLeWca11qAK3MiG/sTHn9qYGhYaD0Z5GVoyuNX4/1qONUZHtIyp+F9c2Jm8FGOrBdJpd7zB9yMY3nI0iDqxDAa//UTTfygECp4/xO7QmdEJd6eMItW8I6A29DrcIOzJl4bEkAQApCi/speyJfus5WF6rA1XxW953cAQebdSkSrImBWJ3V55XvJUVZAULHQ3vLAraPWmbzqS2VRRoP9dlPBfe9JsjtA84JE9w0Z7vJtroZ7An9cG9X8E61ZCx4Vin3B18H2+zUb/Pz1dG2PUrKQDeiskbwmBX3s9+MefsRU1t/3JUaFdykv+c9xSWdc+YcyHgXuD7wXu6ls9dSxYnmQDWJ3ATK+Xf+HkGG98FnSgAPud9PpGqT0hjha8HYXhEFbWDq9jrD2UvUo720lTm/aAuvMoUxxcS1FDEZdxQxvX/yOQT5ZhsyGDqzWPj/KWLX2sCGtID1HZbXLG5MX1d9hGgXq59vMEQo7E1dEaDSntgDEsN8tTvJzup8Z/g2g+PQcW7qMrXRKVYUqW8rUbxrsu2IhKeedMqPmsax8ZUVKjRk6twTz1deVPWITy+4UpBT3H8icKi6HXKFdoNNW78jXkEANS0h7zvJrnqB4n4PB6kX5vPfdx/n7cc2tefaZYN6ITrb06/RRR3uuoMF7eUKbBCznUlp5/PFdQOOtMh2ky1PCktotkY1+5W8py0fJYwn1gTIE5Nghp1Mj/PpfPkuhq9oBURdtxkV7t5CdVaODWryo6RBHi0v8jPcCReHKTDvfO6l3k/acOnR8eo/81lqv72PbdkbOitEY2hIaVjuoD3GmqNl1GrDDu6zqgffegHGRuhFfrvYATNxSjT5wb6qtLac0OaDyAO2NmI2AonRVzvSkFCu9egAX4pSB+Yz990Hb3F1Wz81fKMb5ThnEkUvn6c+mGuNNHofPPdK6wILaZXQK89ISLfhey1V/AZuzC/ONZhOUSBUOZyF2052JWiKZu9Ro77Wi9GM72GvV4XU7nxPMcFaVbMdS5mo4NQ/XqFNNmV7FlbTGPt5qJj9pt4bjjysoLfvVrAbLR84ApGj+ap3BhnH256LlTOd6rcE2O4wnpJN3C1dUL+25WGPxsLVBZUhNGuFOIaBWIZMMowJ+IYnII/cMnLpkPiY1TkQX7+m2tz2Fq/SZQAwLyDY1z2yD+oyYNjjl3misXLO69cJ+YUzNsU1GR+WuE6cjvfe4tp5Nu49iNoIY/xvTcyfZTjOt0TfAWFnd95BMBg2uHH8fMiagH3VKnxoWEc4n13q6stiyj4ijI34Rga+QERAg3DVwhdTXP2wUF2Cxv4GzHn9EhoQL0yCoCR7J2j+HuFyr9SIchLPWF0LoXw11LKohzmM1nWSLi/ovM8mgtoBhW3X471Kua9MZKuEnzOe+jDXXxgS72SNpX0KNc2ZjyAtv5kl83TD1vuRld8lCKr5/lMF+90hD29vM7eeSgA4Pk/nf6jhxI0hmrQLUd760JB3T0hdeM5rQll2S0ljx5RmkIR+xbOPzth5cgg7eyKh3FGAbt3uteTXew+foxxpcUoEPxySQ4Bdy9NhHICh2zD3YKV6FnvnN0TbH/0/jdV6D00VDCfJfQT2bUkR1OwnuRq57zOyk4U/Gk9fM8Ecxua8g4pHToa/x+cF3VYRABgyui+rjSxIrR59nWVW70Xzix/3gEqe/8aFEZXOp26FKx8zXRA5VFpEVvRz2Wbw/ACK/ZtZT4n7hMhqFvRl7Mzha4VAP1ZMRtjKuTFfOaik6+Wufbhs81eDxdGT8bZvs08bo8tYM8f5TuBFoPIOzhfT6sjAYA4m83LzGN4xg54WiU0gFD1u8t8nuoqN2FonwhbuVZz1Neko2ZAAbuqgRUQMdmv5rxmGggUgsf/0gh7s+hzIrZiYIxGAM6hhhLHKUwNBd5T2GmE7wlm5BOe/d5Mtf38iGtAwB5m7OlG8z20U3jFV4u5PsKdMQHnq6724//NEX6clhpef0WlBACGhRAie4NXIfZ12Ya34kCsgT/f4NwavqAG9ny9y/h9JaO6MMR0PYVrkXkYcfZ5T9cxXt3WBYT8npjynOWUc6tr76B820UvoHpMgjYGE/H1iO+fpTZ6Y4IvBSrzMGoKM6pQj+IaNbS8vahFw3mL4Km7O1P9KCeI4ccRlX2fMvJDof3K+w7e1K/U+J00lfnbSkVJYqLKRFdyvL6Ws0w/ycp9ZE7zB2xMTaOaO0cvz9DzYfThoAQBEgaI3ek6et2fp//ioYT8d3ElJ6FzlY9sjXMCIn7lPpq0e1MIrezM9l5OkAvUyINd+1GAV2kG/KJAflGzturJVqsFqAzP0VFzZ07NA6rvHnQqjXf54zPQIPuy5xxWB+/iuAS/D/wHX6bG2I8q/QGeRjCHmgzCfaMcmVhY9kzz/orSl36jjSl4N0mw6f0GuIRm4xtex7OcdaGby7dCEoTiugn+pI6ORiwLbtKC1ny87P0+TNNz5nNIRB4Dg9SUM5+/xdxP1rR+kJpbi7MwSKNMftvl/P0zQepR4L67BOnR1vL4VZBuaK0NS4O0SUo5vJ/w+6gyejVIYyLy6hqkS7xz7w/SIHPO/gnX2jHl3d8epOUF38PvWXa9g9QrSN2ZJ+rQ74J0cpAaeSwtod6MDNJ/Et7ZLv79lxvmOopq6iPe9/AF/DtjHpNddCzBt1zlp/emgRBZhJj2csmrswx10UulLXLtw5bz8in2VtcX6L2LLGwxn2oyotkmscfMYr/PYi/VkHIe3uPaBXrY7yY48eJMV5gM91KTfM4zy05guX2DKvghFXKmOj5j0XkYK1z7Gadoj1/n86MnR1AYJr1l3S0bw5+rxxxDG3240hoAuCdGMh6W4bcrKb2ifj+nwL2UqwFkTV+Nuf5k77ztUrSnqJ7sg5ieLC2dl+M9oZy/HaR1+duf5PjtiiBtFaSe7LniEo5/hmWcRwPYkseTWBSk12KO/Zvv3c8XPelxQVot4liSBrBDynu/ogxN6Hpzb3sF6amIc6YGqX+G8t8pQRNpCdJuUb+rhKMHgSwbRnx/I6VtEpjhtjTi+0muepuOlkt3DiFFkWe3ot+56ECeQdQAVst5XzNznIu5AOfRToaN/L2c11pMO3xJQlrm8kcpdqX/qGfKeejNj455f2vHOD+b+awfZLKN2/sbQq0D94VFPEabnnZezh5/Gp2s2LHpbH7fg/9vHfGbLXl+khaFe7okQROBZvRgpUcBLMcnNPC4oajbEoZAjqtjRx0805vFeLb/lLMRxk1sGlvAEz83xiSJcxr2oBf82ALvoLHC54Vg6DHL2na9aIbA8TfbO3YFVf2sXvEeLjkI6wzWVcx6nE51HEONx/B4ntWMEWPyaar5vzVCewnvOa68YLL8NEFoXkkHpIupA2fEmbSVmup6oGtbL8BvFPu5jqvFLHbxIaZrcoimHhno4vdgezyHrRZ6jy93pSCnzWLeKXrorMtYzzN2/QPUwOCN/mGMAICHGXEcGJeeUAfvdiyHx7LQyvf3D45E3c/PeNazWK+HsLygUQ12bbsNDacPZzC1LKS1UjTcKIZHaADz6X94l/6Uxoj2EDfM/DTrwq9jjp9Cbfls73sMnX8+4f4hOP6epHJVAqhdu7Pi+aBXvIkqT8gBCS/iy3Xc+//Ixa+MfI3LN57claonKmzckB9i1zFl9JyMJgDWbcDsvDBuYETK9WdSS7uPDsgo52KXGrxXNMarY3rippR6+jg1xonsPP7KBj6I+fVy1VnTYSj/4l1fRifbNL5TqO37F9C4ofWNT2gDZ1HND+MXfpKi7TzqOsbWVNwJGHJdgoMCuxC/x/PuSHFmTCnjHqrpBPxSwnX/HuPMTHIC/o8579aU5zqz4D1/Jya/mRxmtcNur5rjGH69OEgfxTgBN8t4/U9ndAJeG3Offw7StIjv4ezatMJDuHn5U8Jz7xDzm/szvLO+QXok5dqXsXySwHDgRmnXq6R03ztFZTuW9shhCeeNqBN11GfbBNUM/CzGmZmVU6k2xvEDOseqtXjkm9TKwg1Kz+bz9qzR++0Xo32c77JHZr7n4lcCqgZrJjjdyimnRdSWk3Y5hhP6hITjy+mjSJ2TUkkBMDRFCGBln1EueUvqL9Vh4x/nStMoB8Uc/yuPlwMiwdImUsHHcrOLX5mnXJ6nKn0lTZ2erjbqP4haDhymzEMu+9bXaDhvV+n+WtioPqSwhDPwGVe9OJXZ9CEUFWgnuYwLtVS6gNPmAqQV0M511vi3pn0eN2NvMRtuUwWuBYdc2lz1g+hT2aJKz3uHaxuBqeUuQU+49oE5y+nQW5mjjra6jiMCaY16GZ14SUN5/+NKe2ZOoFM13N3pqDK1vjRedqWAun/l+A2e53uu/a5eqY6oSvKZMh1B29dR44cwu5ae4yTV/NkKXhOSe1OXvEMwnEQY08W898vdxwP0dJhSvis/X8deNu9OwW9QaCxgb/0hTQP8xU5Dc9jYP+D3cLBi+BS7M90Yk+eDLmIefY2AVoZl8M7IeD4coufluUClBQCmiGIyxEsFfrtfDVXOLDb5OS45xPPODC8771zv+bT/MFFl7RRhCSm/F+11DPPUck/ERRU+LzSldmUj/WFBW/oSmmP/oRBYnlE7SwpY6t1JdXBPmn075vjNRFeaVXshBceSWgsA8LmCAmDbOmj4iL/GPm8HpJz3ois5NdMaXZGdiuG4wRDS3a5tqClJS1mfBf9+xPFqCAUI6YMzqNtQyUfkEOqP8+9ZLnql5CzMKfjbStvyRacXd2fDxyKmuxX4fTeah9dTm4QGe3uS6V0NATCu4O+26eTGjxd/tUtfoQfqKkKV383Q+I8v6H9BUMiBlOJJTr/3WFnejzk+sArvqdFli0vIywz2XDe4VZ8hOc9fm/b+ESnmXx424/vElPq7WJeecF5kbjUEQJGeHL3YqE4uNDhbnnEdNyC1QJJ+nr00bPFzXVvs+0Kq/M1sJNu45LXe0majYeYWPMGYM7BGjNp6hOk5N6f5BXsXzimstX/MKtRo5rHXal3FGjtWx9qQwngpO5C06E2YNhjd2I7aJjqfPGswNNG8yiLgEbF4HBN8Cthe7h4Kg6oIgOHUAqbn+M1udVCQGN45jNJyYkzPjwYZOv0w3XlCwV52uYuamtmRx2jnI258tHcM48D3m88Ipb3GqKANq1hDWtUafsgmbFBNFP5Zhk/XZtkV2egVHdV3WF8vyNl2Nmd6JxQA1XK67VTl86sFHEeYePFyxEvf2xNqcDQ9UvA659GPkIVweSs7cQp2sj9kCC/6StPDJBHO1hPlM5XaC0Yseqe0qbnmb96RBQw5I6x3BwqPl6k5nODybXoCjfHyLHZouVIxD2PqqEDn0P6eZ1RxNMCoiT5PFcj/WjbgPMym6QGT44oYGxw9wsyM+b0qAVAx4H+ZkkNYhCr8aS77ojl3UCvFqID1PcHkRMQmhs+vcunL0eP46c7EL1Qr2COPPd+bPoB6Ar0zFiMNF46MG856Ooe6jd4ZC6n+oKC6i8L+fkoPgYkpIzPkVc7mGM3UYN526SsCoVxPdPUzvFstoE7vl3IO3tedngZ5ZkJZtLKnh5r/UEreWAvxWOb1bde2n6XPDaHqX20BgKEIeMEXZjh3nKtdzHke7nbpSzZja2cElQzOUEHOKMNkyMobGYTQj1z7PR3iCKcM+zRSC3k9Qx7wRH8z4vvuOXwUXTJ+Vw7l+kumphyHin6M67hsG4KPEPexs2ee3cN3/HDO+4BGiiFkOOIxOoSRhT7mHjpontUSAChgOKUezSgAVmX17wZW9JaISgVnH+Lcf+Nqs/wzNJf51FiaKICXU0jBhAl3ss0Cfj+LdaTVNDyokb1y1IO3XPvdlRv4LlZmbJitERpTpZ2cDSbfIsIBu1lhGHMINbElVNXx7E+yQb8Vo00hdPcxCgfshv3bHP6hOMKdomGKY37NJPoPOvgKME3Xfl7gigWvRHGSy7aVNx744Apd80nXOQFFDa4+vNiQ9oNo4zWz8Te7YrvvouEPiFFNF7hsEXZdWZ8aPAEQ5pEWqASBM55mYov3++kueWJZHhBwtWnE/eBaiLLMso33Wjx/Kd/3Upd9jsi2NN/mVale9OO7aqmVBuBc9o0uR7pVn3oZwlpcwUbR5OIDjPLk8WEZv2/JoF5XgncLqNtRNn45PXY1WZjHvqoUWRv2Gk4I0SlUUwBkiWwaKgEgxMdTAAzP4E/A7MFGFYMQHz8BAE9x2vj+SBWBEB9PAeAyCIANVARCdB7VXvZpvZTj69bRu0AsNzZXwCwtzOzyl2JCdCPGeeHV9tc7wO+wvvxHrm3oC+O6/rbeo3kevOv+fAMMQw1g/rgXDOkhLNkP7hnD8zBk5C/6iOWq+sdcG9oWdrOBZx7zC5ZHmGyY1dbKZ7c76OCdbOPadoBC3hhy9ZfE6s9nhFk3w3UMfOnt2sK+MdYdtWBFA03DDXg+Yhre4jWbeWywSx5CRB6vuPbDdyiTT7NTajbPkDZEimHVcazL3Vk+eD+Iq8gSy4DZgRgRW4sd7rt89hkRzzCO7ycs+ykuen0DvOdN+JwLeS9RI1Gfcm2BQAha6zgDtYLLgsftOJu0LPFfK3y9cpYFxz55L3BJ7Ge4q2x4rDeX/saxGUEaYI71C9I/eWwyd0bG/49xOfTwvAFcehvHXuTeeeEx7Ff3Jo/dG6SX+L+/jPTQIM3msSnePa4RpHd4LGqJ9nPNst5HRxy/m79dHKRx3r55L8bsZLyHl8cXuAx4E5fN7uIdn8jrr+Bedv49HBikh4O0xLsWPt8SpG5cMruZqcnkt9J8j3SUyfdQlpHP09y/MKo+oHxOCdLrMUujH55Sn1YP0kUxu/Vib8MJ5txNuMfmCu+8uUE6LeI97s7nXcn8143ZYXmeOW+fai8LHsXaKccH1pEGMIe9AnqvjT3tZEPTs63PXsiaMRvz2MPsHRopoYd7GsRIHtvItd9P8ZPsYXDsL+Y+NnPtVyMew54kzH9dT4MYxmNRe+Zdyx4A4b3Hu/ZhvugZ9+ZvEbkYznrEeX9g3uhhnmNPEvZWiG23MfCN1IDwFxOo/M0xGnndbp72CY0Hoa9Y+2Ai/UdLqeUs5ef+7DG7MDXE5BceD3tX7DJ9I98xvnvWaHdbudK+eXt69wkNC1GTPzNm6gw+/zu83hspmi/m3Z9IrWsl39vzLANMxJptyhQLvX6W+c5g+a1g/cH8kYsitJKuTMg/ai1OhBcPNecN6AwfwPCU4/3rSACgkJ4wKq+d0LSlV8Hs7MXx/A4NBOvaTTPCzeaxlfm/u2s/FzwMmkIFfci1rTkwLCGPPq79rMtx5jmiAkteZyMLz93DHPs6nwFBROfyO8wbD3eVQWXdlWYAnvdYNkw0XMxGC4dyfTX0TNd+We/WmP/PdW17FMK8OpLq62i+J0zRxjqBLTw2nveHZ1jA393M34xlwgo4E9iIHc2InfgMeP4T2MhgZlzq2q/igz0Y9uL/KNMdeb1wkZedYoRs6Pz+jWvb7u1mlhvueWv+HjH6CMvFHJjL2VGi7LH9F+bRbMtrvmLKx27/5c89iVrExp+cFL28epVNgOkJKlI3qij1YgKEO/m0MK/TzfdXR+zMEh673KhrvanahnzDnHezl8cvzbEb+d2bVOs/Z847xpx3p5fHD8yx2/kdzIceMc/3CbNDU7iV+Siq/eD8iN16oE7vG5GX3VL8VH43KaJMTvW2sA7Zld9NMLsHwcxaM0d5DeN26uCCiOO/M9vQ7x5x/HxzPyfyu63M/WC77j4569ARJs+bUs79ojn36ojj2wdpGY8/Yky+07x3PI8mYPi79YL0oXfOdzvDBEja1GFAnWkAoaMkDOncwvTW49n7/Ns71mj+n06n1kuubYedccb5NY5SPir/sLeYSifdC65tCvJY877GMo853rHerm1vvykufkdm3P9V/H8XahAH8/fhluGOjspwpRmorVGbTFxpet9QhQ5jzd8zZgTmsH8i4Z0f7tomHJ3u8i3q2dO1TdbxHdpruLZZdlOokvtcZRyRYY//RZPXuS5/aHU4rwXOubNTzg179RUueuepx41WuqUxR0LT+T+sJ0Nd+9WDd+Y5s837HNgZJkDfhGsMcvnXfa824ay50DZrZOUdRY/yTTy2MW2v1Y2KHqrd7xo7eYzxIYxgw7jF2OwQgOsYn8ITRuV+2cvjk7wXFOhtxsvbnXmv7+URx695H6jk5xg7/ddGwG1k1PqnXPTy5m+a59zAtW12GnrhL6Uggmp9micg7P8TTH6PVrAsNzKq8pMxXvJXzWjJBhwpGGfK4Mmc1xxiTLvnXPKU6e5GaL/h4rfxetwI+Y29xjyd1wF2U559+fdBU6b9OkMA9Hbxc/0H1enQaDj55BMcwtmcggoV4n5W3IGsYKPYiFtc2+pALcY+3JC96RZ812+anmgoj3+S+aPxPM1jTcYPMIrvMeztX6GjMHSyrm8clMtd+uSZ2UYL+ALzx7TfS8w5w0zdmJWSV1i5+ptG1o8CMVwA48u8xyWeD6Cb8RO95fW2R9N+vpHJ2tVZGGy0g7iVd5q8ZxhCoR46hRflrDtDTUOb5ZInifVn3Qh78jhNw04yWt0TAHYS0/bscIe5thmx9xqhnEkAVLpH7uXiN1boW4XGW4mFRaYY4TXSta3s+3dK3NlmTD+skHOptvt5hOPiWxh1OlxDroGNP+wFZrr28QVPG3V8jBEAz1HYLGT5bWLyeMU4jtK0gLme0+s9z1tvG0kcLTFOvUYe+zHVW5TL9/nMzeb8LmY0otnLA6o45rIfynSYy7fSlDUJmjM+Q1fzu2aXf2OXbubdpU0F7mIEVNJ1ohyn/YyZ8YDpsMZQo1qN5fuYuY9MowDdK9wgexgpVwsBUIl5BWjIHxoP/2amUS81au9YIxymufaBM8+a3m688dZP4TDQy8arP8Y0+CVeHk0soy1d26rAUyn5w4a+jTn2lMsWnPK2qTi47zu84wsyjuSEE74WMTUYE6AP3+UNRtsYb/JuoHCYb3o32wFheSsMf/3RG6nJysKI+/RpMM+3kOW+2GgQvXLWnYXG/5I2GW6JKe8kc9huDvOupwGEmuJs49cJF9h9lEJ9eR4fAFYcvb7CjbJLgopWKfDif+oqs7vwXNPId6RNZ9X66abhjfXsNGfU2X8Zh8xoT60P7bbtjBDxbffXjH26G+38pea34d+JRgN4IsdzrkzoqWaYBrRlQuMfbZ53pSeAw3KHFvA+K/jXzDnh0OkMfh7p2s8NwTAelhO7sGA5zvSEcBTrmGvOYoMJx/f9eI+sdecd459JquOLzLVGJDhKQx/JcvoJupjGjO+WsacPbf/QeXuXuU6oNTSmNc7Haa9twga1qAINql8G1aYosKlPpgPnNNcxvLYIzaaR786KMMsIhWmmgMd4trttXGEDxVj1WmzMr3h5jKVjZ4XruLLsUpodYE/2BC+5tpV/nzGVe32en2ep6S6mF/SXvZpl8traVELLJNM7PZwg7HG/Fxizqb+5LphszMWTK2jWvWbMsh2MkLTsbxrTX4zjLFTnT8p5TTTGcAFPlPlxKec/aLThQyOOjzQ9+gt0KvZzbeG9obZyH/+O4zu2S9YvNu+xR9be+Z9sUBuwUGZWQQCU42+YSkGFF/Qrz36tBE97JsVU0yO+4KnIcDAlLRne1eS53PgClns97ssJ92HzaDYmQrNXZjM8E+siOi63zvn80HiuNBUHG5Gu52mK4Y618136dl4Xu3gv9y1G0zmCPf46MbZ8HqDZXGHexeVeLwvN7Hv8H/Xnt/z/NnOvh1B4+WtWrM22g3eDQCNE8oXReJebRodAqG97baA7hUP47OEyYIhY3Nuch2teamz3K/hM/U3bmW867ve9jvwdY2qE5dhRmGYMbmgM0pFBerJAcM7OMXl+t0BedzJIxlU5bezFo3/LHEMwxlRz7PcxeWzBWPWQr3hx5v8wx65NCEyyHOzNQbBx6pckBKQ85M1LQLqGx94N0loR125gIEvIbM4x+IP3bo43vwkDgRBMNdbL7zDvWXY1x3Y0AUrhPWFOwH1Bes18f0DE/I2PYp4/LKvbzO9n8blvNwE24Mve73YJ0kJz/G3G6t/COR4IvBkRpN3MOdNMoM5XvWfFHJA7GJj0LMt+MM890ptj8EcGBdmyvZ2Bc2HdnM/v7XyH+8z5h5rvf26eYQ3/HRVpHHtHRKQVEQCn58jjqiBtU4OGH6Ye3gSYT3vHr4uJ9rOpjylENIjNveO3mjyOjsljECMMw2i2jb3j95g8DvKOHWCO3R0hAK7nMVT0tROe4dKISSpgDiu6Pf8gc3xcRGN83Bz3I/PGB+nPntBs9QTQDt5v1jPC6IqYZ+jPBhWV7yw2wKjfTeSEqzgQHbmt+fywNznrME4ci8PWh6P5Pn1Wsu73NeduaY4fYr7/mokKtNGU5/D7ZRRa7Z6ziHp1HxPGHY+NsV3KcQ6GvE+17DLXcWputVlOVXRzz2sf8juqVk0uftOGcCun0fS0z/CO/4bq30rjxPH5iCrmCHqAfVPsOpogy1zHXYomU22Ef+CXET6Xu1zbhJsPE57hJPon9nBt04mhsv8h4r5fpLq/wnXcPhy/O4vDeysiTIJn6MTdjQ7W1c07+Cef7wXvNx/wHQ9x7fdJ9Ec0vsHf70a/xQr6Y7AMd1ywD2xobNx5IEdrBtI0+ogm3HSWyYX0Bf3Cc6jeyPcxif6HvizrcCehN82517B+HMiybqQK/wCdoUs9R+N5NAPs8uH3cuh6rjfE+xjb0HxvpKrkiPGWBS/CSDo7DnfR+9nvYhwsFtiQUVtcvUKb8lKXvoOuEKIKQ3R5va1wFCKq7VTjLXfGmxqFH3OAISxEfyHY4ydq/EKsGgIgBF7yn7vSEOIR7PUXuviJKQuZbqV6CZPiWhWJELWjEiaAEEIagBBCAkAIIQEghJAAEEJIAAghJACEEBIAQggJACGEBIAQQgJACCEBIISQABBCSAAIISQAhBASAEIICQAhhASAEEICQAghASCEkAAQQkgACCEkAIQQEgBCCAkAIYQEgBBCAkAIIQEghASAEEICQAghASCEkAAQQkgACCEkAIQQEgBCCAkAIYQEgBBCAkAIIQEghJAAEEJIAAghJACEEBIAQggJACGEBIAQQgJACCEBIISQABBCSAAIISQAhBASAEIICQAhhASAEEICQAghASCEkAAQQkgACCEkAIQQEgBCCAkAIYQEgBBCAkAIIQEghJAAEEJIAAghASCEkAAQQkgACCEkAIQQEgBCCAkAIYQEgBBCAkAIIQEghJAAEEJIAAghJACEEBIAQggJACGEBIAQQgJACCEBIISQABBCSAAIISQAhBASAEIICQAhRNX5XwEGAHVg0DudDdzFAAAAAElFTkSuQmCC";UnityLoader.Progress.Styles.Dark.progressLogoUrl=ml;UnityLoader.Progress.Styles.Light.progressLogoUrl=ml;if(UnityLoader.SystemInfo.mobile){UnityLoader.SystemInfo.mobile=false;UnityLoader.downloadJob=function(ul,vl){var wl=new XMLHttpRequest;wl.open("GET",vl.parameters.url);wl.responseType="arraybuffer";wl.onload=function(){UnityLoader.Compression.decompress(new Uint8Array(wl.response),function(xl){vl.complete(xl)})};if(vl.parameters.onprogress)wl.addEventListener("progress",vl.parameters.onprogress);if(vl.parameters.onload)wl.addEventListener("load",vl.parameters.onload);wl.send()}}UnityLoader.processWasmFrameworkJob=function(yl,zl){var Al=UnityLoader.Job.result(yl,"downloadWasmFramework");UnityLoader.loadCode(yl,Al,function(Bl,Cl){yl["mainScriptUrlOrBlob"]=Cl;if(yl.isModularized){UnityLoader[Bl]=UnityModule}yl["instantiateWasm"]=function(Dl,El){ql(yl,Dl["env"]);if(yl["wasmBinary"]){WebAssembly.instantiate(yl["wasmBinary"],Dl).then(function(Fl){El(Fl.instance,Fl.module)})}else{console.info("MiaokitLoader.InitUnity.instantiateWasm error!")}return{}};UnityLoader[Bl](yl);zl.complete()},{Module:yl,url:yl["wasmFrameworkUrl"],isModularized:yl.isModularized})};var nl=null;var ol=null;var pl={};function ql(Gl,Hl){Object["assign"](Hl,{_Init:function(Il,Jl){ll["WASM"]["m_pMemory"]=ll["WASM"]["m_pMemory"]||ol.Module.wasmMemory;rl(Gl,pl,Il,Jl);sl(ol,pl);nl.OnEngineLoad(pl)},_RenderingEvent:function(Kl){nl.OnRenderingEvent(Kl)}});ll["GL"]=Hl}function rl(Ll,Ml,Nl,Ol){var Pl=ll.WASM.GetString(Nl,Ol);var Ql=JSON.parse(Pl);var Rl=function(Vl){var Wl=function(){var Xl=Array.prototype.slice.call(arguments);Xl.unshift(Wl["m_nAddr"]);return Wl["m_pFunc"].apply(this,Xl)};Wl["m_pFunc"]=Ll[Vl.Call];Wl["m_nAddr"]=Vl.Addr;Ml[Vl.Name]=Wl};for(var Sl=0,Tl=Ql.List;Sl<Tl.length;Sl++){var Ul=Tl[Sl];Rl(Ul)}}function sl(Yl,Zl){Zl["APP_PLUGIN_TYPE"]=function(){return 1};Zl["APP_MEM_TYPE"]=function(){return 1};Zl["memory"]=function($l){var _l=32*1024*1024;var am=$l._memalign(16,_l);var bm=_l-am;$l._free(am);var cm=$l._memalign(16,bm+_l);if(cm!==am){console.error("miaokit.prememory: addr error",am,cm);return}if(cm+bm+_l!==67108864){console.error("miaokit.prememory: addr end error",cm+bm+_l);return}Zl["APP_MEM_RESERVE"]=function(){return cm};return $l.wasmMemory}(ol.Module);Zl["APP_MEM_MALLOC"]=function(dm){return ol.Module._memalign(16,dm)};Zl["APP_MEM_FREE"]=function(em){ol.Module._free(em)};Zl["APP_MEM_BASE"]=function(){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Zl["APP_MEM_GROW"]=function(fm){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Zl["APP_MEM_RECYCLE"]=function(gm){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0}}function tl(hm){nl=hm;ol=UnityLoader.instantiate("unityContainer",ll["m_pEnginePath"])}ll["WASM"]=ll["WASM"]||{};ll["WASM"]["LoadEngine"]=tl;return[]});MiaokitMerge(function(im){var jm=undefined;var km=new TextDecoder("utf-8");var lm=new TextEncoder;function mm(nm){if(!jm||im["WASM"].m_pMemory.buffer.byteLength!==jm[0].byteLength){if(!jm){jm=[]}jm[0]=new Int8Array(im["WASM"].m_pMemory.buffer);jm[1]=new Uint8Array(im["WASM"].m_pMemory.buffer);jm[2]=new Int16Array(im["WASM"].m_pMemory.buffer);jm[3]=new Uint16Array(im["WASM"].m_pMemory.buffer);jm[4]=new Int32Array(im["WASM"].m_pMemory.buffer);jm[5]=new Uint32Array(im["WASM"].m_pMemory.buffer);jm[6]=new Float32Array(im["WASM"].m_pMemory.buffer);jm[7]=new Float64Array(im["WASM"].m_pMemory.buffer)}return jm[nm]}im["WASM"]=im["WASM"]||{};im["WASM"]["HEAP8"]=function(om,pm){if(om===void 0){om=0}if(pm===void 0){pm=0}var qm=mm(0);if(om&&pm){return qm.subarray(om,om+pm)}else{return qm}};im["WASM"]["HEAPU8"]=function(rm,sm){if(rm===void 0){rm=0}if(sm===void 0){sm=0}var tm=mm(1);if(rm&&sm){return tm.subarray(rm,rm+sm)}else{return tm}};im["WASM"]["HEAP16"]=function(um,vm){if(um===void 0){um=0}if(vm===void 0){vm=0}var wm=mm(2);if(um&&vm){return wm.subarray(um/2,(um+vm)/2)}else{return wm}};im["WASM"]["HEAPU16"]=function(xm,ym){if(xm===void 0){xm=0}if(ym===void 0){ym=0}var zm=mm(3);if(xm&&ym){return zm.subarray(xm/2,(xm+ym)/2)}else{return zm}};im["WASM"]["HEAP32"]=function(Am,Bm,Cm){if(Am===void 0){Am=0}if(Bm===void 0){Bm=0}var Dm=mm(4);if(Am&&Bm){if(Cm){return Dm.slice(Am/4,(Am+Bm)/4)}else{return Dm.subarray(Am/4,(Am+Bm)/4)}}else{return Dm}};im["WASM"]["HEAPU32"]=function(Em,Fm){if(Em===void 0){Em=0}if(Fm===void 0){Fm=0}var Gm=mm(5);if(Em&&Fm){return Gm.subarray(Em/4,(Em+Fm)/4)}else{return Gm}};im["WASM"]["HEAPF32"]=function(Hm,Im,Jm){if(Hm===void 0){Hm=0}if(Im===void 0){Im=0}var Km=mm(6);if(Hm&&Im){if(Jm){return Km.slice(Hm/4,(Hm+Im)/4)}else{return Km.subarray(Hm/4,(Hm+Im)/4)}}else{return Km}};im["WASM"]["HEAPF64"]=function(Lm,Mm){if(Lm===void 0){Lm=0}if(Mm===void 0){Mm=0}var Nm=mm(7);if(Lm&&Mm){return Nm.subarray(Lm/8,(Lm+Mm)/8)}else{return Nm}};im["WASM"]["GetString"]=function(Om,Pm){if(!Pm){var Qm=im["WASM"].HEAPU8();var Rm=Om;while(0!==Qm[Rm++]);Pm=Rm-Om-1}var Sm=im["WASM"].HEAPU8(Om,Pm);var Tm=km.decode(Sm);return Tm};im["WASM"]["SetString"]=function(Um,Vm){var Wm=lm.encode(Vm);var Xm=im["WASM"].HEAPU8(Um,Wm.byteLength);Xm.set(Wm)};im["WASM"]["EncodeString"]=function(Ym){return lm.encode(Ym)};im["WASM"]["m_pMemory"]=null;return[]});MiaokitMerge(function(Zm){if("Sisyphus"!==Zm["m_pEngine"]){return[]}var $m={instance:undefined,counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],currentContext:null,currArrayBuffer:0,currElementArrayBuffer:0,offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},stringiCache:{},tempFixedLengthArray:[],packAlignment:4,unpackAlignment:4,init:function(){$m.miniTempBuffer=new Float32Array($m.MINI_TEMP_BUFFER_SIZE);for(var zn=0;zn<$m.MINI_TEMP_BUFFER_SIZE;zn++){$m.miniTempBufferViews[zn]=$m.miniTempBuffer.subarray(0,zn+1)}for(var zn=0;zn<32;zn++){$m.tempFixedLengthArray.push(new Array(zn))}},recordError:function An(Bn){if(!$m.lastError){$m.lastError=Bn}},getNewId:function(Cn){var Dn=$m.counter++;for(var En=Cn.length;En<Dn;En++){Cn[En]=null}return Dn},MINI_TEMP_BUFFER_SIZE:256,miniTempBuffer:null,miniTempBufferViews:[0],getSource:function(Fn,Gn,Hn,In){var Jn="";for(var Kn=0;Kn<Gn;++Kn){var Ln;if(In){var Mn=hn[In+Kn*4>>2];if(Mn<0){Ln=bn(hn[Hn+Kn*4>>2])}else{Ln=bn(hn[Hn+Kn*4>>2],Mn)}}else{Ln=bn(hn[Hn+Kn*4>>2])}Jn+=Ln}return Jn},createContext:function(Nn,On){if(typeof On["majorVersion"]==="undefined"&&typeof On["minorVersion"]==="undefined"){if(typeof WebGL2RenderingContext!=="undefined")On["majorVersion"]=2;else On["majorVersion"]=1;On["minorVersion"]=0}var Pn;var Qn="?";function Rn(Tn){Qn=Tn.statusMessage||Qn}try{Nn.addEventListener("webglcontextcreationerror",Rn,false);try{if(On["majorVersion"]==1&&On["minorVersion"]==0){Pn=Nn.getContext("webgl",On)||Nn.getContext("experimental-webgl",On)}else if(On["majorVersion"]==2&&On["minorVersion"]==0){Pn=Nn.getContext("webgl2",On)}else{throw"Unsupported WebGL context version "+On["majorVersion"]+"."+On["minorVersion"]+"!"}}finally{Nn.removeEventListener("webglcontextcreationerror",Rn,false)}if(!Pn)throw":("}catch(Un){an("Could not create canvas: "+[Qn,Un,JSON.stringify(On)]);return 0}if(!Pn)return 0;var Sn=$m.registerContext(Pn,On);return Sn},registerContext:function(Vn,Wn){var Xn=1;var Yn={handle:Xn,attributes:Wn,version:Wn["majorVersion"],GLctx:Vn};function Zn(){var $n=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return $n?parseInt($n[2],10):false}Yn["supportsWebGL2EntryPoints"]=Yn.version>=2&&(Zn()===false||Zn()>=58);if(Vn.canvas)Vn.canvas.GLctxObject=Yn;$m.contexts[Xn]=Yn;if(typeof Wn["enableExtensionsByDefault"]==="undefined"||Wn["enableExtensionsByDefault"]){$m.initExtensions(Yn)}if(Wn["renderViaOffscreenBackBuffer"]){return 0}return Xn},makeContextCurrent:function(_n){if(!_n){_m=$m.currentContext=null;return true}var ao=$m.contexts[_n];if(!ao){return false}_m=ao.GLctx;$m.currentContext=ao;return true},getContext:function(bo){return $m.contexts[bo]},deleteContext:function(co){if(!co)return;if($m.currentContext===$m.contexts[co])$m.currentContext=null;if(typeof JSEvents==="object")JSEvents.removeAllHandlersOnTarget($m.contexts[co].GLctx.canvas);if($m.contexts[co]&&$m.contexts[co].GLctx.canvas)$m.contexts[co].GLctx.canvas.GLctxObject=undefined;mn($m.contexts[co]);$m.contexts[co]=null},initExtensions:function(eo){if(!eo)eo=$m.currentContext;if(eo.initExtensionsDone)return;eo.initExtensionsDone=true;var fo=eo.GLctx;eo.maxVertexAttribs=fo.getParameter(fo.MAX_VERTEX_ATTRIBS);if(eo.version<2){var go=fo.getExtension("ANGLE_instanced_arrays");if(go){fo["vertexAttribDivisor"]=function(mo,no){go["vertexAttribDivisorANGLE"](mo,no)};fo["drawArraysInstanced"]=function(oo,po,qo,ro){go["drawArraysInstancedANGLE"](oo,po,qo,ro)};fo["drawElementsInstanced"]=function(so,to,uo,vo,wo){go["drawElementsInstancedANGLE"](so,to,uo,vo,wo)}}var ho=fo.getExtension("OES_vertex_array_object");if(ho){fo["createVertexArray"]=function(){return ho["createVertexArrayOES"]()};fo["deleteVertexArray"]=function(xo){ho["deleteVertexArrayOES"](xo)};fo["bindVertexArray"]=function(yo){ho["bindVertexArrayOES"](yo)};fo["isVertexArray"]=function(zo){return ho["isVertexArrayOES"](zo)}}var io=fo.getExtension("WEBGL_draw_buffers");if(io){fo["drawBuffers"]=function(Ao,Bo){io["drawBuffersWEBGL"](Ao,Bo)}}var jo=fo.getExtension("EXT_frag_depth");if(true){fo.fragDepthExt=jo;console.log("fragDepthExt",jo)}}fo.disjointTimerQueryExt=fo.getExtension("EXT_disjoint_timer_query");var ko=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2"];var lo=fo.getSupportedExtensions();if(lo&&lo.length>0){fo.getSupportedExtensions().forEach(function(Co){if(ko.indexOf(Co)!=-1){fo.getExtension(Co)}})}},populateUniformTable:function(Do){var Eo=$m.programs[Do];$m.programInfos[Do]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var Fo=$m.programInfos[Do];var Go=Fo.uniforms;var Ho=_m.getProgramParameter(Eo,_m.ACTIVE_UNIFORMS);for(var Io=0;Io<Ho;++Io){var Jo=_m.getActiveUniform(Eo,Io);var Ko=Jo.name;Fo.maxUniformLength=Math.max(Fo.maxUniformLength,Ko.length+1);if(Ko.indexOf("]",Ko.length-1)!==-1){var Lo=Ko.lastIndexOf("[");Ko=Ko.slice(0,Lo)}var Mo=_m.getUniformLocation(Eo,Ko);if(Mo!=null){var No=$m.getNewId($m.uniforms);Go[Ko]=[Jo.size,No];$m.uniforms[No]=Mo;for(var Oo=1;Oo<Jo.size;++Oo){var Po=Ko+"["+Oo+"]";Mo=_m.getUniformLocation(Eo,Po);No=$m.getNewId($m.uniforms);$m.uniforms[No]=Mo}}}}};var _m=undefined;var an=console.error;var bn=Zm["WASM"]["GetString"];var cn=function(Qo,Ro,So){Zm["WASM"]["SetString"](Ro,Qo)};var dn=undefined;var en=undefined;var fn=undefined;var gn=undefined;var hn=undefined;var jn=undefined;var kn=undefined;function ln(To){return Zm["WASM"]["Malloc"](To)}function mn(Uo){Zm["WASM"]["Free"](Uo)}function nn(Vo,Wo,Xo){return Xo?+(Vo>>>0)+ +(Wo>>>0)*4294967296:+(Vo>>>0)+ +(Wo|0)*4294967296}function on(Yo){switch(Yo){case 34962:Yo=34964;break;case 34963:Yo=34965;break;case 35051:Yo=35053;break;case 35052:Yo=35055;break;case 35982:Yo=35983;break;case 36662:Yo=36662;break;case 36663:Yo=36663;break;case 35345:Yo=35368;break}var Zo=_m.getParameter(Yo);if(Zo)return Zo.name|0;else return 0}function pn($o){switch($o){case 34962:case 34963:case 36662:case 36663:case 35051:case 35052:case 35882:case 35982:case 35345:return true;default:return false}}function qn(_o,ap,bp,cp){if(!bp){$m.recordError(1281);return}var dp=_m["getIndexedParameter"](_o,ap);var ep;switch(typeof dp){case"boolean":ep=dp?1:0;break;case"number":ep=dp;break;case"object":if(dp===null){switch(_o){case 35983:case 35368:ep=0;break;default:{$m.recordError(1280);return}}}else if(dp instanceof WebGLBuffer){ep=dp["name"]|0}else{$m.recordError(1280);return}break;default:$m.recordError(1280);return}switch(cp){case"Integer64":var fp=0;var gp=[ep>>>0,(fp=ep,+Math.abs(fp)>=1?fp>0?(Math.min(+Math.floor(fp/4294967296),4294967295)|0)>>>0:~~+Math.ceil((fp-+(~~fp>>>0))/4294967296)>>>0:0)];hn[bp>>2]=gp[0];hn[bp+4>>2]=gp[1];break;case"Integer":hn[bp>>2]=ep;break;case"Float":kn[bp>>2]=ep;break;case"Boolean":dn[bp>>0]=ep?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+cp}}function rn(hp,ip,jp){if(!ip){$m.recordError(1281);return}var kp=undefined;switch(hp){case 36346:kp=1;break;case 36344:if(jp!=="Integer"&&jp!=="Integer64"){$m.recordError(1280)}return;case 34814:case 36345:kp=0;break;case 34466:var lp=_m.getParameter(34467);kp=lp.length;break;case 33309:if(_m.canvas.GLctxObject.version<2){$m.recordError(1282);return}var mp=_m.getSupportedExtensions();kp=2*mp.length;break;case 33307:case 33308:if(_m.canvas.GLctxObject.version<2){$m.recordError(1280);return}kp=hp==33307?3:0;break}if(kp===undefined){var np=_m.getParameter(hp);switch(typeof np){case"number":kp=np;break;case"boolean":kp=np?1:0;break;case"string":$m.recordError(1280);return;case"object":if(np===null){switch(hp){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 35097:case 36389:case 34068:{kp=0;break};default:{$m.recordError(1280);return}}}else if(np instanceof Float32Array||np instanceof Uint32Array||np instanceof Int32Array||np instanceof Array){for(var op=0;op<np.length;++op){switch(jp){case"Integer":hn[ip+op*4>>2]=np[op];break;case"Float":kn[ip+op*4>>2]=np[op];break;case"Boolean":dn[ip+op>>0]=np[op]?1:0;break;default:throw"internal glGet error, bad type: "+jp}}return}else if(np instanceof WebGLBuffer||np instanceof WebGLProgram||np instanceof WebGLFramebuffer||np instanceof WebGLRenderbuffer||np instanceof WebGLQuery||np instanceof WebGLSampler||np instanceof WebGLSync||np instanceof WebGLTransformFeedback||np instanceof WebGLVertexArrayObject||np instanceof WebGLTexture){kp=np["name"]|0}else{$m.recordError(1280);return}break;default:$m.recordError(1280);return}}switch(jp){case"Integer64":var pp=0;var qp=[kp>>>0,(pp=kp,+Math.abs(pp)>=1?pp>0?(Math.min(+Math.floor(pp/4294967296),4294967295)|0)>>>0:~~+Math.ceil((pp-+(~~pp>>>0))/4294967296)>>>0:0)];hn[ip>>2]=qp[0];hn[ip+4>>2]=qp[1];break;case"Integer":hn[ip>>2]=kp;break;case"Float":kn[ip>>2]=kp;break;case"Boolean":dn[ip>>0]=kp?1:0;break;default:throw"internal glGet error, bad type: "+jp}}function sn(rp,sp,tp,up){if(!tp){$m.recordError(1281);return}var vp=_m.getUniform($m.programs[rp],$m.uniforms[sp]);if(typeof vp=="number"||typeof vp=="boolean"){switch(up){case"Integer":hn[tp>>2]=vp;break;case"Float":kn[tp>>2]=vp;break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+up}}else{for(var wp=0;wp<vp.length;wp++){switch(up){case"Integer":hn[tp+wp*4>>2]=vp[wp];break;case"Float":kn[tp+wp*4>>2]=vp[wp];break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+up}}}}function tn(xp,yp,zp,Ap){if(!zp){$m.recordError(1281);return}var Bp=_m.getVertexAttrib(xp,yp);if(yp==34975){hn[zp>>2]=Bp["name"]}else if(typeof Bp=="number"||typeof Bp=="boolean"){switch(Ap){case"Integer":hn[zp>>2]=Bp;break;case"Float":kn[zp>>2]=Bp;break;case"FloatToInteger":hn[zp>>2]=Math["fround"](Bp);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+Ap}}else{for(var Cp=0;Cp<Bp.length;Cp++){switch(Ap){case"Integer":hn[zp+Cp*4>>2]=Bp[Cp];break;case"Float":kn[zp+Cp*4>>2]=Bp[Cp];break;case"FloatToInteger":hn[zp+Cp*4>>2]=Math["fround"](Bp[Cp]);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+Ap}}}}function un(Dp,Ep,Fp,Gp){function Hp(Kp,Lp){return Math.floor((Kp+Lp-1)/Lp)*Lp}var Ip=Dp*Fp;var Jp=Hp(Ip,Gp);return Ep<=0?0:(Ep-1)*Jp+Ip}function vn(Mp,Np,Op,Pp,Qp,Rp){var Sp;var Tp;switch(Np){case 6406:case 6409:case 6402:case 6403:case 36244:Tp=1;break;case 6410:case 33319:case 33320:Tp=2;break;case 6407:case 35904:case 36248:Tp=3;break;case 6408:case 35906:case 36249:Tp=4;break;default:$m.recordError(1280);return null}switch(Mp){case 5121:case 5120:Sp=Tp*1;break;case 5123:case 36193:case 5131:case 5122:Sp=Tp*2;break;case 5125:case 5126:case 5124:Sp=Tp*4;break;case 34042:case 35902:case 33640:case 35899:case 34042:Sp=4;break;case 33635:case 32819:case 32820:Sp=2;break;default:$m.recordError(1280);return null}var Up=un(Op,Pp,Sp,$m.unpackAlignment);switch(Mp){case 5120:return dn.subarray(Qp,Qp+Up);case 5121:return en.subarray(Qp,Qp+Up);case 5122:return fn.subarray(Qp>>1,Qp+Up>>1);case 5124:return hn.subarray(Qp>>2,Qp+Up>>2);case 5126:return kn.subarray(Qp>>2,Qp+Up>>2);case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return jn.subarray(Qp>>2,Qp+Up>>2);case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return gn.subarray(Qp>>1,Qp+Up>>1);default:$m.recordError(1280);return null}}function wn(Vp){switch(Vp){case 5120:return dn;case 5121:return en;case 5122:return fn;case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return gn;case 5124:return hn;case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return jn;case 5126:return kn;default:return null}}function xn(Wp){switch(Wp){case 5120:case 5121:return 0;case 5122:case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return 1;case 5124:case 5126:case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return 2;default:return 0}}var yn=function(){function Xp(){this.Ctx=undefined}Xp.prototype.FlushHeap=function(){dn=Zm["WASM"]["HEAP8"]();en=Zm["WASM"]["HEAPU8"]();fn=Zm["WASM"]["HEAP16"]();gn=Zm["WASM"]["HEAPU16"]();hn=Zm["WASM"]["HEAP32"]();jn=Zm["WASM"]["HEAPU32"]();kn=Zm["WASM"]["HEAPF32"]()};Xp.prototype.CreateContext=function(Yp,Zp){Zp=Zp||{majorVersion:1,minorVersion:0,alpha:0,depth:1,stencil:0,antialias:1,premultipliedAlpha:0,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:0,proxyContextToMainThread:0,renderViaOffscreenBackBuffer:0};if(Zp["explicitSwapControl"]){return 0}$m.init();var $p=$m.createContext(Yp,Zp);var _p=$m.makeContextCurrent($p);this.Ctx=_m;return _p?0:-5};Xp.prototype.DestroyContext=function(){$m.deleteContext($m.currentContext?$m.currentContext.handle:0)};Xp.prototype.GetTextureByHandle=function(aq){return aq?$m.textures[aq]:null};Xp.prototype._glActiveTexture=function(bq){_m["activeTexture"](bq)};Xp.prototype._glAttachShader=function(cq,dq){_m.attachShader($m.programs[cq],$m.shaders[dq])};Xp.prototype._glBeginQuery=function(eq,fq){_m["beginQuery"](eq,fq?$m.queries[fq]:null)};Xp.prototype._glBeginTransformFeedback=function(gq){_m["beginTransformFeedback"](gq)};Xp.prototype._glBindAttribLocation=function(hq,iq,jq){jq=bn(jq);_m.bindAttribLocation($m.programs[hq],iq,jq)};Xp.prototype._glBindBuffer=function(kq,lq){var mq=lq?$m.buffers[lq]:null;if(kq==35051){_m.currentPixelPackBufferBinding=lq}else if(kq==35052){_m.currentPixelUnpackBufferBinding=lq}_m.bindBuffer(kq,mq)};Xp.prototype._glBindBufferBase=function(nq,oq,pq){var qq=pq?$m.buffers[pq]:null;_m["bindBufferBase"](nq,oq,qq)};Xp.prototype._glBindBufferRange=function(rq,sq,tq,uq,vq){var wq=tq?$m.buffers[tq]:null;_m["bindBufferRange"](rq,sq,wq,uq,vq)};Xp.prototype._glBindFramebuffer=function(xq,yq){_m.bindFramebuffer(xq,yq?$m.framebuffers[yq]:null)};Xp.prototype._glBindRenderbuffer=function(zq,Aq){_m.bindRenderbuffer(zq,Aq?$m.renderbuffers[Aq]:null)};Xp.prototype._glBindSampler=function(Bq,Cq){_m["bindSampler"](Bq,Cq?$m.samplers[Cq]:null)};Xp.prototype._glBindTexture=function(Dq,Eq){_m.bindTexture(Dq,Eq?$m.textures[Eq]:null)};Xp.prototype._glBindTransformFeedback=function(Fq,Gq){var Hq=Gq?$m.transformFeedbacks[Gq]:null;if(Gq&&!Hq){$m.recordError(1282);return}_m["bindTransformFeedback"](Fq,Hq)};Xp.prototype._glBindVertexArray=function(Iq){_m["bindVertexArray"]($m.vaos[Iq])};Xp.prototype._glBlendEquation=function(Jq){_m["blendEquation"](Jq)};Xp.prototype._glBlendEquationSeparate=function(Kq,Lq){_m["blendEquationSeparate"](Kq,Lq)};Xp.prototype._glBlendFuncSeparate=function(Mq,Nq,Oq,Pq){_m["blendFuncSeparate"](Mq,Nq,Oq,Pq)};Xp.prototype._glBlitFramebuffer=function(Qq,Rq,Sq,Tq,Uq,Vq,Wq,Xq,Yq,Zq){_m["blitFramebuffer"](Qq,Rq,Sq,Tq,Uq,Vq,Wq,Xq,Yq,Zq)};Xp.prototype._glBufferData=function($q,_q,ar,br){if(!ar){_m.bufferData($q,_q,br)}else{if($m.currentContext.supportsWebGL2EntryPoints){_m.bufferData($q,en,br,ar,_q);return}_m.bufferData($q,en.subarray(ar,ar+_q),br)}};Xp.prototype._glBufferSubData=function(cr,dr,er,fr){if($m.currentContext.supportsWebGL2EntryPoints){_m.bufferSubData(cr,dr,en,fr,er);return}_m.bufferSubData(cr,dr,en.subarray(fr,fr+er))};Xp.prototype._glCheckFramebufferStatus=function(gr){return _m["checkFramebufferStatus"](gr)};Xp.prototype._glClear=function(hr){_m["clear"](hr)};Xp.prototype._glClearColor=function(ir,jr,kr,lr){_m["clearColor"](ir,jr,kr,lr)};Xp.prototype._glClearDepthf=function(mr){_m["clearDepth"](mr)};Xp.prototype._glClearStencil=function(nr){_m["clearStencil"](nr)};Xp.prototype._glClientWaitSync=function(or,pr,qr,rr){qr=qr>>>0;rr=rr>>>0;var sr=qr==4294967295&&rr==4294967295?-1:nn(qr,rr,true);return _m.clientWaitSync($m.syncs[or],pr,sr)};Xp.prototype._glColorMask=function(tr,ur,vr,wr){_m.colorMask(!!tr,!!ur,!!vr,!!wr)};Xp.prototype._glCompileShader=function(xr){_m.compileShader($m.shaders[xr])};Xp.prototype._glCompressedTexImage2D=function(yr,zr,Ar,Br,Cr,Dr,Er,Fr){if($m.currentContext.supportsWebGL2EntryPoints){_m["compressedTexImage2D"](yr,zr,Ar,Br,Cr,Dr,en,Fr,Er);return}_m["compressedTexImage2D"](yr,zr,Ar,Br,Cr,Dr,Fr?en.subarray(Fr,Fr+Er):null)};Xp.prototype._glCompressedTexSubImage2D=function(Gr,Hr,Ir,Jr,Kr,Lr,Mr,Nr,Or){if($m.currentContext.supportsWebGL2EntryPoints){_m["compressedTexSubImage2D"](Gr,Hr,Ir,Jr,Kr,Lr,Mr,en,Or,Nr);return}_m["compressedTexSubImage2D"](Gr,Hr,Ir,Jr,Kr,Lr,Mr,Or?en.subarray(Or,Or+Nr):null)};Xp.prototype._glCompressedTexSubImage3D=function(Pr,Qr,Rr,Sr,Tr,Ur,Vr,Wr,Xr,Yr,Zr){if($m.currentContext.supportsWebGL2EntryPoints){_m["compressedTexSubImage3D"](Pr,Qr,Rr,Sr,Tr,Ur,Vr,Wr,Xr,en,Zr,Yr)}else{_m["compressedTexSubImage3D"](Pr,Qr,Rr,Sr,Tr,Ur,Vr,Wr,Xr,Zr?en.subarray(Zr,Zr+Yr):null)}};Xp.prototype._glCopyBufferSubData=function($r,_r,as,bs,cs){_m["copyBufferSubData"]($r,_r,as,bs,cs)};Xp.prototype._glCopyTexImage2D=function(ds,es,fs,gs,hs,is,js,ks){_m["copyTexImage2D"](ds,es,fs,gs,hs,is,js,ks)};Xp.prototype._glCopyTexSubImage2D=function(ls,ms,ns,os,ps,qs,rs,ss){_m["copyTexSubImage2D"](ls,ms,ns,os,ps,qs,rs,ss)};Xp.prototype._glCreateProgram=function(){var ts=$m.getNewId($m.programs);var us=_m.createProgram();us.name=ts;$m.programs[ts]=us;return ts};Xp.prototype._glCreateShader=function(vs){var ws=$m.getNewId($m.shaders);$m.shaders[ws]=_m.createShader(vs);return ws};Xp.prototype._glCullFace=function(xs){_m["cullFace"](xs)};Xp.prototype._glDeleteBuffers=function(ys,zs){for(var As=0;As<ys;As++){var Bs=hn[zs+As*4>>2];var Cs=$m.buffers[Bs];if(!Cs)continue;_m.deleteBuffer(Cs);Cs.name=0;$m.buffers[Bs]=null;if(Bs==$m.currArrayBuffer)$m.currArrayBuffer=0;if(Bs==$m.currElementArrayBuffer)$m.currElementArrayBuffer=0}};Xp.prototype._glDeleteFramebuffers=function(Ds,Es){for(var Fs=0;Fs<Ds;++Fs){var Gs=hn[Es+Fs*4>>2];var Hs=$m.framebuffers[Gs];if(!Hs)continue;_m.deleteFramebuffer(Hs);Hs.name=0;$m.framebuffers[Gs]=null}};Xp.prototype._glDeleteProgram=function(Is){if(!Is)return;var Js=$m.programs[Is];if(!Js){$m.recordError(1281);return}_m.deleteProgram(Js);Js.name=0;$m.programs[Is]=null;$m.programInfos[Is]=null};Xp.prototype._glDeleteQueries=function(Ks,Ls){for(var Ms=0;Ms<Ks;Ms++){var Ns=hn[Ls+Ms*4>>2];var Os=$m.queries[Ns];if(!Os)continue;_m["deleteQuery"](Os);$m.queries[Ns]=null}};Xp.prototype._glDeleteRenderbuffers=function(Ps,Qs){for(var Rs=0;Rs<Ps;Rs++){var Ss=hn[Qs+Rs*4>>2];var Ts=$m.renderbuffers[Ss];if(!Ts)continue;_m.deleteRenderbuffer(Ts);Ts.name=0;$m.renderbuffers[Ss]=null}};Xp.prototype._glDeleteSamplers=function(Us,Vs){for(var Ws=0;Ws<Us;Ws++){var Xs=hn[Vs+Ws*4>>2];var Ys=$m.samplers[Xs];if(!Ys)continue;_m["deleteSampler"](Ys);Ys.name=0;$m.samplers[Xs]=null}};Xp.prototype._glDeleteShader=function(Zs){if(!Zs)return;var $s=$m.shaders[Zs];if(!$s){$m.recordError(1281);return}_m.deleteShader($s);$m.shaders[Zs]=null};Xp.prototype._glDeleteSync=function(_s){if(!_s)return;var at=$m.syncs[_s];if(!at){$m.recordError(1281);return}_m.deleteSync(at);at.name=0;$m.syncs[_s]=null};Xp.prototype._glDeleteTextures=function(bt,ct){for(var dt=0;dt<bt;dt++){var et=hn[ct+dt*4>>2];var ft=$m.textures[et];if(!ft)continue;_m.deleteTexture(ft);ft.name=0;$m.textures[et]=null}};Xp.prototype._glDeleteTransformFeedbacks=function(gt,ht){for(var it=0;it<gt;it++){var jt=hn[ht+it*4>>2];var kt=$m.transformFeedbacks[jt];if(!kt)continue;_m["deleteTransformFeedback"](kt);kt.name=0;$m.transformFeedbacks[jt]=null}};Xp.prototype._glDeleteVertexArrays=function(lt,mt){for(var nt=0;nt<lt;nt++){var ot=hn[mt+nt*4>>2];_m["deleteVertexArray"]($m.vaos[ot]);$m.vaos[ot]=null}};Xp.prototype._glDepthFunc=function(pt){_m["depthFunc"](pt)};Xp.prototype._glDepthMask=function(qt){_m.depthMask(!!qt)};Xp.prototype._glDetachShader=function(rt,st){_m.detachShader($m.programs[rt],$m.shaders[st])};Xp.prototype._glDisable=function(tt){_m["disable"](tt)};Xp.prototype._glDisableVertexAttribArray=function(ut){_m.disableVertexAttribArray(ut)};Xp.prototype._glDrawArrays=function(vt,wt,xt){_m.drawArrays(vt,wt,xt)};Xp.prototype._glDrawArraysInstanced=function(yt,zt,At,Bt){_m["drawArraysInstanced"](yt,zt,At,Bt)};Xp.prototype._glDrawBuffers=function(Ct,Dt){var Et=$m.tempFixedLengthArray[Ct];for(var Ft=0;Ft<Ct;Ft++){Et[Ft]=hn[Dt+Ft*4>>2]}_m["drawBuffers"](Et)};Xp.prototype._glDrawElements=function(Gt,Ht,It,Jt){_m.drawElements(Gt,Ht,It,Jt)};Xp.prototype._glDrawElementsInstanced=function(Kt,Lt,Mt,Nt,Ot){_m["drawElementsInstanced"](Kt,Lt,Mt,Nt,Ot)};Xp.prototype._glEnable=function(Pt){_m["enable"](Pt)};Xp.prototype._glEnableVertexAttribArray=function(Qt){_m.enableVertexAttribArray(Qt)};Xp.prototype._glEndQuery=function(Rt){_m["endQuery"](Rt)};Xp.prototype._glEndTransformFeedback=function(){_m["endTransformFeedback"]()};Xp.prototype._glFenceSync=function(St,Tt){var Ut=_m.fenceSync(St,Tt);if(Ut){var Vt=$m.getNewId($m.syncs);Ut.name=Vt;$m.syncs[Vt]=Ut;return Vt}else{return 0}};Xp.prototype._glFinish=function(){_m["finish"]()};Xp.prototype._glFlush=function(){_m["flush"]()};Xp.prototype._glFlushMappedBufferRange=function(Wt,Xt,Yt){if(!pn(Wt)){$m.recordError(1280);an("GL_INVALID_ENUM in glFlushMappedBufferRange");return}var Zt=$m.mappedBuffers[on(Wt)];if(!Zt){$m.recordError(1282);an("buffer was never mapped in glFlushMappedBufferRange");return}if(!(Zt.access&16)){$m.recordError(1282);an("buffer was not mapped with GL_MAP_FLUSH_EXPLICIT_BIT in glFlushMappedBufferRange");return}if(Xt<0||Yt<0||Xt+Yt>Zt.length){$m.recordError(1281);an("invalid range in glFlushMappedBufferRange");return}_m.bufferSubData(Wt,Zt.offset,en.subarray(Zt.mem+Xt,Zt.mem+Xt+Yt))};Xp.prototype._glFramebufferRenderbuffer=function($t,_t,au,bu){_m.framebufferRenderbuffer($t,_t,au,$m.renderbuffers[bu])};Xp.prototype._glFramebufferTexture2D=function(cu,du,eu,fu,gu){_m.framebufferTexture2D(cu,du,eu,$m.textures[fu],gu)};Xp.prototype._glFramebufferTextureLayer=function(hu,iu,ju,ku,lu){_m.framebufferTextureLayer(hu,iu,$m.textures[ju],ku,lu)};Xp.prototype._glFrontFace=function(mu){_m["frontFace"](mu)};Xp.prototype._glGenBuffers=function(nu,ou){for(var pu=0;pu<nu;pu++){var qu=_m.createBuffer();if(!qu){$m.recordError(1282);while(pu<nu)hn[ou+pu++*4>>2]=0;return}var ru=$m.getNewId($m.buffers);qu.name=ru;$m.buffers[ru]=qu;hn[ou+pu*4>>2]=ru}};Xp.prototype._glGenFramebuffers=function(su,tu){for(var uu=0;uu<su;++uu){var vu=_m.createFramebuffer();if(!vu){$m.recordError(1282);while(uu<su)hn[tu+uu++*4>>2]=0;return}var wu=$m.getNewId($m.framebuffers);vu.name=wu;$m.framebuffers[wu]=vu;hn[tu+uu*4>>2]=wu}};Xp.prototype._glGenQueries=function(xu,yu){for(var zu=0;zu<xu;zu++){var Au=_m["createQuery"]();if(!Au){$m.recordError(1282);while(zu<xu)hn[yu+zu++*4>>2]=0;return}var Bu=$m.getNewId($m.queries);Au.name=Bu;$m.queries[Bu]=Au;hn[yu+zu*4>>2]=Bu}};Xp.prototype._glGenRenderbuffers=function(Cu,Du){for(var Eu=0;Eu<Cu;Eu++){var Fu=_m.createRenderbuffer();if(!Fu){$m.recordError(1282);while(Eu<Cu)hn[Du+Eu++*4>>2]=0;return}var Gu=$m.getNewId($m.renderbuffers);Fu.name=Gu;$m.renderbuffers[Gu]=Fu;hn[Du+Eu*4>>2]=Gu}};Xp.prototype._glGenSamplers=function(Hu,Iu){for(var Ju=0;Ju<Hu;Ju++){var Ku=_m["createSampler"]();if(!Ku){$m.recordError(1282);while(Ju<Hu)hn[Iu+Ju++*4>>2]=0;return}var Lu=$m.getNewId($m.samplers);Ku.name=Lu;$m.samplers[Lu]=Ku;hn[Iu+Ju*4>>2]=Lu}};Xp.prototype._glGenTextures=function(Mu,Nu){for(var Ou=0;Ou<Mu;Ou++){var Pu=_m.createTexture();if(!Pu){$m.recordError(1282);while(Ou<Mu)hn[Nu+Ou++*4>>2]=0;return}var Qu=$m.getNewId($m.textures);Pu.name=Qu;$m.textures[Qu]=Pu;hn[Nu+Ou*4>>2]=Qu}};Xp.prototype._glGenTransformFeedbacks=function(Ru,Su){for(var Tu=0;Tu<Ru;Tu++){var Uu=_m["createTransformFeedback"]();if(!Uu){$m.recordError(1282);while(Tu<Ru)hn[Su+Tu++*4>>2]=0;return}var Vu=$m.getNewId($m.transformFeedbacks);Uu.name=Vu;$m.transformFeedbacks[Vu]=Uu;hn[Su+Tu*4>>2]=Vu}};Xp.prototype._glGenVertexArrays=function(Wu,Xu){for(var Yu=0;Yu<Wu;Yu++){var Zu=_m["createVertexArray"]();if(!Zu){$m.recordError(1282);while(Yu<Wu)hn[Xu+Yu++*4>>2]=0;return}var $u=$m.getNewId($m.vaos);Zu.name=$u;$m.vaos[$u]=Zu;hn[Xu+Yu*4>>2]=$u}};Xp.prototype._glGenerateMipmap=function(_u){_m["generateMipmap"](_u)};Xp.prototype._glGetActiveAttrib=function(av,bv,cv,dv,ev,fv,gv){av=$m.programs[av];var hv=_m.getActiveAttrib(av,bv);if(!hv)return;if(cv>0&&gv){var iv=cn(hv.name,gv,cv);if(dv)hn[dv>>2]=iv}else{if(dv)hn[dv>>2]=0}if(ev)hn[ev>>2]=hv.size;if(fv)hn[fv>>2]=hv.type};Xp.prototype._glGetActiveUniform=function(jv,kv,lv,mv,nv,ov,pv){jv=$m.programs[jv];var qv=_m.getActiveUniform(jv,kv);if(!qv)return;if(lv>0&&pv){var rv=cn(qv.name,pv,lv);if(mv)hn[mv>>2]=rv}else{if(mv)hn[mv>>2]=0}if(nv)hn[nv>>2]=qv.size;if(ov)hn[ov>>2]=qv.type};Xp.prototype._glGetActiveUniformBlockName=function(sv,tv,uv,vv,wv){sv=$m.programs[sv];var xv=_m["getActiveUniformBlockName"](sv,tv);if(!xv)return;if(wv&&uv>0){var yv=cn(xv,wv,uv);if(vv)hn[vv>>2]=yv}else{if(vv)hn[vv>>2]=0}};Xp.prototype._glGetActiveUniformBlockiv=function(zv,Av,Bv,Cv){if(!Cv){$m.recordError(1281);return}zv=$m.programs[zv];switch(Bv){case 35393:var Dv=_m["getActiveUniformBlockName"](zv,Av);hn[Cv>>2]=Dv.length+1;return;default:var Ev=_m["getActiveUniformBlockParameter"](zv,Av,Bv);if(!Ev)return;if(typeof Ev=="number"){hn[Cv>>2]=Ev}else{for(var Fv=0;Fv<Ev.length;Fv++){hn[Cv+Fv*4>>2]=Ev[Fv]}}}};Xp.prototype._glGetActiveUniformsiv=function(Gv,Hv,Iv,Jv,Kv){if(!Kv){$m.recordError(1281);return}if(Hv>0&&Iv==0){$m.recordError(1281);return}Gv=$m.programs[Gv];var Lv=[];for(var Mv=0;Mv<Hv;Mv++){Lv.push(hn[Iv+Mv*4>>2])}var Nv=_m["getActiveUniforms"](Gv,Lv,Jv);if(!Nv)return;var Ov=Nv.length;for(var Mv=0;Mv<Ov;Mv++){hn[Kv+Mv*4>>2]=Nv[Mv]}};Xp.prototype._glGetAttribLocation=function(Pv,Qv){return _m.getAttribLocation($m.programs[Pv],bn(Qv))};Xp.prototype._glGetError=function(){if($m.lastError){var Rv=$m.lastError;$m.lastError=0;return Rv}else{return _m.getError()}};Xp.prototype._glGetFramebufferAttachmentParameteriv=function(Sv,Tv,Uv,Vv){var Wv=_m.getFramebufferAttachmentParameter(Sv,Tv,Uv);if(Wv instanceof WebGLRenderbuffer||Wv instanceof WebGLTexture){Wv=Wv["name"]|0}hn[Vv>>2]=Wv};Xp.prototype._glGetIntegeri_v=function(Xv,Yv,Zv){qn(Xv,Yv,Zv,"Integer")};Xp.prototype._glGetIntegerv=function($v,_v){rn($v,_v,"Integer")};Xp.prototype._glGetInternalformativ=function(aw,bw,cw,dw,ew){if(dw<0){$m.recordError(1281);return}var fw=_m["getInternalformatParameter"](aw,bw,32937);if(!fw){$m.recordError(1280);return}switch(cw){case 32937:var gw=Math.min(dw,fw.length);for(var hw=0;hw<gw;hw++){var iw=fw[hw];hn[ew+hw*4>>2]=iw}break;case 37760:if(dw>1){var iw=fw.length;hn[ew>>2]=iw}break;default:$m.recordError(1280)}};Xp.prototype._glGetProgramBinary=function(jw,kw,lw,mw,nw){$m.recordError(1282)};Xp.prototype._glGetProgramInfoLog=function(ow,pw,qw,rw){var sw=_m.getProgramInfoLog($m.programs[ow]);if(sw===null)sw="(unknown error)";if(pw>0&&rw){var tw=cn(sw,rw,pw);if(qw)hn[qw>>2]=tw}else{if(qw)hn[qw>>2]=0}};Xp.prototype._glGetProgramiv=function(uw,vw,ww){if(!ww){$m.recordError(1281);return}if(uw>=$m.counter){$m.recordError(1281);return}var xw=$m.programInfos[uw];if(!xw){$m.recordError(1282);return}if(vw==35716){var yw=_m.getProgramInfoLog($m.programs[uw]);if(yw===null)yw="(unknown error)";hn[ww>>2]=yw.length+1}else if(vw==35719){hn[ww>>2]=xw.maxUniformLength}else if(vw==35722){if(xw.maxAttributeLength==-1){uw=$m.programs[uw];var zw=_m.getProgramParameter(uw,_m.ACTIVE_ATTRIBUTES);xw.maxAttributeLength=0;for(var Aw=0;Aw<zw;++Aw){var Bw=_m.getActiveAttrib(uw,Aw);xw.maxAttributeLength=Math.max(xw.maxAttributeLength,Bw.name.length+1)}}hn[ww>>2]=xw.maxAttributeLength}else if(vw==35381){if(xw.maxUniformBlockNameLength==-1){uw=$m.programs[uw];var Cw=_m.getProgramParameter(uw,_m.ACTIVE_UNIFORM_BLOCKS);xw.maxUniformBlockNameLength=0;for(var Aw=0;Aw<Cw;++Aw){var Dw=_m.getActiveUniformBlockName(uw,Aw);xw.maxUniformBlockNameLength=Math.max(xw.maxUniformBlockNameLength,Dw.length+1)}}hn[ww>>2]=xw.maxUniformBlockNameLength}else{hn[ww>>2]=_m.getProgramParameter($m.programs[uw],vw)}};Xp.prototype._glGetRenderbufferParameteriv=function(Ew,Fw,Gw){if(!Gw){$m.recordError(1281);return}hn[Gw>>2]=_m.getRenderbufferParameter(Ew,Fw)};Xp.prototype._glGetShaderInfoLog=function(Hw,Iw,Jw,Kw){var Lw=_m.getShaderInfoLog($m.shaders[Hw]);if(Lw===null)Lw="(unknown error)";if(Iw>0&&Kw){var Mw=cn(Lw,Kw,Iw);if(Jw)hn[Jw>>2]=Mw}else{if(Jw)hn[Jw>>2]=0}};Xp.prototype._glGetShaderPrecisionFormat=function(Nw,Ow,Pw,Qw){var Rw=_m.getShaderPrecisionFormat(Nw,Ow);hn[Pw>>2]=Rw.rangeMin;hn[Pw+4>>2]=Rw.rangeMax;hn[Qw>>2]=Rw.precision};Xp.prototype._glGetShaderSource=function(Sw,Tw,Uw,Vw){var Ww=_m.getShaderSource($m.shaders[Sw]);if(!Ww)return;if(Tw>0&&Vw){var Xw=cn(Ww,Vw,Tw);if(Uw)hn[Uw>>2]=Xw}else{if(Uw)hn[Uw>>2]=0}};Xp.prototype._glGetShaderiv=function(Yw,Zw,$w){if(!$w){$m.recordError(1281);return}if(Zw==35716){var _w=_m.getShaderInfoLog($m.shaders[Yw]);if(_w===null)_w="(unknown error)";hn[$w>>2]=_w.length+1}else if(Zw==35720){var ax=_m.getShaderSource($m.shaders[Yw]);var bx=ax===null||ax.length==0?0:ax.length+1;hn[$w>>2]=bx}else{hn[$w>>2]=_m.getShaderParameter($m.shaders[Yw],Zw)}};Xp.prototype._glGetString=function(cx){an("unsupported glGetString");return 0};Xp.prototype._glGetStringi=function(dx,ex){an("unsupported glGetStringi");return 0};Xp.prototype._glGetTexParameteriv=function(fx,gx,hx){if(!hx){$m.recordError(1281);return}hn[hx>>2]=_m.getTexParameter(fx,gx)};Xp.prototype._glGetUniformBlockIndex=function(ix,jx){ix=$m.programs[ix];jx=bn(jx);return _m["getUniformBlockIndex"](ix,jx)};Xp.prototype._glGetUniformIndices=function(kx,lx,mx,nx){if(!nx){$m.recordError(1281);return}if(lx>0&&(mx==0||nx==0)){$m.recordError(1281);return}kx=$m.programs[kx];var ox=[];for(var px=0;px<lx;px++)ox.push(bn(hn[mx+px*4>>2]));var qx=_m["getUniformIndices"](kx,ox);if(!qx)return;var rx=qx.length;for(var px=0;px<rx;px++){hn[nx+px*4>>2]=qx[px]}};Xp.prototype._glGetUniformLocation=function(sx,tx){tx=bn(tx);var ux=0;if(tx.indexOf("]",tx.length-1)!==-1){var vx=tx.lastIndexOf("[");var wx=tx.slice(vx+1,-1);if(wx.length>0){ux=parseInt(wx);if(ux<0){return-1}}tx=tx.slice(0,vx)}var xx=$m.programInfos[sx];if(!xx){return-1}var yx=xx.uniforms;var zx=yx[tx];if(zx&&ux<zx[0]){return zx[1]+ux}else{return-1}};Xp.prototype._glGetUniformiv=function(Ax,Bx,Cx){sn(Ax,Bx,Cx,"Integer")};Xp.prototype._glGetVertexAttribiv=function(Dx,Ex,Fx){tn(Dx,Ex,Fx,"FloatToInteger")};Xp.prototype._glInvalidateFramebuffer=function(Gx,Hx,Ix){var Jx=$m.tempFixedLengthArray[Hx];for(var Kx=0;Kx<Hx;Kx++){Jx[Kx]=hn[Ix+Kx*4>>2]}_m["invalidateFramebuffer"](Gx,Jx)};Xp.prototype._glIsEnabled=function(Lx){return _m["isEnabled"](Lx)};Xp.prototype._glIsVertexArray=function(Mx){var Nx=$m.vaos[Mx];if(!Nx)return 0;return _m["isVertexArray"](Nx)};Xp.prototype._glLinkProgram=function(Ox){_m.linkProgram($m.programs[Ox]);$m.programInfos[Ox]=null;$m.populateUniformTable(Ox)};Xp.prototype._glMapBufferRange=function(Px,Qx,Rx,Sx){if(Sx!=26&&Sx!=10){an("glMapBufferRange is only supported when access is MAP_WRITE|INVALIDATE_BUFFER");return 0}if(!pn(Px)){$m.recordError(1280);an("GL_INVALID_ENUM in glMapBufferRange");return 0}var Tx=ln(Rx);if(!Tx)return 0;$m.mappedBuffers[on(Px)]={offset:Qx,length:Rx,mem:Tx,access:Sx};return Tx};Xp.prototype._glPixelStorei=function(Ux,Vx){if(Ux==3333){$m.packAlignment=Vx}else if(Ux==3317){$m.unpackAlignment=Vx}_m.pixelStorei(Ux,Vx)};Xp.prototype._glPolygonOffset=function(Wx,Xx){_m["polygonOffset"](Wx,Xx)};Xp.prototype._glProgramBinary=function(Yx,Zx,$x,_x){$m.recordError(1280)};Xp.prototype._glProgramParameteri=function(ay,by,cy){$m.recordError(1280)};Xp.prototype._glReadBuffer=function(dy){_m["readBuffer"](dy)};Xp.prototype._glReadPixels=function(ey,fy,gy,hy,iy,jy,ky){if($m.currentContext.supportsWebGL2EntryPoints){if(_m.currentPixelPackBufferBinding){_m.readPixels(ey,fy,gy,hy,iy,jy,ky)}else{_m.readPixels(ey,fy,gy,hy,iy,jy,wn(jy),ky>>xn(jy))}return}var ly=vn(jy,iy,gy,hy,ky,iy);if(!ly){$m.recordError(1280);return}_m.readPixels(ey,fy,gy,hy,iy,jy,ly)};Xp.prototype._glRenderbufferStorage=function(my,ny,oy,py){_m["renderbufferStorage"](my,ny,oy,py)};Xp.prototype._glRenderbufferStorageMultisample=function(qy,ry,sy,ty,uy){_m["renderbufferStorageMultisample"](qy,ry,sy,ty,uy)};Xp.prototype._glSamplerParameteri=function(vy,wy,xy){_m["samplerParameteri"](vy?$m.samplers[vy]:null,wy,xy)};Xp.prototype._glScissor=function(yy,zy,Ay,By){_m["scissor"](yy,zy,Ay,By)};Xp.prototype._glShaderSource=function(Cy,Dy,Ey,Fy){var Gy=$m.getSource(Cy,Dy,Ey,Fy);_m.shaderSource($m.shaders[Cy],Gy)};Xp.prototype._glStencilFuncSeparate=function(Hy,Iy,Jy,Ky){_m["stencilFuncSeparate"](Hy,Iy,Jy,Ky)};Xp.prototype._glStencilMask=function(Ly){_m["stencilMask"](Ly)};Xp.prototype._glStencilOpSeparate=function(My,Ny,Oy,Py){_m["stencilOpSeparate"](My,Ny,Oy,Py)};Xp.prototype._glTexImage2D=function(Qy,Ry,Sy,Ty,Uy,Vy,Wy,Xy,Yy){if($m.currentContext.supportsWebGL2EntryPoints){if(_m.currentPixelUnpackBufferBinding){_m.texImage2D(Qy,Ry,Sy,Ty,Uy,Vy,Wy,Xy,Yy)}else if(Yy!=0){_m.texImage2D(Qy,Ry,Sy,Ty,Uy,Vy,Wy,Xy,wn(Xy),Yy>>xn(Xy))}else{_m.texImage2D(Qy,Ry,Sy,Ty,Uy,Vy,Wy,Xy,null)}return}var Zy=null;if(Yy)Zy=vn(Xy,Wy,Ty,Uy,Yy,Sy);_m.texImage2D(Qy,Ry,Sy,Ty,Uy,Vy,Wy,Xy,Zy)};Xp.prototype._glTexImage3D=function($y,_y,az,bz,cz,dz,ez,fz,gz,hz){if(_m.currentPixelUnpackBufferBinding){_m["texImage3D"]($y,_y,az,bz,cz,dz,ez,fz,gz,hz)}else if(hz!=0){_m["texImage3D"]($y,_y,az,bz,cz,dz,ez,fz,gz,wn(gz),hz>>xn(gz))}else{_m["texImage3D"]($y,_y,az,bz,cz,dz,ez,fz,gz,null)}};Xp.prototype._glTexParameterf=function(iz,jz,kz){_m["texParameterf"](iz,jz,kz)};Xp.prototype._glTexParameteri=function(lz,mz,nz){_m["texParameteri"](lz,mz,nz)};Xp.prototype._glTexParameteriv=function(oz,pz,qz){var rz=hn[qz>>2];_m.texParameteri(oz,pz,rz)};Xp.prototype._glTexStorage2D=function(sz,tz,uz,vz,wz){_m["texStorage2D"](sz,tz,uz,vz,wz)};Xp.prototype._glTexStorage3D=function(xz,yz,zz,Az,Bz,Cz){_m["texStorage3D"](xz,yz,zz,Az,Bz,Cz)};Xp.prototype._glTexSubImage2D=function(Dz,Ez,Fz,Gz,Hz,Iz,Jz,Kz,Lz){if($m.currentContext.supportsWebGL2EntryPoints){if(_m.currentPixelUnpackBufferBinding){_m.texSubImage2D(Dz,Ez,Fz,Gz,Hz,Iz,Jz,Kz,Lz)}else if(Lz!=0){_m.texSubImage2D(Dz,Ez,Fz,Gz,Hz,Iz,Jz,Kz,wn(Kz),Lz>>xn(Kz))}else{_m.texSubImage2D(Dz,Ez,Fz,Gz,Hz,Iz,Jz,Kz,null)}return}var Mz=null;if(Lz)Mz=vn(Kz,Jz,Hz,Iz,Lz,0);_m.texSubImage2D(Dz,Ez,Fz,Gz,Hz,Iz,Jz,Kz,Mz)};Xp.prototype._glTexSubImage3D=function(Nz,Oz,Pz,Qz,Rz,Sz,Tz,Uz,Vz,Wz,Xz){if(_m.currentPixelUnpackBufferBinding){_m["texSubImage3D"](Nz,Oz,Pz,Qz,Rz,Sz,Tz,Uz,Vz,Wz,Xz)}else if(Xz!=0){_m["texSubImage3D"](Nz,Oz,Pz,Qz,Rz,Sz,Tz,Uz,Vz,Wz,wn(Wz),Xz>>xn(Wz))}else{_m["texSubImage3D"](Nz,Oz,Pz,Qz,Rz,Sz,Tz,Uz,Vz,Wz,null)}};Xp.prototype._glTransformFeedbackVaryings=function(Yz,Zz,$z,_z){Yz=$m.programs[Yz];var aA=[];for(var bA=0;bA<Zz;bA++)aA.push(bn(hn[$z+bA*4>>2]));_m["transformFeedbackVaryings"](Yz,aA,_z)};Xp.prototype._glUniform1fv=function(cA,dA,eA){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniform1fv($m.uniforms[cA],kn,eA>>2,dA);return}var fA;if(dA<=$m.MINI_TEMP_BUFFER_SIZE){fA=$m.miniTempBufferViews[dA-1];for(var gA=0;gA<dA;++gA){fA[gA]=kn[eA+4*gA>>2]}}else{fA=kn.subarray(eA>>2,eA+dA*4>>2)}_m.uniform1fv($m.uniforms[cA],fA)};Xp.prototype._glUniform1i=function(hA,iA){_m.uniform1i($m.uniforms[hA],iA)};Xp.prototype._glUniform1iv=function(jA,kA,lA){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniform1iv($m.uniforms[jA],hn,lA>>2,kA);return}_m.uniform1iv($m.uniforms[jA],hn.subarray(lA>>2,lA+kA*4>>2))};Xp.prototype._glUniform1uiv=function(mA,nA,oA){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniform1uiv($m.uniforms[mA],jn,oA>>2,nA)}else{_m.uniform1uiv($m.uniforms[mA],jn.subarray(oA>>2,oA+nA*4>>2))}};Xp.prototype._glUniform2fv=function(pA,qA,rA){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniform2fv($m.uniforms[pA],kn,rA>>2,qA*2);return}var sA;if(2*qA<=$m.MINI_TEMP_BUFFER_SIZE){sA=$m.miniTempBufferViews[2*qA-1];for(var tA=0;tA<2*qA;tA+=2){sA[tA]=kn[rA+4*tA>>2];sA[tA+1]=kn[rA+(4*tA+4)>>2]}}else{sA=kn.subarray(rA>>2,rA+qA*8>>2)}_m.uniform2fv($m.uniforms[pA],sA)};Xp.prototype._glUniform2iv=function(uA,vA,wA){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniform2iv($m.uniforms[uA],hn,wA>>2,vA*2);return}_m.uniform2iv($m.uniforms[uA],hn.subarray(wA>>2,wA+vA*8>>2))};Xp.prototype._glUniform2uiv=function(xA,yA,zA){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniform2uiv($m.uniforms[xA],jn,zA>>2,yA*2)}else{_m.uniform2uiv($m.uniforms[xA],jn.subarray(zA>>2,zA+yA*8>>2))}};Xp.prototype._glUniform3fv=function(AA,BA,CA){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniform3fv($m.uniforms[AA],kn,CA>>2,BA*3);return}var DA;if(3*BA<=$m.MINI_TEMP_BUFFER_SIZE){DA=$m.miniTempBufferViews[3*BA-1];for(var EA=0;EA<3*BA;EA+=3){DA[EA]=kn[CA+4*EA>>2];DA[EA+1]=kn[CA+(4*EA+4)>>2];DA[EA+2]=kn[CA+(4*EA+8)>>2]}}else{DA=kn.subarray(CA>>2,CA+BA*12>>2)}_m.uniform3fv($m.uniforms[AA],DA)};Xp.prototype._glUniform3iv=function(FA,GA,HA){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniform3iv($m.uniforms[FA],hn,HA>>2,GA*3);return}_m.uniform3iv($m.uniforms[FA],hn.subarray(HA>>2,HA+GA*12>>2))};Xp.prototype._glUniform3uiv=function(IA,JA,KA){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniform3uiv($m.uniforms[IA],jn,KA>>2,JA*3)}else{_m.uniform3uiv($m.uniforms[IA],jn.subarray(KA>>2,KA+JA*12>>2))}};Xp.prototype._glUniform4fv=function(LA,MA,NA){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniform4fv($m.uniforms[LA],kn,NA>>2,MA*4);return}var OA;if(4*MA<=$m.MINI_TEMP_BUFFER_SIZE){OA=$m.miniTempBufferViews[4*MA-1];for(var PA=0;PA<4*MA;PA+=4){OA[PA]=kn[NA+4*PA>>2];OA[PA+1]=kn[NA+(4*PA+4)>>2];OA[PA+2]=kn[NA+(4*PA+8)>>2];OA[PA+3]=kn[NA+(4*PA+12)>>2]}}else{OA=kn.subarray(NA>>2,NA+MA*16>>2)}_m.uniform4fv($m.uniforms[LA],OA)};Xp.prototype._glUniform4iv=function(QA,RA,SA){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniform4iv($m.uniforms[QA],hn,SA>>2,RA*4);return}_m.uniform4iv($m.uniforms[QA],hn.subarray(SA>>2,SA+RA*16>>2))};Xp.prototype._glUniform4uiv=function(TA,UA,VA){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniform4uiv($m.uniforms[TA],jn,VA>>2,UA*4)}else{_m.uniform4uiv($m.uniforms[TA],jn.subarray(VA>>2,VA+UA*16>>2))}};Xp.prototype._glUniformBlockBinding=function(WA,XA,YA){WA=$m.programs[WA];_m["uniformBlockBinding"](WA,XA,YA)};Xp.prototype._glUniformMatrix3fv=function(ZA,$A,_A,aB){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniformMatrix3fv($m.uniforms[ZA],!!_A,kn,aB>>2,$A*9);return}var bB;if(9*$A<=$m.MINI_TEMP_BUFFER_SIZE){bB=$m.miniTempBufferViews[9*$A-1];for(var cB=0;cB<9*$A;cB+=9){bB[cB]=kn[aB+4*cB>>2];bB[cB+1]=kn[aB+(4*cB+4)>>2];bB[cB+2]=kn[aB+(4*cB+8)>>2];bB[cB+3]=kn[aB+(4*cB+12)>>2];bB[cB+4]=kn[aB+(4*cB+16)>>2];bB[cB+5]=kn[aB+(4*cB+20)>>2];bB[cB+6]=kn[aB+(4*cB+24)>>2];bB[cB+7]=kn[aB+(4*cB+28)>>2];bB[cB+8]=kn[aB+(4*cB+32)>>2]}}else{bB=kn.subarray(aB>>2,aB+$A*36>>2)}_m.uniformMatrix3fv($m.uniforms[ZA],!!_A,bB)};Xp.prototype._glUniformMatrix4fv=function(dB,eB,fB,gB){if($m.currentContext.supportsWebGL2EntryPoints){_m.uniformMatrix4fv($m.uniforms[dB],!!fB,kn,gB>>2,eB*16);return}var hB;if(16*eB<=$m.MINI_TEMP_BUFFER_SIZE){hB=$m.miniTempBufferViews[16*eB-1];for(var iB=0;iB<16*eB;iB+=16){hB[iB]=kn[gB+4*iB>>2];hB[iB+1]=kn[gB+(4*iB+4)>>2];hB[iB+2]=kn[gB+(4*iB+8)>>2];hB[iB+3]=kn[gB+(4*iB+12)>>2];hB[iB+4]=kn[gB+(4*iB+16)>>2];hB[iB+5]=kn[gB+(4*iB+20)>>2];hB[iB+6]=kn[gB+(4*iB+24)>>2];hB[iB+7]=kn[gB+(4*iB+28)>>2];hB[iB+8]=kn[gB+(4*iB+32)>>2];hB[iB+9]=kn[gB+(4*iB+36)>>2];hB[iB+10]=kn[gB+(4*iB+40)>>2];hB[iB+11]=kn[gB+(4*iB+44)>>2];hB[iB+12]=kn[gB+(4*iB+48)>>2];hB[iB+13]=kn[gB+(4*iB+52)>>2];hB[iB+14]=kn[gB+(4*iB+56)>>2];hB[iB+15]=kn[gB+(4*iB+60)>>2]}}else{hB=kn.subarray(gB>>2,gB+eB*64>>2)}_m.uniformMatrix4fv($m.uniforms[dB],!!fB,hB)};Xp.prototype._glUnmapBuffer=function(jB){if(!pn(jB)){$m.recordError(1280);an("GL_INVALID_ENUM in glUnmapBuffer");return 0}var kB=on(jB);var lB=$m.mappedBuffers[kB];if(!lB){$m.recordError(1282);an("buffer was never mapped in glUnmapBuffer");return 0}$m.mappedBuffers[kB]=null;if(!(lB.access&16))if($m.currentContext.supportsWebGL2EntryPoints){_m.bufferSubData(jB,lB.offset,en,lB.mem,lB.length)}else{_m.bufferSubData(jB,lB.offset,en.subarray(lB.mem,lB.mem+lB.length))}mn(lB.mem);return 1};Xp.prototype._glUseProgram=function(mB){_m.useProgram(mB?$m.programs[mB]:null)};Xp.prototype._glValidateProgram=function(nB){_m.validateProgram($m.programs[nB])};Xp.prototype._glVertexAttrib4f=function(oB,pB,qB,rB,sB){_m["vertexAttrib4f"](oB,pB,qB,rB,sB)};Xp.prototype._glVertexAttrib4fv=function(tB,uB){_m.vertexAttrib4f(tB,kn[uB>>2],kn[uB+4>>2],kn[uB+8>>2],kn[uB+12>>2])};Xp.prototype._glVertexAttribIPointer=function(vB,wB,xB,yB,zB){var AB=$m.currentContext.clientBuffers[vB];if(!$m.currArrayBuffer){AB.size=wB;AB.type=xB;AB.normalized=false;AB.stride=yB;AB.ptr=zB;AB.clientside=true;return}AB.clientside=false;_m.vertexAttribIPointer(vB,wB,xB,yB,zB)};Xp.prototype._glVertexAttribPointer=function(BB,CB,DB,EB,FB,GB){_m.vertexAttribPointer(BB,CB,DB,!!EB,FB,GB)};Xp.prototype._glViewport=function(HB,IB,JB,KB){_m["viewport"](HB,IB,JB,KB)};return Xp}();$m.instance=new yn;$m.instance["_name"]="GL";return[$m.instance]});