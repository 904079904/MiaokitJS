var MiaokitModule=function(a,b){var c=this;c["m_pConfigPath"]=b;c["m_pConfig"]={ENGINE:a};c["Merge"](c);c["Preload"]()};var MiaokitMerge=function(d){var e=[];d["Merge"]=d["Merge"]||function(f){for(var g=0,h=e;g<h.length;g++){var i=h[g];var j=i(f);if(j){for(var k=0,l=j;k<l.length;k++){var m=l[k];f[m._name]=m}}}};return function(n){e.push(n)}}(MiaokitModule.prototype);MiaokitMerge(function(o){var p=undefined;var q=undefined;var r={};var s=function(u,v){if(v===void 0){v=undefined}var w=0;this.length=u(-1);this[Symbol.iterator]=function(){return{next:function(){var x=u(w);if(x){var y=p(x);w=v?w+1:y.m_nObject;return{value:y,done:false}}return{value:undefined,done:true}}}}};r["Transform"]=function(z){Object.defineProperty(z,"position",{get:function(){var A=this["_GetPosition"]()/4;var B=o["WASM"].HEAPF32();return{x:B[A],y:B[A+1],z:B[A+2]}},set:function(C){this["_SetPosition"](C.x,C.y,C.z)}});Object.defineProperty(z,"euler",{get:function(){var D=this["_GetEuler"]()/4;var E=o["WASM"].HEAPF32();return{x:E[D],y:E[D+1],z:E[D+2]}},set:function(F){this["_SetEuler"](F.x,F.y,F.z)}});Object.defineProperty(z,"rotation",{get:function(){var G=this["_GetRotation"]()/4;var H=o["WASM"].HEAPF32();return{x:H[G],y:H[G+1],z:H[G+2],w:H[G+3]}},set:function(I){this["_SetRotation"](I.x,I.y,I.z,I.w)}});Object.defineProperty(z,"scale",{get:function(){var J=this["_GetScale"]()/4;var K=o["WASM"].HEAPF32();return{x:K[J],y:K[J+1],z:K[J+2]}},set:function(L){this["_SetScale"](L.x,L.y,L.z)}});Object.defineProperty(z,"localPosition",{get:function(){var M=this["_GetLocalPosition"]()/4;var N=o["WASM"].HEAPF32();return{x:N[M],y:N[M+1],z:N[M+2]}},set:function(O){this["_SetLocalPosition"](O.x,O.y,O.z)}});Object.defineProperty(z,"localEuler",{get:function(){var P=this["_GetLocalEuler"]()/4;var Q=o["WASM"].HEAPF32();return{x:Q[P],y:Q[P+1],z:Q[P+2]}},set:function(R){this["_SetLocalEuler"](R.x,R.y,R.z)}});Object.defineProperty(z,"localRotation",{get:function(){var S=this["_GetLocalRotation"]()/4;var T=o["WASM"].HEAPF32();return{x:T[S],y:T[S+1],z:T[S+2],w:T[S+3]}},set:function(U){this["_SetLocalRotation"](U.x,U.y,U.z,U.w)}});Object.defineProperty(z,"localScale",{get:function(){var V=this["_GetLocalScale"]()/4;var W=o["WASM"].HEAPF32();return{x:W[V],y:W[V+1],z:W[V+2]}},set:function(X){this["_SetLocalScale"](X.x,X.y,X.z)}});Object.defineProperty(z,"right",{get:function(){var Y=this["_GetRight"]()/4;var Z=o["WASM"].HEAPF32();return{x:Z[Y],y:Z[Y+1],z:Z[Y+2]}},set:function($){this["_SetRight"]($.x,$.y,$.z)}});Object.defineProperty(z,"up",{get:function(){var _=this["_GetUp"]()/4;var aa=o["WASM"].HEAPF32();return{x:aa[_],y:aa[_+1],z:aa[_+2]}},set:function(){var ba=this["_SetUp"]()/4;var ca=o["WASM"].HEAPF32();return{x:ca[ba],y:ca[ba+1],z:ca[ba+2]}}});Object.defineProperty(z,"forward",{get:function(){var da=this["_GetForward"]()/4;var ea=o["WASM"].HEAPF32();return{x:ea[da],y:ea[da+1],z:ea[da+2]}},set:function(){var fa=this["_SetForward"]()/4;var ga=o["WASM"].HEAPF32();return{x:ga[fa],y:ga[fa+1],z:ga[fa+2]}}});Object.defineProperty(z,"regionPosition",{get:function(){var ha=this["_GisToWorld"]()/4;var ia=o["WASM"].HEAPF32();return{x:ia[ha],y:ia[ha+1],z:ia[ha+2]}}});z["Rotate"]=function(ja,ka){this["_Rotate"](ja.x,ja.y,ja.z,ka)};z["Rotate2"]=function(la,ma,na){this["_Rotate2"](la.x,la.y,la.z,ma,na)};z["Translate"]=function(oa,pa){this["_Translate"](oa.x,oa.y,oa.z,pa)};z["TransformPoint"]=function(qa){var ra=this["_TransformPoint"](qa.x,qa.y,qa.z)/4;var sa=o["WASM"].HEAPF32();return{x:sa[ra],y:sa[ra+1],z:sa[ra+2]}}};r["GameObject"]=function(ta){Object.defineProperty(ta,"name",{get:function(){if(!this._name){var ua=this._GetName(0);var va=this._GetName(1);this._name=o["WASM"].GetString(va,ua)}return this._name}});Object.defineProperty(ta,"transform",{get:function(){return p(this["_GetTransform"]())}});Object.defineProperty(ta,"mesh",{get:function(){return p(this["_GetMesh"]())},set:function(wa){this["_SetMesh"](wa.m_nObject)}});Object.defineProperty(ta,"children",{get:function(){var xa=this;return new s(function(ya){return xa._IterChild(ya)},true)}});Object.defineProperty(ta,"parent",{get:function(){return p(this["_GetParent"]())}});Object.defineProperty(ta,"data",{get:function(){return p(this["_GetUserData"]())},set:function(za){}});Object.defineProperty(ta,"enableCollider",{set:function(Aa){this["_EnableCollider"](Aa)}});Object.defineProperty(ta,"active",{set:function(Ba){this["_Active"](Ba)}});Object.defineProperty(ta,"highlight",{set:function(Ca){this["_Highlight"](Ca)}});Object.defineProperty(ta,"transparent",{set:function(Da){console.warn("transparent discard!")}});Object.defineProperty(ta,"opacity",{set:function(Ea){this["_Transparent"](Ea)}});ta["Destory"]=function(){this["_Destory"]()};o["GameObject"]=function(){return p(ta._GameObject())}};r["Miaokit"]=function(Fa){Fa["LoadTile"]=function(Ga){var Ha=this["_Malloc"](Ga.byteLength);if(Ha){o["WASM"]["HEAPU8"](Ha,Ga.byteLength).set(new Uint8Array(Ga));var Ia=this["_LoadTile"](Ha,Ga.byteLength);var Ja=p(Ia);return Ja}return null};Fa["Analyze"]=function(Ka){var La=this["_Analyze"]();var Ma=o["WASM"].HEAP32()[La/4];var Na=o["WASM"].GetString(La+4,Ma);try{var Oa=JSON.parse(Na);var Pa=q(Ka).concat(Oa);return Pa}catch(Qa){console.log(Na)}return null};Fa["PickEntity"]=function(Ra){return p(this["_PickEntity"](Ra))};Fa["GetScene"]=function(Sa){return p(this["_GetScene"](Sa))};Fa["LngLatToGis"]=function(Ta,Ua,Va){var Wa=this["_LngLatToGis"](Ta.x,Ta.y,Ua.x,Ua.y,Ua.z,Va)/4;var Xa=o["WASM"].HEAPF32();return{x:Xa[Wa],y:Xa[Wa+1],z:Xa[Wa+2]}};Fa["GisToWorld"]=function(Ya){var Za=this["_GisToWorld"](Ya.x,Ya.y,Ya.z)/4;var $a=o["WASM"].HEAPF32();return{x:$a[Za],y:$a[Za+1],z:$a[Za+2]}};Fa["WorldToScreenPoint"]=function(_a){var ab=this["_WorldToScreenPoint"](_a.x,_a.y,_a.z)/4;var bb=o["WASM"].HEAPF32();return{x:bb[ab],y:bb[ab+1],z:bb[ab+2]}};Fa["ScreenPointToRay"]=function(cb){var db=this["_ScreenPointToRay"](cb.x,cb.y,cb.z)/4;var eb=o["WASM"].HEAPF32();return{m_mOrigin:{x:eb[db],y:eb[db+1],z:eb[db+2]},m_mDirection:{x:eb[db+4],y:eb[db+5],z:eb[db+6]}}};Object.defineProperty(Fa,"camera",{get:function(){return p(this["_GetCamera"]())}});Object.defineProperty(Fa,"cameraMode",{set:function(fb){this["_SetCameraMode"](fb)}});Object.defineProperty(Fa,"fieldOfView",{set:function(gb){this["_FieldOfView"](gb)}});Object.defineProperty(Fa,"gis",{get:function(){if(!this._gis){this._gis=r["Gis"]["g_pIns"]}return this._gis}});Object.defineProperty(Fa,"panoramas",{get:function(){if(!this._panoramas){this._panoramas=r["Panoramas"]["g_pIns"]}return this._panoramas}});Object.defineProperty(Fa,"progress",{get:function(){return this["_GetProgress"]()}})};r["Mesh"]=function(hb){hb["SetVertices"]=function(ib,jb){this["m_aVertex"]=this["m_aVertex"]||[];this["m_aVertex"].push({m_pArray:jb,m_nSlot:this["_SlotLut"][ib],m_nItemSize:this["_SizeLut"][ib]})};hb["SetIndices"]=function(kb,lb,mb){this["m_aIndex"]=this["m_aIndex"]||[];this["m_aIndex"][kb]={m_pArray:lb,m_nItemSize:mb}};hb["Apply"]=function(){var nb=this["m_aVertex"];var ob=this["m_aIndex"];if(!nb||!ob){return}var pb=2+2*nb.length+3*ob.length;var qb=this._CreateBuffer(pb);var rb=o["WASM"]["HEAP32"](qb,pb*4);var sb=0;rb[sb++]=nb.length;rb[sb++]=ob.length;for(var tb=0;tb<nb.length;tb++){rb[sb++]=nb[tb].m_nSlot;rb[sb++]=nb[tb].m_pArray.length/nb[tb].m_nItemSize}for(var tb=0;tb<ob.length;tb++){rb[sb++]=0;rb[sb++]=0;rb[sb++]=ob[tb].m_pArray.length}this._CreateBuffer(0);for(var tb=0;tb<nb.length;tb++){var ub=nb[tb].m_pArray;var vb=this._GetVertexBuffer(tb);var wb=o["WASM"]["HEAPF32"](vb,ub.length*4);wb.set(ub)}for(var tb=0;tb<ob.length;tb++){var ub=ob[tb].m_pArray;var vb=this._GetIndexBuffer(tb);var wb=o["WASM"]["HEAP32"](vb,ub.length*4);wb.set(ub)}this._Apply();this["m_aVertex"]=undefined;this["m_aIndex"]=undefined};hb["_SlotLut"]={position:0,normal:1,uv:2,color:3,tangent:4,uv2:9,uv3:10,uv4:11,uv5:12,uv6:13,uv7:14,uv8:15};hb["_SizeLut"]={position:3,normal:3,uv:2,color:4,tangent:4,uv2:2,uv3:2,uv4:2,uv5:2,uv6:2,uv7:2,uv8:2};Object.defineProperty(hb,"position",{set:function(xb){this.SetVertices("position",xb)}});Object.defineProperty(hb,"normal",{set:function(yb){this.SetVertices("normal",yb)}});Object.defineProperty(hb,"uv",{set:function(zb){this.SetVertices("uv",zb)}});Object.defineProperty(hb,"triangles",{set:function(Ab){this.SetIndices(0,Ab)}});Object.defineProperty(hb,"material",{set:function(Bb){this.SetMaterial(0,Bb)}});o["Mesh"]=function(){return p(hb._Mesh())}};r["Texture2D"]=function(Cb){Cb["SetImageData"]=function(Db){var Eb=this._CreateBuffer(Db.byteLength);if(Eb){o["WASM"]["HEAPU8"](Eb,Db.byteLength).set(new Uint8Array(Db));this._Apply()}};Cb["Load"]=function(Fb){var Gb=this;o["Fetch"](Fb,function(Hb){if(Hb){Gb.SetImageData(Hb)}})};o["Texture2D"]=function(Ib){var Jb=p(Cb._Texture2D());if(Ib){if("string"===typeof Ib){this.Load(Ib)}else{this.SetImageData(Ib)}}return Jb}};r["Material"]=function(Kb){if("Sisyphus"===o["m_pConfig"]["ENGINE"]){o["ShaderLab"].ExpandMaterial(Kb)}Kb["GetTexture"]=function(){return p(this["_GetTexture"]())};Kb["SetTexture"]=function(Lb){this["_SetTexture"](Lb.m_nObject)};o["Material"]=function(Mb){if(Mb===void 0){Mb=undefined}var Nb=null;if(Mb){var Ob=o["ShaderLab"]["Pipeline"]["InternalShader"];var Pb=Ob[0];Ob[0]=Mb;Nb=p(Kb._Material());Ob[0]=Pb}else{Nb=p(Kb._Material())}return Nb}};r["Tile"]=function(Qb){Object.defineProperty(Qb,"scenes",{get:function(){var Rb=this;return new s(function(Sb){return Rb._IterWork(Sb)})}});Object.defineProperty(Qb,"object3D",{get:function(){if(undefined===this._object3D){var Tb=this._GetObject(this.m_nObject);if(0===Tb){this._object3D=null;return null}this._object3D=p(Tb)}return this._object3D}})};r["Scene"]=function(Ub){Ub["GetLayer"]=function(Vb){return p(this["_GetLayer"](Vb))};Object.defineProperty(Ub,"id",{get:function(){if(!this._id){var Wb=this._GetID(0);var Xb=this._GetID(1);this._id=o["WASM"].GetString(Xb,Wb)}return this._id}});Object.defineProperty(Ub,"layers",{get:function(){var Yb=this;return new s(function(Zb){return Yb._IterLayer(Zb)})}});Object.defineProperty(Ub,"object3D",{get:function(){if(undefined===this._object3D){var $b=this._GetObject(this.m_nObject);if(0===$b){this._object3D=null;return null}this._object3D=p($b)}return this._object3D}});Object.defineProperty(Ub,"viewState",{get:function(){return{m_mTarget:{x:0,y:0,z:0},m_nPitch:45,m_nYaw:0,m_nDistance:60,m_mOrthoTarget:{x:0,y:0,z:0},m_nOrthoScaled:0,m_nOrthoRotate:0}}});Object.defineProperty(Ub,"binding",{get:function(){return p(this._GetBinding())}})};r["Layer"]=function(_b){Object.defineProperty(_b,"id",{get:function(){if(!this._id){var ac=this._GetID(0);var bc=this._GetID(1);this._id=o["WASM"].GetString(bc,ac)}return this._id}});Object.defineProperty(_b,"sites",{get:function(){var cc=this;return new s(function(dc){return cc._IterSite(dc)})}});Object.defineProperty(_b,"object3D",{get:function(){if(undefined===this._object3D){var ec=this._GetObject(this.m_nObject);if(0===ec){this._object3D=null;return null}this._object3D=p(ec)}return this._object3D}});Object.defineProperty(_b,"decorationObject3D",{get:function(){if(undefined===this._decorationObject3D){var fc=this._GetDecorationObject(this.m_nObject);if(0===fc){this._decorationObject3D=null;return null}this._decorationObject3D=p(fc)}return this._decorationObject3D}});Object.defineProperty(_b,"viewState",{get:function(){var gc=this["_GetViewState"]();if(0<gc){var hc=o["WASM"]["HEAPF32"](gc,4*11);var ic=0;return{m_mTarget:{x:hc[ic++],y:hc[ic++],z:hc[ic++]},m_nPitch:hc[ic++],m_nYaw:hc[ic++],m_nDistance:hc[ic++],m_mOrthoTarget:{x:hc[ic++],y:hc[ic++],z:hc[ic++]},m_nOrthoScaled:hc[ic++],m_nOrthoRotate:hc[ic++]}}return null}})};r["Attachment"]=function(jc){Object.defineProperty(jc,"entityType",{get:function(){return this._GetEntityType()}});Object.defineProperty(jc,"secondType",{get:function(){return this._GetSecondType()}});Object.defineProperty(jc,"flag",{get:function(){return this._GetFlag()}});Object.defineProperty(jc,"object3D",{get:function(){return p(this._GetObject())}});Object.defineProperty(jc,"viewState",{get:function(){var kc=this["_GetViewState"]();if(0<kc){var lc=o["WASM"]["HEAPF32"](kc,4*11);var mc=0;var nc={m_mTarget:{x:lc[mc++],y:lc[mc++],z:lc[mc++]},m_nPitch:lc[mc++],m_nYaw:lc[mc++],m_nDistance:lc[mc++],m_mOrthoTarget:{x:lc[mc++],y:lc[mc++],z:lc[mc++]},m_nOrthoScaled:lc[mc++],m_nOrthoRotate:lc[mc++]};console.log("attachment view:",nc);return nc}else{console.log("attachment view: null")}return null}})};r["Site"]=function(oc){Object.defineProperty(oc,"id",{get:function(){if(!this._id){var pc=this._GetID(0);var qc=this._GetID(1);this._id=o["WASM"].GetString(qc,pc)}return this._id}});Object.defineProperty(oc,"layer",{get:function(){return p(this["_Layer"]())}});Object.defineProperty(oc,"scene",{get:function(){return p(this["_Scene"]())}});Object.defineProperty(oc,"type",{get:function(){return this["_Type"]()}});Object.defineProperty(oc,"number",{get:function(){return this["_Number"]()}});Object.defineProperty(oc,"position",{get:function(){var rc=this["_Position"]()/4;var sc=o["WASM"].HEAPF32();return{x:sc[rc],y:sc[rc+1],z:sc[rc+2]}}})};r["Prefab"]=function(tc){tc["Instantiate"]=function(){return p(this["_Instantiate"]())};o["LoadPrefab"]=function(uc,vc){o["Fetch"](uc,function(wc){var xc=null;if(wc){var yc=tc._Prefab();var zc=p(yc);var Ac=zc.CreateBuffer(wc.byteLength);if(Ac){o["WASM"]["HEAPU8"](Ac,wc.byteLength).set(new Uint8Array(wc));zc.Apply();xc=zc}}vc(xc)})}};r["Gis"]=function(Bc){Bc["Update"]=function(Cc,Dc,Ec){return this["_Update"](Cc,Dc,Ec)};Bc["AddSvetile"]=function(Fc){var Gc=o["WASM"]["EncodeString"](Fc.m_pUrl);var Hc=this["_CreateSvetileDesc"](Gc.byteLength);var Ic=o["WASM"]["HEAPU32"](Hc,4*8);Ic[0]=Fc.m_nID;Ic[1]=Fc.m_nFlags;o["WASM"]["HEAPU8"](Ic[2],Gc.byteLength).set(Gc,0);Ic[3]=0;Ic[4]=o["WASM"]["RegisterDelegate"](function(Kc,Lc){Fc.OnActive(p(Kc),0<Lc)});var Jc=o["WASM"]["HEAPF32"](Hc+20,16);Jc[0]=Fc.m_mLngLat.x;Jc[1]=Fc.m_mLngLat.y;Jc[2]=Fc.m_mSize.x;Jc[3]=Fc.m_mSize.y;this["_AddSvetile"](Hc)};Bc["AddMapbox"]=function(Mc){var Nc=this["_GetMapboxDesc"]();var Oc=o["WASM"]["HEAPF32"](Nc,40);Oc[0]=Mc.m_mOffset.x;Oc[1]=Mc.m_mOffset.y;Oc[2]=Mc.m_mOffset.z;Oc[3]=Mc.m_mScale.x;Oc[4]=Mc.m_mScale.y;Oc[5]=Mc.m_mScale.z;Oc[6]=Mc.m_mLngLat.x;Oc[7]=Mc.m_mLngLat.y;Oc[8]=Mc.m_mSize.x;Oc[9]=Mc.m_mSize.y;this["_AddMapbox"](Nc)};Bc["AddGameObject"]=function(Pc,Qc,Rc,Sc){this["_AddGameObject"](Pc.m_nObject,Qc,Rc,Sc)};Object.defineProperty(Bc,"terrainServer",{set:function(Tc){if(!Tc){Tc="https://t%d.tianditu.gov.cn/DEM/DataServer?T=ele_c&tk=3d26628c3a0e2694fecfbbb983ff7d87&x=%d&y=%d&l=%d"}var Uc=this["_GetServer"](0);o["WASM"].SetString(Uc,Tc)}});Object.defineProperty(Bc,"imageServer",{set:function(Vc){if(!Vc){Vc="http://t%d.tianditu.gov.cn/DataServer?T=img_c&tk=3d26628c3a0e2694fecfbbb983ff7d87&x=%d&y=%d&l=%d"}var Wc=this["_GetServer"](1);o["WASM"].SetString(Wc,Vc)}});Object.defineProperty(Bc,"labelServer",{set:function(Xc){if(!Xc){Xc="http://t%d.tianditu.gov.cn/DataServer?T=cia_c&tk=3d26628c3a0e2694fecfbbb983ff7d87&x=%d&y=%d&l=%d"}var Yc=this["_GetServer"](2);o["WASM"].SetString(Yc,Xc)}})};r["Panoramas"]=function(Zc){var $c=null;var _c=function(ad){var bd=o["GL"]["ImageCache"];var cd=null;var dd=null;var ed=null;var fd=0;var gd=90;var hd=function(nd,od){var pd=0;var qd=nd.m_pPath;var rd=["r","f","l","b","d","u"];for(var sd=0;sd<6;sd++){for(var td=0;td<2;td++){var ud=function(wd){var xd=sd;var yd=1;var zd=td;var Ad=wd;var Bd=bd.CreateImage();var Cd=bd.Get(Bd);var Dd=qd+"l"+yd+"_"+rd[xd]+"_0"+(1+zd)+"_0"+(2-Ad)+".jpg";Cd.crossOrigin="anonymous";Cd.src=Dd;Cd.onload=function(Ed){if(1===nd.m_nState){ad["_SetImage"](xd,yd,zd,Ad,Bd);if(24===++pd){od()}}}};for(var vd=0;vd<2;vd++){ud(vd)}}}};var id=function(Fd,Gd){$c=Fd;dd=Gd;cd={m_mTarget:{x:Gd.m_mTarget.x,y:Gd.m_mTarget.y,z:Gd.m_mTarget.z},m_nDistance:Gd.m_nDistance,m_nPitch:Gd.m_nPitch,m_nYaw:Gd.m_nYaw,m_nField:Gd.m_nField};Fd.m_nState=1;if(!Fd.m_mGisPos){Fd.m_mGisPos=o.Miaokit.LngLatToGis(Fd.m_mLngLat,Fd.m_nOffset,Fd.m_nHeight)}ad["_Open"](Fd.m_mGisPos.x,Fd.m_mGisPos.y,Fd.m_mGisPos.z);hd(Fd,function(){ld(Fd)})};var jd=function(){if(ed){if(gd>fd){var Hd=++fd/gd;var Id=dd.m_mTarget;var Jd=ed.m_mTarget;var Kd={x:0,y:0,z:0};var Ld=0;var Md=0;var Nd=0;Kd.x=Id.x+(Jd.x-Id.x)*Hd;Kd.y=Id.y+(Jd.y-Id.y)*Hd;Kd.z=Id.z+(Jd.z-Id.z)*Hd;Ld=dd.m_nDistance+(ed.m_nDistance-dd.m_nDistance)*Hd;Md=dd.m_nPitch+(ed.m_nPitch-dd.m_nPitch)*Hd;Nd=dd.m_nYaw+(ed.m_nYaw-dd.m_nYaw)*Hd;if(-90>Md){Md=180-Md}if(2===$c.m_nState||5===$c.m_nState){o.Miaokit.fieldOfView=dd.m_nField+(ed.m_nField-dd.m_nField)*Hd}dd.m_pTransform.position={x:0,y:0,z:0};dd.m_pTransform.euler={x:0,y:0,z:0};dd.m_pTransform.Rotate2({x:1,y:0,z:0},Md,1);dd.m_pTransform.Rotate2({x:0,y:1,z:0},Nd,0);dd.m_pTransform.position=Kd;dd.m_pTransform.Translate(o.Vector3.Scale(-Ld,{x:0,y:0,z:1}),1);if(gd===fd){dd.m_mTarget=Kd;dd.m_nDistance=Ld;dd.m_nPitch=Md;dd.m_nYaw=Nd;dd.m_nField=ed.m_nField;if(2===$c.m_nState){$c.m_nState=3;ed.m_nDistance=0;ed.m_nPitch=0;ed.m_nYaw=0;ed.m_nField=105;fd=0;gd=90}else if(3===$c.m_nState){$c.m_nState=4}else if(5===$c.m_nState){$c.m_nState=0;$c=null;cd=null;dd=null;ed=null}}}}};var kd=function(Od,Pd,Qd,Rd){if(!$c||4!==$c.m_nState){return}var Sd=ed.m_nPitch;var Td=ed.m_nYaw;Td+=Od/Qd*90;Sd-=Pd/Rd*90;if(-90>Sd){Sd=-90}if(90<Sd){Sd=90}ed.m_nPitch=Sd;ed.m_nYaw=Td;fd=0;gd=1};var ld=function(Ud){Ud.m_nState=2;ed={m_mTarget:ad.Position(Ud),m_nDistance:60,m_nPitch:90,m_nYaw:180,m_nField:105};fd=0;gd=90};var md=function(){$c.m_nState=5;ed={m_mTarget:{x:cd.m_mTarget.x,y:cd.m_mTarget.y,z:cd.m_mTarget.z},m_nDistance:cd.m_nDistance,m_nPitch:cd.m_nPitch,m_nYaw:cd.m_nYaw,m_nField:cd.m_nField};fd=0;gd=60};return{Open:id,Update:jd,Rotate:kd,Close:md}}(Zc);Zc["Open"]=function(Vd,Wd){_c.Open(Vd,Wd)};Zc["Update"]=function(){_c.Update()};Zc["Rotate"]=function(Xd,Yd,Zd,$d){_c.Rotate(Xd,Yd,Zd,$d)};Zc["Close"]=function(){_c.Close()};Object.defineProperty(Zc,"panor",{get:function(){return $c}});Zc["Position"]=function(_d){if(!_d.m_mGisPos){_d.m_mGisPos=o.Miaokit.LngLatToGis(_d.m_mLngLat,_d.m_nOffset,_d.m_nHeight)}_d.m_mPosition=o.Miaokit.GisToWorld(_d.m_mGisPos);return _d.m_mPosition};Zc["ScreenPoint"]=function(ae){if(!ae.m_mGisPos){ae.m_mGisPos=o.Miaokit.LngLatToGis(ae.m_mLngLat,ae.m_nOffset,ae.m_nHeight)}var be=o.Miaokit.GisToWorld(ae.m_mGisPos);var ce=o.Miaokit.WorldToScreenPoint(be);return ce}};r["Dioramas3MX"]=function(de){de["_Load3MX"]=function(ee,fe,ge){var he=this;var ie=he.m_pFileLut[ee];var je=ie.m_pPath+ie.m_aFile[fe];o["Request"]("GET","arraybuffer",je,null,null,function(ke){if(!ke){return}var le=new Uint32Array(ke,0,2);if(1113083187===le[0]){var me=le[1]>>8;var ne=9+me;var oe=ke.byteLength-ne;var pe=new Uint8Array(ke,9,me);var qe=he.m_pTextDecoder.decode(pe);var re=JSON.parse(qe);var se={m_pPath:je.substring(0,je.lastIndexOf("/")+1),m_aFile:[]};var te=[];var ue=[];var ve=re.resources;var we=0;for(var xe=0;xe<ve.length;xe++){te.push(xe);if("textureBuffer"===ve[xe].type){te.push(0);ue.push(xe);if("jpg"===ve[xe].format){te.push(0)}else if("png"===ve[xe].format){te.push(1)}else{te.push(1e4)}}else if("geometryBuffer"===ve[xe].type){te.push(1);if("ctm"===ve[xe].format){te.push(0)}else{te.push(1e4)}}else{te.push(1e4);te.push(1e4)}te.push(ve[xe].size);te.push(we);we+=ve[xe].size;te.push(1e4);if(ve[xe].texture){for(var ye=0;ye<ve.length;ye++){if(ve[xe].texture===ve[ye].id){te[te.length-1]=ye;break}}}}var ze=[];var Ae=re.nodes;for(var xe=0;xe<Ae.length;xe++){var Be=Ae[xe];var Ce=Be.bbMax[0]-Be.bbMin[0];var De=Be.bbMax[1]-Be.bbMin[1];var Ee=Be.bbMax[2]-Be.bbMin[2];var Fe=Math.sqrt(Ce*Ce+De*De+Ee*Ee);ze.push(Math.floor(parseInt(Be.bbMin[0]+Be.bbMax[0])*.5*100));ze.push(Math.floor(parseInt(Be.bbMin[1]+Be.bbMax[1])*.5*100));ze.push(Math.floor(parseInt(Be.bbMin[2]+Be.bbMax[2])*.5*100));ze.push(Math.floor(Fe*100));ze.push(Math.floor(Be.maxScreenDiameter));var Ge=Be.children?Be.children.length:0;if(0<Ge){ze.push(se.m_aFile.length);for(var ye=0;ye<Ge;ye++){se.m_aFile.push(Be.children[ye])}ze.push(se.m_aFile.length)}else{ze.push(-1);ze.push(-1)}var He=Be.resources?Be.resources.length:0;if(0<He){ze.push(ue.length);for(var ye=0;ye<He;ye++){for(var Ie=0;Ie<ve.length;Ie++){if(Be.resources[ye]===ve[Ie].id){ue.push(Ie);break}}}ze.push(ue.length)}else{ze.push(-1);ze.push(-1)}}var Je=4+9*Ae.length+6*ue.length;var Ke=4*Je;var Le=Ke+oe;var Me=he["_CreateBuffer"](Le);if(Me){var Ne=o["WASM"]["HEAP32"](Me,Ke);Ne[0]=Ke;Ne[1]=Ae.length;Ne[2]=ue.length;Ne[3]=he.m_pFileLut.length;Ne.set(ze,4);var Oe=4+ze.length;for(var xe=0;xe<ue.length;xe++){var Pe=6*ue[xe];for(var ye=0;ye<6;ye++){Ne[Oe++]=te[Pe++]}}var Qe=o["WASM"]["HEAPU8"](Me+Ke,oe);Qe.set(new Uint8Array(ke,ne,oe));he["_Dispose"](ge)}he.m_pFileLut.push(se)}})};de["Update"]=function(){return this["_Update"]()};de["Deplanation"]=function(Re){return this["_Deplanation"](Re.x,Re.y,Re.z)};de["Recover"]=function(){return this["_Recover"]()};Object.defineProperty(de,"object3D",{get:function(){return p(this["_GetObject"]())}});o["Dioramas3MX"]=function(Se,Te){var Ue=p(de._Dioramas3MX());Ue.m_pFileLut=[];Ue.m_pTextDecoder=new TextDecoder("utf-8");if(Te){if(Te.m_pGis){Te.m_pGis.AddGameObject(Ue.object3D,Te.m_mLngLat.x,Te.m_mLngLat.y,Te.m_nHeight);Ue.object3D.transform.Translate(Te.m_mOffset,1);Ue.object3D.transform.Rotate({x:0,y:0,z:0},1)}}o["Request"]("GET","json",Se,null,null,function(Ve){Ue["m_pMeta"]=Ve;var We={m_pPath:Se.substring(0,Se.lastIndexOf("/")+1),m_aFile:[]};var Xe=[0];for(var Ye=0;Ye<Ve.layers.length;Ye++){if("meshPyramid"===Ve.layers[Ye].type){Xe.push(Ye);Xe.push(We.m_aFile.length);We.m_aFile.push(Ve.layers[Ye].root)}}Xe[0]=We.m_aFile.length;var Ze=Ue["_CreateBuffer"](4*Xe.length);var $e=o["WASM"]["HEAP32"](Ze,4*Xe.length);$e.set(Xe);Ue["_Initialize"](Ze);Ue.m_pFileLut.push(We)});return Ue}};function t(_e,af,bf){p=af;q=bf;for(var cf=0,df=_e;cf<df.length;cf++){var ef=df[cf];if(ef){var ff=ef.prototype;if(r[ff._type_name]){r[ff._type_name](ff)}if("Miaokit"===ff._type_name){o["Miaokit"]=new ef(0,0)}else if("Gis"===ff._type_name){r["Gis"]["g_pIns"]=new ef(0,0)}else if("Panoramas"===ff._type_name){r["Panoramas"]["g_pIns"]=new ef(0,0)}}}}o["WASM"]=o["WASM"]||{};o["WASM"]["LoadClass"]=t;return[]});MiaokitMerge(function(gf){gf["m_pLogo"]=null;var hf=undefined;var jf=false;var kf=false;function lf(){gf["Track"]("Preload");gf["Request"]("GET","json",gf["m_pConfigPath"],null,null,function(of){if(!of){gf["Track"]("配置文件错误！",3);return}gf["m_pConfig"]=of;gf["Fetch"](of.MODULE,function(rf){if(hf){hf(rf)}else{hf=rf}});if(of.SVE){var pf=function(sf){var tf=of.SVE[sf];tf.m_pData=null;tf.m_pTile=null;if(true===tf.m_bPreload){gf["Fetch"](tf.m_pProject,function(uf){tf.m_pData=uf;if(kf&&uf){tf.m_pTile=gf["Miaokit"]["LoadTile"](tf.m_pData);tf.m_pData=null;gf["App"]["ActiveTile"](tf)}})}};for(var qf=0;qf<of.SVE.length;qf++){pf(qf)}}if(gf["App"]&&gf["App"].m_pProject){gf["App"]["Preload"]()}else{jf=true}})}function mf(vf,wf){gf["Track"]("LoadEngine");if(jf){gf["App"]["Preload"]();jf=false}gf["WASM"]["LoadEngine"]({OnEngineLoad:function(xf){gf["Track"]("LoadEngine End");if(hf){gf["Track"]("LoadMiaokit");gf["WASM"]["LoadMiaokit"](hf,xf,function(){vf();kf=true;nf()})}else{gf["Track"]("LoadMiaokit Delay");hf=function(yf){gf["Track"]("LoadMiaokit");gf["WASM"]["LoadMiaokit"](yf,xf,function(){vf();kf=true;nf()})}}},OnRenderingEvent:function(zf){if(kf){wf(zf)}}})}function nf(){gf["Track"]("LoadMiaokit End");var Af=gf["m_pConfig"]["SVE"];if(Af){for(var Bf=0,Cf=Af;Bf<Cf.length;Bf++){var Df=Cf[Bf];if(true===Df.m_bPreload){if(null===Df.m_pTile&&null!==Df.m_pData){Df.m_pTile=gf["Miaokit"]["LoadTile"](Df.m_pData);Df.m_pData=null;gf["App"]["ActiveTile"](Df)}}}}}lf["_name"]="Preload";mf["_name"]="Load";return[lf,mf]});MiaokitMerge(function(Ef){var Ff=function(){function Hf(){}Hf.Clamp=function(If,Jf,Kf){if(If>Kf){return Kf}if(If<Jf){return Jf}return If};return Hf}();var Gf=function(){function Lf(Mf,Nf,Of){this.x=0;this.y=0;this.z=0;this.x=Mf;this.y=Nf;this.z=Of}Lf.Scale=function(Pf,Qf){return{x:Qf.x*Pf,y:Qf.y*Pf,z:Qf.z*Pf}};return Lf}();Ff["_name"]="Mathf";Gf["_name"]="Vector3";return[Ff,Gf]});MiaokitMerge(function(Rf){var Sf=null;var Tf=null;var Uf=null;var Vf=[null];var Wf=null;var Xf=[null];var Yf=1;var Zf=0;var $f=[undefined];var _f=null;var ag=null;function bg(lg){lg["isnanf"]=isNaN;lg["isinff"]=isFinite;lg["powf"]=Math.pow;lg["sqrtf"]=Math.sqrt;lg["expf"]=Math.exp;lg["logf"]=Math.log;lg["floorf"]=Math.floor;lg["ceilf"]=Math.ceil;lg["sinf"]=Math.sin;lg["cosf"]=Math.cos;lg["tanf"]=Math.tan;lg["asinf"]=Math.asin;lg["acosf"]=Math.acos;lg["atanf"]=Math.atan;lg["atan2f"]=Math.atan2;lg["ldexpf"]=function(mg,ng){return mg*Math.pow(2,ng)}}function cg(og){function pg(zg){var Ag=Rf["WASM"].GetString(zg);if(!Ag.startsWith("http")){Ag="./data/projects/sve/"+Ag}if(Ag.endsWith("assetbundle")){Ag+=".bin"}return Ag}function qg(Bg,Cg,Dg,Eg,Fg){var Gg=pg(Bg);var Hg=Sf.get(Dg);var Ig=Sf.get(Eg);Rf["Fetch"](Gg,function(Jg){if(Jg){var Kg=Hg(Cg,Jg.byteLength,Fg);if(Kg){Rf["WASM"]["HEAPU8"](Kg,Jg.byteLength).set(new Uint8Array(Jg))}}else{console.error("资源丢失:",Gg)}Ig(Cg,Fg)})}function rg(Lg,Mg,Ng,Og,Pg){var Qg=pg(Lg);var Rg=Sf.get(Ng);var Sg=Wf.CreateImage();var Tg=Wf.Get(Sg);Tg.crossOrigin="anonymous";Tg.src=Qg;Tg.onload=function(Ug){Rg(Mg,Sg,Pg)}}function sg(Vg,Wg,Xg,Yg,Zg){qg(Vg,Wg,Xg,Yg,Zg)}function tg($g,_g,ah,bh,ch){_f["LoadTerrain"]($g,_g,ah,bh,ch)}function ug(dh,eh,fh,gh,hh){var ih=Rf["WASM"]["HEAP32"](dh,16);_f["LoadBlockbox"](eh,ih[0],ih[1],ih[2],ih[3],fh,gh)}function vg(jh,kh){var lh=Rf["WASM"]["HEAP32"](jh,12);_f["Load3MX"](lh[0],lh[1],lh[2],kh)}function wg(mh,nh,oh,ph,qh){qg(mh,nh,oh,ph,qh)}function xg(rh,sh,th,uh){var vh=Sf.get(uh);var wh=Rf["WASM"]["HEAP8"](th,sh);var xh=new Blob([wh]);var yh=window.URL.createObjectURL(xh);var zh=Wf.CreateImage();var Ah=Wf.Get(zh);Ah.src=yh;Ah.onload=function(Bh){vh(rh,zh);window.URL.revokeObjectURL(yh)}}var yg=[undefined,qg,rg,sg,tg,ug,vg,wg,xg];og["APP_LOAD"]=function(Ch,Dh,Eh,Fh,Gh,Hh){yg[Ch](Dh,Eh,Fh,Gh,Hh)}}function dg(Ih){var Jh={NaN:NaN,Infinity:Infinity};bg(Ih);cg(Ih);Ih["APP_DYNAMIC_LINK"]=function(Kh,Lh){var Mh=Rf["WASM"]["HEAPU32"](Kh,Lh);var Nh=Mh[0];var Oh=Mh[1];for(var Ph=0;Ph<Nh;Ph++){var Qh=Mh[2+Ph]-1;var Rh=Mh[Oh++];var Sh=Mh[Oh++];var Th=Rf["WASM"].GetString(Rh,Sh);var Uh=JSON.parse(Th);var Vh=function(Zh,$h){this["m_nID"]=Zh;this["m_nObject"]=$h};var Wh=Vh.prototype;Wh["_type_name"]=Uh[0];Wh["_type_id"]=Ph+1;Wh["_ins_count"]=0;$f[Ph+1]=Vh;var Xh=function(_h){var ai=Sf.get(Mh[Oh++]);Oh++;var bi=function(){var ci=Array.prototype.slice.call(arguments);ci.unshift(this.m_nObject);return ai.apply(this,ci)};if(0===_h){Wh["_"+Uh[_h]]=bi}else{Wh[Uh[_h]]=bi}};for(var Yh=0;Yh<Qh;Yh++){Xh(Yh)}}Rf["WASM"]["LoadClass"]($f,fg,ig);Rf["Miaokit"]["ResizeCavans"]=function(di,ei){if(Uf.SE_RESIZE){Uf.SE_RESIZE(di,ei)}}};Ih["APP_PRINT"]=function(fi,gi,hi){var ii=Rf["WASM"].GetString(fi,gi);Rf["Track"](ii,hi)};Ih["APP_DO_ACTION"]=function(ji,ki,li,mi){Vf[ji](ki,li,mi)};Ih["APP_CREATE_OBJ"]=function(ni,oi){var pi=gg();var qi=new $f[ni](pi,oi);Xf[pi]=qi;$f[ni].prototype._ins_count++;return pi};Ih["APP_FREE_OBJ"]=function(ri){var si=Xf[ri];$f[si._type_id].prototype._ins_count--;hg(ri)};ag=Rf["ShaderLab"].APP_DO_OPERATORS;ag[7]=function(ti,ui){if(0===ti){Wf.FreeImage(ui)}else if(1===ti){Wf.FreeBuffer(ui)}return 0};Ih["APP_DO"]=function(vi,wi,xi,yi,zi){return ag[vi](wi,xi,yi,zi)};Tf=Ih["memory"];Rf["WASM"]["m_pMemory"]=Rf["WASM"]["m_pMemory"]||Tf;return{env:Ih,global:Jh}}function eg(Ai,Bi,Ci){Wf=Rf["GL"]["ImageCache"];Bi=dg(Bi);WebAssembly.instantiate(Ai,Bi).then(function(Di){return Di.instance}).then(function(Ei){Uf=Ei.exports;Sf=Uf.__indirect_function_table;Rf["WASM"]["Update"]=Ei.exports.SE_UPDATE;Rf["WASM"]["Malloc"]=Ei.exports.Malloc;Rf["WASM"]["Free"]=Ei.exports.Free;Rf["ShaderLab"]["DrawPass_"]=Ei.exports.SE_DRAW_PASS;Rf["ShaderLab"]["SetSunlight"]=Ei.exports.SE_SUNLIGHT;Rf["ShaderLab"]["CreateUniformsDesc"]=Ei.exports.SE_CREATE_UNIFORMS_DESC;Rf["ShaderLab"]["GetTexture"]=function(Fi){return Uf.SE_RESOURCE(9,Fi)};Rf["ShaderLab"]["GetObject"]=function(Gi){var Hi=Uf.SE_RESOURCE(13,Gi);if(Hi){return fg(Hi)}return null};Rf["Track"]("Start thread");Rf["WASM"]["Worker"]=kg(function(){Rf["Track"]("Start thread succeed")});Uf.Start();Ci()})}function fg(Ii){return Xf[Ii]}function gg(){var Ji=Yf;if(Xf.length>Yf){Yf=Xf[Yf]}else{Yf++}Zf++;return Ji}function hg(Ki){Xf[Ki]=Yf;Yf=Ki;Zf--}function ig(Li){var Mi="'系统运行':{";Mi+="'时间':"+(Rf.Time()/1e3).toFixed(0);Mi+=", '帧率':"+Li;Mi+=", 'WASM内存':"+Rf.WASM.m_pMemory.buffer.byteLength/1024/1024;Mi+="}";var Ni="'JS对象':{";Ni+="'工厂':["+Xf.length+", "+Zf+", "+(Xf.length-Zf)+"]";Ni+=Wf.Analyze();for(var Oi=1;Oi<$f.length;Oi++){Ni+=", '"+$f[Oi].prototype._type_name+"':"+$f[Oi].prototype._ins_count}Ni+="}";return[Mi,Ni]}function jg(Pi){var Qi=Vf.length;Vf.push(Pi);return Qi}function kg(Ri){var Si=Uf.UTIL_WORKER_CODE();var Ti=Rf["WASM"]["HEAPU32"](Si,16);if(false){_f=new Worker(window.URL.createObjectURL(new Blob([Rf["WASM"]["HEAPU8"](Ti[2],Ti[3])])));var Ui=Rf["WASM"]["HEAPU8"]().slice(Ti[0],Ti[0]+Ti[1]);var Vi=Ui.buffer;_f.postMessage({m_nID:1,m_aCode:Vi},[Vi])}else{var Wi=Rf["m_pConfig"]["MODULE"].replace(".wasm","");_f=new Worker(Wi+"Worker.min.js");fetch(Wi+"Worker.wasm").then(function(Xi){return Xi.arrayBuffer()}).then(function(Yi){if(Yi){_f.postMessage({m_nID:1,m_aCode:Yi},[Yi])}else{console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",Yi)}}).catch(function(Zi){console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",Zi)})}_f.onmessage=function($i){var _i=$i.data;switch(_i.m_nID){case 1:Ri();Ri=null;break;case 2:_f["OnLoadTerrain"](_i);break;case 3:_f["OnLoadBlockbox"](_i);break;case 4:_f["OnLoad3MX"](_i);break;default:console.error("子线程消息异常:",_i);break}};_f["LoadTerrain"]=function(aj,bj,cj,dj,ej){_f.postMessage({m_nID:2,m_pPath:Rf["WASM"].GetString(aj),m_nRequest:bj,m_nCallback:cj,m_nTS:ej})};_f["OnLoadTerrain"]=function(fj){var gj=Sf.get(fj.m_nCallback);var hj=fj.m_pData;var ij=0;if(hj){ij=Wf.PushBuffer(hj)}else{console.warn("Terrain miss:",fj.m_pPath)}gj(fj.m_nRequest,ij,fj.m_nTS)};_f["LoadBlockbox"]=function jj(kj,lj,mj,nj,oj,pj,qj){_f.postMessage({m_nID:3,m_nRequest:kj,m_nCol:lj,m_nRow:mj,m_nColOffset:nj,m_nRowOffset:oj,m_nAlloc:pj,m_nCallback:qj})};_f["OnLoadBlockbox"]=function(rj){var sj=Sf.get(rj.m_nAlloc);var tj=Sf.get(rj.m_nCallback);var uj=rj.m_pData;var vj=[0,0,0,0];for(var wj=0;wj<4;wj++){var xj=uj[wj];if(0<xj.m_nVertexCount&&0<xj.m_nSubmeshCount){var yj=new Rf.Mesh;var zj=new Int32Array(xj.m_aIndex);yj.position=new Float32Array(xj.m_aPosition);yj.normal=new Float32Array(xj.m_aNormal);yj.uv=new Float32Array(xj.m_aUV);for(var Aj=0;Aj<xj.m_nSubmeshCount;Aj++){var Bj=zj[2*Aj];var Cj=zj[2*Aj+1];var Dj=[];for(var Ej=Bj;Ej<Cj;Ej++){Dj.push(Ej)}yj.SetIndices(Aj,new Int32Array(Dj),4)}yj.Apply();vj[wj]=yj.m_nObject}else{vj[wj]=0}}var Fj=sj(rj.m_nRequest,16);if(Fj){Rf["WASM"]["HEAPU32"](Fj,16).set(new Uint32Array(vj));tj(rj.m_nRequest)}};_f["Load3MX"]=function(Gj,Hj,Ij,Jj){var Kj=fg(Gj);if(Kj){var Lj=Kj.m_pFileLut[Hj];var Mj=Lj.m_pPath+Lj.m_aFile[Ij];var Nj=Kj.m_pFileLut.length;Kj.m_pFileLut.push(null);_f.postMessage({m_nID:4,m_nDior:Gj,m_pPath:Mj,m_nRequest:Jj,m_nNewFolder:Nj})}};_f["OnLoad3MX"]=function(Oj){var Pj=Oj.m_pData;if(Pj){var Qj=fg(Oj.m_nDior);if(Qj){Qj.m_pFileLut[Oj.m_nNewFolder]=Oj.m_pNewFolder;var Rj=new Int32Array(Pj[0]);var Sj=Rj[1];var Tj=Rj[2];var Uj=4+9*Sj;var Vj=0;var Wj=[];var Xj=function(){if(Tj===++Vj||0==Tj){var $j=Pj[0].byteLength;var _j=Qj["_CreateBuffer"]($j);var ak=Rf["WASM"]["HEAP32"](_j,$j);ak.set(Rj);Qj["_Dispose"](Oj.m_nRequest)}};var Yj=function(bk){var ck=Rj[Uj+0];var dk=Rj[Uj+1];if(0===dk){var ek=Pj[1+bk];if(null!==ek){var fk=Wf.CreateImage();var gk=Wf.Get(fk);var hk=new Blob([new Int8Array(ek)]);var ik=window.URL.createObjectURL(hk);gk.src=ik;gk.onload=function(mk){Xj();window.URL.revokeObjectURL(ik)};Wj[ck]=Uf["SE_CREATE_INTERNAL_TEXTURE"]();Rj[Uj+3]=Wj[ck];Rj[Uj+4]=fk}else{Wj[ck]=0;Rj[Uj+3]=Wj[ck];Rj[Uj+4]=0;Xj()}}else if(1===dk){Rj[Uj+4]=Wj[Rj[Uj+5]];var ek=Pj[1+bk];if(null!==ek){var jk=ek.byteLength;var kk=Qj["_CreateBuffer"](jk);var lk=Rf["WASM"]["HEAP8"](kk,jk);lk.set(new Int8Array(ek));Qj["_MarkBuilding"](kk);Wj[ck]=Uf["SE_CREATE_INTERNAL_MESH"](0,kk);Rj[Uj+3]=Wj[ck];Xj()}else{Wj[ck]=0;Rj[Uj+3]=Wj[ck];Xj()}}else{Wj[ck]=0;Rj[Uj+3]=Wj[ck];Rj[Uj+4]=0;Xj()}Uj+=6};for(var Zj=0;Zj<Tj;Zj++){Yj(Zj)}if(0===Tj){Xj()}}}else{console.warn("3mx miss:",Oj.m_pPath)}};return _f}Rf["WASM"]=Rf["WASM"]||{};Rf["WASM"]["LoadMiaokit"]=eg;Rf["WASM"]["GetObject"]=fg;Rf["WASM"]["RegisterDelegate"]=jg;return[]});MiaokitMerge(function(nk){var ok=null;var pk=null;var qk=null;var rk=null;var sk=null;var tk=null;var uk=null;var vk=null;var wk=null;var xk=null;var yk=null;var zk=null;var Ak=null;var Bk=null;var Ck=null;var Dk=null;var Ek=0;var Fk=function(){var Hk=nk.m_pConfig.WEBGL;var Ik=nk.m_pConfig.QUALITY;if(0===Ik){qk="\n                #define LOW_QUALITY\n            ";rk="\n                #define LOW_QUALITY\n            "}else if(1===Ik){qk="\n                #define MEDIUM_QUALITY\n            ";rk="\n                #define MEDIUM_QUALITY\n            "}else{qk="\n                #define HIGH_QUALITY\n            ";rk="\n                #define HIGH_QUALITY\n            "}if(1===Hk){ok="\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform lowp vec4 u_Sunlight;\n                uniform lowp vec4 u_Picker;\n                uniform lowp vec4 u_EyePos;\n                uniform lowp vec4 u_Mark;\n                uniform highp mat4 u_MatG;\n                uniform highp mat4 u_MatVP;\n            ";pk="\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform lowp vec4 u_Sunlight;\n                uniform lowp vec4 u_Picker;\n                uniform lowp vec4 u_EyePos;\n                uniform lowp vec4 u_Mark;\n                uniform highp mat4 u_MatG;\n                uniform highp mat4 u_MatVP;\n            "}else{ok="#version 300 es\n                #define attribute in\n                #define varying out\n                #define texture2D texture\n\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform CommonBlock\n                {\n                    lowp vec4 u_Sunlight;\n                    lowp vec4 u_Picker;\n                    lowp vec4 u_EyePos;\n                    lowp vec4 u_Mark;\n                    highp mat4 u_MatG;\n                    highp mat4 u_MatVP;\n                };\n            ";pk="#version 300 es\n                #define varying in\n                #define texture2D texture\n                #define gl_FragColor FragColor\n\n                precision highp float;\n                precision mediump sampler2D;\n\n                uniform CommonBlock\n                {\n                    lowp vec4 u_Sunlight;\n                    lowp vec4 u_Picker;\n                    lowp vec4 u_EyePos;\n                    lowp vec4 u_Mark;\n                    highp mat4 u_MatG;\n                    highp mat4 u_MatVP;\n                };\n\n                out vec4 FragColor;\n            "}Ek=Ik;return{DeclareVS:ok+qk+sk,DeclareFS:pk+rk+tk,ClearVS:uk,ClearFS:vk,RenderVS:wk,RenderFS:xk,PostprocessVS:yk,PostprocessFS:zk,ATOM_VS:Bk,ATOM_FS:Ck,BRDF_VS:"",BRDF_FS:Ak}};var Gk={_name:"Shader",GetSourceCode:function(Jk){if(!Dk){Dk=Fk()}var Kk=Gk[Jk];var Lk="";var Mk="";if(Kk.include){var Nk=Kk.include[Ek];if(Nk){for(var Ok=0,Pk=Nk;Ok<Pk.length;Ok++){var Qk=Pk[Ok];Lk+=Dk[Qk+"_VS"];Mk+=Dk[Qk+"_FS"]}}}return[Dk["DeclareVS"]+Lk+Kk.vs_src+Dk[Kk.type+"VS"],Dk["DeclareFS"]+Mk+Kk.fs_src+Dk[Kk.type+"FS"]]}};sk="\nattribute mediump vec3 a_Position;\nattribute mediump vec3 a_Normal;\nattribute mediump vec2 a_UV;\nattribute mediump vec4 a_Color;\nattribute mediump vec4 a_Tangent;\nattribute mediump vec4 a_Object;\nattribute highp mat4 a_MatW;\n\nvarying vec4 v_Object;\n\n/// ����ռ�����ת����ռ�����\nvec3 ObjectToWorldPos(vec3 i_Position)\n{\n    return (a_MatW * vec4(i_Position, 1.0)).xyz;\n}\n\n/// ����ռ�����ת�ü��ռ�����\nvec4 ObjectToClipPos(vec3 i_Position)\n{\n    // GIS�ı任����ֵ������ת��Ϣ��δ����λ����Ϣ�����⾫�Ȳ�����ɻ��涶��\n    // return u_MatVP * u_MatG * a_MatW * vec4(i_Position, 1.0);\n    \n    vec4 mPosition = vec4(i_Position, 1.0);\n    mPosition = u_MatG * a_MatW * mPosition;\n    mPosition.y = mPosition.y - 6378137.0;\n\n    return u_MatVP * mPosition;\n}\n\n/// ����ռ䷨��ת����ռ䷨��\nvec3 ObjectToWorldNormal(vec3 i_Normal)\n{\n    return normalize((u_MatG * a_MatW * vec4(i_Normal, 0.0)).xyz);\n}";tk="\nuniform sampler2D u_MainTex;\nvarying vec4 v_Object;\n\n/// ����2D����\nvec4 Tex2D(sampler2D i_Tex, vec2 i_UV)\n{\n    i_UV.x = fract(i_UV.x);\n    i_UV.y = fract(1.0 - i_UV.y);\n\n    return texture2D(i_Tex, i_UV);\n}";uk="\nvoid main()\n{\n    gl_Position = vs();\n}";vk="\nvoid main()\n{\n    gl_FragColor = fs();\n}";wk="\nvoid main()\n{\n    v_Object = a_Object;\n    \n    gl_Position = vs();\n}";xk="\nvoid main()\n{\n    gl_FragColor = fs();\n    \n    float nAlpha = u_Mark.x;\n    \n    // ��͸�������https://zhuanlan.zhihu.com/p/49164063\n    if(0.01 < nAlpha)\n    {\n        // ���Σ�0-��͸����1-ȫ͸����Ĭ��ֵ0��׷��0.3��͸����\n        nAlpha = 0.3 + 0.7 * v_Object.b;\n        \n        // Gͨ������ɫ�Ҷ��ۼӡ�����֧�ֲ�ɫ͸����\n        gl_FragColor.g = dot(gl_FragColor.rgb, vec3(0.299, 0.587, 0.114));\n        // Rͨ������ϴ����ۼӣ���ֵ1.0����ֵ0.99��Ǹ�������\n        gl_FragColor.r = 1.0 - (0.01 * v_Object.a);        \n        // Bͨ����OPACITY�ۼ�\n        gl_FragColor.b = 1.0 - nAlpha;\n        gl_FragColor.g *= gl_FragColor.b;\n        // Aͨ����ALPHA�۳ˡ���ϣ�Դ����Ϊ0��Ŀ�����Դ\n        gl_FragColor.a = 1.0 - gl_FragColor.b;\n    }\n    // ��͸�����\n    else\n    {\n        // ����������\n        gl_FragColor.a = 1.0 - (0.01 * v_Object.a);\n    }\n}";yk="\nvoid main()\n{\n    gl_Position = vs();\n}";zk="\nvoid main()\n{\n    gl_FragColor = fs();\n}";Ak='\nconst float PI = 3.14159265358979323846;\n\nconst vec3 baseColor = vec3(0.5, 0.5, 0.5);\nconst float metallic = 0.0;\nconst float subsurface = 0.5; // 0.0\nconst float specular = 0.2;\nconst float roughness = 0.7; //0.5;\nconst float specularTint = 0.0;\nconst float anisotropic = 0.0;\nconst float sheen = 0.0;\nconst float sheenTint = 0.5;\nconst float clearcoat = 0.0;\nconst float clearcoatGloss = 1.0;\n\nfloat sqr(float x) { return x * x; }\n\nfloat SchlickFresnel(float u)\n{\n\tfloat m = clamp(1.0 - u, 0.0, 1.0);\n\tfloat m2 = m * m;\n\treturn m2 * m2 * m; // pow(m,5)\n}\n\nfloat GTR1(float NdotH, float a)\n{\n\tif (a >= 1.0) return 1.0 / PI;\n\tfloat a2 = a * a;\n\tfloat t = 1.0 + (a2 - 1.0) * NdotH * NdotH;\n\treturn (a2 - 1.0) / (PI * log(a2) * t);\n}\n\nfloat GTR2(float NdotH, float a)\n{\n\tfloat a2 = a * a;\n\tfloat t = 1.0 + (a2 - 1.0) * NdotH * NdotH;\n\treturn a2 / (PI * t * t);\n}\n\nfloat GTR2_aniso(float NdotH, float HdotX, float HdotY, float ax, float ay)\n{\n\treturn 1.0 / (PI * ax * ay * sqr(sqr(HdotX / ax) + sqr(HdotY / ay) + NdotH * NdotH));\n}\n\nfloat smithG_GGX(float NdotV, float alphaG)\n{\n\tfloat a = alphaG * alphaG;\n\tfloat b = NdotV * NdotV;\n\treturn 1.0 / (NdotV + sqrt(a + b - a * b));\n}\n\nfloat smithG_GGX_aniso(float NdotV, float VdotX, float VdotY, float ax, float ay)\n{\n\treturn 1.0 / (NdotV + sqrt(sqr(VdotX * ax) + sqr(VdotY * ay) + sqr(NdotV)));\n}\n\nvec3 mon2lin(vec3 x)\n{\n\treturn vec3(pow(x[0], 2.2), pow(x[1], 2.2), pow(x[2], 2.2));\n}\n\nvec3 BRDF(vec3 L, vec3 V, vec3 N, vec3 X, vec3 Y)\n{\n    //x��y����ֱ��ʾ�˱�����������͸�������������\n    //https://www.cnblogs.com/starfallen/p/3572352.html\n\n\tfloat NdotL = dot(N, L);\n\tfloat NdotV = dot(N, V);\n\tif (NdotL < 0.0 || NdotV < 0.0) return vec3(0.0);\n\n\tvec3 H = normalize(L + V);\n\tfloat NdotH = dot(N, H);\n\tfloat LdotH = dot(L, H);\n\n\tvec3 Cdlin = mon2lin(baseColor);\n\tfloat Cdlum = 0.3 * Cdlin[0] + 0.6 * Cdlin[1] + 0.1 * Cdlin[2]; // luminance approx.\n\n\tvec3 Ctint = Cdlum > 0.0 ? Cdlin / Cdlum : vec3(1.0); // normalize lum. to isolate hue+sat\n\tvec3 Cspec0 = mix(specular * 0.08 * mix(vec3(1.0), Ctint, specularTint), Cdlin, metallic);\n\tvec3 Csheen = mix(vec3(1.0), Ctint, sheenTint);\n\n\t// Diffuse fresnel - go from 1 at normal incidence to .5 at grazing\n\t// and mix in diffuse retro-reflection based on roughness\n\tfloat FL = SchlickFresnel(NdotL), FV = SchlickFresnel(NdotV);\n\tfloat Fd90 = 0.5 + 2.0 * LdotH * LdotH * roughness;\n\tfloat Fd = mix(1.0, Fd90, FL) * mix(1.0, Fd90, FV);\n\n\t// Based on Hanrahan-Krueger brdf approximation of isotropic bssrdf\n\t// 1.25 scale is used to (roughly) preserve albedo\n\t// Fss90 used to "flatten" retroreflection based on roughness\n\tfloat Fss90 = LdotH * LdotH * roughness;\n\tfloat Fss = mix(1.0, Fss90, FL) * mix(1.0, Fss90, FV);\n\tfloat ss = 1.25 * (Fss * (1.0 / (NdotL + NdotV) - 0.5) + 0.5);\n\n\t// specular\n\tfloat aspect = sqrt(1.0 - anisotropic * 0.9);\n\tfloat ax = max(0.001, sqr(roughness) / aspect);\n\tfloat ay = max(0.001, sqr(roughness) * aspect);\n\tfloat Ds = GTR2_aniso(NdotH, dot(H, X), dot(H, Y), ax, ay);\n\tfloat FH = SchlickFresnel(LdotH);\n\tvec3 Fs = mix(Cspec0, vec3(1.0), FH);\n\tfloat Gs;\n\tGs = smithG_GGX_aniso(NdotL, dot(L, X), dot(L, Y), ax, ay);\n\tGs *= smithG_GGX_aniso(NdotV, dot(V, X), dot(V, Y), ax, ay);\n\n\t// sheen\n\tvec3 Fsheen = FH * sheen * Csheen;\n\n\t// clearcoat (ior = 1.5 -> F0 = 0.04)\n\tfloat Dr = GTR1(NdotH, mix(0.1, 0.001, clearcoatGloss));\n\tfloat Fr = mix(0.04, 1.0, FH);\n\tfloat Gr = smithG_GGX(NdotL, 0.25) * smithG_GGX(NdotV, 0.25);\n\n\treturn ((1.0 / PI) * mix(Fd, ss, subsurface) * Cdlin + Fsheen) * (1.0 - metallic) + Gs * Fs * Ds + 0.25 * clearcoat * Gr * Fr * Dr;\n}';Bk="\nvarying vec4 v_ViewDir;\nvarying vec4 v_Scattering;\nvarying vec4 v_Attenuate;\n\n//P and ray define the line; O is the sphere's center point\nvec3 CalculateIntersection(vec3 P, vec3 ray, vec3 O, float r)\n{\n\tvec3 PO = O - P;\n\tfloat lPO = length(PO);\n\tfloat B = 2.0 * dot(PO, ray);\n\n\tfloat C = B * B - 4.0 * (lPO * lPO - r * r);\n\tfloat det = sqrt(max(0.0, C));\n\n\tfloat d = 0.5*(B-det);\n\tvec3 intersect = P + d * ray;\n\n\treturn intersect;\n}\n\nvoid Atmosphere(vec3 mLightDir, vec3 mWorldPos)\n{\n    // ����ɢ�䣬���Ӧ�����㣬�����Ӧ�����ڲ�֮�⣬��������Ϊ���뾶���ڲ�뾶�����뾶ӦԶ�����ڲ�뾶\n    //650 nm for red; 570 nm for green; 475 nm for blue\n    vec3 _Wave = vec3(5.602046, 9.473285, 20.49314);\n    vec3 _ESun = vec3(20.0, 20.0, 20.0);\n    vec3 _PlanetPos = vec3(0.0, -6378137.0, 0.0);\n    float _Sealevel = 6378137.0;\n    float _OuterRadius = 6478137.0;\n    float _SampleNum = 5.0;\n    //Rayleigh scattering constant\n    float _Kr = 0.0025;\n    //Mie scattering constant\n    float _Km = 0.001;\n    //the altitude at which the atmosphere's average density is found\n    float _H0 = 0.25;\n\n    vec3 mRay = mWorldPos - u_EyePos.xyz;\n    float nDepth = length(mRay); mRay = mRay / nDepth;\n\n    float nSampleLength = nDepth / _SampleNum;\n    vec3 mSampleRay = mRay * nSampleLength;\n    vec3 mSamplePoint = u_EyePos.xyz + mSampleRay * 0.5;\n    vec3 mInScattering = vec3(0.0, 0.0, 0.0);\n    vec3 mOutScatteringAB = vec3(0.0, 0.0, 0.0);\n    vec3 mOutGroundScatteringAB = vec3(0.0, 0.0, 0.0);\n    float nInvOuterH = 1.0 / (_OuterRadius-_Sealevel);\n\n    for(int i=0; i</*_SampleNum*/5; i++)\n    {\n\t    vec3 mCrossPoint = CalculateIntersection(mSamplePoint, -mLightDir, _PlanetPos, _OuterRadius);\n\t    //AP out scattering\n\t    vec3 mAPRay = (mSamplePoint - u_EyePos.xyz) / _SampleNum;\n\t    float nAPRayLength = length(mAPRay);\n\t    vec3 mSampleAP = u_EyePos.xyz + mAPRay * 0.5;\n\t    vec3 mOutScatteringAP = vec3(0.0, 0.0, 0.0);\n\n\t    for(int m=0; m</*_SampleNum*/5; m++)\n\t    {\n\t\t    mOutScatteringAP += exp(-(length(mSampleAP - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nAPRayLength * nInvOuterH;\n\t\t    mSampleAP += mAPRay;\n\t    }\n\t    mOutScatteringAP = 4.0 * 3.14 * (_Km + _Kr * _Wave) * mOutScatteringAP;\n\n\t    //PC out scattering\n\t    vec3 mPCRay = (mCrossPoint - mSamplePoint) / _SampleNum;\n\t    float nPCRayLength = length(mPCRay);\n\t    vec3 mSamplePC = mSamplePoint + mPCRay*0.5;\n\t    vec3 mOutScatteringPC = vec3(0.0, 0.0, 0.0);\n\n\t    for(int n=0; n</*_SampleNum*/5; n++)\n\t    {\n\t\t    mOutScatteringPC += exp(-(length(mSamplePC - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nPCRayLength * nInvOuterH;\n\t\t    mSamplePC += mPCRay;\n\t    }\n\t    mOutScatteringPC = 4.0 * 3.14 * (_Km + _Kr * _Wave) * mOutScatteringPC;\n\n\t    mInScattering += exp(-(length(mSamplePoint - _PlanetPos) - _Sealevel) * nInvOuterH / _H0) * nSampleLength * nInvOuterH * exp(-mOutScatteringAP - mOutScatteringPC);\n\t    mSamplePoint+=mSampleRay;\n\t    mOutScatteringAB = mCrossPoint;\n        mOutGroundScatteringAB = mOutScatteringAP + mOutScatteringPC;\n    }\n\n    vec3 mAttenuateGround = exp(-mOutGroundScatteringAB);\n\n    v_ViewDir.xyz = u_EyePos.xyz - mWorldPos;\n    v_Scattering.xyz = mInScattering * _ESun * _Kr * _Wave;\n    v_Attenuate.xyz = mInScattering * _ESun * _Km;\n\n    v_ViewDir.w = mAttenuateGround.x;\n    v_Scattering.w = mAttenuateGround.y;\n    v_Attenuate.w = mAttenuateGround.z;\n\n    //Ground : v_ScatteringR = v_Scattering; v_ScatteringM = v_Attenuate; v_Attenuate = v_AttenuateGround;\n    //v_ViewDir = u_EyePos.xyz - mWorldPos;\n    //v_ScatteringR = mInScattering * _ESun * _Kr * _Wave;\n    //v_ScatteringM = mInScattering * _ESun * _Km;\n    //v_Attenuate = exp(-mOutGroundScatteringAB);\n}";Ck="\nvarying vec4 v_ViewDir;\nvarying vec4 v_Scattering;\nvarying vec4 v_Attenuate;\n\nfloat PhaseRayleigh(float nCostheta)\n{\n\treturn 0.75 * (1.0 + nCostheta * nCostheta);\n}\n\nfloat PhaseMie(float nCostheta, float g, float g2)\n{\n\treturn 1.5 * ((1.0 - g2) / (2.0 + g2)) * (1.0 + nCostheta * nCostheta) / pow(1.0 + g2 - 2.0 * g * nCostheta, 1.5);\n}\n\nvec4 AtmosphereColor(vec4 mColor, vec3 mLightDir)\n{\n    float _G = -0.990;\n    float _G2 = _G * _G;\n    \n    float nCostheta = dot(normalize(v_ViewDir.xyz), mLightDir);\n    float nPhaseMie = PhaseMie(nCostheta, _G, _G2);\n    float nPhaseRayleigh = PhaseRayleigh(nCostheta);\n\t\t\t\t\n    mColor.rgb = v_Scattering.xyz * nPhaseRayleigh + v_Attenuate.xyz * nPhaseMie;\n    mColor.a = mColor.b + 0.35;\n    mColor = clamp(mColor, 0.0, 0.9);\n\n    return mColor;\n}\n\nvec4 AtmosphereLight(vec4 mColor, vec3 mLightDir)\n{\n    // Ground : v_ScatteringR = v_Scattering.xyz; v_ScatteringM = v_Attenuate.xyz; v_Attenuate = v_AttenuateGround;\n    \n    float _G = -0.980;\n    float _G2 = _G * _G;\n    \n    float nCostheta = dot(normalize(v_ViewDir.xyz), mLightDir);\n    float nPhaseMie = PhaseMie(nCostheta, _G, _G2);\n    float nPhaseRayleigh = PhaseRayleigh(nCostheta);\n    \n    mColor.rgb = v_Scattering.xyz * nPhaseRayleigh + v_Attenuate.xyz * nPhaseMie + mColor.rgb * vec3(v_ViewDir.w, v_Scattering.w, v_Attenuate.w)/*v_AttenuateGround*/;\n    \n    return mColor;\n}";return[Gk]});MiaokitMerge(function(Rk){var Sk=undefined;var Tk=true;var Uk=[];var Vk={RGBA32_FLOAT:function(){return true?[Sk["RGBA32F"],Sk.RGBA,Sk.FLOAT]:[Sk.RGBA,Sk.RGBA,Sk.FLOAT]},RGBA16_FLOAT:function(){return true?[Sk["RGBA16F"],Sk.RGBA,Sk["HALF_FLOAT"]]:[Sk.RGBA,Sk.RGBA,36193]},RGBA8:function(){return true?[Sk.RGBA,Sk.RGBA,Sk.UNSIGNED_BYTE]:[Sk.RGBA,Sk.RGBA,Sk.UNSIGNED_BYTE]},D16_UNORM:function(){return true?[Sk["DEPTH_COMPONENT16"],Sk.DEPTH_COMPONENT,Sk.UNSIGNED_SHORT]:[Sk.DEPTH_COMPONENT,Sk.DEPTH_COMPONENT,Sk.UNSIGNED_SHORT]},D24_UNORM:function(){return true?[Sk["DEPTH_COMPONENT24"],Sk.DEPTH_COMPONENT,Sk.UNSIGNED_INT]:[Sk.DEPTH_COMPONENT,Sk.DEPTH_COMPONENT,Sk.UNSIGNED_INT]},D24S8_UNORM:function(){return true?[Sk.DEPTH_STENCIL,Sk.DEPTH_STENCIL,34042]:[Sk.DEPTH_STENCIL,Sk.DEPTH_STENCIL,34042]}};var Wk={Opaque:1,Transparent:2,Outline:4,CastShadow:8,ReceiveShadow:16};var Xk=null;var Yk=["u_Sunlight","u_Picker","u_EyePos","u_MatG","u_MatVP","u_Color","u_MainTex","",""];var Zk=[null];var $k=[null];var _k=[null];var al=[null];var bl=[new Int32Array([0,0,0,0]),new Float32Array([0,0,0,0]),new Float32Array([1,0,0,0,1,0,0,0,1]),new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0]),new Int32Array([0,0,0,0])];var cl=[function(Il,Jl,Kl){pl(Zk[Il],al[Jl])},function(Ll,Ml,Nl){ql(Zk[Ll],al[Ml])},function(Ol,Pl,Ql){rl(Zk[Ol],al[Pl])},function(Rl,Sl,Tl){sl(Zk[Rl],al[Sl])},function(Ul,Vl,Wl){var Xl=al[Vl];var Yl=Xl[1];if(Xl[0]){Yl=Gl.GetTexture(Yl);if(Yl){Xl[0]=0;Xl[1]=Yl}}var Zl=Uk[Yl]||ml;if(null===Zl){console.log("BindTexture null!");return}Sk.activeTexture(33984+Wl);Sk.bindTexture(3553,Zl)},function($l,_l){console.error("Unsupported UniformCubemap!")},null,function(am,bm,cm){var dm=al[bm];var em=dm[1];if(dm[0]){em=Gl.GetTexture(em);if(em){dm[0]=0;dm[1]=em}}var fm=Uk[em]||ml;if(null===fm){console.log("BindTexture null!");return}Sk.activeTexture(33984+cm);Sk.bindTexture(35866,fm)}];var dl=[null];var el=[null];var fl=1280;var gl=720;var hl=1;var il=0;var jl=null;var kl=new Float32Array(4);var ll=[0,0,0,0];var ml=null;var nl=null;var ol=0;function pl(gm,hm){if(undefined===gm.mark){Sk.uniform4iv(gm,hm)}else if(hl!==gm.mark){Sk.uniform4iv(gm,hm);gm.mark=hl}}function ql(im,jm){if(undefined===im.mark){Sk.uniform4fv(im,jm)}else if(hl!==im.mark){Sk.uniform4fv(im,jm);im.mark=hl}}function rl(km,lm){if(undefined===km.mark){Sk.uniformMatrix3fv(km,false,lm)}else if(hl!==km.mark){Sk.uniformMatrix3fv(km,false,lm);km.mark=hl}}function sl(mm,nm){if(undefined===mm.mark){Sk.uniformMatrix4fv(mm,false,nm)}else if(hl!==mm.mark){Sk.uniformMatrix4fv(mm,false,nm);mm.mark=hl}}function tl(om,pm){var qm=Sk.createShader(om);if(!qm){console.error("Could not create shader object!");return null}Sk.shaderSource(qm,pm);Sk.compileShader(qm);if(!Sk.getShaderParameter(qm,Sk.COMPILE_STATUS)){var rm=Sk.getShaderInfoLog(qm);Sk.deleteShader(qm);console.error("Could not compile shader! \n\n"+rm);return null}return qm}function ul(sm){var tm=sm.program;var um=0;{Sk.bindAttribLocation(tm,0,"a_Position");Sk.bindAttribLocation(tm,1,"a_Normal");Sk.bindAttribLocation(tm,2,"a_UV");Sk.bindAttribLocation(tm,3,"a_Color");Sk.bindAttribLocation(tm,4,"a_Tangent");Sk.bindAttribLocation(tm,5,"a_Object");Sk.bindAttribLocation(tm,6,"a_MatW")}{Sk.linkProgram(tm);if(!Sk.getProgramParameter(tm,Sk.LINK_STATUS)){var vm=Sk.getProgramInfoLog(tm);console.error("Could not compile program! \n\n"+vm);return 0}}{var wm=Sk.getProgramParameter(tm,35718);if(Tk){wm-=6;var xm=Sk["getUniformBlockIndex"](tm,"CommonBlock")}var ym=Gl.CreateUniformsDesc(wm);var zm=al[ym];var Am={};var Bm=0;zm[19]=_k.push(Am)-1;dl[zm[19]]=sm;Sk.useProgram(tm);for(var Cm=0;Cm<2;Cm++){var Dm=wm+(Tk?6:0);for(var Em=0;Em<Dm;Em++){var vm=Sk.getActiveUniform(tm,Em);var Fm=vm.type;if(35678===Fm||35680===Fm||36289===Fm){if(0!==Cm){continue}}else{if(1!==Cm){continue}}var Gm=vm.name;var Hm=Sk.getUniformLocation(tm,Gm);if(!Hm){continue}var Im=Zk.push(Hm)-1;for(var Jm=0;Jm<Yk.length;Jm++){if(Gm===Yk[Jm]){zm[Jm]=Bm;if(5>Jm){Hm.mark=1}break}}switch(Fm){case 35669:Fm=0;break;case 35666:Fm=1;break;case 35675:Fm=2;break;case 35676:Fm=3;break;case 35678:Fm=4;break;case 35680:Fm=5;break;case 36289:Fm=7;break;default:console.error("Unsupported uniform type:",vm);break}zm[20+Bm]=Im;zm[20+wm+Bm]=Fm;Am[Gm]=Bm;$k[Im]=Gm;if(0===Cm){Sk.uniform1i(Hm,Bm)}Bm++}}if(Bm!==wm){console.error("Process uniform cout error!",wm,Bm)}um=zm[16]}{var Km=0;if(sm.mark){for(var Lm=0,Mm=sm.mark;Lm<Mm.length;Lm++){var Nm=Mm[Lm];Km|=Wk[Nm]}}sm.mode=Km}return um}function vl(Om){if(!Om){return null}var Pm=Rk.Shader[Om];if(!Pm){console.error("Could not find shader:",Om);return null}if(Pm.program){return Pm}var Qm=Rk.Shader.GetSourceCode(Om);Pm.vs=tl(Sk.VERTEX_SHADER,Qm[0]);if(!Pm.vs){console.error("Could not create vertex shader:",Om);return null}Pm.fs=tl(Sk.FRAGMENT_SHADER,Qm[1]);if(!Pm.fs){Sk.deleteShader(Pm.vs);Pm.vs=null;console.error("Could not create fragment shader:",Om);return null}Pm.program=Sk.createProgram();if(!Pm.program){Sk.deleteShader(Pm.vs);Sk.deleteShader(Pm.fs);Pm.vs=null;Pm.fs=null;console.error("Could not create program object!");return null}Sk.attachShader(Pm.program,Pm.vs);Sk.attachShader(Pm.program,Pm.fs);Pm.id=ul(Pm);if(!Pm.id){Sk.deleteProgram(Pm.program);Sk.deleteShader(Pm.vs);Sk.deleteShader(Pm.fs);Pm.program=null;Pm.vs=null;Pm.fs=null}return Pm}function wl(Rm,Sm){var Tm=undefined;var Um=undefined;var Vm=undefined;var Wm=undefined;var Xm=0;function Ym(){var gn=al[Rm];var hn=al[Sm];var jn=dl[gn[19]];var kn=gn[20];var ln=20+gn[17];Tm=jn.program;Um=_k[gn[19]];Vm=gn;Wm=[];Xm=gn[17];var mn=function(vn){var wn=vn;var xn=al[hn[wn]];var yn=Zk[kn+wn];var zn=gn[ln+wn];var An=[function(){return xn},function(Bn){xn.set(Bn)},undefined];switch(zn){case 0:An[2]=function(){pl(yn,xn)};break;case 1:An[2]=function(){ql(yn,xn)};break;case 2:An[2]=function(){rl(yn,xn)};break;case 3:An[2]=function(){sl(yn,xn)};break;case 4:An[2]=function(){var Cn=xn[1];if(xn[0]){Cn=Gl.GetTexture(Cn);if(Cn){xn[0]=0;xn[1]=Cn}}var Dn=Uk[Cn]||ml;if(null===Dn){console.log("BindTexture null!");return}Sk.activeTexture(33984+wn);Sk.bindTexture(3553,Dn)};break;case 7:An[2]=function(){var En=xn[1];if(xn[0]){En=Gl.GetTexture(En);if(En){xn[0]=0;xn[1]=En}}var Fn=Uk[En]||ml;if(null===Fn){console.log("BindTexture null!");return}Sk.activeTexture(33984+wn);Sk.bindTexture(35866,Fn)};break;default:console.error("Unsupported uniform type!",zn);break}Wm[wn]=An};for(var nn=0;nn<Xm;nn++){mn(nn)}if(jn.uniform_values){for(var on=0,pn=jn.uniform_values;on<pn.length;on++){var qn=pn[on];var rn=Um[qn[0]];if(undefined!==rn){var sn=gn[ln+rn];if(4===sn||5===sn){var tn=Gl.Pipeline["Resource"][qn[1]];var un=[0,tn.Handle,0,0];Wm[rn][1](un)}}}}return jn.mode}function Zm(Gn){if(jl){jl(el[Sm],Sk)}if(il!==Rm){Sk.useProgram(Tm);il=Rm;if(nl){Sk["bindBufferBase"](Sk["UNIFORM_BUFFER"],0,nl)}}for(var Hn=0,In=Wm;Hn<In.length;Hn++){var Jn=In[Hn];Jn[2]()}}function $m(Kn){return Um[Kn]}function _m(Ln){return Wm[Ln][0]()}function an(Mn){Mn=Vm[Mn];if(-1<Mn){return Wm[Mn][0]()}return null}function bn(Nn){var On=Um[Nn];if(undefined!==On){return Wm[On][0]()}return null}function cn(Pn,Qn){Wm[Pn][1](Qn);if(il===Rm){Wm[Pn][2]()}}function dn(Rn,Sn){Rn=Vm[Rn];if(-1<Rn){Wm[Rn][1](Sn);if(il===Rm){Wm[Rn][2]()}}}function en(Tn,Un){var Vn=Um[Tn];if(undefined!==Vn){Wm[Vn][1](Un);if(il===Rm){Wm[Vn][2]()}}}function fn(Wn){Wm[Wn][2]()}el[Sm]=[Ym,Zm,$m,_m,an,bn,cn,dn,en,fn];return Ym()}function xl(Xn){{Object.defineProperty(Xn,"Attr",{get:function(){if(!this.Attr_){this.Attr_=el[this._VarList()]}return this.Attr_}})}{var Yn=function($n){var _n=$n;Object.defineProperty(Xn,Yk[$n],{get:function(){return this.Attr[4](_n)},set:function(ao){if(ao){this.Attr[7](_n,ao)}}})};for(var Zn=0;Zn<Yk.length;Zn++){Yn(Zn)}}{}}function yl(bo){var co=Sk.createTexture();if(!co){console.error("Could not create texture object!");return null}Sk.bindTexture(Sk.TEXTURE_2D,co);Sk.texParameteri(Sk.TEXTURE_2D,Sk.TEXTURE_MIN_FILTER,Sk.NEAREST);Sk.texParameteri(Sk.TEXTURE_2D,Sk.TEXTURE_MAG_FILTER,Sk.NEAREST);Sk.texParameteri(Sk.TEXTURE_2D,Sk.TEXTURE_WRAP_S,Sk.CLAMP_TO_EDGE);Sk.texParameteri(Sk.TEXTURE_2D,Sk.TEXTURE_WRAP_T,Sk.CLAMP_TO_EDGE);Sk.texImage2D(Sk.TEXTURE_2D,0,Sk.RGBA,1,1,0,Sk.RGBA,Sk.UNSIGNED_BYTE,new Uint8Array(4));var eo=new Image;eo.crossOrigin="anonymous";eo.src=bo.URL;eo.onload=function(fo){Sk.bindTexture(Sk.TEXTURE_2D,co);Sk.texImage2D(Sk.TEXTURE_2D,0,Sk.RGBA,Sk.RGBA,Sk.UNSIGNED_BYTE,eo);Sk.bindTexture(Sk.TEXTURE_2D,null)};Sk.bindTexture(Sk.TEXTURE_2D,null);return co}function zl(go){var ho=Sk.createTexture();if(!ho){console.error("Could not create texture object!");return null}Sk.bindTexture(Sk.TEXTURE_2D,ho);var io=go.Params;Sk.texParameteri(Sk.TEXTURE_2D,Sk.TEXTURE_MAG_FILTER,Sk[io[1]]);Sk.texParameteri(Sk.TEXTURE_2D,Sk.TEXTURE_MIN_FILTER,Sk[io[0]]);Sk.texParameteri(Sk.TEXTURE_2D,Sk.TEXTURE_WRAP_S,Sk[io[2]]);Sk.texParameteri(Sk.TEXTURE_2D,Sk.TEXTURE_WRAP_T,Sk[io[3]]);var jo=Vk[go.Format]();Sk.texImage2D(Sk.TEXTURE_2D,go.Levels,jo[0],go.Width,go.Height,0,jo[1],jo[2],null);Sk.bindTexture(Sk.TEXTURE_2D,null);ho["_Format"]=jo;return ho}function Al(ko,lo){var mo=Sk.createFramebuffer();if(!mo){console.error("Could not create framebuffer object!");return null}Sk.bindFramebuffer(Sk.FRAMEBUFFER,mo);Sk.framebufferTexture2D(Sk.FRAMEBUFFER,Sk.COLOR_ATTACHMENT0,Sk.TEXTURE_2D,ko,0);if(lo&&lo["_Format"][0]===Sk.DEPTH_STENCIL){Sk.framebufferTexture2D(Sk.FRAMEBUFFER,Sk.DEPTH_STENCIL_ATTACHMENT,Sk.TEXTURE_2D,lo,0)}else{Sk.framebufferTexture2D(Sk.FRAMEBUFFER,Sk.DEPTH_ATTACHMENT,Sk.TEXTURE_2D,lo,0)}if(Sk.FRAMEBUFFER_COMPLETE!=Sk.checkFramebufferStatus(Sk.FRAMEBUFFER)){Sk.deleteFramebuffer(mo);console.error("Framebuffer check failed!");return null}return mo}var Bl=function(no){if(Tk){al[ol][12]=no;Sk.bindBuffer(Sk["UNIFORM_BUFFER"],nl);Sk.bufferData(Sk["UNIFORM_BUFFER"],al[ol],Sk.DYNAMIC_DRAW)}};var Cl=null;var Dl=null;var El=null;var Fl=null;var Gl={_name:"ShaderLab",Pipeline:null,Init:function(oo){Sk=Rk["GL"]["Ctx"];Uk=Rk["GL"]["_textures"];fl=Sk.canvas.width;gl=Sk.canvas.height;Cl=Rk["GL"]["BindViewport"];Dl=Rk["GL"]["BindDepth"];El=Rk["GL"]["BindBlend"];Fl=Rk["GL"]["BindStencil"];if(Tk){var po=Sk.createBuffer();if(po){Sk.bindBuffer(Sk["UNIFORM_BUFFER"],po);Sk.bufferData(Sk["UNIFORM_BUFFER"],64*3,Sk.DYNAMIC_DRAW);Sk.bindBuffer(Sk["UNIFORM_BUFFER"],null);nl=po}}this.Pipeline.Init();for(var qo=0,ro=this.Pipeline.RenderTarget;qo<ro.length;qo++){var so=ro[qo];if(so){so.Width=so.Width||fl;so.Height=so.Height||gl;so.Levels=so.Levels||0;so.Params=so.Params||["NEAREST","NEAREST","CLAMP_TO_EDGE","CLAMP_TO_EDGE"];so.Texture=zl(so);so.Handle=Rk["GL"]["RegisterTexture"](so.Texture);so.Size=[1/so.Width,1/so.Height,so.Width,so.Height]}}for(var to=0,uo=this.Pipeline.Resource;to<uo.length;to++){var vo=uo[to];if(vo){if("2D"===vo.TYPE){vo.Texture=yl(vo);vo.Handle=Rk["GL"]["RegisterTexture"](vo.Texture);if(2===vo.ID){ml=vo.Texture}}}}function wo(Go){var Ho=Go.RenderTarget;if(Ho){var Io=Gl.Pipeline["RenderTarget"][Ho[0]];var Jo=Gl.Pipeline["RenderTarget"][Ho[1]];Go.Framebuffer=Al(Io.Texture,Jo?Jo.Texture:null);if(!Go.Framebuffer){console.log(Go)}Go.Framebuffer.width=Io.Size[2];Go.Framebuffer.height=Io.Size[3]}else{Go.Framebuffer=null}}for(var xo=0,yo=this.Pipeline.Pass;xo<yo.length;xo++){var zo=yo[xo];if(zo){if("Clear"===zo.Type){zo._Type=2}else{zo._Type="Render"===zo.Type?0:1}zo._Mask=0;for(var Ao=0,Bo=zo.Mask;Ao<Bo.length;Ao++){var Co=Bo[Ao];zo._Mask+=Wk[Co]}wo(zo);if(zo.Pingpong){for(var Do=0,Eo=zo.Pingpong;Do<Eo.length;Do++){var Fo=Eo[Do];wo(Fo)}}}}},Draw:function(){hl++;var Ko=0;var Lo=this.Pipeline.Picker;if(Lo){ll[0]=Lo.x;ll[1]=Sk.canvas.height-Lo.y}else{ll[0]=-10;ll[1]=-10}Bl(0);for(var Mo=0,No=this.Pipeline.Pass;Mo<No.length;Mo++){var Oo=No[Mo];Hl.BeginDrawPass();if(Oo.Pingpong){for(var Po=0;Po<Oo.PingpongCount;Po++){for(var Qo=0;Qo<Oo.Pingpong.length;Qo++){Oo.Framebuffer=Oo.Pingpong[Qo].Framebuffer;Oo.SetUniforms=Oo.Pingpong[Qo].SetUniforms;this.DrawPass(Oo,Gl.DrawPass_)}}}else{this.DrawPass(Oo,Gl.DrawPass_)}Hl.EndDrawPass(Ko++)}},DrawPass:function(Ro,So){Sk.bindFramebuffer(Sk.FRAMEBUFFER,Ro.Framebuffer);Cl(Ro.Framebuffer,fl,gl);Dl(Ro.Depth);El(Ro.Blend,Bl);Fl(Ro.Stencil);var To=Ro.ClearTarget;if(To){var Uo=0;if(To.Color){Sk.clearColor(To.Color.r,To.Color.g,To.Color.b,To.Color.a);Uo+=Sk.COLOR_BUFFER_BIT}if(undefined!==To.Depth){Sk.clearDepth(To.Depth);Uo+=Sk.DEPTH_BUFFER_BIT}if(undefined!==To.Stencil){Sk.clearStencil(To.Stencil);Uo+=Sk.STENCIL_BUFFER_BIT}Sk.clear(Uo)}jl=Ro.SetUniforms;if(Ro.Shader){if(!Ro._Material){Ro._Material=new Rk["Material"](Ro.Shader)}Ro._Material._Bind()}So(Ro._Type,Ro._Mask);if(Ro.Postprocess){Ro.Postprocess(Sk)}},PreflushBuffer:function(){var Vo=al.length;var Wo=new Array(Vo);for(var Xo=0;Xo<Vo;Xo++){var Yo=al[Xo];if(Yo){if("Float32Array"===Yo.constructor.name){Wo[Xo]=Yo.length}else{Wo[Xo]=-Yo.length}al[Xo]=Yo.byteOffset}}return Wo},FlushBuffer:function(Zo,$o){Xk=Zo;var _o=al.length;for(var ap=0;ap<_o;ap++){var bp=al[ap];if(bp){var cp=$o[ap];if(0<cp){al[ap]=new Float32Array(Xk,bp,cp)}else{al[ap]=new Int32Array(Xk,bp,-cp)}}}for(var ap=0;ap<_o;ap++){var dp=el[ap];if(dp){dp[0]()}}Rk["GL"]["FlushHeap"]()},ResizeCanvas:function(ep,fp){},PickObject:function(){var gp=this.Pipeline.Picker;if(gp){Sk.readPixels(gp.x,Sk.canvas.height-gp.y,1,1,Sk.RGBA,Sk.FLOAT,kl);if(0>kl[3]){var hp=Math.ceil(kl[0]*1e4)*8192+Math.ceil(kl[1]*1e4);var ip=Math.ceil(kl[2]*1e4);var jp=this["GetObject"](hp);gp.Feedback(jp,ip)}else{gp.Feedback(null,0)}this.Pipeline.Picker=null}},APP_DO_OPERATORS:[function(kp){var lp=Rk["ShaderLab"]["Pipeline"]["InternalShader"][kp];var mp=vl(lp);return mp.id},function(np,op,pp,qp){var rp=null;switch(op){case 0:rp=new Int32Array(Xk,qp,4);rp.set(bl[0]);break;case 1:rp=new Float32Array(Xk,qp,4);rp.set(bl[1]);break;case 2:rp=new Float32Array(Xk,qp,9);rp.set(bl[2]);break;case 3:rp=new Float32Array(Xk,qp,16);rp.set(bl[3]);break;case 4:rp=new Int32Array(Xk,qp,4);rp.set(bl[4]);break;case 5:rp=new Int32Array(Xk,qp,4);rp.set(bl[5]);break;case 6:rp=new Int32Array(Xk,qp,pp);break;case 7:rp=new Int32Array(Xk,qp,4);rp.set(bl[7]);break;case 8:rp=new Float32Array(Xk,qp,48);ol=np;break;default:console.error("Unsupported uniform type:",op);break}al[np]=rp;return np},function(sp,tp,up,vp){cl[sp](tp,up,vp);return 0},function(wp,xp,yp,zp){var Ap=Rk["WASM"].GetString(zp);var Bp=al[wp];var Cp=_k[Bp[19]];var Dp=Cp[Ap];return undefined===Dp?0:Dp},function(Ep,Fp){el[Fp][1](Ep);return 0},function(){Gl.Draw()},wl,null],ExpandMaterial:xl,CreateUniformsDesc:undefined,GetTexture:undefined,DrawPass_:undefined,SetSunlight:undefined};var Hl={_name:"Profiler",m_pMsg:"",m_nCycleStart:0,m_nCycleTick:0,m_nBeginCycle:0,m_nTotalCycle:0,m_nBeginScript:0,m_nTotalScript:0,m_nBeginUpdate:0,m_nTotalUpdate:0,m_nBeginDraw:0,m_nTotalDraw:0,m_nBeginMaterial:0,m_nTotalMaterial:0,m_nBeginDrawPass:0,m_nTotalDrawPass:[],BeginCycle:function(){if(0===Hl.m_nCycleTick){Hl.m_nCycleStart=Rk["Time"]();Hl.m_nCycleTick=0;Hl.m_nBeginCycle=0;Hl.m_nTotalCycle=0;Hl.m_nBeginScript=0;Hl.m_nTotalScript=0;Hl.m_nBeginUpdate=0;Hl.m_nTotalUpdate=0;Hl.m_nBeginDraw=0;Hl.m_nTotalDraw=0;Hl.m_nBeginMaterial=0;Hl.m_nTotalMaterial=0;Hl.m_nBeginDrawPass=0;Hl.m_nTotalDrawPass=[]}Hl.m_nBeginCycle=Rk["Time"]()},EndCycle:function(){Hl.m_nTotalCycle+=Rk["Time"]()-Hl.m_nBeginCycle;if(60===++Hl.m_nCycleTick){var Gp={"总耗时":Rk["Time"]()-Hl.m_nCycleStart,"应用循环":Hl.m_nTotalCycle,"脚本逻辑":Hl.m_nTotalScript,"场景更新":Hl.m_nTotalUpdate,"场景绘制":Hl.m_nTotalDraw,"通道绘制":Hl.m_nTotalDrawPass};Hl.m_pMsg="'开销统计':"+JSON.stringify(Gp);Hl.m_nCycleTick=0}},BeginScript:function(){Hl.m_nBeginScript=Rk["Time"]()},EndScript:function(){Hl.m_nTotalScript+=Rk["Time"]()-Hl.m_nBeginScript},BeginUpdate:function(){Hl.m_nBeginUpdate=Rk["Time"]()},EndUpdate:function(){Hl.m_nTotalUpdate+=Rk["Time"]()-Hl.m_nBeginUpdate},BeginDraw:function(){Hl.m_nBeginDraw=Rk["Time"]()},EndDraw:function(){Hl.m_nTotalDraw+=Rk["Time"]()-Hl.m_nBeginDraw},BeginMaterial:function(){Hl.m_nBeginMaterial=Rk["Time"]()},EndMaterial:function(){Hl.m_nTotalMaterial+=Rk["Time"]()-Hl.m_nBeginMaterial},BeginDrawPass:function(){Hl.m_nBeginDrawPass=Rk["Time"]()},EndDrawPass:function(Hp){Hl.m_nTotalDrawPass[Hp]=(Hl.m_nTotalDrawPass[Hp]?Hl.m_nTotalDrawPass[Hp]:0)+Rk["Time"]()-Hl.m_nBeginDrawPass}};return[Gl,Hl]});MiaokitMerge(function(Ip){if("Sisyphus"!==Ip["m_pConfig"]["ENGINE"]){return[]}var Jp=undefined;var Kp=true;function Lp(Rp){Mp();Jp=Rp.OnRenderingEvent;Np();var Sp={memory:new WebAssembly.Memory({initial:64*16,maximum:32768}),APP_PLUGIN_TYPE:function(){return 2},APP_MEM_TYPE:function(){return 2},APP_MEM_RESERVE:function(){return 1024},APP_MEM_MALLOC:function(Tp){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!");return 0},APP_MEM_FREE:function(Up){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!")},APP_MEM_BASE:function(){return 64*1024*1024},APP_MEM_GROW:function(Vp){if(Ip["ShaderLab"]){var Wp=Ip["ShaderLab"]["PreflushBuffer"]();Sp["memory"].grow(Vp/64/1024);var Xp=Sp["memory"].buffer;Ip["ShaderLab"]["FlushBuffer"](Xp,Wp)}else{Sp["memory"].grow(Vp/64/1024)}},APP_MEM_RECYCLE:function(Yp){alert("WAMSģ�鲻֧�ֻ����ڴ�!")},UNITY_CREATE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_FREE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_GET:function(){alert("δװ��UNITY��չ!");return 0},UNITY_DO:function(){alert("δװ��UNITY��չ!");return 0}};Object["assign"](Sp,Qp.Export);Rp.OnEngineLoad(Sp)}function Mp(){var Zp=document.getElementById("unityContainer");var $p=document.createElement("canvas");$p.id="3d";$p.width=Zp.offsetWidth;$p.height=Zp.offsetHeight;$p.style.width="100%";$p.style.height="100%";$p.style.top="0rem";$p.style.bottom="0rem";$p.style.left="0rem";$p.style.right="0rem";$p.style.position="absolute";$p.style.zIndex="1";Zp.appendChild($p);Qp["CreateContext"]($p,null);Ip["ShaderLab"]["Init"](Qp)}function Np(){if(Kp){Kp=false;Pp()}}function Op(){Kp=true}function Pp(){if(Kp){return}Ip.Profiler.BeginCycle();Ip.Profiler.BeginScript();Jp(0);Ip.Profiler.EndScript();if(Ip["WASM"]["Update"]){Ip.Profiler.BeginUpdate();Ip["WASM"]["Update"](0);Ip.Profiler.EndUpdate();Ip.Profiler.BeginDraw();Ip["WASM"]["Update"](1);Ip.Profiler.EndDraw()}Ip.Profiler.EndCycle();requestAnimationFrame(Pp)}var Qp=function(){var _p=undefined;var aq=[-1,-1,-1,-1];var bq=[-1,-1,-1];var cq=[-1,-1,-1,-1,-1,-1,-1];var dq=[-1,-1,-1,-1,-1,-1,-1];var eq=[null];var fq=null;var gq=null;var hq=0;var iq=function(){var qq=[null];var rq=[];var sq=[];var tq=0;var uq=0;return{Analyze:function(){return", 'Image':["+tq+","+rq.length+","+uq+","+sq.length+"]"},Get:function(vq){return qq[vq]},CreateImage:function(){var wq=null;if(0<rq.length){wq=rq.pop()}else{tq++;wq=qq.push(new Image)-1}return wq},FreeImage:function(xq){rq.push(xq)},PushBuffer:function(yq){var zq=null;if(0<sq.length){zq=sq.pop()}else{uq++;zq=qq.push(null)-1}qq[zq]=yq;return zq},FreeBuffer:function(Aq){qq[Aq]=null;sq.push(Aq)}}}();var jq=function(Bq){var Cq=eq.length;Bq.name=Cq;eq[Cq]=Bq;return Cq};var kq=function(Dq){return eq[Dq]};var lq=function(Eq,Fq){eq[Eq]=Fq};var mq=function(Gq,Hq){gq[Gq>>2]=Hq};var nq=function(Iq){return gq[Iq>>2]};var oq=function(Jq,Kq){return fq.subarray(Jq,Jq+Kq)};var pq={glGenVertexArrays:function(Lq,Mq){var Nq=_p["createVertexArray"]();if(!Nq||1!=Lq){console.error("gl.createVertexArray error!");return}var Oq=jq(Nq);mq(Mq,Oq)},glDeleteVertexArrays:function(Pq,Qq){var Rq=nq(Qq);var Sq=kq(Rq);if(!Sq||1!=Pq){console.error("gl.deleteVertexArray error!");return}_p["deleteVertexArray"](Sq);lq(Rq,null)},glBindVertexArray:function(Tq){_p["bindVertexArray"](kq(Tq))},glVertexAttribPointer:function(Uq,Vq,Wq,Xq,Yq,Zq){_p.vertexAttribPointer(Uq,Vq,Wq,!!Xq,Yq,Zq)},glEnableVertexAttribArray:function($q){_p.enableVertexAttribArray($q)},glVertexAttribDivisor:function(_q,ar){_p["vertexAttribDivisor"](_q,ar)},glGenTextures:function(br,cr){var dr=_p.createTexture();if(!dr||1!=br){console.error("gl.createTexture error!");return}var er=jq(dr);mq(cr,er)},glDeleteTextures:function(fr,gr){var hr=nq(gr);var ir=kq(hr);if(!ir||1!=fr){console.error("gl.deleteTexture error!");return}_p.deleteTexture(ir);lq(hr,null)},glActiveTexture:function(jr){_p.activeTexture(jr)},glBindTexture:function(kr,lr){_p.bindTexture(kr,kq(lr))},glTexParameteri:function(mr,nr,or){_p.texParameteri(mr,nr,or)},glTexImage2DObj:function(pr,qr,rr,sr,tr,ur,vr,wr,xr,yr){if(0==yr){var zr=iq.Get(xr);if(zr){if(zr instanceof ArrayBuffer){_p.texImage2D(pr,qr,rr,sr,tr,ur,vr,wr,new Uint8Array(zr));iq.FreeBuffer(xr)}else{_p.texParameterf(pr,34046,hq);_p.texImage2D(pr,qr,rr,vr,wr,zr);iq.FreeImage(xr)}}}else{_p.texImage2D(pr,qr,rr,sr,tr,ur,vr,wr,0===xr?new Uint8Array(3):oq(xr,yr))}},glGenBuffers:function(Ar,Br){var Cr=_p.createBuffer();if(!Cr||1!=Ar){console.error("gl.createBuffer error!");return}var Dr=jq(Cr);mq(Br,Dr)},glDeleteBuffers:function(Er,Fr){var Gr=nq(Fr);var Hr=kq(Gr);if(!Hr||1!=Er){console.error("gl.deleteBuffer error!");return}_p.deleteBuffer(Hr);lq(Gr,null)},glBindBuffer:function(Ir,Jr){_p.bindBuffer(Ir,kq(Jr))},glBufferData:function(Kr,Lr,Mr,Nr){if(!Mr){_p.bufferData(Kr,Lr,Nr)}else{_p.bufferData(Kr,oq(Mr,Lr),Nr)}},glBufferSubData:function(Or,Pr,Qr,Rr){_p.bufferSubData(Or,Pr,oq(Rr,Qr))},glBlendEquationSeparate:function(Sr,Tr){if(Sr!=cq[1]||Tr!=cq[2]){_p.blendEquationSeparate(Sr,Tr);cq[1]=Sr;cq[2]=Tr}},glBlendFuncSeparate:function(Ur,Vr,Wr,Xr){if(Ur!=cq[3]||Vr!=cq[4]||Wr!=cq[5]||Xr!=cq[6]){_p.blendFuncSeparate(Ur,Vr,Wr,Xr);cq[3]=Ur;cq[4]=Vr;cq[5]=Wr;cq[6]=Xr}},glEnable:function(Yr){_p.enable(Yr)},glDisable:function(Zr){_p.disable(Zr)},glDepthFunc:function($r){_p.depthFunc($r)},glDepthMask:function(_r){_p.depthMask(!!_r)},glCullFace:function(as){_p.cullFace(as)},glPolygonOffset:function(bs,cs){_p.polygonOffset(bs,cs)},glViewport:function(ds,es,fs,gs){if(fs!=aq[2]||gs!=aq[3]){_p.viewport(ds,es,fs,gs);aq[2]=fs;aq[3]=gs}},glDrawArrays:function(hs,is,js){_p.drawArrays(hs,is,js)},glDrawArraysInstanced:function(ks,ls,ms,ns){_p["drawArraysInstanced"](ks,ls,ms,ns)},glDrawElements:function(os,ps,qs,rs){_p.drawElements(os,ps,qs,rs)},glDrawElementsInstanced:function(ss,ts,us,vs,ws){_p["drawElementsInstanced"](ss,ts,us,vs,ws)}};return{_name:"GL",_textures:eq,Ctx:null,ImageCache:iq,Export:pq,FlushHeap:function(){fq=Ip["WASM"]["HEAPU8"]();gq=Ip["WASM"]["HEAP32"]()},CreateContext:function(xs,ys){ys=ys||{majorVersion:2,minorVersion:0,alpha:0,depth:0,stencil:0,antialias:0,premultipliedAlpha:0,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:0,proxyContextToMainThread:0,renderViaOffscreenBackBuffer:0};if(ys["explicitSwapControl"]){return 0}if(ys["majorVersion"]==1){_p=xs.getContext("webgl",ys)||xs.getContext("experimental-webgl",ys);if(!_p){console.error("create webgl_1 error!");return}var zs=_p.getExtension("ANGLE_instanced_arrays");if(zs){_p["vertexAttribDivisor"]=function(Is,Js){zs["vertexAttribDivisorANGLE"](Is,Js)};_p["drawArraysInstanced"]=function(Ks,Ls,Ms,Ns){zs["drawArraysInstancedANGLE"](Ks,Ls,Ms,Ns)};_p["drawElementsInstanced"]=function(Os,Ps,Qs,Rs,Ss){zs["drawElementsInstancedANGLE"](Os,Ps,Qs,Rs,Ss)}}else{console.error("!ANGLE_instanced_arrays")}var As=_p.getExtension("OES_vertex_array_object");if(As){_p["createVertexArray"]=function(){return As["createVertexArrayOES"]()};_p["deleteVertexArray"]=function(Ts){As["deleteVertexArrayOES"](Ts)};_p["bindVertexArray"]=function(Us){As["bindVertexArrayOES"](Us)}}else{console.error("!OES_vertex_array_object")}var Bs=["EXT_color_buffer_half_float","OES_texture_half_float","EXT_texture_filter_anisotropic","WEBGL_depth_texture","OES_element_index_uint","EXT_frag_depth","EXT_blend_minmax"];for(var Cs=0,Ds=Bs;Cs<Ds.length;Cs++){var Es=Ds[Cs];var Fs=_p.getExtension(Es);if(!Fs){console.error("!"+Es)}}}else{_p=xs.getContext("webgl2",ys);if(!_p){console.error("create webgl_2 error!");return}var Bs=["EXT_color_buffer_float","EXT_texture_filter_anisotropic"];for(var Gs=0,Hs=Bs;Gs<Hs.length;Gs++){var Es=Hs[Gs];var Fs=_p.getExtension(Es);if(!Fs){console.error("!"+Es)}}}hq=_p.getParameter(34047);Qp.Ctx=_p;return 0},DestroyContext:function(){console.error("!DestroyContext")},GetTextureByHandle:function(Vs){return eq[Vs]},RegisterTexture:function(Ws){return jq(Ws)},BindViewport:function(Xs,Ys,Zs){var $s=Xs&&Xs.width||Ys;var _s=Xs&&Xs.height||Zs;if($s!=aq[2]||_s!=aq[3]){_p.viewport(0,0,$s,_s);aq[2]=$s;aq[3]=_s}},BindDepth:function(at){if(at){var bt=at.Write;var ct=_p[at.Func];if(1!=bq[0]){_p.enable(_p.DEPTH_TEST);bq[0]=1}if(bt!=bq[1]){_p.depthMask(bt);bq[1]=bt}if(ct!=bq[2]){_p.depthFunc(ct);bq[2]=ct}}else{if(0!=bq[0]){_p.disable(_p.DEPTH_TEST);bq[0]=0}}},BindBlend:function(dt,et){if(dt){var ft=_p[dt.ColorFunc];var gt=_p[dt.AlphaFunc];var ht=_p[dt.ColorSrc];var it=_p[dt.ColorDest];var jt=_p[dt.AlphaSrc];var kt=_p[dt.AlphaDest];if(1!=cq[0]){_p.enable(_p.BLEND);cq[0]=1;et(1)}_p.blendEquationSeparate(ft,gt);cq[1]=ft;cq[2]=gt;_p.blendFuncSeparate(ht,it,jt,kt);cq[3]=ht;cq[4]=it;cq[5]=jt;cq[6]=kt}else{if(0!=cq[0]){_p.disable(_p.BLEND);cq[0]=0;et(0)}}},BindStencil:function(lt){if(lt){var mt=_p[lt.Func];var nt=lt.Value;var ot=lt.Mask;var pt=_p[lt.Faild];var qt=_p[lt.ZFaild];var rt=_p[lt.Pass];if(1!=dq[0]){_p.enable(_p.STENCIL_TEST);dq[0]=1}if(mt!=dq[1]||nt!=dq[2]||ot!=dq[3]){_p.stencilFunc(mt,nt,ot);dq[1]=mt;dq[2]=nt;dq[3]=ot}if(pt!=dq[4]||qt!=dq[5]||rt!=dq[6]){_p.stencilOp(pt,qt,rt);dq[4]=pt;dq[5]=qt;dq[6]=rt}}else{if(0!=dq[0]){_p.disable(_p.STENCIL_TEST);dq[0]=0}}}}}();Ip["WASM"]=Ip["WASM"]||{};Ip["WASM"]["LoadEngine"]=Lp;Np["_name"]="Start";Op["_name"]="Stop";return[Qp,Np,Op]});MiaokitMerge(function(st){var tt=Date.now();function ut(){return Date.now()-tt}function vt(yt,zt){if(zt===void 0){zt=0}if(2===zt){console.warn("Track:",ut(),yt)}else if(2<zt){console.error("Track:",ut(),yt)}else{console.info("Track:",ut(),yt)}}function wt(At,Bt,Ct){if(Ct===void 0){Ct=undefined}var Dt=new XMLHttpRequest;Dt.open("GET",At,true);Dt.responseType="arraybuffer";Dt.onprogress=function(Et){if(0<Et.total&&Ct){Ct(Et.loaded/Et.total)}};Dt.onload=function(Ft){if(Dt.status==200){Bt(Dt.response)}else{Bt(null)}};Dt.onerror=function(Gt){vt(Gt,2);Bt(null)};Dt.send(null)}function xt(Ht,It,Jt,Kt,Lt,Mt){var Nt=new XMLHttpRequest;Nt.onprogress=function(Ot){if(0<Ot.total&&Lt){Lt(Ot.loaded/Ot.total)}};Nt.onload=function(Pt){if(Nt.status==200){Mt(Nt.response)}else{Mt(null)}Nt=null};Nt.onerror=function(Qt){vt(Qt,2);Mt(null)};Nt.responseType=It;Nt.open(Ht,Jt,true);Nt.send(Kt)}ut["_name"]="Time";vt["_name"]="Track";wt["_name"]="Fetch";xt["_name"]="Request";return[ut,vt,wt,xt]});MiaokitMerge(function(Rt){if("Unity"!==Rt["m_pConfig"]["ENGINE"]){return[]}if(!UnityLoader){return[]}var St=Rt["m_pLogo"]||"data:image/png;base64,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";UnityLoader.Progress.Styles.Dark.progressLogoUrl=St;UnityLoader.Progress.Styles.Light.progressLogoUrl=St;if(UnityLoader.SystemInfo.mobile){UnityLoader.SystemInfo.mobile=false;UnityLoader.downloadJob=function($t,_t){var au=new XMLHttpRequest;au.open("GET",_t.parameters.url);au.responseType="arraybuffer";au.onload=function(){UnityLoader.Compression.decompress(new Uint8Array(au.response),function(bu){_t.complete(bu)})};if(_t.parameters.onprogress)au.addEventListener("progress",_t.parameters.onprogress);if(_t.parameters.onload)au.addEventListener("load",_t.parameters.onload);au.send()}}UnityLoader.processWasmFrameworkJob=function(cu,du){var eu=UnityLoader.Job.result(cu,"downloadWasmFramework");UnityLoader.loadCode(cu,eu,function(fu,gu){cu["mainScriptUrlOrBlob"]=gu;if(cu.isModularized){UnityLoader[fu]=UnityModule}cu["instantiateWasm"]=function(hu,iu){Wt(cu,hu["env"]);if(cu["wasmBinary"]){WebAssembly.instantiate(cu["wasmBinary"],hu).then(function(ju){iu(ju.instance,ju.module)})}else{console.info("MiaokitLoader.InitUnity.instantiateWasm error!")}return{}};UnityLoader[fu](cu);du.complete()},{Module:cu,url:cu["wasmFrameworkUrl"],isModularized:cu.isModularized})};var Tt=null;var Ut=null;var Vt={};function Wt(ku,lu){Object["assign"](lu,{_Init:function(mu,nu){Rt["WASM"]["m_pMemory"]=Rt["WASM"]["m_pMemory"]||Ut.Module.wasmMemory;Xt(ku,Vt,mu,nu);Yt(Ut,Vt);Tt.OnEngineLoad(Vt)},_RenderingEvent:function(ou){Tt.OnRenderingEvent(ou)}});Rt["GL"]=lu}function Xt(pu,qu,ru,su){var tu=Rt.WASM.GetString(ru,su);var uu=JSON.parse(tu);var vu=function(zu){var Au=function(){var Bu=Array.prototype.slice.call(arguments);Bu.unshift(Au["m_nAddr"]);return Au["m_pFunc"].apply(this,Bu)};Au["m_pFunc"]=pu[zu.Call];Au["m_nAddr"]=zu.Addr;qu[zu.Name]=Au};for(var wu=0,xu=uu.List;wu<xu.length;wu++){var yu=xu[wu];vu(yu)}}function Yt(Cu,Du){Du["APP_PLUGIN_TYPE"]=function(){return 1};Du["APP_MEM_TYPE"]=function(){return 1};Du["memory"]=function(Eu){var Fu=32*1024*1024;var Gu=Eu._memalign(16,Fu);var Hu=Fu-Gu;Eu._free(Gu);var Iu=Eu._memalign(16,Hu+Fu);if(Iu!==Gu){console.error("miaokit.prememory: addr error",Gu,Iu);return}if(Iu+Hu+Fu!==67108864){console.error("miaokit.prememory: addr end error",Iu+Hu+Fu);return}Du["APP_MEM_RESERVE"]=function(){return Iu};return Eu.wasmMemory}(Ut.Module);Du["APP_MEM_MALLOC"]=function(Ju){return Ut.Module._memalign(16,Ju)};Du["APP_MEM_FREE"]=function(Ku){Ut.Module._free(Ku)};Du["APP_MEM_BASE"]=function(){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Du["APP_MEM_GROW"]=function(Lu){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};Du["APP_MEM_RECYCLE"]=function(Mu){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0}}function Zt(Nu){Tt=Nu;Ut=UnityLoader.instantiate("unityContainer",Rt["m_pConfig"]["UNITY"])}Rt["WASM"]=Rt["WASM"]||{};Rt["WASM"]["LoadEngine"]=Zt;return[]});MiaokitMerge(function(Ou){var Pu=undefined;var Qu=new TextDecoder("utf-8");var Ru=new TextEncoder;function Su(Tu){if(!Pu||Ou["WASM"].m_pMemory.buffer.byteLength!==Pu[0].byteLength){if(!Pu){Pu=[]}Pu[0]=new Int8Array(Ou["WASM"].m_pMemory.buffer);Pu[1]=new Uint8Array(Ou["WASM"].m_pMemory.buffer);Pu[2]=new Int16Array(Ou["WASM"].m_pMemory.buffer);Pu[3]=new Uint16Array(Ou["WASM"].m_pMemory.buffer);Pu[4]=new Int32Array(Ou["WASM"].m_pMemory.buffer);Pu[5]=new Uint32Array(Ou["WASM"].m_pMemory.buffer);Pu[6]=new Float32Array(Ou["WASM"].m_pMemory.buffer);Pu[7]=new Float64Array(Ou["WASM"].m_pMemory.buffer)}return Pu[Tu]}Ou["WASM"]=Ou["WASM"]||{};Ou["WASM"]["HEAP8"]=function(Uu,Vu){if(Uu===void 0){Uu=0}if(Vu===void 0){Vu=0}var Wu=Su(0);if(Uu&&Vu){return Wu.subarray(Uu,Uu+Vu)}else{return Wu}};Ou["WASM"]["HEAPU8"]=function(Xu,Yu){if(Xu===void 0){Xu=0}if(Yu===void 0){Yu=0}var Zu=Su(1);if(Xu&&Yu){return Zu.subarray(Xu,Xu+Yu)}else{return Zu}};Ou["WASM"]["HEAP16"]=function($u,_u){if($u===void 0){$u=0}if(_u===void 0){_u=0}var av=Su(2);if($u&&_u){return av.subarray($u/2,($u+_u)/2)}else{return av}};Ou["WASM"]["HEAPU16"]=function(bv,cv){if(bv===void 0){bv=0}if(cv===void 0){cv=0}var dv=Su(3);if(bv&&cv){return dv.subarray(bv/2,(bv+cv)/2)}else{return dv}};Ou["WASM"]["HEAP32"]=function(ev,fv,gv){if(ev===void 0){ev=0}if(fv===void 0){fv=0}var hv=Su(4);if(ev&&fv){if(gv){return hv.slice(ev/4,(ev+fv)/4)}else{return hv.subarray(ev/4,(ev+fv)/4)}}else{return hv}};Ou["WASM"]["HEAPU32"]=function(iv,jv){if(iv===void 0){iv=0}if(jv===void 0){jv=0}var kv=Su(5);if(iv&&jv){return kv.subarray(iv/4,(iv+jv)/4)}else{return kv}};Ou["WASM"]["HEAPF32"]=function(lv,mv,nv){if(lv===void 0){lv=0}if(mv===void 0){mv=0}var ov=Su(6);if(lv&&mv){if(nv){return ov.slice(lv/4,(lv+mv)/4)}else{return ov.subarray(lv/4,(lv+mv)/4)}}else{return ov}};Ou["WASM"]["HEAPF64"]=function(pv,qv){if(pv===void 0){pv=0}if(qv===void 0){qv=0}var rv=Su(7);if(pv&&qv){return rv.subarray(pv/8,(pv+qv)/8)}else{return rv}};Ou["WASM"]["GetString"]=function(sv,tv){if(!tv){var uv=Ou["WASM"].HEAPU8();var vv=sv;while(0!==uv[vv++]);tv=vv-sv-1}var wv=Ou["WASM"].HEAPU8(sv,tv);var xv=Qu.decode(wv);return xv};Ou["WASM"]["SetString"]=function(yv,zv){var Av=Ru.encode(zv);var Bv=Ou["WASM"].HEAPU8(yv,Av.byteLength);Bv.set(Av)};Ou["WASM"]["EncodeString"]=function(Cv){return Ru.encode(Cv)};Ou["WASM"]["m_pMemory"]=null;return[]});