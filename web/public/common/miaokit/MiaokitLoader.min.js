var MiaokitModule=function(a,b){if(a===void 0){a={m_bUnity:true,m_pUnityPath:undefined,m_pModulePath:undefined,m_pServer:undefined}}if(b===void 0){b="WWW.YONGTOC.COM"}var c=this;c["m_pEngine"]=a.m_bUnity?"Unity":"Sisyphus";c["m_pEnginePath"]=a.m_pUnityPath;c["m_pModulePath"]=a.m_pModulePath;c["m_pServer"]=a.m_pServer;c["m_pID"]=b;c["Merge"](c)};var MiaokitMerge=function(d){var e=[];d["Merge"]=d["Merge"]||function(f){for(var g=0,h=e;g<h.length;g++){var i=h[g];var j=i(f);if(j){for(var k=0,l=j;k<l.length;k++){var m=l[k];f[m._name]=m}}}};return function(n){e.push(n)}}(MiaokitModule.prototype);MiaokitMerge(function(o){var p=undefined;var q=undefined;var r={};var s=function(v,w){if(w===void 0){w=undefined}var x=0;this.length=v(-1);this[Symbol.iterator]=function(){return{next:function(){var y=v(x);if(y){var z=p(y);x=w?x+1:z.m_nObject;return{value:z,done:false}}return{value:undefined,done:true}}}}};var t={AddShader:function(A,B,C,D){var E=this.m_pShader[A];if(E){return}var F=this.m_pShaderLut.length;E={m_nID:F,m_nType:"VS"===B?1:2,m_pName:A,m_pSrc:C};this.m_pShader[A]=E;this.m_pShaderLut.push(E);if(D){var G=this.m_pTextEncoder.encode(E["m_pSrc"]);var H=o["WASM"]["Malloc"](G.byteLength);o["WASM"].HEAPU8(H,G.byteLength).set(G);D(0,F,E["m_nType"],H,G.byteLength)}return F},AddProgram:function(I,J,K,L){var M=this.m_pProgram[I];if(M){return}var N=this.m_pProgramLut.length;var O=this.m_pShader[J];var P=this.m_pShader[K];if(!O||!P){return}M={m_nID:N,m_pName:I,m_nVSID:O["m_nID"],m_nPSID:P["m_nID"]};this.m_pProgram[I]=M;this.m_pProgramLut.push(M);if(L){L(0,N,M["m_nVSID"],M["m_nPSID"])}return N},m_pShader:{},m_pProgram:{},m_pShaderLut:[],m_pProgramLut:[],m_pTextEncoder:new TextEncoder};r["Transform"]=function(Q){Object.defineProperty(Q,"position",{get:function(){var R=this["_GetPosition"]()/4;var S=o["WASM"].HEAPF32();return{x:S[R],y:S[R+1],z:S[R+2]}},set:function(T){this["_SetPosition"](T.x,T.y,T.z)}});Object.defineProperty(Q,"euler",{get:function(){var U=this["_GetEuler"]()/4;var V=o["WASM"].HEAPF32();return{x:V[U],y:V[U+1],z:V[U+2]}},set:function(W){this["_SetEuler"](W.x,W.y,W.z)}});Object.defineProperty(Q,"rotation",{get:function(){var X=this["_GetRotation"]()/4;var Y=o["WASM"].HEAPF32();return{x:Y[X],y:Y[X+1],z:Y[X+2],w:Y[X+3]}},set:function(Z){this["_SetRotation"](Z.x,Z.y,Z.z,Z.w)}});Object.defineProperty(Q,"scale",{get:function(){var $=this["_GetScale"]()/4;var _=o["WASM"].HEAPF32();return{x:_[$],y:_[$+1],z:_[$+2]}},set:function(aa){this["_SetScale"](aa.x,aa.y,aa.z)}});Object.defineProperty(Q,"localPosition",{get:function(){var ba=this["_GetLocalPosition"]()/4;var ca=o["WASM"].HEAPF32();return{x:ca[ba],y:ca[ba+1],z:ca[ba+2]}},set:function(da){this["_SetLocalPosition"](da.x,da.y,da.z)}});Object.defineProperty(Q,"localEuler",{get:function(){var ea=this["_GetLocalEuler"]()/4;var fa=o["WASM"].HEAPF32();return{x:fa[ea],y:fa[ea+1],z:fa[ea+2]}},set:function(ga){this["_SetLocalEuler"](ga.x,ga.y,ga.z)}});Object.defineProperty(Q,"localRotation",{get:function(){var ha=this["_GetLocalRotation"]()/4;var ia=o["WASM"].HEAPF32();return{x:ia[ha],y:ia[ha+1],z:ia[ha+2],w:ia[ha+3]}},set:function(ja){this["_SetLocalRotation"](ja.x,ja.y,ja.z,ja.w)}});Object.defineProperty(Q,"localScale",{get:function(){var ka=this["_GetLocalScale"]()/4;var la=o["WASM"].HEAPF32();return{x:la[ka],y:la[ka+1],z:la[ka+2]}},set:function(ma){this["_SetLocalScale"](ma.x,ma.y,ma.z)}});Object.defineProperty(Q,"right",{get:function(){var na=this["_GetRight"]()/4;var oa=o["WASM"].HEAPF32();return{x:oa[na],y:oa[na+1],z:oa[na+2]}},set:function(pa){this["_SetRight"](pa.x,pa.y,pa.z)}});Object.defineProperty(Q,"up",{get:function(){var qa=this["_GetUp"]()/4;var ra=o["WASM"].HEAPF32();return{x:ra[qa],y:ra[qa+1],z:ra[qa+2]}},set:function(){var sa=this["_SetUp"]()/4;var ta=o["WASM"].HEAPF32();return{x:ta[sa],y:ta[sa+1],z:ta[sa+2]}}});Object.defineProperty(Q,"forward",{get:function(){var ua=this["_GetForward"]()/4;var va=o["WASM"].HEAPF32();return{x:va[ua],y:va[ua+1],z:va[ua+2]}},set:function(){var wa=this["_SetForward"]()/4;var xa=o["WASM"].HEAPF32();return{x:xa[wa],y:xa[wa+1],z:xa[wa+2]}}});Q["Rotate"]=function(ya,za){this["_Rotate"](ya.x,ya.y,ya.z,za)};Q["Rotate2"]=function(Aa,Ba,Ca){this["_Rotate2"](Aa.x,Aa.y,Aa.z,Ba,Ca)};Q["Translate"]=function(Da,Ea){this["_Translate"](Da.x,Da.y,Da.z,Ea)};Q["TransformPoint"]=function(Fa){var Ga=this["_TransformPoint"](Fa.x,Fa.y,Fa.z)/4;var Ha=o["WASM"].HEAPF32();return{x:Ha[Ga],y:Ha[Ga+1],z:Ha[Ga+2]}}};r["GameObject"]=function(Ia){Object.defineProperty(Ia,"name",{get:function(){if(!this._name){var Ja=this._GetName(0);var Ka=this._GetName(1);this._name=o["WASM"].GetString(Ka,Ja)}return this._name}});Object.defineProperty(Ia,"transform",{get:function(){return p(this["_GetTransform"]())}});Object.defineProperty(Ia,"mesh",{get:function(){return p(this["_GetMesh"]())},set:function(La){this["_SetMesh"](La.m_nObject)}});Object.defineProperty(Ia,"children",{get:function(){var Ma=this;return new s(function(Na){return Ma._IterChild(Na)},true)}});Object.defineProperty(Ia,"parent",{get:function(){return p(this["_GetParent"]())}});Object.defineProperty(Ia,"data",{get:function(){return p(this["_GetUserData"]())},set:function(Oa){}});Object.defineProperty(Ia,"enableCollider",{set:function(Pa){this["_EnableCollider"](Pa)}});Object.defineProperty(Ia,"active",{set:function(Qa){this["_Active"](Qa)}});Object.defineProperty(Ia,"highlight",{set:function(Ra){this["_Highlight"](Ra)}});Ia["Destory"]=function(){this["_Destory"]()};o["GameObject"]=function(){return p(Ia._GameObject())}};r["Miaokit"]=function(Sa){Sa["LoadTile"]=function(Ta){var Ua=this["_Malloc"](Ta.byteLength);if(Ua){o["WASM"]["HEAPU8"](Ua,Ta.byteLength).set(new Uint8Array(Ta));var Va=this["_LoadTile"](Ua,Ta.byteLength);var Wa=p(Va);return Wa}return null};Sa["Analyze"]=function(Xa){var Ya=this["_Analyze"]();var Za=o["WASM"].HEAP32()[Ya/4];var $a=o["WASM"].GetString(Ya+4,Za);try{var _a=JSON.parse($a);var ab=q(Xa).concat(_a);return ab}catch(bb){console.log($a)}return null};Sa["PickEntity"]=function(cb){return p(this["_PickEntity"](cb))};Sa["GetScene"]=function(db){return p(this["_GetScene"](db))};Sa["WorldToScreenPoint"]=function(eb){var fb=this["_WorldToScreenPoint"](eb.x,eb.y,eb.z)/4;var gb=o["WASM"].HEAPF32();return{x:gb[fb],y:gb[fb+1],z:gb[fb+2]}};Sa["ScreenPointToRay"]=function(hb){var ib=this["_ScreenPointToRay"](hb.x,hb.y,hb.z)/4;var jb=o["WASM"].HEAPF32();return{m_mOrigin:{x:jb[ib],y:jb[ib+1],z:jb[ib+2]},m_mDirection:{x:jb[ib+4],y:jb[ib+5],z:jb[ib+6]}}};Object.defineProperty(Sa,"camera",{get:function(){return p(this["_GetCamera"]())}});Object.defineProperty(Sa,"gis",{get:function(){if(!this._gis){this._gis=r["Gis"]["g_pIns"]}return this._gis}});Object.defineProperty(Sa,"progress",{get:function(){return this["_GetProgress"]()}})};r["Mesh"]=function(kb){kb["SetVertices"]=function(lb,mb){this["m_aVertex"]=this["m_aVertex"]||[];this["m_aVertex"].push({m_pArray:mb,m_nSlot:this["_SlotLut"][lb],m_nItemSize:this["_SizeLut"][lb]})};kb["SetIndices"]=function(nb,ob,pb){this["m_aIndex"]=this["m_aIndex"]||[];this["m_aIndex"][nb]={m_pArray:ob,m_nItemSize:pb}};kb["Apply"]=function(){var qb=this["m_aVertex"];var rb=this["m_aIndex"];if(!qb||!rb){return}var sb=2+2*qb.length+3*rb.length;var tb=this._CreateBuffer(sb);var ub=o["WASM"]["HEAP32"](tb,sb*4);var vb=0;ub[vb++]=qb.length;ub[vb++]=rb.length;for(var wb=0;wb<qb.length;wb++){ub[vb++]=qb[wb].m_nSlot;ub[vb++]=qb[wb].m_pArray.length/qb[wb].m_nItemSize}for(var wb=0;wb<rb.length;wb++){ub[vb++]=0;ub[vb++]=0;ub[vb++]=rb[wb].m_pArray.length}this._CreateBuffer(0);for(var wb=0;wb<qb.length;wb++){var xb=qb[wb].m_pArray;var yb=this._GetVertexBuffer(wb);var zb=o["WASM"]["HEAPF32"](yb,xb.length*4);zb.set(xb)}for(var wb=0;wb<rb.length;wb++){var xb=rb[wb].m_pArray;var yb=this._GetIndexBuffer(wb);var zb=o["WASM"]["HEAP32"](yb,xb.length*4);zb.set(xb)}this._Apply();this["m_aVertex"]=undefined;this["m_aIndex"]=undefined};kb["_SlotLut"]={position:0,normal:1,uv:2,color:3,tangent:4,uv2:9,uv3:10,uv4:11,uv5:12,uv6:13,uv7:14,uv8:15};kb["_SizeLut"]={position:3,normal:3,uv:2,color:4,tangent:4,uv2:2,uv3:2,uv4:2,uv5:2,uv6:2,uv7:2,uv8:2};Object.defineProperty(kb,"position",{set:function(Ab){this.SetVertices("position",Ab)}});Object.defineProperty(kb,"normal",{set:function(Bb){this.SetVertices("normal",Bb)}});Object.defineProperty(kb,"uv",{set:function(Cb){this.SetVertices("uv",Cb)}});Object.defineProperty(kb,"triangles",{set:function(Db){this.SetIndices(0,Db)}});Object.defineProperty(kb,"material",{set:function(Eb){this.SetMaterial(0,Eb)}});o["Mesh"]=function(){return p(kb._Mesh())}};r["Texture2D"]=function(Fb){Fb["SetImageData"]=function(Gb){var Hb=this._CreateBuffer(Gb.byteLength);if(Hb){o["WASM"]["HEAPU8"](Hb,Gb.byteLength).set(new Uint8Array(Gb));this._Apply()}};Fb["Load"]=function(Ib){var Jb=this;o["Fetch"](Ib,function(Kb){if(Kb){Jb.SetImageData(Kb)}})};o["Texture2D"]=function(Lb){var Mb=p(Fb._Texture2D());if(Lb){if("string"===typeof Lb){this.Load(Lb)}else{this.SetImageData(Lb)}}return Mb}};r["Material"]=function(Nb){Nb["GetTexture"]=function(){return p(this["_GetTexture"]())};Nb["SetTexture"]=function(Ob){this["_SetTexture"](Ob.m_nObject)};if(true){Nb["Bind"]=function(){if(!this._shader){console.error("material.shader is null!");return}this._shader.bind(this)};Object.defineProperty(Nb,"shader",{get:function(){return this._shader},set:function(Pb){if(Pb){var Qb=o["ShaderLab"].GetShader(Pb);if(Qb){var Rb=this._shader?this._shader.data:{};var Sb=new Qb.uniforms_class(Rb);this._shader=Qb;this.uniforms=Sb}}}})}o["Material"]=function(Tb){if(Tb===void 0){Tb=undefined}var Ub=p(Nb._Material());if(Tb){if("Unity"===o["m_pEngine"]){console.error("Unity渲染器暂不支持自定义着色器!");return Ub}var Vb=o["Material"]["AddShader"](Tb["VS"]["m_pName"],"VS",Tb["VS"]["m_pSrc"]);var Wb=o["Material"]["AddShader"](Tb["PS"]["m_pName"],"PS",Tb["PS"]["m_pSrc"]);var Xb=o["Material"]["AddProgram"](Tb["m_pName"],Tb["VS"]["m_pName"],Tb["PS"]["m_pName"])}return Ub}};r["Tile"]=function(Yb){Object.defineProperty(Yb,"scenes",{get:function(){var Zb=this;return new s(function($b){return Zb._IterWork($b)})}})};r["Scene"]=function(_b){_b["GetLayer"]=function(ac){return p(this["_GetLayer"](ac))};Object.defineProperty(_b,"id",{get:function(){if(!this._id){var bc=this._GetID(0);var cc=this._GetID(1);this._id=o["WASM"].GetString(cc,bc)}return this._id}});Object.defineProperty(_b,"layers",{get:function(){var dc=this;return new s(function(ec){return dc._IterLayer(ec)})}});Object.defineProperty(_b,"object3D",{get:function(){if(undefined===this._object3D){var fc=this._GetObject(this.m_nObject);if(0===fc){this._object3D=null;return null}this._object3D=p(fc)}return this._object3D}});Object.defineProperty(_b,"viewState",{get:function(){return{m_mTarget:{x:0,y:0,z:0},m_nPitch:45,m_nYaw:0,m_nDistance:60,m_mOrthoTarget:{x:0,y:0,z:0},m_nOrthoScaled:0,m_nOrthoRotate:0}}});Object.defineProperty(_b,"binding",{get:function(){return p(this._GetBinding())}})};r["Layer"]=function(gc){Object.defineProperty(gc,"id",{get:function(){if(!this._id){var hc=this._GetID(0);var ic=this._GetID(1);this._id=o["WASM"].GetString(ic,hc)}return this._id}});Object.defineProperty(gc,"sites",{get:function(){var jc=this;return new s(function(kc){return jc._IterSite(kc)})}});Object.defineProperty(gc,"object3D",{get:function(){if(undefined===this._object3D){var lc=this._GetObject(this.m_nObject);if(0===lc){this._object3D=null;return null}this._object3D=p(lc)}return this._object3D}});Object.defineProperty(gc,"viewState",{get:function(){var mc=this["_GetViewState"]();if(0<mc){var nc=o["WASM"]["HEAPF32"](mc,4*11);var oc=0;return{m_mTarget:{x:nc[oc++],y:nc[oc++],z:nc[oc++]},m_nPitch:nc[oc++],m_nYaw:nc[oc++],m_nDistance:nc[oc++],m_mOrthoTarget:{x:nc[oc++],y:nc[oc++],z:nc[oc++]},m_nOrthoScaled:nc[oc++],m_nOrthoRotate:nc[oc++]}}return null}})};r["Attachment"]=function(pc){Object.defineProperty(pc,"entityType",{get:function(){return this._GetEntityType()}});Object.defineProperty(pc,"secondType",{get:function(){return this._GetSecondType()}});Object.defineProperty(pc,"flag",{get:function(){return this._GetFlag()}});Object.defineProperty(pc,"object3D",{get:function(){return p(this._GetObject())}});Object.defineProperty(pc,"viewState",{get:function(){var qc=this["_GetViewState"]();if(0<qc){var rc=o["WASM"]["HEAPF32"](qc,4*11);var sc=0;var tc={m_mTarget:{x:rc[sc++],y:rc[sc++],z:rc[sc++]},m_nPitch:rc[sc++],m_nYaw:rc[sc++],m_nDistance:rc[sc++],m_mOrthoTarget:{x:rc[sc++],y:rc[sc++],z:rc[sc++]},m_nOrthoScaled:rc[sc++],m_nOrthoRotate:rc[sc++]};console.log("attachment view:",tc);return tc}else{console.log("attachment view: null")}return null}})};r["Site"]=function(uc){Object.defineProperty(uc,"id",{get:function(){if(!this._id){var vc=this._GetID(0);var wc=this._GetID(1);this._id=o["WASM"].GetString(wc,vc)}return this._id}});Object.defineProperty(uc,"layer",{get:function(){return p(this["_Layer"]())}});Object.defineProperty(uc,"scene",{get:function(){return p(this["_Scene"]())}});Object.defineProperty(uc,"type",{get:function(){return this["_Type"]()}});Object.defineProperty(uc,"number",{get:function(){return this["_Number"]()}});Object.defineProperty(uc,"position",{get:function(){var xc=this["_Position"]()/4;var yc=o["WASM"].HEAPF32();return{x:yc[xc],y:yc[xc+1],z:yc[xc+2]}}})};r["Prefab"]=function(zc){zc["Instantiate"]=function(){return p(this["_Instantiate"]())};o["LoadPrefab"]=function(Ac,Bc){o["Fetch"](Ac,function(Cc){var Dc=null;if(Cc){var Ec=zc._Prefab();var Fc=p(Ec);var Gc=Fc.CreateBuffer(Cc.byteLength);if(Gc){o["WASM"]["HEAPU8"](Gc,Cc.byteLength).set(new Uint8Array(Cc));Fc.Apply();Dc=Fc}}Bc(Dc)})}};r["Gis"]=function(Hc){Hc["Update"]=function(Ic,Jc,Kc){return this["_Update"](Ic,Jc,Kc)};Hc["AddSvetile"]=function(Lc){var Mc=o["WASM"]["EncodeString"](Lc.m_pUrl);var Nc=this["_CreateSvetileDesc"](Mc.byteLength);var Oc=o["WASM"]["HEAPU32"](Nc,4*8);Oc[0]=Lc.m_nID;Oc[1]=Lc.m_nFlags;o["WASM"]["HEAPU8"](Oc[2],Mc.byteLength).set(Mc,0);Oc[3]=0;Oc[4]=o["WASM"]["RegisterDelegate"](function(Qc,Rc){Lc.OnActive(p(Qc),0<Rc)});var Pc=o["WASM"]["HEAPF32"](Nc+20,16);Pc[0]=Lc.m_mLngLat.x;Pc[1]=Lc.m_mLngLat.y;Pc[2]=Lc.m_mSize.x;Pc[3]=Lc.m_mSize.y;this["_AddSvetile"](Nc)};Hc["AddMapbox"]=function(Sc){var Tc=this["_GetMapboxDesc"]();var Uc=o["WASM"]["HEAPF32"](Tc,40);Uc[0]=Sc.m_mOffset.x;Uc[1]=Sc.m_mOffset.y;Uc[2]=Sc.m_mOffset.z;Uc[3]=Sc.m_mScale.x;Uc[4]=Sc.m_mScale.y;Uc[5]=Sc.m_mScale.z;Uc[6]=Sc.m_mLngLat.x;Uc[7]=Sc.m_mLngLat.y;Uc[8]=Sc.m_mSize.x;Uc[9]=Sc.m_mSize.y;this["_AddMapbox"](Tc)};Hc["AddGameObject"]=function(Vc,Wc,Xc){this["_AddGameObject"](Vc.m_nObject,Wc,Xc)};Object.defineProperty(Hc,"imageServer",{set:function(Yc){if(!Yc){Yc="http://t%d.tianditu.gov.cn/DataServer?T=vec_c&tk=fb14b0853d59b619e18c259898bd0d4d&x=%d&y=%d&l=%d"}var Zc=this["_GetServer"](0);o["WASM"].SetString(Zc,Yc)}});Object.defineProperty(Hc,"terrainServer",{set:function($c){if(!$c){$c="https://t%d.tianditu.gov.cn/dem_sjk/DataServer?T=ele_c&tk=fb14b0853d59b619e18c259898bd0d4d&x=%d&y=%d&l=%d"}var _c=this["_GetServer"](1);o["WASM"].SetString(_c,$c)}})};r["Dioramas3MX"]=function(ad){ad["_Load3MX"]=function(bd,cd,dd){var ed=this;var fd=ed.m_pFileLut[bd];var gd=fd.m_pPath+fd.m_aFile[cd];o["Request"]("GET","arraybuffer",gd,null,null,function(hd){if(!hd){return}var id=new Uint32Array(hd,0,2);if(1113083187===id[0]){var jd=id[1]>>8;var kd=9+jd;var ld=hd.byteLength-kd;var md=new Uint8Array(hd,9,jd);var nd=ed.m_pTextDecoder.decode(md);var od=JSON.parse(nd);var pd={m_pPath:gd.substring(0,gd.lastIndexOf("/")+1),m_aFile:[]};var qd=[];var rd=[];var sd=od.resources;var td=0;for(var ud=0;ud<sd.length;ud++){qd.push(ud);if("textureBuffer"===sd[ud].type){qd.push(0);rd.push(ud);if("jpg"===sd[ud].format){qd.push(0)}else if("png"===sd[ud].format){qd.push(1)}else{qd.push(1e4)}}else if("geometryBuffer"===sd[ud].type){qd.push(1);if("ctm"===sd[ud].format){qd.push(0)}else{qd.push(1e4)}}else{qd.push(1e4);qd.push(1e4)}qd.push(sd[ud].size);qd.push(td);td+=sd[ud].size;qd.push(1e4);if(sd[ud].texture){for(var vd=0;vd<sd.length;vd++){if(sd[ud].texture===sd[vd].id){qd[qd.length-1]=vd;break}}}}var wd=[];var xd=od.nodes;for(var ud=0;ud<xd.length;ud++){var yd=xd[ud];var zd=yd.bbMax[0]-yd.bbMin[0];var Ad=yd.bbMax[1]-yd.bbMin[1];var Bd=yd.bbMax[2]-yd.bbMin[2];var Cd=Math.sqrt(zd*zd+Ad*Ad+Bd*Bd);wd.push(Math.floor(parseInt(yd.bbMin[0]+yd.bbMax[0])*.5*100));wd.push(Math.floor(parseInt(yd.bbMin[1]+yd.bbMax[1])*.5*100));wd.push(Math.floor(parseInt(yd.bbMin[2]+yd.bbMax[2])*.5*100));wd.push(Math.floor(Cd*100));wd.push(Math.floor(yd.maxScreenDiameter));var Dd=yd.children?yd.children.length:0;if(0<Dd){wd.push(pd.m_aFile.length);for(var vd=0;vd<Dd;vd++){pd.m_aFile.push(yd.children[vd])}wd.push(pd.m_aFile.length)}else{wd.push(-1);wd.push(-1)}var Ed=yd.resources?yd.resources.length:0;if(0<Ed){wd.push(rd.length);for(var vd=0;vd<Ed;vd++){for(var Fd=0;Fd<sd.length;Fd++){if(yd.resources[vd]===sd[Fd].id){rd.push(Fd);break}}}wd.push(rd.length)}else{wd.push(-1);wd.push(-1)}}var Gd=4+9*xd.length+6*rd.length;var Hd=4*Gd;var Id=Hd+ld;var Jd=ed["_CreateBuffer"](Id);if(Jd){var Kd=o["WASM"]["HEAP32"](Jd,Hd);Kd[0]=Hd;Kd[1]=xd.length;Kd[2]=rd.length;Kd[3]=ed.m_pFileLut.length;Kd.set(wd,4);var Ld=4+wd.length;for(var ud=0;ud<rd.length;ud++){var Md=6*rd[ud];for(var vd=0;vd<6;vd++){Kd[Ld++]=qd[Md++]}}var Nd=o["WASM"]["HEAPU8"](Jd+Hd,ld);Nd.set(new Uint8Array(hd,kd,ld));ed["_Dispose"](dd)}ed.m_pFileLut.push(pd)}})};ad["Update"]=function(){return this["_Update"]()};Object.defineProperty(ad,"object3D",{get:function(){return p(this["_GetObject"]())}});o["Dioramas3MX"]=function(Od,Pd){var Qd=p(ad._Dioramas3MX());Qd.m_pFileLut=[];Qd.m_pTextDecoder=new TextDecoder("utf-8");if(Pd){if(Pd.m_pGis){Pd.m_pGis.AddGameObject(Qd.object3D,Pd.m_mLngLat.x,Pd.m_mLngLat.y);Qd.object3D.transform.Translate(Pd.m_mOffset,1);Qd.object3D.transform.Rotate({x:0,y:0,z:0},1)}}o["Request"]("GET","json",Od,null,null,function(Rd){Qd["m_pMeta"]=Rd;var Sd={m_pPath:Od.substring(0,Od.lastIndexOf("/")+1),m_aFile:[]};var Td=[0];for(var Ud=0;Ud<Rd.layers.length;Ud++){if("meshPyramid"===Rd.layers[Ud].type){Td.push(Ud);Td.push(Sd.m_aFile.length);Sd.m_aFile.push(Rd.layers[Ud].root)}}Td[0]=Sd.m_aFile.length;var Vd=Qd["_CreateBuffer"](4*Td.length);var Wd=o["WASM"]["HEAP32"](Vd,4*Td.length);Wd.set(Td);Qd["_Initialize"](Vd);Qd.m_pFileLut.push(Sd)});return Qd}};function u(Xd,Yd,Zd){p=Yd;q=Zd;for(var $d=0,_d=Xd;$d<_d.length;$d++){var ae=_d[$d];if(ae){var be=ae.prototype;if(r[be._type_name]){r[be._type_name](be)}if("Miaokit"===be._type_name){o["Miaokit"]=new ae(0,0)}else if("Gis"===be._type_name){r["Gis"]["g_pIns"]=new ae(0,0)}}}}o["WASM"]=o["WASM"]||{};o["WASM"]["LoadClass"]=u;return[]});MiaokitMerge(function(ce){ce["m_pLogo"]=null;ce["m_pEngine"]=ce["m_pEngine"]||"Unity";ce["m_pEnginePath"]=ce["m_pEnginePath"]||"js/Miaokit/MiaokitU3D/Build/MiaokitU3D.json";ce["m_pModulePath"]=ce["m_pModulePath"]||"./js/Miaokit/Miaokit.wasm";ce["m_pServer"]=ce["m_pServer"]||"http://sve.yongtoc.com/";ce["m_aTiles"]=[];var de=ce["m_pEngine"];var ee=ce["m_pEnginePath"];var fe=ce["m_pModulePath"];var ge=ce["m_pServer"];var he=ce["m_aTiles"];var ie=undefined;var je=false;function ke(){ce["Track"]("Preload");ce["Fetch"](fe,function(pe){if(ie){ie(pe)}else{ie=pe}});var ne=function(qe){var re=he[qe];ce["Fetch"](re.m_pPath,function(se){re["m_pData"]=se;re["m_pTile"]=null;if(he["m_pLoader"]){he["m_pLoader"](re)}})};for(var oe=0;oe<he.length;oe++){ne(oe)}}function le(te,ue){ce["Track"]("LoadEngine");ce["WASM"]["LoadEngine"]({OnEngineLoad:function(ve){ce["Track"]("LoadEngine End");if(ie){ce["Track"]("LoadMiaokit");ce["WASM"]["LoadMiaokit"](ie,ve,function(){me(function(){te();je=true})})}else{ce["Track"]("LoadMiaokit Delay");ie=function(we){ce["Track"]("LoadMiaokit");ce["WASM"]["LoadMiaokit"](we,ve,function(){me(function(){te();je=true})})}}},OnRenderingEvent:function(xe){if(je){ue(xe)}}})}function me(ye){ce["Track"]("LoadMiaokit End");var ze=he.length;if(0==ze){ye()}he["m_pLoader"]=function(Ce){Ce["m_pTile"]=ce["Miaokit"]["LoadTile"](Ce["m_pData"]);Ce["m_pData"]=null;if(Ce["Active"]){Ce["Active"]()}if(0===--ze){ye()}};for(var Ae=0;Ae<he.length;Ae++){var Be=he[Ae];if(Be["m_pData"]){he["m_pLoader"](Be)}}}ke["_name"]="Preload";le["_name"]="Load";return[ke,le]});MiaokitMerge(function(De){var Ee=function(){function Ge(){}Ge.Clamp=function(He,Ie,Je){if(He>Je){return Je}if(He<Ie){return Ie}return He};return Ge}();var Fe=function(){function Ke(Le,Me,Ne){this.x=0;this.y=0;this.z=0;this.x=Le;this.y=Me;this.z=Ne}Ke.Scale=function(Oe,Pe){return{x:Pe.x*Oe,y:Pe.y*Oe,z:Pe.z*Oe}};return Ke}();Ee["_name"]="Mathf";Fe["_name"]="Vector3";return[Ee,Fe]});MiaokitMerge(function(Qe){var Re=null;var Se=null;var Te=null;var Ue=[null];var Ve=[null];var We=[null];var Xe=1;var Ye=0;var Ze=[undefined];var $e=null;function _e(lf){lf["isnanf"]=isNaN;lf["isinff"]=isFinite;lf["powf"]=Math.pow;lf["sqrtf"]=Math.sqrt;lf["expf"]=Math.exp;lf["logf"]=Math.log;lf["floorf"]=Math.floor;lf["ceilf"]=Math.ceil;lf["sinf"]=Math.sin;lf["cosf"]=Math.cos;lf["tanf"]=Math.tan;lf["asinf"]=Math.asin;lf["acosf"]=Math.acos;lf["atanf"]=Math.atan;lf["atan2f"]=Math.atan2;lf["ldexpf"]=function(mf,nf){return mf*Math.pow(2,nf)}}function af(of){var pf=Qe["GL"];of["glTexImage2DExt"]=function(qf,rf){var sf=Ve[rf];if(sf){pf.Ctx.texImage2D(qf,0,pf.Ctx.RGB,pf.Ctx.RGB,pf.Ctx.UNSIGNED_BYTE,sf);Ve[rf]=null}};of["glCreateShader"]=pf._glCreateShader;of["glDeleteShader"]=pf._glDeleteShader;of["glShaderSource"]=pf._glShaderSource;of["glCompileShader"]=pf._glCompileShader;of["glGetShaderiv"]=pf._glGetShaderiv;of["glGetShaderInfoLog"]=pf._glGetShaderInfoLog;of["glCreateProgram"]=pf._glCreateProgram;of["glDeleteProgram"]=pf._glDeleteProgram;of["glAttachShader"]=pf._glAttachShader;of["glLinkProgram"]=pf._glLinkProgram;of["glUseProgram"]=pf._glUseProgram;of["glGetProgramiv"]=pf._glGetProgramiv;of["glGetProgramInfoLog"]=pf._glGetProgramInfoLog;of["glBindAttribLocation"]=pf._glBindAttribLocation;of["glGenVertexArrays"]=pf._glGenVertexArrays;of["glDeleteVertexArrays"]=pf._glDeleteVertexArrays;of["glBindVertexArray"]=pf._glBindVertexArray;of["glVertexAttribPointer"]=pf._glVertexAttribPointer;of["glEnableVertexAttribArray"]=pf._glEnableVertexAttribArray;of["glGetActiveUniform"]=pf._glGetActiveUniform;of["glGetUniformLocation"]=pf._glGetUniformLocation;of["glUniform1i"]=pf._glUniform1i;of["glUniform1fv"]=pf._glUniform1fv;of["glUniform2fv"]=pf._glUniform2fv;of["glUniform3fv"]=pf._glUniform3fv;of["glUniform4fv"]=pf._glUniform4fv;of["glUniform1iv"]=pf._glUniform1iv;of["glUniform2iv"]=pf._glUniform2iv;of["glUniform3iv"]=pf._glUniform3iv;of["glUniform4iv"]=pf._glUniform4iv;of["glUniformMatrix3fv"]=pf._glUniformMatrix3fv;of["glUniformMatrix4fv"]=pf._glUniformMatrix4fv;of["glGenTextures"]=pf._glGenTextures;of["glDeleteTextures"]=pf._glDeleteTextures;of["glActiveTexture"]=pf._glActiveTexture;of["glBindTexture"]=pf._glBindTexture;of["glTexStorage2D"]=pf._glTexStorage2D;of["glTexParameteri"]=pf._glTexParameteri;of["glTexImage2D"]=pf._glTexImage2D;of["glGenerateMipmap"]=pf._glGenerateMipmap;of["glGenBuffers"]=pf._glGenBuffers;of["glDeleteBuffers"]=pf._glDeleteBuffers;of["glBindBuffer"]=pf._glBindBuffer;of["glBufferData"]=pf._glBufferData;of["glMapBufferRange"]=pf._glMapBufferRange;of["glUnmapBuffer"]=pf._glUnmapBuffer;of["glGenFramebuffers"]=pf._glGenFramebuffers;of["glDeleteFramebuffers"]=pf._glDeleteFramebuffers;of["glBindFramebuffer"]=pf._glBindFramebuffer;of["glFramebufferTexture2D"]=pf._glFramebufferTexture2D;of["glCheckFramebufferStatus"]=pf._glCheckFramebufferStatus;of["glClearColor"]=pf._glClearColor;of["glClear"]=pf._glClear;of["glBlendFuncSeparate"]=pf._glBlendFuncSeparate;of["glBlendEquationSeparate"]=pf._glBlendEquationSeparate;of["glEnable"]=pf._glEnable;of["glDisable"]=pf._glDisable;of["glDepthFunc"]=pf._glDepthFunc;of["glDepthMask"]=pf._glDepthMask;of["glClearDepthf"]=pf._glClearDepthf;of["glClearStencil"]=pf._glClearStencil;of["glCullFace"]=pf._glCullFace;of["glPolygonOffset"]=pf._glPolygonOffset;of["glViewport"]=pf._glViewport;of["glDrawArrays"]=pf._glDrawArrays;of["glDrawArraysInstanced"]=pf._glDrawArraysInstanced;of["glDrawElements"]=pf._glDrawElements;of["glDrawElementsInstanced"]=pf._glDrawElementsInstanced;of["glFlush"]=pf._glFlush;of["glFinish"]=pf._glFinish}function bf(tf){function uf(Df){var Ef=Qe["WASM"].GetString(Df);if(!Ef.startsWith("http")){Ef=Qe["m_pServer"]+Ef}if(Ef.endsWith("assetbundle")){Ef+=".bin"}return Ef}function vf(Ff,Gf,Hf,If){var Jf=uf(Ff);var Kf=Re.get(Hf);var Lf=Re.get(If);Qe["Fetch"](Jf,function(Mf){if(Mf){var Nf=Kf(Gf,Mf.byteLength);if(Nf){Qe["WASM"]["HEAPU8"](Nf,Mf.byteLength).set(new Uint8Array(Mf))}}else{console.error("资源丢失:",Jf)}Lf(Gf)})}function wf(Of,Pf,Qf){var Rf=uf(Of);var Sf=Re.get(Qf);var Tf=new Image;Tf.crossOrigin="anonymous";Tf.src=Rf;Tf.onload=function(Uf){Sf(Pf,Ve.push(Tf)-1)}}function xf(Vf,Wf,Xf,Yf){vf(Vf,Wf,Xf,Yf)}function yf(Zf,$f,_f,ag){$e["LoadTerrain"](Zf,$f,_f,ag)}function zf(bg,cg,dg,eg){var fg=Qe["WASM"]["HEAP32"](bg,16);$e["LoadBlockbox"](cg,fg[0],fg[1],fg[2],fg[3],dg,eg)}function Af(gg,hg){var ig=Qe["WASM"]["HEAP32"](gg,12);var jg=ef(ig[0]);if(jg){jg["_Load3MX"](ig[1],ig[2],hg)}}function Bf(kg,lg,mg,ng){vf(kg,lg,mg,ng)}var Cf=[undefined,vf,wf,xf,yf,zf,Af,Bf];tf["APP_LOAD"]=function(og,pg,qg,rg,sg){Cf[og](pg,qg,rg,sg)}}function cf(tg){var ug={NaN:NaN,Infinity:Infinity};_e(tg);af(tg);bf(tg);tg["APP_DYNAMIC_LINK"]=function(vg,wg){var xg=Qe["WASM"]["HEAPU32"](vg,wg);var yg=xg[0];var zg=xg[1];for(var Ag=0;Ag<yg;Ag++){var Bg=xg[2+Ag]-1;var Cg=xg[zg++];var Dg=xg[zg++];var Eg=Qe["WASM"].GetString(Cg,Dg);var Fg=JSON.parse(Eg);var Gg=function(Kg,Lg){this["m_nID"]=Kg;this["m_nObject"]=Lg};var Hg=Gg.prototype;Hg["_type_name"]=Fg[0];Hg["_type_id"]=Ag+1;Hg["_ins_count"]=0;Ze[Ag+1]=Gg;var Ig=function(Mg){var Ng=Re.get(xg[zg++]);zg++;var Og=function(){var Pg=Array.prototype.slice.call(arguments);Pg.unshift(this.m_nObject);return Ng.apply(this,Pg)};if(0===Mg){Hg["_"+Fg[Mg]]=Og}else{Hg[Fg[Mg]]=Og}};for(var Jg=0;Jg<Bg;Jg++){Ig(Jg)}}Qe["WASM"]["LoadClass"](Ze,ef,hf);Qe["Miaokit"]["ResizeCavans"]=function(Qg,Rg){if(Te.SE_RESIZE){Te.SE_RESIZE(Qg,Rg)}}};tg["APP_PRINT"]=function(Sg,Tg,Ug){var Vg=Qe["WASM"].GetString(Sg,Tg);Qe["Track"](Vg,Ug)};tg["APP_DO_ACTION"]=function(Wg,Xg,Yg,Zg){Ue[Wg](Xg,Yg,Zg)};tg["APP_CREATE_OBJ"]=function($g,_g){if(0<$g){var ah=ff();var bh=new Ze[$g](ah,_g);We[ah]=bh;Ze[$g].prototype._ins_count++;return ah}else{if(-21==$g){var ch=Qe["WASM"]["HEAP32"](_g,16);var dh=ch[0];var eh=ch[1];var fh=ch[2];var gh=ch[3];var hh=Qe["WASM"]["HEAP8"](fh,eh);var ih=new Blob([hh]);var jh=window.URL.createObjectURL(ih);var kh=Re.get(gh);var lh=new Image;lh.src=jh;lh.onload=function(mh){kh(dh,Ve.push(lh)-1);window.URL.revokeObjectURL(jh)}}}return 0};tg["APP_FREE_OBJ"]=function(nh){var oh=We[nh];Ze[oh._type_id].prototype._ins_count--;gf(nh)};tg["APP_DO"]=function(ph,qh,rh,sh){if(9>ph){var th=ef(qh);if(th){var uh=th.uniforms;switch(ph){case 1:th.shader=Qe["ShaderLab"]["Pipeline"]["InternalShader"][rh];console.log("------------------",th.shader.mode);return th.shader.mode;case 2:th.Bind();break;case 3:var vh=Qe["WASM"].GetString(sh);var wh=uh.var_list;for(var xh=0;xh<wh.length;xh++){if(vh==wh[xh]){return xh}}return-1;case 4:break;case 5:break;case 6:break;case 7:break;case 8:break;default:break}}}return 0};Se=tg["memory"];Qe["WASM"]["m_pMemory"]=Qe["WASM"]["m_pMemory"]||Se;return{env:tg,global:ug}}function df(yh,zh,Ah){zh=cf(zh);WebAssembly.instantiate(yh,zh).then(function(Bh){return Bh.instance}).then(function(Ch){Te=Ch.exports;Re=Te.__indirect_function_table;Qe["WASM"]["Update"]=Ch.exports.SE_UPDATE;Qe["WASM"]["Malloc"]=Ch.exports.Malloc;Qe["WASM"]["Free"]=Ch.exports.Free;Qe["Track"]("Start thread");Qe["WASM"]["Worker"]=kf(function(){Qe["Track"]("Start thread succeed")});Te.Start();Ah()})}function ef(Dh){return We[Dh]}function ff(){var Eh=Xe;if(We.length>Xe){Xe=We[Xe]}else{Xe++}Ye++;return Eh}function gf(Fh){We[Fh]=Xe;Xe=Fh;Ye--}function hf(Gh){var Hh="'系统运行':{";Hh+="'时间':"+(Qe.Time()/1e3).toFixed(0);Hh+=", '帧率':"+Gh;Hh+=", 'WASM内存':"+Qe.WASM.m_pMemory.buffer.byteLength/1024/1024;Hh+="}";var Ih="'JS对象':{";Ih+="'工厂':["+We.length+", "+Ye+", "+(We.length-Ye)+"]";for(var Jh=1;Jh<Ze.length;Jh++){Ih+=", '"+Ze[Jh].prototype._type_name+"':"+Ze[Jh].prototype._ins_count}Ih+="}";return[Hh,Ih]}function jf(Kh){var Lh=Ue.length;Ue.push(Kh);return Lh}function kf(Mh){var Nh=Te.UTIL_WORKER_CODE();var Oh=Qe["WASM"]["HEAPU32"](Nh,16);if(false){$e=new Worker(window.URL.createObjectURL(new Blob([Qe["WASM"]["HEAPU8"](Oh[2],Oh[3])])));var Ph=Qe["WASM"]["HEAPU8"]().slice(Oh[0],Oh[0]+Oh[1]);var Qh=Ph.buffer;$e.postMessage({m_nID:1,m_aCode:Qh},[Qh])}else{var Rh=Qe["m_pModulePath"].replace(".wasm","");$e=new Worker(Rh+"Worker.min.js");fetch(Rh+"Worker.wasm").then(function(Sh){return Sh.arrayBuffer()}).then(function(Th){if(Th){$e.postMessage({m_nID:1,m_aCode:Th},[Th])}else{console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",Th)}}).catch(function(Uh){console.error("fetch error: ./js/Miaokit/MiaokitWorker.wasm",Uh)})}$e.onmessage=function(Vh){var Wh=Vh.data;switch(Wh.m_nID){case 1:Mh();Mh=null;break;case 2:$e["OnLoadTerrain"](Wh);break;case 3:$e["OnLoadBlockbox"](Wh);break;default:console.error("子线程消息异常:",Wh);break}};$e["LoadTerrain"]=function(Xh,Yh,Zh,$h){$e.postMessage({m_nID:2,m_pPath:Qe["WASM"].GetString(Xh),m_nRequest:Yh,m_nAlloc:Zh,m_nCallback:$h})};$e["OnLoadTerrain"]=function(_h){var ai=Re.get(_h.m_nAlloc);var bi=Re.get(_h.m_nCallback);var ci=_h.m_pData;if(ci){var di=ai(_h.m_nRequest,ci.byteLength);if(di){Qe["WASM"]["HEAPU8"](di,ci.byteLength).set(new Uint8Array(ci))}}else{console.warn("Terrain miss:",_h.m_pPath)}bi(_h.m_nRequest)};$e["LoadBlockbox"]=function ei(fi,gi,hi,ii,ji,ki,li){$e.postMessage({m_nID:3,m_nRequest:fi,m_nCol:gi,m_nRow:hi,m_nColOffset:ii,m_nRowOffset:ji,m_nAlloc:ki,m_nCallback:li})};$e["OnLoadBlockbox"]=function(mi){var ni=Re.get(mi.m_nAlloc);var oi=Re.get(mi.m_nCallback);var pi=mi.m_pData;var qi=[0,0,0,0];for(var ri=0;ri<4;ri++){var si=pi[ri];if(0<si.m_nVertexCount&&0<si.m_nSubmeshCount){var ti=new Qe.Mesh;var ui=new Int32Array(si.m_aIndex);ti.position=new Float32Array(si.m_aPosition);ti.normal=new Float32Array(si.m_aNormal);ti.uv=new Float32Array(si.m_aUV);for(var vi=0;vi<si.m_nSubmeshCount;vi++){var wi=ui[2*vi];var xi=ui[2*vi+1];var yi=[];for(var zi=wi;zi<xi;zi++){yi.push(zi)}ti.SetIndices(vi,new Int32Array(yi),4)}ti.Apply();qi[ri]=ti.m_nObject}else{qi[ri]=0}}var Ai=ni(mi.m_nRequest,16);if(Ai){Qe["WASM"]["HEAPU32"](Ai,16).set(new Uint32Array(qi));oi(mi.m_nRequest)}};return $e}Qe["WASM"]=Qe["WASM"]||{};Qe["WASM"]["LoadMiaokit"]=df;Qe["WASM"]["GetObject"]=ef;Qe["WASM"]["RegisterDelegate"]=jf;return[]});MiaokitMerge(function(Bi){var Ci=undefined;var Di=null;var Ei={Format:{RGBA32_FLOAT:5169,D16_UNORM:217380},DepthTest:{Never:0,Less:1,Equal:2,LessEqual:3,Greater:4,NotEqual:5,GreaterEqual:6,Always:7},BlendOP:{Add:1,Sub:2,RevSub:3,Min:4,Max:5},BlendFactor:{Zero:1,One:2,SrcColor:3,InvSrcColor:4,DestColor:5,InvDestColor:6,SrcAlpha:7,InvSrcAlpha:8,DestAlpha:9,InvDestAlpha:10,MinAlpha:11},Mark:{Opaque:1,Transparent:2,Outline:4,CastShadow:8,ReceiveShadow:16}};function Fi(Ii,Ji){var Ki=Ci.createShader(Ii);if(!Ki){console.error("Could not create shader object!");return null}Ci.shaderSource(Ki,Ji);Ci.compileShader(Ki);if(!Ci.getShaderParameter(Ki,Ci.COMPILE_STATUS)){var Li=Ci.getShaderInfoLog(Ki);Ci.deleteShader(Ki);console.error("Could not compile shader! \n\n"+Li);return null}return Ki}function Gi(Mi,Ni){var Oi=function(Ui){this["data"]=Ui||{}};Ni=Ni||{};var Pi=Ci.getProgramParameter(Mi,Ci.ACTIVE_UNIFORMS);var Qi=1;var Ri=[];var Si=function(Vi){var Wi=Ci.getActiveUniform(Mi,Vi);var Xi=Wi.name;var Yi=Ci.getUniformLocation(Mi,Xi);if(Ci.FLOAT===Wi.type){if(undefined===Ni[Xi]){Ni[Xi]=[0]}Object.defineProperty(Oi.prototype,Xi,{get:function(){return this.data[Xi]},set:function(_i){if(_i){this.data[Xi]=_i;if(Di===Mi){Ci.uniform1fv(Yi,_i)}}}})}else if(Ci.FLOAT_VEC2===Wi.type){if(undefined===Ni[Xi]){Ni[Xi]=[0,0]}Object.defineProperty(Oi.prototype,Xi,{get:function(){return this.data[Xi]},set:function(aj){if(aj){this.data[Xi]=aj;if(Di===Mi){Ci.uniform2fv(Yi,aj)}}}})}else if(Ci.FLOAT_VEC3===Wi.type){if(undefined===Ni[Xi]){Ni[Xi]=[0,0,0]}Object.defineProperty(Oi.prototype,Xi,{get:function(){return this.data[Xi]},set:function(bj){if(bj){this.data[Xi]=bj;if(Di===Mi){Ci.uniform3fv(Yi,bj)}}}})}else if(Ci.FLOAT_VEC4===Wi.type){if(undefined===Ni[Xi]){Ni[Xi]=[0,0,0,0]}Object.defineProperty(Oi.prototype,Xi,{get:function(){return this.data[Xi]},set:function(cj){if(cj){this.data[Xi]=cj;if(Di===Mi){Ci.uniform4fv(Yi,cj)}}}})}else if(Ci.INT===Wi.type){if(undefined===Ni[Xi]){Ni[Xi]=[0]}Object.defineProperty(Oi.prototype,Xi,{get:function(){return this.data[Xi]},set:function(dj){if(dj){this.data[Xi]=dj;if(Di===Mi){Ci.uniform1iv(Yi,dj)}}}})}else if(Ci.INT_VEC2===Wi.type){if(undefined===Ni[Xi]){Ni[Xi]=[0,0]}Object.defineProperty(Oi.prototype,Xi,{get:function(){return this.data[Xi]},set:function(ej){if(ej){this.data[Xi]=ej;if(Di===Mi){Ci.uniform2iv(Yi,ej)}}}})}else if(Ci.INT_VEC3===Wi.type){if(undefined===Ni[Xi]){Ni[Xi]=[0,0,0]}Object.defineProperty(Oi.prototype,Xi,{get:function(){return this.data[Xi]},set:function(fj){if(fj){this.data[Xi]=fj;if(Di===Mi){Ci.uniform3iv(Yi,fj)}}}})}else if(Ci.INT_VEC4===Wi.type){if(undefined===Ni[Xi]){Ni[Xi]=[0,0,0,0]}Object.defineProperty(Oi.prototype,Xi,{get:function(){return this.data[Xi]},set:function(gj){if(gj){this.data[Xi]=gj;if(Di===Mi){Ci.uniform4iv(Yi,gj)}}}})}else if(Ci.FLOAT_MAT3===Wi.type){if(undefined===Ni[Xi]){Ni[Xi]=[1,0,0,0,1,0,0,0,1]}Object.defineProperty(Oi.prototype,Xi,{get:function(){return this.data[Xi]},set:function(hj){if(hj){this.data[Xi]=hj;if(Di===Mi){Ci.uniformMatrix3fv(Yi,false,hj)}}}})}else if(Ci.FLOAT_MAT4===Wi.type){if(undefined===Ni[Xi]){Ni[Xi]=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}Object.defineProperty(Oi.prototype,Xi,{get:function(){return this.data[Xi]},set:function(ij){if(ij){this.data[Xi]=ij;if(Di===Mi){Ci.uniformMatrix4fv(Yi,false,ij)}}}})}else if(Ci.SAMPLER_2D===Wi.type){var Zi=Qi++;if(undefined===Ni[Xi]){Ni[Xi]=null}Object.defineProperty(Oi.prototype,Xi,{get:function(){return this.data[Xi]},set:function(jj){if(jj){this.data[Xi]=jj;if(Di===Mi){Ci.uniform1i(Yi,Zi);Ci.activeTexture(Ci.TEXTURE0+Zi);Ci.bindTexture(Ci.TEXTURE_2D,jj)}}}})}else if(Ci.SAMPLER_CUBE===Wi.type){var $i=Qi++;if(undefined===Ni[Xi]){Ni[Xi]=null}Object.defineProperty(Oi.prototype,Xi,{get:function(){return this.data[Xi]},set:function(kj){if(kj){this.data[Xi]=kj;if(Di===Mi){Ci.uniform1i(Yi,$i);Ci.activeTexture(Ci.TEXTURE0+$i);Ci.bindTexture(Ci.TEXTURE_CUBE_MAP,kj)}}}})}else{Object.defineProperty(Oi.prototype,Xi,{get:function(){return undefined},set:function(lj){}});console.error("unsupported uniform type:",Wi)}Ri.push(Xi)};for(var Ti=0;Ti<Pi;Ti++){Si(Ti)}Oi.prototype.uniforms=new Oi(Ni);Oi.prototype.var_list=Ri;return Oi}var Hi={_name:"ShaderLab",Shader:{},Pipeline:{},Init:function(mj){Ci=mj},GetShader:function(nj){if(!nj){return null}var oj=this.Shader[nj];if(!oj){console.error("Could not find shader:",nj);return null}if(oj.program){return oj}oj.vs=Fi(Ci.VERTEX_SHADER,this.Shader["Common"].code_vs+oj.code_vs);if(!oj.vs){console.error("Could not create vertex shader:",nj);return null}oj.fs=Fi(Ci.FRAGMENT_SHADER,this.Shader["Common"].code_fs+oj.code_fs);if(!oj.fs){Ci.deleteShader(oj.vs);oj.vs=null;console.error("Could not create fragment shader:",nj);return null}oj.program=Ci.createProgram();if(!oj.program){Ci.deleteShader(oj.vs);Ci.deleteShader(oj.fs);oj.vs=null;oj.fs=null;console.error("Could not create program object!");return null}Ci.attachShader(oj.program,oj.vs);Ci.attachShader(oj.program,oj.fs);{Ci.bindAttribLocation(oj.program,0,"a_Position");Ci.bindAttribLocation(oj.program,1,"a_Normal");Ci.bindAttribLocation(oj.program,2,"a_UV");Ci.bindAttribLocation(oj.program,3,"a_Color");Ci.bindAttribLocation(oj.program,4,"a_Tangent");Ci.bindAttribLocation(oj.program,5,"a_Binormal");Ci.bindAttribLocation(oj.program,9,"a_UV2");if(7<Ci.getProgramParameter(oj.program,Ci.ACTIVE_ATTRIBUTES)){Ci.bindAttribLocation(oj.program,10,"a_UV3");Ci.bindAttribLocation(oj.program,11,"a_UV4");Ci.bindAttribLocation(oj.program,12,"a_UV5");Ci.bindAttribLocation(oj.program,13,"a_UV6");Ci.bindAttribLocation(oj.program,14,"a_UV7");Ci.bindAttribLocation(oj.program,15,"a_UV8")}}Ci.linkProgram(oj.program);if(!Ci.getProgramParameter(oj.program,Ci.LINK_STATUS)){var pj=Ci.getProgramInfoLog(oj.program);Ci.deleteProgram(oj.program);Ci.deleteShader(oj.vs);Ci.deleteShader(oj.fs);oj.program=null;oj.vs=null;oj.fs=null;console.error("Could not compile program! \n\n"+pj);return null}oj.uniforms_class=Gi(oj.program,oj.data);oj.uniforms=oj.uniforms_class.prototype.uniforms;oj.bind=function(qj){Ci.useProgram(oj.program);var rj=qj.uniforms;var sj=rj.uniforms;var tj=rj.var_list;for(var uj=0,vj=tj;uj<vj.length;uj++){var wj=vj[uj];var xj=rj[wj];if(undefined!==xj){rj[wj]=xj}else{sj[wj]=sj[wj]}}};Object.defineProperty(oj,"mode",{get:function(){if(undefined!==oj.mode_){return oj.mode_}var yj=0;if(oj.mark){for(var zj=0,Aj=oj.mark;zj<Aj.length;zj++){var Bj=Aj[zj];yj|=Ei.Mark[Bj]}}oj.mode_=yj;return yj}});return oj}};return[Hi]});MiaokitMerge(function(Cj){if("Sisyphus"!==Cj["m_pEngine"]){return[]}var Dj=undefined;var Ej=true;function Fj(Kj){Gj();Dj=Kj.OnRenderingEvent;Hj();var Lj={memory:new WebAssembly.Memory({initial:64*16,maximum:32768}),APP_PLUGIN_TYPE:function(){return 2},APP_MEM_TYPE:function(){return 2},APP_MEM_RESERVE:function(){return 1024},APP_MEM_MALLOC:function(Mj){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!");return 0},APP_MEM_FREE:function(Nj){alert("SISYPHUS��չ��֧��ʹ�÷������ڴ�!")},APP_MEM_BASE:function(){return 64*1024*1024},APP_MEM_GROW:function(Oj){Lj["memory"].grow(Oj/64/1024);if(Cj["GL"]){Cj["GL"]["FlushHeap"]()}},APP_MEM_RECYCLE:function(Pj){alert("WAMSģ�鲻֧�ֻ����ڴ�!")},UNITY_CREATE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_FREE_OBJ:function(){alert("δװ��UNITY��չ!");return 0},UNITY_GET:function(){alert("δװ��UNITY��չ!");return 0},UNITY_DO:function(){alert("δװ��UNITY��չ!");return 0}};Kj.OnEngineLoad(Lj)}function Gj(){var Qj=document.getElementById("unityContainer");var Rj=document.createElement("canvas");Rj.id="3d";Rj.width=Qj.offsetWidth;Rj.height=Qj.offsetHeight;Rj.style.width="100%";Rj.style.height="100%";Rj.style.top="0rem";Rj.style.bottom="0rem";Rj.style.left="0rem";Rj.style.right="0rem";Rj.style.position="absolute";Rj.style.zIndex="1";Qj.appendChild(Rj);Cj["GL"]["CreateContext"](Rj);Cj["ShaderLab"]["Init"](Cj["GL"]["Ctx"])}function Hj(){if(Ej){Ej=false;Jj()}}function Ij(){Ej=true}function Jj(){if(Ej){return}Dj(0);if(Cj["WASM"]["Update"]){Cj["WASM"]["Update"]()}requestAnimationFrame(Jj)}Cj["WASM"]=Cj["WASM"]||{};Cj["WASM"]["LoadEngine"]=Fj;return[]});MiaokitMerge(function(Sj){var Tj=Date.now();function Uj(){return Date.now()-Tj}function Vj(Yj,Zj){if(Zj===void 0){Zj=0}if(2===Zj){console.warn("Track:",Uj(),Yj)}else if(2<Zj){console.error("Track:",Uj(),Yj)}else{console.info("Track:",Uj(),Yj)}}function Wj($j,_j,ak){if(ak===void 0){ak=undefined}var bk=new XMLHttpRequest;bk.open("GET",$j,true);bk.responseType="arraybuffer";bk.onprogress=function(ck){if(0<ck.total&&ak){ak(ck.loaded/ck.total)}};bk.onload=function(dk){if(bk.status==200){_j(bk.response)}else{_j(null)}};bk.onerror=function(ek){Vj(ek,2);_j(null)};bk.send(null)}function Xj(fk,gk,hk,ik,jk,kk){var lk=new XMLHttpRequest;lk.onprogress=function(mk){if(0<mk.total&&jk){jk(mk.loaded/mk.total)}};lk.onload=function(nk){if(lk.status==200){kk(lk.response)}else{kk(null)}lk=null};lk.onerror=function(ok){Vj(ok,2);kk(null)};lk.responseType=gk;lk.open(fk,hk,true);lk.send(ik)}Uj["_name"]="Time";Vj["_name"]="Track";Wj["_name"]="Fetch";Xj["_name"]="Request";return[Uj,Vj,Wj,Xj]});MiaokitMerge(function(pk){if("Unity"!==pk["m_pEngine"]){return[]}if(!UnityLoader){return[]}var qk=pk["m_pLogo"]||"data:image/png;base64,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";UnityLoader.Progress.Styles.Dark.progressLogoUrl=qk;UnityLoader.Progress.Styles.Light.progressLogoUrl=qk;if(UnityLoader.SystemInfo.mobile){UnityLoader.SystemInfo.mobile=false;UnityLoader.downloadJob=function(yk,zk){var Ak=new XMLHttpRequest;Ak.open("GET",zk.parameters.url);Ak.responseType="arraybuffer";Ak.onload=function(){UnityLoader.Compression.decompress(new Uint8Array(Ak.response),function(Bk){zk.complete(Bk)})};if(zk.parameters.onprogress)Ak.addEventListener("progress",zk.parameters.onprogress);if(zk.parameters.onload)Ak.addEventListener("load",zk.parameters.onload);Ak.send()}}UnityLoader.processWasmFrameworkJob=function(Ck,Dk){var Ek=UnityLoader.Job.result(Ck,"downloadWasmFramework");UnityLoader.loadCode(Ck,Ek,function(Fk,Gk){Ck["mainScriptUrlOrBlob"]=Gk;if(Ck.isModularized){UnityLoader[Fk]=UnityModule}Ck["instantiateWasm"]=function(Hk,Ik){uk(Ck,Hk["env"]);if(Ck["wasmBinary"]){WebAssembly.instantiate(Ck["wasmBinary"],Hk).then(function(Jk){Ik(Jk.instance,Jk.module)})}else{console.info("MiaokitLoader.InitUnity.instantiateWasm error!")}return{}};UnityLoader[Fk](Ck);Dk.complete()},{Module:Ck,url:Ck["wasmFrameworkUrl"],isModularized:Ck.isModularized})};var rk=null;var sk=null;var tk={};function uk(Kk,Lk){Object["assign"](Lk,{_Init:function(Mk,Nk){pk["WASM"]["m_pMemory"]=pk["WASM"]["m_pMemory"]||sk.Module.wasmMemory;vk(Kk,tk,Mk,Nk);wk(sk,tk);rk.OnEngineLoad(tk)},_RenderingEvent:function(Ok){rk.OnRenderingEvent(Ok)}});pk["GL"]=Lk}function vk(Pk,Qk,Rk,Sk){var Tk=pk.WASM.GetString(Rk,Sk);var Uk=JSON.parse(Tk);var Vk=function(Zk){var $k=function(){var _k=Array.prototype.slice.call(arguments);_k.unshift($k["m_nAddr"]);return $k["m_pFunc"].apply(this,_k)};$k["m_pFunc"]=Pk[Zk.Call];$k["m_nAddr"]=Zk.Addr;Qk[Zk.Name]=$k};for(var Wk=0,Xk=Uk.List;Wk<Xk.length;Wk++){var Yk=Xk[Wk];Vk(Yk)}}function wk(al,bl){bl["APP_PLUGIN_TYPE"]=function(){return 1};bl["APP_MEM_TYPE"]=function(){return 1};bl["memory"]=function(cl){var dl=32*1024*1024;var el=cl._memalign(16,dl);var fl=dl-el;cl._free(el);var gl=cl._memalign(16,fl+dl);if(gl!==el){console.error("miaokit.prememory: addr error",el,gl);return}if(gl+fl+dl!==67108864){console.error("miaokit.prememory: addr end error",gl+fl+dl);return}bl["APP_MEM_RESERVE"]=function(){return gl};return cl.wasmMemory}(sk.Module);bl["APP_MEM_MALLOC"]=function(hl){return sk.Module._memalign(16,hl)};bl["APP_MEM_FREE"]=function(il){sk.Module._free(il)};bl["APP_MEM_BASE"]=function(){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};bl["APP_MEM_GROW"]=function(jl){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0};bl["APP_MEM_RECYCLE"]=function(kl){alert("UNITY��չ��֧��ʹ�������ڴ�!");return 0}}function xk(ll){rk=ll;sk=UnityLoader.instantiate("unityContainer",pk["m_pEnginePath"])}pk["WASM"]=pk["WASM"]||{};pk["WASM"]["LoadEngine"]=xk;return[]});MiaokitMerge(function(ml){var nl=undefined;var ol=new TextDecoder("utf-8");var pl=new TextEncoder;function ql(rl){if(!nl||ml["WASM"].m_pMemory.buffer.byteLength!==nl[0].byteLength){if(!nl){nl=[]}nl[0]=new Int8Array(ml["WASM"].m_pMemory.buffer);nl[1]=new Uint8Array(ml["WASM"].m_pMemory.buffer);nl[2]=new Int16Array(ml["WASM"].m_pMemory.buffer);nl[3]=new Uint16Array(ml["WASM"].m_pMemory.buffer);nl[4]=new Int32Array(ml["WASM"].m_pMemory.buffer);nl[5]=new Uint32Array(ml["WASM"].m_pMemory.buffer);nl[6]=new Float32Array(ml["WASM"].m_pMemory.buffer);nl[7]=new Float64Array(ml["WASM"].m_pMemory.buffer)}return nl[rl]}ml["WASM"]=ml["WASM"]||{};ml["WASM"]["HEAP8"]=function(sl,tl){if(sl===void 0){sl=0}if(tl===void 0){tl=0}var ul=ql(0);if(sl&&tl){return ul.subarray(sl,sl+tl)}else{return ul}};ml["WASM"]["HEAPU8"]=function(vl,wl){if(vl===void 0){vl=0}if(wl===void 0){wl=0}var xl=ql(1);if(vl&&wl){return xl.subarray(vl,vl+wl)}else{return xl}};ml["WASM"]["HEAP16"]=function(yl,zl){if(yl===void 0){yl=0}if(zl===void 0){zl=0}var Al=ql(2);if(yl&&zl){return Al.subarray(yl/2,(yl+zl)/2)}else{return Al}};ml["WASM"]["HEAPU16"]=function(Bl,Cl){if(Bl===void 0){Bl=0}if(Cl===void 0){Cl=0}var Dl=ql(3);if(Bl&&Cl){return Dl.subarray(Bl/2,(Bl+Cl)/2)}else{return Dl}};ml["WASM"]["HEAP32"]=function(El,Fl){if(El===void 0){El=0}if(Fl===void 0){Fl=0}var Gl=ql(4);if(El&&Fl){return Gl.subarray(El/4,(El+Fl)/4)}else{return Gl}};ml["WASM"]["HEAPU32"]=function(Hl,Il){if(Hl===void 0){Hl=0}if(Il===void 0){Il=0}var Jl=ql(5);if(Hl&&Il){return Jl.subarray(Hl/4,(Hl+Il)/4)}else{return Jl}};ml["WASM"]["HEAPF32"]=function(Kl,Ll){if(Kl===void 0){Kl=0}if(Ll===void 0){Ll=0}var Ml=ql(6);if(Kl&&Ll){return Ml.subarray(Kl/4,(Kl+Ll)/4)}else{return Ml}};ml["WASM"]["HEAPF64"]=function(Nl,Ol){if(Nl===void 0){Nl=0}if(Ol===void 0){Ol=0}var Pl=ql(7);if(Nl&&Ol){return Pl.subarray(Nl/8,(Nl+Ol)/8)}else{return Pl}};ml["WASM"]["GetString"]=function(Ql,Rl){if(!Rl){var Sl=ml["WASM"].HEAPU8();var Tl=Ql;while(0!==Sl[Tl++]);Rl=Tl-Ql-1}var Ul=ml["WASM"].HEAPU8(Ql,Rl);var Vl=ol.decode(Ul);return Vl};ml["WASM"]["SetString"]=function(Wl,Xl){var Yl=pl.encode(Xl);var Zl=ml["WASM"].HEAPU8(Wl,Yl.byteLength);Zl.set(Yl)};ml["WASM"]["EncodeString"]=function($l){return pl.encode($l)};ml["WASM"]["m_pMemory"]=null;return[]});MiaokitMerge(function(_l){if("Sisyphus"!==_l["m_pEngine"]){return[]}var am={instance:undefined,counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:[],currentContext:null,currArrayBuffer:0,currElementArrayBuffer:0,offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],byteSizeByTypeRoot:5120,byteSizeByType:[1,1,2,2,4,4,4,2,3,4,8],programInfos:{},stringCache:{},stringiCache:{},tempFixedLengthArray:[],packAlignment:4,unpackAlignment:4,init:function(){am.miniTempBuffer=new Float32Array(am.MINI_TEMP_BUFFER_SIZE);for(var Am=0;Am<am.MINI_TEMP_BUFFER_SIZE;Am++){am.miniTempBufferViews[Am]=am.miniTempBuffer.subarray(0,Am+1)}for(var Am=0;Am<32;Am++){am.tempFixedLengthArray.push(new Array(Am))}},recordError:function Bm(Cm){if(!am.lastError){am.lastError=Cm}},getNewId:function(Dm){var Em=am.counter++;for(var Fm=Dm.length;Fm<Em;Fm++){Dm[Fm]=null}return Em},MINI_TEMP_BUFFER_SIZE:256,miniTempBuffer:null,miniTempBufferViews:[0],getSource:function(Gm,Hm,Im,Jm){var Km="";for(var Lm=0;Lm<Hm;++Lm){var Mm;if(Jm){var Nm=jm[Jm+Lm*4>>2];if(Nm<0){Mm=dm(jm[Im+Lm*4>>2])}else{Mm=dm(jm[Im+Lm*4>>2],Nm)}}else{Mm=dm(jm[Im+Lm*4>>2])}Km+=Mm}return Km},createContext:function(Om,Pm){if(typeof Pm["majorVersion"]==="undefined"&&typeof Pm["minorVersion"]==="undefined"){if(typeof WebGL2RenderingContext!=="undefined")Pm["majorVersion"]=2;else Pm["majorVersion"]=1;Pm["minorVersion"]=0}var Qm;var Rm="?";function Sm(Um){Rm=Um.statusMessage||Rm}try{Om.addEventListener("webglcontextcreationerror",Sm,false);try{if(Pm["majorVersion"]==1&&Pm["minorVersion"]==0){Qm=Om.getContext("webgl",Pm)||Om.getContext("experimental-webgl",Pm)}else if(Pm["majorVersion"]==2&&Pm["minorVersion"]==0){Qm=Om.getContext("webgl2",Pm)}else{throw"Unsupported WebGL context version "+Pm["majorVersion"]+"."+Pm["minorVersion"]+"!"}}finally{Om.removeEventListener("webglcontextcreationerror",Sm,false)}if(!Qm)throw":("}catch(Vm){cm("Could not create canvas: "+[Rm,Vm,JSON.stringify(Pm)]);return 0}if(!Qm)return 0;var Tm=am.registerContext(Qm,Pm);return Tm},registerContext:function(Wm,Xm){var Ym=1;var Zm={handle:Ym,attributes:Xm,version:Xm["majorVersion"],GLctx:Wm};function $m(){var _m=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return _m?parseInt(_m[2],10):false}Zm["supportsWebGL2EntryPoints"]=Zm.version>=2&&($m()===false||$m()>=58);if(Wm.canvas)Wm.canvas.GLctxObject=Zm;am.contexts[Ym]=Zm;if(typeof Xm["enableExtensionsByDefault"]==="undefined"||Xm["enableExtensionsByDefault"]){am.initExtensions(Zm)}if(Xm["renderViaOffscreenBackBuffer"]){return 0}return Ym},makeContextCurrent:function(an){if(!an){bm=am.currentContext=null;return true}var bn=am.contexts[an];if(!bn){return false}bm=bn.GLctx;am.currentContext=bn;return true},getContext:function(cn){return am.contexts[cn]},deleteContext:function(dn){if(!dn)return;if(am.currentContext===am.contexts[dn])am.currentContext=null;if(typeof JSEvents==="object")JSEvents.removeAllHandlersOnTarget(am.contexts[dn].GLctx.canvas);if(am.contexts[dn]&&am.contexts[dn].GLctx.canvas)am.contexts[dn].GLctx.canvas.GLctxObject=undefined;nm(am.contexts[dn]);am.contexts[dn]=null},initExtensions:function(en){if(!en)en=am.currentContext;if(en.initExtensionsDone)return;en.initExtensionsDone=true;var fn=en.GLctx;en.maxVertexAttribs=fn.getParameter(fn.MAX_VERTEX_ATTRIBS);if(en.version<2){var gn=fn.getExtension("ANGLE_instanced_arrays");if(gn){fn["vertexAttribDivisor"]=function(mn,nn){gn["vertexAttribDivisorANGLE"](mn,nn)};fn["drawArraysInstanced"]=function(on,pn,qn,rn){gn["drawArraysInstancedANGLE"](on,pn,qn,rn)};fn["drawElementsInstanced"]=function(sn,tn,un,vn,wn){gn["drawElementsInstancedANGLE"](sn,tn,un,vn,wn)}}var hn=fn.getExtension("OES_vertex_array_object");if(hn){fn["createVertexArray"]=function(){return hn["createVertexArrayOES"]()};fn["deleteVertexArray"]=function(xn){hn["deleteVertexArrayOES"](xn)};fn["bindVertexArray"]=function(yn){hn["bindVertexArrayOES"](yn)};fn["isVertexArray"]=function(zn){return hn["isVertexArrayOES"](zn)}}var jn=fn.getExtension("WEBGL_draw_buffers");if(jn){fn["drawBuffers"]=function(An,Bn){jn["drawBuffersWEBGL"](An,Bn)}}}fn.disjointTimerQueryExt=fn.getExtension("EXT_disjoint_timer_query");var kn=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2"];var ln=fn.getSupportedExtensions();if(ln&&ln.length>0){fn.getSupportedExtensions().forEach(function(Cn){if(kn.indexOf(Cn)!=-1){fn.getExtension(Cn)}})}},populateUniformTable:function(Dn){var En=am.programs[Dn];am.programInfos[Dn]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1};var Fn=am.programInfos[Dn];var Gn=Fn.uniforms;var Hn=bm.getProgramParameter(En,bm.ACTIVE_UNIFORMS);for(var In=0;In<Hn;++In){var Jn=bm.getActiveUniform(En,In);var Kn=Jn.name;Fn.maxUniformLength=Math.max(Fn.maxUniformLength,Kn.length+1);if(Kn.indexOf("]",Kn.length-1)!==-1){var Ln=Kn.lastIndexOf("[");Kn=Kn.slice(0,Ln)}var Mn=bm.getUniformLocation(En,Kn);if(Mn!=null){var Nn=am.getNewId(am.uniforms);Gn[Kn]=[Jn.size,Nn];am.uniforms[Nn]=Mn;for(var On=1;On<Jn.size;++On){var Pn=Kn+"["+On+"]";Mn=bm.getUniformLocation(En,Pn);Nn=am.getNewId(am.uniforms);am.uniforms[Nn]=Mn}}}}};var bm=undefined;var cm=console.error;var dm=_l["WASM"]["GetString"];var em=function(Qn,Rn,Sn){_l["WASM"]["SetString"](Rn,Qn)};var fm=undefined;var gm=undefined;var hm=undefined;var im=undefined;var jm=undefined;var km=undefined;var lm=undefined;function mm(Tn){return _l["WASM"]["Malloc"](Tn)}function nm(Un){_l["WASM"]["Free"](Un)}function om(Vn,Wn,Xn){return Xn?+(Vn>>>0)+ +(Wn>>>0)*4294967296:+(Vn>>>0)+ +(Wn|0)*4294967296}function pm(Yn){switch(Yn){case 34962:Yn=34964;break;case 34963:Yn=34965;break;case 35051:Yn=35053;break;case 35052:Yn=35055;break;case 35982:Yn=35983;break;case 36662:Yn=36662;break;case 36663:Yn=36663;break;case 35345:Yn=35368;break}var Zn=bm.getParameter(Yn);if(Zn)return Zn.name|0;else return 0}function qm($n){switch($n){case 34962:case 34963:case 36662:case 36663:case 35051:case 35052:case 35882:case 35982:case 35345:return true;default:return false}}function rm(_n,ao,bo,co){if(!bo){am.recordError(1281);return}var eo=bm["getIndexedParameter"](_n,ao);var fo;switch(typeof eo){case"boolean":fo=eo?1:0;break;case"number":fo=eo;break;case"object":if(eo===null){switch(_n){case 35983:case 35368:fo=0;break;default:{am.recordError(1280);return}}}else if(eo instanceof WebGLBuffer){fo=eo["name"]|0}else{am.recordError(1280);return}break;default:am.recordError(1280);return}switch(co){case"Integer64":var go=0;var ho=[fo>>>0,(go=fo,+Math.abs(go)>=1?go>0?(Math.min(+Math.floor(go/4294967296),4294967295)|0)>>>0:~~+Math.ceil((go-+(~~go>>>0))/4294967296)>>>0:0)];jm[bo>>2]=ho[0];jm[bo+4>>2]=ho[1];break;case"Integer":jm[bo>>2]=fo;break;case"Float":lm[bo>>2]=fo;break;case"Boolean":fm[bo>>0]=fo?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+co}}function sm(io,jo,ko){if(!jo){am.recordError(1281);return}var lo=undefined;switch(io){case 36346:lo=1;break;case 36344:if(ko!=="Integer"&&ko!=="Integer64"){am.recordError(1280)}return;case 34814:case 36345:lo=0;break;case 34466:var mo=bm.getParameter(34467);lo=mo.length;break;case 33309:if(bm.canvas.GLctxObject.version<2){am.recordError(1282);return}var no=bm.getSupportedExtensions();lo=2*no.length;break;case 33307:case 33308:if(bm.canvas.GLctxObject.version<2){am.recordError(1280);return}lo=io==33307?3:0;break}if(lo===undefined){var oo=bm.getParameter(io);switch(typeof oo){case"number":lo=oo;break;case"boolean":lo=oo?1:0;break;case"string":am.recordError(1280);return;case"object":if(oo===null){switch(io){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 35097:case 36389:case 34068:{lo=0;break};default:{am.recordError(1280);return}}}else if(oo instanceof Float32Array||oo instanceof Uint32Array||oo instanceof Int32Array||oo instanceof Array){for(var po=0;po<oo.length;++po){switch(ko){case"Integer":jm[jo+po*4>>2]=oo[po];break;case"Float":lm[jo+po*4>>2]=oo[po];break;case"Boolean":fm[jo+po>>0]=oo[po]?1:0;break;default:throw"internal glGet error, bad type: "+ko}}return}else if(oo instanceof WebGLBuffer||oo instanceof WebGLProgram||oo instanceof WebGLFramebuffer||oo instanceof WebGLRenderbuffer||oo instanceof WebGLQuery||oo instanceof WebGLSampler||oo instanceof WebGLSync||oo instanceof WebGLTransformFeedback||oo instanceof WebGLVertexArrayObject||oo instanceof WebGLTexture){lo=oo["name"]|0}else{am.recordError(1280);return}break;default:am.recordError(1280);return}}switch(ko){case"Integer64":var qo=0;var ro=[lo>>>0,(qo=lo,+Math.abs(qo)>=1?qo>0?(Math.min(+Math.floor(qo/4294967296),4294967295)|0)>>>0:~~+Math.ceil((qo-+(~~qo>>>0))/4294967296)>>>0:0)];jm[jo>>2]=ro[0];jm[jo+4>>2]=ro[1];break;case"Integer":jm[jo>>2]=lo;break;case"Float":lm[jo>>2]=lo;break;case"Boolean":fm[jo>>0]=lo?1:0;break;default:throw"internal glGet error, bad type: "+ko}}function tm(so,to,uo,vo){if(!uo){am.recordError(1281);return}var wo=bm.getUniform(am.programs[so],am.uniforms[to]);if(typeof wo=="number"||typeof wo=="boolean"){switch(vo){case"Integer":jm[uo>>2]=wo;break;case"Float":lm[uo>>2]=wo;break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+vo}}else{for(var xo=0;xo<wo.length;xo++){switch(vo){case"Integer":jm[uo+xo*4>>2]=wo[xo];break;case"Float":lm[uo+xo*4>>2]=wo[xo];break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+vo}}}}function um(yo,zo,Ao,Bo){if(!Ao){am.recordError(1281);return}var Co=bm.getVertexAttrib(yo,zo);if(zo==34975){jm[Ao>>2]=Co["name"]}else if(typeof Co=="number"||typeof Co=="boolean"){switch(Bo){case"Integer":jm[Ao>>2]=Co;break;case"Float":lm[Ao>>2]=Co;break;case"FloatToInteger":jm[Ao>>2]=Math["fround"](Co);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+Bo}}else{for(var Do=0;Do<Co.length;Do++){switch(Bo){case"Integer":jm[Ao+Do*4>>2]=Co[Do];break;case"Float":lm[Ao+Do*4>>2]=Co[Do];break;case"FloatToInteger":jm[Ao+Do*4>>2]=Math["fround"](Co[Do]);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+Bo}}}}function vm(Eo,Fo,Go,Ho){function Io(Lo,Mo){return Math.floor((Lo+Mo-1)/Mo)*Mo}var Jo=Eo*Go;var Ko=Io(Jo,Ho);return Fo<=0?0:(Fo-1)*Ko+Jo}function wm(No,Oo,Po,Qo,Ro,So){var To;var Uo;switch(Oo){case 6406:case 6409:case 6402:case 6403:case 36244:Uo=1;break;case 6410:case 33319:case 33320:Uo=2;break;case 6407:case 35904:case 36248:Uo=3;break;case 6408:case 35906:case 36249:Uo=4;break;default:am.recordError(1280);return null}switch(No){case 5121:case 5120:To=Uo*1;break;case 5123:case 36193:case 5131:case 5122:To=Uo*2;break;case 5125:case 5126:case 5124:To=Uo*4;break;case 34042:case 35902:case 33640:case 35899:case 34042:To=4;break;case 33635:case 32819:case 32820:To=2;break;default:am.recordError(1280);return null}var Vo=vm(Po,Qo,To,am.unpackAlignment);switch(No){case 5120:return fm.subarray(Ro,Ro+Vo);case 5121:return gm.subarray(Ro,Ro+Vo);case 5122:return hm.subarray(Ro>>1,Ro+Vo>>1);case 5124:return jm.subarray(Ro>>2,Ro+Vo>>2);case 5126:return lm.subarray(Ro>>2,Ro+Vo>>2);case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return km.subarray(Ro>>2,Ro+Vo>>2);case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return im.subarray(Ro>>1,Ro+Vo>>1);default:am.recordError(1280);return null}}function xm(Wo){switch(Wo){case 5120:return fm;case 5121:return gm;case 5122:return hm;case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return im;case 5124:return jm;case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return km;case 5126:return lm;default:return null}}function ym(Xo){switch(Xo){case 5120:case 5121:return 0;case 5122:case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return 1;case 5124:case 5126:case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return 2;default:return 0}}var zm=function(){function Yo(){this.Ctx=undefined}Yo.prototype.FlushHeap=function(){fm=_l["WASM"]["HEAP8"]();gm=_l["WASM"]["HEAPU8"]();hm=_l["WASM"]["HEAP16"]();im=_l["WASM"]["HEAPU16"]();jm=_l["WASM"]["HEAP32"]();km=_l["WASM"]["HEAPU32"]();lm=_l["WASM"]["HEAPF32"]()};Yo.prototype.CreateContext=function(Zo,$o){$o=$o||{majorVersion:1,minorVersion:0,alpha:0,depth:1,stencil:0,antialias:1,premultipliedAlpha:0,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:0,proxyContextToMainThread:0,renderViaOffscreenBackBuffer:0};if($o["explicitSwapControl"]){return 0}am.init();var _o=am.createContext(Zo,$o);var ap=am.makeContextCurrent(_o);this.Ctx=bm;return ap?0:-5};Yo.prototype.DestroyContext=function(){am.deleteContext(am.currentContext?am.currentContext.handle:0)};Yo.prototype._glActiveTexture=function(bp){bm["activeTexture"](bp)};Yo.prototype._glAttachShader=function(cp,dp){bm.attachShader(am.programs[cp],am.shaders[dp])};Yo.prototype._glBeginQuery=function(ep,fp){bm["beginQuery"](ep,fp?am.queries[fp]:null)};Yo.prototype._glBeginTransformFeedback=function(gp){bm["beginTransformFeedback"](gp)};Yo.prototype._glBindAttribLocation=function(hp,ip,jp){jp=dm(jp);bm.bindAttribLocation(am.programs[hp],ip,jp)};Yo.prototype._glBindBuffer=function(kp,lp){var mp=lp?am.buffers[lp]:null;if(kp==35051){bm.currentPixelPackBufferBinding=lp}else if(kp==35052){bm.currentPixelUnpackBufferBinding=lp}bm.bindBuffer(kp,mp)};Yo.prototype._glBindBufferBase=function(np,op,pp){var qp=pp?am.buffers[pp]:null;bm["bindBufferBase"](np,op,qp)};Yo.prototype._glBindBufferRange=function(rp,sp,tp,up,vp){var wp=tp?am.buffers[tp]:null;bm["bindBufferRange"](rp,sp,wp,up,vp)};Yo.prototype._glBindFramebuffer=function(xp,yp){bm.bindFramebuffer(xp,yp?am.framebuffers[yp]:null)};Yo.prototype._glBindRenderbuffer=function(zp,Ap){bm.bindRenderbuffer(zp,Ap?am.renderbuffers[Ap]:null)};Yo.prototype._glBindSampler=function(Bp,Cp){bm["bindSampler"](Bp,Cp?am.samplers[Cp]:null)};Yo.prototype._glBindTexture=function(Dp,Ep){bm.bindTexture(Dp,Ep?am.textures[Ep]:null)};Yo.prototype._glBindTransformFeedback=function(Fp,Gp){var Hp=Gp?am.transformFeedbacks[Gp]:null;if(Gp&&!Hp){am.recordError(1282);return}bm["bindTransformFeedback"](Fp,Hp)};Yo.prototype._glBindVertexArray=function(Ip){bm["bindVertexArray"](am.vaos[Ip])};Yo.prototype._glBlendEquation=function(Jp){bm["blendEquation"](Jp)};Yo.prototype._glBlendEquationSeparate=function(Kp,Lp){bm["blendEquationSeparate"](Kp,Lp)};Yo.prototype._glBlendFuncSeparate=function(Mp,Np,Op,Pp){bm["blendFuncSeparate"](Mp,Np,Op,Pp)};Yo.prototype._glBlitFramebuffer=function(Qp,Rp,Sp,Tp,Up,Vp,Wp,Xp,Yp,Zp){bm["blitFramebuffer"](Qp,Rp,Sp,Tp,Up,Vp,Wp,Xp,Yp,Zp)};Yo.prototype._glBufferData=function($p,_p,aq,bq){if(!aq){bm.bufferData($p,_p,bq)}else{if(am.currentContext.supportsWebGL2EntryPoints){bm.bufferData($p,gm,bq,aq,_p);return}bm.bufferData($p,gm.subarray(aq,aq+_p),bq)}};Yo.prototype._glBufferSubData=function(cq,dq,eq,fq){if(am.currentContext.supportsWebGL2EntryPoints){bm.bufferSubData(cq,dq,gm,fq,eq);return}bm.bufferSubData(cq,dq,gm.subarray(fq,fq+eq))};Yo.prototype._glCheckFramebufferStatus=function(gq){return bm["checkFramebufferStatus"](gq)};Yo.prototype._glClear=function(hq){bm["clear"](hq)};Yo.prototype._glClearColor=function(iq,jq,kq,lq){bm["clearColor"](iq,jq,kq,lq)};Yo.prototype._glClearDepthf=function(mq){bm["clearDepth"](mq)};Yo.prototype._glClearStencil=function(nq){bm["clearStencil"](nq)};Yo.prototype._glClientWaitSync=function(oq,pq,qq,rq){qq=qq>>>0;rq=rq>>>0;var sq=qq==4294967295&&rq==4294967295?-1:om(qq,rq,true);return bm.clientWaitSync(am.syncs[oq],pq,sq)};Yo.prototype._glColorMask=function(tq,uq,vq,wq){bm.colorMask(!!tq,!!uq,!!vq,!!wq)};Yo.prototype._glCompileShader=function(xq){bm.compileShader(am.shaders[xq])};Yo.prototype._glCompressedTexImage2D=function(yq,zq,Aq,Bq,Cq,Dq,Eq,Fq){if(am.currentContext.supportsWebGL2EntryPoints){bm["compressedTexImage2D"](yq,zq,Aq,Bq,Cq,Dq,gm,Fq,Eq);return}bm["compressedTexImage2D"](yq,zq,Aq,Bq,Cq,Dq,Fq?gm.subarray(Fq,Fq+Eq):null)};Yo.prototype._glCompressedTexSubImage2D=function(Gq,Hq,Iq,Jq,Kq,Lq,Mq,Nq,Oq){if(am.currentContext.supportsWebGL2EntryPoints){bm["compressedTexSubImage2D"](Gq,Hq,Iq,Jq,Kq,Lq,Mq,gm,Oq,Nq);return}bm["compressedTexSubImage2D"](Gq,Hq,Iq,Jq,Kq,Lq,Mq,Oq?gm.subarray(Oq,Oq+Nq):null)};Yo.prototype._glCompressedTexSubImage3D=function(Pq,Qq,Rq,Sq,Tq,Uq,Vq,Wq,Xq,Yq,Zq){if(am.currentContext.supportsWebGL2EntryPoints){bm["compressedTexSubImage3D"](Pq,Qq,Rq,Sq,Tq,Uq,Vq,Wq,Xq,gm,Zq,Yq)}else{bm["compressedTexSubImage3D"](Pq,Qq,Rq,Sq,Tq,Uq,Vq,Wq,Xq,Zq?gm.subarray(Zq,Zq+Yq):null)}};Yo.prototype._glCopyBufferSubData=function($q,_q,ar,br,cr){bm["copyBufferSubData"]($q,_q,ar,br,cr)};Yo.prototype._glCopyTexImage2D=function(dr,er,fr,gr,hr,ir,jr,kr){bm["copyTexImage2D"](dr,er,fr,gr,hr,ir,jr,kr)};Yo.prototype._glCopyTexSubImage2D=function(lr,mr,nr,or,pr,qr,rr,sr){bm["copyTexSubImage2D"](lr,mr,nr,or,pr,qr,rr,sr)};Yo.prototype._glCreateProgram=function(){var tr=am.getNewId(am.programs);var ur=bm.createProgram();ur.name=tr;am.programs[tr]=ur;return tr};Yo.prototype._glCreateShader=function(vr){var wr=am.getNewId(am.shaders);am.shaders[wr]=bm.createShader(vr);return wr};Yo.prototype._glCullFace=function(xr){bm["cullFace"](xr)};Yo.prototype._glDeleteBuffers=function(yr,zr){for(var Ar=0;Ar<yr;Ar++){var Br=jm[zr+Ar*4>>2];var Cr=am.buffers[Br];if(!Cr)continue;bm.deleteBuffer(Cr);Cr.name=0;am.buffers[Br]=null;if(Br==am.currArrayBuffer)am.currArrayBuffer=0;if(Br==am.currElementArrayBuffer)am.currElementArrayBuffer=0}};Yo.prototype._glDeleteFramebuffers=function(Dr,Er){for(var Fr=0;Fr<Dr;++Fr){var Gr=jm[Er+Fr*4>>2];var Hr=am.framebuffers[Gr];if(!Hr)continue;bm.deleteFramebuffer(Hr);Hr.name=0;am.framebuffers[Gr]=null}};Yo.prototype._glDeleteProgram=function(Ir){if(!Ir)return;var Jr=am.programs[Ir];if(!Jr){am.recordError(1281);return}bm.deleteProgram(Jr);Jr.name=0;am.programs[Ir]=null;am.programInfos[Ir]=null};Yo.prototype._glDeleteQueries=function(Kr,Lr){for(var Mr=0;Mr<Kr;Mr++){var Nr=jm[Lr+Mr*4>>2];var Or=am.queries[Nr];if(!Or)continue;bm["deleteQuery"](Or);am.queries[Nr]=null}};Yo.prototype._glDeleteRenderbuffers=function(Pr,Qr){for(var Rr=0;Rr<Pr;Rr++){var Sr=jm[Qr+Rr*4>>2];var Tr=am.renderbuffers[Sr];if(!Tr)continue;bm.deleteRenderbuffer(Tr);Tr.name=0;am.renderbuffers[Sr]=null}};Yo.prototype._glDeleteSamplers=function(Ur,Vr){for(var Wr=0;Wr<Ur;Wr++){var Xr=jm[Vr+Wr*4>>2];var Yr=am.samplers[Xr];if(!Yr)continue;bm["deleteSampler"](Yr);Yr.name=0;am.samplers[Xr]=null}};Yo.prototype._glDeleteShader=function(Zr){if(!Zr)return;var $r=am.shaders[Zr];if(!$r){am.recordError(1281);return}bm.deleteShader($r);am.shaders[Zr]=null};Yo.prototype._glDeleteSync=function(_r){if(!_r)return;var as=am.syncs[_r];if(!as){am.recordError(1281);return}bm.deleteSync(as);as.name=0;am.syncs[_r]=null};Yo.prototype._glDeleteTextures=function(bs,cs){for(var ds=0;ds<bs;ds++){var es=jm[cs+ds*4>>2];var fs=am.textures[es];if(!fs)continue;bm.deleteTexture(fs);fs.name=0;am.textures[es]=null}};Yo.prototype._glDeleteTransformFeedbacks=function(gs,hs){for(var is=0;is<gs;is++){var js=jm[hs+is*4>>2];var ks=am.transformFeedbacks[js];if(!ks)continue;bm["deleteTransformFeedback"](ks);ks.name=0;am.transformFeedbacks[js]=null}};Yo.prototype._glDeleteVertexArrays=function(ls,ms){for(var ns=0;ns<ls;ns++){var os=jm[ms+ns*4>>2];bm["deleteVertexArray"](am.vaos[os]);am.vaos[os]=null}};Yo.prototype._glDepthFunc=function(ps){bm["depthFunc"](ps)};Yo.prototype._glDepthMask=function(qs){bm.depthMask(!!qs)};Yo.prototype._glDetachShader=function(rs,ss){bm.detachShader(am.programs[rs],am.shaders[ss])};Yo.prototype._glDisable=function(ts){bm["disable"](ts)};Yo.prototype._glDisableVertexAttribArray=function(us){bm.disableVertexAttribArray(us)};Yo.prototype._glDrawArrays=function(vs,ws,xs){bm.drawArrays(vs,ws,xs)};Yo.prototype._glDrawArraysInstanced=function(ys,zs,As,Bs){bm["drawArraysInstanced"](ys,zs,As,Bs)};Yo.prototype._glDrawBuffers=function(Cs,Ds){var Es=am.tempFixedLengthArray[Cs];for(var Fs=0;Fs<Cs;Fs++){Es[Fs]=jm[Ds+Fs*4>>2]}bm["drawBuffers"](Es)};Yo.prototype._glDrawElements=function(Gs,Hs,Is,Js){bm.drawElements(Gs,Hs,Is,Js)};Yo.prototype._glDrawElementsInstanced=function(Ks,Ls,Ms,Ns,Os){bm["drawElementsInstanced"](Ks,Ls,Ms,Ns,Os)};Yo.prototype._glEnable=function(Ps){bm["enable"](Ps)};Yo.prototype._glEnableVertexAttribArray=function(Qs){bm.enableVertexAttribArray(Qs)};Yo.prototype._glEndQuery=function(Rs){bm["endQuery"](Rs)};Yo.prototype._glEndTransformFeedback=function(){bm["endTransformFeedback"]()};Yo.prototype._glFenceSync=function(Ss,Ts){var Us=bm.fenceSync(Ss,Ts);if(Us){var Vs=am.getNewId(am.syncs);Us.name=Vs;am.syncs[Vs]=Us;return Vs}else{return 0}};Yo.prototype._glFinish=function(){bm["finish"]()};Yo.prototype._glFlush=function(){bm["flush"]()};Yo.prototype._glFlushMappedBufferRange=function(Ws,Xs,Ys){if(!qm(Ws)){am.recordError(1280);cm("GL_INVALID_ENUM in glFlushMappedBufferRange");return}var Zs=am.mappedBuffers[pm(Ws)];if(!Zs){am.recordError(1282);cm("buffer was never mapped in glFlushMappedBufferRange");return}if(!(Zs.access&16)){am.recordError(1282);cm("buffer was not mapped with GL_MAP_FLUSH_EXPLICIT_BIT in glFlushMappedBufferRange");return}if(Xs<0||Ys<0||Xs+Ys>Zs.length){am.recordError(1281);cm("invalid range in glFlushMappedBufferRange");return}bm.bufferSubData(Ws,Zs.offset,gm.subarray(Zs.mem+Xs,Zs.mem+Xs+Ys))};Yo.prototype._glFramebufferRenderbuffer=function($s,_s,at,bt){bm.framebufferRenderbuffer($s,_s,at,am.renderbuffers[bt])};Yo.prototype._glFramebufferTexture2D=function(ct,dt,et,ft,gt){bm.framebufferTexture2D(ct,dt,et,am.textures[ft],gt)};Yo.prototype._glFramebufferTextureLayer=function(ht,it,jt,kt,lt){bm.framebufferTextureLayer(ht,it,am.textures[jt],kt,lt)};Yo.prototype._glFrontFace=function(mt){bm["frontFace"](mt)};Yo.prototype._glGenBuffers=function(nt,ot){for(var pt=0;pt<nt;pt++){var qt=bm.createBuffer();if(!qt){am.recordError(1282);while(pt<nt)jm[ot+pt++*4>>2]=0;return}var rt=am.getNewId(am.buffers);qt.name=rt;am.buffers[rt]=qt;jm[ot+pt*4>>2]=rt}};Yo.prototype._glGenFramebuffers=function(st,tt){for(var ut=0;ut<st;++ut){var vt=bm.createFramebuffer();if(!vt){am.recordError(1282);while(ut<st)jm[tt+ut++*4>>2]=0;return}var wt=am.getNewId(am.framebuffers);vt.name=wt;am.framebuffers[wt]=vt;jm[tt+ut*4>>2]=wt}};Yo.prototype._glGenQueries=function(xt,yt){for(var zt=0;zt<xt;zt++){var At=bm["createQuery"]();if(!At){am.recordError(1282);while(zt<xt)jm[yt+zt++*4>>2]=0;return}var Bt=am.getNewId(am.queries);At.name=Bt;am.queries[Bt]=At;jm[yt+zt*4>>2]=Bt}};Yo.prototype._glGenRenderbuffers=function(Ct,Dt){for(var Et=0;Et<Ct;Et++){var Ft=bm.createRenderbuffer();if(!Ft){am.recordError(1282);while(Et<Ct)jm[Dt+Et++*4>>2]=0;return}var Gt=am.getNewId(am.renderbuffers);Ft.name=Gt;am.renderbuffers[Gt]=Ft;jm[Dt+Et*4>>2]=Gt}};Yo.prototype._glGenSamplers=function(Ht,It){for(var Jt=0;Jt<Ht;Jt++){var Kt=bm["createSampler"]();if(!Kt){am.recordError(1282);while(Jt<Ht)jm[It+Jt++*4>>2]=0;return}var Lt=am.getNewId(am.samplers);Kt.name=Lt;am.samplers[Lt]=Kt;jm[It+Jt*4>>2]=Lt}};Yo.prototype._glGenTextures=function(Mt,Nt){for(var Ot=0;Ot<Mt;Ot++){var Pt=bm.createTexture();if(!Pt){am.recordError(1282);while(Ot<Mt)jm[Nt+Ot++*4>>2]=0;return}var Qt=am.getNewId(am.textures);Pt.name=Qt;am.textures[Qt]=Pt;jm[Nt+Ot*4>>2]=Qt}};Yo.prototype._glGenTransformFeedbacks=function(Rt,St){for(var Tt=0;Tt<Rt;Tt++){var Ut=bm["createTransformFeedback"]();if(!Ut){am.recordError(1282);while(Tt<Rt)jm[St+Tt++*4>>2]=0;return}var Vt=am.getNewId(am.transformFeedbacks);Ut.name=Vt;am.transformFeedbacks[Vt]=Ut;jm[St+Tt*4>>2]=Vt}};Yo.prototype._glGenVertexArrays=function(Wt,Xt){for(var Yt=0;Yt<Wt;Yt++){var Zt=bm["createVertexArray"]();if(!Zt){am.recordError(1282);while(Yt<Wt)jm[Xt+Yt++*4>>2]=0;return}var $t=am.getNewId(am.vaos);Zt.name=$t;am.vaos[$t]=Zt;jm[Xt+Yt*4>>2]=$t}};Yo.prototype._glGenerateMipmap=function(_t){bm["generateMipmap"](_t)};Yo.prototype._glGetActiveAttrib=function(au,bu,cu,du,eu,fu,gu){au=am.programs[au];var hu=bm.getActiveAttrib(au,bu);if(!hu)return;if(cu>0&&gu){var iu=em(hu.name,gu,cu);if(du)jm[du>>2]=iu}else{if(du)jm[du>>2]=0}if(eu)jm[eu>>2]=hu.size;if(fu)jm[fu>>2]=hu.type};Yo.prototype._glGetActiveUniform=function(ju,ku,lu,mu,nu,ou,pu){ju=am.programs[ju];var qu=bm.getActiveUniform(ju,ku);if(!qu)return;if(lu>0&&pu){var ru=em(qu.name,pu,lu);if(mu)jm[mu>>2]=ru}else{if(mu)jm[mu>>2]=0}if(nu)jm[nu>>2]=qu.size;if(ou)jm[ou>>2]=qu.type};Yo.prototype._glGetActiveUniformBlockName=function(su,tu,uu,vu,wu){su=am.programs[su];var xu=bm["getActiveUniformBlockName"](su,tu);if(!xu)return;if(wu&&uu>0){var yu=em(xu,wu,uu);if(vu)jm[vu>>2]=yu}else{if(vu)jm[vu>>2]=0}};Yo.prototype._glGetActiveUniformBlockiv=function(zu,Au,Bu,Cu){if(!Cu){am.recordError(1281);return}zu=am.programs[zu];switch(Bu){case 35393:var Du=bm["getActiveUniformBlockName"](zu,Au);jm[Cu>>2]=Du.length+1;return;default:var Eu=bm["getActiveUniformBlockParameter"](zu,Au,Bu);if(!Eu)return;if(typeof Eu=="number"){jm[Cu>>2]=Eu}else{for(var Fu=0;Fu<Eu.length;Fu++){jm[Cu+Fu*4>>2]=Eu[Fu]}}}};Yo.prototype._glGetActiveUniformsiv=function(Gu,Hu,Iu,Ju,Ku){if(!Ku){am.recordError(1281);return}if(Hu>0&&Iu==0){am.recordError(1281);return}Gu=am.programs[Gu];var Lu=[];for(var Mu=0;Mu<Hu;Mu++){Lu.push(jm[Iu+Mu*4>>2])}var Nu=bm["getActiveUniforms"](Gu,Lu,Ju);if(!Nu)return;var Ou=Nu.length;for(var Mu=0;Mu<Ou;Mu++){jm[Ku+Mu*4>>2]=Nu[Mu]}};Yo.prototype._glGetAttribLocation=function(Pu,Qu){return bm.getAttribLocation(am.programs[Pu],dm(Qu))};Yo.prototype._glGetError=function(){if(am.lastError){var Ru=am.lastError;am.lastError=0;return Ru}else{return bm.getError()}};Yo.prototype._glGetFramebufferAttachmentParameteriv=function(Su,Tu,Uu,Vu){var Wu=bm.getFramebufferAttachmentParameter(Su,Tu,Uu);if(Wu instanceof WebGLRenderbuffer||Wu instanceof WebGLTexture){Wu=Wu["name"]|0}jm[Vu>>2]=Wu};Yo.prototype._glGetIntegeri_v=function(Xu,Yu,Zu){rm(Xu,Yu,Zu,"Integer")};Yo.prototype._glGetIntegerv=function($u,_u){sm($u,_u,"Integer")};Yo.prototype._glGetInternalformativ=function(av,bv,cv,dv,ev){if(dv<0){am.recordError(1281);return}var fv=bm["getInternalformatParameter"](av,bv,32937);if(!fv){am.recordError(1280);return}switch(cv){case 32937:var gv=Math.min(dv,fv.length);for(var hv=0;hv<gv;hv++){var iv=fv[hv];jm[ev+hv*4>>2]=iv}break;case 37760:if(dv>1){var iv=fv.length;jm[ev>>2]=iv}break;default:am.recordError(1280)}};Yo.prototype._glGetProgramBinary=function(jv,kv,lv,mv,nv){am.recordError(1282)};Yo.prototype._glGetProgramInfoLog=function(ov,pv,qv,rv){var sv=bm.getProgramInfoLog(am.programs[ov]);if(sv===null)sv="(unknown error)";if(pv>0&&rv){var tv=em(sv,rv,pv);if(qv)jm[qv>>2]=tv}else{if(qv)jm[qv>>2]=0}};Yo.prototype._glGetProgramiv=function(uv,vv,wv){if(!wv){am.recordError(1281);return}if(uv>=am.counter){am.recordError(1281);return}var xv=am.programInfos[uv];if(!xv){am.recordError(1282);return}if(vv==35716){var yv=bm.getProgramInfoLog(am.programs[uv]);if(yv===null)yv="(unknown error)";jm[wv>>2]=yv.length+1}else if(vv==35719){jm[wv>>2]=xv.maxUniformLength}else if(vv==35722){if(xv.maxAttributeLength==-1){uv=am.programs[uv];var zv=bm.getProgramParameter(uv,bm.ACTIVE_ATTRIBUTES);xv.maxAttributeLength=0;for(var Av=0;Av<zv;++Av){var Bv=bm.getActiveAttrib(uv,Av);xv.maxAttributeLength=Math.max(xv.maxAttributeLength,Bv.name.length+1)}}jm[wv>>2]=xv.maxAttributeLength}else if(vv==35381){if(xv.maxUniformBlockNameLength==-1){uv=am.programs[uv];var Cv=bm.getProgramParameter(uv,bm.ACTIVE_UNIFORM_BLOCKS);xv.maxUniformBlockNameLength=0;for(var Av=0;Av<Cv;++Av){var Dv=bm.getActiveUniformBlockName(uv,Av);xv.maxUniformBlockNameLength=Math.max(xv.maxUniformBlockNameLength,Dv.length+1)}}jm[wv>>2]=xv.maxUniformBlockNameLength}else{jm[wv>>2]=bm.getProgramParameter(am.programs[uv],vv)}};Yo.prototype._glGetRenderbufferParameteriv=function(Ev,Fv,Gv){if(!Gv){am.recordError(1281);return}jm[Gv>>2]=bm.getRenderbufferParameter(Ev,Fv)};Yo.prototype._glGetShaderInfoLog=function(Hv,Iv,Jv,Kv){var Lv=bm.getShaderInfoLog(am.shaders[Hv]);if(Lv===null)Lv="(unknown error)";if(Iv>0&&Kv){var Mv=em(Lv,Kv,Iv);if(Jv)jm[Jv>>2]=Mv}else{if(Jv)jm[Jv>>2]=0}};Yo.prototype._glGetShaderPrecisionFormat=function(Nv,Ov,Pv,Qv){var Rv=bm.getShaderPrecisionFormat(Nv,Ov);jm[Pv>>2]=Rv.rangeMin;jm[Pv+4>>2]=Rv.rangeMax;jm[Qv>>2]=Rv.precision};Yo.prototype._glGetShaderSource=function(Sv,Tv,Uv,Vv){var Wv=bm.getShaderSource(am.shaders[Sv]);if(!Wv)return;if(Tv>0&&Vv){var Xv=em(Wv,Vv,Tv);if(Uv)jm[Uv>>2]=Xv}else{if(Uv)jm[Uv>>2]=0}};Yo.prototype._glGetShaderiv=function(Yv,Zv,$v){if(!$v){am.recordError(1281);return}if(Zv==35716){var _v=bm.getShaderInfoLog(am.shaders[Yv]);if(_v===null)_v="(unknown error)";jm[$v>>2]=_v.length+1}else if(Zv==35720){var aw=bm.getShaderSource(am.shaders[Yv]);var bw=aw===null||aw.length==0?0:aw.length+1;jm[$v>>2]=bw}else{jm[$v>>2]=bm.getShaderParameter(am.shaders[Yv],Zv)}};Yo.prototype._glGetString=function(cw){cm("unsupported glGetString");return 0};Yo.prototype._glGetStringi=function(dw,ew){cm("unsupported glGetStringi");return 0};Yo.prototype._glGetTexParameteriv=function(fw,gw,hw){if(!hw){am.recordError(1281);return}jm[hw>>2]=bm.getTexParameter(fw,gw)};Yo.prototype._glGetUniformBlockIndex=function(iw,jw){iw=am.programs[iw];jw=dm(jw);return bm["getUniformBlockIndex"](iw,jw)};Yo.prototype._glGetUniformIndices=function(kw,lw,mw,nw){if(!nw){am.recordError(1281);return}if(lw>0&&(mw==0||nw==0)){am.recordError(1281);return}kw=am.programs[kw];var ow=[];for(var pw=0;pw<lw;pw++)ow.push(dm(jm[mw+pw*4>>2]));var qw=bm["getUniformIndices"](kw,ow);if(!qw)return;var rw=qw.length;for(var pw=0;pw<rw;pw++){jm[nw+pw*4>>2]=qw[pw]}};Yo.prototype._glGetUniformLocation=function(sw,tw){tw=dm(tw);var uw=0;if(tw.indexOf("]",tw.length-1)!==-1){var vw=tw.lastIndexOf("[");var ww=tw.slice(vw+1,-1);if(ww.length>0){uw=parseInt(ww);if(uw<0){return-1}}tw=tw.slice(0,vw)}var xw=am.programInfos[sw];if(!xw){return-1}var yw=xw.uniforms;var zw=yw[tw];if(zw&&uw<zw[0]){return zw[1]+uw}else{return-1}};Yo.prototype._glGetUniformiv=function(Aw,Bw,Cw){tm(Aw,Bw,Cw,"Integer")};Yo.prototype._glGetVertexAttribiv=function(Dw,Ew,Fw){um(Dw,Ew,Fw,"FloatToInteger")};Yo.prototype._glInvalidateFramebuffer=function(Gw,Hw,Iw){var Jw=am.tempFixedLengthArray[Hw];for(var Kw=0;Kw<Hw;Kw++){Jw[Kw]=jm[Iw+Kw*4>>2]}bm["invalidateFramebuffer"](Gw,Jw)};Yo.prototype._glIsEnabled=function(Lw){return bm["isEnabled"](Lw)};Yo.prototype._glIsVertexArray=function(Mw){var Nw=am.vaos[Mw];if(!Nw)return 0;return bm["isVertexArray"](Nw)};Yo.prototype._glLinkProgram=function(Ow){bm.linkProgram(am.programs[Ow]);am.programInfos[Ow]=null;am.populateUniformTable(Ow)};Yo.prototype._glMapBufferRange=function(Pw,Qw,Rw,Sw){if(Sw!=26&&Sw!=10){cm("glMapBufferRange is only supported when access is MAP_WRITE|INVALIDATE_BUFFER");return 0}if(!qm(Pw)){am.recordError(1280);cm("GL_INVALID_ENUM in glMapBufferRange");return 0}var Tw=mm(Rw);if(!Tw)return 0;am.mappedBuffers[pm(Pw)]={offset:Qw,length:Rw,mem:Tw,access:Sw};return Tw};Yo.prototype._glPixelStorei=function(Uw,Vw){if(Uw==3333){am.packAlignment=Vw}else if(Uw==3317){am.unpackAlignment=Vw}bm.pixelStorei(Uw,Vw)};Yo.prototype._glPolygonOffset=function(Ww,Xw){bm["polygonOffset"](Ww,Xw)};Yo.prototype._glProgramBinary=function(Yw,Zw,$w,_w){am.recordError(1280)};Yo.prototype._glProgramParameteri=function(ax,bx,cx){am.recordError(1280)};Yo.prototype._glReadBuffer=function(dx){bm["readBuffer"](dx)};Yo.prototype._glReadPixels=function(ex,fx,gx,hx,ix,jx,kx){if(am.currentContext.supportsWebGL2EntryPoints){if(bm.currentPixelPackBufferBinding){bm.readPixels(ex,fx,gx,hx,ix,jx,kx)}else{bm.readPixels(ex,fx,gx,hx,ix,jx,xm(jx),kx>>ym(jx))}return}var lx=wm(jx,ix,gx,hx,kx,ix);if(!lx){am.recordError(1280);return}bm.readPixels(ex,fx,gx,hx,ix,jx,lx)};Yo.prototype._glRenderbufferStorage=function(mx,nx,ox,px){bm["renderbufferStorage"](mx,nx,ox,px)};Yo.prototype._glRenderbufferStorageMultisample=function(qx,rx,sx,tx,ux){bm["renderbufferStorageMultisample"](qx,rx,sx,tx,ux)};Yo.prototype._glSamplerParameteri=function(vx,wx,xx){bm["samplerParameteri"](vx?am.samplers[vx]:null,wx,xx)};Yo.prototype._glScissor=function(yx,zx,Ax,Bx){bm["scissor"](yx,zx,Ax,Bx)};Yo.prototype._glShaderSource=function(Cx,Dx,Ex,Fx){var Gx=am.getSource(Cx,Dx,Ex,Fx);bm.shaderSource(am.shaders[Cx],Gx)};Yo.prototype._glStencilFuncSeparate=function(Hx,Ix,Jx,Kx){bm["stencilFuncSeparate"](Hx,Ix,Jx,Kx)};Yo.prototype._glStencilMask=function(Lx){bm["stencilMask"](Lx)};Yo.prototype._glStencilOpSeparate=function(Mx,Nx,Ox,Px){bm["stencilOpSeparate"](Mx,Nx,Ox,Px)};Yo.prototype._glTexImage2D=function(Qx,Rx,Sx,Tx,Ux,Vx,Wx,Xx,Yx){if(am.currentContext.supportsWebGL2EntryPoints){if(bm.currentPixelUnpackBufferBinding){bm.texImage2D(Qx,Rx,Sx,Tx,Ux,Vx,Wx,Xx,Yx)}else if(Yx!=0){bm.texImage2D(Qx,Rx,Sx,Tx,Ux,Vx,Wx,Xx,xm(Xx),Yx>>ym(Xx))}else{bm.texImage2D(Qx,Rx,Sx,Tx,Ux,Vx,Wx,Xx,null)}return}var Zx=null;if(Yx)Zx=wm(Xx,Wx,Tx,Ux,Yx,Sx);bm.texImage2D(Qx,Rx,Sx,Tx,Ux,Vx,Wx,Xx,Zx)};Yo.prototype._glTexImage3D=function($x,_x,ay,by,cy,dy,ey,fy,gy,hy){if(bm.currentPixelUnpackBufferBinding){bm["texImage3D"]($x,_x,ay,by,cy,dy,ey,fy,gy,hy)}else if(hy!=0){bm["texImage3D"]($x,_x,ay,by,cy,dy,ey,fy,gy,xm(gy),hy>>ym(gy))}else{bm["texImage3D"]($x,_x,ay,by,cy,dy,ey,fy,gy,null)}};Yo.prototype._glTexParameterf=function(iy,jy,ky){bm["texParameterf"](iy,jy,ky)};Yo.prototype._glTexParameteri=function(ly,my,ny){bm["texParameteri"](ly,my,ny)};Yo.prototype._glTexParameteriv=function(oy,py,qy){var ry=jm[qy>>2];bm.texParameteri(oy,py,ry)};Yo.prototype._glTexStorage2D=function(sy,ty,uy,vy,wy){bm["texStorage2D"](sy,ty,uy,vy,wy)};Yo.prototype._glTexStorage3D=function(xy,yy,zy,Ay,By,Cy){bm["texStorage3D"](xy,yy,zy,Ay,By,Cy)};Yo.prototype._glTexSubImage2D=function(Dy,Ey,Fy,Gy,Hy,Iy,Jy,Ky,Ly){if(am.currentContext.supportsWebGL2EntryPoints){if(bm.currentPixelUnpackBufferBinding){bm.texSubImage2D(Dy,Ey,Fy,Gy,Hy,Iy,Jy,Ky,Ly)}else if(Ly!=0){bm.texSubImage2D(Dy,Ey,Fy,Gy,Hy,Iy,Jy,Ky,xm(Ky),Ly>>ym(Ky))}else{bm.texSubImage2D(Dy,Ey,Fy,Gy,Hy,Iy,Jy,Ky,null)}return}var My=null;if(Ly)My=wm(Ky,Jy,Hy,Iy,Ly,0);bm.texSubImage2D(Dy,Ey,Fy,Gy,Hy,Iy,Jy,Ky,My)};Yo.prototype._glTexSubImage3D=function(Ny,Oy,Py,Qy,Ry,Sy,Ty,Uy,Vy,Wy,Xy){if(bm.currentPixelUnpackBufferBinding){bm["texSubImage3D"](Ny,Oy,Py,Qy,Ry,Sy,Ty,Uy,Vy,Wy,Xy)}else if(Xy!=0){bm["texSubImage3D"](Ny,Oy,Py,Qy,Ry,Sy,Ty,Uy,Vy,Wy,xm(Wy),Xy>>ym(Wy))}else{bm["texSubImage3D"](Ny,Oy,Py,Qy,Ry,Sy,Ty,Uy,Vy,Wy,null)}};Yo.prototype._glTransformFeedbackVaryings=function(Yy,Zy,$y,_y){Yy=am.programs[Yy];var az=[];for(var bz=0;bz<Zy;bz++)az.push(dm(jm[$y+bz*4>>2]));bm["transformFeedbackVaryings"](Yy,az,_y)};Yo.prototype._glUniform1fv=function(cz,dz,ez){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniform1fv(am.uniforms[cz],lm,ez>>2,dz);return}var fz;if(dz<=am.MINI_TEMP_BUFFER_SIZE){fz=am.miniTempBufferViews[dz-1];for(var gz=0;gz<dz;++gz){fz[gz]=lm[ez+4*gz>>2]}}else{fz=lm.subarray(ez>>2,ez+dz*4>>2)}bm.uniform1fv(am.uniforms[cz],fz)};Yo.prototype._glUniform1i=function(hz,iz){bm.uniform1i(am.uniforms[hz],iz)};Yo.prototype._glUniform1iv=function(jz,kz,lz){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniform1iv(am.uniforms[jz],jm,lz>>2,kz);return}bm.uniform1iv(am.uniforms[jz],jm.subarray(lz>>2,lz+kz*4>>2))};Yo.prototype._glUniform1uiv=function(mz,nz,oz){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniform1uiv(am.uniforms[mz],km,oz>>2,nz)}else{bm.uniform1uiv(am.uniforms[mz],km.subarray(oz>>2,oz+nz*4>>2))}};Yo.prototype._glUniform2fv=function(pz,qz,rz){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniform2fv(am.uniforms[pz],lm,rz>>2,qz*2);return}var sz;if(2*qz<=am.MINI_TEMP_BUFFER_SIZE){sz=am.miniTempBufferViews[2*qz-1];for(var tz=0;tz<2*qz;tz+=2){sz[tz]=lm[rz+4*tz>>2];sz[tz+1]=lm[rz+(4*tz+4)>>2]}}else{sz=lm.subarray(rz>>2,rz+qz*8>>2)}bm.uniform2fv(am.uniforms[pz],sz)};Yo.prototype._glUniform2iv=function(uz,vz,wz){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniform2iv(am.uniforms[uz],jm,wz>>2,vz*2);return}bm.uniform2iv(am.uniforms[uz],jm.subarray(wz>>2,wz+vz*8>>2))};Yo.prototype._glUniform2uiv=function(xz,yz,zz){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniform2uiv(am.uniforms[xz],km,zz>>2,yz*2)}else{bm.uniform2uiv(am.uniforms[xz],km.subarray(zz>>2,zz+yz*8>>2))}};Yo.prototype._glUniform3fv=function(Az,Bz,Cz){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniform3fv(am.uniforms[Az],lm,Cz>>2,Bz*3);return}var Dz;if(3*Bz<=am.MINI_TEMP_BUFFER_SIZE){Dz=am.miniTempBufferViews[3*Bz-1];for(var Ez=0;Ez<3*Bz;Ez+=3){Dz[Ez]=lm[Cz+4*Ez>>2];Dz[Ez+1]=lm[Cz+(4*Ez+4)>>2];Dz[Ez+2]=lm[Cz+(4*Ez+8)>>2]}}else{Dz=lm.subarray(Cz>>2,Cz+Bz*12>>2)}bm.uniform3fv(am.uniforms[Az],Dz)};Yo.prototype._glUniform3iv=function(Fz,Gz,Hz){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniform3iv(am.uniforms[Fz],jm,Hz>>2,Gz*3);return}bm.uniform3iv(am.uniforms[Fz],jm.subarray(Hz>>2,Hz+Gz*12>>2))};Yo.prototype._glUniform3uiv=function(Iz,Jz,Kz){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniform3uiv(am.uniforms[Iz],km,Kz>>2,Jz*3)}else{bm.uniform3uiv(am.uniforms[Iz],km.subarray(Kz>>2,Kz+Jz*12>>2))}};Yo.prototype._glUniform4fv=function(Lz,Mz,Nz){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniform4fv(am.uniforms[Lz],lm,Nz>>2,Mz*4);return}var Oz;if(4*Mz<=am.MINI_TEMP_BUFFER_SIZE){Oz=am.miniTempBufferViews[4*Mz-1];for(var Pz=0;Pz<4*Mz;Pz+=4){Oz[Pz]=lm[Nz+4*Pz>>2];Oz[Pz+1]=lm[Nz+(4*Pz+4)>>2];Oz[Pz+2]=lm[Nz+(4*Pz+8)>>2];Oz[Pz+3]=lm[Nz+(4*Pz+12)>>2]}}else{Oz=lm.subarray(Nz>>2,Nz+Mz*16>>2)}bm.uniform4fv(am.uniforms[Lz],Oz)};Yo.prototype._glUniform4iv=function(Qz,Rz,Sz){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniform4iv(am.uniforms[Qz],jm,Sz>>2,Rz*4);return}bm.uniform4iv(am.uniforms[Qz],jm.subarray(Sz>>2,Sz+Rz*16>>2))};Yo.prototype._glUniform4uiv=function(Tz,Uz,Vz){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniform4uiv(am.uniforms[Tz],km,Vz>>2,Uz*4)}else{bm.uniform4uiv(am.uniforms[Tz],km.subarray(Vz>>2,Vz+Uz*16>>2))}};Yo.prototype._glUniformBlockBinding=function(Wz,Xz,Yz){Wz=am.programs[Wz];bm["uniformBlockBinding"](Wz,Xz,Yz)};Yo.prototype._glUniformMatrix3fv=function(Zz,$z,_z,aA){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniformMatrix3fv(am.uniforms[Zz],!!_z,lm,aA>>2,$z*9);return}var bA;if(9*$z<=am.MINI_TEMP_BUFFER_SIZE){bA=am.miniTempBufferViews[9*$z-1];for(var cA=0;cA<9*$z;cA+=9){bA[cA]=lm[aA+4*cA>>2];bA[cA+1]=lm[aA+(4*cA+4)>>2];bA[cA+2]=lm[aA+(4*cA+8)>>2];bA[cA+3]=lm[aA+(4*cA+12)>>2];bA[cA+4]=lm[aA+(4*cA+16)>>2];bA[cA+5]=lm[aA+(4*cA+20)>>2];bA[cA+6]=lm[aA+(4*cA+24)>>2];bA[cA+7]=lm[aA+(4*cA+28)>>2];bA[cA+8]=lm[aA+(4*cA+32)>>2]}}else{bA=lm.subarray(aA>>2,aA+$z*36>>2)}bm.uniformMatrix3fv(am.uniforms[Zz],!!_z,bA)};Yo.prototype._glUniformMatrix4fv=function(dA,eA,fA,gA){if(am.currentContext.supportsWebGL2EntryPoints){bm.uniformMatrix4fv(am.uniforms[dA],!!fA,lm,gA>>2,eA*16);return}var hA;if(16*eA<=am.MINI_TEMP_BUFFER_SIZE){hA=am.miniTempBufferViews[16*eA-1];for(var iA=0;iA<16*eA;iA+=16){hA[iA]=lm[gA+4*iA>>2];hA[iA+1]=lm[gA+(4*iA+4)>>2];hA[iA+2]=lm[gA+(4*iA+8)>>2];hA[iA+3]=lm[gA+(4*iA+12)>>2];hA[iA+4]=lm[gA+(4*iA+16)>>2];hA[iA+5]=lm[gA+(4*iA+20)>>2];hA[iA+6]=lm[gA+(4*iA+24)>>2];hA[iA+7]=lm[gA+(4*iA+28)>>2];hA[iA+8]=lm[gA+(4*iA+32)>>2];hA[iA+9]=lm[gA+(4*iA+36)>>2];hA[iA+10]=lm[gA+(4*iA+40)>>2];hA[iA+11]=lm[gA+(4*iA+44)>>2];hA[iA+12]=lm[gA+(4*iA+48)>>2];hA[iA+13]=lm[gA+(4*iA+52)>>2];hA[iA+14]=lm[gA+(4*iA+56)>>2];hA[iA+15]=lm[gA+(4*iA+60)>>2]}}else{hA=lm.subarray(gA>>2,gA+eA*64>>2)}bm.uniformMatrix4fv(am.uniforms[dA],!!fA,hA)};Yo.prototype._glUnmapBuffer=function(jA){if(!qm(jA)){am.recordError(1280);cm("GL_INVALID_ENUM in glUnmapBuffer");return 0}var kA=pm(jA);var lA=am.mappedBuffers[kA];if(!lA){am.recordError(1282);cm("buffer was never mapped in glUnmapBuffer");return 0}am.mappedBuffers[kA]=null;if(!(lA.access&16))if(am.currentContext.supportsWebGL2EntryPoints){bm.bufferSubData(jA,lA.offset,gm,lA.mem,lA.length)}else{bm.bufferSubData(jA,lA.offset,gm.subarray(lA.mem,lA.mem+lA.length))}nm(lA.mem);return 1};Yo.prototype._glUseProgram=function(mA){bm.useProgram(mA?am.programs[mA]:null)};Yo.prototype._glValidateProgram=function(nA){bm.validateProgram(am.programs[nA])};Yo.prototype._glVertexAttrib4f=function(oA,pA,qA,rA,sA){bm["vertexAttrib4f"](oA,pA,qA,rA,sA)};Yo.prototype._glVertexAttrib4fv=function(tA,uA){bm.vertexAttrib4f(tA,lm[uA>>2],lm[uA+4>>2],lm[uA+8>>2],lm[uA+12>>2])};Yo.prototype._glVertexAttribIPointer=function(vA,wA,xA,yA,zA){var AA=am.currentContext.clientBuffers[vA];if(!am.currArrayBuffer){AA.size=wA;AA.type=xA;AA.normalized=false;AA.stride=yA;AA.ptr=zA;AA.clientside=true;return}AA.clientside=false;bm.vertexAttribIPointer(vA,wA,xA,yA,zA)};Yo.prototype._glVertexAttribPointer=function(BA,CA,DA,EA,FA,GA){bm.vertexAttribPointer(BA,CA,DA,!!EA,FA,GA)};Yo.prototype._glViewport=function(HA,IA,JA,KA){bm["viewport"](HA,IA,JA,KA)};return Yo}();am.instance=new zm;am.instance["_name"]="GL";return[am.instance]});