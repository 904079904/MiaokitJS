{"version":3,"sources":["webpack://G2Plot/webpack/universalModuleDefinition","webpack://G2Plot/webpack/bootstrap","webpack://G2Plot/../src/is-array-like.ts","webpack://G2Plot/../src/contains.ts","webpack://G2Plot/../src/is-type.ts","webpack://G2Plot/../src/is-array.ts","webpack://G2Plot/../src/is-object.ts","webpack://G2Plot/../src/each.ts","webpack://G2Plot/../src/filter.ts","webpack://G2Plot/../src/difference.ts","webpack://G2Plot/../src/is-function.ts","webpack://G2Plot/../src/is-nil.ts","webpack://G2Plot/../src/keys.ts","webpack://G2Plot/../src/is-match.ts","webpack://G2Plot/../src/is-object-like.ts","webpack://G2Plot/../src/is-plain-object.ts","webpack://G2Plot/../src/find.ts","webpack://G2Plot/../src/find-index.ts","webpack://G2Plot/../src/first-value.ts","webpack://G2Plot/../src/flatten.ts","webpack://G2Plot/../src/flatten-deep.ts","webpack://G2Plot/../src/get-range.ts","webpack://G2Plot/../src/pull.ts","webpack://G2Plot/../src/pull-at.ts","webpack://G2Plot/../src/reduce.ts","webpack://G2Plot/../src/remove.ts","webpack://G2Plot/../src/is-string.ts","webpack://G2Plot/../src/sort-by.ts","webpack://G2Plot/../src/uniq.ts","webpack://G2Plot/../src/union.ts","webpack://G2Plot/../src/values-of-key.ts","webpack://G2Plot/../src/head.ts","webpack://G2Plot/../src/last.ts","webpack://G2Plot/../src/starts-with.ts","webpack://G2Plot/../src/ends-with.ts","webpack://G2Plot/../src/every.ts","webpack://G2Plot/../src/some.ts","webpack://G2Plot/../src/group-by.ts","webpack://G2Plot/../src/group-to-map.ts","webpack://G2Plot/../src/group.ts","webpack://G2Plot/../src/get-wrap-behavior.ts","webpack://G2Plot/../src/wrap-behavior.ts","webpack://G2Plot/../src/number2color.ts","webpack://G2Plot/../src/parse-radius.ts","webpack://G2Plot/../src/clamp.ts","webpack://G2Plot/../src/fixed-base.ts","webpack://G2Plot/../src/is-number.ts","webpack://G2Plot/../src/is-decimal.ts","webpack://G2Plot/../src/is-even.ts","webpack://G2Plot/../src/is-integer.ts","webpack://G2Plot/../src/is-negative.ts","webpack://G2Plot/../src/is-number-equal.ts","webpack://G2Plot/../src/is-odd.ts","webpack://G2Plot/../src/is-positive.ts","webpack://G2Plot/../src/max-by.ts","webpack://G2Plot/../src/min-by.ts","webpack://G2Plot/../src/mod.ts","webpack://G2Plot/../src/to-degree.ts","webpack://G2Plot/../src/to-integer.ts","webpack://G2Plot/../src/to-radian.ts","webpack://G2Plot/../src/for-in.ts","webpack://G2Plot/../src/has.ts","webpack://G2Plot/../src/has-key.ts","webpack://G2Plot/../src/values.ts","webpack://G2Plot/../src/has-value.ts","webpack://G2Plot/../src/to-string.ts","webpack://G2Plot/../src/lower-case.ts","webpack://G2Plot/../src/lower-first.ts","webpack://G2Plot/../src/substitute.ts","webpack://G2Plot/../src/upper-case.ts","webpack://G2Plot/../src/upper-first.ts","webpack://G2Plot/../src/get-type.ts","webpack://G2Plot/../src/is-arguments.ts","webpack://G2Plot/../src/is-boolean.ts","webpack://G2Plot/../src/is-date.ts","webpack://G2Plot/../src/is-error.ts","webpack://G2Plot/../src/is-finite.ts","webpack://G2Plot/../src/is-null.ts","webpack://G2Plot/../src/is-prototype.ts","webpack://G2Plot/../src/is-reg-exp.ts","webpack://G2Plot/../src/is-undefined.ts","webpack://G2Plot/../src/is-element.ts","webpack://G2Plot/../src/request-animation-frame.ts","webpack://G2Plot/../src/clear-animation-frame.ts","webpack://G2Plot/../src/mix.ts","webpack://G2Plot/../src/augment.ts","webpack://G2Plot/../src/clone.ts","webpack://G2Plot/../src/debounce.ts","webpack://G2Plot/../src/memoize.ts","webpack://G2Plot/../src/deep-mix.ts","webpack://G2Plot/../src/extend.ts","webpack://G2Plot/../src/index-of.ts","webpack://G2Plot/../src/is-empty.ts","webpack://G2Plot/../src/is-equal.ts","webpack://G2Plot/../src/is-equal-with.ts","webpack://G2Plot/../src/map.ts","webpack://G2Plot/../src/map-values.ts","webpack://G2Plot/../src/get.ts","webpack://G2Plot/../src/set.ts","webpack://G2Plot/../src/pick.ts","webpack://G2Plot/../src/throttle.ts","webpack://G2Plot/../src/to-array.ts","webpack://G2Plot/../src/unique-id.ts","webpack://G2Plot/../src/noop.ts","webpack://G2Plot/../src/identity.ts","webpack://G2Plot/../src/size.ts","webpack://G2Plot/../src/cache.ts","webpack://G2Plot/../src/index.ts","webpack://G2Plot/./node_modules/tslib/tslib.es6.js","webpack://G2Plot/G/webpack/universalModuleDefinition","webpack://G2Plot/G/webpack/bootstrap","webpack://G2Plot/G/node_modules/_@antv_util@1.3.1@@antv/util/build/util.js","webpack://G2Plot/G/node_modules/_tslib@1.10.0@tslib/tslib.es6.js","webpack://G2Plot/G/src/core/bbox.ts","webpack://G2Plot/G/src/core/shape.ts","webpack://G2Plot/G/src/shapes/util/inside.ts","webpack://G2Plot/G/src/util/format.ts","webpack://G2Plot/G/src/shapes/math/arc.ts","webpack://G2Plot/G/src/shapes/util/path-segment.ts","webpack://G2Plot/G/src/shapes/util/arrow.ts","webpack://G2Plot/G/src/core/element.ts","webpack://G2Plot/G/src/event.ts","webpack://G2Plot/G/src/shapes/math/line.ts","webpack://G2Plot/G/src/shapes/math/cubic.ts","webpack://G2Plot/G/src/util/path.ts","webpack://G2Plot/G/src/shapes/index.ts","webpack://G2Plot/G/src/shapes/util/is-point-in-path-by-ctx.ts","webpack://G2Plot/G/src/shapes/marker/index.ts","webpack://G2Plot/G/src/shapes/math/quadratic.ts","webpack://G2Plot/G/src/core/group.ts","webpack://G2Plot/G/src/index.ts","webpack://G2Plot/G/src/canvas.ts","webpack://G2Plot/G/src/renderers/index.ts","webpack://G2Plot/G/src/renderers/canvas/index.ts","webpack://G2Plot/G/src/renderers/canvas/painter.ts","webpack://G2Plot/G/src/renderers/canvas/util.ts","webpack://G2Plot/G/src/renderers/svg/index.ts","webpack://G2Plot/G/src/renderers/svg/painter.ts","webpack://G2Plot/G/node_modules/_detect-browser@4.8.0@detect-browser/index.js","webpack://G2Plot/G/node_modules/_process@0.11.10@process/browser.js","webpack://G2Plot/G/src/renderers/svg/defs.ts","webpack://G2Plot/G/src/renderers/svg/defs/gradient.ts","webpack://G2Plot/G/src/renderers/svg/defs/shadow.ts","webpack://G2Plot/G/src/renderers/svg/defs/arrow.ts","webpack://G2Plot/G/src/renderers/svg/defs/clip.ts","webpack://G2Plot/G/src/renderers/svg/defs/pattern.ts","webpack://G2Plot/G/src/core/attribute.ts","webpack://G2Plot/G/src/core/base.ts","webpack://G2Plot/G/src/shapes/math/ellipse.ts","webpack://G2Plot/G/src/shapes/marker/symbols.ts","webpack://G2Plot/G/src/renderers/svg/get-shape.ts","webpack://G2Plot/G/src/core/timeline.ts","webpack://G2Plot/G/src/shapes/arc.ts","webpack://G2Plot/G/src/shapes/circle.ts","webpack://G2Plot/G/src/shapes/dom.ts","webpack://G2Plot/G/src/shapes/ellipse.ts","webpack://G2Plot/G/src/shapes/fan.ts","webpack://G2Plot/G/src/shapes/image.ts","webpack://G2Plot/G/src/shapes/line.ts","webpack://G2Plot/G/src/shapes/path.ts","webpack://G2Plot/G/src/shapes/polygon.ts","webpack://G2Plot/G/src/shapes/polyline.ts","webpack://G2Plot/G/src/shapes/rect.ts","webpack://G2Plot/G/src/shapes/text.ts","webpack://G2Plot/G/node_modules/_d3-color@1.4.0@d3-color/src/define.js","webpack://G2Plot/G/node_modules/_d3-color@1.4.0@d3-color/src/color.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/basis.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/basisClosed.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/constant.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/color.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/rgb.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/transform/parse.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/array.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/date.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/number.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/object.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/string.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/value.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/round.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/transform/decompose.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/transform/index.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/zoom.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/hsl.js","webpack://G2Plot/G/node_modules/_d3-color@1.4.0@d3-color/src/math.js","webpack://G2Plot/G/node_modules/_d3-color@1.4.0@d3-color/src/lab.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/lab.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/hcl.js","webpack://G2Plot/G/node_modules/_d3-color@1.4.0@d3-color/src/cubehelix.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/cubehelix.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/src/quantize.js","webpack://G2Plot/G/node_modules/_d3-interpolate@1.1.6@d3-interpolate/index.js","webpack://G2Plot/G/node_modules/_d3-ease@1.0.6@d3-ease/src/linear.js","webpack://G2Plot/G/node_modules/_d3-ease@1.0.6@d3-ease/src/quad.js","webpack://G2Plot/G/node_modules/_d3-ease@1.0.6@d3-ease/src/cubic.js","webpack://G2Plot/G/node_modules/_d3-ease@1.0.6@d3-ease/src/poly.js","webpack://G2Plot/G/node_modules/_d3-ease@1.0.6@d3-ease/src/sin.js","webpack://G2Plot/G/node_modules/_d3-ease@1.0.6@d3-ease/src/exp.js","webpack://G2Plot/G/node_modules/_d3-ease@1.0.6@d3-ease/src/circle.js","webpack://G2Plot/G/node_modules/_d3-ease@1.0.6@d3-ease/src/bounce.js","webpack://G2Plot/G/node_modules/_d3-ease@1.0.6@d3-ease/src/back.js","webpack://G2Plot/G/node_modules/_d3-ease@1.0.6@d3-ease/src/elastic.js","webpack://G2Plot/G/node_modules/_d3-ease@1.0.6@d3-ease/src/index.js","webpack://G2Plot/G/node_modules/_d3-timer@1.0.10@d3-timer/src/timer.js","webpack://G2Plot/G/node_modules/_d3-timer@1.0.10@d3-timer/src/timeout.js","webpack://G2Plot/G/node_modules/_d3-timer@1.0.10@d3-timer/src/interval.js","webpack://G2Plot/G/node_modules/_d3-timer@1.0.10@d3-timer/src/index.js","webpack://G2Plot/../src/mat3.ts","webpack://G2Plot/../src/vec2.ts","webpack://G2Plot/../src/vec3.ts","webpack://G2Plot/../src/transform.ts","webpack://G2Plot/../../src/theme/factory.ts","webpack://G2Plot/../../src/theme/default.ts","webpack://G2Plot/../../src/theme/index.ts","webpack://G2Plot/../src/global.ts","webpack://G2Plot/../src/base.ts","webpack://G2Plot/../../src/animate/util.ts","webpack://G2Plot/../../src/animate/action.ts","webpack://G2Plot/../../src/animate/animate.ts","webpack://G2Plot/../../src/animate/index.ts","webpack://G2Plot/../../src/adjusts/adjust.ts","webpack://G2Plot/../src/constant.ts","webpack://G2Plot/../src/factory.ts","webpack://G2Plot/../../src/adjusts/dodge.ts","webpack://G2Plot/../../src/adjusts/jitter.ts","webpack://G2Plot/../../src/adjusts/stack.ts","webpack://G2Plot/../../src/adjusts/symmetric.ts","webpack://G2Plot/../../src/attributes/base.ts","webpack://G2Plot/../../src/attributes/color.ts","webpack://G2Plot/../../src/attributes/opacity.ts","webpack://G2Plot/../../src/attributes/position.ts","webpack://G2Plot/../../src/attributes/shape.ts","webpack://G2Plot/../../src/attributes/size.ts","webpack://G2Plot/../../../src/plot/controller/scale.ts","webpack://G2Plot/../../../src/plot/controller/coordinate.ts","webpack://G2Plot/../../../src/plot/controller/annotation.ts","webpack://G2Plot/../../../src/element/util/path.ts","webpack://G2Plot/../../../src/element/shape/base.ts","webpack://G2Plot/../../../src/plot/controller/legend.ts","webpack://G2Plot/../../../src/plot/controller/axis.ts","webpack://G2Plot/../../../src/plot/controller/tooltip.ts","webpack://G2Plot/../../../src/plot/controller/shape-state.ts","webpack://G2Plot/../../../src/plot/controller/event.ts","webpack://G2Plot/../../src/facet/base.ts","webpack://G2Plot/../../src/facet/index.ts","webpack://G2Plot/../../src/element/factory.ts","webpack://G2Plot/../../../src/element/controller/tooltip.ts","webpack://G2Plot/../../../../../src/element/controller/label/components/base.ts","webpack://G2Plot/../../../../../src/element/controller/label/components/interval.ts","webpack://G2Plot/../../../../../src/element/controller/label/components/polar.ts","webpack://G2Plot/../../../../../src/element/controller/label/components/pie.ts","webpack://G2Plot/../../../../../src/element/controller/label/components/factory.ts","webpack://G2Plot/../../../../src/element/controller/label/index.ts","webpack://G2Plot/../../../src/element/controller/state.ts","webpack://G2Plot/../../../src/element/util/parse-fields.ts","webpack://G2Plot/../../src/element/base.ts","webpack://G2Plot/../../src/interaction/base.ts","webpack://G2Plot/../../src/interaction/factory.ts","webpack://G2Plot/../../src/plot/view.ts","webpack://G2Plot/../src/util.ts","webpack://G2Plot/../../src/plot/plot.ts","webpack://G2Plot/../../../src/element/util/shape.ts","webpack://G2Plot/../../../src/element/shape/area.ts","webpack://G2Plot/../../../src/element/util/split-data.ts","webpack://G2Plot/../../src/element/area.ts","webpack://G2Plot/../../../src/element/controller/size.ts","webpack://G2Plot/../../../src/element/shape/box.ts","webpack://G2Plot/../../src/element/box.ts","webpack://G2Plot/../../../src/element/shape/edge.ts","webpack://G2Plot/../../src/element/edge.ts","webpack://G2Plot/../../src/element/heatmap.ts","webpack://G2Plot/../../../src/element/util/symbol.ts","webpack://G2Plot/../../../src/element/shape/interval.ts","webpack://G2Plot/../../src/element/interval.ts","webpack://G2Plot/../../../src/element/shape/k-line.ts","webpack://G2Plot/../../src/element/k-line.ts","webpack://G2Plot/../../../src/element/shape/line.ts","webpack://G2Plot/../../src/element/path.ts","webpack://G2Plot/../../src/element/line.ts","webpack://G2Plot/../../../src/element/shape/point.ts","webpack://G2Plot/../../src/element/point.ts","webpack://G2Plot/../../../src/element/shape/polygon.ts","webpack://G2Plot/../../src/element/polygon.ts","webpack://G2Plot/../../../src/element/shape/text.ts","webpack://G2Plot/../../src/element/text.ts","webpack://G2Plot/../../src/facet/rect.ts","webpack://G2Plot/./src/base/plot.ts","webpack://G2Plot/./src/base/global.ts","webpack://G2Plot/./src/base/view-layer.ts","webpack://G2Plot/./src/components/factory.ts","webpack://G2Plot/./src/util/event.ts","webpack://G2Plot/./src/geoms/factory.ts","webpack://G2Plot/../../../../src/label/adjust/util/greedy.ts","webpack://G2Plot/../../../src/label/adjust/position.ts","webpack://G2Plot/../../../src/label/adjust/spiral.ts","webpack://G2Plot/../../src/label/base.ts","webpack://G2Plot/../../../src/label/adjust/bbox.ts","webpack://G2Plot/../../src/label/index.ts","webpack://G2Plot/../../src/tooltip/base.ts","webpack://G2Plot/../../src/tooltip/crosshair.ts","webpack://G2Plot/../src/const.ts","webpack://G2Plot/../../src/tooltip/theme.ts","webpack://G2Plot/../../../src/tooltip/util/position.ts","webpack://G2Plot/../../src/tooltip/html.ts","webpack://G2Plot/../../src/tooltip/canvas.ts","webpack://G2Plot/../../src/axis/theme.ts","webpack://G2Plot/../../src/axis/base.ts","webpack://G2Plot/../../src/axis/circle.ts","webpack://G2Plot/../../src/axis/helix.ts","webpack://G2Plot/../../src/axis/line.ts","webpack://G2Plot/../../src/legend/base.ts","webpack://G2Plot/../../../../src/legend/continuous/constant/index.ts","webpack://G2Plot/../../../../src/legend/continuous/components/slider.ts","webpack://G2Plot/../../../src/legend/continuous/base.ts","webpack://G2Plot/../../../src/legend/continuous/size.ts","webpack://G2Plot/../../../src/legend/continuous/color.ts","webpack://G2Plot/../../../../src/legend/category/arrow/index.ts","webpack://G2Plot/../../../src/legend/category/base.ts","webpack://G2Plot/../../../src/legend/category/canvas.ts","webpack://G2Plot/../../../src/legend/category/html.ts","webpack://G2Plot/../../src/annotation/base.ts","webpack://G2Plot/../../src/annotation/line.ts","webpack://G2Plot/../../src/annotation/text.ts","webpack://G2Plot/../../src/annotation/arc.ts","webpack://G2Plot/../../src/annotation/region.ts","webpack://G2Plot/../../src/annotation/image.ts","webpack://G2Plot/../../src/annotation/html.ts","webpack://G2Plot/../../src/annotation/data-marker.ts","webpack://G2Plot/../../src/annotation/data-region.ts","webpack://G2Plot/../../src/tick-method/register.ts","webpack://G2Plot/../../src/category/base.ts","webpack://G2Plot/./node_modules/@antv/scale/node_modules/fecha/src/fecha.js","webpack://G2Plot/../../src/util/time.ts","webpack://G2Plot/../../src/util/bisector.ts","webpack://G2Plot/../../src/category/time.ts","webpack://G2Plot/../../src/continuous/base.ts","webpack://G2Plot/../../src/continuous/linear.ts","webpack://G2Plot/../../src/util/math.ts","webpack://G2Plot/../../src/continuous/log.ts","webpack://G2Plot/../../src/continuous/pow.ts","webpack://G2Plot/../../src/continuous/time.ts","webpack://G2Plot/../../src/continuous/quantize.ts","webpack://G2Plot/../../src/continuous/quantile.ts","webpack://G2Plot/../../src/identity/index.ts","webpack://G2Plot/../../src/util/extended.ts","webpack://G2Plot/../../src/tick-method/cat.ts","webpack://G2Plot/../../src/util/interval.ts","webpack://G2Plot/../../src/util/pretty.ts","webpack://G2Plot/../../src/tick-method/quantile.ts","webpack://G2Plot/../../src/tick-method/time-pretty.ts","webpack://G2Plot/../../src/tick-method/index.ts","webpack://G2Plot/../../src/tick-method/time-cat.ts","webpack://G2Plot/../../src/tick-method/linear.ts","webpack://G2Plot/../../src/tick-method/r-prettry.ts","webpack://G2Plot/../../src/tick-method/time.ts","webpack://G2Plot/../../src/tick-method/log.ts","webpack://G2Plot/../../src/tick-method/pow.ts","webpack://G2Plot/./node_modules/@antv/gl-matrix/lib/gl-matrix/mat3.js","webpack://G2Plot/./src/util/math.ts","webpack://G2Plot/./src/util/scale.ts","webpack://G2Plot/../src/catmull-rom-2-bezier.ts","webpack://G2Plot/../src/parse-path-string.ts","webpack://G2Plot/../src/path-2-absolute.ts","webpack://G2Plot/../src/path-2-curve.ts","webpack://G2Plot/./node_modules/@antv/gl-matrix/lib/gl-matrix/vec2.js","webpack://G2Plot/./src/theme/index.ts","webpack://G2Plot/./src/util/color.ts","webpack://G2Plot/./src/theme/global.ts","webpack://G2Plot/../../src/coord/base.ts","webpack://G2Plot/../../src/coord/cartesian.ts","webpack://G2Plot/../../src/coord/helix.ts","webpack://G2Plot/../../src/coord/polar.ts","webpack://G2Plot/../../src/legend/index.ts","webpack://G2Plot/./src/util/responsive/rules/text-hide.ts","webpack://G2Plot/./src/base/layer.ts","webpack://G2Plot/../src/get-style.ts","webpack://G2Plot/./src/interaction/base.ts","webpack://G2Plot/./src/util/responsive/theme.ts","webpack://G2Plot/./src/geoms/base.ts","webpack://G2Plot/./src/plots/column/layer.ts","webpack://G2Plot/./src/plots/pie/component/label/utils/index.ts","webpack://G2Plot/./src/sparkline/tiny-layer.ts","webpack://G2Plot/./src/base/controller/state.ts","webpack://G2Plot/./src/util/responsive/apply/axis.ts","webpack://G2Plot/./src/plots/column/event.ts","webpack://G2Plot/./src/plots/bar/layer.ts","webpack://G2Plot/./node_modules/@antv/gl-matrix/lib/gl-matrix/common.js","webpack://G2Plot/./src/util/common.ts","webpack://G2Plot/./src/util/formatter.ts","webpack://G2Plot/./src/util/path.ts","webpack://G2Plot/./src/geoms/line/main.ts","webpack://G2Plot/./src/util/responsive/responsive.ts","webpack://G2Plot/./src/plots/area/layer.ts","webpack://G2Plot/./src/plots/column/component/label/column-label.ts","webpack://G2Plot/./src/plots/scatter/components/label/scatter-label.ts","webpack://G2Plot/./src/util/data.ts","webpack://G2Plot/./src/plots/pie/component/label/base-label.ts","webpack://G2Plot/./src/plots/waterfall/layer.ts","webpack://G2Plot/./src/interface/config.ts","webpack://G2Plot/(webpack)/buildin/module.js","webpack://G2Plot/../src/get-height.ts","webpack://G2Plot/../src/get-width.ts","webpack://G2Plot/./src/components/label/parser.ts","webpack://G2Plot/./src/util/state-manager.ts","webpack://G2Plot/./src/interaction/helper/data-range.ts","webpack://G2Plot/./src/base/controller/theme.ts","webpack://G2Plot/./src/theme/default.ts","webpack://G2Plot/(webpack)/buildin/global.js","webpack://G2Plot/./src/plots/index.ts","webpack://G2Plot/./src/plots/line/layer.ts","webpack://G2Plot/./src/geoms/area/main.ts","webpack://G2Plot/./src/geoms/line/mini.ts","webpack://G2Plot/./src/util/responsive/node/shape-nodes.ts","webpack://G2Plot/./src/util/responsive/constraints/index.ts","webpack://G2Plot/./src/util/responsive/rules/index.ts","webpack://G2Plot/./src/util/responsive/rules/clear-overlapping.ts","webpack://G2Plot/./src/util/responsive/rules/datetime-string-abbrevaite.ts","webpack://G2Plot/./src/util/responsive/rules/digits-abbreviate.ts","webpack://G2Plot/./src/util/responsive/rules/nodes-resampling.ts","webpack://G2Plot/./src/util/responsive/rules/text-abbreviate.ts","webpack://G2Plot/./src/util/responsive/apply/base.ts","webpack://G2Plot/./src/util/responsive/apply/label.ts","webpack://G2Plot/./src/plots/scatter/event.ts","webpack://G2Plot/./src/plots/scatter/layer.ts","webpack://G2Plot/./src/plots/stack-column/layer.ts","webpack://G2Plot/./src/plots/bar/component/label/bar-label.ts","webpack://G2Plot/./src/plots/stack-bar/layer.ts","webpack://G2Plot/./src/plots/pie/layer.ts","webpack://G2Plot/./src/plots/pie/component/label/outer-label.ts","webpack://G2Plot/./src/plots/pie/component/label/inner-label.ts","webpack://G2Plot/(webpack)/buildin/amd-options.js","webpack://G2Plot/./src/plots/stack-area/layer.ts","webpack://G2Plot/./src/plots/matrix/component/legend.ts","webpack://G2Plot/./src/sparkline/progress/layer.ts","webpack://G2Plot/./src/combo-plots/util/adjustColorConfig.ts","webpack://G2Plot/./src/combo-plots/util/padding.ts","webpack://G2Plot/../../src/scroll-bar/style.ts","webpack://G2Plot/../../src/scroll-bar/index.ts","webpack://G2Plot/../../src/icon/index.ts","webpack://G2Plot/../../src/arrow/index.ts","webpack://G2Plot/../../src/trend/constant.ts","webpack://G2Plot/../../src/trend/path.ts","webpack://G2Plot/../../src/trend/index.ts","webpack://G2Plot/../../src/slider/constant.ts","webpack://G2Plot/../../src/slider/handler.ts","webpack://G2Plot/../../src/slider/index.ts","webpack://G2Plot/./node_modules/@antv/gl-matrix/lib/gl-matrix/vec3.js","webpack://G2Plot/../src/category.ts","webpack://G2Plot/../src/linear.ts","webpack://G2Plot/./src/index.ts","webpack://G2Plot/../src/add-event-listener.ts","webpack://G2Plot/../src/create-dom.ts","webpack://G2Plot/../src/get-outer-height.ts","webpack://G2Plot/../src/get-outer-width.ts","webpack://G2Plot/../src/get-ratio.ts","webpack://G2Plot/../src/modify-css.ts","webpack://G2Plot/../../../src/legend/continuous/index.ts","webpack://G2Plot/../../../src/legend/category/index.ts","webpack://G2Plot/./src/components/description.ts","webpack://G2Plot/./src/components/axis/parser.ts","webpack://G2Plot/./src/components/guide-line.ts","webpack://G2Plot/./src/components/axis/state.ts","webpack://G2Plot/./src/components/label/state.ts","webpack://G2Plot/./src/components/tooltip/state.ts","webpack://G2Plot/./src/interaction/index.ts","webpack://G2Plot/./src/interaction/scrollbar.ts","webpack://G2Plot/./src/interaction/slider.ts","webpack://G2Plot/./src/base/controller/padding.ts","webpack://G2Plot/./src/theme/dark.ts","webpack://G2Plot/./src/theme/theme.ts","webpack://G2Plot/./src/theme/utils.ts","webpack://G2Plot/./src/util/axis.ts","webpack://G2Plot/./src/util/style-parser.ts","webpack://G2Plot/./src/util/responsive/default.ts","webpack://G2Plot/./src/base/controller/canvas.ts","webpack://G2Plot/./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack://G2Plot/./src/base/controller/event.ts","webpack://G2Plot/./src/plots/line/index.ts","webpack://G2Plot/./src/geoms/area/index.ts","webpack://G2Plot/./src/geoms/area/mini.ts","webpack://G2Plot/./src/geoms/interval/index.ts","webpack://G2Plot/./src/geoms/interval/main.ts","webpack://G2Plot/./src/geoms/line/index.ts","webpack://G2Plot/./src/geoms/line/guide.ts","webpack://G2Plot/./src/geoms/point/index.ts","webpack://G2Plot/./src/geoms/point/circle.ts","webpack://G2Plot/./src/geoms/point/guide.ts","webpack://G2Plot/./src/plots/line/animation/clipIn-with-data.ts","webpack://G2Plot/./src/plots/line/apply-responsive/index.ts","webpack://G2Plot/./src/plots/line/apply-responsive/axis.ts","webpack://G2Plot/./src/util/responsive/constraints/column-width.ts","webpack://G2Plot/./src/util/responsive/constraints/element-collision.ts","webpack://G2Plot/./src/util/responsive/constraints/element-dist.ts","webpack://G2Plot/./src/util/responsive/constraints/element-dist-vertical.ts","webpack://G2Plot/./src/util/responsive/constraints/element-width.ts","webpack://G2Plot/./src/util/responsive/constraints/min-ring-thickness.ts","webpack://G2Plot/./src/util/responsive/constraints/ring-thickness.ts","webpack://G2Plot/./node_modules/fecha/lib/fecha.js","webpack://G2Plot/./src/util/responsive/rules/node-jitter.ts","webpack://G2Plot/./src/util/responsive/rules/node-jitter-upward.ts","webpack://G2Plot/./src/util/responsive/rules/nodes-resampling-by-abbrevate.ts","webpack://G2Plot/./src/util/responsive/rules/nodes-resampling-by-change.ts","webpack://G2Plot/./src/util/responsive/rules/nodes-resampling-by-state.ts","webpack://G2Plot/./src/util/responsive/rules/robust-abbrevaite.ts","webpack://G2Plot/./src/util/responsive/rules/text-rotation.ts","webpack://G2Plot/./src/util/responsive/rules/text-wrapper.ts","webpack://G2Plot/./src/plots/line/apply-responsive/label.ts","webpack://G2Plot/./src/plots/line/apply-responsive/theme.ts","webpack://G2Plot/./src/plots/line/component/label/line-label.ts","webpack://G2Plot/./src/plots/line/component/label/point-label.ts","webpack://G2Plot/./src/plots/line/event.ts","webpack://G2Plot/./src/plots/line/interaction/index.ts","webpack://G2Plot/./src/plots/line/interaction/line-active.ts","webpack://G2Plot/./src/plots/line/interaction/line-select.ts","webpack://G2Plot/./src/plots/line/theme.ts","webpack://G2Plot/./src/plots/density/index.ts","webpack://G2Plot/./src/plots/density/layer.ts","webpack://G2Plot/./src/plots/area/apply-responsive/index.ts","webpack://G2Plot/./src/plots/area/apply-responsive/axis.ts","webpack://G2Plot/./src/plots/area/event.ts","webpack://G2Plot/./src/plots/area/theme.ts","webpack://G2Plot/./src/plots/column/index.ts","webpack://G2Plot/./src/plots/column/apply-responsive/index.ts","webpack://G2Plot/./src/plots/column/apply-responsive/axis.ts","webpack://G2Plot/./src/plots/column/apply-responsive/label.ts","webpack://G2Plot/./src/plots/column/apply-responsive/theme.ts","webpack://G2Plot/./src/plots/column/theme.ts","webpack://G2Plot/./src/plots/bubble/index.ts","webpack://G2Plot/./src/plots/bubble/layer.ts","webpack://G2Plot/./src/plots/scatter/components/quadrant.ts","webpack://G2Plot/./src/plots/scatter/components/trendline.ts","webpack://G2Plot/./src/plots/scatter/index.ts","webpack://G2Plot/./src/plots/group-column/index.ts","webpack://G2Plot/./src/plots/group-column/layer.ts","webpack://G2Plot/./src/plots/stack-column/index.ts","webpack://G2Plot/./src/components/connected-area.ts","webpack://G2Plot/./src/plots/stack-column/component/label/stack-column-label.ts","webpack://G2Plot/./src/plots/percentage-stack-column/index.ts","webpack://G2Plot/./src/plots/percentage-stack-column/layer.ts","webpack://G2Plot/./src/plots/histogram/index.ts","webpack://G2Plot/./src/plots/histogram/layer.ts","webpack://G2Plot/./src/plots/bar/index.ts","webpack://G2Plot/./src/plots/bar/apply-responsive/index.ts","webpack://G2Plot/./src/plots/bar/apply-responsive/axis.ts","webpack://G2Plot/./src/plots/bar/event.ts","webpack://G2Plot/./src/plots/bar/theme.ts","webpack://G2Plot/./src/plots/stack-bar/index.ts","webpack://G2Plot/./src/plots/stack-bar/component/label/stack-bar-label.ts","webpack://G2Plot/./src/plots/percentage-stack-bar/index.ts","webpack://G2Plot/./src/plots/percentage-stack-bar/layer.ts","webpack://G2Plot/./src/plots/group-bar/index.ts","webpack://G2Plot/./src/plots/group-bar/layer.ts","webpack://G2Plot/./src/plots/range-bar/index.ts","webpack://G2Plot/./src/plots/range-bar/layer.ts","webpack://G2Plot/./src/plots/range-bar/component/label.ts","webpack://G2Plot/./src/plots/range-bar/animation.ts","webpack://G2Plot/./src/plots/range-column/index.ts","webpack://G2Plot/./src/plots/range-column/layer.ts","webpack://G2Plot/./src/plots/range-column/component/label.ts","webpack://G2Plot/./src/plots/range-column/animation.ts","webpack://G2Plot/./src/plots/pie/index.ts","webpack://G2Plot/./src/plots/pie/component/label/spider-label.ts","webpack://G2Plot/./src/plots/pie/component/label/utils/text.ts","webpack://G2Plot/./node_modules/lodash/lodash.js","webpack://G2Plot/./src/plots/pie/component/label/outer-center-label.ts","webpack://G2Plot/./src/plots/pie/event.ts","webpack://G2Plot/./src/plots/pie/theme.ts","webpack://G2Plot/./src/plots/ring/index.ts","webpack://G2Plot/./src/plots/ring/layer.ts","webpack://G2Plot/./src/plots/ring/apply-responsive/index.ts","webpack://G2Plot/./src/plots/ring/apply-responsive/geometry.ts","webpack://G2Plot/./src/util/responsive/node/variable-node.ts","webpack://G2Plot/./src/plots/ring/apply-responsive/theme.ts","webpack://G2Plot/./src/plots/ring/component/statistic-template.ts","webpack://G2Plot/./src/plots/ring/event.ts","webpack://G2Plot/./src/plots/radar/index.ts","webpack://G2Plot/./src/plots/radar/layer.ts","webpack://G2Plot/./src/plots/radar/event.ts","webpack://G2Plot/./src/plots/liquid/index.ts","webpack://G2Plot/./src/plots/liquid/layer.ts","webpack://G2Plot/./src/plots/liquid/geometry/shape/liquid.ts","webpack://G2Plot/./src/plots/liquid/animation/liquid-move-in.ts","webpack://G2Plot/./src/plots/gauge/index.ts","webpack://G2Plot/./src/plots/gauge/layer.ts","webpack://G2Plot/./src/plots/gauge/geometry/shape/pointer.ts","webpack://G2Plot/./src/plots/gauge/theme.ts","webpack://G2Plot/./src/plots/area/index.ts","webpack://G2Plot/./src/plots/stack-area/index.ts","webpack://G2Plot/./src/plots/stack-area/component/label/area-label.ts","webpack://G2Plot/./src/plots/stack-area/component/label/line-label.ts","webpack://G2Plot/./src/plots/percentage-stack-area/index.ts","webpack://G2Plot/./src/plots/percentage-stack-area/layer.ts","webpack://G2Plot/./src/plots/funnel/index.ts","webpack://G2Plot/./src/plots/funnel/layer.ts","webpack://G2Plot/./src/plots/funnel/theme.ts","webpack://G2Plot/./src/plots/funnel/component/label/funnel-label.ts","webpack://G2Plot/./src/plots/funnel/animation/funnel-scale-in-x.ts","webpack://G2Plot/./src/plots/funnel/animation/funnel-scale-in-y.ts","webpack://G2Plot/./src/plots/funnel/geometry/shape/funnel-basic-rect.ts","webpack://G2Plot/./src/plots/funnel/geometry/shape/funnel-dynamic-rect.ts","webpack://G2Plot/./src/plots/funnel/component/label/funnel-label-parser.ts","webpack://G2Plot/./src/plots/heatmap/index.ts","webpack://G2Plot/./src/plots/heatmap/layer.ts","webpack://G2Plot/./src/geoms/heatmap/linear.ts","webpack://G2Plot/./src/plots/heatmap/components/legend.ts","webpack://G2Plot/./src/plots/heatmap/components/background.ts","webpack://G2Plot/./src/plots/matrix/index.ts","webpack://G2Plot/./src/plots/matrix/layer.ts","webpack://G2Plot/./src/plots/matrix/shape.ts","webpack://G2Plot/./src/plots/matrix/component/label.ts","webpack://G2Plot/./src/plots/waterfall/index.ts","webpack://G2Plot/./src/plots/waterfall/geometry/shape/waterfall.ts","webpack://G2Plot/./src/plots/waterfall/event.ts","webpack://G2Plot/./src/plots/waterfall/component/label/waterfall-label.ts","webpack://G2Plot/./src/plots/waterfall/component/label/diff-label.ts","webpack://G2Plot/./src/plots/treemap/index.ts","webpack://G2Plot/./src/plots/treemap/layer.ts","webpack://G2Plot/./src/plots/treemap/layout/squarify.ts","webpack://G2Plot/./src/plots/treemap/layout/dice.ts","webpack://G2Plot/./src/plots/treemap/layout/slice.ts","webpack://G2Plot/./src/plots/treemap/interaction/index.ts","webpack://G2Plot/./src/plots/treemap/interaction/drillDown.ts","webpack://G2Plot/./src/components/breadcrumb.ts","webpack://G2Plot/./src/components/base.ts","webpack://G2Plot/./src/plots/treemap/interaction/animation.ts","webpack://G2Plot/./src/plots/treemap/event.ts","webpack://G2Plot/./src/plots/treemap/components/label.ts","webpack://G2Plot/./src/plots/step-line/index.ts","webpack://G2Plot/./src/plots/step-line/layer.ts","webpack://G2Plot/./src/plots/word-cloud/index.ts","webpack://G2Plot/./src/plots/word-cloud/layer.ts","webpack://G2Plot/./src/plots/word-cloud/word-cloud-tooltips.ts","webpack://G2Plot/./src/plots/word-cloud/wordcloud2.ts","webpack://G2Plot/./src/plots/rose/index.ts","webpack://G2Plot/./src/plots/rose/layer.ts","webpack://G2Plot/./src/plots/rose/component/label/rose-label.ts","webpack://G2Plot/./src/plots/rose/component/label/utils/index.ts","webpack://G2Plot/./src/plots/bullet/index.ts","webpack://G2Plot/./src/plots/bullet/layer.ts","webpack://G2Plot/./src/plots/bullet/base-layer.ts","webpack://G2Plot/./src/plots/bullet/event.ts","webpack://G2Plot/./src/sparkline/progress/index.ts","webpack://G2Plot/./src/sparkline/progress/component/marker.ts","webpack://G2Plot/./src/sparkline/progress/event.ts","webpack://G2Plot/./src/sparkline/ring-progress/index.ts","webpack://G2Plot/./src/sparkline/ring-progress/layer.ts","webpack://G2Plot/./src/sparkline/ring-progress/animation/index.ts","webpack://G2Plot/./src/sparkline/ring-progress/event.ts","webpack://G2Plot/./src/sparkline/tiny-column/index.ts","webpack://G2Plot/./src/sparkline/tiny-column/layer.ts","webpack://G2Plot/./src/sparkline/tiny-column/event.ts","webpack://G2Plot/./src/sparkline/tiny-area/index.ts","webpack://G2Plot/./src/sparkline/tiny-area/layer.ts","webpack://G2Plot/./src/sparkline/tiny-area/event.ts","webpack://G2Plot/./src/sparkline/tiny-line/index.ts","webpack://G2Plot/./src/sparkline/tiny-line/layer.ts","webpack://G2Plot/./src/sparkline/tiny-line/event.ts","webpack://G2Plot/./src/combo-plots/overlapped.ts","webpack://G2Plot/./src/combo-plots/base.ts","webpack://G2Plot/./src/combo-plots/util/index.ts","webpack://G2Plot/./src/combo-plots/util/globalLegend.ts","webpack://G2Plot/./src/combo-plots/util/globalAxis.ts","webpack://G2Plot/./src/combo-plots/util/globalTooltip.ts","webpack://G2Plot/./node_modules/d3-regression/src/utils/points.js","webpack://G2Plot/./node_modules/d3-regression/src/utils/determination.js","webpack://G2Plot/./node_modules/d3-regression/src/utils/geometry.js","webpack://G2Plot/./node_modules/d3-regression/src/utils/interpose.js","webpack://G2Plot/./node_modules/d3-regression/src/utils/ols.js","webpack://G2Plot/./node_modules/d3-regression/src/exponential.js","webpack://G2Plot/./node_modules/d3-regression/src/linear.js","webpack://G2Plot/./node_modules/d3-regression/src/utils/median.js","webpack://G2Plot/./node_modules/d3-regression/src/loess.js","webpack://G2Plot/./node_modules/d3-regression/src/logarithmic.js","webpack://G2Plot/./node_modules/d3-regression/src/quadratic.js","webpack://G2Plot/./node_modules/d3-regression/src/polynomial.js","webpack://G2Plot/./node_modules/d3-regression/src/power.js","webpack://G2Plot/./node_modules/d3-regression/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","result","arr","str","base","toString","index","indexOf","length","num","maxData","data","requestAnimationFrame","fn","cancelAnimationFrame","handler","_mix","obj","dist","rst","memoized","superObj","func","default_1","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","this","constructor","__assign","assign","arguments","apply","__rest","e","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","push","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","k","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__importDefault","default","configurable","isObject","isArray","elements","len","isType","type","isFinite","isObjectLike","getPrototypeOf","proto","isNil","isArrayLike","src1","src2","src3","each","_typeof","slice","setMatrixArrayType","ARRAY_TYPE","toRadian","degree","equals","Math","abs","EPSILON","max","Float32Array","RANDOM","random","PI","keys","attrs","_keys","isFunction","splice","indexes","last","previous","contains","resultArr","item","min","parseInt","mat3","translate","out","transMat","fromTranslation","multiply","rotate","rad","rotateMat","fromRotation","scale","scaleMat","fromScaling","clone","values","parsePathArray","x","w","h","res","p2s","path","join","replace","pathToAbsolute","a2c","x1","y1","rx","ry","angle","large_arc_flag","sweep_flag","x2","y2","recursive","_120","xy","f1","f2","cx","cy","cos","sin","sqrt","rx2","ry2","asin","toFixed","df","f2old","x2old","y2old","c1","s1","c2","s2","tan","hx","hy","m1","m2","m3","m4","newres","ii","split","l2c","q2c","ax","ay","path2","p2","bx","by","X","Y","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","fixArc","pp","pi","fixM","path1","a1","a2","seg","seg2","seglen","seg2len","parseFloat","parsePathString","catmullRom2bezier","ellipsePath","pathArray","mx","my","start","pa0","dots","pa","crz","toUpperCase","jj","_j","_jj","kk","SPACES","PATH_COMMAND","RegExp","PATH_VALUES","pathString","paramCounts","u","z","String","params","toLowerCase","crp","iLen","objectProto","Ctor","groupBy","condition","0","paramsCondition","row","unique","isString","isEqual","other","valueKeys","otherKeys","_rst","_i","mix","DOMUtil","arrayUtil","eventUtil","formatUtil","mathUtil","matrixUtil","objectUtil","pathUtil","stringUtil","typeUtil","util","DomUtil","MatrixUtil","PathUtil","domUtil","augment","debounce","deepMix","extend","filter","group","groupToMap","isEmpty","isEqualWith","map","pick","throttle","toArray","uniqueId","collection","addEventListener","createDom","getBoundingClientRect","getHeight","getOuterHeight","getOuterWidth","getRatio","getStyle","getWidth","modifyCSS","eventType","callback","remove","removeEventListener","attachEvent","detachEvent","TABLE","document","createElement","TABLE_TR","FRAGMENT_REG","CONTAINERS","tr","tbody","thead","tfoot","td","th","test","$1","container","innerHTML","dom","childNodes","removeChild","node","defaultValue","rect","top","documentElement","clientTop","left","clientLeft","bottom","right","el","height","offsetHeight","bTop","pTop","pBottom","width","bLeft","pLeft","pRight","devicePixelRatio","getComputedStyle","currentStyle","offsetWidth","css","style","webkitRequestAnimationFrame","setTimeout","difference","find","firstValue","flatten","flattenDeep","getRange","merge","pull","pullAt","reduce","sortBy","union","uniq","valuesOfKey","isPlainObject","isMatch","predicate","_predicate","subItem","isNaN","tmp","dataArray","arrPrototype","fromIndex","init","comparer","prop","sort","sources","tmpMap","val","getWrapBehavior","wrapBehavior","action","method","number2color","numberToColor","parsePath","parseRadius","numColorCache","color","regexTags","regexDot","match","tag","charAt","substr","sub","radius","r1","r2","r3","r4","isNumberEqual","clamp","fixedBase","isDecimal","isEven","isInteger","isNegative","isOdd","isPositive","maxBy","minBy","snapEqual","toDegree","toInt","toInteger","precision","round","isNumber","Number","minData","DEGREE","radian","RADIAN","vec2","vec3","transform","mul","glMatrix","fromMat4","copy","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","set","identity","transpose","a01","a02","a12","invert","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","adjoint","determinant","fromMat2d","fromQuat","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b00","b02","b03","b04","b05","b06","b07","b08","b09","b10","projection","frob","pow","add","subtract","multiplyScalar","multiplyScalarAndAdd","exactEquals","a0","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","newObj","b12","b20","b22","v1","v2","theta","dot","acos","direction","angleTo","direct","angleLargeThanPI","vertical","flag","forEach","sqrLen","sqrDist","div","divide","ceil","floor","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","cross","lerp","transformMat2","transformMat2d","transformMat3","transformMat4","p0","p1","sinC","cosC","len1","len2","cosine","vec","stride","offset","count","arg","az","bz","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","tempA","tempB","ts","forIn","has","hasKey","hasValue","pathIntersection","path2absolute","path2curve","catmullRom2Bezier","catmullRomToBezier","fillPath","fillPathByDiff","formatPath","intersection","pathTocurve","rectPath","base3","p3","p4","bezlen","x3","y3","x4","y4","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","curveDim","x0","y0","tvalues","bounds","b2ac","sqrtb2ac","t1","t2","jlen","mt","intersect","denominator","px","py","px2","py2","isPointInsideBBox","bbox","box","r0","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","end","alpha","atan2","interHelper","bez1","bez2","justCount","bbox1","bbox2","n1","n2","dots1","dots2","_d","_i2","di","di1","dj","dj1","ci","cj","is","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","decasteljau","points","recurse","middlePoints","reverse","splitSegment","segments","leftSegments","segment","cmd","temp","source","sourceLen","targetLen","ratio","segmentsToFill","filled","unshift","getMinDiff","del","modify","diffMatrix","sourceSegment","targetSegment","changes","minPos","_i3","obj1","obj2","_getSegmentPoints","_splitPoints","former","formerEnd","fromPath","toPath","strUtil","lc","lowerCase","lowerFirst","substitute","uc","upperCase","upperFirst","substring","checkType","getType","isBoolean","isNull","isPrototype","isUndefined","isRegExp","isDate","isArguments","isError","args","wait","immediate","timeout","context","later","callNow","clearTimeout","_deepMix","src","level","maxLevel","subclass","superclass","overrides","staticOverrides","Tmp","groups","array","size","isPlaineObject","options","leading","Date","now","throttled","remaining","trailing","cancel","prefix","minX","minY","maxX","maxY","tl","bl","br","fromRange","BBox","ARRAY_ATTRS","matrix","lineDash","isShape","createPath","afterPath","isPointInPath","drawInner","originOpacity","globalAlpha","hasFill","fillOpacity","Util","fill","hasStroke","lineWidth","strokeOpacity","stroke","isHitBox","isHit","getBBox","Inside","clip","calculateBox","getHitLineWidth","lineAppendWidth","clearTotalMatrix","cfg","totalMatrix","region","clearBBox","_attrs","Shape","zIndex","line","boxRect","Line","pointDistance","Cubic","Quadratic","startAngle","endAngle","clockwise","Arc","circlePoint","angleNearTo","nearAngle","plus","v0","subv","vpoint","angleBottom","angleLeft","angleTop","xs","ys","projectPoint","ARR_CMD","toAbsolute","curPoint","toSymmetry","point","center","vMag","vRatio","vAngle","preSegment","isLast","command","endPoint","point1","point2","point3","relative","preEndPoint","subStart","endTangent","startTangent","psi","fa","fs","psiDeg","xp","yp","lambda","diff","cxp","cyp","dTheta","dx","dy","isInside","quadraticline","cubicline","scaleX","scaleY","arcline","draw","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","arc","closePath","yDims","xDims","halfWidth","extrema","at","xDim","Ellipse","xExtrema","Infinity","xAngle","xAt","yDim","yExtrema","yAngle","yAt","DEFAULT_ANGLE","_addArrow","ctx","isStart","leftX","leftY","rightX","rightY","offsetX","offsetY","arrowLength","arrowAngle","beginPath","_addCustomizedArrow","shape","startArrow","endArrow","deg","atan","Format","save","setTransform","fillStyle","strokeStyle","restore","ReservedProps","delay","colorRalaredProps","getFromAttrs","toAttrs","initTransform","initAnimate","setSilent","animate","toProps","duration","easing","noop","timeline","animators","timer","initTimer","formatProps","props","getMatrix","animator","fromAttrs","fromMatrix","toMatrix","startTime","getTime","id","onFrame","ator","addAnimator","isPaused","stopAnimate","attr","pauseAnimate","pauseTime","resumeAnimate","current","_paused","_pauseTime","Element","event","bubbles","cancelable","clientX","clientY","timeStamp","defaultPrevented","propagationStopped","preventDefault","stopPropagation","removed","Event","NaN","onet","_t","d1","d2","prev","interval","discSqrt","disc","getContext","canFill","canStroke","getDefaultAttrs","circle","_getPath","symbol","console","warn","hasUpdate","symbolsFactory","Marker","SHAPE_MAP","children","child","visible","capture","destroyed","isGroup","getShape","_beforeRenderUI","_renderUI","_bindUI","addShape","canvas","shapeType","topFontFamily","fontFamily","Shapes","addGroup","param","parent","Group","renderBack","padding","backShape","innerBox","destroy","contain","items","self","_setCfgProperty","getChildByIndex","getFirst","getLast","lastIndex","leftTop","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","getCount","compare","findById","findAll","childRst","findAllBy","findBy","clear","delayRemove","Canvas","PathSegment","pkg","version","EVENTS","preShape","mousedown","dragging","toNumber","eventEnable","widthCanvas","heightCanvas","widthStyle","heightStyle","containerDOM","canvasDOM","pixelRatio","renderer","_setGlobalParam","_setContainer","_initPainter","_scale","registerEvent","renderType","renderers","containerId","getElementById","position","transformString","cssTransform","regex","exec","containerTransform","param1","param2","painter","changeSize","_resize","setAttribute","getPointByClient","getClientByPoint","getRenderer","_drawSync","drawSync","stop","evt","_triggerEvent","targetTouches","changedTouches","_getEmitter","element","getEvents","_getEventObj","currentTarget","_getClientXY","_emitEvent","cursor","canvasmousemove","emit","emitShape","svg","SHAPE_ATTRS","canvasId","canvasDom","appendChild","beforeDraw","clearRect","model","animateHandler","toDraw","_drawGroup","ev","setContext","_drawShape","restoreContext","resetTransform","resetContext","elAttrs","renderUtil","parseStyle","setLineDash","Painter","regexLG","regexRG","regexPR","regexColorStop","addStop","steps","gradient","addColorStop","tanTheta","tanTheta2","createLinearGradient","fx","fy","fr","colors","createRadialGradient","pattern","img","repeat","onload","createPattern","Image","crossOrigin","complete","SHAPE_TO_TAGS","marker","text","polygon","image","ellipse","fan","SVG_ATTR_MAP","opacity","lineCap","lineJoin","lineDashOffset","miterLimit","font","fontSize","fontStyle","fontVariant","fontWeight","class","preserveAspectRatio","BASELINE_MAP","middle","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","svgId","_drawChildren","tobeRemoved","parentNode","_createDom","_updateShape","hasAttribute","removeAttribute","formerAttrs","_setClip","_setShadow","_updateFan","_assembleMarker","_assembleRect","_setAttribute","_updateText","defs","_setTransform","getDefaultArrow","addArrow","_setColor","_setImage","_formatPath","Error","createElementNS","tagName","insertBefore","HTMLElement","nodeName","toDataURL","ImageData","putImageData","getPoint","outerStart","re","outerEnd","rs","innerStart","innerEnd","_setFont","_setText","browser","detect","textBaseline","textAlign","baseline","textArr","addClip","trim","addGradient","addPattern","shadowOffsetX","shadowOffsetY","blur","shadowBlur","shadowColor","addShadow","BrowserInfo","os","NodeInfo","process","platform","BotInfo","bot","userAgentRules","operatingSystemRules","parseUserAgent","ua","matchedRule","matched","_a","uaMatch","versionParts","output","detectOS","getNodeVersion","userAgent","navigator","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","Item","nextTick","title","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","defaultArrow","arrow","shadow","Defs","stops","Gradient","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","_parseShadow","config","update","Shadow","_setDefaultPath","_setMarker","Arrow","shapeEl","cloneNode","Clip","Pattern","isUnchanged","isScale","multiple","_setAttr","_afterSetAttrPath","rotateAtStart","resetMatrix","tx","ty","move","setMatrix","_getMatrixByRoot","parents","getTotalMatrix","inm","mo","Attribute","PROPOGATE_EVENTS","getDefaultCfg","_beforeSetZIndex","_beforeSetLoading","show","hide","getParent","toFront","toBack","firstChild","loading","setZIndex","Base","Symbols","square","diamond","triangle","diffY","triangleDown","register","getAll","TAG_MAP","foreignObject","srcElement","elapsed","d3Ease","cProps","interf","pathFormatted","toPathPoint","fromPathPoint","cPathPoint","interpolate","cM","interpolateArray","d3Timer","removeAnimator","isAnimating","stopAllAnimations","Timeline","ArcMath","_getArcX","_getArcY","getStartTangent","getEndTangent","startPoints","addStartArrow","endPoints","addEndArrow","Circle","Dom","halfXWidth","halfYWidth","_isPointInFill","angle1","arcUtil","ls","_isPointInStroke","ssp","sep","esp","eep","boxs","boxe","Fan","sx","sy","swidth","sheight","_setAttrImg","getAttribute","_drawImage","HTMLImageElement","drawImage","CImage","LineMath","_setTcache","segmentT","segmentL","segmentN","totalLength","tempLength","tCache","curve","CubicMath","_calculateCurve","startPoint","tangent","segmentsLen","subt","nextSeg","Path","outPoints","polyline","Polygon","Polyline","Rect","lineHeight","lineCount","_assembleFont","_setAttrText","_getTextHeight","_getSpaceingY","measureText","maxWidth","_drawTextArr","strokeText","fillText","subY","spaceingY","subText","measureWidth","CText","definition","Color","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","format","rgbn","Rgb","rgba","hsla","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hslConvert","hsl","hsl2rgb","basis","v3","channels","displayable","formatHsl","brighter","darker","linear","hue","constant","nogamma","rgbGamma","gamma","colorRgb","rgbSpline","spline","cssNode","cssRoot","cssView","svgNode","rgbBasis","rgbBasisClosed","basisClosed","nb","na","setTime","reA","reB","am","bm","bs","bi","number","string","date","valueOf","degrees","translateX","translateY","skewX","interpolateTransform","parse","pxComma","pxParen","degParen","xa","ya","xb","yb","interpolateTransformCss","defaultView","getPropertyValue","decompose","interpolateTransformSvg","baseVal","consolidate","rho","SQRT2","cosh","exp","S","ux0","uy0","w0","ux1","uy1","w1","log","coshr0","colorHsl","hslLong","deg2rad","rad2deg","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","hcl","colorLab","colorHcl","hclLong","B","C","D","E","ED","EB","BC_DA","A","cubehelixConvert","Cubehelix","cubehelix","cubehelixGamma","colorCubehelix","sinh","cubehelixLong","interpolator","samples","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","custom","exponent","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","bounceIn","bounceOut","bounceInOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","amplitude","period","elasticOut","elasticInOut","taskHead","taskTail","frame","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","time","restart","timerFlush","wake","t0","sleep","poke","clearInterval","setInterval","total","tick","layout","active","doAnimation","animateCfg","dim","_this","Opacity","Size","Types","isLoop","theme","_theme","coord","xField","labelPoint","PolarElementLabels","getLabelRotate","Interaction","Plot","Heatmap","registerShape","getMarkerStyle","forceFit","canvasController","plot","layers","createLayers","eventController","bindEvents","parseEvents","eachLayer","layer","clearEvents","repaint","updateConfig","all","updateCanvasSize","updateCanvasTheme","changeData","getPlotTheme","getData","bindStateManager","stateManager","setActive","setSelected","setDisable","setNormal","getLayer","idx","getCanvas","getLayers","render","cb","addLayer","findIndex","viewLayer","getPlotType","eventsName","CANVAS_EVENT_MAP","events","eventName","GLOBAL_PLOT_MAP","ctr","interactions","getOptions","initialOptions","paddingController","stateController","themeController","getDefaultOptions","description","legend","tooltip","shared","crosshairs","xAxis","autoHideLabel","autoRotateLabel","autoRotateTitle","grid","tickLine","yAxis","defaultOptions","beforeInit","getTheme","scales","legends","showTitle","triggerOn","inPanel","useHtml","axes","fields","annotations","panelRange","drawTitle","drawDescription","axis","addGeometry","annotation","animation","viewRange","getViewRange","clearOuterComponents","view","G2","View","getPadding","processData","applyInteractions","afterRender","afterInit","defaultState","defaultStates","processAutoPadding","doDestroy","processOptions","getPlot","getResponsiveTheme","setState","scaleTypes","mapValues","scaleConfig","meta","setConfig","xAxis_parser","getComponent","yAxis_parser","axesConfig","yField","flipOption","clickable","formatter","flipPage","guideLine","inst","interaction","getInteraction","getInteractionRange","layerBBox","eventParser","EVENT_MAP","onEvent","range","isTextUsable","leftMargin","topMargin","wrapperWidth","registerPadding","titleBBox","doDestroyInteractions","processOuterPadding","addGeomCliper","cliper","geoms","geom","cliperContainer","preCliper","COMPONENT_MAPPER","STATE_MAPPER","Components","onViewClick","onViewDblClick","onViewMousemove","onViewMousedown","onViewMouseup","onViewMouseenter","onViewMouseleave","onViewContextmenu","onAxisClick","onAxisDblClick","onAxisMousemove","onAxisMousedown","onAxisMouseup","onAxisMouseenter","onAxisMouseleave","onAxisContextmenu","onLabelClick","onLabelDblClick","onLabelMousemove","onLabelMouseup","onLabelMousedown","onLabelMouseenter","onLabelMouseleave","onLabelContextmenu","onLegendClick","onLegendDblClick","onLegendMouseMove","onLegendMouseDown","onLegendMouseUp","onLegendMouseLeave","onLegendMouseEnter","onLegendContextmenu","onPlotClick","onPlotDblClick","onPlotMousemove","onPlotMousedown","onPlotMouseup","onPlotMouseenter","onPlotMouseleave","onPlotContextmenu","onTitleClick","onTitleDblClick","onTitleMousemove","onTitleMousedown","onTitleMouseup","onTitleMouseenter","onTitleMouseleave","onTitleContextmenu","onDescriptionClick","onDescriptionDblClick","onDescriptionMousemove","onDescriptionMousedown","onDescriptionMouseup","onDescriptionMouseenter","onDescriptionMouseleave","onDescriptionContextmenu","onBreadcrumbClick","onBreadcrumbDblClick","onBreadcrumbMousemove","onBreadcrumbMousedown","onBreadcrumbMouseup","onBreadcrumbMouseenter","onBreadcrumbMouseleave","onBreadcrumbContextmenu","LAYER_EVENT_MAP","onLayerClick","onLayerDblClick","onLayerMousemove","onLayerMousedown","onLayerMouseup","onLayerMouseenter","onLayerMouseleave","onLayerContextmenu","GEOMETRY_MAP","area","Geom","bitmap","Tooltip","titleContent","markerGroup","newx","newy","CanvasTooltip","backgroundStyle","titleStyle","markerStyle","nameStyle","valueStyle","itemGap","animationDuration","board","vector","Helix","pageNumber","overflow","marginBottom","listStyleType","margin","marginRight","userSelect","borderRadius","display","verticalAlign","activeColor","inactiveColor","arrowSize","textShape","fecha","token","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","month","pad","dayNames","monthNames","monthNamesShort","dayNamesShort","amPm","DoFn","formatFlags","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","getMilliseconds","SS","SSS","ZZ","getTimezoneOffset","parseFlags","day","cent","year","hour","minute","second","millisecond","isPm","minutes","parts","timezoneOffset","masks","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","mask","i18nSettings","literals","$0","dateStr","dateInfo","parseInfo","newFormat","info","matches","today","UTC","hi","calBase","appendPercent","density","pretty","log10","unit","nu","registerTickMethod","lastValue","tickInterval","ticks","undefined","_interopRequireWildcard","require","magnitude","dotProduct2D","va","applyMatrix","isBetween","magA","magB","crossProduct2D","crossProduct3D","sub2D","isPointInPolygon","inside","xi","yi","xj","yj","sqr","dist2","distBetweenPointLine","l2","distSquare","minDistBetweenPointPolygon","isPolygonIntersection","polyA","polyB","getLineIntersect","D0","D1","kross","distBetweenPoints","minDistBetweenConvexPolygon","minA","minB","localMin","bboxOnRotate","bboxWidth","bboxHeight","ulMatrix","top_left","top_right","bottom_left","bottom_right","tops","bottoms","topLeft","topRight","bottomLeft","bottomRight","centerX","centerY","lineSimplification","DouglasPeucker","threshold","endIndex","list1","list2","getMedian","list","half","getMean","sturges","LN2","desScale","axisConfig","intervals","intervalArr","basicInterval","intervalCount","tickCount","timeIntervals","nice","tickMethod","validData","getGlobalTheme","registerGlobalTheme","registerTheme","convertToG2Theme","toHex","GLOBAL_THEME_MAP","DEFAULT_GLOBAL_THEME","dark","DEFAULT_DARK_THEME","defaultTheme","visibility","rendered","eventHandlers","G","getLayerBBox","layerRegion","getLayerRegion","removeLayer","updateBBox","originRange","newRange","updateBBoxByParent","getGlobalPosition","globalX","globalY","getGlobalBBox","globalPosition","parentWidth","parentHeight","parentX","parentY","interactionRange","interactionConfig","registerInteraction","ctor","BaseInteraction","GLOBAL_INTERACTION_MAP","registerPlotInteraction","plotType","PLOT_INTERACTION_MAP","layerRange","getViewLayer","getInteractionConfig","RESPONSIVE_THEME_MAP","DEFAULT_RESPONSIVE_THEME","positionFields","widthRatio","column","rose","multiplePie","G2_GEOM_MAP","PLOT_GEOM_MAP","adjustColor","responsive","applyResponsive","geometryParser","extractScale","adjustColumn","getGeom","extractLabel","EventParser","getLabelOptionsByPosition","labelType","stage","methods","registerPlotType","BaseColumnLayer","xOverlap","yOverlap","panel","near","includes","defaultGuidelineCfg","origin","shapeContainers","createStateManager","manager","_updateStateProcess","onStateChange","_stateChangeProcess","states","state","related","shapes","_getShapes","originAttrs","_getOriginAttrs","shapeOrigin","_origin","stateStyle","_getDefaultStateStyle","originAttr","_parserRelated","setStateCfg","_eventParser","onChangeCfg","shapeContainer","getShapes","eventCfg","styleField","getComponentStateMethod","stateType","resetZIndex","_INDEX","SCALE_MAPPER","cat","timeCat","axisInstance","getAxisInstance","shouldApply","responsiveTheme","rawLabels","shapeNodes","constraints","rules","nodes","onEnd","tickShape","tickItems","tickTexts","pathes","tickItem","updateTicks","field","scaleType","axisIndex","onColumnClick","onColumnDblclick","onColumnMousemove","onColumnMouseenter","onColumnMouseleave","onColumnMousedown","onColumnMouseup","onColumnContextmenu","bar","actions","adjustBar","BaseBarLayer","breaks","pos","combineFormatter","formatters","curText","getNoopFormatter","getPrecisionFormatter","getSuffixFormatter","suffix","vector2","_getPointRadius","getCenter","_convertArr","convertPoint","constraint","pointList","cp1","cp2","controlPointList","smoothBezier","getLinePath","isInCircle","_points2path","smooth","prevPoint","nextPoint","cps","hasConstraint","d0","cp0","constaint","first","prePoint","splinePath","subPath","pre","cur","transposed","isTransposed","angleRange","middlePoint","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","connectNulls","lineSize","parseSize","seriesField","parseColor","lineStyle","sizeProps","styleProps","iterationTime","iterationIndex","rulesLocker","constraintIndex","currentConstraint","_start","_run","_end","onStart","_iteration","measureNodes","_applyRules","onIteration","constraintPassed","_constraintsTest","constraintsLib","constraintOption","option","usage","_constraintCompare","_constraintAssignment","expression","_chainConstraintCompare","_paddingConstraintCompare","_groupConstraintCompare","_chainConstraintAssign","_paddingConstraintAssign","ruleCfg","rule","rulesLib","_applyRule","GEOM_MAP","areaStyle","wordSpacing","adjustArea","addLine","addPoint","adjustLine","adjustPoint","lineConfig","AreaLayer","setLabelPosition","originPoint","originPosition","point0","adjustOffset","labels","showLabels","shapeId","getShapeId","_getShape","adjustPosition","labelRange","shapeRange","yPosition","shapeColor","shapeOpacity","rgb2arr","reflect","_mappingColor","from","to","labelTextColor","band","ElementLabels","ColumnLabels","registerElementLabels","ScatterLabels","transformDataPercentage","groupField","measures","chain","vals","groupTotals","newData","itemIdx","fieldIdx","angleField","colorField","dataItem","percentage","percent","anchors","anchorRadius","getRadius","getOffsetOfLabel","getEndPoint","labelLines","adjustTexts","adjustOverlap","adjustLines","anchor","adjustLabelText","adjustItems","originItems","originText","EllipsisTextArr","getEllipsisText","getLabelOptions","allowOverlap","overlapArea","prevBox","currBox","getOverlapArea","checkInPanel","getElementLabels","waterfall","VALUE_FIELD","IS_TOTAL","diffLabel","leaderLine","showTotal","waterfallStyle","adjustLegendOptions","adjustMeta","_parseStyle","_parseColor","originData","plotData","prevValue","totalValue","rising","falling","legendOptions","metaOptions","valueFieldMeta","alias","WaterfallLayer","miniute","week","DAY","webpackPolyfill","deprecate","paths","originConfig","rest","getConfig","parseCallBack","restArgs","labelProps","parseOffset","parseFormatter","textStyle","autoRotate","_states","_stateStack","_onUpdate","getState","getAllStates","_changeTimer","stateStack","getDataByScaleRange","groupedData","newValues","G2DefaultTheme","Global","plotG2Theme","_processVisible","processAxisVisible","COLOR_PLATE_10","COLOR_PLATE_20","DESCRIPTION_BOTTOM_MARGIN","legendPosition","TOP_BLEEDING","titleVisible","descriptionVisible","BOTTOM_BLEEDING","some","bleeding","defaultColor","colors_20","alignWithAxis","alignWithLabel","innerPadding","boxShadow","Function","LineConfig","DensityConfig","ColumnConfig","BubbleConfig","ScatterConfig","GroupColumnConfig","StackColumnConfig","PercentageStackColumnConfig","HistogramConfig","BarConfig","StackBarConfig","PercentageStackBarConfig","GroupBarConfig","RangeBarConfig","RangeColumnConfig","PieConfig","RingConfig","RadarConfig","LiquidConfig","GaugeConfig","AreaConfig","StackAreaConfig","PercentageStackAreaConfig","FunnelConfig","HeatmapConfig","MatrixConfig","WaterfallConfig","StepLineConfig","WordCloudConfig","RoseConfig","BulletConfig","trySetScaleMinToZero","singleLineLabelCheck","appear","lineActive","LineActive","lineSelect","LineSelect","LineLayer","_getColorMappingField","colorMappingField","getSplinePath","parseShape","_parserNodes","origion_nodes","measure","MathUtil","updateShapes","elementDist","elementDistVertical","elementCollision","elementWidth","columnWidth","ringThickness","minRingThickness","textWrapper","textRotation","textAbbreviate","textHide","digitsAbbreviate","datetimeStringAbbrevaite","robustAbbrevaite","nodesResampling","nodesResamplingByAbbrevate","nodesResamplingByChange","nodesResamplingByState","nodeJitter","nodeJitterUpward","clearOverlapping","isNodeOverlap","nodeA","nodeB","overlapped","_shape","getDateTimeMode","mapper","campareText","startText","endText","timeDuration","timeCycle","previousText","currentStamp","previousStamp","needAbbrevaite","cycle","times","startIndex","getAbbrevaiteFormatter","sameSectionFormatter","unitMapper","abbravateDigitsByUnit","unitname","order","decimal","numbers","extractNumbers","unitNumber","getUnitByNumber","unitBit","intervalBit","remainder","remainderBit","getDigitsDecimal","getLinearNodesInterval","isKeep","keepCfg","conditions","oddKeep","keep","abbravateText","abbreviateBy","labelShapes","onPointClick","onPointDblclick","onPointMousemove","onPointMouseenter","onPointMouseleave","onPointMousedown","onPointMouseup","onPointContextmenu","scatter","pointSize","pointStyle","quadrant","plotOptions","trendline","extractTooltip","ScatterLayer","connectedArea","stackField","adjust","StackColumnLayer","negative","xPosition","BarLabels","StackBarLayer","pie","pieStyle","labelConfig","spiderLabel","coordConfig","innerRadius","adjustLabelDefaultOptions","showLabel","labelLine","PieLayer","DEFAULT_OFFSET","CROOK_DISTANCE","_adjustLabelPosition","leftHalf","isLeft","_antiCollision","labelItems","labelOptions","_getLinePath","percent2Number","plotRange","isRight","labelHeight","getLabelHeight","totalR","totalHeight","maxLabelsCount","overlapping","boxes","labelBox","targets","previousBox","posInCompositeBox","topLabels","bottomLabels","adjustLabels","isBottom","head","getCrookDistance","maxLabelWidth","rxPow2","ryPow2","boxCenter","dyPow2","distance_offset","xPos","k1","k2","breakAt","left2right","labelPosition","smoothPath","straightPath","linePath","getDefaultOffset","OuterPieLabel","endsWith","newX","newY","prevLabel","resolveCollision","prevBBox","pos1","pos2","yMover","actualPos","InnerLabel","__webpack_amd_options__","getLabelType","getLabelField","ele","areaLine","StackAreaLayer","dataSlides","getLayout","getDefaultWidth","getDefaultHeight","plotContainer","colorScale","renderHorizontal","renderVertical","legendLayout","addInteraction","origin_bbox","valueStep","colorStep","tickStep","gradientColor","ticklineStyle","tri_path","tri_height","anchorStyle","tri_width","positions","it","plotWidth","plotHeight","getTopPosition","labelEventName","moveAnchor","progress","DEFAULT_COLOR","isEntered","processProps","barSize","getSize","barStyle","progressStyle","parseColorProps","styleUpdateAnimation","updateColorConfigByStyle","updateMarkers","markers","markerCfg","progressSize","progressContainer","colorOption","markerLength","animationOptions","getUpdateAnimationOptions","progressShapes","geometry","ProgressLayer","SINGLE_TYPE","isSingleGraph","single","isSingle","components","viewMinX","viewMaxX","viewMinY","viewMaxY","component","top_padding","LayerConfig","ViewConfig","PlotConfig","TinyLayerConfig","ProgressConfig","RingProgressConfig","TinyColumnConfig","TinyAreaConfig","TinyLineConfig","OverlappedComboPlotConfig","registerResponsiveConstraint","IConstraint","registerResponsiveRule","registerResponsiveTheme","get_height_1","get_style_1","get_width_1","bRight","mRight","_init","content","_textWrapper","textContent","tShape","Text","wrappedTextArr","wrappedText","chars","breakIndex","breakText","propertyMapping","themeConfig","_needDraw","_styleParser","localProps","_isVisible","_lineParser","_gridParser","_tickLineParser","_labelParser","_titleParser","propos","propsConfig","applyThemeConfig","restLabelProps","titleConfig","defaultStyle","getDefaultStyle","baseConfig","stateValue","_getState","minValue","maxValue","getScale","_extractValues","getDefaultTextAlign","textConfig","onActive","getAllAxisLabels","labelData","con","disableStyle","labelArr","scaleField","beforeCompare","selected","disable","getAllLabels","geomLabels","POSITION_MAPPER","getPositionField","shouldActive","getXY","processState","showTooltip","expected","getValidScrollBarConfig","_cfg","categorySize","onChangeFn","onChange","paddingTop","paddingRight","paddingBottom","paddingLeft","thumbOffset","trackLen","renderScrollbar","measureScrollBar","changeViewData","getScrollRange","scrollBar","thumbLen","isHorizontal","updateTrackLen","updateThumbLen","updateScrollBarPos","updateThumbOffset","ScrollBar","xScale","getXScale","yScales","getYScales","cnt","xScaleCfg","yScalesCfg","startIdx","endIdx","origData","metaCfg","origAnimation","getValidSliderConfig","backgroundColor","foregroundColor","curStart","curEnd","renderSlider","getSliderData","slider","getSliderConfig","Slider","minText","maxText","trendCfg","getSliderTrendData","isArea","foregroundStyle","getSliderMinMaxText","innerPaddingComponents","outerPaddingComponents","checkIfExist","_getInnerAutoPadding","components_bbox","_getAxis","_mergeBBox","_getLegend","adjustAxisPadding","panelPadding","_getPanel","bboxes","_adjustLegend","legendBBox","_getLegendInnerPadding","_mergeBleeding","labelContainer","labelsContainer","rightDist","leftDist","topDist","bottomDist","getOffsetByRotateAngle","getLabels","curOffset","curTotalWidth","curAvgWidth","newAvgWidth","newOffset","getAutoRotateAngleByAvgWidth","PLOT_THEME_MAP","plotTheme","g2Theme","desAxis","StyleParser","AxisStyleParser","axisCfg","TooltipStyleParser","LabelStyleParser","AnnotationStyleParser","category","lineNumber","dateTime","onResize","getCanvasSize","getCanvasDOM","globalTheme","updateCanvasStyle","styles","resizeObserver","unobserve","disconnect","bindForceFit","observe","initGCanvas","MapShim","Map","getIndex","entry","class_1","__entries__","entries","isBrowser","global$1","global","requestAnimationFrame$1","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","attributes","childList","characterData","subtree","_b","propertyName","getInstance","instance_","defineConfigurable","writable","getWindowOf","ownerDocument","emptyRect","createRectInit","toFloat","getBordersSize","getHTMLElementContentRect","clientWidth","clientHeight","paddings","positions_1","getPaddings","horizPad","vertPad","boxSizing","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getContentRect","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","Constr","contentRect","DOMRectReadOnly","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","observations","clearActive","observation","WeakMap","ResizeObserver","addEvent","eh","onEvents","eventObj","getEventObj","isShapeInView","onLayerEvent","onMove","shape1","shape2","lastShape","groupName","parentName","isPointInBBox","subLayers","layerProps","main","mini","getPath","isSmooth","topLinePoints","bottomLinePoints","parsePoints","topPath","getStraightPath","bottomPath","parseGradient","COLOR_MAPPER","_needParserColor","_getSizeProps","_getStyleProps","guide","_needParseAttribute","sizeField","shapeName","mappingField","_parseColorByField","getValuesByField","clipingWithData","yScale","shapeData","getClip","getLineLabel","getPositionByRatio","yText","yRatio","getDataByPosition","dataPoints","currentX","animationName","Animate","registerAnimation","afterRenderResponsive","preRender","polygonA","polygonB","minThickness","origObj","args_1","defaultI18n","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","monthParse","emptyDigits","emptyWord","globalMasks","setGlobalDateMasks","combinedI18nSettings","specifiedFields","requiredFields","requiredField","parser","dateWithoutTZ","validateFields","mag","vector_horizontal","mag_horizontal","adjustAngle","distX","distY","shapeBbox","getShapeById","originX","originY","origin_position","tolerance","nodesClone","getGlobalTolerance","findPrevious","getNodeByNumber","stateNodes","extract_data","min_node","max_node","median","median_node","getStateNodes","initialProps","isState","isTime","wrapperText","ApplyResponsiveLineLabel","labelPoints","lastPoint","_adjustColor","LineElementLabels","LinePointLabels","onLineClick","onLineDoubleclick","onLineMousemove","onLineMouseenter","onLineMouseleave","onLineMousedown","onLineMouseup","onLineContextmenu","processEvent","endEvent","setInactive","normal","Density","kernels","epanechnikov","gaussian","uniform","quartic","triweight","cosinus","originXAxisConfig","binField","binWidth","binNumber","kernel","kernelFunc","originDataCopy","rangeWidth","_binNumber","_binWidth","getTicks","densities","kernelDensityEstimator","tickValue","DensityLayer","onAreaClick","onAreaDblclick","onAreaMousemove","onAreaMouseenter","onAreaMouseleave","onAreaMousedown","onAreaMouseup","onAreaContextmenu","onLineDblclick","Column","ApplyResponsiveColumnLabel","columnStyle","Bubble","BubbleLayer","xBaseline","yBaseline","quadrantGroups","regionData","lineData","xRegion","verticalLineData","horizontalLineData","lastName","upper","lower","getRegionStyle","labelCfg","getLabelConfig","region_2","region_4","regionNum","regionStyle","REGRESSION_MAP","regressionExp","regressionLinear","loess","regressionLoess","regressionLog","poly","regressionPoly","regressionPow","quad","regressionQuad","showConfidence","confidenceStyle","reg","xscale_view","yscale_view","trendlineData","LinearScale","xRange","adjustScale","yRange","confidencePath","getConfidencePath","getTrendlinePoints","confidence","conf","rSquared","confidenceData","xRatio","upperPoints","lowerPoints","y0Ratio","y1Ratio","viewScale","dataMin","dataMax","minRatio","maxRatio","trendMin","trendMax","Scatter","GroupColumn","marginRatio","GroupColumnLayer","StackColumn","parsedPoints","areas","lines","_areaStyle","_lineStyle","groupedShapes","_getGroupedShapes","_drawConnection","_addInteraction","_initialAnimation","destory","_onActive","_onDisabled","_onSelected","originColor","_getShapeStyle","styleName","mappedStyle","clipRect","StackColumnLabels","PercentageStackColumn","metaConfig","PercentageStackColumnLayer","Histogram","originData_copy","_defaultBinNumber","bins","bin","getBin","binName","HistogramLayer","Bar","onBarClick","onBarDblclick","onBarMousemove","onBarMouseenter","onBarMouseleave","onBarMousedown","onBarMouseup","onBarContextmenu","StackBar","StackBarLabels","PercentageStackBar","PercentageStackBarLayer","GroupBar","names","origin_items","defaultMeta","GroupBarLayer","RangeBar","shapeCaches","setShapeCache","RangeBarLayer","leftStyle","rightStyle","geomContainer","getPosition","getValue","getTextAlign","getTextColor","labelStyle","mappingColor","la","lb","shapeMinX","shapeMaxX","shapeWidth","shapeCache","clipInFromCenter","updateFromCenter","getShapeFromCache","RangeColumn","RangeColumnLayer","topStyle","bottomStyle","textBaeline","getTextBaseline","shapeMinY","shapeMaxY","shapeHeight","clipInFromCenterVertical","updateFromCenterVertical","Pie","lineStroke","sidePadding","_adjustConfig","halves","angleValue","targetAngle","middleAngle","anchorPoint","inflectionPoint","colorIndex","shapeIndex","_anchor","_inflection","_data","textGroup","_side","texts","formatted","textAttrs","lowerText","lowerTextAttrs","maxCountForOneSide","canvasHeight","startY","totalH","MIN_VALUE","labelY","labelWidth","drawnLabels","_drawLabel","_drawLabelLine","x_dir","leftPoint","rightPoint","starter","measureTextWidth","memoize","priority","leftText","DOT_WIDTH","currentText","currentWidth","leftWidth","FUNC_ERROR_TEXT","PLACEHOLDER","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrim","reTrimStart","reTrimEnd","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsComboRange","rsComboMarksRange","rsBreakRange","rsMathOpRange","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","reOptMod","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","freeParseInt","freeGlobal","freeSelf","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","types","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","nodeIsMap","isMap","nodeIsRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","arrayAggregator","setter","iteratee","accumulator","arrayEach","arrayEachRight","arrayEvery","arrayFilter","resIndex","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","eachFunc","baseFindIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","basePropertyOf","baseReduce","baseTimes","baseUnary","baseValues","cacheHas","cache","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","countHolders","placeholder","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","mapToArray","overArg","replaceHolders","setToArray","setToPairs","stringSize","unicodeSize","stringToArray","unicodeToArray","asciiToArray","unescapeHtmlChar","runInContext","uid","defaults","arrayProto","funcProto","coreJsData","funcToString","idCounter","maskSrcKey","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","Buffer","Uint8Array","allocUnsafe","getPrototype","objectCreate","spreadableSymbol","isConcatSpreadable","symIterator","symToStringTag","getNative","ctxClearTimeout","ctxNow","ctxSetTimeout","nativeCeil","nativeFloor","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeIsFinite","nativeJoin","nativeKeys","nativeMax","nativeMin","nativeNow","nativeParseInt","nativeRandom","nativeReverse","DataView","Set","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","symbolToString","lodash","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArr","isArg","isBuff","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","eq","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","skip","baseClone","bitmask","customizer","stack","isDeep","isFlat","isFull","input","initCloneArray","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","cloneArrayBuffer","dataView","buffer","byteOffset","byteLength","cloneDataView","cloneTypedArray","regexp","cloneRegExp","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","depth","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","baseGet","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","maxLength","seen","baseInvoke","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","message","convert","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","srcValue","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","baseMatchesProperty","baseMatches","baseKeys","baseKeysIn","nativeKeysIn","isProto","baseLt","baseMap","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","newValue","isTyped","isArrayLikeObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","baseSortBy","objCriteria","criteria","othCriteria","ordersLength","compareAscending","compareMultiple","basePickBy","baseSet","basePullAll","basePullAt","baseUnset","baseRepeat","baseRest","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","baseShuffle","baseSlice","baseSome","baseSortedIndex","retHighest","low","high","MAX_ARRAY_LENGTH","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","initializer","createAssigner","assigner","guard","isIterateeCall","iterable","createCaseFirst","methodName","createCompounder","words","deburr","createCtor","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","funcName","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","newHolders","createRecurry","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","createOver","arrayFunc","createPadding","charsLength","createRange","toFinite","baseRange","createRelationalOperation","wrapFunc","isCurry","setData","setWrapToString","createRound","pair","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrLength","arrValue","otherFunc","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","ctorString","isMaskable","stubFalse","otherArgs","oldArray","shortOut","reference","details","insertWrapDetails","updateWrapDetails","getWrapDetails","lastCalled","stamp","rand","memoizeCapped","charCodeAt","quote","subString","differenceBy","differenceWith","findLastIndex","mapped","intersectionBy","intersectionWith","pullAll","unionBy","unionWith","unzip","unzipWith","without","xor","xorBy","xorWith","zip","zipWith","interceptor","wrapperAt","countBy","findLast","forEachRight","invokeMap","keyBy","partition","before","bindKey","WRAP_BIND_FLAG","lastArgs","lastThis","maxWait","timerId","lastInvokeTime","maxing","invokeFunc","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","flush","defer","resolver","Cache","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","gte","lt","lte","iteratorToArray","toLength","isBinary","assignIn","assignInWith","assignWith","propsIndex","propsLength","defaultsDeep","mergeWith","invertBy","invoke","omit","CLONE_DEEP_FLAG","basePick","pickBy","toPairs","toPairsIn","camelCase","capitalize","kebabCase","snakeCase","startCase","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","rangeRight","augend","addend","dividend","divisor","multiplier","multiplicand","minuend","subtrahend","after","castArray","chunk","compact","cond","conforms","baseConforms","properties","curry","curryRight","drop","dropRight","dropRightWhile","dropWhile","baseFill","flatMap","flatMapDeep","flatMapDepth","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","matchesProperty","nthArg","omitBy","orderBy","propertyOf","pullAllBy","pullAllWith","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","separator","limit","spread","tail","take","takeRight","takeRightWhile","takeWhile","tap","isArrLike","unary","uniqBy","uniqWith","unset","updateWith","valuesIn","wrap","zipObject","zipObjectDeep","entriesIn","extendWith","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","escape","escapeRegExp","every","findKey","findLastKey","forInRight","forOwn","forOwnRight","inRange","baseInRange","isElement","isMatchWith","isNative","isSafeInteger","isWeakMap","isWeakSet","lastIndexOf","strictLastIndexOf","mean","meanBy","stubObject","stubString","stubTrue","nth","noConflict","strLength","padEnd","padStart","radix","floating","reduceRight","sample","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","startsWith","sumBy","template","settings","isEscaping","isEvaluating","imports","importsKeys","importsValues","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","variable","toLower","toSafeInteger","toUpper","trimEnd","trimStart","truncate","omission","search","newEnd","unescape","eachRight","VERSION","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","getView","iterLength","takeCount","iterIndex","commit","wrapped","toJSON","OuterCenterPieLabel","onPieClick","onPieDblclick","onPieMousemove","onPieMouseenter","onPieMouseleave","onPieMousedown","onPieMouseup","onPieContextmenu","Ring","ring","statistic","triggerOff","RingLayer","centralId","statisticClass","triggerOnEvent","displayData","parseStatisticData","htmlString","getStatisticHtmlString","getElementsByClassName","triggerOffEvent","getTotalValue","annotationConfigs","drawStatistic","htmlContent","getStatisticTemplate","html","getStatisticSize","statisticTemplate","getSingleDataTemplate","getTwoDataTemplate","_displayData","triggerOnConfig","labelStyleConfig","preRenderResponsive","getCoordinate","containerStyle","classId","onRingClick","onRingDblclick","onRingMousemove","onRingMouseenter","onRingMouseleave","onRingMousedown","onRingMouseup","onRingContextmenu","Radar","angleAxis","radiusAxis","gridType","radiusField","RadarLayer","changeValue","Liquid","shouldFadeInAnnotation","factor","liquidStyle","adjustLiquid","liquid","statisticConfig","extractStatistic","fadeInAnnotation","annotationEl","colorStyle","calcAnnotationColorStyle","darkColorStyle","waveColor","strokeWidth","LiquidLayer","ShapeUtil","ValueUtil","getLineAttrs","defaultAttrs","hollowInterval","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","sumX","cp","parsePoint","minP","xWidth","clipCircle","waves","waveCount","wave","addWaterWave","liquidMoveIn","wrapTargetOpacity","wavesTargetMatrix","Gauge","gaugeStyle","tickLineColor","pointerColor","statisticPos","rangeSorted","valueText","styleMix","getStyleMix","stripWidth","tickLabelSize","statisticSize","minLimit","maxLimit","tickLabelPos","1","tickLabelColor","subTickCount","subTickLine","labelAutoRotate","pointer","statistics","renderStatistic","strips","renderArcs","allArcs","arcSize","Arcs","Bks","countArray","gap","calGapAngle","stripBackColor","statisticHtml","statisticColor","GaugeLayer","dir_vec","x_1","y_1","angle2","x_2","y_2","startX","POINTER_LINE_WIDTH","labelPos","labelColor","labelSize","Area","StackArea","interpolateY","getXIndex","scaleFactor","groupedPoints","_groupPoints","pointArray","autoScale","_adjuestLabelSize","maxHeight","resolution","interpolatedPoints","_getInterpolatedPoints","_getLabelBbox","fitOption","aspect","justTest","_bisection","_testFit","fit","testOption","maxIteration","passesTest","x1_index","ceiling","ceilingFloor","AreaLabel","AreaLineElementLabels","PercentageStackArea","PercentageStackAreaLayer","Funnel","legendsListenerAttached","shouldShowLabels","shouldResetPercentages","shouldResetCompareTexts","_onLegendContainerMouseDown","refreshPercentages","dynamicHeight","_findCheckedDataByMouseDownLegendItem","_genCustomFieldForDynamicHeight","compareField","_updateDataForCompare","refreshCompareTexts","adjustProps","_reduceDataForCompare","xValue","yValue","yValueTop","spacing","yValueUpper","yValueLower","defaultCfg","compareText","adjustFunnel","funnel","funnelStyle","clss","elMarker","elRoot","elTitle","compareValues","compareValue","elListItem","appearDuration","animationAppearTimeoutHandler","_teardownAnimationMask","fadeInPercentages","fadeInCompareTexts","resetPercentages","resetCompareTexts","percentageContainer","_findPercentageContainer","compareTextContainer","_findCompareTextContainer","_setupAnimationMask","checkedData","_findCheckedDataInNewData","_refreshAnimationMaskForPercentageRefresh","datumUpper","adjustTimestamp","eachShape","datumLower","percentageLine","textWidth","valueWidth","textProc","percentageText","valueProc","percentageValue","eachProc","lastBBox","datum","members","_findPercentageMembersInContainerByShape","currBBox","eachCalc","member","fadeOutPercentages","fadeOutDuration","fadeInDuration","_calcRefreshFadeDurations","updateDuration","enterDuration","createIfNotFound","lineId","textId","valueId","ratioUpper","ratioLower","datumIndex","dataLength","shapeParentBBox","targetDatum","_findCheckedData","yValuesMax","pStart","invertMatrix","pEnd","fadeOutCompareTexts","compareValueFirstVisited","newDatum","yValues","yValuesNext","yTotal","legendValues","uncheckedValues","oldDatum","legendItem","legendItemOrigin","brotherValues","animationMask","FunnelLayer","getLabelPoint","getDimValue","offsetPoint","getLabelOffset","transLabelPoint","shapeBBox","shapeStartX","shapeStartY","shapeEndX","shapeEndY","labelBBox","shapeContainsLabel","FunnelLabel","funnelScaleInY","clipTargetMatrix","shapeTargetFillOpacity","getPoints","pointInfo","isPyramid","yMin","yMax","xMin","xMax","_getRectPoints","setFillStyle","_getFillAttrs","nextPoints","yRatios","yOffset","yRatiosNext","yValueNext","_getFunnelPath","firstPoint","firstPointX","pointX","_getRectPath","preformatter","plotProps","proc","yValueFormatted","heatmapLegend","background","intensity","defaultConfig","HeatmapLayer","paletteCache","_prepareRange","getAttr","_prepareSize","getDefaultValue","getDefaultSize","styleOptions","_colorize","colorAttr","pixels","palette","colorUtil","_prepareGreyScaleBlurredCircle","circleCanvas","circleRadius","_drawGrayScaleBlurredCircle","_getShadowCanvasCtx","globalCompositeOperation","_clearShadowCanvasCtx","_getImageShape","imageShape","drawWithRange","valueField","getDrawCfg","colored","getImageData","registerElement","LinearHeatmap","getDarkOptions","gridWidth","gridHeight","gridLineContainer","gridColors","appendInfo","dataSlide","getDataSlide","gridlineStyle","targetInfo","relativeData","filteredData","getFilteredData","slide","renderColorBackground","renderImageBackground","callbackCfg","changeShape","mappingSize","disableMappingSize","Matrix","gridSize","forceSquare","gridAlign","align","xCount","yCount","matrixLegend","circleToRect","rectToCircle","rectSizeMapping","circleSizeMapping","rectDisableSizeMapping","circleDisableSizeMapping","getGridSize","addRect","addCircle","shapeSize","sizeRatio","curvePath","getCircleCurve","getRectPath","ps","offsetRatio","circlePath","getCirclePath","MatrixLayer","MatrixLabels","Waterfall","fillAttrs","getFillAttrs","linkPath","shapeBox","yPos","WaterfallLabels","labelsGroup","formattedText","Treemap","isDrilldown","getTreemapData","treemapData","getAllNodes","rootData","beforInit","rectStyle","interactionCfg","inter","Ctr","INTERACTION_MAP","startEvent","rows","isLeaf","cliperHeight","parentLabelOffset","c_rows","fillColorField","fieldName","PARENT_NODE_OFFSET","TreemapLayer","sumValue","beta","newRatio","nodeValue","dice","node_x","node_y","drilldown","startNode","itemWidth","itemHeight","currentNode","currentDepth","drillingDown","tempoData","breadcrumb","getItems","initGeometry","saveOriginMapping","startNodeName","onInteraction","rootItem","getRootItem","findParent","targetParent","rollingUp","updateRoot","previousDepth","mappingInfo","originMapping","mapping","mappingCfg","DrillDownInteraction","onItemGroupToggleActive","itemGroup","rectShape","itemActiveBackgroundStyle","itemBackgroundStyle","offEvents","itemPadding","separatorStyle","maxItemWidth","renderInner","renderItems","topPadding","rightPadding","bottomPadding","leftPadding","backgroundRect","textShapeBBox","backgroundRectAttr","sepShape","itemGroups","emitEventName","clickCallback","dblclickCallback","mouseEnterCallback","mouseLeaveCallback","getGroup","getTemShapes","tem_shapes","getRect","hideLabel","tem_cliper","tem_container","findShapeByName","containerParent","shrinkTemp","onRectClick","onRectDblclick","onRectMousemove","onRectMouseenter","onRectMouseleave","onRectMousedown","onRectMouseup","onRectContextmenu","tailWidth","abbreviateWidth","isLeafNode","LEAF_LABEL_OFFSET","leafText","labelText","sizeOffset","TreemapLabels","StepLineLayer","StepLine","_toolTipsAction","dimension","_toolTips","setContent","weight","setPosition","layerX","layerY","_configHoverAction","onWordCloudHover","_enableToolTips","enableToolTips","_initToolTips","_render","follow","_targetCanvas","maskImage","_handleMaskImage","naturalHeight","naturalWidth","_startWithMaskImage","onerror","_handleG2PlotConfig","wordStyle","rotation","minFontSize","maxFontSize","minRotation","maxRotation","maskImageCanvas","maskImageContext","bctx","fillRect","bgPixel","imageData","newImageData","createImageData","clearCanvas","_scaleMaskImageCanvas","maskCanvasScaled","imageSmoothingEnabled","_transformWhite2BlackPixels","newCfg","itemTpl","crosshairGroup","setImmediate","msSetImmediate","webkitSetImmediate","mozSetImmediate","oSetImmediate","postMessage","callbacks","stopImmediatePropagation","clearImmediate","msClearImmediate","webkitClearImmediate","mozClearImmediate","oClearImmediate","isSupported","hanWidth","mWidth","shuffleArray","WordCloud","drawOutOfBound","drawMask","maskColor","maskGapWidth","abortThreshold","abort","rotateRatio","rotationSteps","ellipticity","classes","onWordCloudClick","interactionItems","fontKey","maxWeight","isCardioid","thetaPrime","ngx","ngy","maxRadius","escapeTime","maskRectWidth","rotationRange","random_hsl_color","getTextClasses","hovered","interactive","infoGrid","getInfoGridFromMouseTouchEvent","touches","eventX","eventY","defaultHoverAction","wordcloudhover","wordcloudclick","pointsAtRadius","getPointsAtRadius","exceedTime","getTextInfo","rotateDeg","getRealFontSize","mu","fcanvas","fctx","willReadFrequently","fw","fh","boxWidth","boxHeight","fgw","fgh","fillTextOffsetX","fillTextOffsetY","cgh","cgw","gy","occupied","gx","singleGridLoop","gw","gh","fillTextWidth","fillTextHeight","drawText","getInteractionItemById","transX","transY","span","transformRule","styleRules","whiteSpace","webkitTransform","msTransform","transformOrigin","webkitTransformOrigin","msTransformOrigin","cssProp","attribute","className","fillGridAt","tryToPutWordAtPoint","gxy","canFitText","updateGrid","rot","putWord","sendEvent","detail","createEvent","initCustomEvent","dispatchEvent","loopingFunction","stoppingFunction","webkitTapHighlightColor","stopInteraction","listener","anotherWordCloudStart","loop","drawn","canceled","Rose","sectorStyle","categoryField","adjustColorFieldMapping","adjustRoseAdjust","adjustLabelOptions","RoseLayer","adjustField","labelAnchor","adjustTextAlign","autoAdjustColor","RoseLabels","Bullet","drawBullets","drawBullet","adjustYAxisOptions","adjustDataOptions","rangeValues","STACK_FIELD","BulletLayer","bullet","trigger","bulletStyle","adjustOptions","bulletColor","bulletHeight","drawBulletTicks","goal","ticksStyle","tickBottom","tickIdx","Progress","updateCfg","origin_attr","onProgressClick","onProgressDblclick","onProgressMousemove","onProgressMousedown","onProgressMouseup","onProgressMouseenter","onProgressMouseleave","onProgressContextmenu","RingProgress","setShapeInfo","getThickness","RingProgressLayer","preShapeInfo","preStart","preEnd","prePath","createClip","getAngle","getPointsBox","coordStartAngle","diffAngle","getAnchor","getDirection","onRingProgressClick","onRingProgressDblclick","onRingProgressMousemove","onRingProgressMousedown","onRingProgressMouseup","onRingProgressMouseenter","onRingProgressMouseleave","onRingProgressContextmenu","TinyColumn","columnSize","columnNumber","getColumnNum","TinyColumnLayer","TinyArea","TinyAreaLayer","TinyLine","TinyLineLayer","colorMapping","synchroTick","createComboLayers","legendInfo","axisInfo","paddingComponents","globalComponents","singleGeomCount","backLayer","layerCfg","overlapConfig","getOverlappedConfig","viewLayerCtr","viewLayerProps","ComboUtil","getAxisData","globalOptions","getLegendData","topLayer","colorCfg","getColorConfig","overlappingLegend","legendItems","mergeLegendData","legendContainer","createLegend","legendPadding","getOverlappingPadding","axisComponents","axesLayout","leftAxis","containerLayer","drawYGrid","clearComponents","getGlobalOptions","mergeAxisScale","createAxis","checked","markerColor","markerValue","markerItem","legendTheme","legendCfg","maxSize","titleDistance","autoWrap","itemMarginBottom","backgroundPadding","Legend","CanvasCategory","filteredValue","addLegendInteraction","paddingBbox","axisOptions","sameScaleTest","scaleValues","getCatScale","getLinearScale","mergeXAxis","isSameScale","calValues","linearScale","mergeYAxis","scaleMin","scaleMax","sampleDataSource","originalData","sampleField","isVertical","tickValues","getAxisTicks","toAxisStyle","Axis","scalesInfo","singleGraph","scaleInfo","xAxisScale","xAxisHeight","yAxisScale","leftContainer","leftBbox","temp_width","axisLayout","axisPadding","gridCfg","gridGroup","TYPE_SHOW_MARKERS","tooltipCfg","tooltipTheme","panelGroup","frontgroundGroup","backgroundGroup","Html","renderTooltip","tooltipItems","tmpPoint","findPoint","subItems","getTooltipItems","showMarker","itemMarker","shapeObject","getShapeFactory","getItemMarker","getShapeByX","ks","getDataByTitle","indexOfArray","xv","yv","Float64Array","ux","uy","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","interpose","xmin","xmax","LOG10E","iter","found","mp","ols","uX","uXY","uX2","delta","slope","domain","exponential","YL","XY","XYL","X2Y","ly","X2","intercept","bandwidth","bw","yhat","residuals","robustWeights","i0","i1","edge","W","denom","xk","yk","tricube","xkw","updateInterval","medianResidual","logarithmic","lx","quadratic","X3","X4","n0","X2X2","polynomial","coefficients","lhs","rhs","coef","gaussianElimination","uncenter","power","YS"],"mappings":"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","file":"g2plot.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"G2Plot\"] = factory();\n\telse\n\t\troot[\"G2Plot\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 112);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isArrayLike = function (value) {\n    /**\n     * isArrayLike([1, 2, 3]) => true\n     * isArrayLike(document.body.children) => true\n     * isArrayLike('abc') => true\n     * isArrayLike(Function) => false\n     */\n    return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\nexports.default = isArrayLike;\n//# sourceMappingURL=is-array-like.js.map","import isArrayLike from './is-array-like';\nvar contains = function (arr, value) {\n    if (!isArrayLike(arr)) {\n        return false;\n    }\n    return arr.indexOf(value) > -1;\n};\nexport default contains;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar toString = {}.toString;\nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nexports.default = isType;\n//# sourceMappingURL=is-type.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_type_1 = require(\"./is-type\");\nexports.default = (function (value) {\n    return Array.isArray ?\n        Array.isArray(value) :\n        is_type_1.default(value, 'Array');\n});\n//# sourceMappingURL=is-array.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = (function (value) {\n    /**\n     * isObject({}) => true\n     * isObject([1, 2, 3]) => true\n     * isObject(Function) => true\n     * isObject(null) => false\n     */\n    var type = typeof value;\n    return value !== null && type === 'object' || type === 'function';\n});\n//# sourceMappingURL=is-object.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_array_1 = require(\"./is-array\");\nvar is_object_1 = require(\"./is-object\");\nfunction each(elements, func) {\n    if (!elements) {\n        return;\n    }\n    var rst;\n    if (is_array_1.default(elements)) {\n        for (var i = 0, len = elements.length; i < len; i++) {\n            rst = func(elements[i], i);\n            if (rst === false) {\n                break;\n            }\n        }\n    }\n    else if (is_object_1.default(elements)) {\n        for (var k in elements) {\n            if (elements.hasOwnProperty(k)) {\n                rst = func(elements[k], k);\n                if (rst === false) {\n                    break;\n                }\n            }\n        }\n    }\n}\nexports.default = each;\n//# sourceMappingURL=each.js.map","import each from './each';\nimport isArrayLike from './is-array-like';\nvar filter = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        return arr;\n    }\n    var result = [];\n    each(arr, function (value, index) {\n        if (func(value, index)) {\n            result.push(value);\n        }\n    });\n    return result;\n};\nexport default filter;\n//# sourceMappingURL=filter.js.map","import filter from './filter';\nimport contains from './contains';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to inspect.\n * @param {Array} values The values to exclude.\n * @return {Array} Returns the new array of filtered values.\n * @example\n * difference([2, 1], [2, 3]);  // => [1]\n */\nvar difference = function (arr, values) {\n    if (values === void 0) { values = []; }\n    return filter(arr, function (value) { return !contains(values, value); });\n};\nexport default difference;\n//# sourceMappingURL=difference.js.map","/**\n * 是否为函数\n * @param  {*} fn 对象\n * @return {Boolean}  是否函数\n */\nimport isType from './is-type';\nexport default (function (value) {\n    return isType(value, 'Function');\n});\n//# sourceMappingURL=is-function.js.map","// isFinite,\nvar isNil = function (value) {\n    /**\n     * isNil(null) => true\n     * isNil() => true\n     */\n    return value === null || value === undefined;\n};\nexport default isNil;\n//# sourceMappingURL=is-nil.js.map","import each from './each';\nimport isFunction from './is-function';\nvar keys = Object.keys ? function (obj) { return Object.keys(obj); } : function (obj) {\n    var result = [];\n    each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n            result.push(key);\n        }\n    });\n    return result;\n};\nexport default keys;\n//# sourceMappingURL=keys.js.map","import isNil from './is-nil';\nimport keys from './keys';\nfunction isMatch(obj, attrs) {\n    var _keys = keys(attrs);\n    var length = _keys.length;\n    if (isNil(obj))\n        return !length;\n    for (var i = 0; i < length; i += 1) {\n        var key = _keys[i];\n        if (attrs[key] !== obj[key] || !(key in obj)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isMatch;\n//# sourceMappingURL=is-match.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isObjectLike = function (value) {\n    /**\n     * isObjectLike({}) => true\n     * isObjectLike([1, 2, 3]) => true\n     * isObjectLike(Function) => false\n     * isObjectLike(null) => false\n     */\n    return typeof value === 'object' && value !== null;\n};\nexports.default = isObjectLike;\n//# sourceMappingURL=is-object-like.js.map","import isObjectLike from './is-object-like';\nimport isType from './is-type';\nvar isPlainObject = function (value) {\n    /**\n     * isObjectLike(new Foo) => false\n     * isObjectLike([1, 2, 3]) => false\n     * isObjectLike({ x: 0, y: 0 }) => true\n     * isObjectLike(Object.create(null)) => true\n     */\n    if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n    }\n    if (Object.getPrototypeOf(value) === null) {\n        return true;\n    }\n    var proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\nexport default isPlainObject;\n//# sourceMappingURL=is-plain-object.js.map","import isFunction from './is-function';\nimport isMatch from './is-match';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nfunction find(arr, predicate) {\n    if (!isArray(arr))\n        return null;\n    var _predicate;\n    if (isFunction(predicate)) {\n        _predicate = predicate;\n    }\n    if (isPlainObject(predicate)) {\n        _predicate = function (a) { return isMatch(a, predicate); };\n    }\n    if (_predicate) {\n        for (var i = 0; i < arr.length; i += 1) {\n            if (_predicate(arr[i])) {\n                return arr[i];\n            }\n        }\n    }\n    return null;\n}\nexport default find;\n//# sourceMappingURL=find.js.map","function findIndex(arr, predicate, fromIndex) {\n    if (fromIndex === void 0) { fromIndex = 0; }\n    for (var i = fromIndex; i < arr.length; i++) {\n        if (predicate(arr[i], i)) {\n            // 找到终止循环\n            return i;\n        }\n    }\n    return -1;\n}\nexport default findIndex;\n//# sourceMappingURL=find-index.js.map","import isNil from './is-nil';\nimport isArray from './is-array';\nvar firstValue = function (data, name) {\n    var rst = null;\n    for (var i = 0; i < data.length; i++) {\n        var obj = data[i];\n        var value = obj[name];\n        if (!isNil(value)) {\n            if (isArray(value)) {\n                rst = value[0]; // todo 这里是否应该使用递归，调用 firstValue @绝云\n            }\n            else {\n                rst = value;\n            }\n            break;\n        }\n    }\n    return rst;\n};\nexport default firstValue;\n//# sourceMappingURL=first-value.js.map","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flatten([1, [2, [3, [4]], 5]]);  // => [1, 2, [3, [4]], 5]\n */\nvar flatten = function (arr) {\n    if (!isArray(arr)) {\n        return [];\n    }\n    var rst = [];\n    for (var i = 0; i < arr.length; i++) {\n        rst = rst.concat(arr[i]);\n    }\n    return rst;\n};\nexport default flatten;\n//# sourceMappingURL=flatten.js.map","import isArray from './is-array';\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @param {Array} result The array to return.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flattenDeep([1, [2, [3, [4]], 5]]);  // => [1, 2, 3, 4, 5]\n */\nvar flattenDeep = function (arr, result) {\n    if (result === void 0) { result = []; }\n    if (!isArray(arr)) {\n        result.push(arr);\n    }\n    else {\n        for (var i = 0; i < arr.length; i += 1) {\n            flattenDeep(arr[i], result);\n        }\n    }\n    return result;\n};\nexport default flattenDeep;\n//# sourceMappingURL=flatten-deep.js.map","import isArray from './is-array';\nimport filter from './filter';\nvar getRange = function (values) {\n    // 存在 NaN 时，min,max 判定会出问题\n    values = filter(values, function (v) {\n        return !isNaN(v);\n    });\n    if (!values.length) { // 如果没有数值则直接返回0\n        return {\n            min: 0,\n            max: 0\n        };\n    }\n    if (isArray(values[0])) {\n        var tmp = [];\n        for (var i = 0; i < values.length; i++) {\n            tmp = tmp.concat(values[i]);\n        }\n        values = tmp;\n    }\n    var max = Math.max.apply(null, values);\n    var min = Math.min.apply(null, values);\n    return {\n        min: min,\n        max: max\n    };\n};\nexport default getRange;\n//# sourceMappingURL=get-range.js.map","var arrPrototype = Array.prototype;\nvar splice = arrPrototype.splice;\nvar indexOf = arrPrototype.indexOf;\nvar pull = function (arr) {\n    var values = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        values[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        var fromIndex = -1;\n        while ((fromIndex = indexOf.call(arr, value)) > -1) {\n            splice.call(arr, fromIndex, 1);\n        }\n    }\n    return arr;\n};\nexport default pull;\n//# sourceMappingURL=pull.js.map","import isArrayLike from './is-array-like';\nvar splice = Array.prototype.splice;\nvar pullAt = function pullAt(arr, indexes) {\n    if (!isArrayLike(arr)) {\n        return [];\n    }\n    var length = arr ? indexes.length : 0;\n    var last = length - 1;\n    while (length--) {\n        var previous = void 0;\n        var index = indexes[length];\n        if (length === last || index !== previous) {\n            previous = index;\n            splice.call(arr, index, 1);\n        }\n    }\n    return arr;\n};\nexport default pullAt;\n//# sourceMappingURL=pull-at.js.map","import each from './each';\nimport isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar reduce = function (arr, fn, init) {\n    if (!isArray(arr) && !isPlainObject(arr)) {\n        return arr;\n    }\n    var result = init;\n    each(arr, function (data, i) {\n        result = fn(result, data, i);\n    });\n    return result;\n};\nexport default reduce;\n//# sourceMappingURL=reduce.js.map","import isArrayLike from './is-array-like';\nimport pullAt from './pull-at';\nvar remove = function (arr, predicate) {\n    /**\n     * const arr = [1, 2, 3, 4]\n     * const evens = remove(arr, n => n % 2 == 0)\n     * console.log(arr) // => [1, 3]\n     * console.log(evens) // => [2, 4]\n     */\n    var result = [];\n    if (!isArrayLike(arr)) {\n        return result;\n    }\n    var i = -1;\n    var indexes = [];\n    var length = arr.length;\n    while (++i < length) {\n        var value = arr[i];\n        if (predicate(value, i, arr)) {\n            result.push(value);\n            indexes.push(i);\n        }\n    }\n    pullAt(arr, indexes);\n    return result;\n};\nexport default remove;\n//# sourceMappingURL=remove.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_type_1 = require(\"./is-type\");\nexports.default = (function (str) {\n    return is_type_1.default(str, 'String');\n});\n//# sourceMappingURL=is-string.js.map","import isArray from './is-array';\nimport isString from './is-string';\nimport isFunction from './is-function';\nfunction sortBy(arr, key) {\n    var comparer;\n    if (isFunction(key)) {\n        comparer = function (a, b) { return key(a) - key(b); };\n    }\n    else {\n        var keys_1 = [];\n        if (isString(key)) {\n            keys_1.push(key);\n        }\n        else if (isArray(key)) {\n            keys_1 = key;\n        }\n        comparer = function (a, b) {\n            for (var i = 0; i < keys_1.length; i += 1) {\n                var prop = keys_1[i];\n                if (a[prop] > b[prop]) {\n                    return 1;\n                }\n                if (a[prop] < b[prop]) {\n                    return -1;\n                }\n            }\n            return 0;\n        };\n    }\n    arr.sort(comparer);\n    return arr;\n}\nexport default sortBy;\n//# sourceMappingURL=sort-by.js.map","import contains from './contains';\nimport each from './each';\nvar uniq = function (arr) {\n    var resultArr = [];\n    each(arr, function (item) {\n        if (!contains(resultArr, item)) {\n            resultArr.push(item);\n        }\n    });\n    return resultArr;\n};\nexport default uniq;\n//# sourceMappingURL=uniq.js.map","import uniq from './uniq';\nvar union = function () {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return uniq([].concat.apply([], sources));\n};\nexport default union;\n//# sourceMappingURL=union.js.map","import each from './each';\nimport isArray from './is-array';\nimport isNil from './is-nil';\nexport default (function (data, name) {\n    var rst = [];\n    var tmpMap = {};\n    data.forEach(function (obj) {\n        var value = obj[name];\n        if (!isNil(value)) {\n            // flatten\n            if (!isArray(value)) {\n                value = [value];\n            }\n            each(value, function (val) {\n                // unique\n                if (!tmpMap[val]) {\n                    rst.push(val);\n                    tmpMap[val] = true;\n                }\n            });\n        }\n    });\n    return rst;\n});\n//# sourceMappingURL=values-of-key.js.map","import isArrayLike from './is-array-like';\nexport default function head(o) {\n    if (isArrayLike(o)) {\n        return o[0];\n    }\n    return undefined;\n}\n//# sourceMappingURL=head.js.map","import isArrayLike from './is-array-like';\nexport default function last(o) {\n    if (isArrayLike(o)) {\n        var arr = o;\n        return arr[arr.length - 1];\n    }\n    return undefined;\n}\n//# sourceMappingURL=last.js.map","import isArray from './is-array';\nimport isString from './is-string';\nfunction startsWith(arr, e) {\n    return (isArray(arr) || isString(arr)) ? arr[0] === e : false;\n}\nexport default startsWith;\n//# sourceMappingURL=starts-with.js.map","import isArray from './is-array';\nimport isString from './is-string';\nfunction endsWith(arr, e) {\n    return (isArray(arr) || isString(arr)) ? arr[arr.length - 1] === e : false;\n}\nexport default endsWith;\n//# sourceMappingURL=ends-with.js.map","/**\n * 只要有一个不满足条件就返回 false\n * @param arr\n * @param func\n */\nvar every = function (arr, func) {\n    for (var i = 0; i < arr.length; i++) {\n        if (!func(arr[i], i))\n            return false;\n    }\n    return true;\n};\nexport default every;\n//# sourceMappingURL=every.js.map","/**\n * 只要有一个满足条件就返回 true\n * @param arr\n * @param func\n */\nvar some = function (arr, func) {\n    for (var i = 0; i < arr.length; i++) {\n        if (func(arr[i], i))\n            return true;\n    }\n    return false;\n};\nexport default some;\n//# sourceMappingURL=some.js.map","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction groupBy(data, condition) {\n    if (!condition || !isArray(data)) {\n        return {};\n    }\n    var result = {};\n    // 兼容方法和 字符串的写法\n    var predicate = isFunction(condition) ? condition : function (item) { return item[condition]; };\n    var key;\n    each(data, function (item) {\n        key = predicate(item);\n        if (hasOwnProperty.call(result, key)) {\n            result[key].push(item);\n        }\n        else {\n            result[key] = [item];\n        }\n    });\n    return result;\n}\nexport default groupBy;\n//# sourceMappingURL=group-by.js.map","import isArray from './is-array';\nimport isFunction from './is-function';\nimport groupBy from './group-by';\nvar groupToMap = function (data, condition) {\n    if (!condition) {\n        return {\n            0: data\n        };\n    }\n    if (!isFunction(condition)) {\n        var paramsCondition_1 = isArray(condition) ? condition : condition.replace(/\\s+/g, '').split('*');\n        condition = function (row) {\n            var unique = '_'; // 避免出现数字作为Key的情况，会进行按照数字的排序\n            for (var i = 0, l = paramsCondition_1.length; i < l; i++) {\n                unique += row[paramsCondition_1[i]] && row[paramsCondition_1[i]].toString();\n            }\n            return unique;\n        };\n    }\n    var groups = groupBy(data, condition);\n    return groups;\n};\nexport default groupToMap;\n//# sourceMappingURL=group-to-map.js.map","import groupToMap from './group-to-map';\nexport default (function (data, condition) {\n    if (!condition) {\n        // 没有条件，则自身改成数组\n        return [data];\n    }\n    var groups = groupToMap(data, condition);\n    var array = [];\n    for (var i in groups) {\n        array.push(groups[i]);\n    }\n    return array;\n});\n//# sourceMappingURL=group.js.map","/**\n * 获取封装的事件\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction getWrapBehavior(obj, action) {\n    return obj['_wrap_' + action];\n}\nexport default getWrapBehavior;\n//# sourceMappingURL=get-wrap-behavior.js.map","/**\n * 封装事件，便于使用上下文this,和便于解除事件时使用\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction wrapBehavior(obj, action) {\n    if (obj['_wrap_' + action]) {\n        return obj['_wrap_' + action];\n    }\n    var method = function (e) {\n        obj[action](e);\n    };\n    obj['_wrap_' + action] = method;\n    return method;\n}\nexport default wrapBehavior;\n//# sourceMappingURL=wrap-behavior.js.map","var numColorCache = {};\nfunction numberToColor(num) {\n    // 增加缓存\n    var color = numColorCache[num];\n    if (!color) {\n        var str = num.toString(16);\n        for (var i = str.length; i < 6; i++) {\n            str = '0' + str;\n        }\n        color = '#' + str;\n        numColorCache[num] = color;\n    }\n    return color;\n}\nexport default numberToColor;\n//# sourceMappingURL=number2color.js.map","import isArray from './is-array';\nfunction parseRadius(radius) {\n    var r1 = 0, r2 = 0, r3 = 0, r4 = 0;\n    if (isArray(radius)) {\n        if (radius.length === 1) {\n            r1 = r2 = r3 = r4 = radius[0];\n        }\n        else if (radius.length === 2) {\n            r1 = r3 = radius[0];\n            r2 = r4 = radius[1];\n        }\n        else if (radius.length === 3) {\n            r1 = radius[0];\n            r2 = r4 = radius[1];\n            r3 = radius[2];\n        }\n        else {\n            r1 = radius[0];\n            r2 = radius[1];\n            r3 = radius[2];\n            r4 = radius[3];\n        }\n    }\n    else {\n        r1 = r2 = r3 = r4 = radius;\n    }\n    return {\n        r1: r1,\n        r2: r2,\n        r3: r3,\n        r4: r4\n    };\n}\nexport default parseRadius;\n//# sourceMappingURL=parse-radius.js.map","var clamp = function (a, min, max) {\n    if (a < min) {\n        return min;\n    }\n    else if (a > max) {\n        return max;\n    }\n    return a;\n};\nexport default clamp;\n//# sourceMappingURL=clamp.js.map","var fixedBase = function (v, base) {\n    var str = base.toString();\n    var index = str.indexOf('.');\n    if (index === -1) {\n        return Math.round(v);\n    }\n    var length = str.substr(index + 1).length;\n    if (length > 20) {\n        length = 20;\n    }\n    return parseFloat(v.toFixed(length));\n};\nexport default fixedBase;\n//# sourceMappingURL=fixed-base.js.map","/**\n * 判断是否数字\n * @return {Boolean} 是否数字\n */\nimport isType from './is-type';\nvar isNumber = function (value) {\n    return isType(value, 'Number');\n};\nexport default isNumber;\n//# sourceMappingURL=is-number.js.map","import isNumber from './is-number';\nvar isDecimal = function (num) {\n    return isNumber(num) && num % 1 !== 0;\n};\nexport default isDecimal;\n//# sourceMappingURL=is-decimal.js.map","import isNumber from './is-number';\nvar isEven = function (num) {\n    return isNumber(num) && num % 2 === 0;\n};\nexport default isEven;\n//# sourceMappingURL=is-even.js.map","import isNumber from './is-number';\nvar isInteger = Number.isInteger ? Number.isInteger : function (num) {\n    return isNumber(num) && num % 1 === 0;\n};\nexport default isInteger;\n//# sourceMappingURL=is-integer.js.map","import isNumber from './is-number';\nvar isNegative = function (num) {\n    return isNumber(num) && num < 0;\n};\nexport default isNegative;\n//# sourceMappingURL=is-negative.js.map","var PRECISION = 0.00001; // numbers less than this is considered as 0\nexport default function isNumberEqual(a, b, precision) {\n    if (precision === void 0) { precision = PRECISION; }\n    return Math.abs((a - b)) < precision;\n}\n;\n//# sourceMappingURL=is-number-equal.js.map","import isNumber from './is-number';\nvar isOdd = function (num) {\n    return isNumber(num) && num % 2 !== 0;\n};\nexport default isOdd;\n//# sourceMappingURL=is-odd.js.map","import isNumber from './is-number';\nvar isPositive = function (num) {\n    return isNumber(num) && num > 0;\n};\nexport default isPositive;\n//# sourceMappingURL=is-positive.js.map","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nexport default (function (arr, fn) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    var max = arr[0];\n    var maxData;\n    if (isFunction(fn)) {\n        maxData = fn(arr[0]);\n    }\n    else {\n        maxData = arr[0][fn];\n    }\n    var data;\n    each(arr, function (val) {\n        if (isFunction(fn)) {\n            data = fn(val);\n        }\n        else {\n            data = val[fn];\n        }\n        if (data > maxData) {\n            max = val;\n            maxData = data;\n        }\n    });\n    return max;\n});\n//# sourceMappingURL=max-by.js.map","import each from './each';\nimport isArray from './is-array';\nimport isFunction from './is-function';\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nexport default (function (arr, fn) {\n    if (!isArray(arr)) {\n        return undefined;\n    }\n    var min = arr[0];\n    var minData;\n    if (isFunction(fn)) {\n        minData = fn(arr[0]);\n    }\n    else {\n        minData = arr[0][fn];\n    }\n    var data;\n    each(arr, function (val) {\n        if (isFunction(fn)) {\n            data = fn(val);\n        }\n        else {\n            data = val[fn];\n        }\n        if (data < minData) {\n            min = val;\n            minData = data;\n        }\n    });\n    return min;\n});\n//# sourceMappingURL=min-by.js.map","var mod = function (n, m) {\n    return ((n % m) + m) % m;\n};\nexport default mod;\n//# sourceMappingURL=mod.js.map","var DEGREE = 180 / Math.PI;\nvar toDegree = function (radian) {\n    return DEGREE * radian;\n};\nexport default toDegree;\n//# sourceMappingURL=to-degree.js.map","export default parseInt;\n//# sourceMappingURL=to-integer.js.map","var RADIAN = Math.PI / 180;\nvar toRadian = function (degree) {\n    return RADIAN * degree;\n};\nexport default toRadian;\n//# sourceMappingURL=to-radian.js.map","import each from './each';\nexport default each;\n//# sourceMappingURL=for-in.js.map","export default (function (obj, key) { return obj.hasOwnProperty(key); });\n//# sourceMappingURL=has.js.map","import has from './has';\nexport default has;\n//# sourceMappingURL=has-key.js.map","import each from './each';\nimport isFunction from './is-function';\n// @ts-ignore\nvar values = Object.values ? function (obj) { return Object.values(obj); } : function (obj) {\n    var result = [];\n    each(obj, function (value, key) {\n        if (!(isFunction(obj) && key === 'prototype')) {\n            result.push(value);\n        }\n    });\n    return result;\n};\nexport default values;\n//# sourceMappingURL=values.js.map","import contains from './contains';\nimport values from './values';\nexport default (function (obj, value) { return contains(values(obj), value); });\n//# sourceMappingURL=has-value.js.map","import isNil from './is-nil';\nexport default (function (value) {\n    if (isNil(value))\n        return '';\n    return value.toString();\n});\n//# sourceMappingURL=to-string.js.map","import toString from './to-string';\nvar lowerCase = function (str) {\n    return toString(str).toLowerCase();\n};\nexport default lowerCase;\n//# sourceMappingURL=lower-case.js.map","import toString from './to-string';\nvar lowerFirst = function (value) {\n    var str = toString(value);\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\nexport default lowerFirst;\n//# sourceMappingURL=lower-first.js.map","function substitute(str, o) {\n    if (!str || !o) {\n        return str;\n    }\n    return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n        if (match.charAt(0) === '\\\\') {\n            return match.slice(1);\n        }\n        return (o[name] === undefined) ? '' : o[name];\n    });\n}\nexport default substitute;\n//# sourceMappingURL=substitute.js.map","import toString from './to-string';\nvar upperCase = function (str) {\n    return toString(str).toUpperCase();\n};\nexport default upperCase;\n//# sourceMappingURL=upper-case.js.map","import toString from './to-string';\nvar upperFirst = function (value) {\n    var str = toString(value);\n    return str.charAt(0).toUpperCase() + str.substring(1);\n};\nexport default upperFirst;\n//# sourceMappingURL=upper-first.js.map","var toString = {}.toString;\nvar getType = function (value) {\n    return toString.call(value).replace(/^\\[object /, '').replace(/]$/, '');\n};\nexport default getType;\n//# sourceMappingURL=get-type.js.map","/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isArguments = function (value) {\n    return isType(value, 'Arguments');\n};\nexport default isArguments;\n//# sourceMappingURL=is-arguments.js.map","/**\n * 是否是布尔类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isBoolean = function (value) {\n    return isType(value, 'Boolean');\n};\nexport default isBoolean;\n//# sourceMappingURL=is-boolean.js.map","import isType from './is-type';\nvar isDate = function (value) {\n    return isType(value, 'Date');\n};\nexport default isDate;\n//# sourceMappingURL=is-date.js.map","/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nimport isType from './is-type';\nvar isError = function (value) {\n    return isType(value, 'Error');\n};\nexport default isError;\n//# sourceMappingURL=is-error.js.map","/**\n * 判断是否为有限数\n * @return {Boolean}\n */\nimport isNumber from './is-number';\nexport default function (value) {\n    return isNumber(value) && isFinite(value);\n}\n//# sourceMappingURL=is-finite.js.map","var isNull = function (value) {\n    return value === null;\n};\nexport default isNull;\n//# sourceMappingURL=is-null.js.map","var objectProto = Object.prototype;\nvar isPrototype = function (value) {\n    var Ctor = value && value.constructor;\n    var proto = (typeof Ctor === 'function' && Ctor.prototype) || objectProto;\n    return value === proto;\n};\nexport default isPrototype;\n//# sourceMappingURL=is-prototype.js.map","import isType from './is-type';\nvar isRegExp = function (str) {\n    return isType(str, 'RegExp');\n};\nexport default isRegExp;\n//# sourceMappingURL=is-reg-exp.js.map","var isUndefined = function (value) {\n    return value === undefined;\n};\nexport default isUndefined;\n//# sourceMappingURL=is-undefined.js.map","/**\n * 判断是否HTML元素\n * @return {Boolean} 是否HTML元素\n */\nvar isElement = function (o) {\n    return o instanceof Element || o instanceof HTMLDocument;\n};\nexport default isElement;\n//# sourceMappingURL=is-element.js.map","export default function requestAnimationFrame(fn) {\n    var method = window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        // @ts-ignore\n        window.mozRequestAnimationFrame ||\n        // @ts-ignore\n        window.msRequestAnimationFrame ||\n        function (f) {\n            return setTimeout(f, 16);\n        };\n    return method(fn);\n}\n;\n//# sourceMappingURL=request-animation-frame.js.map","export default function cancelAnimationFrame(handler) {\n    var method = window.cancelAnimationFrame ||\n        window.webkitCancelAnimationFrame ||\n        // @ts-ignore\n        window.mozCancelAnimationFrame ||\n        // @ts-ignore\n        window.msCancelAnimationFrame ||\n        clearTimeout;\n    method(handler);\n}\n;\n//# sourceMappingURL=clear-animation-frame.js.map","// FIXME: Mutable param should be forbidden in static lang.\nfunction _mix(dist, obj) {\n    for (var key in obj) {\n        if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n            dist[key] = obj[key];\n        }\n    }\n}\nexport default function mix(dist, src1, src2, src3) {\n    if (src1)\n        _mix(dist, src1);\n    if (src2)\n        _mix(dist, src2);\n    if (src3)\n        _mix(dist, src3);\n    return dist;\n}\n//# sourceMappingURL=mix.js.map","import mix from './mix';\nimport isFunction from './is-function';\nvar augment = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var c = args[0];\n    for (var i = 1; i < args.length; i++) {\n        var obj = args[i];\n        if (isFunction(obj)) {\n            obj = obj.prototype;\n        }\n        mix(c.prototype, obj);\n    }\n};\nexport default augment;\n//# sourceMappingURL=augment.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_array_1 = require(\"./is-array\");\nvar clone = function (obj) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n    var rst;\n    if (is_array_1.default(obj)) {\n        rst = [];\n        for (var i = 0, l = obj.length; i < l; i++) {\n            if (typeof obj[i] === 'object' && obj[i] != null) {\n                rst[i] = clone(obj[i]);\n            }\n            else {\n                rst[i] = obj[i];\n            }\n        }\n    }\n    else {\n        rst = {};\n        for (var k in obj) {\n            if (typeof obj[k] === 'object' && obj[k] != null) {\n                rst[k] = clone(obj[k]);\n            }\n            else {\n                rst[k] = obj[k];\n            }\n        }\n    }\n    return rst;\n};\nexports.default = clone;\n//# sourceMappingURL=clone.js.map","function debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        var later = function () {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\nexport default debounce;\n//# sourceMappingURL=debounce.js.map","import isFunction from './is-function';\n/**\n * _.memoize(calColor);\n * _.memoize(calColor, (...args) => args[0]);\n * @param f\n * @param resolver\n */\nexport default (function (f, resolver) {\n    if (!isFunction(f)) {\n        throw new TypeError('Expected a function');\n    }\n    var memoized = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        // 使用方法构造 key，如果不存在 resolver，则直接取第一个参数作为 key\n        var key = resolver ? resolver.apply(this, args) : args[0];\n        var cache = memoized.cache;\n        if (cache.has(key)) {\n            return cache.get(key);\n        }\n        var result = f.apply(this, args);\n        // 缓存起来\n        cache.set(key, result);\n        return result;\n    };\n    memoized.cache = new Map();\n    return memoized;\n});\n//# sourceMappingURL=memoize.js.map","import isArray from './is-array';\nimport isPlainObject from './is-plain-object';\nvar MAX_MIX_LEVEL = 5;\nfunction _deepMix(dist, src, level, maxLevel) {\n    level = level || 0;\n    maxLevel = maxLevel || MAX_MIX_LEVEL;\n    for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n            var value = src[key];\n            if (value !== null && isPlainObject(value)) {\n                if (!isPlainObject(dist[key])) {\n                    dist[key] = {};\n                }\n                if (level < maxLevel) {\n                    _deepMix(dist[key], value, level + 1, maxLevel);\n                }\n                else {\n                    dist[key] = src[key];\n                }\n            }\n            else if (isArray(value)) {\n                dist[key] = [];\n                dist[key] = dist[key].concat(value);\n            }\n            else if (value !== undefined) {\n                dist[key] = value;\n            }\n        }\n    }\n}\n// todo 重写\nvar deepMix = function (rst) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < args.length; i += 1) {\n        _deepMix(rst, args[i]);\n    }\n    return rst;\n};\nexport default deepMix;\n//# sourceMappingURL=deep-mix.js.map","import mix from './mix';\nimport isFunction from './is-function';\nvar extend = function (subclass, superclass, overrides, staticOverrides) {\n    // 如果只提供父类构造函数，则自动生成子类构造函数\n    if (!isFunction(superclass)) {\n        overrides = superclass;\n        superclass = subclass;\n        subclass = function () { };\n    }\n    var create = Object.create ?\n        function (proto, c) {\n            return Object.create(proto, {\n                constructor: {\n                    value: c\n                }\n            });\n        } :\n        function (proto, c) {\n            function Tmp() { }\n            Tmp.prototype = proto;\n            var o = new Tmp();\n            o.constructor = c;\n            return o;\n        };\n    var superObj = create(superclass.prototype, subclass); // new superclass(),//实例化父类作为子类的prototype\n    subclass.prototype = mix(superObj, subclass.prototype); // 指定子类的prototype\n    subclass.superclass = create(superclass.prototype, superclass);\n    mix(superObj, overrides);\n    mix(subclass, staticOverrides);\n    return subclass;\n};\nexport default extend;\n//# sourceMappingURL=extend.js.map","import isArrayLike from './is-array-like';\nvar indexOf = function (arr, obj) {\n    if (!isArrayLike(arr)) {\n        return -1;\n    }\n    var m = Array.prototype.indexOf;\n    if (m) {\n        return m.call(arr, obj);\n    }\n    var index = -1;\n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === obj) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n};\nexport default indexOf;\n//# sourceMappingURL=index-of.js.map","import isNil from './is-nil';\nimport isArrayLike from './is-array-like';\nimport getType from './get-type';\nimport isPrototype from './is-prototype';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction isEmpty(value) {\n    /**\n     * isEmpty(null) => true\n     * isEmpty() => true\n     * isEmpty(true) => true\n     * isEmpty(1) => true\n     * isEmpty([1, 2, 3]) => false\n     * isEmpty('abc') => false\n     * isEmpty({ a: 1 }) => false\n     */\n    if (isNil(value)) {\n        return true;\n    }\n    if (isArrayLike(value)) {\n        return !value.length;\n    }\n    var type = getType(value);\n    if (type === 'Map' || type === 'Set') {\n        return !value.size;\n    }\n    if (isPrototype(value)) {\n        return !Object.keys(value).length;\n    }\n    for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n            return false;\n        }\n    }\n    return true;\n}\nexport default isEmpty;\n//# sourceMappingURL=is-empty.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar is_object_like_1 = require(\"./is-object-like\");\nvar is_array_like_1 = require(\"./is-array-like\");\nvar is_string_1 = require(\"./is-string\");\nvar isEqual = function (value, other) {\n    if (value === other) {\n        return true;\n    }\n    if (!value || !other) {\n        return false;\n    }\n    if (is_string_1.default(value) || is_string_1.default(other)) {\n        return false;\n    }\n    if (is_array_like_1.default(value) || is_array_like_1.default(other)) {\n        if (value.length !== other.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < value.length; i++) {\n            rst = isEqual(value[i], other[i]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    if (is_object_like_1.default(value) || is_object_like_1.default(other)) {\n        var valueKeys = Object.keys(value);\n        var otherKeys = Object.keys(other);\n        if (valueKeys.length !== otherKeys.length) {\n            return false;\n        }\n        var rst = true;\n        for (var i = 0; i < valueKeys.length; i++) {\n            rst = isEqual(value[valueKeys[i]], other[valueKeys[i]]);\n            if (!rst) {\n                break;\n            }\n        }\n        return rst;\n    }\n    return false;\n};\nexports.default = isEqual;\n//# sourceMappingURL=is-equal.js.map","import isFunction from './is-function';\nimport isEqual from './is-equal';\n/**\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [fn] The function to customize comparisons.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * function isGreeting(value) {\n *   return /^h(?:i|ello)$/.test(value);\n * }\n *\n * function customizer(objValue, othValue) {\n *   if (isGreeting(objValue) && isGreeting(othValue)) {\n *     return true;\n *   }\n * }\n *\n * var array = ['hello', 'goodbye'];\n * var other = ['hi', 'goodbye'];\n *\n * isEqualWith(array, other, customizer);  // => true\n */\nexport default (function (value, other, fn) {\n    if (!isFunction(fn)) {\n        return isEqual(value, other);\n    }\n    return !!fn(value, other);\n});\n//# sourceMappingURL=is-equal-with.js.map","import each from './each';\nimport isArrayLike from './is-array-like';\nvar map = function (arr, func) {\n    if (!isArrayLike(arr)) {\n        // @ts-ignore\n        return arr;\n    }\n    var result = [];\n    each(arr, function (value, index) {\n        result.push(func(value, index));\n    });\n    return result;\n};\nexport default map;\n//# sourceMappingURL=map.js.map","import isNil from './is-nil';\nimport isObject from './is-object';\nvar identity = function (v) { return v; };\nexport default (function (object, func) {\n    if (func === void 0) { func = identity; }\n    var r = {};\n    if (isObject(object) && !isNil(object)) {\n        Object.keys(object).forEach(function (key) {\n            // @ts-ignore\n            r[key] = func(object[key], key);\n        });\n    }\n    return r;\n});\n//# sourceMappingURL=map-values.js.map","import isString from './is-string';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param key\n * @param defaultValue\n */\nexport default (function (obj, key, defaultValue) {\n    var p = 0;\n    var keyArr = isString(key) ? key.split('.') : key;\n    while (obj && p < keyArr.length) {\n        obj = obj[keyArr[p++]];\n    }\n    return (obj === undefined || p < keyArr.length) ? defaultValue : obj;\n});\n//# sourceMappingURL=get.js.map","import isObject from './is-object';\nimport isString from './is-string';\nimport isNumber from './is-number';\n/**\n * https://github.com/developit/dlv/blob/master/index.js\n * @param obj\n * @param path\n * @param value\n */\nexport default (function (obj, path, value) {\n    var o = obj;\n    var keyArr = isString(path) ? path.split('.') : path;\n    keyArr.forEach(function (key, idx) {\n        // 不是最后一个\n        if (idx < keyArr.length - 1) {\n            if (!isObject(o[key])) {\n                o[key] = isNumber(keyArr[idx + 1]) ? [] : {};\n            }\n            o = o[key];\n        }\n        else {\n            o[key] = value;\n        }\n    });\n    return obj;\n});\n//# sourceMappingURL=set.js.map","import each from './each';\nimport isPlainObject from './is-plain-object';\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nexport default (function (object, keys) {\n    if (object === null || !isPlainObject(object)) {\n        return {};\n    }\n    var result = {};\n    each(keys, function (key) {\n        if (hasOwnProperty.call(object, key)) {\n            result[key] = object[key];\n        }\n    });\n    return result;\n});\n//# sourceMappingURL=pick.js.map","export default (function (func, wait, options) {\n    var timeout, context, args, result;\n    var previous = 0;\n    if (!options)\n        options = {};\n    var later = function () {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        result = func.apply(context, args);\n        if (!timeout)\n            context = args = null;\n    };\n    var throttled = function () {\n        var now = Date.now();\n        if (!previous && options.leading === false)\n            previous = now;\n        var remaining = wait - (now - previous);\n        context = this;\n        args = arguments;\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            result = func.apply(context, args);\n            if (!timeout)\n                context = args = null;\n        }\n        else if (!timeout && options.trailing !== false) {\n            timeout = setTimeout(later, remaining);\n        }\n        return result;\n    };\n    throttled.cancel = function () {\n        clearTimeout(timeout);\n        previous = 0;\n        timeout = context = args = null;\n    };\n    return throttled;\n});\n//# sourceMappingURL=throttle.js.map","import isArrayLike from './is-array-like';\nexport default (function (value) {\n    return isArrayLike(value) ? Array.prototype.slice.call(value) : [];\n});\n//# sourceMappingURL=to-array.js.map","var map = {};\nexport default (function (prefix) {\n    prefix = prefix || 'g';\n    if (!map[prefix]) {\n        map[prefix] = 1;\n    }\n    else {\n        map[prefix] += 1;\n    }\n    return prefix + map[prefix];\n});\n//# sourceMappingURL=unique-id.js.map","export default (function () { });\n//# sourceMappingURL=noop.js.map","export default (function (v) { return v; });\n//# sourceMappingURL=identity.js.map","import isNil from './is-nil';\nimport isArraylike from './is-array-like';\nexport default function size(o) {\n    if (isNil(o)) {\n        return 0;\n    }\n    if (isArraylike(o)) {\n        return o.length;\n    }\n    return Object.keys(o).length;\n}\n//# sourceMappingURL=size.js.map","/**\n * k-v 存储\n */\nvar default_1 = /** @class */ (function () {\n    function default_1() {\n        this.map = {};\n    }\n    default_1.prototype.has = function (key) {\n        return this.map[key] !== undefined;\n    };\n    default_1.prototype.get = function (key, def) {\n        var v = this.map[key];\n        return v === undefined ? def : v;\n    };\n    default_1.prototype.set = function (key, value) {\n        this.map[key] = value;\n    };\n    default_1.prototype.clear = function () {\n        this.map = {};\n    };\n    default_1.prototype.delete = function (key) {\n        delete this.map[key];\n    };\n    default_1.prototype.size = function () {\n        return Object.keys(this.map).length;\n    };\n    return default_1;\n}());\nexport default default_1;\n//# sourceMappingURL=cache.js.map","export { default as ScrollBar } from './scroll-bar';\nexport { default as Icon } from './icon';\nexport { default as Arrow } from './arrow';\nexport { default as Slider } from './slider';\nexport { default as Trend } from './trend';\n//# sourceMappingURL=index.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"G\"] = factory();\n\telse\n\t\troot[\"G\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Util\"] = factory();\n\telse\n\t\troot[\"Util\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 40);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObject = __webpack_require__(16);\nvar isArray = __webpack_require__(1);\n\nvar each = function each(elements, func) {\n  if (!elements) {\n    return;\n  }\n  var rst = void 0;\n  if (isArray(elements)) {\n    for (var i = 0, len = elements.length; i < len; i++) {\n      rst = func(elements[i], i);\n      if (rst === false) {\n        break;\n      }\n    }\n  } else if (isObject(elements)) {\n    for (var k in elements) {\n      if (elements.hasOwnProperty(k)) {\n        rst = func(elements[k], k);\n        if (rst === false) {\n          break;\n        }\n      }\n    }\n  }\n};\n\nmodule.exports = each;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isType = __webpack_require__(2);\n\nvar isArray = Array.isArray ? Array.isArray : function (value) {\n  return isType(value, 'Array');\n};\n\nmodule.exports = isArray;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\nvar isType = function isType(value, type) {\n  return toString.call(value) === '[object ' + type + ']';\n};\n\nmodule.exports = isType;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * 是否为函数\n * @param  {*} fn 对象\n * @return {Boolean}  是否函数\n */\nvar isType = __webpack_require__(2);\n\nvar isFunction = function isFunction(value) {\n  return isType(value, 'Function');\n};\n\nmodule.exports = isFunction;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nvar isArrayLike = function isArrayLike(value) {\n  /**\n   * isArrayLike([1, 2, 3]) => true\n   * isArrayLike(document.body.children) => true\n   * isArrayLike('abc') => true\n   * isArrayLike(Function) => false\n   */\n  return value !== null && typeof value !== 'function' && isFinite(value.length);\n};\n\nmodule.exports = isArrayLike;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n// isFinite,\nvar isNil = function isNil(value) {\n  /**\n   * isNil(null) => true\n   * isNil() => true\n   */\n  return value === null || value === undefined;\n};\n\nmodule.exports = isNil;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * 判断是否数字\n * @return {Boolean} 是否数字\n */\nvar isType = __webpack_require__(2);\n\nvar isNumber = function isNumber(value) {\n  return isType(value, 'Number');\n};\nmodule.exports = isNumber;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObjectLike = __webpack_require__(13);\nvar isType = __webpack_require__(2);\n\nvar isPlainObject = function isPlainObject(value) {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   * isObjectLike(Object.create(null)) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n  var proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\nmodule.exports = isPlainObject;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isNil = __webpack_require__(5);\n\nfunction toString(value) {\n  if (isNil(value)) return '';\n  return value.toString();\n}\n\nmodule.exports = toString;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArrayLike = __webpack_require__(4);\n\nvar indexOf = Array.prototype.indexOf;\n\nvar contains = function contains(arr, value) {\n  if (!isArrayLike(arr)) {\n    return false;\n  }\n  return indexOf.call(arr, value) > -1;\n};\n\nmodule.exports = contains;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isType = __webpack_require__(2);\n\nvar isString = function isString(str) {\n  return isType(str, 'String');\n};\n\nmodule.exports = isString;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nfunction _mix(dist, obj) {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key) && key !== 'constructor' && obj[key] !== undefined) {\n      dist[key] = obj[key];\n    }\n  }\n}\n\nvar mix = function mix(dist, src1, src2, src3) {\n  if (src1) _mix(dist, src1);\n  if (src2) _mix(dist, src2);\n  if (src3) _mix(dist, src3);\n  return dist;\n};\n\nmodule.exports = mix;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar each = __webpack_require__(0);\nvar isArrayLike = __webpack_require__(4);\n\nvar filter = function filter(arr, func) {\n  if (!isArrayLike(arr)) {\n    return arr;\n  }\n  var result = [];\n  each(arr, function (value, index) {\n    if (func(value, index)) {\n      result.push(value);\n    }\n  });\n  return result;\n};\n\nmodule.exports = filter;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar isObjectLike = function isObjectLike(value) {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   * isObjectLike(null) => false\n   */\n  return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n};\n\nmodule.exports = isObjectLike;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArrayLike = __webpack_require__(4);\n\nfunction toArray(value) {\n  return isArrayLike(value) ? Array.prototype.slice.call(value) : [];\n}\n\nmodule.exports = toArray;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMatrixArrayType = setMatrixArrayType;\nexports.toRadian = toRadian;\nexports.equals = equals;\n/**\n * Common utilities\n * @module glMatrix\n */\n\n// Configuration Constants\nvar EPSILON = exports.EPSILON = 0.000001;\nvar ARRAY_TYPE = exports.ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = exports.RANDOM = Math.random;\n\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\nfunction setMatrixArrayType(type) {\n  exports.ARRAY_TYPE = ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\nfunction toRadian(a) {\n  return a * degree;\n}\n\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar isObject = function isObject(value) {\n  /**\n   * isObject({}) => true\n   * isObject([1, 2, 3]) => true\n   * isObject(Function) => true\n   * isObject(null) => false\n   */\n  var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n  return value !== null && type === 'object' || type === 'function';\n};\n\nmodule.exports = isObject;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar keys = __webpack_require__(18);\nvar isNil = __webpack_require__(5);\n\nfunction isMatch(obj, attrs) {\n  var _keys = keys(attrs);\n  var length = _keys.length;\n  if (isNil(obj)) return !length;\n  for (var i = 0; i < length; i += 1) {\n    var key = _keys[i];\n    if (attrs[key] !== obj[key] || !(key in obj)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isMatch;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar each = __webpack_require__(0);\nvar isFunction = __webpack_require__(3);\n\nvar keys = Object.keys ? function (obj) {\n  return Object.keys(obj);\n} : function (obj) {\n  var result = [];\n  each(obj, function (value, key) {\n    if (!(isFunction(obj) && key === 'prototype')) {\n      result.push(key);\n    }\n  });\n  return result;\n};\n\nmodule.exports = keys;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArrayLike = __webpack_require__(4);\n\nvar splice = Array.prototype.splice;\n\nvar pullAt = function pullAt(arr, indexes) {\n  if (!isArrayLike(arr)) {\n    return [];\n  }\n  var length = arr ? indexes.length : 0;\n  var last = length - 1;\n\n  while (length--) {\n    var previous = void 0;\n    var index = indexes[length];\n    if (length === last || index !== previous) {\n      previous = index;\n      splice.call(arr, index, 1);\n    }\n  }\n  return arr;\n};\n\nmodule.exports = pullAt;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar each = __webpack_require__(0);\nvar contains = __webpack_require__(9);\n\nvar uniq = function uniq(arr) {\n  var resultArr = [];\n  each(arr, function (item) {\n    if (!contains(resultArr, item)) {\n      resultArr.push(item);\n    }\n  });\n  return resultArr;\n};\n\nmodule.exports = uniq;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nvar clamp = function clamp(a, min, max) {\n  if (a < min) {\n    return min;\n  } else if (a > max) {\n    return max;\n  }\n  return a;\n};\n\nmodule.exports = clamp;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\nmodule.exports = parseInt;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar mat3 = __webpack_require__(89);\n\nmat3.translate = function (out, a, v) {\n  var transMat = new Array(9);\n  mat3.fromTranslation(transMat, v);\n  return mat3.multiply(out, transMat, a);\n};\n\nmat3.rotate = function (out, a, rad) {\n  var rotateMat = new Array(9);\n  mat3.fromRotation(rotateMat, rad);\n  return mat3.multiply(out, rotateMat, a);\n};\n\nmat3.scale = function (out, a, v) {\n  var scaleMat = new Array(9);\n  mat3.fromScaling(scaleMat, v);\n  return mat3.multiply(out, scaleMat, a);\n};\n\nmodule.exports = mat3;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar isArray = __webpack_require__(1);\n\nvar clone = function clone(obj) {\n  if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object' || obj === null) {\n    return obj;\n  }\n  var rst = void 0;\n  if (isArray(obj)) {\n    rst = [];\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (_typeof(obj[i]) === 'object' && obj[i] != null) {\n        rst[i] = clone(obj[i]);\n      } else {\n        rst[i] = obj[i];\n      }\n    }\n  } else {\n    rst = {};\n    for (var k in obj) {\n      if (_typeof(obj[k]) === 'object' && obj[k] != null) {\n        rst[k] = clone(obj[k]);\n      } else {\n        rst[k] = obj[k];\n      }\n    }\n  }\n\n  return rst;\n};\n\nmodule.exports = clone;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\n\nmodule.exports = function (obj, key) {\n  return obj.hasOwnProperty(key);\n};\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar each = __webpack_require__(0);\nvar isFunction = __webpack_require__(3);\n\nvar values = Object.values ? function (obj) {\n  return Object.values(obj);\n} : function (obj) {\n  var result = [];\n  each(obj, function (value, key) {\n    if (!(isFunction(obj) && key === 'prototype')) {\n      result.push(value);\n    }\n  });\n  return result;\n};\n\nmodule.exports = values;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parsePathArray = __webpack_require__(28);\n\nmodule.exports = function rectPath(x, y, w, h, r) {\n  if (r) {\n    return [['M', +x + +r, y], ['l', w - r * 2, 0], ['a', r, r, 0, 0, 1, r, r], ['l', 0, h - r * 2], ['a', r, r, 0, 0, 1, -r, r], ['l', r * 2 - w, 0], ['a', r, r, 0, 0, 1, -r, -r], ['l', 0, r * 2 - h], ['a', r, r, 0, 0, 1, r, -r], ['z']];\n  }\n  var res = [['M', x, y], ['l', w, 0], ['l', 0, h], ['l', -w, 0], ['z']];\n  res.parsePathArray = parsePathArray;\n  return res;\n};\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports) {\n\n\nvar p2s = /,?([a-z]),?/gi;\n\nmodule.exports = function parsePathArray(path) {\n  return path.join(',').replace(p2s, '$1');\n};\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pathToAbsolute = __webpack_require__(30);\n\nvar a2c = function a2c(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n  // for more information of where this math came from visit:\n  // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n  if (rx === ry) {\n    rx += 1;\n  }\n\n  var _120 = Math.PI * 120 / 180;\n  var rad = Math.PI / 180 * (+angle || 0);\n  var res = [];\n  var xy = void 0;\n  var f1 = void 0;\n  var f2 = void 0;\n  var cx = void 0;\n  var cy = void 0;\n  var rotate = function rotate(x, y, rad) {\n    var X = x * Math.cos(rad) - y * Math.sin(rad);\n    var Y = x * Math.sin(rad) + y * Math.cos(rad);\n    return {\n      x: X,\n      y: Y\n    };\n  };\n  if (!recursive) {\n    xy = rotate(x1, y1, -rad);\n    x1 = xy.x;\n    y1 = xy.y;\n    xy = rotate(x2, y2, -rad);\n    x2 = xy.x;\n    y2 = xy.y;\n    if (x1 === x2 && y1 === y2) {\n      // 若弧的起始点和终点重叠则错开一点\n      x2 += 1;\n      y2 += 1;\n    }\n    // const cos = Math.cos(Math.PI / 180 * angle);\n    // const sin = Math.sin(Math.PI / 180 * angle);\n    var x = (x1 - x2) / 2;\n    var y = (y1 - y2) / 2;\n    var h = x * x / (rx * rx) + y * y / (ry * ry);\n    if (h > 1) {\n      h = Math.sqrt(h);\n      rx = h * rx;\n      ry = h * ry;\n    }\n    var rx2 = rx * rx;\n    var ry2 = ry * ry;\n    var k = (large_arc_flag === sweep_flag ? -1 : 1) * Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n    cx = k * rx * y / ry + (x1 + x2) / 2;\n    cy = k * -ry * x / rx + (y1 + y2) / 2;\n    f1 = Math.asin(((y1 - cy) / ry).toFixed(9));\n    f2 = Math.asin(((y2 - cy) / ry).toFixed(9));\n\n    f1 = x1 < cx ? Math.PI - f1 : f1;\n    f2 = x2 < cx ? Math.PI - f2 : f2;\n    f1 < 0 && (f1 = Math.PI * 2 + f1);\n    f2 < 0 && (f2 = Math.PI * 2 + f2);\n    if (sweep_flag && f1 > f2) {\n      f1 = f1 - Math.PI * 2;\n    }\n    if (!sweep_flag && f2 > f1) {\n      f2 = f2 - Math.PI * 2;\n    }\n  } else {\n    f1 = recursive[0];\n    f2 = recursive[1];\n    cx = recursive[2];\n    cy = recursive[3];\n  }\n  var df = f2 - f1;\n  if (Math.abs(df) > _120) {\n    var f2old = f2;\n    var x2old = x2;\n    var y2old = y2;\n    f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n    x2 = cx + rx * Math.cos(f2);\n    y2 = cy + ry * Math.sin(f2);\n    res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n  }\n  df = f2 - f1;\n  var c1 = Math.cos(f1);\n  var s1 = Math.sin(f1);\n  var c2 = Math.cos(f2);\n  var s2 = Math.sin(f2);\n  var t = Math.tan(df / 4);\n  var hx = 4 / 3 * rx * t;\n  var hy = 4 / 3 * ry * t;\n  var m1 = [x1, y1];\n  var m2 = [x1 + hx * s1, y1 - hy * c1];\n  var m3 = [x2 + hx * s2, y2 - hy * c2];\n  var m4 = [x2, y2];\n  m2[0] = 2 * m1[0] - m2[0];\n  m2[1] = 2 * m1[1] - m2[1];\n  if (recursive) {\n    return [m2, m3, m4].concat(res);\n  }\n  res = [m2, m3, m4].concat(res).join().split(',');\n  var newres = [];\n  for (var i = 0, ii = res.length; i < ii; i++) {\n    newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n  }\n  return newres;\n};\n\nvar l2c = function l2c(x1, y1, x2, y2) {\n  return [x1, y1, x2, y2, x2, y2];\n};\n\nvar q2c = function q2c(x1, y1, ax, ay, x2, y2) {\n  var _13 = 1 / 3;\n  var _23 = 2 / 3;\n  return [_13 * x1 + _23 * ax, _13 * y1 + _23 * ay, _13 * x2 + _23 * ax, _13 * y2 + _23 * ay, x2, y2];\n};\n\nmodule.exports = function pathTocurve(path, path2) {\n  var p = pathToAbsolute(path);\n  var p2 = path2 && pathToAbsolute(path2);\n  var attrs = {\n    x: 0,\n    y: 0,\n    bx: 0,\n    by: 0,\n    X: 0,\n    Y: 0,\n    qx: null,\n    qy: null\n  };\n  var attrs2 = {\n    x: 0,\n    y: 0,\n    bx: 0,\n    by: 0,\n    X: 0,\n    Y: 0,\n    qx: null,\n    qy: null\n  };\n  var pcoms1 = []; // path commands of original path p\n  var pcoms2 = []; // path commands of original path p2\n  var pfirst = ''; // temporary holder for original path command\n  var pcom = ''; // holder for previous path command of original path\n  var ii = void 0;\n  var processPath = function processPath(path, d, pcom) {\n    var nx = void 0,\n        ny = void 0;\n    if (!path) {\n      return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n    }!(path[0] in {\n      T: 1,\n      Q: 1\n    }) && (d.qx = d.qy = null);\n    switch (path[0]) {\n      case 'M':\n        d.X = path[1];\n        d.Y = path[2];\n        break;\n      case 'A':\n        path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n        break;\n      case 'S':\n        if (pcom === 'C' || pcom === 'S') {\n          // In \"S\" case we have to take into account, if the previous command is C/S.\n          nx = d.x * 2 - d.bx; // And reflect the previous\n          ny = d.y * 2 - d.by; // command's control point relative to the current point.\n        } else {\n          // or some else or nothing\n          nx = d.x;\n          ny = d.y;\n        }\n        path = ['C', nx, ny].concat(path.slice(1));\n        break;\n      case 'T':\n        if (pcom === 'Q' || pcom === 'T') {\n          // In \"T\" case we have to take into account, if the previous command is Q/T.\n          d.qx = d.x * 2 - d.qx; // And make a reflection similar\n          d.qy = d.y * 2 - d.qy; // to case \"S\".\n        } else {\n          // or something else or nothing\n          d.qx = d.x;\n          d.qy = d.y;\n        }\n        path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n        break;\n      case 'Q':\n        d.qx = path[1];\n        d.qy = path[2];\n        path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n        break;\n      case 'L':\n        path = ['C'].concat(l2c(d.x, d.y, path[1], path[2]));\n        break;\n      case 'H':\n        path = ['C'].concat(l2c(d.x, d.y, path[1], d.y));\n        break;\n      case 'V':\n        path = ['C'].concat(l2c(d.x, d.y, d.x, path[1]));\n        break;\n      case 'Z':\n        path = ['C'].concat(l2c(d.x, d.y, d.X, d.Y));\n        break;\n      default:\n        break;\n    }\n    return path;\n  };\n  var fixArc = function fixArc(pp, i) {\n    if (pp[i].length > 7) {\n      pp[i].shift();\n      var pi = pp[i];\n      while (pi.length) {\n        pcoms1[i] = 'A'; // if created multiple C:s, their original seg is saved\n        p2 && (pcoms2[i] = 'A'); // the same as above\n        pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n      }\n      pp.splice(i, 1);\n      ii = Math.max(p.length, p2 && p2.length || 0);\n    }\n  };\n  var fixM = function fixM(path1, path2, a1, a2, i) {\n    if (path1 && path2 && path1[i][0] === 'M' && path2[i][0] !== 'M') {\n      path2.splice(i, 0, ['M', a2.x, a2.y]);\n      a1.bx = 0;\n      a1.by = 0;\n      a1.x = path1[i][1];\n      a1.y = path1[i][2];\n      ii = Math.max(p.length, p2 && p2.length || 0);\n    }\n  };\n  ii = Math.max(p.length, p2 && p2.length || 0);\n  for (var i = 0; i < ii; i++) {\n\n    p[i] && (pfirst = p[i][0]); // save current path command\n\n    if (pfirst !== 'C') {\n      // C is not saved yet, because it may be result of conversion\n      pcoms1[i] = pfirst; // Save current path command\n      i && (pcom = pcoms1[i - 1]); // Get previous path command pcom\n    }\n    p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n    if (pcoms1[i] !== 'A' && pfirst === 'C') pcoms1[i] = 'C'; // A is the only command\n    // which may produce multiple C:s\n    // so we have to make sure that C is also C in original path\n\n    fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n\n    if (p2) {\n      // the same procedures is done to p2\n      p2[i] && (pfirst = p2[i][0]);\n      if (pfirst !== 'C') {\n        pcoms2[i] = pfirst;\n        i && (pcom = pcoms2[i - 1]);\n      }\n      p2[i] = processPath(p2[i], attrs2, pcom);\n\n      if (pcoms2[i] !== 'A' && pfirst === 'C') {\n        pcoms2[i] = 'C';\n      }\n\n      fixArc(p2, i);\n    }\n    fixM(p, p2, attrs, attrs2, i);\n    fixM(p2, p, attrs2, attrs, i);\n    var seg = p[i];\n    var seg2 = p2 && p2[i];\n    var seglen = seg.length;\n    var seg2len = p2 && seg2.length;\n    attrs.x = seg[seglen - 2];\n    attrs.y = seg[seglen - 1];\n    attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n    attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n    attrs2.bx = p2 && (parseFloat(seg2[seg2len - 4]) || attrs2.x);\n    attrs2.by = p2 && (parseFloat(seg2[seg2len - 3]) || attrs2.y);\n    attrs2.x = p2 && seg2[seg2len - 2];\n    attrs2.y = p2 && seg2[seg2len - 1];\n  }\n\n  return p2 ? [p, p2] : p;\n};\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar parsePathString = __webpack_require__(31);\nvar catmullRom2bezier = __webpack_require__(32);\n\nfunction ellipsePath(x, y, rx, ry, a) {\n  var res = [];\n  if (a === null && ry === null) {\n    ry = rx;\n  }\n  x = +x;\n  y = +y;\n  rx = +rx;\n  ry = +ry;\n  if (a !== null) {\n    var rad = Math.PI / 180;\n    var x1 = x + rx * Math.cos(-ry * rad);\n    var x2 = x + rx * Math.cos(-a * rad);\n    var y1 = y + rx * Math.sin(-ry * rad);\n    var y2 = y + rx * Math.sin(-a * rad);\n    res = [['M', x1, y1], ['A', rx, rx, 0, +(a - ry > 180), 0, x2, y2]];\n  } else {\n    res = [['M', x, y], ['m', 0, -ry], ['a', rx, ry, 0, 1, 1, 0, 2 * ry], ['a', rx, ry, 0, 1, 1, 0, -2 * ry], ['z']];\n  }\n  return res;\n}\n\nmodule.exports = function pathToAbsolute(pathArray) {\n  pathArray = parsePathString(pathArray);\n\n  if (!pathArray || !pathArray.length) {\n    return [['M', 0, 0]];\n  }\n  var res = [];\n  var x = 0;\n  var y = 0;\n  var mx = 0;\n  var my = 0;\n  var start = 0;\n  var pa0 = void 0;\n  var dots = void 0;\n  if (pathArray[0][0] === 'M') {\n    x = +pathArray[0][1];\n    y = +pathArray[0][2];\n    mx = x;\n    my = y;\n    start++;\n    res[0] = ['M', x, y];\n  }\n  var crz = pathArray.length === 3 && pathArray[0][0] === 'M' && pathArray[1][0].toUpperCase() === 'R' && pathArray[2][0].toUpperCase() === 'Z';\n  for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n    res.push(r = []);\n    pa = pathArray[i];\n    pa0 = pa[0];\n    if (pa0 !== pa0.toUpperCase()) {\n      r[0] = pa0.toUpperCase();\n      switch (r[0]) {\n        case 'A':\n          r[1] = pa[1];\n          r[2] = pa[2];\n          r[3] = pa[3];\n          r[4] = pa[4];\n          r[5] = pa[5];\n          r[6] = +pa[6] + x;\n          r[7] = +pa[7] + y;\n          break;\n        case 'V':\n          r[1] = +pa[1] + y;\n          break;\n        case 'H':\n          r[1] = +pa[1] + x;\n          break;\n        case 'R':\n          dots = [x, y].concat(pa.slice(1));\n          for (var j = 2, jj = dots.length; j < jj; j++) {\n            dots[j] = +dots[j] + x;\n            dots[++j] = +dots[j] + y;\n          }\n          res.pop();\n          res = res.concat(catmullRom2bezier(dots, crz));\n          break;\n        case 'O':\n          res.pop();\n          dots = ellipsePath(x, y, pa[1], pa[2]);\n          dots.push(dots[0]);\n          res = res.concat(dots);\n          break;\n        case 'U':\n          res.pop();\n          res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n          r = ['U'].concat(res[res.length - 1].slice(-2));\n          break;\n        case 'M':\n          mx = +pa[1] + x;\n          my = +pa[2] + y;\n          break; // for lint\n        default:\n          for (var _j = 1, _jj = pa.length; _j < _jj; _j++) {\n            r[_j] = +pa[_j] + (_j % 2 ? x : y);\n          }\n      }\n    } else if (pa0 === 'R') {\n      dots = [x, y].concat(pa.slice(1));\n      res.pop();\n      res = res.concat(catmullRom2bezier(dots, crz));\n      r = ['R'].concat(pa.slice(-2));\n    } else if (pa0 === 'O') {\n      res.pop();\n      dots = ellipsePath(x, y, pa[1], pa[2]);\n      dots.push(dots[0]);\n      res = res.concat(dots);\n    } else if (pa0 === 'U') {\n      res.pop();\n      res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n      r = ['U'].concat(res[res.length - 1].slice(-2));\n    } else {\n      for (var k = 0, kk = pa.length; k < kk; k++) {\n        r[k] = pa[k];\n      }\n    }\n    pa0 = pa0.toUpperCase();\n    if (pa0 !== 'O') {\n      switch (r[0]) {\n        case 'Z':\n          x = +mx;\n          y = +my;\n          break;\n        case 'H':\n          x = r[1];\n          break;\n        case 'V':\n          y = r[1];\n          break;\n        case 'M':\n          mx = r[r.length - 2];\n          my = r[r.length - 1];\n          break; // for lint\n        default:\n          x = r[r.length - 2];\n          y = r[r.length - 1];\n      }\n    }\n  }\n\n  return res;\n};\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar SPACES = '\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029';\nvar PATH_COMMAND = new RegExp('([a-z])[' + SPACES + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + SPACES + ']*,?[' + SPACES + ']*)+)', 'ig');\nvar PATH_VALUES = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + SPACES + ']*,?[' + SPACES + ']*', 'ig');\n\n// Parses given path string into an array of arrays of path segments\nmodule.exports = function parsePathString(pathString) {\n  if (!pathString) {\n    return null;\n  }\n\n  if ((typeof pathString === 'undefined' ? 'undefined' : _typeof(pathString)) === _typeof([])) {\n    return pathString;\n  }\n  var paramCounts = {\n    a: 7,\n    c: 6,\n    o: 2,\n    h: 1,\n    l: 2,\n    m: 2,\n    r: 4,\n    q: 4,\n    s: 4,\n    t: 2,\n    v: 1,\n    u: 3,\n    z: 0\n  };\n  var data = [];\n\n  String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n    var params = [];\n    var name = b.toLowerCase();\n    c.replace(PATH_VALUES, function (a, b) {\n      b && params.push(+b);\n    });\n    if (name === 'm' && params.length > 2) {\n      data.push([b].concat(params.splice(0, 2)));\n      name = 'l';\n      b = b === 'm' ? 'l' : 'L';\n    }\n    if (name === 'o' && params.length === 1) {\n      data.push([b, params[0]]);\n    }\n    if (name === 'r') {\n      data.push([b].concat(params));\n    } else {\n      while (params.length >= paramCounts[name]) {\n        data.push([b].concat(params.splice(0, paramCounts[name])));\n        if (!paramCounts[name]) {\n          break;\n        }\n      }\n    }\n  });\n\n  return data;\n};\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports) {\n\n// http://schepers.cc/getting-to-the-point\nmodule.exports = function catmullRom2bezier(crp, z) {\n  var d = [];\n  for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n    var p = [{\n      x: +crp[i - 2],\n      y: +crp[i - 1]\n    }, {\n      x: +crp[i],\n      y: +crp[i + 1]\n    }, {\n      x: +crp[i + 2],\n      y: +crp[i + 3]\n    }, {\n      x: +crp[i + 4],\n      y: +crp[i + 5]\n    }];\n    if (z) {\n      if (!i) {\n        p[0] = {\n          x: +crp[iLen - 2],\n          y: +crp[iLen - 1]\n        };\n      } else if (iLen - 4 === i) {\n        p[3] = {\n          x: +crp[0],\n          y: +crp[1]\n        };\n      } else if (iLen - 2 === i) {\n        p[2] = {\n          x: +crp[0],\n          y: +crp[1]\n        };\n        p[3] = {\n          x: +crp[2],\n          y: +crp[3]\n        };\n      }\n    } else {\n      if (iLen - 4 === i) {\n        p[3] = p[2];\n      } else if (!i) {\n        p[0] = {\n          x: +crp[i],\n          y: +crp[i + 1]\n        };\n      }\n    }\n    d.push(['C', (-p[0].x + 6 * p[1].x + p[2].x) / 6, (-p[0].y + 6 * p[1].y + p[2].y) / 6, (p[1].x + 6 * p[2].x - p[3].x) / 6, (p[1].y + 6 * p[2].y - p[3].y) / 6, p[2].x, p[2].y]);\n  }\n\n  return d;\n};\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toString = __webpack_require__(8);\n\nvar lowerCase = function lowerCase(str) {\n  return toString(str).toLowerCase();\n};\n\nmodule.exports = lowerCase;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toString = __webpack_require__(8);\n\nvar upperCase = function upperCase(str) {\n  return toString(str).toUpperCase();\n};\n\nmodule.exports = upperCase;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nvar getType = function getType(value) {\n  return toString.call(value).replace(/^\\[object /, '').replace(/\\]$/, '');\n};\n\nmodule.exports = getType;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports) {\n\nvar objectProto = Object.prototype;\nvar isPrototype = function isPrototype(value) {\n  var Ctor = value && value.constructor;\n  var proto = typeof Ctor === 'function' && Ctor.prototype || objectProto;\n  return value === proto;\n};\n\nmodule.exports = isPrototype;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isFunction = __webpack_require__(3);\nvar isArray = __webpack_require__(1);\nvar groupBy = __webpack_require__(38);\n\nvar groupToMap = function groupToMap(data, condition) {\n  if (!condition) {\n    return {\n      0: data\n    };\n  }\n  if (!isFunction(condition)) {\n    var paramsCondition = isArray(condition) ? condition : condition.replace(/\\s+/g, '').split('*');\n    condition = function condition(row) {\n      var unique = '_'; // 避免出现数字作为Key的情况，会进行按照数字的排序\n      for (var i = 0, l = paramsCondition.length; i < l; i++) {\n        unique += row[paramsCondition[i]] && row[paramsCondition[i]].toString();\n      }\n      return unique;\n    };\n  }\n  var groups = groupBy(data, condition);\n  return groups;\n};\n\nmodule.exports = groupToMap;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar each = __webpack_require__(0);\nvar isArray = __webpack_require__(1);\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar groupBy = function groupBy(data, condition) {\n  if (!condition || !isArray(data)) {\n    return data;\n  }\n  var result = {};\n  var key = null;\n  each(data, function (item) {\n    key = condition(item);\n    if (hasOwnProperty.call(result, key)) {\n      result[key].push(item);\n    } else {\n      result[key] = [item];\n    }\n  });\n  return result;\n};\n\nmodule.exports = groupBy;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isObjectLike = __webpack_require__(13);\nvar isArrayLike = __webpack_require__(4);\nvar isString = __webpack_require__(10);\n\nvar isEqual = function isEqual(value, other) {\n  if (value === other) {\n    return true;\n  }\n  if (!value || !other) {\n    return false;\n  }\n  if (isString(value) || isString(other)) {\n    return false;\n  }\n  if (isArrayLike(value) || isArrayLike(other)) {\n    if (value.length !== other.length) {\n      return false;\n    }\n    var rst = true;\n    for (var i = 0; i < value.length; i++) {\n      rst = isEqual(value[i], other[i]);\n      if (!rst) {\n        break;\n      }\n    }\n    return rst;\n  }\n  if (isObjectLike(value) || isObjectLike(other)) {\n    var valueKeys = Object.keys(value);\n    var otherKeys = Object.keys(other);\n    if (valueKeys.length !== otherKeys.length) {\n      return false;\n    }\n    var _rst = true;\n    for (var _i = 0; _i < valueKeys.length; _i++) {\n      _rst = isEqual(value[valueKeys[_i]], other[valueKeys[_i]]);\n      if (!_rst) {\n        break;\n      }\n    }\n    return _rst;\n  }\n  return false;\n};\n\nmodule.exports = isEqual;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar each = __webpack_require__(0);\nvar mix = __webpack_require__(11);\n\n// collections\nvar DOMUtil = __webpack_require__(41);\nvar arrayUtil = __webpack_require__(53);\nvar eventUtil = __webpack_require__(67);\nvar formatUtil = __webpack_require__(70);\nvar mathUtil = __webpack_require__(74);\nvar matrixUtil = __webpack_require__(88);\nvar objectUtil = __webpack_require__(95);\nvar pathUtil = __webpack_require__(99);\nvar stringUtil = __webpack_require__(105);\nvar typeUtil = __webpack_require__(111);\n\nvar util = {\n  // collections\n  DOMUtil: DOMUtil,\n  DomUtil: DOMUtil,\n  MatrixUtil: matrixUtil,\n  PathUtil: pathUtil,\n  arrayUtil: arrayUtil,\n  domUtil: DOMUtil,\n  eventUtil: eventUtil,\n  formatUtil: formatUtil,\n  mathUtil: mathUtil,\n  matrixUtil: matrixUtil,\n  objectUtil: objectUtil,\n  stringUtil: stringUtil,\n  pathUtil: pathUtil,\n  typeUtil: typeUtil,\n  // others\n  augment: __webpack_require__(119),\n  clone: __webpack_require__(24),\n  debounce: __webpack_require__(120),\n  deepMix: __webpack_require__(121),\n  each: each,\n  extend: __webpack_require__(122),\n  filter: __webpack_require__(12),\n  group: __webpack_require__(123),\n  groupBy: __webpack_require__(38),\n  groupToMap: __webpack_require__(37),\n  indexOf: __webpack_require__(124),\n  isEmpty: __webpack_require__(125),\n  isEqual: __webpack_require__(39),\n  isEqualWith: __webpack_require__(126),\n  map: __webpack_require__(127),\n  mix: mix,\n  pick: __webpack_require__(128),\n  throttle: __webpack_require__(129),\n  toArray: __webpack_require__(14),\n  toString: __webpack_require__(8),\n  uniqueId: __webpack_require__(130)\n};\n\neach([DOMUtil, arrayUtil, eventUtil, formatUtil, mathUtil, matrixUtil, objectUtil, pathUtil, stringUtil, typeUtil], function (collection) {\n  mix(util, collection);\n});\n\nmodule.exports = util;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n  addEventListener: __webpack_require__(42),\n  createDom: __webpack_require__(43),\n  getBoundingClientRect: __webpack_require__(44),\n  getHeight: __webpack_require__(45),\n  getOuterHeight: __webpack_require__(46),\n  getOuterWidth: __webpack_require__(47),\n  getRatio: __webpack_require__(48),\n  getStyle: __webpack_require__(49),\n  getWidth: __webpack_require__(50),\n  modifyCSS: __webpack_require__(51),\n  requestAnimationFrame: __webpack_require__(52)\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports) {\n\n/**\n * 添加事件监听器\n * @param  {Object} target DOM对象\n * @param  {String} eventType 事件名\n * @param  {Funtion} callback 回调函数\n * @return {Object} 返回对象\n */\nmodule.exports = function addEventListener(target, eventType, callback) {\n  if (target) {\n    if (target.addEventListener) {\n      target.addEventListener(eventType, callback, false);\n      return {\n        remove: function remove() {\n          target.removeEventListener(eventType, callback, false);\n        }\n      };\n    } else if (target.attachEvent) {\n      target.attachEvent('on' + eventType, callback);\n      return {\n        remove: function remove() {\n          target.detachEvent('on' + eventType, callback);\n        }\n      };\n    }\n  }\n};\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports) {\n\n/**\n * 创建DOM 节点\n * @param  {String} str Dom 字符串\n * @return {HTMLElement}  DOM 节点\n */\nvar TABLE = document.createElement('table');\nvar TABLE_TR = document.createElement('tr');\nvar FRAGMENT_REG = /^\\s*<(\\w+|!)[^>]*>/;\nvar CONTAINERS = {\n  tr: document.createElement('tbody'),\n  tbody: TABLE,\n  thead: TABLE,\n  tfoot: TABLE,\n  td: TABLE_TR,\n  th: TABLE_TR,\n  '*': document.createElement('div')\n};\n\nmodule.exports = function createDom(str) {\n  var name = FRAGMENT_REG.test(str) && RegExp.$1;\n  if (!(name in CONTAINERS)) {\n    name = '*';\n  }\n  var container = CONTAINERS[name];\n  str = str.replace(/(^\\s*)|(\\s*$)/g, '');\n  container.innerHTML = '' + str;\n  var dom = container.childNodes[0];\n  container.removeChild(dom);\n  return dom;\n};\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\n\nmodule.exports = function getBoundingClientRect(node, defaultValue) {\n  if (node && node.getBoundingClientRect) {\n    var rect = node.getBoundingClientRect();\n    var top = document.documentElement.clientTop;\n    var left = document.documentElement.clientLeft;\n    return {\n      top: rect.top - top,\n      bottom: rect.bottom - top,\n      left: rect.left - left,\n      right: rect.right - left\n    };\n  }\n  return defaultValue || null;\n};\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports) {\n\n/**\n * 获取高度\n * @param  {HTMLElement} el dom节点\n * @param  {Number} defaultValue 默认值\n * @return {Number} 高度\n */\nmodule.exports = function getHeight(el, defaultValue) {\n  var height = this.getStyle(el, 'height', defaultValue);\n  if (height === 'auto') {\n    height = el.offsetHeight;\n  }\n  return parseFloat(height);\n};\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports) {\n\n/**\n * 获取外层高度\n * @param  {HTMLElement} el dom节点\n * @param  {Number} defaultValue 默认值\n * @return {Number} 高度\n */\nmodule.exports = function getOuterHeight(el, defaultValue) {\n  var height = this.getHeight(el, defaultValue);\n  var bTop = parseFloat(this.getStyle(el, 'borderTopWidth')) || 0;\n  var pTop = parseFloat(this.getStyle(el, 'paddingTop')) || 0;\n  var pBottom = parseFloat(this.getStyle(el, 'paddingBottom')) || 0;\n  var bBottom = parseFloat(this.getStyle(el, 'borderBottomWidth')) || 0;\n  return height + bTop + bBottom + pTop + pBottom;\n};\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports) {\n\n/**\n * 获取外层宽度\n * @param  {HTMLElement} el dom节点\n * @param  {Number} defaultValue 默认值\n * @return {Number} 宽度\n */\nmodule.exports = function getOuterWidth(el, defaultValue) {\n  var width = this.getWidth(el, defaultValue);\n  var bLeft = parseFloat(this.getStyle(el, 'borderLeftWidth')) || 0;\n  var pLeft = parseFloat(this.getStyle(el, 'paddingLeft')) || 0;\n  var pRight = parseFloat(this.getStyle(el, 'paddingRight')) || 0;\n  var bRight = parseFloat(this.getStyle(el, 'borderRightWidth')) || 0;\n  return width + bLeft + bRight + pLeft + pRight;\n};\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports) {\n\n\nmodule.exports = function getRatio() {\n  return window.devicePixelRatio ? window.devicePixelRatio : 2;\n};\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isNil = __webpack_require__(5);\n\n/**\n * 获取样式\n * @param  {Object} dom DOM节点\n * @param  {String} name 样式名\n * @param  {Any} defaultValue 默认值\n * @return {String} 属性值\n */\nmodule.exports = function getStyle(dom, name, defaultValue) {\n  try {\n    if (window.getComputedStyle) {\n      return window.getComputedStyle(dom, null)[name];\n    }\n    return dom.currentStyle[name];\n  } catch (e) {\n    if (!isNil(defaultValue)) {\n      return defaultValue;\n    }\n    return null;\n  }\n};\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports) {\n\n/**\n * 获取宽度\n * @param  {HTMLElement} el  dom节点\n * @param  {Number} defaultValue 默认值\n * @return {Number} 宽度\n */\nmodule.exports = function getWidth(el, defaultValue) {\n  var width = this.getStyle(el, 'width', defaultValue);\n  if (width === 'auto') {\n    width = el.offsetWidth;\n  }\n  return parseFloat(width);\n};\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n\nmodule.exports = function modifyCSS(dom, css) {\n  if (dom) {\n    for (var key in css) {\n      if (css.hasOwnProperty(key)) {\n        dom.style[key] = css[key];\n      }\n    }\n  }\n  return dom;\n};\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\n\nmodule.exports = function requestAnimationFrame(fn) {\n  var method = window.requestAnimationFrame || window.webkitRequestAnimationFrame || function (fn) {\n    return setTimeout(fn, 16);\n  };\n\n  return method(fn);\n};\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n  contains: __webpack_require__(9),\n  difference: __webpack_require__(54),\n  find: __webpack_require__(55),\n  firstValue: __webpack_require__(56),\n  flatten: __webpack_require__(57),\n  flattenDeep: __webpack_require__(58),\n  getRange: __webpack_require__(59),\n  merge: __webpack_require__(60),\n  pull: __webpack_require__(61),\n  pullAt: __webpack_require__(19),\n  reduce: __webpack_require__(62),\n  remove: __webpack_require__(63),\n  sortBy: __webpack_require__(64),\n  union: __webpack_require__(65),\n  uniq: __webpack_require__(20),\n  valuesOfKey: __webpack_require__(66)\n};\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar filter = __webpack_require__(12);\nvar contains = __webpack_require__(9);\n\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to inspect.\n * @param {Array} values The values to exclude.\n * @return {Array} Returns the new array of filtered values.\n * @example\n * difference([2, 1], [2, 3]);  // => [1]\n */\nvar difference = function difference(arr) {\n  var values = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  return filter(arr, function (value) {\n    return !contains(values, value);\n  });\n};\n\nmodule.exports = difference;\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isFunction = __webpack_require__(3);\nvar isPlainObject = __webpack_require__(7);\nvar isMatch = __webpack_require__(17);\n\nfunction find(arr, predicate) {\n  var _predicate = void 0;\n  if (isFunction(predicate)) {\n    _predicate = predicate;\n  }\n  if (isPlainObject(predicate)) {\n    _predicate = function _predicate(a) {\n      return isMatch(a, predicate);\n    };\n  }\n  if (_predicate) {\n    for (var i = 0; i < arr.length; i += 1) {\n      if (_predicate(arr[i])) {\n        return arr[i];\n      }\n    }\n  }\n  return null;\n}\n\nmodule.exports = find;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isNil = __webpack_require__(5);\nvar isArray = __webpack_require__(1);\n\nvar firstValue = function firstValue(data, name) {\n  var rst = null;\n  for (var i = 0; i < data.length; i++) {\n    var obj = data[i];\n    var value = obj[name];\n    if (!isNil(value)) {\n      if (isArray(value)) {\n        rst = value[0];\n      } else {\n        rst = value;\n      }\n      break;\n    }\n  }\n  return rst;\n};\n\nmodule.exports = firstValue;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArray = __webpack_require__(1);\nvar each = __webpack_require__(0);\n\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flatten([1, [2, [3, [4]], 5]]);  // => [1, 2, [3, [4]], 5]\n */\nvar flatten = function flatten(arr) {\n  if (!isArray(arr)) {\n    return arr;\n  }\n  var result = [];\n  each(arr, function (item) {\n    if (isArray(item)) {\n      each(item, function (subItem) {\n        result.push(subItem);\n      });\n    } else {\n      result.push(item);\n    }\n  });\n  return result;\n};\n\nmodule.exports = flatten;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArray = __webpack_require__(1);\n\n/**\n * Flattens `array` a single level deep.\n *\n * @param {Array} arr The array to flatten.\n * @param {Array} result The array to return.\n * @return {Array} Returns the new flattened array.\n * @example\n *\n * flattenDeep([1, [2, [3, [4]], 5]]);  // => [1, 2, 3, 4, 5]\n */\nvar flattenDeep = function flattenDeep(arr) {\n  var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!isArray(arr)) {\n    result.push(arr);\n  } else {\n    for (var i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], result);\n    }\n  }\n  return result;\n};\n\nmodule.exports = flattenDeep;\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar filter = __webpack_require__(12);\nvar isArray = __webpack_require__(1);\n\nvar getRange = function getRange(values) {\n  // 存在 NaN 时，min,max 判定会出问题\n  values = filter(values, function (v) {\n    return !isNaN(v);\n  });\n  if (!values.length) {\n    // 如果没有数值则直接返回0\n    return {\n      min: 0,\n      max: 0\n    };\n  }\n  if (isArray(values[0])) {\n    var tmp = [];\n    for (var i = 0; i < values.length; i++) {\n      tmp = tmp.concat(values[i]);\n    }\n    values = tmp;\n  }\n  var max = Math.max.apply(null, values);\n  var min = Math.min.apply(null, values);\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports = getRange;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports) {\n\nvar merge = function merge(dataArray) {\n  var rst = [];\n  for (var i = 0; i < dataArray.length; i++) {\n    rst = rst.concat(dataArray[i]);\n  }\n  return rst;\n};\n\nmodule.exports = merge;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports) {\n\nvar arrPrototype = Array.prototype;\nvar splice = arrPrototype.splice;\nvar indexOf = arrPrototype.indexOf;\nvar slice = arrPrototype.slice;\n\nvar pull = function pull(arr) {\n  var values = slice.call(arguments, 1);\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var fromIndex = -1;\n    while ((fromIndex = indexOf.call(arr, value)) > -1) {\n      splice.call(arr, fromIndex, 1);\n    }\n  }\n  return arr;\n};\n\nmodule.exports = pull;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArray = __webpack_require__(1);\nvar isPlainObject = __webpack_require__(7);\nvar each = __webpack_require__(0);\n\nvar reduce = function reduce(arr, fn, init) {\n  if (!isArray(arr) && !isPlainObject(arr)) {\n    return arr;\n  }\n  var result = init;\n  each(arr, function (data, i) {\n    result = fn(result, data, i);\n  });\n  return result;\n};\n\nmodule.exports = reduce;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArrayLike = __webpack_require__(4);\nvar pullAt = __webpack_require__(19);\n\nvar remove = function remove(arr, predicate) {\n  /**\n   * const arr = [1, 2, 3, 4]\n   * const evens = remove(arr, n => n % 2 == 0)\n   * console.log(arr) // => [1, 3]\n   * console.log(evens) // => [2, 4]\n   */\n  var result = [];\n  if (!isArrayLike(arr)) {\n    return result;\n  }\n  var i = -1;\n  var indexes = [];\n  var length = arr.length;\n\n  while (++i < length) {\n    var value = arr[i];\n    if (predicate(value, i, arr)) {\n      result.push(value);\n      indexes.push(i);\n    }\n  }\n  pullAt(arr, indexes);\n  return result;\n};\n\nmodule.exports = remove;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isString = __webpack_require__(10);\nvar isFunction = __webpack_require__(3);\nvar isArray = __webpack_require__(1);\n\nfunction sortBy(arr, key) {\n  var comparer = void 0;\n  if (isFunction(key)) {\n    comparer = function comparer(a, b) {\n      return key(a) - key(b);\n    };\n  } else {\n    var keys = [];\n    if (isString(key)) {\n      keys.push(key);\n    } else if (isArray(key)) {\n      keys = key;\n    }\n    comparer = function comparer(a, b) {\n      for (var i = 0; i < keys.length; i += 1) {\n        var prop = keys[i];\n        if (a[prop] > b[prop]) {\n          return 1;\n        }\n        if (a[prop] < b[prop]) {\n          return -1;\n        }\n      }\n      return 0;\n    };\n  }\n\n  arr.sort(comparer);\n  return arr;\n}\n\nmodule.exports = sortBy;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar each = __webpack_require__(0);\nvar toArray = __webpack_require__(14);\nvar uniq = __webpack_require__(20);\n\nvar union = function union() {\n  var result = [];\n  var sources = toArray(arguments);\n  each(sources, function (arr) {\n    result = result.concat(arr);\n  });\n  return uniq(result);\n};\n\nmodule.exports = union;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isNil = __webpack_require__(5);\nvar isArray = __webpack_require__(1);\nvar each = __webpack_require__(0);\n\nmodule.exports = function valuesOfKey(data, name) {\n  var rst = [];\n  var tmpMap = {};\n  for (var i = 0; i < data.length; i++) {\n    var obj = data[i];\n    var value = obj[name];\n    if (!isNil(value)) {\n      if (!isArray(value)) {\n        value = [value];\n      }\n      each(value, function (val) {\n        if (!tmpMap[val]) {\n          rst.push(val);\n          tmpMap[val] = true;\n        }\n      });\n    }\n  }\n  return rst;\n};\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nmodule.exports = {\n  getWrapBehavior: __webpack_require__(68),\n  wrapBehavior: __webpack_require__(69)\n};\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports) {\n\n/**\n * 获取封装的事件\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction getWrapBehavior(obj, action) {\n  return obj['_wrap_' + action];\n}\n\nmodule.exports = getWrapBehavior;\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports) {\n\n/**\n * 封装事件，便于使用上下文this,和便于解除事件时使用\n * @protected\n * @param  {Object} obj   对象\n * @param  {String} action 事件名称\n * @return {Function}        返回事件处理函数\n */\nfunction wrapBehavior(obj, action) {\n  if (obj['_wrap_' + action]) {\n    return obj['_wrap_' + action];\n  }\n  var method = function method(e) {\n    obj[action](e);\n  };\n  obj['_wrap_' + action] = method;\n  return method;\n}\n\nmodule.exports = wrapBehavior;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar number2color = __webpack_require__(71);\n\nmodule.exports = {\n  number2color: number2color,\n  numberToColor: number2color,\n  parsePath: __webpack_require__(72),\n  parseRadius: __webpack_require__(73)\n};\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports) {\n\nvar numColorCache = {};\n\nmodule.exports = function numberToColor(num) {\n  // 增加缓存\n  var color = numColorCache[num];\n  if (!color) {\n    var str = num.toString(16);\n    for (var i = str.length; i < 6; i++) {\n      str = '0' + str;\n    }\n    color = '#' + str;\n    numColorCache[num] = color;\n  }\n  return color;\n};\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArray = __webpack_require__(1);\nvar isString = __webpack_require__(10);\nvar each = __webpack_require__(0);\n\nvar regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig;\nvar regexDot = /[^\\s\\,]+/ig;\n\nmodule.exports = function parsePath(path) {\n  path = path || [];\n  if (isArray(path)) {\n    return path;\n  }\n\n  if (isString(path)) {\n    path = path.match(regexTags);\n    each(path, function (item, index) {\n      item = item.match(regexDot);\n      if (item[0].length > 1) {\n        var tag = item[0].charAt(0);\n        item.splice(1, 0, item[0].substr(1));\n        item[0] = tag;\n      }\n      each(item, function (sub, i) {\n        if (!isNaN(sub)) {\n          item[i] = +sub;\n        }\n      });\n      path[index] = item;\n    });\n    return path;\n  }\n};\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArray = __webpack_require__(1);\n\nmodule.exports = function parseRadius(radius) {\n  var r1 = 0,\n      r2 = 0,\n      r3 = 0,\n      r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n  return {\n    r1: r1,\n    r2: r2,\n    r3: r3,\n    r4: r4\n  };\n};\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isNumberEqual = __webpack_require__(75);\n\nmodule.exports = {\n  clamp: __webpack_require__(21),\n  fixedBase: __webpack_require__(76),\n  isDecimal: __webpack_require__(77),\n  isEven: __webpack_require__(78),\n  isInteger: __webpack_require__(79),\n  isNegative: __webpack_require__(80),\n  isNumberEqual: isNumberEqual,\n  isOdd: __webpack_require__(81),\n  isPositive: __webpack_require__(82),\n  maxBy: __webpack_require__(83),\n  minBy: __webpack_require__(84),\n  mod: __webpack_require__(85),\n  snapEqual: isNumberEqual,\n  toDegree: __webpack_require__(86),\n  toInt: __webpack_require__(22),\n  toInteger: __webpack_require__(22),\n  toRadian: __webpack_require__(87)\n};\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports) {\n\nvar PRECISION = 0.00001; // numbers less than this is considered as 0\n\nmodule.exports = function isNumberEqual(a, b) {\n  var precision = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : PRECISION;\n\n  return Math.abs(a - b) < precision;\n};\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports) {\n\nvar fixedBase = function fixedBase(v, base) {\n  var str = base.toString();\n  var index = str.indexOf('.');\n  if (index === -1) {\n    return Math.round(v);\n  }\n  var length = str.substr(index + 1).length;\n  if (length > 20) {\n    length = 20;\n  }\n  return parseFloat(v.toFixed(length));\n};\n\nmodule.exports = fixedBase;\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isNumber = __webpack_require__(6);\n\nvar isDecimal = function isDecimal(num) {\n  return isNumber(num) && num % 1 !== 0;\n};\n\nmodule.exports = isDecimal;\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isNumber = __webpack_require__(6);\n\nvar isEven = function isEven(num) {\n  return isNumber(num) && num % 2 === 0;\n};\n\nmodule.exports = isEven;\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isNumber = __webpack_require__(6);\n\nvar isInteger = Number.isInteger ? Number.isInteger : function (num) {\n  return isNumber(num) && num % 1 === 0;\n};\n\nmodule.exports = isInteger;\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isNumber = __webpack_require__(6);\n\nvar isNagative = function isNagative(num) {\n  return isNumber(num) && num < 0;\n};\n\nmodule.exports = isNagative;\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isNumber = __webpack_require__(6);\n\nvar isOdd = function isOdd(num) {\n  return isNumber(num) && num % 2 !== 0;\n};\n\nmodule.exports = isOdd;\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isNumber = __webpack_require__(6);\n\nvar isPositive = function isPositive(num) {\n  return isNumber(num) && num > 0;\n};\n\nmodule.exports = isPositive;\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArray = __webpack_require__(1);\nvar isFunction = __webpack_require__(3);\nvar each = __webpack_require__(0);\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nvar maxBy = function maxBy(arr, fn) {\n  if (!isArray(arr)) {\n    return undefined;\n  }\n  var max = arr[0];\n  var maxData = void 0;\n  if (isFunction(fn)) {\n    maxData = fn(arr[0]);\n  } else {\n    maxData = arr[0][fn];\n  }\n  var data = void 0;\n  each(arr, function (val) {\n    if (isFunction(fn)) {\n      data = fn(val);\n    } else {\n      data = val[fn];\n    }\n    if (data > maxData) {\n      max = val;\n      maxData = data;\n    }\n  });\n  return max;\n};\n\nmodule.exports = maxBy;\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArray = __webpack_require__(1);\nvar isFunction = __webpack_require__(3);\nvar each = __webpack_require__(0);\n/**\n * @param {Array} arr The array to iterate over.\n * @param {Function} [fn] The iteratee invoked per element.\n * @return {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nvar minBy = function minBy(arr, fn) {\n  if (!isArray(arr)) {\n    return undefined;\n  }\n  var min = arr[0];\n  var minData = void 0;\n  if (isFunction(fn)) {\n    minData = fn(arr[0]);\n  } else {\n    minData = arr[0][fn];\n  }\n  var data = void 0;\n  each(arr, function (val) {\n    if (isFunction(fn)) {\n      data = fn(val);\n    } else {\n      data = val[fn];\n    }\n    if (data < minData) {\n      min = val;\n      minData = data;\n    }\n  });\n  return min;\n};\n\nmodule.exports = minBy;\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports) {\n\nvar mod = function mod(n, m) {\n  return (n % m + m) % m;\n};\n\nmodule.exports = mod;\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports) {\n\nvar DEGREE = 180 / Math.PI;\n\nvar toDegree = function toDegree(radian) {\n  return DEGREE * radian;\n};\n\nmodule.exports = toDegree;\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports) {\n\nvar RADIAN = Math.PI / 180;\n\nvar toRadian = function toRadian(degree) {\n  return RADIAN * degree;\n};\n\nmodule.exports = toRadian;\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nmodule.exports = {\n  mat3: __webpack_require__(23),\n  vec2: __webpack_require__(90),\n  vec3: __webpack_require__(92),\n  transform: __webpack_require__(94)\n};\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sub = exports.mul = undefined;\nexports.create = create;\nexports.fromMat4 = fromMat4;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromMat2d = fromMat2d;\nexports.fromQuat = fromQuat;\nexports.normalFromMat4 = normalFromMat4;\nexports.projection = projection;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = __webpack_require__(15);\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }newObj.default = obj;return newObj;\n  }\n}\n\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20;\n\n  // Calculate the determinant\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nfunction translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nfunction rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n};\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat3} out\n */\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat3} out\n */\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n\n  return out;\n}\n\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n  return out;\n}\n\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nfunction str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nfunction frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2));\n}\n\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar vec2 = __webpack_require__(91);\nvar clamp = __webpack_require__(21);\n\nvec2.angle = function (v1, v2) {\n  var theta = vec2.dot(v1, v2) / (vec2.length(v1) * vec2.length(v2));\n  return Math.acos(clamp(theta, -1, 1));\n};\n/**\n * 向量 v1 到 向量 v2 夹角的方向\n * @param  {Array} v1 向量\n * @param  {Array} v2 向量\n * @return {Boolean} >= 0 顺时针 < 0 逆时针\n */\nvec2.direction = function (v1, v2) {\n  return v1[0] * v2[1] - v2[0] * v1[1];\n};\nvec2.angleTo = function (v1, v2, direct) {\n  var angle = vec2.angle(v1, v2);\n  var angleLargeThanPI = vec2.direction(v1, v2) >= 0;\n  if (direct) {\n    if (angleLargeThanPI) {\n      return Math.PI * 2 - angle;\n    }\n\n    return angle;\n  }\n\n  if (angleLargeThanPI) {\n    return angle;\n  }\n  return Math.PI * 2 - angle;\n};\nvec2.vertical = function (out, v, flag) {\n  if (flag) {\n    out[0] = v[1];\n    out[1] = -1 * v[0];\n  } else {\n    out[0] = -1 * v[1];\n    out[1] = v[0];\n  }\n\n  return out;\n};\n\nmodule.exports = vec2;\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = exports.len = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat2 = transformMat2;\nexports.transformMat2d = transformMat2d;\nexports.transformMat3 = transformMat3;\nexports.transformMat4 = transformMat4;\nexports.rotate = rotate;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = __webpack_require__(15);\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }newObj.default = obj;return newObj;\n  }\n}\n\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n  return out;\n}\n\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\nfunction fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to ceil\n * @returns {vec2} out\n */\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to floor\n * @returns {vec2} out\n */\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to round\n * @returns {vec2} out\n */\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.sqrt(x * x + y * y);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.sqrt(x * x + y * y);\n}\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {vec2} a The vec2 point to rotate\n * @param {vec2} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec2} out\n */\nfunction rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c);\n\n  //perform rotation and translate to correct position\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n\n  return out;\n}\n\n/**\n * Get the angle between two 2D vectors\n * @param {vec2} a The first operand\n * @param {vec2} b The second operand\n * @returns {Number} The angle in radians\n */\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n\n  var len1 = x1 * x1 + y1 * y1;\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nfunction str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n\n/**\n * Alias for {@link vec2.length}\n * @function\n */\nvar len = exports.len = length;\n\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;\n\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\nvar div = exports.div = divide;\n\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\nvar dist = exports.dist = distance;\n\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\nvar sqrDist = exports.sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\nvar sqrLen = exports.sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvar forEach = exports.forEach = function () {\n  var vec = create();\n\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar vec3 = __webpack_require__(93);\n\nmodule.exports = vec3;\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.length = length;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.hermite = hermite;\nexports.bezier = bezier;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformMat3 = transformMat3;\nexports.transformQuat = transformQuat;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = __webpack_require__(15);\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }newObj.default = obj;return newObj;\n  }\n}\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n  return out;\n}\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\nfunction fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to ceil\n * @returns {vec3} out\n */\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to floor\n * @returns {vec3} out\n */\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to round\n * @returns {vec3} out\n */\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\nfunction random(out, scale) {\n  scale = scale || 1.0;\n\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x;\n  // var uuv = vec3.cross([], qvec, uv);\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx;\n  // vec3.scale(uv, uv, 2 * w);\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2;\n  // vec3.scale(uuv, uuv, 2);\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2;\n  // return vec3.add(out, a, vec3.add(out, uv, uuv));\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateX(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateY(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateZ(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2];\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nfunction angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nfunction str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;\n\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\nvar div = exports.div = divide;\n\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\nvar dist = exports.dist = distance;\n\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\nvar sqrDist = exports.sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec3.length}\n * @function\n */\nvar len = exports.len = length;\n\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\nvar sqrLen = exports.sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvar forEach = exports.forEach = function () {\n  var vec = create();\n\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];vec[1] = a[i + 1];vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];a[i + 1] = vec[1];a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar clone = __webpack_require__(24);\nvar each = __webpack_require__(0);\nvar mat3 = __webpack_require__(23);\n\nmodule.exports = function transform(m, ts) {\n  m = clone(m);\n  each(ts, function (t) {\n    switch (t[0]) {\n      case 't':\n        mat3.translate(m, m, [t[1], t[2]]);\n        break;\n      case 's':\n        mat3.scale(m, m, [t[1], t[2]]);\n        break;\n      case 'r':\n        mat3.rotate(m, m, t[1]);\n        break;\n      case 'm':\n        mat3.multiply(m, m, t[1]);\n        break;\n      default:\n        return false;\n    }\n  });\n  return m;\n};\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n  forIn: __webpack_require__(96),\n  has: __webpack_require__(25),\n  hasKey: __webpack_require__(97),\n  hasValue: __webpack_require__(98),\n  keys: __webpack_require__(18),\n  isMatch: __webpack_require__(17),\n  values: __webpack_require__(26)\n};\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(0);\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nmodule.exports = __webpack_require__(25);\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar contains = __webpack_require__(9);\nvar values = __webpack_require__(26);\n\nmodule.exports = function (obj, value) {\n  return contains(values(obj), value);\n};\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar pathIntersection = __webpack_require__(100);\nvar path2absolute = __webpack_require__(30);\nvar path2curve = __webpack_require__(29);\nvar catmullRom2Bezier = __webpack_require__(32);\n\nmodule.exports = {\n  catmullRom2Bezier: catmullRom2Bezier,\n  catmullRomToBezier: catmullRom2Bezier,\n  fillPath: __webpack_require__(101),\n  fillPathByDiff: __webpack_require__(102),\n  formatPath: __webpack_require__(104),\n  intersection: pathIntersection,\n  pathIntersection: pathIntersection,\n  parsePathArray: __webpack_require__(28),\n  parsePathString: __webpack_require__(31),\n  pathToAbsolute: path2absolute,\n  path2absolute: path2absolute,\n  pathTocurve: path2curve,\n  path2curve: path2curve,\n  rectPath: __webpack_require__(27)\n};\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArray = __webpack_require__(1);\nvar rectPath = __webpack_require__(27);\nvar pathTocurve = __webpack_require__(29);\n\nvar base3 = function base3(t, p1, p2, p3, p4) {\n  var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4;\n  var t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n  return t * t2 - 3 * p1 + 3 * p2;\n};\n\nvar bezlen = function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n  if (z === null) {\n    z = 1;\n  }\n  z = z > 1 ? 1 : z < 0 ? 0 : z;\n  var z2 = z / 2;\n  var n = 12;\n  var Tvalues = [-0.1252, 0.1252, -0.3678, 0.3678, -0.5873, 0.5873, -0.7699, 0.7699, -0.9041, 0.9041, -0.9816, 0.9816];\n  var Cvalues = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472];\n  var sum = 0;\n  for (var i = 0; i < n; i++) {\n    var ct = z2 * Tvalues[i] + z2;\n    var xbase = base3(ct, x1, x2, x3, x4);\n    var ybase = base3(ct, y1, y2, y3, y4);\n    var comb = xbase * xbase + ybase * ybase;\n    sum += Cvalues[i] * Math.sqrt(comb);\n  }\n  return z2 * sum;\n};\n\nvar curveDim = function curveDim(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var tvalues = [];\n  var bounds = [[], []];\n  var a = void 0;\n  var b = void 0;\n  var c = void 0;\n  var t = void 0;\n\n  for (var i = 0; i < 2; ++i) {\n    if (i === 0) {\n      b = 6 * x0 - 12 * x1 + 6 * x2;\n      a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n      c = 3 * x1 - 3 * x0;\n    } else {\n      b = 6 * y0 - 12 * y1 + 6 * y2;\n      a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n      c = 3 * y1 - 3 * y0;\n    }\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) < 1e-12) {\n        continue;\n      }\n      t = -c / b;\n      if (t > 0 && t < 1) {\n        tvalues.push(t);\n      }\n      continue;\n    }\n    var b2ac = b * b - 4 * c * a;\n    var sqrtb2ac = Math.sqrt(b2ac);\n    if (b2ac < 0) {\n      continue;\n    }\n    var t1 = (-b + sqrtb2ac) / (2 * a);\n    if (t1 > 0 && t1 < 1) {\n      tvalues.push(t1);\n    }\n    var t2 = (-b - sqrtb2ac) / (2 * a);\n    if (t2 > 0 && t2 < 1) {\n      tvalues.push(t2);\n    }\n  }\n\n  var j = tvalues.length;\n  var jlen = j;\n  var mt = void 0;\n  while (j--) {\n    t = tvalues[j];\n    mt = 1 - t;\n    bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n    bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n  }\n\n  bounds[0][jlen] = x0;\n  bounds[1][jlen] = y0;\n  bounds[0][jlen + 1] = x3;\n  bounds[1][jlen + 1] = y3;\n  bounds[0].length = bounds[1].length = jlen + 2;\n\n  return {\n    min: {\n      x: Math.min.apply(0, bounds[0]),\n      y: Math.min.apply(0, bounds[1])\n    },\n    max: {\n      x: Math.max.apply(0, bounds[0]),\n      y: Math.max.apply(0, bounds[1])\n    }\n  };\n};\n\nvar intersect = function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\n  if (Math.max(x1, x2) < Math.min(x3, x4) || Math.min(x1, x2) > Math.max(x3, x4) || Math.max(y1, y2) < Math.min(y3, y4) || Math.min(y1, y2) > Math.max(y3, y4)) {\n    return;\n  }\n  var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4);\n  var ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4);\n  var denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n  if (!denominator) {\n    return;\n  }\n  var px = nx / denominator;\n  var py = ny / denominator;\n  var px2 = +px.toFixed(2);\n  var py2 = +py.toFixed(2);\n  if (px2 < +Math.min(x1, x2).toFixed(2) || px2 > +Math.max(x1, x2).toFixed(2) || px2 < +Math.min(x3, x4).toFixed(2) || px2 > +Math.max(x3, x4).toFixed(2) || py2 < +Math.min(y1, y2).toFixed(2) || py2 > +Math.max(y1, y2).toFixed(2) || py2 < +Math.min(y3, y4).toFixed(2) || py2 > +Math.max(y3, y4).toFixed(2)) {\n    return;\n  }\n  return {\n    x: px,\n    y: py\n  };\n};\n\nvar isPointInsideBBox = function isPointInsideBBox(bbox, x, y) {\n  return x >= bbox.x && x <= bbox.x + bbox.width && y >= bbox.y && y <= bbox.y + bbox.height;\n};\n\nvar box = function box(x, y, width, height) {\n  if (x === null) {\n    x = y = width = height = 0;\n  }\n  if (y === null) {\n    y = x.y;\n    width = x.width;\n    height = x.height;\n    x = x.x;\n  }\n  return {\n    x: x,\n    y: y,\n    width: width,\n    w: width,\n    height: height,\n    h: height,\n    x2: x + width,\n    y2: y + height,\n    cx: x + width / 2,\n    cy: y + height / 2,\n    r1: Math.min(width, height) / 2,\n    r2: Math.max(width, height) / 2,\n    r0: Math.sqrt(width * width + height * height) / 2,\n    path: rectPath(x, y, width, height),\n    vb: [x, y, width, height].join(' ')\n  };\n};\n\nvar isBBoxIntersect = function isBBoxIntersect(bbox1, bbox2) {\n  bbox1 = box(bbox1);\n  bbox2 = box(bbox2);\n  return isPointInsideBBox(bbox2, bbox1.x, bbox1.y) || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y) || isPointInsideBBox(bbox2, bbox1.x, bbox1.y2) || isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2) || isPointInsideBBox(bbox1, bbox2.x, bbox2.y) || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y) || isPointInsideBBox(bbox1, bbox2.x, bbox2.y2) || isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2) || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x) && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n};\n\nvar bezierBBox = function bezierBBox(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n  if (!isArray(p1x)) {\n    p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n  }\n  var bbox = curveDim.apply(null, p1x);\n  return box(bbox.min.x, bbox.min.y, bbox.max.x - bbox.min.x, bbox.max.y - bbox.min.y);\n};\n\nvar findDotsAtSegment = function findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n  var t1 = 1 - t;\n  var t13 = Math.pow(t1, 3);\n  var t12 = Math.pow(t1, 2);\n  var t2 = t * t;\n  var t3 = t2 * t;\n  var x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x;\n  var y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n  var mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x);\n  var my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y);\n  var nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x);\n  var ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y);\n  var ax = t1 * p1x + t * c1x;\n  var ay = t1 * p1y + t * c1y;\n  var cx = t1 * c2x + t * p2x;\n  var cy = t1 * c2y + t * p2y;\n  var alpha = 90 - Math.atan2(mx - nx, my - ny) * 180 / Math.PI;\n  // (mx > nx || my < ny) && (alpha += 180);\n  return {\n    x: x,\n    y: y,\n    m: {\n      x: mx,\n      y: my\n    },\n    n: {\n      x: nx,\n      y: ny\n    },\n    start: {\n      x: ax,\n      y: ay\n    },\n    end: {\n      x: cx,\n      y: cy\n    },\n    alpha: alpha\n  };\n};\n\nvar interHelper = function interHelper(bez1, bez2, justCount) {\n  var bbox1 = bezierBBox(bez1);\n  var bbox2 = bezierBBox(bez2);\n  if (!isBBoxIntersect(bbox1, bbox2)) {\n    return justCount ? 0 : [];\n  }\n  var l1 = bezlen.apply(0, bez1);\n  var l2 = bezlen.apply(0, bez2);\n  var n1 = ~~(l1 / 8);\n  var n2 = ~~(l2 / 8);\n  var dots1 = [];\n  var dots2 = [];\n  var xy = {};\n  var res = justCount ? 0 : [];\n  for (var i = 0; i < n1 + 1; i++) {\n    var d = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n    dots1.push({\n      x: d.x,\n      y: d.y,\n      t: i / n1\n    });\n  }\n  for (var _i = 0; _i < n2 + 1; _i++) {\n    var _d = findDotsAtSegment.apply(0, bez2.concat(_i / n2));\n    dots2.push({\n      x: _d.x,\n      y: _d.y,\n      t: _i / n2\n    });\n  }\n  for (var _i2 = 0; _i2 < n1; _i2++) {\n    for (var j = 0; j < n2; j++) {\n      var di = dots1[_i2];\n      var di1 = dots1[_i2 + 1];\n      var dj = dots2[j];\n      var dj1 = dots2[j + 1];\n      var ci = Math.abs(di1.x - di.x) < 0.001 ? 'y' : 'x';\n      var cj = Math.abs(dj1.x - dj.x) < 0.001 ? 'y' : 'x';\n      var is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n      if (is) {\n        if (xy[is.x.toFixed(4)] === is.y.toFixed(4)) {\n          continue;\n        }\n        xy[is.x.toFixed(4)] = is.y.toFixed(4);\n        var t1 = di.t + Math.abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t);\n        var t2 = dj.t + Math.abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n        if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n          if (justCount) {\n            res++;\n          } else {\n            res.push({\n              x: is.x,\n              y: is.y,\n              t1: t1,\n              t2: t2\n            });\n          }\n        }\n      }\n    }\n  }\n  return res;\n};\n\nvar interPathHelper = function interPathHelper(path1, path2, justCount) {\n  path1 = pathTocurve(path1);\n  path2 = pathTocurve(path2);\n  var x1 = void 0;\n  var y1 = void 0;\n  var x2 = void 0;\n  var y2 = void 0;\n  var x1m = void 0;\n  var y1m = void 0;\n  var x2m = void 0;\n  var y2m = void 0;\n  var bez1 = void 0;\n  var bez2 = void 0;\n  var res = justCount ? 0 : [];\n  for (var i = 0, ii = path1.length; i < ii; i++) {\n    var pi = path1[i];\n    if (pi[0] === 'M') {\n      x1 = x1m = pi[1];\n      y1 = y1m = pi[2];\n    } else {\n      if (pi[0] === 'C') {\n        bez1 = [x1, y1].concat(pi.slice(1));\n        x1 = bez1[6];\n        y1 = bez1[7];\n      } else {\n        bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n        x1 = x1m;\n        y1 = y1m;\n      }\n      for (var j = 0, jj = path2.length; j < jj; j++) {\n        var pj = path2[j];\n        if (pj[0] === 'M') {\n          x2 = x2m = pj[1];\n          y2 = y2m = pj[2];\n        } else {\n          if (pj[0] === 'C') {\n            bez2 = [x2, y2].concat(pj.slice(1));\n            x2 = bez2[6];\n            y2 = bez2[7];\n          } else {\n            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n            x2 = x2m;\n            y2 = y2m;\n          }\n          var intr = interHelper(bez1, bez2, justCount);\n          if (justCount) {\n            res += intr;\n          } else {\n            for (var k = 0, kk = intr.length; k < kk; k++) {\n              intr[k].segment1 = i;\n              intr[k].segment2 = j;\n              intr[k].bez1 = bez1;\n              intr[k].bez2 = bez2;\n            }\n            res = res.concat(intr);\n          }\n        }\n      }\n    }\n  }\n  return res;\n};\n\nmodule.exports = function pathIntersection(path1, path2) {\n  return interPathHelper(path1, path2);\n};\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports) {\n\nfunction decasteljau(points, t) {\n  var left = [];\n  var right = [];\n\n  function recurse(points, t) {\n    if (points.length === 1) {\n      left.push(points[0]);\n      right.push(points[0]);\n    } else {\n      var middlePoints = [];\n      for (var i = 0; i < points.length - 1; i++) {\n        if (i === 0) {\n          left.push(points[0]);\n        }\n        if (i === points.length - 2) {\n          right.push(points[i + 1]);\n        }\n        middlePoints[i] = [(1 - t) * points[i][0] + t * points[i + 1][0], (1 - t) * points[i][1] + t * points[i + 1][1]];\n      }\n      recurse(middlePoints, t);\n    }\n  }\n  if (points.length) {\n    recurse(points, t);\n  }\n  return { left: left, right: right.reverse() };\n}\n\nfunction splitCurve(start, end, count) {\n  var points = [[start[1], start[2]]];\n  count = count || 2;\n  var segments = [];\n  if (end[0] === 'A') {\n    points.push(end[6]);\n    points.push(end[7]);\n  } else if (end[0] === 'C') {\n    points.push([end[1], end[2]]);\n    points.push([end[3], end[4]]);\n    points.push([end[5], end[6]]);\n  } else if (end[0] === 'S' || end[0] === 'Q') {\n    points.push([end[1], end[2]]);\n    points.push([end[3], end[4]]);\n  } else {\n    points.push([end[1], end[2]]);\n  }\n\n  var leftSegments = points;\n  var t = 1 / count;\n\n  for (var i = 0; i < count - 1; i++) {\n    var rt = t / (1 - t * i);\n    var split = decasteljau(leftSegments, rt);\n    segments.push(split.left);\n    leftSegments = split.right;\n  }\n  segments.push(leftSegments);\n  var result = segments.map(function (segment) {\n    var cmd = [];\n    if (segment.length === 4) {\n      cmd.push('C');\n      cmd = cmd.concat(segment[2]);\n    }\n    if (segment.length >= 3) {\n      if (segment.length === 3) {\n        cmd.push('Q');\n      }\n      cmd = cmd.concat(segment[1]);\n    }\n    if (segment.length === 2) {\n      cmd.push('L');\n    }\n    cmd = cmd.concat(segment[segment.length - 1]);\n    return cmd;\n  });\n  return result;\n}\n\nfunction splitSegment(start, end, count) {\n  if (count === 1) {\n    return [[].concat(start)];\n  }\n  var segments = [];\n  if (end[0] === 'L' || end[0] === 'C' || end[0] === 'Q') {\n    segments = segments.concat(splitCurve(start, end, count));\n  } else {\n    var temp = [].concat(start);\n    if (temp[0] === 'M') {\n      temp[0] = 'L';\n    }\n    for (var i = 0; i <= count - 1; i++) {\n      segments.push(temp);\n    }\n  }\n  return segments;\n}\n\nmodule.exports = function fillPath(source, target) {\n  if (source.length === 1) {\n    return source;\n  }\n  var sourceLen = source.length - 1;\n  var targetLen = target.length - 1;\n  var ratio = sourceLen / targetLen;\n  var segmentsToFill = [];\n  if (source.length === 1 && source[0][0] === 'M') {\n    for (var i = 0; i < targetLen - sourceLen; i++) {\n      source.push(source[0]);\n    }\n    return source;\n  }\n  for (var _i = 0; _i < targetLen; _i++) {\n    var index = Math.floor(ratio * _i);\n    segmentsToFill[index] = (segmentsToFill[index] || 0) + 1;\n  }\n  var filled = segmentsToFill.reduce(function (filled, count, i) {\n    if (i === sourceLen) {\n      return filled.concat(source[sourceLen]);\n    }\n    return filled.concat(splitSegment(source[i], source[i + 1], count));\n  }, []);\n  filled.unshift(source[0]);\n  if (target[targetLen] === 'Z' || target[targetLen] === 'z') {\n    filled.push('Z');\n  }\n  return filled;\n};\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isEqual = __webpack_require__(103);\n\nfunction getMinDiff(del, add, modify) {\n  var type = null;\n  var min = modify;\n  if (add < min) {\n    min = add;\n    type = 'add';\n  }\n  if (del < min) {\n    min = del;\n    type = 'del';\n  }\n  return {\n    type: type,\n    min: min\n  };\n}\n\n/*\n * https://en.wikipedia.org/wiki/Levenshtein_distance\n * 计算两条path的编辑距离\n */\nvar levenshteinDistance = function levenshteinDistance(source, target) {\n  var sourceLen = source.length;\n  var targetLen = target.length;\n  var sourceSegment = void 0,\n      targetSegment = void 0;\n  var temp = 0;\n  if (sourceLen === 0 || targetLen === 0) {\n    return null;\n  }\n  var dist = [];\n  for (var i = 0; i <= sourceLen; i++) {\n    dist[i] = [];\n    dist[i][0] = { min: i };\n  }\n  for (var j = 0; j <= targetLen; j++) {\n    dist[0][j] = { min: j };\n  }\n\n  for (var _i = 1; _i <= sourceLen; _i++) {\n    sourceSegment = source[_i - 1];\n    for (var _j = 1; _j <= targetLen; _j++) {\n      targetSegment = target[_j - 1];\n      if (isEqual(sourceSegment, targetSegment)) {\n        temp = 0;\n      } else {\n        temp = 1;\n      }\n      var del = dist[_i - 1][_j].min + 1;\n      var add = dist[_i][_j - 1].min + 1;\n      var modify = dist[_i - 1][_j - 1].min + temp;\n      dist[_i][_j] = getMinDiff(del, add, modify);\n    }\n  }\n  return dist;\n};\n\nmodule.exports = function fillPathByDiff(source, target) {\n  var diffMatrix = levenshteinDistance(source, target);\n  var sourceLen = source.length;\n  var targetLen = target.length;\n  var changes = [];\n  var index = 1;\n  var minPos = 1;\n  // 如果source和target不是完全不相等\n  if (diffMatrix[sourceLen][targetLen] !== sourceLen) {\n    // 获取从source到target所需改动\n    for (var i = 1; i <= sourceLen; i++) {\n      var min = diffMatrix[i][i].min;\n      minPos = i;\n      for (var j = index; j <= targetLen; j++) {\n        if (diffMatrix[i][j].min < min) {\n          min = diffMatrix[i][j].min;\n          minPos = j;\n        }\n      }\n      index = minPos;\n      if (diffMatrix[i][index].type) {\n        changes.push({ index: i - 1, type: diffMatrix[i][index].type });\n      }\n    }\n    // 对source进行增删path\n    for (var _i2 = changes.length - 1; _i2 >= 0; _i2--) {\n      index = changes[_i2].index;\n      if (changes[_i2].type === 'add') {\n        source.splice(index, 0, [].concat(source[index]));\n      } else {\n        source.splice(index, 1);\n      }\n    }\n  }\n\n  // source尾部补齐\n  sourceLen = source.length;\n  if (sourceLen < targetLen) {\n    for (var _i3 = 0; _i3 < targetLen - sourceLen; _i3++) {\n      if (source[sourceLen - 1][0] === 'z' || source[sourceLen - 1][0] === 'Z') {\n        source.splice(sourceLen - 2, 0, source[sourceLen - 2]);\n      } else {\n        source.push(source[sourceLen - 1]);\n      }\n    }\n  }\n  return source;\n};\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar each = __webpack_require__(0);\n\nmodule.exports = function isEqual(obj1, obj2) {\n  if (obj1.length !== obj2.length) {\n    return false;\n  }\n  var result = true;\n  each(obj1, function (item, i) {\n    if (item !== obj2[i]) {\n      result = false;\n      return false;\n    }\n  });\n  return result;\n};\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports) {\n\n/*\n * 抽取pathSegment中的关键点\n * M,L,A,Q,H,V一个端点\n * Q, S抽取一个端点，一个控制点\n * C抽取一个端点，两个控制点\n */\nfunction _getSegmentPoints(segment) {\n  var points = [];\n  switch (segment[0]) {\n    case 'M':\n      points.push([segment[1], segment[2]]);\n      break;\n    case 'L':\n      points.push([segment[1], segment[2]]);\n      break;\n    case 'A':\n      points.push([segment[6], segment[7]]);\n      break;\n    case 'Q':\n      points.push([segment[3], segment[4]]);\n      points.push([segment[1], segment[2]]);\n      break;\n    case 'T':\n      points.push([segment[1], segment[2]]);\n      break;\n    case 'C':\n      points.push([segment[5], segment[6]]);\n      points.push([segment[1], segment[2]]);\n      points.push([segment[3], segment[4]]);\n      break;\n    case 'S':\n      points.push([segment[3], segment[4]]);\n      points.push([segment[1], segment[2]]);\n      break;\n    case 'H':\n      points.push([segment[1], segment[1]]);\n      break;\n    case 'V':\n      points.push([segment[1], segment[1]]);\n      break;\n    default:\n\n  }\n  return points;\n}\n\n// 将两个点均分成count个点\nfunction _splitPoints(points, former, count) {\n  var result = [].concat(points);\n  var index = void 0;\n  var t = 1 / (count + 1);\n  var formerEnd = _getSegmentPoints(former)[0];\n  for (var i = 1; i <= count; i++) {\n    t *= i;\n    index = Math.floor(points.length * t);\n    if (index === 0) {\n      result.unshift([formerEnd[0] * t + points[index][0] * (1 - t), formerEnd[1] * t + points[index][1] * (1 - t)]);\n    } else {\n      result.splice(index, 0, [formerEnd[0] * t + points[index][0] * (1 - t), formerEnd[1] * t + points[index][1] * (1 - t)]);\n    }\n  }\n  return result;\n}\n\nmodule.exports = function formatPath(fromPath, toPath) {\n  if (fromPath.length <= 1) {\n    return fromPath;\n  }\n  var points = void 0;\n  for (var i = 0; i < toPath.length; i++) {\n    if (fromPath[i][0] !== toPath[i][0]) {\n      // 获取fromPath的pathSegment的端点，根据toPath的指令对其改造\n      points = _getSegmentPoints(fromPath[i]);\n      switch (toPath[i][0]) {\n        case 'M':\n          fromPath[i] = ['M'].concat(points[0]);\n          break;\n        case 'L':\n          fromPath[i] = ['L'].concat(points[0]);\n          break;\n        case 'A':\n          fromPath[i] = [].concat(toPath[i]);\n          fromPath[i][6] = points[0][0];\n          fromPath[i][7] = points[0][1];\n          break;\n        case 'Q':\n          if (points.length < 2) {\n            if (i > 0) {\n              points = _splitPoints(points, fromPath[i - 1], 1);\n            } else {\n              fromPath[i] = toPath[i];\n              break;\n            }\n          }\n          fromPath[i] = ['Q'].concat(points.reduce(function (arr, i) {\n            return arr.concat(i);\n          }, []));\n          break;\n        case 'T':\n          fromPath[i] = ['T'].concat(points[0]);\n          break;\n        case 'C':\n          if (points.length < 3) {\n            if (i > 0) {\n              points = _splitPoints(points, fromPath[i - 1], 2);\n            } else {\n              fromPath[i] = toPath[i];\n              break;\n            }\n          }\n          fromPath[i] = ['C'].concat(points.reduce(function (arr, i) {\n            return arr.concat(i);\n          }, []));\n          break;\n        case 'S':\n          if (points.length < 2) {\n            if (i > 0) {\n              points = _splitPoints(points, fromPath[i - 1], 1);\n            } else {\n              fromPath[i] = toPath[i];\n              break;\n            }\n          }\n          fromPath[i] = ['S'].concat(points.reduce(function (arr, i) {\n            return arr.concat(i);\n          }, []));\n          break;\n        default:\n          fromPath[i] = toPath[i];\n      }\n    }\n  }\n  return fromPath;\n};\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\nvar strUtil = {\n  lc: __webpack_require__(106),\n  lowerCase: __webpack_require__(33),\n  lowerFirst: __webpack_require__(107),\n  substitute: __webpack_require__(108),\n  uc: __webpack_require__(109),\n  upperCase: __webpack_require__(34),\n  upperFirst: __webpack_require__(110)\n};\n\nmodule.exports = strUtil;\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(33);\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toString = __webpack_require__(8);\n\nvar lowerFirst = function lowerFirst(value) {\n  var str = toString(value);\n  return str.charAt(0).toLowerCase() + str.substring(1);\n};\n\nmodule.exports = lowerFirst;\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports) {\n\nvar substitute = function substitute(str, o) {\n  if (!str || !o) {\n    return str;\n  }\n  return str.replace(/\\\\?\\{([^{}]+)\\}/g, function (match, name) {\n    if (match.charAt(0) === '\\\\') {\n      return match.slice(1);\n    }\n    return o[name] === undefined ? '' : o[name];\n  });\n};\n\nmodule.exports = substitute;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(34);\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toString = __webpack_require__(8);\n\nvar upperFirst = function upperFirst(value) {\n  var str = toString(value);\n  return str.charAt(0).toUpperCase() + str.substring(1);\n};\n\nmodule.exports = upperFirst;\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isType = __webpack_require__(2);\n\nvar checkType = {\n  getType: __webpack_require__(35),\n  isArray: __webpack_require__(1),\n  isArrayLike: __webpack_require__(4),\n  isBoolean: __webpack_require__(112),\n  isFunction: __webpack_require__(3),\n  isNil: __webpack_require__(5),\n  isNull: __webpack_require__(113),\n  isNumber: __webpack_require__(6),\n  isObject: __webpack_require__(16),\n  isObjectLike: __webpack_require__(13),\n  isPlainObject: __webpack_require__(7),\n  isPrototype: __webpack_require__(36),\n  isType: isType,\n  isUndefined: __webpack_require__(114),\n  isString: __webpack_require__(10),\n  isRegExp: __webpack_require__(115),\n  isDate: __webpack_require__(116),\n  isArguments: __webpack_require__(117),\n  isError: __webpack_require__(118)\n};\n\nmodule.exports = checkType;\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * 是否是布尔类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nvar isType = __webpack_require__(2);\n\nvar isBoolean = function isBoolean(value) {\n  return isType(value, 'Boolean');\n};\n\nmodule.exports = isBoolean;\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports) {\n\nvar isNull = function isNull(value) {\n  return value === null;\n};\n\nmodule.exports = isNull;\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports) {\n\nvar isUndefined = function isUndefined(value) {\n  return value === undefined;\n};\n\nmodule.exports = isUndefined;\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isType = __webpack_require__(2);\n\nvar isRegExp = function isRegExp(str) {\n  return isType(str, 'RegExp');\n};\n\nmodule.exports = isRegExp;\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isType = __webpack_require__(2);\n\nvar isDate = function isDate(value) {\n  return isType(value, 'Date');\n};\n\nmodule.exports = isDate;\n\n/***/ }),\n/* 117 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nvar isType = __webpack_require__(2);\n\nvar isArguments = function isArguments(value) {\n  return isType(value, 'Arguments');\n};\n\nmodule.exports = isArguments;\n\n/***/ }),\n/* 118 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * 是否是参数类型\n *\n * @param {Object} value 测试的值\n * @return {Boolean}\n */\nvar isType = __webpack_require__(2);\n\nvar isError = function isError(value) {\n  return isType(value, 'Error');\n};\n\nmodule.exports = isError;\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isFunction = __webpack_require__(3);\nvar toArray = __webpack_require__(14);\nvar mix = __webpack_require__(11);\n\nvar augment = function augment(c) {\n  var args = toArray(arguments);\n  for (var i = 1; i < args.length; i++) {\n    var obj = args[i];\n    if (isFunction(obj)) {\n      obj = obj.prototype;\n    }\n    mix(c.prototype, obj);\n  }\n};\n\nmodule.exports = augment;\n\n/***/ }),\n/* 120 */\n/***/ (function(module, exports) {\n\n\nfunction debounce(func, wait, immediate) {\n  var timeout = void 0;\n  return function () {\n    var context = this,\n        args = arguments;\n    var later = function later() {\n      timeout = null;\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n\nmodule.exports = debounce;\n\n/***/ }),\n/* 121 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isPlainObject = __webpack_require__(7);\nvar isArray = __webpack_require__(1);\n\nvar MAX_MIX_LEVEL = 5;\n\nfunction _deepMix(dist, src, level, maxLevel) {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (var key in src) {\n    if (src.hasOwnProperty(key)) {\n      var value = src[key];\n      if (value !== null && isPlainObject(value)) {\n        if (!isPlainObject(dist[key])) {\n          dist[key] = {};\n        }\n        if (level < maxLevel) {\n          _deepMix(dist[key], value, level + 1, maxLevel);\n        } else {\n          dist[key] = src[key];\n        }\n      } else if (isArray(value)) {\n        dist[key] = [];\n        dist[key] = dist[key].concat(value);\n      } else if (value !== undefined) {\n        dist[key] = value;\n      }\n    }\n  }\n}\n\nvar deepMix = function deepMix() {\n  var args = new Array(arguments.length);\n  var length = args.length;\n  for (var i = 0; i < length; i++) {\n    args[i] = arguments[i];\n  }\n  var rst = args[0];\n  for (var _i = 1; _i < length; _i++) {\n    _deepMix(rst, args[_i]);\n  }\n  return rst;\n};\n\nmodule.exports = deepMix;\n\n/***/ }),\n/* 122 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isFunction = __webpack_require__(3);\nvar mix = __webpack_require__(11);\n\nvar extend = function extend(subclass, superclass, overrides, staticOverrides) {\n  // 如果只提供父类构造函数，则自动生成子类构造函数\n  if (!isFunction(superclass)) {\n    overrides = superclass;\n    superclass = subclass;\n    subclass = function subclass() {};\n  }\n\n  var create = Object.create ? function (proto, c) {\n    return Object.create(proto, {\n      constructor: {\n        value: c\n      }\n    });\n  } : function (proto, c) {\n    function Tmp() {}\n    Tmp.prototype = proto;\n    var o = new Tmp();\n    o.constructor = c;\n    return o;\n  };\n\n  var superObj = create(superclass.prototype, subclass); // new superclass(),//实例化父类作为子类的prototype\n  subclass.prototype = mix(superObj, subclass.prototype); // 指定子类的prototype\n  subclass.superclass = create(superclass.prototype, superclass);\n  mix(superObj, overrides);\n  mix(subclass, staticOverrides);\n  return subclass;\n};\n\nmodule.exports = extend;\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar groupToMap = __webpack_require__(37);\n\nvar group = function group(data, condition) {\n  if (!condition) {\n    return [data];\n  }\n  var groups = groupToMap(data, condition);\n  var array = [];\n  for (var i in groups) {\n    array.push(groups[i]);\n  }\n  return array;\n};\n\nmodule.exports = group;\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArrayLike = __webpack_require__(4);\n\nvar indexOf = function indexOf(arr, obj) {\n  if (!isArrayLike(arr)) {\n    return -1;\n  }\n  var m = Array.prototype.indexOf;\n  if (m) {\n    return m.call(arr, obj);\n  }\n  var index = -1;\n\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i] === obj) {\n      index = i;\n      break;\n    }\n  }\n  return index;\n};\n\nmodule.exports = indexOf;\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isNil = __webpack_require__(5);\nvar isArrayLike = __webpack_require__(4);\nvar getType = __webpack_require__(35);\nvar isPrototype = __webpack_require__(36);\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isEmpty(value) {\n  /**\n   * isEmpty(null) => true\n   * isEmpty() => true\n   * isEmpty(true) => true\n   * isEmpty(1) => true\n   * isEmpty([1, 2, 3]) => false\n   * isEmpty('abc') => false\n   * isEmpty({ a: 1 }) => false\n   */\n  if (isNil(value)) {\n    return true;\n  }\n  if (isArrayLike(value)) {\n    return !value.length;\n  }\n  var type = getType(value);\n  if (type === 'Map' || type === 'Set') {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !Object.keys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isFunction = __webpack_require__(3);\nvar isEqual = __webpack_require__(39);\n/**\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [fn] The function to customize comparisons.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * function isGreeting(value) {\n *   return /^h(?:i|ello)$/.test(value);\n * }\n *\n * function customizer(objValue, othValue) {\n *   if (isGreeting(objValue) && isGreeting(othValue)) {\n *     return true;\n *   }\n * }\n *\n * var array = ['hello', 'goodbye'];\n * var other = ['hi', 'goodbye'];\n *\n * isEqualWith(array, other, customizer);  // => true\n */\n\nvar isEqualWith = function isEqualWith(value, other, fn) {\n  if (!isFunction(fn)) {\n    return isEqual(value, other);\n  }\n  return !!fn(value, other);\n};\n\nmodule.exports = isEqualWith;\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar each = __webpack_require__(0);\nvar isArrayLike = __webpack_require__(4);\n\nvar map = function map(arr, func) {\n  if (!isArrayLike(arr)) {\n    return arr;\n  }\n  var result = [];\n  each(arr, function (value, index) {\n    result.push(func(value, index));\n  });\n  return result;\n};\n\nmodule.exports = map;\n\n/***/ }),\n/* 128 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar each = __webpack_require__(0);\nvar isPlaineObject = __webpack_require__(7);\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n * pick(object, ['a', 'c']);  // => { 'a': 1, 'c': 3 }\n */\n\nvar pick = function pick(object, keys) {\n  if (object === null || !isPlaineObject(object)) {\n    return {};\n  }\n  var result = {};\n  each(keys, function (key) {\n    if (hasOwnProperty.call(object, key)) {\n      result[key] = object[key];\n    }\n  });\n  return result;\n};\n\nmodule.exports = pick;\n\n/***/ }),\n/* 129 */\n/***/ (function(module, exports) {\n\n\nfunction throttle(func, wait, options) {\n  var timeout = void 0,\n      context = void 0,\n      args = void 0,\n      result = void 0;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function later() {\n    previous = options.leading === false ? 0 : Date.now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function throttled() {\n    var now = Date.now();\n    if (!previous && options.leading === false) previous = now;\n    var remaining = wait - (now - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  throttled.cancel = function () {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n\nmodule.exports = throttle;\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports) {\n\nvar uniqueId = function () {\n  var map = {};\n  return function (prefix) {\n    prefix = prefix || 'g';\n    if (!map[prefix]) {\n      map[prefix] = 1;\n    } else {\n      map[prefix] += 1;\n    }\n    return prefix + map[prefix];\n  };\n}();\n\nmodule.exports = uniqueId;\n\n/***/ })\n/******/ ]);\n});","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { PointType } from '../interface';\n\nexport default class BBox {\n  readonly x: number;\n  readonly y: number;\n  readonly height: number;\n  readonly width: number;\n\n  readonly minX: number;\n  readonly maxX: number;\n  readonly minY: number;\n  readonly maxY: number;\n\n  readonly tl: PointType;\n  readonly tr: PointType;\n  readonly bl: PointType;\n  readonly br: PointType;\n\n  readonly bottom?: number;\n  readonly left?: number;\n  readonly right?: number;\n  readonly top?: number;\n\n  static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    // range\n    this.height = height;\n    this.width = width;\n    this.x = this.minX = x;\n    this.y = this.minY = y;\n    const maxX = (this.maxX = x + width);\n    const maxY = (this.maxY = y + height);\n\n    // points\n    this.tl = { x, y };\n    this.tr = { x: maxX, y };\n    this.bl = { x, y: maxY };\n    this.br = { x: maxX, y: maxY };\n\n    // TODO\n    this.bottom = 0;\n    this.left = this.x;\n    this.right = 0;\n    this.top = this.y;\n  }\n\n  equals(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n}\n","import * as Util from '@antv/util';\nimport Element from './element';\nimport * as Inside from '../shapes/util/inside';\nimport BBox from './bbox';\n\nconst ARRAY_ATTRS = {\n  matrix: 'matrix',\n  path: 'path',\n  points: 'points',\n  lineDash: 'lineDash',\n};\n\nfunction _cloneArrayAttr(arr: any[]) {\n  const result = [];\n  for (let i = 0; i < arr.length; i++) {\n    if (Util.isArray(arr[i])) {\n      result.push([].concat(arr[i]));\n    } else {\n      result.push(arr[i]);\n    }\n  }\n  return result;\n}\n\nclass Shape extends Element {\n  isShape: boolean = true;\n  id?: string;\n  name?: string;\n\n  createPath(context: CanvasRenderingContext2D) {}\n\n  afterPath(context: CanvasRenderingContext2D) {}\n\n  isPointInPath(x: number, y: number): boolean {\n    return false;\n  }\n\n  drawInner(context: CanvasRenderingContext2D): void {\n    const attrs = this.attrs;\n    this.createPath(context);\n    const originOpacity = context.globalAlpha;\n    if (this.hasFill()) {\n      const fillOpacity = attrs.fillOpacity;\n      if (!Util.isNil(fillOpacity) && fillOpacity !== 1) {\n        context.globalAlpha = fillOpacity;\n        context.fill();\n        context.globalAlpha = originOpacity;\n      } else {\n        context.fill();\n      }\n    }\n    if (this.hasStroke()) {\n      const lineWidth = this.attrs.lineWidth;\n      if (lineWidth > 0) {\n        const strokeOpacity = attrs.strokeOpacity;\n        if (!Util.isNil(strokeOpacity) && strokeOpacity !== 1) {\n          context.globalAlpha = strokeOpacity;\n        }\n        context.stroke();\n      }\n    }\n    this.afterPath(context);\n  }\n\n  /**\n   * 击中图形时是否进行包围盒判断\n   * @return {Boolean} [description]\n   */\n  isHitBox(): boolean {\n    return true;\n  }\n\n  /**\n   * 节点是否能够被击中\n   * @param {Number} x x坐标\n   * @param {Number} y y坐标\n   * @return {Boolean} 是否在图形中\n   */\n  isHit(x: number, y: number): boolean {\n    const self = this;\n    const v = [x, y, 1];\n    self.invert(v); // canvas\n\n    if (self.isHitBox()) {\n      const box = self.getBBox();\n      if (box && !Inside.box(box.minX, box.maxX, box.minY, box.maxY, v[0], v[1])) {\n        return false;\n      }\n    }\n    const clip = self.attrs.clip;\n    if (clip) {\n      clip.invert(v, self.get('canvas'));\n      if (clip.isPointInPath(v[0], v[1])) {\n        return self.isPointInPath(v[0], v[1]);\n      }\n    } else {\n      return self.isPointInPath(v[0], v[1]);\n    }\n    return false;\n  }\n\n  /**\n   * @protected\n   * 计算包围盒\n   * @return {Object} 包围盒\n   */\n  calculateBox(): BBox {\n    return null;\n  }\n\n  // 获取拾取时线的宽度，需要考虑附加的线的宽度\n  getHitLineWidth(): number {\n    const attrs = this.attrs;\n    // if (!attrs.stroke) {\n    //   return 0;\n    // }\n    const lineAppendWidth = attrs.lineAppendWidth || 0;\n    const lineWidth = attrs.lineWidth || 0;\n    return lineWidth + lineAppendWidth;\n  }\n\n  // 清除当前的矩阵\n  clearTotalMatrix(): void {\n    this.cfg.totalMatrix = null;\n    this.cfg.region = null;\n  }\n\n  clearBBox(): void {\n    this.cfg.box = null;\n    this.cfg.region = null;\n  }\n\n  getBBox(): BBox {\n    let box = this.get('box');\n    // 延迟计算\n    if (!box) {\n      box = this.calculateBox();\n      if (box) {\n        this.set('box', box);\n      }\n    }\n    return box;\n  }\n\n  clone(): Shape {\n    const self = this;\n    let clone = null;\n    const _attrs = self.attrs;\n    const attrs = {};\n    Util.each(_attrs, (i, k) => {\n      if (ARRAY_ATTRS[k] && Util.isArray(_attrs[k])) {\n        attrs[k] = _cloneArrayAttr(_attrs[k]);\n      } else {\n        attrs[k] = _attrs[k];\n      }\n    });\n    clone = new Shape({\n      attrs,\n    });\n    // zIndex也是绘图属性，但是在cfg中，特殊处理\n    clone.cfg.zIndex = self.cfg.zIndex;\n    return clone;\n  }\n}\n\nexport default Shape;\n","import * as Line from '../math/line';\nimport * as Quadratic from '../math/quadratic';\nimport * as Cubic from '../math/cubic';\nimport * as Arc from '../math/arc';\nimport { PointType } from '../../interface';\n\nexport function line(x1: number, y1: number, x2: number, y2: number, lineWidth: number, x: number, y: number): boolean {\n  const boxRect = Line.box(x1, y1, x2, y2, lineWidth);\n\n  if (!box(boxRect.minX, boxRect.maxX, boxRect.minY, boxRect.maxY, x, y)) {\n    return false;\n  }\n\n  const d = Line.pointDistance(x1, y1, x2, y2, x, y);\n  if (isNaN(d)) {\n    return false;\n  }\n  return d <= lineWidth / 2;\n}\n\nexport function polyline(points: PointType[], lineWidth: number, x: number, y: number): boolean {\n  const l = points.length - 1;\n  if (l < 1) {\n    return false;\n  }\n  for (let i = 0; i < l; i++) {\n    const x1 = points[i][0];\n    const y1 = points[i][1];\n    const x2 = points[i + 1][0];\n    const y2 = points[i + 1][1];\n\n    if (line(x1, y1, x2, y2, lineWidth, x, y)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function cubicline(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x4: number,\n  y4: number,\n  lineWidth: number,\n  x: number,\n  y: number\n): boolean {\n  return Cubic.pointDistance(x1, y1, x2, y2, x3, y3, x4, y4, x, y) <= lineWidth / 2;\n}\n\nexport function quadraticline(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  lineWidth: number,\n  x: number,\n  y: number\n): boolean {\n  return Quadratic.pointDistance(x1, y1, x2, y2, x3, y3, x, y) <= lineWidth / 2;\n}\n\nexport function arcline(\n  cx: number,\n  cy: number,\n  r: number,\n  startAngle: number,\n  endAngle: number,\n  clockwise: boolean,\n  lineWidth: number,\n  x: number,\n  y: number\n): boolean {\n  return (Arc.pointDistance(cx, cy, r, startAngle, endAngle, clockwise, x, y) as number) <= lineWidth / 2;\n}\n\nexport function rect(rx: number, ry: number, width: number, height: number, x: number, y: number): boolean {\n  return rx <= x && x <= rx + width && ry <= y && y <= ry + height;\n}\n\nexport function circle(cx: number, cy: number, r: number, x: number, y: number): boolean {\n  return Math.pow(x - cx, 2) + Math.pow(y - cy, 2) <= Math.pow(r, 2);\n}\n\nexport function box(minX: number, maxX: number, minY: number, maxY: number, x: number, y: number): boolean {\n  return minX <= x && x <= maxX && minY <= y && y <= maxY;\n}\n","import * as Util from '@antv/util';\n\nconst regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi;\nconst regexDot = /[^\\s\\,]+/gi;\n\nexport function parseRadius(radius) {\n  let r1 = 0,\n    r2 = 0,\n    r3 = 0,\n    r4 = 0;\n  if (Util.isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n  return {\n    r1,\n    r2,\n    r3,\n    r4,\n  };\n}\n\nexport function parsePath(path) {\n  path = path || [];\n  if (Util.isArray(path)) {\n    return path;\n  }\n\n  if (Util.isString(path)) {\n    path = path.match(regexTags);\n    Util.each(path, function(item, index) {\n      item = item.match(regexDot);\n      if (item[0].length > 1) {\n        const tag = item[0].charAt(0);\n        item.splice(1, 0, item[0].substr(1));\n        item[0] = tag;\n      }\n      Util.each(item, function(sub, i) {\n        if (!isNaN(sub)) {\n          item[i] = +sub;\n        }\n      });\n      path[index] = item;\n    });\n    return path;\n  }\n}\n","import * as Util from '@antv/util';\nimport BBox from '../../core/bbox';\nimport { PointType } from '../../interface';\n\n/**\n * 计算在圆弧上的角度对应的点\n * @param cx\n * @param cy\n * @param r\n * @param angle\n */\nconst circlePoint = (cx: number, cy: number, r: number, angle: number): PointType => {\n  return {\n    x: Math.cos(angle) * r + cx,\n    y: Math.sin(angle) * r + cy,\n  };\n};\n\nconst angleNearTo = (angle: number, min: number, max: number, out: boolean): number => {\n  let v1;\n  let v2;\n  if (out) {\n    if (angle < min) {\n      v1 = min - angle;\n      v2 = Math.PI * 2 - max + angle;\n    } else if (angle > max) {\n      v1 = Math.PI * 2 - angle + min;\n      v2 = angle - max;\n    }\n  } else {\n    v1 = angle - min;\n    v2 = max - angle;\n  }\n\n  return v1 > v2 ? max : min;\n};\n\nexport const nearAngle = (angle: number, startAngle: number, endAngle: number, clockwise: boolean): number => {\n  let plus = 0;\n  if (endAngle - startAngle >= Math.PI * 2) {\n    plus = Math.PI * 2;\n  }\n  startAngle = Util.mod(startAngle, Math.PI * 2);\n  endAngle = Util.mod(endAngle, Math.PI * 2) + plus;\n  angle = Util.mod(angle, Math.PI * 2);\n  if (clockwise) {\n    if (startAngle >= endAngle) {\n      if (angle > endAngle && angle < startAngle) {\n        return angle;\n      }\n      return angleNearTo(angle, endAngle, startAngle, true);\n    }\n    if (angle < startAngle || angle > endAngle) {\n      return angle;\n    }\n    return angleNearTo(angle, startAngle, endAngle, false);\n  }\n  if (startAngle <= endAngle) {\n    if (startAngle < angle && angle < endAngle) {\n      return angle;\n    }\n    return angleNearTo(angle, startAngle, endAngle, true);\n  }\n  if (angle > startAngle || angle < endAngle) {\n    return angle;\n  }\n  return angleNearTo(angle, endAngle, startAngle, false);\n};\n\nexport const pointDistance = (\n  cx: number,\n  cy: number,\n  r: number,\n  startAngle: number,\n  endAngle: number,\n  clockwise: boolean,\n  x: number,\n  y: number,\n  out?: boolean\n): number | PointType => {\n  const v = [x, y];\n  const v0 = [cx, cy];\n  const v1 = [1, 0];\n  const subv = Util.vec2.subtract([], v, v0);\n  let angle = Util.vec2.angleTo(v1, subv);\n\n  angle = nearAngle(angle, startAngle, endAngle, clockwise);\n  const vpoint = [r * Math.cos(angle) + cx, r * Math.sin(angle) + cy];\n  if (out) {\n    return {\n      x: vpoint[0],\n      y: vpoint[1],\n    };\n  }\n  return Util.vec2.distance(vpoint, v);\n};\n\nexport const box = (\n  cx: number,\n  cy: number,\n  r: number,\n  startAngle: number,\n  endAngle: number,\n  clockwise: boolean\n): BBox => {\n  const angleRight = 0;\n  const angleBottom = Math.PI / 2;\n  const angleLeft = Math.PI;\n  const angleTop = (Math.PI * 3) / 2;\n  const points = [];\n\n  let angle = nearAngle(angleRight, startAngle, endAngle, clockwise);\n  if (angle === angleRight) {\n    points.push(circlePoint(cx, cy, r, angleRight));\n  }\n\n  angle = nearAngle(angleBottom, startAngle, endAngle, clockwise);\n  if (angle === angleBottom) {\n    points.push(circlePoint(cx, cy, r, angleBottom));\n  }\n\n  angle = nearAngle(angleLeft, startAngle, endAngle, clockwise);\n  if (angle === angleLeft) {\n    points.push(circlePoint(cx, cy, r, angleLeft));\n  }\n\n  angle = nearAngle(angleTop, startAngle, endAngle, clockwise);\n  if (angle === angleTop) {\n    points.push(circlePoint(cx, cy, r, angleTop));\n  }\n\n  points.push(circlePoint(cx, cy, r, startAngle));\n  points.push(circlePoint(cx, cy, r, endAngle));\n\n  const xs = points.map((p) => p.x);\n  const ys = points.map((p) => p.y);\n\n  return BBox.fromRange(Math.min(...xs), Math.min(...ys), Math.max(...xs), Math.max(...ys));\n};\n\nexport const projectPoint = (\n  cx: number,\n  cy: number,\n  r: number,\n  startAngle: number,\n  endAngle: number,\n  clockwise: boolean,\n  x: number,\n  y: number\n): PointType => {\n  return pointDistance(cx, cy, r, startAngle, endAngle, clockwise, x, y, true) as PointType;\n};\n","import * as Util from '@antv/util';\nimport * as Inside from './inside';\nimport * as Cubic from '../math/cubic';\nimport * as Quadratic from '../math/quadratic';\nimport * as Ellipse from '../math/ellipse';\nimport { PointType } from '../../interface';\nimport BBox from '../../core/bbox';\n\nconst vec3 = Util.vec3;\nconst mat3 = Util.mat3;\n\nconst ARR_CMD = ['m', 'l', 'c', 'a', 'q', 'h', 'v', 't', 's', 'z'];\n\nfunction toAbsolute(x: number, y: number, curPoint: PointType): PointType {\n  // 获取绝对坐标\n  return {\n    x: curPoint.x + x,\n    y: curPoint.y + y,\n  };\n}\n\nfunction toSymmetry(point: PointType, center: PointType): PointType {\n  // 点对称\n  return {\n    x: center.x + (center.x - point.x),\n    y: center.y + (center.y - point.y),\n  };\n}\n\nfunction vMag(v: number[]): number {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n\nfunction vRatio(u: number[], v: number[]): number {\n  return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n}\n\nfunction vAngle(u: number[], v: number[]): number {\n  return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\n\nfunction getArcParams(\n  point1: PointType,\n  point2: PointType,\n  fa: number,\n  fs: number,\n  rx: number,\n  ry: number,\n  psiDeg: number\n): any[] {\n  const psi = Util.mod(Util.toRadian(psiDeg), Math.PI * 2);\n  const x1 = point1.x;\n  const y1 = point1.y;\n  const x2 = point2.x;\n  const y2 = point2.y;\n  const xp = (Math.cos(psi) * (x1 - x2)) / 2.0 + (Math.sin(psi) * (y1 - y2)) / 2.0;\n  const yp = (-1 * Math.sin(psi) * (x1 - x2)) / 2.0 + (Math.cos(psi) * (y1 - y2)) / 2.0;\n  const lambda = (xp * xp) / (rx * rx) + (yp * yp) / (ry * ry);\n\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n  const diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n  let f = Math.sqrt((rx * rx * (ry * ry) - diff) / diff);\n\n  if (fa === fs) {\n    f *= -1;\n  }\n  if (isNaN(f)) {\n    f = 0;\n  }\n\n  const cxp = (f * rx * yp) / ry;\n  const cyp = (f * -ry * xp) / rx;\n\n  const cx = (x1 + x2) / 2.0 + Math.cos(psi) * cxp - Math.sin(psi) * cyp;\n  const cy = (y1 + y2) / 2.0 + Math.sin(psi) * cxp + Math.cos(psi) * cyp;\n\n  const theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n  const u = [(xp - cxp) / rx, (yp - cyp) / ry];\n  const v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n  let dTheta = vAngle(u, v);\n\n  if (vRatio(u, v) <= -1) {\n    dTheta = Math.PI;\n  }\n  if (vRatio(u, v) >= 1) {\n    dTheta = 0;\n  }\n  if (fs === 0 && dTheta > 0) {\n    dTheta = dTheta - 2 * Math.PI;\n  }\n  if (fs === 1 && dTheta < 0) {\n    dTheta = dTheta + 2 * Math.PI;\n  }\n  return [point1, cx, cy, rx, ry, theta, dTheta, psi, fs];\n}\n\nexport default class PathSegment {\n  preSegment: any;\n  isLast: boolean;\n  command: string;\n  params: PointType[]; //todo params 可能是 Point[] 或 number[]\n  subStart: PointType;\n  endPoint: PointType;\n  startTangent: Function;\n  endTangent: Function;\n  box: BBox;\n\n  constructor(item, preSegment, isLast) {\n    this.preSegment = preSegment;\n    this.isLast = isLast;\n    this.init(item, preSegment);\n  }\n\n  init(item: any[], preSegment): void {\n    const command = item[0];\n    preSegment = preSegment || {\n      endPoint: {\n        x: 0,\n        y: 0,\n      },\n    };\n    const relative = ARR_CMD.indexOf(command) >= 0; // /[a-z]/.test(command);\n    const cmd = relative ? command.toUpperCase() : command;\n    const p = item;\n    let point1;\n    let point2;\n    let point3;\n    let point;\n    const preEndPoint = preSegment.endPoint;\n\n    const p1 = p[1];\n    const p2 = p[2];\n    switch (cmd) {\n      default:\n        break;\n      case 'M':\n        if (relative) {\n          point = toAbsolute(p1, p2, preEndPoint);\n        } else {\n          point = {\n            x: p1,\n            y: p2,\n          };\n        }\n        this.command = 'M';\n        this.params = [preEndPoint, point];\n        this.subStart = point;\n        this.endPoint = point;\n        break;\n      case 'L':\n        if (relative) {\n          point = toAbsolute(p1, p2, preEndPoint);\n        } else {\n          point = {\n            x: p1,\n            y: p2,\n          };\n        }\n        this.command = 'L';\n        this.params = [preEndPoint, point];\n        this.subStart = preSegment.subStart;\n        this.endPoint = point;\n        this.endTangent = function() {\n          return [point.x - preEndPoint.x, point.y - preEndPoint.y];\n        };\n        this.startTangent = function() {\n          return [preEndPoint.x - point.x, preEndPoint.y - point.y];\n        };\n        break;\n      case 'H':\n        if (relative) {\n          point = toAbsolute(p1, 0, preEndPoint);\n        } else {\n          point = {\n            x: p1,\n            y: preEndPoint.y,\n          };\n        }\n        this.command = 'L';\n        this.params = [preEndPoint, point];\n        this.subStart = preSegment.subStart;\n        this.endPoint = point;\n        this.endTangent = function() {\n          return [point.x - preEndPoint.x, point.y - preEndPoint.y];\n        };\n        this.startTangent = function() {\n          return [preEndPoint.x - point.x, preEndPoint.y - point.y];\n        };\n        break;\n      case 'V':\n        if (relative) {\n          point = toAbsolute(0, p1, preEndPoint);\n        } else {\n          point = {\n            x: preEndPoint.x,\n            y: p1,\n          };\n        }\n        this.command = 'L';\n        this.params = [preEndPoint, point];\n        this.subStart = preSegment.subStart;\n        this.endPoint = point;\n        this.endTangent = function() {\n          return [point.x - preEndPoint.x, point.y - preEndPoint.y];\n        };\n        this.startTangent = function() {\n          return [preEndPoint.x - point.x, preEndPoint.y - point.y];\n        };\n        break;\n      case 'Q':\n        if (relative) {\n          point1 = toAbsolute(p1, p2, preEndPoint);\n          point2 = toAbsolute(p[3], p[4], preEndPoint);\n        } else {\n          point1 = {\n            x: p1,\n            y: p2,\n          };\n          point2 = {\n            x: p[3],\n            y: p[4],\n          };\n        }\n        this.command = 'Q';\n        this.params = [preEndPoint, point1, point2];\n        this.subStart = preSegment.subStart;\n        this.endPoint = point2;\n        this.endTangent = function() {\n          return [point2.x - point1.x, point2.y - point1.y];\n        };\n        this.startTangent = function() {\n          return [preEndPoint.x - point1.x, preEndPoint.y - point1.y];\n        };\n        break;\n      case 'T':\n        if (relative) {\n          point2 = toAbsolute(p1, p2, preEndPoint);\n        } else {\n          point2 = {\n            x: p1,\n            y: p2,\n          };\n        }\n        if (preSegment.command === 'Q') {\n          point1 = toSymmetry(preSegment.params[1], preEndPoint);\n          this.command = 'Q';\n          this.params = [preEndPoint, point1, point2];\n          this.subStart = preSegment.subStart;\n          this.endPoint = point2;\n          this.endTangent = function() {\n            return [point2.x - point1.x, point2.y - point1.y];\n          };\n          this.startTangent = function() {\n            return [preEndPoint.x - point1.x, preEndPoint.y - point1.y];\n          };\n        } else {\n          this.command = 'TL';\n          this.params = [preEndPoint, point2];\n          this.subStart = preSegment.subStart;\n          this.endPoint = point2;\n          this.endTangent = function() {\n            return [point2.x - preEndPoint.x, point2.y - preEndPoint.y];\n          };\n          this.startTangent = function() {\n            return [preEndPoint.x - point2.x, preEndPoint.y - point2.y];\n          };\n        }\n\n        break;\n      case 'C':\n        if (relative) {\n          point1 = toAbsolute(p1, p2, preEndPoint);\n          point2 = toAbsolute(p[3], p[4], preEndPoint);\n          point3 = toAbsolute(p[5], p[6], preEndPoint);\n        } else {\n          point1 = {\n            x: p1,\n            y: p2,\n          };\n          point2 = {\n            x: p[3],\n            y: p[4],\n          };\n          point3 = {\n            x: p[5],\n            y: p[6],\n          };\n        }\n        this.command = 'C';\n        this.params = [preEndPoint, point1, point2, point3];\n        this.subStart = preSegment.subStart;\n        this.endPoint = point3;\n        this.endTangent = function() {\n          return [point3.x - point2.x, point3.y - point2.y];\n        };\n        this.startTangent = function() {\n          return [preEndPoint.x - point1.x, preEndPoint.y - point1.y];\n        };\n        break;\n      case 'S':\n        if (relative) {\n          point2 = toAbsolute(p1, p2, preEndPoint);\n          point3 = toAbsolute(p[3], p[4], preEndPoint);\n        } else {\n          point2 = {\n            x: p1,\n            y: p2,\n          };\n          point3 = {\n            x: p[3],\n            y: p[4],\n          };\n        }\n        if (preSegment.command === 'C') {\n          point1 = toSymmetry(preSegment.params[2], preEndPoint);\n          this.command = 'C';\n          this.params = [preEndPoint, point1, point2, point3];\n          this.subStart = preSegment.subStart;\n          this.endPoint = point3;\n          this.endTangent = function() {\n            return [point3.x - point2.x, point3.y - point2.y];\n          };\n          this.startTangent = function() {\n            return [preEndPoint.x - point1.x, preEndPoint.y - point1.y];\n          };\n        } else {\n          this.command = 'SQ';\n          this.params = [preEndPoint, point2, point3];\n          this.subStart = preSegment.subStart;\n          this.endPoint = point3;\n          this.endTangent = function() {\n            return [point3.x - point2.x, point3.y - point2.y];\n          };\n          this.startTangent = function() {\n            return [preEndPoint.x - point2.x, preEndPoint.y - point2.y];\n          };\n        }\n        break;\n      case 'A': {\n        const rx = p1;\n        const ry = p2;\n        const psi = p[3];\n        const fa = p[4];\n        const fs = p[5];\n        if (relative) {\n          point = toAbsolute(p[6], p[7], preEndPoint);\n        } else {\n          point = {\n            x: p[6],\n            y: p[7],\n          };\n        }\n\n        this.command = 'A';\n        const params = getArcParams(preEndPoint, point, fa, fs, rx, ry, psi);\n        this.params = params;\n        const start = preSegment.subStart;\n        this.subStart = start;\n        this.endPoint = point;\n        let startAngle = params[5] % (Math.PI * 2);\n        if (Util.isNumberEqual(startAngle, Math.PI * 2)) {\n          startAngle = 0;\n        }\n        let endAngle = params[6] % (Math.PI * 2);\n        if (Util.isNumberEqual(endAngle, Math.PI * 2)) {\n          endAngle = 0;\n        }\n        let d = 0.001;\n        this.startTangent = function() {\n          if (fs === 0) {\n            d *= -1;\n          }\n          const dx = params[3] * Math.cos(startAngle - d) + params[1];\n          const dy = params[4] * Math.sin(startAngle - d) + params[2];\n          return [dx - start.x, dy - start.y];\n        };\n        this.endTangent = function() {\n          let endAngle = params[6];\n          if (endAngle - Math.PI * 2 < 0.0001) {\n            endAngle = 0;\n          }\n          const dx = params[3] * Math.cos(startAngle + endAngle + d) + params[1];\n          const dy = params[4] * Math.sin(startAngle + endAngle - d) + params[2];\n          return [preEndPoint.x - dx, preEndPoint.y - dy];\n        };\n        break;\n      }\n      case 'Z': {\n        this.command = 'Z';\n        this.params = [preEndPoint, preSegment.subStart];\n        this.subStart = preSegment.subStart;\n        this.endPoint = preSegment.subStart;\n      }\n    }\n  }\n\n  isInside(x: number, y: number, lineWidth: number): boolean {\n    const self = this;\n    const command = self.command;\n    const params = self.params;\n    const box = self.box;\n    if (box) {\n      if (!Inside.box(box.minX, box.maxX, box.minY, box.maxY, x, y)) {\n        return false;\n      }\n    }\n    switch (command) {\n      default:\n        break;\n      case 'M':\n        return false;\n      case 'TL':\n      case 'L':\n      case 'Z':\n        return Inside.line(params[0].x, params[0].y, params[1].x, params[1].y, lineWidth, x, y);\n      case 'SQ':\n      case 'Q':\n        return Inside.quadraticline(\n          params[0].x,\n          params[0].y,\n          params[1].x,\n          params[1].y,\n          params[2].x,\n          params[2].y,\n          lineWidth,\n          x,\n          y\n        );\n      case 'C': {\n        return Inside.cubicline(\n          params[0].x,\n          params[0].y,\n          params[1].x,\n          params[1].y,\n          params[2].x,\n          params[2].y,\n          params[3].x,\n          params[3].y,\n          lineWidth,\n          x,\n          y\n        );\n      }\n      case 'A': {\n        let p = params;\n        const cx = p[1];\n        const cy = p[2];\n        const rx = p[3];\n        const ry = p[4];\n        const theta = p[5];\n        const dTheta = p[6];\n        const psi = p[7];\n        const fs = p[8];\n\n        const r = rx > ry ? rx : ry;\n        const scaleX = rx > ry ? 1 : rx / ry;\n        const scaleY = rx > ry ? ry / rx : 1;\n\n        p = [x, y, 1];\n        const m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        mat3.translate(m, m, [-cx, -cy]);\n        mat3.rotate(m, m, -psi);\n        mat3.scale(m, m, [1 / scaleX, 1 / scaleY]);\n        vec3.transformMat3(p, p, m);\n        return Inside.arcline(0, 0, r, theta, theta + dTheta, 1 - fs, lineWidth, p[0], p[1]);\n      }\n    }\n    return false;\n  }\n\n  draw(context: CanvasRenderingContext2D): void {\n    const command = this.command;\n    const params = this.params;\n    let point1;\n    let point2;\n    let point3;\n\n    switch (command) {\n      default:\n        break;\n      case 'M':\n        context.moveTo(params[1].x, params[1].y);\n        break;\n      case 'TL':\n      case 'L':\n        context.lineTo(params[1].x, params[1].y);\n        break;\n      case 'SQ':\n      case 'Q':\n        point1 = params[1];\n        point2 = params[2];\n        context.quadraticCurveTo(point1.x, point1.y, point2.x, point2.y);\n        break;\n      case 'C':\n        point1 = params[1];\n        point2 = params[2];\n        point3 = params[3];\n        context.bezierCurveTo(point1.x, point1.y, point2.x, point2.y, point3.x, point3.y);\n        break;\n      case 'A': {\n        const p = params;\n        const p1 = p[1];\n        const p2 = p[2];\n        const cx = p1;\n        const cy = p2;\n        const rx = p[3];\n        const ry = p[4];\n        const theta = p[5];\n        const dTheta = p[6];\n        const psi = p[7];\n        const fs = p[8];\n\n        const r = rx > ry ? rx : ry;\n        const scaleX = rx > ry ? 1 : rx / ry;\n        const scaleY = rx > ry ? ry / rx : 1;\n\n        context.translate(cx, cy);\n        context.rotate(psi);\n        context.scale(scaleX, scaleY);\n        context.arc(0, 0, r, theta, theta + dTheta, 1 - fs);\n        context.scale(1 / scaleX, 1 / scaleY);\n        context.rotate(-psi);\n        context.translate(-cx, -cy);\n        break;\n      }\n      case 'Z':\n        context.closePath();\n        break;\n    }\n  }\n\n  getBBox(lineWidth: number): void {\n    const halfWidth = lineWidth / 2;\n    const params = this.params;\n    let yDims;\n    let xDims;\n    let i;\n    let l;\n\n    switch (this.command) {\n      default:\n      case 'M':\n      case 'Z':\n        break;\n      case 'TL':\n      case 'L':\n        this.box = BBox.fromRange(\n          Math.min(params[0].x, params[1].x) - halfWidth,\n          Math.min(params[0].y, params[1].y) - halfWidth,\n          Math.max(params[0].x, params[1].x) + halfWidth,\n          Math.max(params[0].y, params[1].y) + halfWidth\n        );\n        break;\n      case 'SQ':\n      case 'Q':\n        xDims = Quadratic.extrema(params[0].x, params[1].x, params[2].x);\n        for (i = 0, l = xDims.length; i < l; i++) {\n          xDims[i] = Quadratic.at(params[0].x, params[1].x, params[2].x, xDims[i]);\n        }\n        xDims.push(params[0].x, params[2].x);\n        yDims = Quadratic.extrema(params[0].y, params[1].y, params[2].y);\n        for (i = 0, l = yDims.length; i < l; i++) {\n          yDims[i] = Quadratic.at(params[0].y, params[1].y, params[2].y, yDims);\n        }\n        yDims.push(params[0].y, params[2].y);\n        this.box = BBox.fromRange(\n          Math.min.apply(Math, xDims) - halfWidth,\n          Math.min.apply(Math, yDims) - halfWidth,\n          Math.max.apply(Math, xDims) + halfWidth,\n          Math.max.apply(Math, yDims) + halfWidth\n        );\n        break;\n      case 'C':\n        xDims = Cubic.extrema(params[0].x, params[1].x, params[2].x, params[3].x);\n        for (i = 0, l = xDims.length; i < l; i++) {\n          xDims[i] = Cubic.at(params[0].x, params[1].x, params[2].x, params[3].x, xDims[i]);\n        }\n        yDims = Cubic.extrema(params[0].y, params[1].y, params[2].y, params[3].y);\n        for (i = 0, l = yDims.length; i < l; i++) {\n          yDims[i] = Cubic.at(params[0].y, params[1].y, params[2].y, params[3].y, yDims[i]);\n        }\n        xDims.push(params[0].x, params[3].x);\n        yDims.push(params[0].y, params[3].y);\n        this.box = BBox.fromRange(\n          Math.min.apply(Math, xDims) - halfWidth,\n          Math.min.apply(Math, yDims) - halfWidth,\n          Math.max.apply(Math, xDims) + halfWidth,\n          Math.max.apply(Math, yDims) + halfWidth\n        );\n        break;\n      case 'A': {\n        // todo 待优化\n        const p = params;\n        const cx = p[1];\n        const cy = p[2];\n        const rx = p[3];\n        const ry = p[4];\n        const theta = p[5];\n        const dTheta = p[6];\n        const psi = p[7];\n        const fs = p[8];\n        const start = theta;\n        const end = theta + dTheta;\n\n        const xDim = Ellipse.xExtrema(psi, rx, ry);\n        let minX = Infinity;\n        let maxX = -Infinity;\n        const xs = [start, end];\n        for (i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n          const xAngle = xDim + i;\n          if (fs === 1) {\n            if (start < xAngle && xAngle < end) {\n              xs.push(xAngle);\n            }\n          } else {\n            if (end < xAngle && xAngle < start) {\n              xs.push(xAngle);\n            }\n          }\n        }\n\n        for (i = 0, l = xs.length; i < l; i++) {\n          const x = Ellipse.xAt(psi, rx, ry, cx, xs[i]);\n          if (x < minX) {\n            minX = x;\n          }\n          if (x > maxX) {\n            maxX = x;\n          }\n        }\n\n        const yDim = Ellipse.yExtrema(psi, rx, ry);\n        let minY = Infinity;\n        let maxY = -Infinity;\n        const ys = [start, end];\n        for (i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n          const yAngle = yDim + i;\n          if (fs === 1) {\n            if (start < yAngle && yAngle < end) {\n              ys.push(yAngle);\n            }\n          } else {\n            if (end < yAngle && yAngle < start) {\n              ys.push(yAngle);\n            }\n          }\n        }\n\n        for (i = 0, l = ys.length; i < l; i++) {\n          const y = Ellipse.yAt(psi, rx, ry, cy, ys[i]);\n          if (y < minY) {\n            minY = y;\n          }\n          if (y > maxY) {\n            maxY = y;\n          }\n        }\n        this.box = BBox.fromRange(minX - halfWidth, minY - halfWidth, maxX + halfWidth, maxY + halfWidth);\n        break;\n      }\n    }\n  }\n}\n","import { RenderAttrs } from '../interface';\nimport * as Format from '../../util/format';\nimport PathSegment from './path-segment';\n\nconst PI = Math.PI;\nconst sin = Math.sin;\nconst cos = Math.cos;\nconst atan2 = Math.atan2;\nconst DEFAULT_LENGTH = 10;\nconst DEFAULT_ANGLE = PI / 3;\n\nfunction _addArrow(\n  ctx: CanvasRenderingContext2D,\n  attrs: RenderAttrs,\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  isStart: boolean\n): void {\n  let leftX;\n  let leftY;\n  let rightX;\n  let rightY;\n  let offsetX;\n  let offsetY;\n  let angle;\n\n  if (!attrs.fill) {\n    // 闭合的不绘制箭头\n    const arrowLength = attrs.arrowLength || DEFAULT_LENGTH;\n    const arrowAngle = attrs.arrowAngle ? (attrs.arrowAngle * PI) / 180 : DEFAULT_ANGLE; // 转换为弧\n    // Calculate angle\n    angle = atan2(y1 - y2, x1 - x2);\n    /* // Adjust angle correctly\n    angle -= PI;*/\n    // Calculate offset to place arrow at edge of path\n    offsetX = Math.abs(attrs.lineWidth * cos(angle)) / 2;\n    offsetY = Math.abs(attrs.lineWidth * sin(angle)) / 2;\n    if (isStart) {\n      offsetX = -offsetX;\n      offsetY = -offsetY;\n    }\n    // Calculate coordinates for left half of arrow\n    leftX = x2 + arrowLength * cos(angle + arrowAngle / 2);\n    leftY = y2 + arrowLength * sin(angle + arrowAngle / 2);\n    // Calculate coordinates for right half of arrow\n    rightX = x2 + arrowLength * cos(angle - arrowAngle / 2);\n    rightY = y2 + arrowLength * sin(angle - arrowAngle / 2);\n    ctx.beginPath();\n    // Draw left half of arrow\n    ctx.moveTo(leftX - offsetX, leftY - offsetY);\n    ctx.lineTo(x2 - offsetX, y2 - offsetY);\n    // Draw right half of arrow\n    ctx.lineTo(rightX - offsetX, rightY - offsetY);\n\n    // Visually connect arrow to path\n    ctx.moveTo(x2 - offsetX, y2 - offsetY);\n    ctx.lineTo(x2 + offsetX, y2 + offsetY);\n    // Move back to end of path\n    ctx.moveTo(x2, y2);\n    ctx.stroke();\n  }\n}\n\nfunction parsePath(attrs: RenderAttrs): PathSegment[] {\n  const segments = [];\n  const pathArray = Format.parsePath(attrs.path);\n  let preSegment;\n\n  if (!Array.isArray(pathArray) || pathArray.length === 0 || (pathArray[0][0] !== 'M' && pathArray[0][0] !== 'm')) {\n    return undefined;\n  }\n  const count = pathArray.length;\n  for (let i = 0; i < pathArray.length; i++) {\n    const item = pathArray[i];\n    preSegment = new PathSegment(item, preSegment, i === count - 1);\n    segments.push(preSegment);\n  }\n  return segments;\n}\n\nfunction _addCustomizedArrow(\n  ctx: CanvasRenderingContext2D,\n  attrs: RenderAttrs,\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  isStart: boolean\n): void {\n  const shape = isStart ? attrs.startArrow : attrs.endArrow;\n  const d = shape.d;\n  let deg = 0;\n  const x = x2 - x1;\n  const y = y2 - y1;\n  const tan = Math.atan(x / y);\n  if (y === 0 && x < 0) {\n    deg = Math.PI;\n  } else if (x > 0 && y > 0) {\n    deg = Math.PI / 2 - tan;\n  } else if (x < 0 && y < 0) {\n    deg = -Math.PI / 2 - tan;\n  } else if (x >= 0 && y < 0) {\n    deg = -tan - Math.PI / 2;\n  } else if (x <= 0 && y > 0) {\n    deg = Math.PI / 2 - tan;\n  }\n  const path = parsePath(shape);\n  if (!path) {\n    return;\n  }\n  if (d) {\n    if (isStart) {\n      x2 = x2 + Math.sin(Math.abs(tan)) * d;\n      y2 = y2 + Math.cos(Math.abs(tan)) * d - 0.5 * ctx.lineWidth;\n    } else {\n      x2 = x2 - Math.sin(Math.abs(tan)) * d;\n      y2 = y2 - Math.cos(Math.abs(tan)) * d + 0.5 * ctx.lineWidth;\n    }\n  }\n  ctx.save();\n  ctx.beginPath();\n  ctx.translate(x2, y2);\n  ctx.rotate(deg);\n  for (let i = 0; i < path.length; i++) {\n    path[i].draw(ctx);\n  }\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\n  ctx.fillStyle = ctx.strokeStyle;\n  ctx.fill();\n  ctx.restore();\n}\n\nexport function addStartArrow(\n  ctx: CanvasRenderingContext2D,\n  attrs: RenderAttrs,\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number\n): void {\n  if (typeof attrs.startArrow === 'object') {\n    _addCustomizedArrow(ctx, attrs, x1, y1, x2, y2, true);\n  } else if (attrs.startArrow) {\n    _addArrow(ctx, attrs, x1, y1, x2, y2, true);\n  }\n}\n\nexport function addEndArrow(\n  ctx: CanvasRenderingContext2D,\n  attrs: RenderAttrs,\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number\n): void {\n  if (typeof attrs.endArrow === 'object') {\n    _addCustomizedArrow(ctx, attrs, x1, y1, x2, y2, false);\n  } else if (attrs.endArrow) {\n    _addArrow(ctx, attrs, x1, y1, x2, y2, false);\n  }\n}\n","import * as Util from '@antv/util';\nimport Attribute from './attribute';\nimport { ElementCFG } from '../interface';\n\nconst ReservedProps = {\n  delay: 'delay',\n  rotate: 'rotate',\n};\nconst colorRalaredProps = {\n  fill: 'fill',\n  stroke: 'stroke',\n  fillStyle: 'fillStyle',\n  strokeStyle: 'strokeStyle',\n};\n\nfunction getFromAttrs(toAttrs, shape) {\n  const rst = {};\n  const attrs = shape.attrs;\n  for (const k in toAttrs.attrs) {\n    rst[k] = attrs[k];\n  }\n  return rst;\n}\n\nfunction getFormatProps(props, shape) {\n  const rst = {\n    matrix: null,\n    attrs: {},\n  };\n  const attrs = shape.attrs;\n  for (const k in props) {\n    if (k === 'transform') {\n      rst.matrix = Util.transform(shape.getMatrix(), props[k]);\n    } else if (k === 'rotate') {\n      rst.matrix = Util.transform(shape.getMatrix(), [['r', props[k]]]);\n    } else if (k === 'matrix') {\n      rst.matrix = props[k];\n    } else if (colorRalaredProps[k] && /^[r,R,L,l]{1}[\\s]*\\(/.test(props[k])) {\n      // 渐变色不支持动画\n      continue;\n    } else if (!ReservedProps[k] && attrs[k] !== props[k]) {\n      rst.attrs[k] = props[k];\n    }\n  }\n  return rst;\n}\n\ninterface animator {\n  _paused?: boolean;\n  _pauseTime?: number;\n  callback?: Function;\n  delay: number;\n  duration: number;\n  easing: string;\n  fromAttrs: { [key: string]: any };\n  fromMatrix: number[];\n  id: string;\n  startTime: number;\n  toAttrs: { [key: string]: any };\n  toMatrix?: number[];\n  onFrame?: Function;\n}\n\nfunction checkExistedAttrs(animators: animator[], animator: animator) {\n  if (animator.onFrame) {\n    return animators;\n  }\n  const delay = animator.delay;\n  const hasOwnProperty = Object.prototype.hasOwnProperty;\n  Util.each(animator.toAttrs, (v, k) => {\n    Util.each(animators, (animator) => {\n      if (delay < animator.startTime + animator.duration) {\n        if (hasOwnProperty.call(animator.toAttrs, k)) {\n          delete animator.toAttrs[k];\n          delete animator.fromAttrs[k];\n        }\n      }\n    });\n  });\n  if (animator.toMatrix) {\n    Util.each(animators, (ator) => {\n      if (delay < ator.startTime + ator.duration && ator.toMatrix) {\n        delete ator.toMatrix;\n      }\n    });\n  }\n  return animators;\n}\n\nclass Element extends Attribute {\n  constructor(cfg: ElementCFG = {}) {\n    super(cfg);\n    this.initTransform(); // 初始化变换\n    this.initAnimate(); // 初始化动画\n  }\n\n  initAnimate() {\n    this.setSilent('animable', true);\n    this.setSilent('animating', false); // 初始时不处于动画状态\n  }\n\n  /**\n   * 执行动画\n   * @param  {Object}   toProps  动画最终状态\n   * @param  {Number}   duration 动画执行时间\n   * @param  {String}   easing   动画缓动效果\n   * @param  {Function} callback 动画执行后的回调\n   * @param  {Number}   delay    动画延迟时间\n   */\n  animate(toProps, duration, easing, callback = Util.noop, delay = 0) {\n    const self = this;\n    self.set('animating', true);\n    let timeline = self.get('timeline');\n    if (!timeline) {\n      timeline = self.get('canvas').get('timeline');\n      self.setSilent('timeline', timeline);\n    }\n    let animators = self.get('animators') || [];\n    // 初始化tick\n    if (!timeline.timer) {\n      timeline.initTimer();\n    }\n    if (Util.isNumber(callback)) {\n      delay = callback;\n      callback = null;\n    }\n    if (Util.isFunction(easing)) {\n      callback = easing;\n      easing = 'easeLinear';\n    } else {\n      easing = easing ? easing : 'easeLinear';\n    }\n    const formatProps = getFormatProps(toProps, self);\n\n    const animator = {\n      fromAttrs: getFromAttrs(formatProps, self),\n      toAttrs: formatProps.attrs,\n      fromMatrix: Util.clone(self.getMatrix()),\n      toMatrix: formatProps.matrix,\n      duration,\n      easing,\n      callback,\n      delay,\n      startTime: timeline.getTime(),\n      id: Util.uniqueId(),\n      onFrame: null,\n    };\n    //加入onFrame\n    if (toProps.onFrame) {\n      animator.onFrame = toProps.onFrame;\n    }\n    // 如果动画队列中已经有这个图形了\n    if (animators.length > 0) {\n      // 先检查是否需要合并属性。若有相同的动画，将该属性从前一个动画中删除,直接用后一个动画中\n      animators = checkExistedAttrs(animators, animator);\n    } else {\n      // 否则将图形添加到队列\n      timeline.addAnimator(self);\n    }\n    animators.push(animator);\n    self.setSilent('animators', animators);\n    self.setSilent('pause', { isPaused: false });\n  }\n\n  stopAnimate() {\n    const animators = this.get('animators');\n    // 将动画执行到最后一帧，执行回调\n    Util.each(animators, (animator: animator) => {\n      if (animator.onFrame) {\n        this.attr(animator.onFrame(1));\n      } else {\n        this.attr(animator.toAttrs);\n      }\n      if (animator.toMatrix) {\n        this.attr('matrix', animator.toMatrix);\n      }\n      if (animator.callback) {\n        animator.callback();\n      }\n    });\n    this.setSilent('animating', false);\n    this.setSilent('animators', []);\n  }\n\n  pauseAnimate() {\n    const self = this;\n    const timeline = self.get('timeline');\n    // 记录下是在什么时候暂停的\n    self.setSilent('pause', {\n      isPaused: true,\n      pauseTime: timeline.getTime(),\n    });\n    return self;\n  }\n\n  resumeAnimate() {\n    const self = this;\n    const timeline = self.get('timeline');\n    const current = timeline.getTime();\n    const animators = self.get('animators');\n    const pauseTime = self.get('pause').pauseTime;\n    // 之后更新属性需要计算动画已经执行的时长，如果暂停了，就把初始时间调后\n    Util.each(animators, (animator: animator) => {\n      animator.startTime = animator.startTime + (current - pauseTime);\n      animator._paused = false;\n      animator._pauseTime = null;\n    });\n    self.setSilent('pause', {\n      isPaused: false,\n    });\n    self.setSilent('animators', animators);\n    return self;\n  }\n}\n\nexport default Element;\n","import * as Util from '@antv/util';\n\nclass Event {\n  x: number = 0;\n  y: number = 0;\n  clientX: number = 0;\n  clientY: number = 0;\n  cfg: {\n    [key: string]: any;\n  } = {};\n  type: string;\n  target: any;\n  currentTarget: any;\n  bubbles: boolean = false;\n  cancelable: boolean = false;\n  timeStamp: number = new Date().getTime(); // 时间戳\n  defaultPrevented: boolean = false;\n  propagationStopped: boolean = false; // 阻止冒泡\n  event: any;\n  constructor(type: string, event: any, bubbles?: boolean, cancelable?: boolean) {\n    this.type = type; // 事件类型\n    this.event = event;\n    this.bubbles = !!bubbles;\n    this.cancelable = !!cancelable;\n  }\n\n  preventDefault() {\n    this.defaultPrevented = this.cancelable && true;\n  }\n\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n\n  remove() {\n    this.cfg.removed = true;\n  }\n\n  clone() {\n    return Util.clone(this);\n  }\n\n  toString() {\n    return `[Event (type=${this.type})]`;\n  }\n}\n\nexport default Event;\n","import { vec2 } from '@antv/util';\nimport BBox from '../../core/bbox';\n\nexport function at(p1: number, p2: number, t: number): number {\n  return (p2 - p1) * t + p1;\n}\n\nexport function pointDistance(x1: number, y1: number, x2: number, y2: number, x: number, y: number): number {\n  const d = [x2 - x1, y2 - y1];\n  if (vec2.exactEquals(d, [0, 0])) {\n    return NaN;\n  }\n\n  const u = [-d[1], d[0]];\n  vec2.normalize(u, u);\n  const a = [x - x1, y - y1];\n  return Math.abs(vec2.dot(a, u));\n}\n\nexport function box(x1: number, y1: number, x2: number, y2: number, lineWidth: number): BBox {\n  const halfWidth = lineWidth / 2;\n  return BBox.fromRange(\n    Math.min(x1, x2) - halfWidth,\n    Math.min(y1, y2) - halfWidth,\n    Math.max(x1, x2) + halfWidth,\n    Math.max(y1, y2) + halfWidth\n  );\n}\n\nexport function len(x1: number, y1: number, x2: number, y2: number): number {\n  return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n}\n","import * as Util from '@antv/util';\nimport { PointType } from '../../interface';\n\nconst vec2 = Util.vec2;\nconst EPSILON = 0.0001;\n\nexport function at(p0: number, p1: number, p2: number, p3: number, t: number): number {\n  const onet = 1 - t;\n  return onet * onet * (onet * p3 + 3 * t * p2) + t * t * (t * p0 + 3 * onet * p1);\n}\n\nexport function derivativeAt(p0: number, p1: number, p2: number, p3: number, t: number): number {\n  const onet = 1 - t;\n  return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet + (p3 - p2) * t * t);\n}\n\nexport function pointDistance(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x4: number,\n  y4: number,\n  x: number,\n  y: number,\n  out?: boolean\n): PointType | number {\n  let t;\n  let interval = 0.005;\n  let d = Infinity;\n  let _t;\n  let v1;\n  let d1;\n  let d2;\n  let v2;\n  let prev;\n  let next;\n  const v0 = [x, y];\n\n  for (_t = 0; _t < 1; _t += 0.05) {\n    v1 = [at(x1, x2, x3, x4, _t), at(y1, y2, y3, y4, _t)];\n\n    d1 = vec2.squaredDistance(v0, v1);\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n  d = Infinity;\n\n  for (let i = 0; i < 32; i++) {\n    if (interval < EPSILON) {\n      break;\n    }\n\n    prev = t - interval;\n    next = t + interval;\n\n    v1 = [at(x1, x2, x3, x4, prev), at(y1, y2, y3, y4, prev)];\n\n    d1 = vec2.squaredDistance(v0, v1);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      v2 = [at(x1, x2, x3, x4, next), at(y1, y2, y3, y4, next)];\n\n      d2 = vec2.squaredDistance(v0, v2);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  }\n\n  if (out) {\n    const p = {\n      x: at(x1, x2, x3, x4, t),\n      y: at(y1, y2, y3, y4, t),\n    };\n    return p;\n  }\n\n  return Math.sqrt(d);\n}\n\nexport function extrema(p0: number, p1: number, p2: number, p3: number): number[] {\n  const a = 3 * p0 - 9 * p1 + 9 * p2 - 3 * p3;\n  const b = 6 * p1 - 12 * p2 + 6 * p3;\n  const c = 3 * p2 - 3 * p3;\n  const extrema = [];\n  let t1;\n  let t2;\n  let discSqrt;\n\n  if (Util.isNumberEqual(a, 0)) {\n    if (!Util.isNumberEqual(b, 0)) {\n      t1 = -c / b;\n      if (t1 >= 0 && t1 <= 1) {\n        extrema.push(t1);\n      }\n    }\n  } else {\n    const disc = b * b - 4 * a * c;\n    if (Util.isNumberEqual(disc, 0)) {\n      extrema.push(-b / (2 * a));\n    } else if (disc > 0) {\n      discSqrt = Math.sqrt(disc);\n      t1 = (-b + discSqrt) / (2 * a);\n      t2 = (-b - discSqrt) / (2 * a);\n      if (t1 >= 0 && t1 <= 1) {\n        extrema.push(t1);\n      }\n      if (t2 >= 0 && t2 <= 1) {\n        extrema.push(t2);\n      }\n    }\n  }\n  return extrema;\n}\n\nfunction base3(t: number, p1: number, p2: number, p3: number, p4: number): number {\n  const t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4;\n  const t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n  return t * t2 - 3 * p1 + 3 * p2;\n}\n\nexport function len(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x4: number,\n  y4: number,\n  z?: number\n): number {\n  if (Util.isNil(z)) {\n    z = 1;\n  }\n  z = z > 1 ? 1 : z < 0 ? 0 : z;\n  const z2 = z / 2;\n  const n = 12;\n  const Tvalues = [\n    -0.1252,\n    0.1252,\n    -0.3678,\n    0.3678,\n    -0.5873,\n    0.5873,\n    -0.7699,\n    0.7699,\n    -0.9041,\n    0.9041,\n    -0.9816,\n    0.9816,\n  ];\n  const Cvalues = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472];\n  let sum = 0;\n  for (let i = 0; i < n; i++) {\n    const ct = z2 * Tvalues[i] + z2;\n    const xbase = base3(ct, x1, x2, x3, x4);\n    const ybase = base3(ct, y1, y2, y3, y4);\n    const comb = xbase * xbase + ybase * ybase;\n    sum += Cvalues[i] * Math.sqrt(comb);\n  }\n  return z2 * sum;\n}\n\nexport const projectPoint = (x1, y1, x2, y2, x3, y3, x4, y4, x, y): PointType => {\n  return pointDistance(x1, y1, x2, y2, x3, y3, x4, y4, x, y, true) as PointType;\n};\n","import * as _ from '@antv/util';\n\nconst SPACES =\n  '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\nconst PATH_COMMAND = new RegExp(\n  '([a-z])[' + SPACES + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + SPACES + ']*,?[' + SPACES + ']*)+)',\n  'ig'\n);\nconst PATH_VALUES = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + SPACES + ']*,?[' + SPACES + ']*', 'ig');\n\n// Parses given path string into an array of arrays of path segments\nconst parsePathString = function(pathString) {\n  if (!pathString) {\n    return null;\n  }\n\n  if (typeof pathString === typeof []) {\n    return pathString;\n  }\n  const paramCounts = {\n    a: 7,\n    c: 6,\n    o: 2,\n    h: 1,\n    l: 2,\n    m: 2,\n    r: 4,\n    q: 4,\n    s: 4,\n    t: 2,\n    v: 1,\n    u: 3,\n    z: 0,\n  };\n  const data = [];\n\n  String(pathString).replace(PATH_COMMAND, (a, b, c) => {\n    const params = [];\n    let name = b.toLowerCase();\n    c.replace(PATH_VALUES, function(a, b) {\n      b && params.push(+b);\n    });\n    if (name === 'm' && params.length > 2) {\n      data.push([b].concat(params.splice(0, 2)));\n      name = 'l';\n      b = b === 'm' ? 'l' : 'L';\n    }\n    if (name === 'o' && params.length === 1) {\n      data.push([b, params[0]]);\n    }\n    if (name === 'r') {\n      data.push([b].concat(params));\n    } else {\n      while (params.length >= paramCounts[name]) {\n        data.push([b].concat(params.splice(0, paramCounts[name])));\n        if (!paramCounts[name]) {\n          break;\n        }\n      }\n    }\n    return pathString;\n  });\n\n  return data;\n};\n\n// http://schepers.cc/getting-to-the-point\nconst catmullRomToBezier = function(crp, z) {\n  const d = [];\n  // @ts-ignore\n  for (let i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n    const p = [\n      {\n        x: +crp[i - 2],\n        y: +crp[i - 1],\n      },\n      {\n        x: +crp[i],\n        y: +crp[i + 1],\n      },\n      {\n        x: +crp[i + 2],\n        y: +crp[i + 3],\n      },\n      {\n        x: +crp[i + 4],\n        y: +crp[i + 5],\n      },\n    ];\n    if (z) {\n      if (!i) {\n        p[0] = {\n          x: +crp[iLen - 2],\n          y: +crp[iLen - 1],\n        };\n      } else if (iLen - 4 === i) {\n        p[3] = {\n          x: +crp[0],\n          y: +crp[1],\n        };\n      } else if (iLen - 2 === i) {\n        p[2] = {\n          x: +crp[0],\n          y: +crp[1],\n        };\n        p[3] = {\n          x: +crp[2],\n          y: +crp[3],\n        };\n      }\n    } else {\n      if (iLen - 4 === i) {\n        p[3] = p[2];\n      } else if (!i) {\n        p[0] = {\n          x: +crp[i],\n          y: +crp[i + 1],\n        };\n      }\n    }\n    d.push([\n      'C',\n      (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n      (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n      (p[1].x + 6 * p[2].x - p[3].x) / 6,\n      (p[1].y + 6 * p[2].y - p[3].y) / 6,\n      p[2].x,\n      p[2].y,\n    ]);\n  }\n\n  return d;\n};\n\nconst ellipsePath = function(x, y, rx, ry, a?) {\n  let res = [];\n  if (a === null && ry === null) {\n    ry = rx;\n  }\n  x = +x;\n  y = +y;\n  rx = +rx;\n  ry = +ry;\n  if (a !== null) {\n    const rad = Math.PI / 180;\n    const x1 = x + rx * Math.cos(-ry * rad);\n    const x2 = x + rx * Math.cos(-a * rad);\n    const y1 = y + rx * Math.sin(-ry * rad);\n    const y2 = y + rx * Math.sin(-a * rad);\n    res = [['M', x1, y1], ['A', rx, rx, 0, +(a - ry > 180), 0, x2, y2]];\n  } else {\n    res = [['M', x, y], ['m', 0, -ry], ['a', rx, ry, 0, 1, 1, 0, 2 * ry], ['a', rx, ry, 0, 1, 1, 0, -2 * ry], ['z']];\n  }\n  return res;\n};\n\nconst pathToAbsolute = function(pathArray) {\n  pathArray = parsePathString(pathArray);\n\n  if (!pathArray || !pathArray.length) {\n    return [['M', 0, 0]];\n  }\n  let res = [];\n  let x = 0;\n  let y = 0;\n  let mx = 0;\n  let my = 0;\n  let start = 0;\n  let pa0;\n  let dots;\n  if (pathArray[0][0] === 'M') {\n    x = +pathArray[0][1];\n    y = +pathArray[0][2];\n    mx = x;\n    my = y;\n    start++;\n    res[0] = ['M', x, y];\n  }\n  const crz =\n    pathArray.length === 3 &&\n    pathArray[0][0] === 'M' &&\n    pathArray[1][0].toUpperCase() === 'R' &&\n    pathArray[2][0].toUpperCase() === 'Z';\n  for (let r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n    res.push((r = []));\n    pa = pathArray[i];\n    pa0 = pa[0];\n    if (pa0 !== pa0.toUpperCase()) {\n      r[0] = pa0.toUpperCase();\n      switch (r[0]) {\n        case 'A':\n          r[1] = pa[1];\n          r[2] = pa[2];\n          r[3] = pa[3];\n          r[4] = pa[4];\n          r[5] = pa[5];\n          r[6] = +pa[6] + x;\n          r[7] = +pa[7] + y;\n          break;\n        case 'V':\n          r[1] = +pa[1] + y;\n          break;\n        case 'H':\n          r[1] = +pa[1] + x;\n          break;\n        case 'R':\n          dots = [x, y].concat(pa.slice(1));\n          for (let j = 2, jj = dots.length; j < jj; j++) {\n            dots[j] = +dots[j] + x;\n            dots[++j] = +dots[j] + y;\n          }\n          res.pop();\n          res = res.concat(catmullRomToBezier(dots, crz));\n          break;\n        case 'O':\n          res.pop();\n          dots = ellipsePath(x, y, pa[1], pa[2]);\n          dots.push(dots[0]);\n          res = res.concat(dots);\n          break;\n        case 'U':\n          res.pop();\n          res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n          r = ['U'].concat(res[res.length - 1].slice(-2));\n          break;\n        case 'M':\n          mx = +pa[1] + x;\n          my = +pa[2] + y;\n          break; // for lint\n        default:\n          for (let j = 1, jj = pa.length; j < jj; j++) {\n            r[j] = +pa[j] + (j % 2 ? x : y);\n          }\n      }\n    } else if (pa0 === 'R') {\n      dots = [x, y].concat(pa.slice(1));\n      res.pop();\n      res = res.concat(catmullRomToBezier(dots, crz));\n      r = ['R'].concat(pa.slice(-2));\n    } else if (pa0 === 'O') {\n      res.pop();\n      dots = ellipsePath(x, y, pa[1], pa[2]);\n      dots.push(dots[0]);\n      res = res.concat(dots);\n    } else if (pa0 === 'U') {\n      res.pop();\n      res = res.concat(ellipsePath(x, y, pa[1], pa[2], pa[3]));\n      r = ['U'].concat(res[res.length - 1].slice(-2));\n    } else {\n      for (let k = 0, kk = pa.length; k < kk; k++) {\n        r[k] = pa[k];\n      }\n    }\n    pa0 = pa0.toUpperCase();\n    if (pa0 !== 'O') {\n      switch (r[0]) {\n        case 'Z':\n          x = +mx;\n          y = +my;\n          break;\n        case 'H':\n          x = r[1];\n          break;\n        case 'V':\n          y = r[1];\n          break;\n        case 'M':\n          mx = r[r.length - 2];\n          my = r[r.length - 1];\n          break; // for lint\n        default:\n          x = r[r.length - 2];\n          y = r[r.length - 1];\n      }\n    }\n  }\n\n  return res;\n};\n\nconst l2c = function(x1, y1, x2, y2) {\n  return [x1, y1, x2, y2, x2, y2];\n};\n\nconst q2c = function(x1, y1, ax, ay, x2, y2) {\n  const _13 = 1 / 3;\n  const _23 = 2 / 3;\n  return [_13 * x1 + _23 * ax, _13 * y1 + _23 * ay, _13 * x2 + _23 * ax, _13 * y2 + _23 * ay, x2, y2];\n};\n\nconst a2c = function(x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n  // for more information of where this math came from visit:\n  // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n  if (rx === ry) {\n    rx += 1;\n  }\n\n  const _120 = (Math.PI * 120) / 180;\n  const rad = (Math.PI / 180) * (+angle || 0);\n  let res = [];\n  let xy;\n  let f1;\n  let f2;\n  let cx;\n  let cy;\n  const rotate = function(x, y, rad) {\n    const X = x * Math.cos(rad) - y * Math.sin(rad);\n    const Y = x * Math.sin(rad) + y * Math.cos(rad);\n    return {\n      x: X,\n      y: Y,\n    };\n  };\n  if (!recursive) {\n    xy = rotate(x1, y1, -rad);\n    x1 = xy.x;\n    y1 = xy.y;\n    xy = rotate(x2, y2, -rad);\n    x2 = xy.x;\n    y2 = xy.y;\n    if (x1 === x2 && y1 === y2) {\n      // 若弧的起始点和终点重叠则错开一点\n      x2 += 1;\n      y2 += 1;\n    }\n    // const cos = Math.cos(Math.PI / 180 * angle);\n    // const sin = Math.sin(Math.PI / 180 * angle);\n    const x = (x1 - x2) / 2;\n    const y = (y1 - y2) / 2;\n    let h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n    if (h > 1) {\n      h = Math.sqrt(h);\n      rx = h * rx;\n      ry = h * ry;\n    }\n    const rx2 = rx * rx;\n    const ry2 = ry * ry;\n    const k =\n      (large_arc_flag === sweep_flag ? -1 : 1) *\n      Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n    cx = (k * rx * y) / ry + (x1 + x2) / 2;\n    cy = (k * -ry * x) / rx + (y1 + y2) / 2;\n    // @ts-ignore\n    f1 = Math.asin(((y1 - cy) / ry).toFixed(9));\n    // @ts-ignore\n    f2 = Math.asin(((y2 - cy) / ry).toFixed(9));\n\n    f1 = x1 < cx ? Math.PI - f1 : f1;\n    f2 = x2 < cx ? Math.PI - f2 : f2;\n    f1 < 0 && (f1 = Math.PI * 2 + f1);\n    f2 < 0 && (f2 = Math.PI * 2 + f2);\n    if (sweep_flag && f1 > f2) {\n      f1 = f1 - Math.PI * 2;\n    }\n    if (!sweep_flag && f2 > f1) {\n      f2 = f2 - Math.PI * 2;\n    }\n  } else {\n    f1 = recursive[0];\n    f2 = recursive[1];\n    cx = recursive[2];\n    cy = recursive[3];\n  }\n  let df = f2 - f1;\n  if (Math.abs(df) > _120) {\n    const f2old = f2;\n    const x2old = x2;\n    const y2old = y2;\n    f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n    x2 = cx + rx * Math.cos(f2);\n    y2 = cy + ry * Math.sin(f2);\n    res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n  }\n  df = f2 - f1;\n  const c1 = Math.cos(f1);\n  const s1 = Math.sin(f1);\n  const c2 = Math.cos(f2);\n  const s2 = Math.sin(f2);\n  const t = Math.tan(df / 4);\n  const hx = (4 / 3) * rx * t;\n  const hy = (4 / 3) * ry * t;\n  const m1 = [x1, y1];\n  const m2 = [x1 + hx * s1, y1 - hy * c1];\n  const m3 = [x2 + hx * s2, y2 - hy * c2];\n  const m4 = [x2, y2];\n  m2[0] = 2 * m1[0] - m2[0];\n  m2[1] = 2 * m1[1] - m2[1];\n  if (recursive) {\n    return [m2, m3, m4].concat(res);\n  }\n  res = [m2, m3, m4]\n    .concat(res)\n    .join()\n    .split(',');\n  const newres = [];\n  for (let i = 0, ii = res.length; i < ii; i++) {\n    newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n  }\n  return newres;\n};\n\nconst pathTocurve = function(path, path2?) {\n  const p = pathToAbsolute(path);\n  const p2 = path2 && pathToAbsolute(path2);\n  const attrs = {\n    x: 0,\n    y: 0,\n    bx: 0,\n    by: 0,\n    X: 0,\n    Y: 0,\n    qx: null,\n    qy: null,\n  };\n  const attrs2 = {\n    x: 0,\n    y: 0,\n    bx: 0,\n    by: 0,\n    X: 0,\n    Y: 0,\n    qx: null,\n    qy: null,\n  };\n  const pcoms1 = []; // path commands of original path p\n  const pcoms2 = []; // path commands of original path p2\n  let pfirst = ''; // temporary holder for original path command\n  let pcom = ''; // holder for previous path command of original path\n  let ii;\n  const processPath = function(path, d, pcom) {\n    let nx, ny;\n    if (!path) {\n      return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n    }\n    !(\n      path[0] in\n      {\n        T: 1,\n        Q: 1,\n      }\n    ) && (d.qx = d.qy = null);\n    switch (path[0]) {\n      case 'M':\n        d.X = path[1];\n        d.Y = path[2];\n        break;\n      case 'A':\n        path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n        break;\n      case 'S':\n        if (pcom === 'C' || pcom === 'S') {\n          // In \"S\" case we have to take into account, if the previous command is C/S.\n          nx = d.x * 2 - d.bx; // And reflect the previous\n          ny = d.y * 2 - d.by; // command's control point relative to the current point.\n        } else {\n          // or some else or nothing\n          nx = d.x;\n          ny = d.y;\n        }\n        path = ['C', nx, ny].concat(path.slice(1));\n        break;\n      case 'T':\n        if (pcom === 'Q' || pcom === 'T') {\n          // In \"T\" case we have to take into account, if the previous command is Q/T.\n          d.qx = d.x * 2 - d.qx; // And make a reflection similar\n          d.qy = d.y * 2 - d.qy; // to case \"S\".\n        } else {\n          // or something else or nothing\n          d.qx = d.x;\n          d.qy = d.y;\n        }\n        path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n        break;\n      case 'Q':\n        d.qx = path[1];\n        d.qy = path[2];\n        path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n        break;\n      case 'L':\n        path = ['C'].concat(l2c(d.x, d.y, path[1], path[2]));\n        break;\n      case 'H':\n        path = ['C'].concat(l2c(d.x, d.y, path[1], d.y));\n        break;\n      case 'V':\n        path = ['C'].concat(l2c(d.x, d.y, d.x, path[1]));\n        break;\n      case 'Z':\n        path = ['C'].concat(l2c(d.x, d.y, d.X, d.Y));\n        break;\n      default:\n        break;\n    }\n    return path;\n  };\n  const fixArc = function(pp, i) {\n    if (pp[i].length > 7) {\n      pp[i].shift();\n      const pi = pp[i];\n      while (pi.length) {\n        pcoms1[i] = 'A'; // if created multiple C:s, their original seg is saved\n        p2 && (pcoms2[i] = 'A'); // the same as above\n        pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n      }\n      pp.splice(i, 1);\n      ii = Math.max(p.length, (p2 && p2.length) || 0);\n    }\n  };\n  const fixM = function(path1, path2, a1, a2, i) {\n    if (path1 && path2 && path1[i][0] === 'M' && path2[i][0] !== 'M') {\n      path2.splice(i, 0, ['M', a2.x, a2.y]);\n      a1.bx = 0;\n      a1.by = 0;\n      a1.x = path1[i][1];\n      a1.y = path1[i][2];\n      ii = Math.max(p.length, (p2 && p2.length) || 0);\n    }\n  };\n  ii = Math.max(p.length, (p2 && p2.length) || 0);\n  for (let i = 0; i < ii; i++) {\n    p[i] && (pfirst = p[i][0]); // save current path command\n\n    if (pfirst !== 'C') {\n      // C is not saved yet, because it may be result of conversion\n      pcoms1[i] = pfirst; // Save current path command\n      i && (pcom = pcoms1[i - 1]); // Get previous path command pcom\n    }\n    p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n    if (pcoms1[i] !== 'A' && pfirst === 'C') pcoms1[i] = 'C'; // A is the only command\n    // which may produce multiple C:s\n    // so we have to make sure that C is also C in original path\n\n    fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n\n    if (p2) {\n      // the same procedures is done to p2\n      p2[i] && (pfirst = p2[i][0]);\n      if (pfirst !== 'C') {\n        pcoms2[i] = pfirst;\n        i && (pcom = pcoms2[i - 1]);\n      }\n      p2[i] = processPath(p2[i], attrs2, pcom);\n\n      if (pcoms2[i] !== 'A' && pfirst === 'C') {\n        pcoms2[i] = 'C';\n      }\n\n      fixArc(p2, i);\n    }\n    fixM(p, p2, attrs, attrs2, i);\n    fixM(p2, p, attrs2, attrs, i);\n    const seg = p[i];\n    const seg2 = p2 && p2[i];\n    const seglen = seg.length;\n    const seg2len = p2 && seg2.length;\n    attrs.x = seg[seglen - 2];\n    attrs.y = seg[seglen - 1];\n    attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n    attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n    attrs2.bx = p2 && (parseFloat(seg2[seg2len - 4]) || attrs2.x);\n    attrs2.by = p2 && (parseFloat(seg2[seg2len - 3]) || attrs2.y);\n    attrs2.x = p2 && seg2[seg2len - 2];\n    attrs2.y = p2 && seg2[seg2len - 1];\n  }\n\n  return p2 ? [p, p2] : p;\n};\n\nconst p2s = /,?([a-z]),?/gi;\nconst parsePathArray = function(path) {\n  return path.join(',').replace(p2s, '$1');\n};\n\nconst base3 = function(t, p1, p2, p3, p4) {\n  const t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4;\n  const t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n  return t * t2 - 3 * p1 + 3 * p2;\n};\n\nconst bezlen = function(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n  if (z === null) {\n    z = 1;\n  }\n  z = z > 1 ? 1 : z < 0 ? 0 : z;\n  const z2 = z / 2;\n  const n = 12;\n  const Tvalues = [\n    -0.1252,\n    0.1252,\n    -0.3678,\n    0.3678,\n    -0.5873,\n    0.5873,\n    -0.7699,\n    0.7699,\n    -0.9041,\n    0.9041,\n    -0.9816,\n    0.9816,\n  ];\n  const Cvalues = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472];\n  let sum = 0;\n  for (let i = 0; i < n; i++) {\n    const ct = z2 * Tvalues[i] + z2;\n    const xbase = base3(ct, x1, x2, x3, x4);\n    const ybase = base3(ct, y1, y2, y3, y4);\n    const comb = xbase * xbase + ybase * ybase;\n    sum += Cvalues[i] * Math.sqrt(comb);\n  }\n  return z2 * sum;\n};\n\nconst curveDim = function(x0, y0, x1, y1, x2, y2, x3, y3) {\n  const tvalues = [];\n  const bounds = [[], []];\n  let a;\n  let b;\n  let c;\n  let t;\n\n  for (let i = 0; i < 2; ++i) {\n    if (i === 0) {\n      b = 6 * x0 - 12 * x1 + 6 * x2;\n      a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n      c = 3 * x1 - 3 * x0;\n    } else {\n      b = 6 * y0 - 12 * y1 + 6 * y2;\n      a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n      c = 3 * y1 - 3 * y0;\n    }\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) < 1e-12) {\n        continue;\n      }\n      t = -c / b;\n      if (t > 0 && t < 1) {\n        tvalues.push(t);\n      }\n      continue;\n    }\n    const b2ac = b * b - 4 * c * a;\n    const sqrtb2ac = Math.sqrt(b2ac);\n    if (b2ac < 0) {\n      continue;\n    }\n    const t1 = (-b + sqrtb2ac) / (2 * a);\n    if (t1 > 0 && t1 < 1) {\n      tvalues.push(t1);\n    }\n    const t2 = (-b - sqrtb2ac) / (2 * a);\n    if (t2 > 0 && t2 < 1) {\n      tvalues.push(t2);\n    }\n  }\n\n  let j = tvalues.length;\n  const jlen = j;\n  let mt;\n  while (j--) {\n    t = tvalues[j];\n    mt = 1 - t;\n    bounds[0][j] = mt * mt * mt * x0 + 3 * mt * mt * t * x1 + 3 * mt * t * t * x2 + t * t * t * x3;\n    bounds[1][j] = mt * mt * mt * y0 + 3 * mt * mt * t * y1 + 3 * mt * t * t * y2 + t * t * t * y3;\n  }\n\n  bounds[0][jlen] = x0;\n  bounds[1][jlen] = y0;\n  bounds[0][jlen + 1] = x3;\n  bounds[1][jlen + 1] = y3;\n  bounds[0].length = bounds[1].length = jlen + 2;\n\n  return {\n    min: {\n      x: Math.min.apply(0, bounds[0]),\n      y: Math.min.apply(0, bounds[1]),\n    },\n    max: {\n      x: Math.max.apply(0, bounds[0]),\n      y: Math.max.apply(0, bounds[1]),\n    },\n  };\n};\n\nconst intersect = function(x1, y1, x2, y2, x3, y3, x4, y4) {\n  if (\n    Math.max(x1, x2) < Math.min(x3, x4) ||\n    Math.min(x1, x2) > Math.max(x3, x4) ||\n    Math.max(y1, y2) < Math.min(y3, y4) ||\n    Math.min(y1, y2) > Math.max(y3, y4)\n  ) {\n    return;\n  }\n  const nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4);\n  const ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4);\n  const denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n  if (!denominator) {\n    return;\n  }\n  const px = nx / denominator;\n  const py = ny / denominator;\n  const px2 = +px.toFixed(2);\n  const py2 = +py.toFixed(2);\n  if (\n    px2 < +Math.min(x1, x2).toFixed(2) ||\n    px2 > +Math.max(x1, x2).toFixed(2) ||\n    px2 < +Math.min(x3, x4).toFixed(2) ||\n    px2 > +Math.max(x3, x4).toFixed(2) ||\n    py2 < +Math.min(y1, y2).toFixed(2) ||\n    py2 > +Math.max(y1, y2).toFixed(2) ||\n    py2 < +Math.min(y3, y4).toFixed(2) ||\n    py2 > +Math.max(y3, y4).toFixed(2)\n  ) {\n    return;\n  }\n  return {\n    x: px,\n    y: py,\n  };\n};\n\nconst isPointInsideBBox = function(bbox, x, y) {\n  return x >= bbox.x && x <= bbox.x + bbox.width && y >= bbox.y && y <= bbox.y + bbox.height;\n};\n\nconst rectPath = function(x, y, w, h, r?) {\n  if (r) {\n    return [\n      ['M', +x + +r, y],\n      ['l', w - r * 2, 0],\n      ['a', r, r, 0, 0, 1, r, r],\n      ['l', 0, h - r * 2],\n      ['a', r, r, 0, 0, 1, -r, r],\n      ['l', r * 2 - w, 0],\n      ['a', r, r, 0, 0, 1, -r, -r],\n      ['l', 0, r * 2 - h],\n      ['a', r, r, 0, 0, 1, r, -r],\n      ['z'],\n    ];\n  }\n  const res = [['M', x, y], ['l', w, 0], ['l', 0, h], ['l', -w, 0], ['z']];\n  // @ts-ignore\n  res.parsePathArray = parsePathArray;\n  return res;\n};\n\nconst box = function(x?, y?, width?, height?) {\n  if (x === null) {\n    x = y = width = height = 0;\n  }\n  if (y === null) {\n    y = x.y;\n    width = x.width;\n    height = x.height;\n    x = x.x;\n  }\n  return {\n    x,\n    y,\n    width,\n    w: width,\n    height,\n    h: height,\n    x2: x + width,\n    y2: y + height,\n    cx: x + width / 2,\n    cy: y + height / 2,\n    r1: Math.min(width, height) / 2,\n    r2: Math.max(width, height) / 2,\n    r0: Math.sqrt(width * width + height * height) / 2,\n    path: rectPath(x, y, width, height),\n    vb: [x, y, width, height].join(' '),\n  };\n};\n\nconst isBBoxIntersect = function(bbox1, bbox2) {\n  bbox1 = box(bbox1);\n  bbox2 = box(bbox2);\n  return (\n    isPointInsideBBox(bbox2, bbox1.x, bbox1.y) ||\n    isPointInsideBBox(bbox2, bbox1.x2, bbox1.y) ||\n    isPointInsideBBox(bbox2, bbox1.x, bbox1.y2) ||\n    isPointInsideBBox(bbox2, bbox1.x2, bbox1.y2) ||\n    isPointInsideBBox(bbox1, bbox2.x, bbox2.y) ||\n    isPointInsideBBox(bbox1, bbox2.x2, bbox2.y) ||\n    isPointInsideBBox(bbox1, bbox2.x, bbox2.y2) ||\n    isPointInsideBBox(bbox1, bbox2.x2, bbox2.y2) ||\n    (((bbox1.x < bbox2.x2 && bbox1.x > bbox2.x) || (bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)) &&\n      ((bbox1.y < bbox2.y2 && bbox1.y > bbox2.y) || (bbox2.y < bbox1.y2 && bbox2.y > bbox1.y)))\n  );\n};\n\nconst bezierBBox = function(p1x, p1y?, c1x?, c1y?, c2x?, c2y?, p2x?, p2y?) {\n  if (!_.isArray(p1x)) {\n    p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n  }\n  const bbox = curveDim.apply(null, p1x);\n  return box(bbox.min.x, bbox.min.y, bbox.max.x - bbox.min.x, bbox.max.y - bbox.min.y);\n};\n\nconst findDotsAtSegment = function(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n  const t1 = 1 - t;\n  const t13 = Math.pow(t1, 3);\n  const t12 = Math.pow(t1, 2);\n  const t2 = t * t;\n  const t3 = t2 * t;\n  const x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x;\n  const y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y;\n  const mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x);\n  const my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y);\n  const nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x);\n  const ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y);\n  const ax = t1 * p1x + t * c1x;\n  const ay = t1 * p1y + t * c1y;\n  const cx = t1 * c2x + t * p2x;\n  const cy = t1 * c2y + t * p2y;\n  const alpha = 90 - (Math.atan2(mx - nx, my - ny) * 180) / Math.PI;\n  // (mx > nx || my < ny) && (alpha += 180);\n  return {\n    x,\n    y,\n    m: {\n      x: mx,\n      y: my,\n    },\n    n: {\n      x: nx,\n      y: ny,\n    },\n    start: {\n      x: ax,\n      y: ay,\n    },\n    end: {\n      x: cx,\n      y: cy,\n    },\n    alpha,\n  };\n};\n\nconst interHelper = function(bez1, bez2, justCount) {\n  const bbox1 = bezierBBox(bez1);\n  const bbox2 = bezierBBox(bez2);\n  if (!isBBoxIntersect(bbox1, bbox2)) {\n    return justCount ? 0 : [];\n  }\n  const l1 = bezlen.apply(0, bez1);\n  const l2 = bezlen.apply(0, bez2);\n  const n1 = ~~(l1 / 8);\n  const n2 = ~~(l2 / 8);\n  const dots1 = [];\n  const dots2 = [];\n  const xy = {};\n  let res = justCount ? 0 : [];\n  for (let i = 0; i < n1 + 1; i++) {\n    const d = findDotsAtSegment.apply(0, bez1.concat(i / n1));\n    dots1.push({\n      x: d.x,\n      y: d.y,\n      t: i / n1,\n    });\n  }\n  for (let i = 0; i < n2 + 1; i++) {\n    const d = findDotsAtSegment.apply(0, bez2.concat(i / n2));\n    dots2.push({\n      x: d.x,\n      y: d.y,\n      t: i / n2,\n    });\n  }\n  for (let i = 0; i < n1; i++) {\n    for (let j = 0; j < n2; j++) {\n      const di = dots1[i];\n      const di1 = dots1[i + 1];\n      const dj = dots2[j];\n      const dj1 = dots2[j + 1];\n      const ci = Math.abs(di1.x - di.x) < 0.001 ? 'y' : 'x';\n      const cj = Math.abs(dj1.x - dj.x) < 0.001 ? 'y' : 'x';\n      const is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n      if (is) {\n        if (xy[is.x.toFixed(4)] === is.y.toFixed(4)) {\n          continue;\n        }\n        xy[is.x.toFixed(4)] = is.y.toFixed(4);\n        const t1 = di.t + Math.abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t);\n        const t2 = dj.t + Math.abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n        if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n          if (justCount) {\n            // @ts-ignore\n            res += 1;\n          } else {\n            // @ts-ignore\n            res.push({\n              x: is.x,\n              y: is.y,\n              t1,\n              t2,\n            });\n          }\n        }\n      }\n    }\n  }\n  return res;\n};\n\nconst interPathHelper = function(path1, path2, justCount?) {\n  path1 = pathTocurve(path1);\n  path2 = pathTocurve(path2);\n  let x1;\n  let y1;\n  let x2;\n  let y2;\n  let x1m;\n  let y1m;\n  let x2m;\n  let y2m;\n  let bez1;\n  let bez2;\n  let res = justCount ? 0 : [];\n  for (let i = 0, ii = path1.length; i < ii; i++) {\n    const pi = path1[i];\n    if (pi[0] === 'M') {\n      x1 = x1m = pi[1];\n      y1 = y1m = pi[2];\n    } else {\n      if (pi[0] === 'C') {\n        bez1 = [x1, y1].concat(pi.slice(1));\n        x1 = bez1[6];\n        y1 = bez1[7];\n      } else {\n        bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n        x1 = x1m;\n        y1 = y1m;\n      }\n      for (let j = 0, jj = path2.length; j < jj; j++) {\n        const pj = path2[j];\n        if (pj[0] === 'M') {\n          x2 = x2m = pj[1];\n          y2 = y2m = pj[2];\n        } else {\n          if (pj[0] === 'C') {\n            bez2 = [x2, y2].concat(pj.slice(1));\n            x2 = bez2[6];\n            y2 = bez2[7];\n          } else {\n            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n            x2 = x2m;\n            y2 = y2m;\n          }\n          const intr = interHelper(bez1, bez2, justCount);\n          if (justCount) {\n            // @ts-ignore\n            res += intr;\n          } else {\n            // @ts-ignore\n            for (let k = 0, kk = intr.length; k < kk; k++) {\n              intr[k].segment1 = i;\n              intr[k].segment2 = j;\n              intr[k].bez1 = bez1;\n              intr[k].bez2 = bez2;\n            }\n            // @ts-ignore\n            res = res.concat(intr);\n          }\n        }\n      }\n    }\n  }\n  return res;\n};\n\nconst intersection = function(path1, path2) {\n  return interPathHelper(path1, path2);\n};\n\nfunction decasteljau(points, t) {\n  const left = [];\n  const right = [];\n\n  function recurse(points, t) {\n    if (points.length === 1) {\n      left.push(points[0]);\n      right.push(points[0]);\n    } else {\n      const middlePoints = [];\n      for (let i = 0; i < points.length - 1; i++) {\n        if (i === 0) {\n          left.push(points[0]);\n        }\n        if (i === points.length - 2) {\n          right.push(points[i + 1]);\n        }\n        middlePoints[i] = [\n          (1 - t) * points[i][0] + t * points[i + 1][0],\n          (1 - t) * points[i][1] + t * points[i + 1][1],\n        ];\n      }\n      recurse(middlePoints, t);\n    }\n  }\n  if (points.length) {\n    recurse(points, t);\n  }\n  return { left, right: right.reverse() };\n}\n\nfunction splitCurve(start, end, count) {\n  const points = [[start[1], start[2]]];\n  count = count || 2;\n  const segments = [];\n  if (end[0] === 'A') {\n    points.push(end[6]);\n    points.push(end[7]);\n  } else if (end[0] === 'C') {\n    points.push([end[1], end[2]]);\n    points.push([end[3], end[4]]);\n    points.push([end[5], end[6]]);\n  } else if (end[0] === 'S' || end[0] === 'Q') {\n    points.push([end[1], end[2]]);\n    points.push([end[3], end[4]]);\n  } else {\n    points.push([end[1], end[2]]);\n  }\n\n  let leftSegments = points;\n  const t = 1 / count;\n\n  for (let i = 0; i < count - 1; i++) {\n    const rt = t / (1 - t * i);\n    const split = decasteljau(leftSegments, rt);\n    segments.push(split.left);\n    leftSegments = split.right;\n  }\n  segments.push(leftSegments);\n  const result = segments.map((segment) => {\n    let cmd = [];\n    if (segment.length === 4) {\n      cmd.push('C');\n      cmd = cmd.concat(segment[2]);\n    }\n    if (segment.length >= 3) {\n      if (segment.length === 3) {\n        cmd.push('Q');\n      }\n      cmd = cmd.concat(segment[1]);\n    }\n    if (segment.length === 2) {\n      cmd.push('L');\n    }\n    cmd = cmd.concat(segment[segment.length - 1]);\n    return cmd;\n  });\n  return result;\n}\n\nconst splitSegment = function(start, end, count) {\n  if (count === 1) {\n    return [[].concat(start)];\n  }\n  let segments = [];\n  if (end[0] === 'L' || end[0] === 'C' || end[0] === 'Q') {\n    segments = segments.concat(splitCurve(start, end, count));\n  } else {\n    const temp = [].concat(start);\n    if (temp[0] === 'M') {\n      temp[0] = 'L';\n    }\n    for (let i = 0; i <= count - 1; i++) {\n      segments.push(temp);\n    }\n  }\n  return segments;\n};\n\nconst fillPath = function(source, target) {\n  if (source.length === 1) {\n    return source;\n  }\n  const sourceLen = source.length - 1;\n  const targetLen = target.length - 1;\n  const ratio = sourceLen / targetLen;\n  const segmentsToFill = [];\n  if (source.length === 1 && source[0][0] === 'M') {\n    for (let i = 0; i < targetLen - sourceLen; i++) {\n      source.push(source[0]);\n    }\n    return source;\n  }\n  for (let i = 0; i < targetLen; i++) {\n    const index = Math.floor(ratio * i);\n    segmentsToFill[index] = (segmentsToFill[index] || 0) + 1;\n  }\n  const filled = segmentsToFill.reduce((filled, count, i) => {\n    if (i === sourceLen) {\n      return filled.concat(source[sourceLen]);\n    }\n    return filled.concat(splitSegment(source[i], source[i + 1], count));\n  }, []);\n  filled.unshift(source[0]);\n  if (target[targetLen] === 'Z' || target[targetLen] === 'z') {\n    filled.push('Z');\n  }\n  return filled;\n};\n\nconst isEqual = function(obj1, obj2) {\n  if (obj1.length !== obj2.length) {\n    return false;\n  }\n  let result = true;\n  _.each(obj1, (item, i) => {\n    if (item !== obj2[i]) {\n      result = false;\n      return false;\n    }\n  });\n  return result;\n};\nfunction getMinDiff(del, add, modify) {\n  let type = null;\n  let min = modify;\n  if (add < min) {\n    min = add;\n    type = 'add';\n  }\n  if (del < min) {\n    min = del;\n    type = 'del';\n  }\n  return {\n    type,\n    min,\n  };\n}\n\n/*\n * https://en.wikipedia.org/wiki/Levenshtein_distance\n * 计算两条path的编辑距离\n */\nconst levenshteinDistance = function(source, target) {\n  const sourceLen = source.length;\n  const targetLen = target.length;\n  let sourceSegment, targetSegment;\n  let temp = 0;\n  if (sourceLen === 0 || targetLen === 0) {\n    return null;\n  }\n  const dist = [];\n  for (let i = 0; i <= sourceLen; i++) {\n    dist[i] = [];\n    dist[i][0] = { min: i };\n  }\n  for (let j = 0; j <= targetLen; j++) {\n    dist[0][j] = { min: j };\n  }\n\n  for (let i = 1; i <= sourceLen; i++) {\n    sourceSegment = source[i - 1];\n    for (let j = 1; j <= targetLen; j++) {\n      targetSegment = target[j - 1];\n      if (isEqual(sourceSegment, targetSegment)) {\n        temp = 0;\n      } else {\n        temp = 1;\n      }\n      const del = dist[i - 1][j].min + 1;\n      const add = dist[i][j - 1].min + 1;\n      const modify = dist[i - 1][j - 1].min + temp;\n      dist[i][j] = getMinDiff(del, add, modify);\n    }\n  }\n  return dist;\n};\n\nconst fillPathByDiff = function(source, target) {\n  const diffMatrix = levenshteinDistance(source, target);\n  let sourceLen = source.length;\n  const targetLen = target.length;\n  const changes = [];\n  let index = 1;\n  let minPos = 1;\n  // 如果source和target不是完全不相等\n  if (diffMatrix[sourceLen][targetLen] !== sourceLen) {\n    // 获取从source到target所需改动\n    for (let i = 1; i <= sourceLen; i++) {\n      let min = diffMatrix[i][i].min;\n      minPos = i;\n      for (let j = index; j <= targetLen; j++) {\n        if (diffMatrix[i][j].min < min) {\n          min = diffMatrix[i][j].min;\n          minPos = j;\n        }\n      }\n      index = minPos;\n      if (diffMatrix[i][index].type) {\n        changes.push({ index: i - 1, type: diffMatrix[i][index].type });\n      }\n    }\n    // 对source进行增删path\n    for (let i = changes.length - 1; i >= 0; i--) {\n      index = changes[i].index;\n      if (changes[i].type === 'add') {\n        source.splice(index, 0, [].concat(source[index]));\n      } else {\n        source.splice(index, 1);\n      }\n    }\n  }\n  // source尾部补齐\n  sourceLen = source.length;\n  const diff = targetLen - sourceLen;\n  if (sourceLen < targetLen) {\n    for (let i = 0; i < diff; i++) {\n      if (source[sourceLen - 1][0] === 'z' || source[sourceLen - 1][0] === 'Z') {\n        source.splice(sourceLen - 2, 0, source[sourceLen - 2]);\n      } else {\n        source.push(source[sourceLen - 1]);\n      }\n      sourceLen += 1;\n    }\n  }\n  return source;\n};\n\n// 将两个点均分成count个点\nfunction _splitPoints(points, former, count) {\n  const result = [].concat(points);\n  let index;\n  let t = 1 / (count + 1);\n  const formerEnd = _getSegmentPoints(former)[0];\n  for (let i = 1; i <= count; i++) {\n    t *= i;\n    index = Math.floor(points.length * t);\n    if (index === 0) {\n      result.unshift([formerEnd[0] * t + points[index][0] * (1 - t), formerEnd[1] * t + points[index][1] * (1 - t)]);\n    } else {\n      result.splice(index, 0, [\n        formerEnd[0] * t + points[index][0] * (1 - t),\n        formerEnd[1] * t + points[index][1] * (1 - t),\n      ]);\n    }\n  }\n  return result;\n}\n\n/*\n * 抽取pathSegment中的关键点\n * M,L,A,Q,H,V一个端点\n * Q, S抽取一个端点，一个控制点\n * C抽取一个端点，两个控制点\n */\nfunction _getSegmentPoints(segment) {\n  const points = [];\n  switch (segment[0]) {\n    case 'M':\n      points.push([segment[1], segment[2]]);\n      break;\n    case 'L':\n      points.push([segment[1], segment[2]]);\n      break;\n    case 'A':\n      points.push([segment[6], segment[7]]);\n      break;\n    case 'Q':\n      points.push([segment[3], segment[4]]);\n      points.push([segment[1], segment[2]]);\n      break;\n    case 'T':\n      points.push([segment[1], segment[2]]);\n      break;\n    case 'C':\n      points.push([segment[5], segment[6]]);\n      points.push([segment[1], segment[2]]);\n      points.push([segment[3], segment[4]]);\n      break;\n    case 'S':\n      points.push([segment[3], segment[4]]);\n      points.push([segment[1], segment[2]]);\n      break;\n    case 'H':\n      points.push([segment[1], segment[1]]);\n      break;\n    case 'V':\n      points.push([segment[1], segment[1]]);\n      break;\n    default:\n  }\n  return points;\n}\n\nconst formatPath = function(fromPath, toPath) {\n  if (fromPath.length <= 1) {\n    return fromPath;\n  }\n  let points;\n  for (let i = 0; i < toPath.length; i++) {\n    if (fromPath[i][0] !== toPath[i][0]) {\n      // 获取fromPath的pathSegment的端点，根据toPath的指令对其改造\n      points = _getSegmentPoints(fromPath[i]);\n      switch (toPath[i][0]) {\n        case 'M':\n          fromPath[i] = ['M'].concat(points[0]);\n          break;\n        case 'L':\n          fromPath[i] = ['L'].concat(points[0]);\n          break;\n        case 'A':\n          fromPath[i] = [].concat(toPath[i]);\n          fromPath[i][6] = points[0][0];\n          fromPath[i][7] = points[0][1];\n          break;\n        case 'Q':\n          if (points.length < 2) {\n            if (i > 0) {\n              points = _splitPoints(points, fromPath[i - 1], 1);\n            } else {\n              fromPath[i] = toPath[i];\n              break;\n            }\n          }\n          fromPath[i] = ['Q'].concat(\n            points.reduce((arr, i) => {\n              return arr.concat(i);\n            }, [])\n          );\n          break;\n        case 'T':\n          fromPath[i] = ['T'].concat(points[0]);\n          break;\n        case 'C':\n          if (points.length < 3) {\n            if (i > 0) {\n              points = _splitPoints(points, fromPath[i - 1], 2);\n            } else {\n              fromPath[i] = toPath[i];\n              break;\n            }\n          }\n          fromPath[i] = ['C'].concat(\n            points.reduce((arr, i) => {\n              return arr.concat(i);\n            }, [])\n          );\n          break;\n        case 'S':\n          if (points.length < 2) {\n            if (i > 0) {\n              points = _splitPoints(points, fromPath[i - 1], 1);\n            } else {\n              fromPath[i] = toPath[i];\n              break;\n            }\n          }\n          fromPath[i] = ['S'].concat(\n            points.reduce((arr, i) => {\n              return arr.concat(i);\n            }, [])\n          );\n          break;\n        default:\n          fromPath[i] = toPath[i];\n      }\n    }\n  }\n  return fromPath;\n};\n\nexport {\n  catmullRomToBezier,\n  fillPath,\n  fillPathByDiff,\n  formatPath,\n  intersection,\n  parsePathArray,\n  parsePathString,\n  pathToAbsolute,\n  pathTocurve,\n  rectPath,\n};\n","export { default as Arc } from './arc';\nexport { default as Circle } from './circle';\nexport { default as Dom } from './dom';\nexport { default as Ellipse } from './ellipse';\nexport { default as Fan } from './fan';\nexport { default as Image } from './image';\nexport { default as Line } from './line';\nexport { default as Marker } from './marker';\nexport { default as Path } from './path';\nexport { default as Polygon } from './polygon';\nexport { default as Polyline } from './polyline';\nexport { default as Rect } from './rect';\nexport { default as Text } from './text';\n","import * as Util from '@antv/util';\nimport Shape from '../../core/shape';\n\nconst canvas = Util.createDom('<canvas width=\"500\" height=\"500\"></canvas>');\nconst context = canvas.getContext('2d');\n\nexport default function isPointInPathByContext(x: number, y: number, ctx: Shape): boolean {\n  ctx.createPath(context);\n  return context.isPointInPath(x, y);\n}\n","import * as Util from '@antv/util';\nimport * as Format from '../../util/format';\nimport Shape from '../../core/shape';\nimport PathSegment from '../util/path-segment';\nimport * as Inside from '../util/inside';\nimport BBox from '../../core/bbox';\n\nimport symbolsFactory from './symbols';\n\nclass Marker extends Shape {\n  type: string = 'marker';\n  canFill: boolean = true;\n  canStroke: boolean = true;\n\n  // 作为其静态属性\n  public static symbolsFactory = symbolsFactory;\n\n  getDefaultAttrs() {\n    return {\n      path: null,\n      x: 0,\n      y: 0,\n      lineWidth: 1,\n    };\n  }\n\n  isPointInPath(x: number, y: number): boolean {\n    const attrs = this.attrs;\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const r = attrs.radius;\n    const lineWidth = this.getHitLineWidth();\n    return Inside.circle(cx, cy, r + lineWidth / 2, x, y);\n  }\n\n  calculateBox(): BBox {\n    const attrs = this.attrs;\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const r = attrs.radius;\n    const lineWidth = this.getHitLineWidth();\n    const halfWidth = lineWidth / 2 + r;\n    return BBox.fromRange(cx - halfWidth, cy - halfWidth, cx + halfWidth, cy + halfWidth);\n  }\n\n  _getPath(): any[] {\n    const attrs = this.attrs;\n    const x = attrs.x;\n    const y = attrs.y;\n    const r = attrs.radius;\n    const symbol = attrs.symbol || 'circle';\n    let method;\n    if (Util.isFunction(symbol)) {\n      method = symbol;\n    } else {\n      method = symbolsFactory.get(symbol);\n    }\n\n    if (!method) {\n      // 容错，防止绘制出错\n      console.warn(`${method} symbol is not exist.`);\n      return null;\n    }\n    return method(x, y, r);\n  }\n\n  createPath(context: CanvasRenderingContext2D): void {\n    let segments = this.cfg.segments;\n    if (segments && !this.cfg.hasUpdate) {\n      context.beginPath();\n      for (let i = 0; i < segments.length; i++) {\n        segments[i].draw(context);\n      }\n      return;\n    }\n\n    const path = Format.parsePath(this._getPath());\n    context.beginPath();\n    let preSegment;\n    segments = [];\n    for (let i = 0; i < path.length; i++) {\n      const item = path[i];\n      preSegment = new PathSegment(item, preSegment, i === path.length - 1);\n      segments.push(preSegment);\n      preSegment.draw(context);\n    }\n    this.cfg.segments = segments;\n    this.cfg.hasUpdate = false;\n  }\n}\n\nexport default Marker;\n","import * as Util from '@antv/util';\nimport { PointType } from '../../interface';\n\nconst vec2 = Util.vec2;\nconst EPSILON = 0.0001;\n\nexport function at(p0: number, p1: number, p2: number, t: number): number {\n  const onet = 1 - t;\n  return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\n\nexport function pointDistance(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x: number,\n  y: number,\n  out?: boolean\n): PointType | number {\n  let t;\n  let interval = 0.005;\n  let d = Infinity;\n  let d1;\n  let v1;\n  let v2;\n  let _t;\n  let d2;\n  let i;\n\n  const v0 = [x, y];\n  for (_t = 0; _t < 1; _t += 0.05) {\n    v1 = [at(x1, x2, x3, _t), at(y1, y2, y3, _t)];\n\n    d1 = vec2.squaredDistance(v0, v1);\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n  d = Infinity;\n\n  for (i = 0; i < 32; i++) {\n    if (interval < EPSILON) {\n      break;\n    }\n\n    const prev = t - interval;\n    const next = t + interval;\n\n    v1 = [at(x1, x2, x3, prev), at(y1, y2, y3, prev)];\n\n    d1 = vec2.squaredDistance(v0, v1);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      v2 = [at(x1, x2, x3, next), at(y1, y2, y3, next)];\n\n      d2 = vec2.squaredDistance(v0, v2);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  }\n\n  if (out) {\n    return {\n      x: at(x1, x2, x3, t),\n      y: at(y1, y2, y3, t),\n    };\n  }\n\n  return Math.sqrt(d);\n}\n\nexport function extrema(p0: number, p1: number, p2: number): number[] {\n  const a = p0 + p2 - 2 * p1;\n  if (Util.isNumberEqual(a, 0)) {\n    return [0.5];\n  }\n  const rst = (p0 - p1) / a;\n  if (rst <= 1 && rst >= 0) {\n    return [rst];\n  }\n  return [];\n}\n\nexport function projectPoint(\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  x3: number,\n  y3: number,\n  x: number,\n  y: number\n): PointType {\n  return pointDistance(x1, y1, x2, y2, x3, y3, x, y, true) as PointType;\n}\n","import * as Util from '@antv/util';\nimport Element from './element';\nimport BBox from './bbox';\nimport * as Shapes from '../shapes/index';\nimport { ElementCFG } from '../interface';\n\nconst SHAPE_MAP = {}; // 缓存图形类型\nconst INDEX = '_INDEX';\n\nfunction getComparer(compare) {\n  return function(left, right) {\n    const result = compare(left, right);\n    return result === 0 ? left[INDEX] - right[INDEX] : result;\n  };\n}\n\nfunction find(children, x, y) {\n  let rst;\n  for (let i = children.length - 1; i >= 0; i--) {\n    const child = children[i];\n    if (child.cfg.visible && child.cfg.capture && !child.destroyed && !child.removed) {\n      if (child.isGroup) {\n        rst = child.getShape(x, y);\n      } else if (child.isHit(x, y)) {\n        rst = child;\n      }\n    }\n    if (rst) {\n      break;\n    }\n  }\n  return rst;\n}\n\nclass Group extends Element {\n  isGroup = true;\n  type = 'group';\n  canFill = true;\n  canStroke = true;\n\n  constructor(cfg: ElementCFG = {}) {\n    super(cfg);\n    this.set('children', []);\n    this.set('tobeRemoved', []);\n\n    this._beforeRenderUI();\n    this._renderUI();\n    this._bindUI();\n  }\n\n  _beforeRenderUI() {}\n  _renderUI() {}\n  _bindUI() {}\n\n  addShape(type, cfg) {\n    const canvas = this.get('canvas');\n    cfg = cfg || {};\n    let shapeType = SHAPE_MAP[type];\n    if (!shapeType) {\n      shapeType = Util.upperFirst(type);\n      SHAPE_MAP[type] = shapeType;\n    }\n    if (cfg.attrs && canvas) {\n      const attrs = cfg.attrs;\n      if (type === 'text') {\n        // 临时解决\n        const topFontFamily = canvas.get('fontFamily');\n        if (topFontFamily) {\n          attrs.fontFamily = attrs.fontFamily ? attrs.fontFamily : topFontFamily;\n        }\n      }\n    }\n    cfg.canvas = canvas;\n    cfg.type = type;\n    const rst = new Shapes[shapeType](cfg);\n    this.add(rst);\n    return rst;\n  }\n\n  /** 添加图组\n   * @param  {Function|Object|undefined} param 图组类\n   * @param  {Object} cfg 配置项\n   * @return {Object} rst 图组\n   */\n  addGroup(param?: any, cfg?) {\n    const canvas = this.get('canvas');\n    let rst;\n    cfg = Util.mix({}, cfg);\n    if (Util.isFunction(param)) {\n      if (cfg) {\n        cfg.canvas = canvas;\n        cfg.parent = this;\n        rst = new param(cfg);\n      } else {\n        rst = new param({\n          canvas,\n          parent: this,\n        });\n      }\n      this.add(rst);\n    } else if (Util.isObject(param)) {\n      // @ts-ignore\n      param.canvas = canvas;\n      rst = new Group(param);\n      this.add(rst);\n    } else if (param === undefined) {\n      rst = new Group();\n      this.add(rst);\n    } else {\n      return false;\n    }\n    return rst;\n  }\n\n  /** 绘制背景\n   * @param  {Array} padding 内边距\n   * @param  {Attrs} attrs 图形属性\n   * @param  {Shape} backShape 背景图形\n   * @return {Object} 背景层对象\n   */\n  renderBack(padding, attrs) {\n    let backShape = this.get('backShape');\n    const innerBox = this.getBBox();\n    // const parent = this.get('parent'); // getParent\n    Util.mix(attrs, {\n      x: innerBox.x - padding[3],\n      y: innerBox.y - padding[0],\n      width: innerBox.width + padding[1] + padding[3],\n      height: innerBox.height + padding[0] + padding[2],\n    });\n    if (backShape) {\n      backShape.attr(attrs);\n    } else {\n      backShape = this.addShape('rect', {\n        zIndex: -1,\n        attrs,\n      });\n    }\n    this.set('backShape', backShape);\n    this.sort();\n    return backShape;\n  }\n\n  removeChild(item, destroy) {\n    if (arguments.length >= 2) {\n      if (this.contain(item)) {\n        item.remove(destroy);\n      }\n    } else {\n      if (arguments.length === 1) {\n        if (Util.isBoolean(item)) {\n          destroy = item;\n        } else {\n          if (this.contain(item)) {\n            item.remove(true);\n          }\n          return this;\n        }\n      }\n      if (arguments.length === 0) {\n        destroy = true;\n      }\n\n      super.remove(destroy);\n    }\n    return this;\n  }\n\n  /**\n   * 向组中添加shape或者group\n   * @param {Object} items 图形或者分组\n   * @return {Object} group 本尊\n   */\n  add(items) {\n    const self = this;\n    const children = self.get('children');\n    if (Util.isArray(items)) {\n      Util.each(items, function(item) {\n        const parent = item.get('parent');\n        if (parent) {\n          parent.removeChild(item, false);\n        }\n        self._setCfgProperty(item);\n      });\n      self.cfg.children = children.concat(items);\n    } else {\n      const item = items;\n      const parent = item.get('parent');\n      if (parent) {\n        parent.removeChild(item, false);\n      }\n      self._setCfgProperty(item);\n      children.push(item);\n    }\n    return self;\n  }\n\n  _setCfgProperty(item) {\n    const cfg = this.cfg;\n    item.set('parent', this);\n    item.set('canvas', cfg.canvas);\n    if (cfg.timeline) {\n      item.set('timeline', cfg.timeline);\n    }\n  }\n\n  contain(item) {\n    const children = this.get('children');\n    return children.indexOf(item) > -1;\n  }\n\n  getChildByIndex(index) {\n    const children = this.get('children');\n    return children[index];\n  }\n\n  getFirst() {\n    return this.getChildByIndex(0);\n  }\n\n  getLast() {\n    const lastIndex = this.get('children').length - 1;\n    return this.getChildByIndex(lastIndex);\n  }\n\n  getBBox(): BBox {\n    const self = this;\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    const children = self.get('children');\n    if (children.length > 0) {\n      Util.each(children, (child: any) => {\n        if (child.get('visible')) {\n          /*if (child.isGroup && child.get('children').length === 0) {\n            return;\n          }*/\n          const box = child.getBBox() as BBox;\n          if (!box) {\n            return true;\n          }\n          const tl = box.tl;\n          const tr = box.tr;\n          const bl = box.bl;\n          const br = box.br;\n          const leftTop = [tl.x, tl.y, 1];\n          const leftBottom = [bl.x, bl.y, 1];\n          const rightTop = [tr.x, tr.y, 1];\n          const rightBottom = [br.x, br.y, 1];\n\n          child.apply(leftTop);\n          child.apply(leftBottom);\n          child.apply(rightTop);\n          child.apply(rightBottom);\n\n          const boxMinX = Math.min(leftTop[0], leftBottom[0], rightTop[0], rightBottom[0]);\n          const boxMaxX = Math.max(leftTop[0], leftBottom[0], rightTop[0], rightBottom[0]);\n          const boxMinY = Math.min(leftTop[1], leftBottom[1], rightTop[1], rightBottom[1]);\n          const boxMaxY = Math.max(leftTop[1], leftBottom[1], rightTop[1], rightBottom[1]);\n\n          if (boxMinX < minX) {\n            minX = boxMinX;\n          }\n\n          if (boxMaxX > maxX) {\n            maxX = boxMaxX;\n          }\n\n          if (boxMinY < minY) {\n            minY = boxMinY;\n          }\n\n          if (boxMaxY > maxY) {\n            maxY = boxMaxY;\n          }\n        }\n      });\n    } else {\n      minX = 0;\n      maxX = 0;\n      minY = 0;\n      maxY = 0;\n    }\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  getCount() {\n    return this.get('children').length;\n  }\n\n  sort() {\n    const children = this.get('children');\n    // 稳定排序\n    Util.each(children, (child, index) => {\n      child[INDEX] = index;\n      return child;\n    });\n\n    children.sort(\n      getComparer(function(obj1, obj2) {\n        return obj1.get('zIndex') - obj2.get('zIndex');\n      })\n    );\n\n    return this;\n  }\n\n  findById(id) {\n    return this.find(function(item) {\n      return item.get('id') === id;\n    });\n  }\n\n  /**\n   * 根据查找函数查找分组或者图形\n   * @param  {Function} fn 匹配函数\n   * @return {Canvas.Base} 分组或者图形\n   */\n  find(fn) {\n    if (Util.isString(fn)) {\n      return this.findById(fn);\n    }\n    const children = this.get('children');\n    let rst = null;\n\n    Util.each(children, (item: any) => {\n      if (fn(item)) {\n        rst = item;\n      } else if (item.find) {\n        rst = item.find(fn);\n      }\n      if (rst) {\n        return false;\n      }\n    });\n    return rst;\n  }\n\n  /**\n   * @param  {Function} fn filter mathod\n   * @return {Array} all the matching shapes and groups\n   */\n  findAll(fn) {\n    const children = this.get('children');\n    let rst = [];\n    let childRst = [];\n    Util.each(children, (item: any) => {\n      if (fn(item)) {\n        rst.push(item);\n      }\n      if (item.findAllBy) {\n        childRst = item.findAllBy(fn);\n        rst = rst.concat(childRst);\n      }\n    });\n    return rst;\n  }\n\n  /**\n   * @Deprecated\n   * @param  {Function} fn filter method\n   * @return {Object} found shape or group\n   */\n  findBy(fn) {\n    const children = this.get('children');\n    let rst = null;\n\n    Util.each(children, (item: any) => {\n      if (fn(item)) {\n        rst = item;\n      } else if (item.findBy) {\n        rst = item.findBy(fn);\n      }\n      if (rst) {\n        return false;\n      }\n    });\n    return rst;\n  }\n\n  /**\n   * @Deprecated\n   * @param  {Function} fn filter mathod\n   * @return {Array} all the matching shapes and groups\n   */\n  findAllBy(fn) {\n    const children = this.get('children');\n    let rst = [];\n    let childRst = [];\n    Util.each(children, (item: any) => {\n      if (fn(item)) {\n        rst.push(item);\n      }\n      if (item.findAllBy) {\n        childRst = item.findAllBy(fn);\n        rst = rst.concat(childRst);\n      }\n    });\n    return rst;\n  }\n\n  getShape(x, y, e?) {\n    const self = this;\n    const clip = self.attrs.clip;\n    const children = self.cfg.children;\n    let rst;\n    if (clip) {\n      const v = [x, y, 1];\n      clip.invert(v, self.get('canvas')); // 已经在外面转换\n      if (clip.isPointInPath(v[0], v[1])) {\n        rst = find(children, x, y);\n      }\n    } else {\n      rst = find(children, x, y);\n    }\n    return rst;\n  }\n\n  clearTotalMatrix() {\n    const m = this.get('totalMatrix');\n    if (m) {\n      this.setSilent('totalMatrix', null);\n      const children = this.cfg.children;\n      for (let i = 0; i < children.length; i++) {\n        const child = children[i];\n        child.clearTotalMatrix();\n      }\n    }\n  }\n\n  clear(delayRemove?) {\n    if (this.destroyed) {\n      return;\n    }\n    const children = this.cfg.children;\n    for (let i = children.length - 1; i >= 0; i--) {\n      children[i].remove(true, delayRemove);\n    }\n    this.cfg.children = [];\n    return this;\n  }\n\n  destroy() {\n    if (this.destroyed) {\n      return;\n    }\n    this.clear();\n    super.destroy();\n  }\n\n  clone() {\n    const self = this;\n    const children = self.cfg.children;\n    const clone = new Group();\n    Util.each(children, (child) => {\n      clone.add(child.clone());\n    });\n    return clone;\n  }\n}\n\nexport default Group;\n","import BBox from './core/bbox';\nimport Canvas from './canvas';\nimport Element from './core/element';\nimport Event from './event';\nimport Group from './core/group';\nimport PathSegment from './shapes/util/path-segment';\nimport Shape from './core/shape';\nimport * as PathUtil from './util/path';\nimport * as Shapes from './shapes';\n\nconst pkg = require('../package.json');\n\nexport const version = pkg.version;\n\nexport * from './shapes';\nexport * from './interface';\n\nexport { BBox, Canvas, Element, Event, Group, PathSegment, PathUtil, Shape, Shapes };\n","import * as Util from '@antv/util';\nimport * as renderers from './renderers/index';\nimport Event from './event';\nimport Timeline from './core/timeline';\nimport Group from './core/group';\n\nconst EVENTS = [\n  'click',\n  'mousedown',\n  'mouseup',\n  'dblclick',\n  'contextmenu',\n  'mouseenter',\n  'mouseleave',\n  'mouseover',\n  'mouseout',\n  'mousemove',\n  'wheel',\n];\n\nlet preShape = null;\nlet mousedown = null;\nlet dragging = null;\n\nfunction toNumber(value) {\n  return +value;\n}\n\nclass Canvas extends Group {\n  constructor(cfg) {\n    super({\n      eventEnable: true,\n      /**\n       * 像素宽度\n       * @type {Number}\n       */\n      width: null,\n      /**\n       * 像素高度\n       * @type {Number}\n       */\n      height: null,\n      /**\n       * 画布宽度\n       * @type {Number}\n       */\n      widthCanvas: null,\n      /**\n       * 画布高度\n       * @type {Number}\n       */\n      heightCanvas: null,\n      /**\n       * CSS宽\n       * @type {String}\n       */\n      widthStyle: null,\n      /**\n       * CSS高\n       * @type {String}\n       */\n      heightStyle: null,\n      /**\n       * 容器DOM\n       * @type {Object}\n       */\n      containerDOM: null,\n      /**\n       * 当前Canvas的DOM\n       * @type {Object}\n       */\n      canvasDOM: null,\n      /**\n       * 屏幕像素比\n       * @type {Number}\n       */\n      pixelRatio: null,\n      /**\n       * 渲染器，默认是canvas\n       * @type {String}\n       */\n      renderer: 'canvas',\n      ...cfg,\n    });\n    this._setGlobalParam();\n    this._setContainer();\n    this._initPainter();\n    this._scale();\n    if (this.get('eventEnable')) {\n      this.registerEvent();\n    }\n  }\n\n  _scale() {\n    if (this.cfg.renderType !== 'svg') {\n      const pixelRatio = this.get('pixelRatio');\n      this.scale(pixelRatio, pixelRatio);\n    }\n  }\n\n  _setGlobalParam() {\n    const renderType = this.get('renderer') || 'canvas';\n    if (renderType === 'svg') {\n      this.set('pixelRatio', 1);\n    } else if (!this.get('pixelRatio')) {\n      this.set('pixelRatio', Util.getRatio());\n    }\n    this.cfg.renderType = renderType;\n    const renderer = renderers[renderType];\n    this.cfg.renderer = renderer;\n    this.cfg.canvas = this;\n    const timeline = new Timeline(this);\n    this.cfg.timeline = timeline;\n  }\n\n  _setContainer() {\n    const containerId = this.get('containerId');\n    let containerDOM = this.get('containerDOM');\n    if (!containerDOM) {\n      containerDOM = document.getElementById(containerId);\n      this.set('containerDOM', containerDOM);\n    }\n    Util.modifyCSS(containerDOM, {\n      position: 'relative',\n    });\n    const transformString = containerDOM.style.transform;\n    const cssTransform = [];\n    const regex = /(\\w+)\\((.+?)\\)/g;\n    let match = regex.exec(transformString);\n    while (match) {\n      cssTransform.push([ match[1], match[2].split(', ') ]);\n      match = regex.exec(transformString);\n    }\n    // 当前仅对 scale transform 进行处理\n    const containerTransform = {\n      scaleX: 1,\n      scaleY: 1\n    };\n    Util.each(cssTransform, (item, key) => {\n      // transform 方法名\n      const method = item[0];\n      // 第一个参数值\n      const param1 = item[1] && item[1][0];\n      // 第二个参数值\n      const param2 = item[1] && item[1][1];\n      if (method === 'scale') {\n        containerTransform.scaleX = Util.isNil(param1) ? 1 : toNumber(param1);\n        // 对于 scale，第二个参数值为空时，等价于第一个参数值\n        containerTransform.scaleY = Util.isNil(param2) ? containerTransform.scaleX : toNumber(param2);\n      } else if (method === key) {\n        containerTransform[key] = param1;\n      }\n    });\n    this.set('containerTransform', containerTransform);\n  }\n\n  _initPainter() {\n    const containerDOM = this.get('containerDOM');\n    const painter = new this.cfg.renderer.painter(containerDOM);\n    this.cfg.painter = painter;\n    this.cfg.canvasDOM = this.cfg.el = painter.canvas;\n    this.changeSize(this.get('width'), this.get('height'));\n  }\n\n  _resize() {\n    const canvasDOM = this.get('canvasDOM');\n    const widthCanvas = this.get('widthCanvas');\n    const heightCanvas = this.get('heightCanvas');\n    const widthStyle = this.get('widthStyle');\n    const heightStyle = this.get('heightStyle');\n\n    canvasDOM.style.width = widthStyle;\n    canvasDOM.style.height = heightStyle;\n    canvasDOM.setAttribute('width', widthCanvas);\n    canvasDOM.setAttribute('height', heightCanvas);\n  }\n\n  getWidth() {\n    const pixelRatio = this.get('pixelRatio');\n    const width = this.get('width');\n    return width * pixelRatio;\n  }\n\n  getHeight() {\n    const pixelRatio = this.get('pixelRatio');\n    const height = this.get('height');\n    return height * pixelRatio;\n  }\n\n  changeSize(width, height) {\n    const pixelRatio = this.get('pixelRatio');\n    const widthCanvas = width * pixelRatio;\n    const heightCanvas = height * pixelRatio;\n\n    this.set('widthCanvas', widthCanvas);\n    this.set('heightCanvas', heightCanvas);\n    this.set('widthStyle', width + 'px');\n    this.set('heightStyle', height + 'px');\n    this.set('width', width);\n    this.set('height', height);\n    this._resize();\n  }\n\n  /**\n   * 将窗口坐标转变成 canvas 坐标\n   * @param  {Number} clientX 窗口x坐标\n   * @param  {Number} clientY 窗口y坐标\n   * @return {Object} canvas坐标\n   */\n  getPointByClient(clientX, clientY) {\n    const containerTransform = this.get('containerTransform');\n    const { scaleX, scaleY } = containerTransform;\n    const el = this.get('el');\n    const pixelRatio = this.get('pixelRatio') || 1;\n    const bbox = el.getBoundingClientRect();\n    return {\n      x: (clientX - bbox.left) * pixelRatio / scaleX,\n      y: (clientY - bbox.top) * pixelRatio / scaleY,\n    };\n  }\n\n  getClientByPoint(x, y) {\n    const containerTransform = this.get('containerTransform');\n    const { scaleX, scaleY } = containerTransform;\n    const el = this.get('el');\n    const bbox = el.getBoundingClientRect();\n    const pixelRatio = this.get('pixelRatio') || 1;\n    return {\n      clientX: x / pixelRatio * scaleX + bbox.left,\n      clientY: y / pixelRatio * scaleY + bbox.top,\n    };\n  }\n\n  draw() {\n    this.cfg.painter.draw(this);\n  }\n\n  getShape(x, y, e?) {\n    if (arguments.length === 3 && this.cfg.renderer.getShape) {\n      return this.cfg.renderer.getShape.call(this, x, y, e);\n    }\n    return super.getShape(x, y);\n  }\n\n  getRenderer() {\n    return this.cfg.renderType;\n  }\n\n  _drawSync() {\n    this.cfg.painter.drawSync(this);\n  }\n\n  destroy() {\n    const cfg = this.cfg;\n    const containerDOM = cfg.containerDOM;\n    const canvasDOM = cfg.canvasDOM;\n    if (canvasDOM && containerDOM) {\n      containerDOM.removeChild(canvasDOM);\n    }\n    cfg.timeline.stop();\n    super.destroy();\n  }\n\n  registerEvent() {\n    const self = this;\n    const el = this.get('el');\n\n    Util.each(EVENTS, (evt) => {\n      el.addEventListener(\n        evt,\n        (e) => {\n          self._triggerEvent(evt, e);\n        },\n        false\n      );\n    });\n    // special cases\n    el.addEventListener(\n      'touchstart',\n      (e) => {\n        if (!Util.isEmpty(e.targetTouches)) {\n          self._triggerEvent('touchstart', e);\n        }\n      },\n      false\n    );\n\n    el.addEventListener(\n      'touchmove',\n      (e) => {\n        if (!Util.isEmpty(e.targetTouches)) {\n          self._triggerEvent('touchmove', e);\n        }\n      },\n      false\n    );\n\n    el.addEventListener(\n      'touchend',\n      (e) => {\n        if (!Util.isEmpty(e.changedTouches)) {\n          self._triggerEvent('touchend', e);\n        }\n      },\n      false\n    );\n  }\n  _getEmitter(element, event) {\n    if (element) {\n      if (Util.isEmpty(element.getEvents())) {\n        const parent = element.get('parent');\n        if (parent && !event.propagationStopped) {\n          return this._getEmitter(parent, event);\n        }\n      } else {\n        return element;\n      }\n    }\n  }\n\n  _getEventObj(type, e, point, target) {\n    const event = new Event(type, e, true, true);\n    event.x = point.x;\n    event.y = point.y;\n    event.clientX = e.clientX;\n    event.clientY = e.clientY;\n    event.target = target;\n    event.currentTarget = this._getEmitter(target, event);\n    return event;\n  }\n\n  _getClientXY(type, e): number[] {\n    if (type === 'touchstart' || type === 'touchmove') {\n      return [e.targetTouches[0].clientX, e.targetTouches[0].clientY];\n    }\n\n    if (type === 'touchend') {\n      return [e.changedTouches[0].clientX, e.changedTouches[0].clientY];\n    }\n\n    return [e.clientX, e.clientY];\n  }\n\n  _triggerEvent(type, e) {\n    const [clientX, clientY] = this._getClientXY(type, e);\n\n    const point = this.getPointByClient(clientX, clientY);\n    let shape = this.getShape(point.x, point.y, e);\n    const el = this.get('el');\n    // svg原生事件取不到dragover, dragout, drop等事件的对象。这边需要走数学拾取。\n    if (dragging && this.getRenderer() === 'svg') {\n      shape = this.getShape(point.x, point.y);\n    }\n    if (type === 'mousemove') {\n      if (preShape && preShape !== shape) {\n        this._emitEvent('mouseout', e, point, preShape);\n        this._emitEvent('mouseleave', e, point, preShape);\n        if (dragging) {\n          this._emitEvent('dragleave', e, point, preShape);\n        }\n        if (!preShape.destroyed && !preShape.removed) {\n          el.style.cursor = preShape.attr('cursor') || 'default';\n        }\n      }\n\n      if (dragging) {\n        this._emitEvent('drag', e, point, dragging);\n        this._emitEvent('mousemove', e, point, shape || this);\n      }\n\n      if (shape) {\n        if (!dragging) {\n          if (mousedown === shape) {\n            dragging = shape;\n            mousedown = null;\n            this._emitEvent('dragstart', e, point, shape);\n          } else {\n            this._emitEvent('mousemove', e, point, shape);\n          }\n        }\n        if (preShape !== shape) {\n          this._emitEvent('mouseenter', e, point, shape);\n          this._emitEvent('mouseover', e, point, shape);\n          if (dragging) {\n            this._emitEvent('dragenter', e, point, shape);\n          }\n        }\n      } else {\n        const canvasmousemove = this._getEventObj('mousemove', e, point, this);\n        this.emit('mousemove', canvasmousemove);\n      }\n      preShape = shape;\n    } else {\n      this._emitEvent(type, e, point, shape || this);\n      if (!dragging && type === 'mousedown') {\n        mousedown = shape;\n      }\n      if (type === 'mouseup') {\n        mousedown = null;\n        if (dragging) {\n          dragging.cfg.capture = true;\n          this._emitEvent('dragend', e, point, dragging);\n          dragging = null;\n          this._emitEvent('drop', e, point, shape || this);\n        }\n      }\n    }\n    if (shape && !shape.destroyed) {\n      el.style.cursor = shape.attr('cursor') || 'default';\n    }\n  }\n\n  _emitEvent(type, evt, point, shape) {\n    const event = this._getEventObj(type, evt, point, shape);\n    const emitShape = this._getEmitter(shape, evt);\n    emitShape && emitShape.emit(type, event);\n    return emitShape;\n  }\n}\n\nexport default Canvas;\n","import * as canvas from './canvas';\nimport * as svg from './svg';\n\nexport { canvas, svg };\n","export { default as painter } from './painter';\n","import * as Util from '@antv/util';\nimport * as renderUtil from './util';\n\nconst SHAPE_ATTRS = [\n  'fillStyle',\n  'font',\n  'globalAlpha',\n  'lineCap',\n  'lineWidth',\n  'lineJoin',\n  'miterLimit',\n  'shadowBlur',\n  'shadowColor',\n  'shadowOffsetX',\n  'shadowOffsetY',\n  'strokeStyle',\n  'textAlign',\n  'textBaseline',\n  'lineDash',\n  'lineDashOffset',\n];\n\nclass Painter {\n  type: string;\n  canvas: HTMLCanvasElement;\n  context: CanvasRenderingContext2D;\n  toDraw: boolean;\n  animateHandler: any;\n\n  constructor(dom) {\n    if (!dom) {\n      return null;\n    }\n    const canvasId = Util.uniqueId('canvas_');\n    // @ts-ignore\n    const canvasDom: HTMLCanvasElement = Util.createDom('<canvas id=\"' + canvasId + '\"></canvas>');\n    dom.appendChild(canvasDom);\n    this.type = 'canvas';\n    this.canvas = canvasDom;\n    this.context = canvasDom.getContext('2d');\n    return this;\n  }\n  beforeDraw() {\n    const el = this.canvas;\n    this.context && this.context.clearRect(0, 0, el.width, el.height);\n  }\n  draw(model) {\n    const self = this;\n    function drawInner() {\n      self.animateHandler = Util.requestAnimationFrame(() => {\n        self.animateHandler = undefined;\n        if (self.toDraw) {\n          drawInner();\n        }\n      });\n      self.beforeDraw();\n      try {\n        self._drawGroup(model);\n      } catch (ev) {\n        // 绘制时异常，中断重绘\n        console.warn('error in draw canvas, detail as:');\n        console.warn(ev);\n      } finally {\n        self.toDraw = false;\n      }\n    }\n    if (self.animateHandler) {\n      self.toDraw = true;\n    } else {\n      drawInner();\n    }\n  }\n  drawSync(model) {\n    this.beforeDraw();\n    this._drawGroup(model);\n  }\n  _drawGroup(group) {\n    if (group.removed || group.destroyed || !group.cfg.visible) {\n      return;\n    }\n    const self = this;\n    const children = group.cfg.children;\n    let child = null;\n    this.setContext(group);\n    for (let i = 0; i < children.length; i++) {\n      child = children[i];\n      if (children[i].isGroup) {\n        self._drawGroup(child);\n      } else {\n        self._drawShape(child);\n      }\n    }\n    this.restoreContext(group);\n  }\n  _drawShape(shape) {\n    if (shape.removed || shape.destroyed || !shape.cfg.visible) {\n      return;\n    }\n    this.setContext(shape);\n    shape.drawInner(this.context);\n    this.restoreContext(shape);\n    shape.cfg.attrs = shape.attrs;\n    shape.cfg.hasUpdate = false;\n  }\n  setContext(shape) {\n    const context = this.context;\n    const clip = shape.attrs.clip;\n    context.save();\n    if (clip) {\n      // context.save();\n      clip.resetTransform(context);\n      clip.createPath(context);\n      context.clip();\n      // context.restore();\n    }\n    this.resetContext(shape);\n    shape.resetTransform(context);\n  }\n  restoreContext(element?) {\n    this.context.restore();\n  }\n  resetContext(shape) {\n    const context = this.context;\n    const elAttrs = shape.attrs;\n    // var canvas = this.get('canvas');\n    if (!shape.isGroup) {\n      for (const k in elAttrs) {\n        if (SHAPE_ATTRS.indexOf(k) > -1) {\n          // 非canvas属性不附加\n          let v = elAttrs[k];\n          if (k === 'fillStyle') {\n            v = renderUtil.parseStyle(v, shape, context);\n          }\n          if (k === 'strokeStyle') {\n            v = renderUtil.parseStyle(v, shape, context);\n          }\n          if (k === 'lineDash' && context.setLineDash) {\n            if (Util.isArray(v)) {\n              context.setLineDash(v);\n            } else if (Util.isString(v)) {\n              // @ts-ignore\n              context.setLineDash(v.split(' '));\n            }\n          } else {\n            context[k] = v;\n          }\n        }\n      }\n    }\n  }\n}\n\nexport default Painter;\n","import * as Util from '@antv/util';\nimport BBox from '../../core/bbox';\n\nconst regexTags = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi;\nconst regexDot = /[^\\s\\,]+/gi;\nconst regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nconst regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nconst regexPR = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i;\nconst regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\n\nfunction addStop(steps, gradient) {\n  const arr = steps.match(regexColorStop);\n  Util.each(arr, (item: any) => {\n    item = item.split(':');\n    gradient.addColorStop(item[0], item[1]);\n  });\n}\n\nfunction parseLineGradient(color, self, context) {\n  const arr = regexLG.exec(color);\n  const angle = Util.mod(Util.toRadian(parseFloat(arr[1])), Math.PI * 2);\n  const steps = arr[2];\n  const box = self.getBBox() as BBox;\n  const maxX = box.maxX;\n  const maxY = box.maxY;\n  let start;\n  let end;\n\n  if (angle >= 0 && angle < 0.5 * Math.PI) {\n    start = {\n      x: box.x,\n      y: box.y,\n    };\n    end = {\n      x: maxX,\n      y: maxY,\n    };\n  } else if (0.5 * Math.PI <= angle && angle < Math.PI) {\n    start = {\n      x: maxX,\n      y: box.y,\n    };\n    end = {\n      x: box.x,\n      y: maxY,\n    };\n  } else if (Math.PI <= angle && angle < 1.5 * Math.PI) {\n    start = {\n      x: maxX,\n      y: maxY,\n    };\n    end = {\n      x: box.x,\n      y: box.y,\n    };\n  } else {\n    start = {\n      x: box.x,\n      y: maxY,\n    };\n    end = {\n      x: maxX,\n      y: box.y,\n    };\n  }\n\n  const tanTheta = Math.tan(angle);\n  const tanTheta2 = tanTheta * tanTheta;\n\n  const x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n  const y = (tanTheta * (end.x - start.x + tanTheta * (end.y - start.y))) / (tanTheta2 + 1) + start.y;\n  const gradient = context.createLinearGradient(start.x, start.y, x, y);\n  addStop(steps, gradient);\n  return gradient;\n}\n\nfunction parseRadialGradient(color, self, context) {\n  const arr = regexRG.exec(color);\n  const fx = parseFloat(arr[1]);\n  const fy = parseFloat(arr[2]);\n  const fr = parseFloat(arr[3]);\n  const steps = arr[4];\n  // 环半径为0时，默认无渐变，取渐变序列的最后一个颜色\n  if (fr === 0) {\n    const colors = steps.match(regexColorStop);\n    return colors[colors.length - 1].split(':')[1];\n  }\n  const box = self.getBBox() as BBox;\n  const maxX = box.maxX;\n  const maxY = box.maxY;\n  const width = maxX - box.x;\n  const height = maxY - box.y;\n  const r = Math.sqrt(width * width + height * height) / 2;\n  const gradient = context.createRadialGradient(\n    box.x + width * fx,\n    box.y + height * fy,\n    fr * r,\n    box.x + width / 2,\n    box.y + height / 2,\n    r\n  );\n  addStop(steps, gradient);\n  return gradient;\n}\n\nfunction parsePattern(color, self, context) {\n  if (self.get('patternSource') && self.get('patternSource') === color) {\n    return self.get('pattern');\n  }\n  let pattern;\n  let img;\n  const arr = regexPR.exec(color);\n  let repeat = arr[1];\n  const source = arr[2];\n\n  // Function to be called when pattern loads\n  function onload() {\n    // Create pattern\n    pattern = context.createPattern(img, repeat);\n    self.setSilent('pattern', pattern); // be a cache\n    self.setSilent('patternSource', color);\n  }\n\n  switch (repeat) {\n    case 'a':\n      repeat = 'repeat';\n      break;\n    case 'x':\n      repeat = 'repeat-x';\n      break;\n    case 'y':\n      repeat = 'repeat-y';\n      break;\n    case 'n':\n      repeat = 'no-repeat';\n      break;\n    default:\n      repeat = 'no-repeat';\n  }\n\n  img = new Image();\n  // If source URL is not a data URL\n  if (!source.match(/^data:/i)) {\n    // Set crossOrigin for this image\n    img.crossOrigin = 'Anonymous';\n  }\n  // eslint-disable-next-line\n  img.src = source;\n\n  if (img.complete) {\n    onload();\n  } else {\n    img.onload = onload;\n    // Fix onload() bug in IE9\n    // eslint-disable-next-line\n    img.src = img.src;\n  }\n\n  return pattern;\n}\n\nexport function parsePath(path) {\n  path = path || [];\n  if (Util.isArray(path)) {\n    return path;\n  }\n\n  if (Util.isString(path)) {\n    path = path.match(regexTags);\n    Util.each(path, (item: any, index) => {\n      item = item.match(regexDot);\n      if (item[0].length > 1) {\n        const tag = item[0].charAt(0);\n        item.splice(1, 0, item[0].substr(1));\n        item[0] = tag;\n      }\n      Util.each(item, (sub: any, i) => {\n        if (!isNaN(sub)) {\n          item[i] = +sub;\n        }\n      });\n      path[index] = item;\n    });\n    return path;\n  }\n}\n\nexport function parseStyle(color, self, context) {\n  if (Util.isString(color)) {\n    if (color[1] === '(' || color[2] === '(') {\n      if (color[0] === 'l') {\n        // regexLG.test(color)\n        return parseLineGradient(color, self, context);\n      } else if (color[0] === 'r') {\n        // regexRG.test(color)\n        return parseRadialGradient(color, self, context);\n      } else if (color[0] === 'p') {\n        // regexPR.test(color)\n        return parsePattern(color, self, context);\n      }\n    }\n    return color;\n  }\n}\n","export { default as painter } from './painter';\nexport { default as getShape } from './get-shape';\n","import * as Util from '@antv/util';\nimport { detect } from 'detect-browser';\nimport Defs from './defs';\nimport { parseRadius } from '../../util/format';\nimport Marker from '../../shapes/marker';\n\nconst symbolsFactory = Marker.symbolsFactory;\n\nconst SHAPE_TO_TAGS = {\n  rect: 'path',\n  circle: 'circle',\n  line: 'line',\n  path: 'path',\n  marker: 'path',\n  text: 'text',\n  polygon: 'polygon',\n  image: 'image',\n  ellipse: 'ellipse',\n  dom: 'foreignObject',\n  fan: 'path',\n  group: 'g',\n};\n\nconst LETTER_SPACING = 0.3;\n\nconst SVG_ATTR_MAP = {\n  opacity: 'opacity',\n  fillStyle: 'fill',\n  strokeOpacity: 'stroke-opacity',\n  fillOpacity: 'fill-opacity',\n  strokeStyle: 'stroke',\n  x: 'x',\n  y: 'y',\n  r: 'r',\n  width: 'width',\n  height: 'height',\n  x1: 'x1',\n  x2: 'x2',\n  y1: 'y1',\n  y2: 'y2',\n  lineCap: 'stroke-linecap',\n  lineJoin: 'stroke-linejoin',\n  lineWidth: 'stroke-width',\n  lineDash: 'stroke-dasharray',\n  lineDashOffset: 'stroke-dashoffset',\n  miterLimit: 'stroke-miterlimit',\n  font: 'font',\n  fontSize: 'font-size',\n  fontStyle: 'font-style',\n  fontVariant: 'font-variant',\n  fontWeight: 'font-weight',\n  fontFamily: 'font-family',\n  startArrow: 'marker-start',\n  endArrow: 'marker-end',\n  path: 'd',\n  class: 'class',\n  id: 'id',\n  style: 'style',\n  preserveAspectRatio: 'preserveAspectRatio',\n};\n\nconst BASELINE_MAP = {\n  top: 'before-edge',\n  middle: 'central',\n  bottom: 'after-edge',\n  alphabetic: 'baseline',\n  hanging: 'hanging',\n};\n\nconst BASELINE_MAP_FOR_FIREFOX = {\n  top: 'text-before-edge',\n  middle: 'central',\n  bottom: 'text-after-edge',\n  alphabetic: 'alphabetic',\n  hanging: 'hanging',\n};\n\nconst ANCHOR_MAP = {\n  left: 'left',\n  start: 'left',\n  center: 'middle',\n  right: 'end',\n  end: 'end',\n};\n\nclass Painter {\n  animateHandler: any;\n  canvas: any;\n  context: Defs;\n  toDraw: boolean = false;\n  type: string = 'svg';\n  removed: boolean = false;\n  destroyed: boolean = false;\n\n  constructor(dom) {\n    if (!dom) {\n      return null;\n    }\n    const svgId = Util.uniqueId('canvas_');\n    const canvasDom = Util.createDom(`<svg id=\"${svgId}\"></svg>`);\n    dom.appendChild(canvasDom);\n    this.type = 'svg';\n    this.canvas = canvasDom;\n    this.context = new Defs(canvasDom);\n    this.toDraw = false;\n    return this;\n  }\n  draw(model) {\n    const self = this;\n    function drawInner() {\n      self.animateHandler = Util.requestAnimationFrame(() => {\n        self.animateHandler = undefined;\n        if (self.toDraw) {\n          drawInner();\n        }\n      });\n      try {\n        self._drawChildren(model);\n      } catch (ev) {\n        // 绘制时异常，中断重绘\n        console.warn('error in draw canvas, detail as:');\n        console.warn(ev);\n      } finally {\n        self.toDraw = false;\n      }\n    }\n    if (self.animateHandler) {\n      self.toDraw = true;\n    } else {\n      drawInner();\n    }\n  }\n  drawSync(model) {\n    this._drawChildren(model);\n  }\n  _drawGroup(model, index) {\n    const cfg = model.cfg;\n    if (model.removed || model.destroyed) {\n      return;\n    }\n    if (cfg.tobeRemoved) {\n      Util.each(cfg.tobeRemoved, (item: any) => {\n        if (item.parentNode) {\n          item.parentNode.removeChild(item);\n        }\n      });\n      cfg.tobeRemoved = [];\n    }\n    this._drawShape(model, index);\n    if (cfg.children && cfg.children.length > 0) {\n      this._drawChildren(model);\n    }\n  }\n  _drawChildren(parent) {\n    const self = this;\n    const children = parent.cfg.children;\n    let shape;\n    // 防止在画children的时候，父group已经被destroy\n    if (!children) {\n      return;\n    }\n    for (let i = 0; i < children.length; i++) {\n      shape = children[i];\n      if (shape.isGroup) {\n        self._drawGroup(shape, i);\n      } else {\n        self._drawShape(shape, i);\n      }\n    }\n  }\n  _drawShape(model, index) {\n    const self = this;\n    const attrs = model.attrs;\n    const cfg = model.cfg;\n    let el = cfg.el;\n    // 删除\n    if (model.removed || model.destroyed) {\n      if (el) {\n        el.parentNode.removeChild(cfg.el);\n      }\n      return;\n    }\n\n    // 新增节点\n    if (!el && cfg.parent) {\n      self._createDom(model, index);\n      self._updateShape(model);\n    }\n\n    el = cfg.el;\n\n    if (cfg.visible === false) {\n      el.setAttribute('visibility', 'hidden');\n      return;\n    }\n    if (cfg.visible && el.hasAttribute('visibility')) {\n      el.removeAttribute('visibility');\n    }\n\n    // 更新\n    if (cfg.hasUpdate) {\n      self._updateShape(model);\n    }\n\n    if (attrs.clip && attrs.clip.cfg.hasUpdate) {\n      self._updateShape(attrs.clip);\n    }\n  }\n  _updateShape(model) {\n    const self = this;\n    const attrs = model.attrs;\n    const formerAttrs = model.cfg.attrs;\n    if (!formerAttrs) {\n      return;\n    }\n    if (!model.cfg.el) {\n      self._createDom(model);\n    }\n    if ('clip' in attrs) {\n      this._setClip(model, attrs.clip);\n    }\n    if ('shadowOffsetX' in attrs || 'shadowOffsetY' in attrs || 'shadowBlur' in attrs || 'shadowColor' in attrs) {\n      this._setShadow(model);\n    }\n    if (model.type === 'text') {\n      self._updateText(model);\n      return;\n    }\n    if (model.type === 'fan') {\n      self._updateFan(model);\n    }\n    if (model.type === 'marker') {\n      model.cfg.el.setAttribute('d', self._assembleMarker(model, attrs));\n    }\n    if (model.type === 'rect') {\n      model.cfg.el.setAttribute('d', self._assembleRect(attrs));\n    }\n    for (const key in attrs) {\n      if (attrs[key] !== formerAttrs[key]) {\n        self._setAttribute(model, key, attrs[key]);\n      }\n    }\n    model.cfg.attrs = Util.deepMix({}, model.attrs);\n    model.cfg.hasUpdate = false;\n  }\n  _setAttribute(model, name, value) {\n    const type = model.type;\n    const attrs = model.attrs;\n    const el = model.cfg.el;\n    const defs = this.context;\n\n    // 计算marker路径\n    if ((type === 'marker' || type === 'rect') && ~['x', 'y', 'radius', 'r'].indexOf(name)) {\n      return;\n    }\n    // 圆和椭圆不是x, y， 是cx, cy。 marker的x,y 用于计算marker的路径，不需要写到dom\n    if (~['circle', 'ellipse'].indexOf(type) && ~['x', 'y'].indexOf(name)) {\n      el.setAttribute('c' + name, parseInt(value, 10));\n      return;\n    }\n    // 多边形\n    if (type === 'polygon' && name === 'points') {\n      if (!value || value.length === 0) {\n        value = '';\n      }\n      if (Util.isArray(value)) {\n        value = value.map((point) => point[0] + ',' + point[1]);\n        value = value.join(' ');\n      }\n      el.setAttribute('points', value);\n      return;\n    }\n    // 设置path\n    if (name === 'path') {\n      if (Util.isArray(value)) {\n        el.setAttribute('d', this._formatPath(value));\n      }\n      return;\n    }\n    // 设置图片\n    if (name === 'img') {\n      this._setImage(model, value);\n      return;\n    }\n    if (name === 'transform') {\n      if (!value) {\n        el.removeAttribute('transform');\n        return;\n      }\n      this._setTransform(model);\n      return;\n    }\n    if (name === 'rotate') {\n      if (!value) {\n        el.removeAttribute('transform');\n        return;\n      }\n      this._setTransform(model);\n      return;\n    }\n    if (name === 'matrix') {\n      this._setTransform(model);\n      return;\n    }\n    if (name === 'fillStyle' || name === 'strokeStyle') {\n      this._setColor(model, name, value);\n      return;\n    }\n    if (name === 'clip') {\n      return;\n    }\n    if (~name.indexOf('Arrow')) {\n      name = SVG_ATTR_MAP[name];\n      if (!value) {\n        model.cfg[name] = null;\n        el.removeAttribute(name);\n      } else {\n        let id = null;\n        if (typeof value === 'boolean') {\n          id = defs.getDefaultArrow(attrs, name);\n        } else {\n          id = defs.addArrow(attrs, name);\n        }\n        el.setAttribute(name, `url(#${id})`);\n        model.cfg[name] = id;\n      }\n      return;\n    }\n    // foreignObject\n    if (name === 'html') {\n      if (typeof value === 'string') {\n        el.innerHTML = value;\n      } else {\n        el.innerHTML = '';\n        el.appendChild(value);\n      }\n    }\n    if (SVG_ATTR_MAP[name]) {\n      el.setAttribute(SVG_ATTR_MAP[name], value);\n    }\n  }\n  _createDom(model, index?) {\n    const type = SHAPE_TO_TAGS[model.type];\n    const attrs = model.attrs;\n    const parent = model.cfg.parent;\n    if (!type) {\n      throw new Error('the type' + model.type + 'is not supported by svg');\n    }\n    const shape = document.createElementNS('http://www.w3.org/2000/svg', type);\n    if (model.cfg.id) {\n      shape.id = model.cfg.id;\n    }\n    model.cfg.el = shape;\n    if (parent) {\n      const parentNode = parent.cfg.el;\n      if (typeof index === 'undefined') {\n        parentNode.appendChild(shape);\n      } else {\n        const childNodes = parent.cfg.el.childNodes;\n        // svg下天然有defs作为子节点，svg下子元素index需要+1\n        if (parentNode.tagName === 'svg') {\n          index += 1;\n        }\n        if (childNodes.length <= index) {\n          parentNode.appendChild(shape);\n        } else {\n          parentNode.insertBefore(shape, childNodes[index]);\n        }\n      }\n    }\n    model.cfg.attrs = {};\n    if (model.type === 'text') {\n      shape.setAttribute('paint-order', 'stroke');\n      shape.setAttribute('style', 'stroke-linecap:butt; stroke-linejoin:miter;');\n    } else {\n      if (!attrs.stroke && !attrs.strokeStyle) {\n        shape.setAttribute('stroke', 'none');\n      }\n      if (!attrs.fill && !attrs.fillStyle) {\n        shape.setAttribute('fill', 'none');\n      }\n    }\n    return shape;\n  }\n  _assembleMarker(marker, attrs) {\n    const d = marker._getPath();\n\n    if (Util.isArray(d)) {\n      return d\n        .map((path) => {\n          return path.join(' ');\n        })\n        .join('');\n    }\n    return d;\n  }\n  _assembleRect(attrs) {\n    const x = attrs.x;\n    const y = attrs.y;\n    const w = attrs.width;\n    const h = attrs.height;\n    const radius = attrs.radius;\n\n    if (!radius) {\n      return `M ${x},${y} l ${w},0 l 0,${h} l${-w} 0 z`;\n    }\n    const r = parseRadius(radius);\n    if (Util.isArray(radius)) {\n      if (radius.length === 1) {\n        r.r1 = r.r2 = r.r3 = r.r4 = radius[0];\n      } else if (radius.length === 2) {\n        r.r1 = r.r3 = radius[0];\n        r.r2 = r.r4 = radius[1];\n      } else if (radius.length === 3) {\n        r.r1 = radius[0];\n        r.r2 = r.r4 = radius[1];\n        r.r3 = radius[2];\n      } else {\n        r.r1 = radius[0];\n        r.r2 = radius[1];\n        r.r3 = radius[2];\n        r.r4 = radius[3];\n      }\n    } else {\n      r.r1 = r.r2 = r.r3 = r.r4 = radius;\n    }\n    const d = [\n      [`M ${x + r.r1},${y}`],\n      [`l ${w - r.r1 - r.r2},0`],\n      [`a ${r.r2},${r.r2},0,0,1,${r.r2},${r.r2}`],\n      [`l 0,${h - r.r2 - r.r3}`],\n      [`a ${r.r3},${r.r3},0,0,1,${-r.r3},${r.r3}`],\n      [`l ${r.r3 + r.r4 - w},0`],\n      [`a ${r.r4},${r.r4},0,0,1,${-r.r4},${-r.r4}`],\n      [`l 0,${r.r4 + r.r1 - h}`],\n      [`a ${r.r1},${r.r1},0,0,1,${r.r1},${-r.r1}`],\n      ['z'],\n    ];\n    return d.join(' ');\n  }\n  _formatPath(value) {\n    value = value\n      .map((path) => {\n        return path.join(' ');\n      })\n      .join('');\n    if (~value.indexOf('NaN')) {\n      return '';\n    }\n    return value;\n  }\n  _setTransform(model) {\n    const matrix = model.attrs.matrix;\n    const el = model.cfg.el;\n    let transform: any = [];\n    for (let i = 0; i < 9; i += 3) {\n      transform.push(matrix[i] + ',' + matrix[i + 1]);\n    }\n    transform = transform.join(',');\n    if (transform.indexOf('NaN') === -1) {\n      el.setAttribute('transform', `matrix(${transform})`);\n    } else {\n      console.warn('invalid matrix:', matrix);\n    }\n  }\n  _setImage(model, img) {\n    const attrs = model.attrs;\n    const el = model.cfg.el;\n    if (Util.isString(img)) {\n      el.setAttribute('href', img);\n    } else if (img instanceof Image) {\n      if (!attrs.width) {\n        el.setAttribute('width', img.width);\n        model.attrs.width = img.width;\n      }\n      if (!attrs.height) {\n        el.setAttribute('height', img.height);\n        model.attrs.height = img.height;\n      }\n      el.setAttribute('href', img.src);\n    } else if (img instanceof HTMLElement && Util.isString(img.nodeName) && img.nodeName.toUpperCase() === 'CANVAS') {\n      // @ts-ignore\n      el.setAttribute('href', img.toDataURL());\n    } else if (img instanceof ImageData) {\n      const canvas = document.createElement('canvas');\n      canvas.setAttribute('width', `${img.width}`);\n      canvas.setAttribute('height', `${img.height}`);\n      canvas.getContext('2d').putImageData(img, 0, 0);\n      if (!attrs.width) {\n        el.setAttribute('width', img.width);\n        model.attrs.width = img.width;\n      }\n      if (!attrs.height) {\n        el.setAttribute('height', img.height);\n        model.attrs.height = img.height;\n      }\n      el.setAttribute('href', canvas.toDataURL());\n    }\n  }\n  _updateFan(model) {\n    function getPoint(angle, radius, center) {\n      return {\n        x: radius * Math.cos(angle) + center.x,\n        y: radius * Math.sin(angle) + center.y,\n      };\n    }\n    const attrs = model.attrs;\n    const cfg = model.cfg;\n    const center = {\n      x: attrs.x,\n      y: attrs.y,\n    };\n    const d = [];\n    const startAngle = attrs.startAngle;\n    let endAngle = attrs.endAngle;\n    if (Util.isNumberEqual(endAngle - startAngle, Math.PI * 2)) {\n      endAngle -= 0.00001;\n    }\n    const outerStart = getPoint(startAngle, attrs.re, center);\n    const outerEnd = getPoint(endAngle, attrs.re, center);\n    const fa = endAngle > startAngle ? 1 : 0;\n    const fs = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n    const rs = attrs.rs;\n    const re = attrs.re;\n    const innerStart = getPoint(startAngle, attrs.rs, center);\n    const innerEnd = getPoint(endAngle, attrs.rs, center);\n    if (attrs.rs > 0) {\n      d.push(`M ${outerEnd.x},${outerEnd.y}`);\n      d.push(`L ${innerEnd.x},${innerEnd.y}`);\n      d.push(`A ${rs},${rs},0,${fs},${fa === 1 ? 0 : 1},${innerStart.x},${innerStart.y}`);\n      d.push(`L ${outerStart.x} ${outerStart.y}`);\n    } else {\n      d.push(`M ${center.x},${center.y}`);\n      d.push(`L ${outerStart.x},${outerStart.y}`);\n    }\n    d.push(`A ${re},${re},0,${fs},${fa},${outerEnd.x},${outerEnd.y}`);\n    if (attrs.rs > 0) {\n      d.push(`L ${innerEnd.x},${innerEnd.y}`);\n    } else {\n      d.push('Z');\n    }\n    cfg.el.setAttribute('d', d.join(' '));\n  }\n  _updateText(model) {\n    const self = this;\n    const attrs = model.attrs;\n    const formerAttrs = model.cfg.attrs;\n    const el = model.cfg.el;\n    this._setFont(model);\n    for (const attr in attrs) {\n      if (attrs[attr] !== formerAttrs[attr]) {\n        if (attr === 'text') {\n          self._setText(model, `${attrs[attr]}`);\n          continue;\n        }\n        if (attr === 'fillStyle' || attr === 'strokeStyle') {\n          this._setColor(model, attr, attrs[attr]);\n          continue;\n        }\n        if (attr === 'matrix') {\n          this._setTransform(model);\n          continue;\n        }\n        if (SVG_ATTR_MAP[attr]) {\n          el.setAttribute(SVG_ATTR_MAP[attr], attrs[attr]);\n        }\n      }\n    }\n    model.cfg.attrs = Object.assign({}, model.attrs);\n    model.cfg.hasUpdate = false;\n  }\n  _setFont(model) {\n    const el = model.get('el');\n    const attrs = model.attrs;\n    const fontSize = attrs.fontSize;\n\n    const browser = detect();\n    if (browser && browser.name === 'firefox') {\n      // compatible with FireFox browser, ref: https://github.com/antvis/g/issues/119\n      el.setAttribute('dominant-baseline', BASELINE_MAP_FOR_FIREFOX[attrs.textBaseline] || 'alphabetic');\n    } else {\n      el.setAttribute('alignment-baseline', BASELINE_MAP[attrs.textBaseline] || 'baseline');\n    }\n    el.setAttribute('text-anchor', ANCHOR_MAP[attrs.textAlign] || 'left');\n    if (fontSize && +fontSize < 12) {\n      // 小于 12 像素的文本进行 scale 处理\n      attrs.matrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      model.transform([['t', -attrs.x, -attrs.y], ['s', +fontSize / 12, +fontSize / 12], ['t', attrs.x, attrs.y]]);\n    }\n  }\n  _setText(model, text) {\n    const el = model.cfg.el;\n    const baseline = model.attrs.textBaseline || 'bottom';\n    if (!text) {\n      el.innerHTML = '';\n    } else if (~text.indexOf('\\n')) {\n      const x = model.attrs.x;\n      const textArr = text.split('\\n');\n      const textLen = textArr.length - 1;\n      let arr = '';\n      Util.each(textArr, (segment, i: number) => {\n        if (i === 0) {\n          if (baseline === 'alphabetic') {\n            arr += `<tspan x=\"${x}\" dy=\"${-textLen}em\">${segment}</tspan>`;\n          } else if (baseline === 'top') {\n            arr += `<tspan x=\"${x}\" dy=\"0.9em\">${segment}</tspan>`;\n          } else if (baseline === 'middle') {\n            arr += `<tspan x=\"${x}\" dy=\"${-(textLen - 1) / 2}em\">${segment}</tspan>`;\n          } else if (baseline === 'bottom') {\n            arr += `<tspan x=\"${x}\" dy=\"-${textLen + LETTER_SPACING}em\">${segment}</tspan>`;\n          } else if (baseline === 'hanging') {\n            arr += `<tspan x=\"${x}\" dy=\"${-(textLen - 1) - LETTER_SPACING}em\">${segment}</tspan>`;\n          }\n        } else {\n          arr += `<tspan x=\"${x}\" dy=\"1em\">${segment}</tspan>`;\n        }\n      });\n      el.innerHTML = arr;\n    } else {\n      el.innerHTML = text;\n    }\n  }\n  _setClip(model, value) {\n    const el = model.cfg.el;\n    if (!value) {\n      el.removeAttribute('clip-path');\n      return;\n    }\n    if (!el.hasAttribute('clip-path')) {\n      this._createDom(value);\n      this._updateShape(value);\n      const id = this.context.addClip(value);\n      el.setAttribute('clip-path', `url(#${id})`);\n    } else if (value.cfg.hasUpdate) {\n      this._updateShape(value);\n    }\n  }\n  _setColor(model, name, value) {\n    const el = model.cfg.el;\n    const defs = this.context;\n    if (!value) {\n      el.setAttribute(SVG_ATTR_MAP[name], 'none');\n      return;\n    }\n    value = value.trim();\n    if (/^[r,R,L,l]{1}[\\s]*\\(/.test(value)) {\n      let id = defs.find('gradient', value);\n      if (!id) {\n        id = defs.addGradient(value);\n      }\n      el.setAttribute(SVG_ATTR_MAP[name], `url(#${id})`);\n    } else if (/^[p,P]{1}[\\s]*\\(/.test(value)) {\n      let id = defs.find('pattern', value);\n      if (!id) {\n        id = defs.addPattern(value);\n      }\n      el.setAttribute(SVG_ATTR_MAP[name], `url(#${id})`);\n    } else {\n      el.setAttribute(SVG_ATTR_MAP[name], value);\n    }\n  }\n  _setShadow(model) {\n    const el = model.cfg.el;\n    const attrs = model.attrs;\n    const cfg = {\n      dx: attrs.shadowOffsetX,\n      dy: attrs.shadowOffsetY,\n      blur: attrs.shadowBlur,\n      color: attrs.shadowColor,\n    };\n    if (!cfg.dx && !cfg.dy && !cfg.blur && !cfg.color) {\n      el.removeAttribute('filter');\n    } else {\n      let id = this.context.find('filter', cfg);\n      if (!id) {\n        id = this.context.addShadow(cfg);\n      }\n      el.setAttribute('filter', `url(#${id})`);\n    }\n  }\n}\n\nexport default Painter;\n","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n    }\n    return BrowserInfo;\n}());\nexports.BrowserInfo = BrowserInfo;\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexports.NodeInfo = NodeInfo;\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexports.BotInfo = BotInfo;\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['vivaldi', /Vivaldi\\/([0-9\\.]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /Edg\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n    ['Search Bot', SEARCHBOT_OS_REGEX],\n];\nfunction detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nexports.detect = detect;\nfunction parseUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    var matchedRule = ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    return new BrowserInfo(name, versionParts.join('.'), detectOS(ua));\n}\nexports.parseUserAgent = parseUserAgent;\nfunction detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.test(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexports.detectOS = detectOS;\nfunction getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nexports.getNodeVersion = getNodeVersion;\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * Created by Elaine on 2018/5/9.\n */\nimport * as Util from '@antv/util';\nimport Gradient from './defs/gradient';\nimport Shadow from './defs/shadow';\nimport Arrow from './defs/arrow';\nimport Clip from './defs/clip';\nimport Pattern from './defs/pattern';\n\nclass Defs {\n  id: string;\n  defaultArrow: {};\n  children: any[];\n  el: SVGDefsElement;\n  canvas: any; // TODO G.Canvas\n\n  constructor(canvas) {\n    const el = document.createElementNS('http://www.w3.org/2000/svg', 'defs');\n    const id = Util.uniqueId('defs_');\n    el.id = id;\n    canvas.appendChild(el);\n    this.children = [];\n    this.defaultArrow = {};\n    this.el = el;\n    this.canvas = canvas;\n  }\n  find(type, attr) {\n    const children = this.children;\n    let result = null;\n    for (let i = 0; i < children.length; i++) {\n      if (children[i].match(type, attr)) {\n        result = children[i].id;\n        break;\n      }\n    }\n    return result;\n  }\n  findById(id) {\n    const children = this.children;\n    let flag = null;\n    for (let i = 0; i < children.length; i++) {\n      if (children[i].id === id) {\n        flag = children[i];\n        break;\n      }\n    }\n    return flag;\n  }\n  add(item) {\n    this.children.push(item);\n    item.canvas = this.canvas;\n    item.parent = this;\n  }\n  getDefaultArrow(attrs, name) {\n    const stroke = attrs.stroke || attrs.strokeStyle;\n    if (this.defaultArrow[stroke]) {\n      return this.defaultArrow[stroke].id;\n    }\n    const arrow = new Arrow(attrs, name);\n    this.defaultArrow[stroke] = arrow;\n    this.el.appendChild(arrow.el);\n    return arrow.id;\n  }\n  addGradient(cfg) {\n    const gradient = new Gradient(cfg);\n    this.el.appendChild(gradient.el);\n    this.add(gradient);\n    return gradient.id;\n  }\n  addArrow(attrs, name) {\n    const arrow = new Arrow(attrs, name);\n    this.el.appendChild(arrow.el);\n    return arrow.id;\n  }\n  addShadow(cfg) {\n    const shadow = new Shadow(cfg);\n    this.el.appendChild(shadow.el);\n    this.add(shadow);\n    return shadow.id;\n  }\n  addPattern(cfg) {\n    const pattern = new Pattern(cfg);\n    this.el.appendChild(pattern.el);\n    this.add(pattern);\n    return pattern.id;\n  }\n  addClip(cfg) {\n    const clip = new Clip(cfg);\n    this.el.appendChild(clip.el);\n    this.add(clip);\n    return clip.id;\n  }\n}\n\nexport default Defs;\n","/**\n * Created by Elaine on 2018/5/9.\n */\nimport * as Util from '@antv/util';\n\nconst regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nconst regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nconst regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\n\nfunction addStop(steps) {\n  const arr = steps.match(regexColorStop);\n  if (!arr) {\n    return '';\n  }\n  let stops = '';\n  arr.sort(function(a, b) {\n    a = a.split(':');\n    b = b.split(':');\n    return Number(a[0]) - Number(b[0]);\n  });\n  Util.each(arr, (item: any) => {\n    item = item.split(':');\n    stops += `<stop offset=\"${item[0]}\" stop-color=\"${item[1]}\"></stop>`;\n  });\n  return stops;\n}\n\nfunction parseLineGradient(color, el) {\n  const arr = regexLG.exec(color);\n  const angle = Util.mod(Util.toRadian(parseFloat(arr[1])), Math.PI * 2);\n  const steps = arr[2];\n  let start;\n  let end;\n\n  if (angle >= 0 && angle < 0.5 * Math.PI) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 1,\n    };\n  } else if (0.5 * Math.PI <= angle && angle < Math.PI) {\n    start = {\n      x: 1,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  } else if (Math.PI <= angle && angle < 1.5 * Math.PI) {\n    start = {\n      x: 1,\n      y: 1,\n    };\n    end = {\n      x: 0,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 1,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  }\n\n  const tanTheta = Math.tan(angle);\n  const tanTheta2 = tanTheta * tanTheta;\n\n  const x = (end.x - start.x + tanTheta * (end.y - start.y)) / (tanTheta2 + 1) + start.x;\n  const y = (tanTheta * (end.x - start.x + tanTheta * (end.y - start.y))) / (tanTheta2 + 1) + start.y;\n  el.setAttribute('x1', start.x);\n  el.setAttribute('y1', start.y);\n  el.setAttribute('x2', x);\n  el.setAttribute('y2', y);\n  el.innerHTML = addStop(steps);\n}\n\nfunction parseRadialGradient(color, self) {\n  const arr = regexRG.exec(color);\n  const cx = parseFloat(arr[1]);\n  const cy = parseFloat(arr[2]);\n  const r = parseFloat(arr[3]);\n  const steps = arr[4];\n  self.setAttribute('cx', cx);\n  self.setAttribute('cy', cy);\n  self.setAttribute('r', r);\n  self.innerHTML = addStop(steps);\n}\n\nclass Gradient {\n  el: SVGGradientElement;\n  id: string;\n  cfg: {\n    [key: string]: any;\n  } = {};\n\n  constructor(cfg) {\n    let el = null;\n    const id = Util.uniqueId('gradient_');\n    if (cfg.toLowerCase()[0] === 'l') {\n      el = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient');\n      parseLineGradient(cfg, el);\n    } else {\n      el = document.createElementNS('http://www.w3.org/2000/svg', 'radialGradient');\n      parseRadialGradient(cfg, el);\n    }\n    el.setAttribute('id', id);\n    this.el = el;\n    this.id = id;\n    this.cfg = cfg;\n    return this;\n  }\n  match(type, attr) {\n    return this.cfg === attr;\n  }\n}\n\nexport default Gradient;\n","/**\n * Created by Elaine on 2018/5/10.\n */\nimport * as Util from '@antv/util';\n\nconst ATTR_MAP = {\n  shadowColor: 'color',\n  shadowOpacity: 'opacity',\n  shadowBlur: 'blur',\n  shadowOffsetX: 'dx',\n  shadowOffsetY: 'dy',\n};\n\nconst SHADOW_DIMENSION = {\n  x: '-40%',\n  y: '-40%',\n  width: '200%',\n  height: '200%',\n};\n\nclass Shadow {\n  type: string = 'filter';\n  id: string;\n  el: SVGFilterElement;\n  cfg: {\n    [key: string]: any;\n  } = {};\n\n  constructor(cfg) {\n    this.type = 'filter';\n    const el = document.createElementNS('http://www.w3.org/2000/svg', 'filter');\n    // expand the filter region to fill in shadows\n    Util.each(SHADOW_DIMENSION, function(v, k) {\n      el.setAttribute(k, v);\n    });\n    this.el = el;\n    this.id = Util.uniqueId('filter_');\n    this.el.id = this.id;\n    this.cfg = cfg;\n    this._parseShadow(cfg, el);\n    return this;\n  }\n  match(type, cfg) {\n    if (this.type !== type) {\n      return false;\n    }\n    let flag = true;\n    const config = this.cfg;\n    Util.each(Object.keys(config), (attr) => {\n      if (config[attr] !== cfg[attr]) {\n        flag = false;\n        return false;\n      }\n    });\n    return flag;\n  }\n  update(name, value) {\n    const config = this.cfg;\n    config[ATTR_MAP[name]] = value;\n    this._parseShadow(config, this.el);\n    return this;\n  }\n  _parseShadow(config, el) {\n    const child = `<feDropShadow\n      dx=\"${config.dx || 0}\"\n      dy=\"${config.dy || 0}\"\n      stdDeviation=\"${config.blur ? config.blur / 10 : 0}\"\n      flood-color=\"${config.color ? config.color : '#000'}\"\n      flood-opacity=\"${config.opacity ? config.opacity : 1}\"\n      />`;\n    el.innerHTML = child;\n  }\n}\n\nexport default Shadow;\n","/**\n * Created by Elaine on 2018/5/11.\n */\nimport * as Util from '@antv/util';\n\nclass Arrow {\n  id: string;\n  el: SVGMarkerElement;\n  child: SVGPathElement | any; // TODO G.Shape, not any\n  stroke: string;\n  cfg: {\n    [key: string]: any;\n  } = {};\n\n  constructor(attrs, type) {\n    const el = document.createElementNS('http://www.w3.org/2000/svg', 'marker');\n    const id = Util.uniqueId('marker_');\n    el.setAttribute('id', id);\n    const shape = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    shape.setAttribute('stroke', 'none');\n    shape.setAttribute('fill', attrs.stroke || '#000');\n    el.appendChild(shape);\n    el.setAttribute('overflow', 'visible');\n    el.setAttribute('orient', 'auto-start-reverse');\n    this.el = el;\n    this.child = shape;\n    this.id = id;\n    const cfg = attrs[type === 'marker-start' ? 'startArrow' : 'endArrow'];\n    this.stroke = attrs.stroke || '#000';\n    if (cfg === true) {\n      this._setDefaultPath(type, shape);\n    } else {\n      this._setMarker(attrs.lineWidth, shape);\n    }\n    return this;\n  }\n  match() {\n    return false;\n  }\n  _setDefaultPath(type, el) {\n    const parent = this.el;\n    el.setAttribute('d', 'M0,0 L6,3 L0,6 L3,3Z');\n    parent.setAttribute('refX', `${3}`);\n    parent.setAttribute('refY', `${3}`);\n  }\n  _setMarker(r, el) {\n    const parent = this.el;\n    let path = this.cfg.path;\n    const d = this.cfg.d;\n\n    if (Util.isArray(path)) {\n      path = path\n        .map((segment) => {\n          return segment.join(' ');\n        })\n        .join('');\n    }\n    el.setAttribute('d', path);\n    parent.appendChild(el);\n    if (d) {\n      parent.setAttribute('refX', `${d / r}`);\n    }\n  }\n  update(fill) {\n    const child = this.child;\n    if (child.attr) {\n      child.attr('fill', fill);\n    } else {\n      child.setAttribute('fill', fill);\n    }\n  }\n}\n\nexport default Arrow;\n","/**\n * Created by Elaine on 2018/5/14.\n */\nimport * as Util from '@antv/util';\n\nclass Clip {\n  type: string = 'clip';\n  id: string;\n  el: SVGClipPathElement;\n  cfg: {\n    [key: string]: any;\n  } = {};\n\n  constructor(cfg) {\n    const el = document.createElementNS('http://www.w3.org/2000/svg', 'clipPath');\n    this.el = el;\n    this.id = Util.uniqueId('clip_');\n    el.id = this.id;\n    const shapeEl = cfg.cfg.el;\n    // just in case the clip shape is also a shape needs to be drawn\n    el.appendChild(shapeEl.cloneNode(true));\n    this.cfg = cfg;\n    return this;\n  }\n  match() {\n    return false;\n  }\n  remove() {\n    const el = this.el;\n    el.parentNode.removeChild(el);\n  }\n}\n\nexport default Clip;\n","/**\n * Created by Elaine on 2018/5/9.\n */\nimport * as Util from '@antv/util';\n\nconst regexPR = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i;\n\nclass Pattern {\n  el: SVGPatternElement;\n  id: string;\n  cfg: {\n    [key: string]: any;\n  } = {};\n\n  constructor(cfg) {\n    const el = document.createElementNS('http://www.w3.org/2000/svg', 'pattern');\n    el.setAttribute('patternUnits', 'userSpaceOnUse');\n    const child = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n    el.appendChild(child);\n    const id = Util.uniqueId('pattern_');\n    el.id = id;\n    this.el = el;\n    this.id = id;\n    this.cfg = cfg;\n    const arr = regexPR.exec(cfg);\n    const source = arr[2];\n    child.setAttribute('href', source);\n    const img = new Image();\n    if (!source.match(/^data:/i)) {\n      img.crossOrigin = 'Anonymous';\n    }\n    img.src = source;\n    function onload() {\n      el.setAttribute('width', `${img.width}`);\n      el.setAttribute('height', `${img.height}`);\n    }\n    if (img.complete) {\n      onload();\n    } else {\n      img.onload = onload;\n      // Fix onload() bug in IE9\n      img.src = img.src;\n    }\n\n    return this;\n  }\n  match(type, attr) {\n    return this.cfg === attr;\n  }\n}\n\nexport default Pattern;\n","import * as Util from '@antv/util';\nimport Base from './base';\nimport { ElementAttrs, ElementCFG } from '../interface';\n\n// 是否未改变\nfunction isUnchanged(m) {\n  return m[0] === 1 && m[1] === 0 && m[3] === 0 && m[4] === 1 && m[6] === 0 && m[7] === 0;\n}\n\n// 是否仅仅是scale\nfunction isScale(m) {\n  return m[1] === 0 && m[3] === 0 && m[6] === 0 && m[7] === 0;\n}\n\nfunction multiple(m1, m2) {\n  if (!isUnchanged(m2)) {\n    if (isScale(m2)) {\n      m1[0] *= m2[0];\n      m1[4] *= m2[4];\n    } else {\n      Util.mat3.multiply(m1, m1, m2);\n    }\n  }\n}\n\nabstract class Attribute extends Base {\n  canFill: boolean = false;\n  canStroke: boolean = false;\n  attrs: ElementAttrs = {};\n  // defaultAttrs: ElementAttrs = {};\n\n  constructor(cfg: ElementCFG = {}) {\n    super(cfg);\n    this.attrs = {\n      opacity: 1,\n      fillOpacity: 1,\n      strokeOpacity: 1,\n      matrix: [1, 0, 0, 0, 1, 0, 0, 0, 1],\n    };\n    this.attr({\n      ...this.getDefaultAttrs(),\n      ...this.cfg.attrs,\n    });\n    this.cfg.attrs = {};\n  }\n\n  getDefaultAttrs() {\n    return {};\n  }\n\n  /**\n   * 设置或者设置属性，有以下 4 种情形：\n   *   - name 不存在, 则返回属性集合\n   *   - name 为字符串，value 为空，获取属性值\n   *   - name 为字符串，value 不为空，设置属性值，返回 this\n   *   - name 为键值对，value 为空，设置属性值\n   *\n   * @param  {String | Object} name  属性名\n   * @param  {*} value 属性值\n   * @return {*} 属性值\n   */\n  attr(...args) {\n    const [name, value] = args;\n    if (!name) return this.attrs;\n    if (Util.isObject(name)) {\n      for (const k in name) {\n        this._setAttr(k, name[k]);\n      }\n      this.clearBBox();\n      this.cfg.hasUpdate = true;\n      return this;\n    }\n    if (args.length === 2) {\n      this._setAttr(name, value);\n      this.clearBBox();\n      this.cfg.hasUpdate = true;\n      return this;\n    }\n    return this.attrs[name];\n  }\n\n  _afterSetAttrPath(value: any) {}\n\n  _setAttr(name: string, value: any) {\n    const attrs = this.attrs;\n    attrs[name] = value;\n    if (name === 'fill' || name === 'stroke') {\n      attrs[name + 'Style'] = value;\n      return;\n    }\n    if (name === 'opacity') {\n      attrs.globalAlpha = value;\n      return;\n    }\n    if (name === 'clip' && value) {\n      this._setClip(value);\n      return;\n    }\n    if (name === 'path') {\n      this._afterSetAttrPath(value);\n      return;\n    }\n    if (name === 'transform') {\n      this.transform(value);\n      return;\n    }\n    if (name === 'rotate') {\n      this.rotateAtStart(value);\n    }\n  }\n\n  clearBBox() {\n    this.setSilent('box', null);\n  }\n\n  hasFill() {\n    return this.canFill && this.attrs.fillStyle;\n  }\n\n  hasStroke() {\n    return this.canStroke && this.attrs.strokeStyle;\n  }\n\n  _setClip(item) {\n    item.cfg.renderer = this.cfg.renderer;\n    item.cfg.canvas = this.cfg.canvas;\n    item.cfg.parent = this.cfg.parent;\n    item.hasFill = function() {\n      return true;\n    };\n  }\n\n  // transform\n  initTransform() {}\n\n  resetMatrix() {\n    this.attr('matrix', [1, 0, 0, 0, 1, 0, 0, 0, 1]);\n  }\n\n  translate(tx: number, ty: number) {\n    const matrix = this.attrs.matrix;\n    Util.mat3.translate(matrix, matrix, [tx, ty]);\n    this.clearTotalMatrix();\n    this.attr('matrix', matrix);\n    return this;\n  }\n\n  rotate(radian: number) {\n    const matrix = this.attrs.matrix;\n    Util.mat3.rotate(matrix, matrix, radian);\n    this.clearTotalMatrix();\n    this.attr('matrix', matrix);\n    return this;\n  }\n\n  scale(s1: number, s2: number) {\n    const matrix = this.attrs.matrix;\n    Util.mat3.scale(matrix, matrix, [s1, s2]);\n    this.clearTotalMatrix();\n    this.attr('matrix', matrix);\n    return this;\n  }\n\n  rotateAtStart(rotate: number) {\n    const x = this.attrs.x || 0;\n    const y = this.attrs.y || 0;\n    if (Math.abs(rotate) > Math.PI * 2) {\n      rotate = (rotate / 180) * Math.PI;\n    }\n    return this.transform([['t', -x, -y], ['r', rotate], ['t', x, y]]);\n  }\n\n  move(x: number, y: number) {\n    const cx = this.get('x') || 0; // 当前的x\n    const cy = this.get('y') || 0; // 当前的y\n    this.translate(x - cx, y - cy);\n    this.set('x', x);\n    this.set('y', y);\n    return this;\n  }\n\n  transform(ts) {\n    const matrix = this.attrs.matrix;\n\n    Util.each(ts, (t) => {\n      switch (t[0]) {\n        case 't':\n          this.translate(t[1], t[2]);\n          break;\n        case 's':\n          this.scale(t[1], t[2]);\n          break;\n        case 'r':\n          this.rotate(t[1]);\n          break;\n        case 'm':\n          this.attr('matrix', Util.mat3.multiply([], matrix, t[1]));\n          this.clearTotalMatrix();\n          break;\n        default:\n          break;\n      }\n    });\n    return this;\n  }\n\n  setTransform(ts) {\n    this.attr('matrix', [1, 0, 0, 0, 1, 0, 0, 0, 1]);\n    return this.transform(ts);\n  }\n\n  getMatrix() {\n    return this.attr('matrix');\n  }\n\n  setMatrix(m) {\n    this.attr('matrix', m);\n    this.clearTotalMatrix();\n    return this;\n  }\n\n  apply(v, root) {\n    let m;\n    if (root) {\n      m = this._getMatrixByRoot(root);\n    } else {\n      m = this.attr('matrix');\n    }\n    Util.vec3.transformMat3(v, v, m);\n    return this;\n  }\n\n  // 获取到达指定根节点的矩阵\n  _getMatrixByRoot(root) {\n    root = root || this;\n    let parent = this;\n    const parents = [];\n\n    while (parent !== root) {\n      parents.unshift(parent);\n      parent = parent.get('parent');\n    }\n    parents.unshift(parent);\n\n    const m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    Util.each(parents, function(child) {\n      Util.mat3.multiply(m, child.attr('matrix'), m);\n    });\n    return m;\n  }\n\n  /**\n   * 应用到当前元素上的总的矩阵\n   * @return {Matrix} 矩阵\n   */\n  getTotalMatrix() {\n    let m = this.cfg.totalMatrix;\n    if (!m) {\n      m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      const parent = this.cfg.parent;\n      if (parent) {\n        const pm = parent.getTotalMatrix();\n        multiple(m, pm);\n      }\n\n      multiple(m, this.attr('matrix'));\n      this.cfg.totalMatrix = m;\n    }\n    return m;\n  }\n\n  // 清除当前的矩阵\n  clearTotalMatrix() {\n    // this.cfg.totalMatrix = null;\n  }\n\n  invert(v) {\n    const m = this.getTotalMatrix();\n    // 单精屏幕下大多数矩阵没变化\n    if (isScale(m)) {\n      v[0] /= m[0];\n      v[1] /= m[4];\n    } else {\n      const inm = Util.mat3.invert([], m);\n      if (inm) {\n        Util.vec3.transformMat3(v, v, inm);\n      }\n    }\n    return this;\n  }\n\n  resetTransform(context) {\n    const mo = this.attr('matrix');\n    // 不改变时\n    if (!isUnchanged(mo)) {\n      context.transform(mo[0], mo[1], mo[3], mo[4], mo[6], mo[7]);\n    }\n  }\n}\n\nexport default Attribute;\n","import EventEmitter from '@antv/event-emitter';\nimport * as Util from '@antv/util';\nimport Event from '../event';\nimport { ElementCFG } from '../interface';\n\nconst PROPOGATE_EVENTS = [\n  'click',\n  'mousedown',\n  'mouseup',\n  'dblclick',\n  'contextmenu',\n  // 'mouseenter', // 原生 dom 事件，这对就是不冒泡的\n  // 'mouseleave',\n  'mouseover',\n  'mouseout',\n  'mousemove',\n  'wheel',\n  // touch\n  'touchstart',\n  'touchend',\n  'touchmove',\n  // 包装出来的方法\n  'dragstart',\n  'drag',\n  'dragend',\n  'dragenter',\n  'dragleave',\n  'drop',\n];\n\nabstract class Base extends EventEmitter {\n  cfg: ElementCFG;\n  destroyed: boolean = false;\n  removed: boolean = false;\n\n  constructor(cfg: ElementCFG = {}) {\n    super();\n    this.cfg = {\n      canvas: null,\n      capture: true,\n      context: null,\n      parent: null,\n      visible: true,\n      zIndex: 0,\n      ...cfg,\n      ...this.getDefaultCfg(),\n    };\n    return this;\n  }\n\n  /**\n   * 覆盖父类的 emit，实现事件的冒泡机制\n   * @param evt\n   * @param e g 层包装之后的 Event 实例\n   * @param args 其余数据，仅做透传。\n   */\n  emit(evt: string, e: any, ...args: any[]) {\n    // 调用 ee 的事件 emit\n    super.emit(evt, e, ...args);\n\n    // 阻止冒泡\n    if (e instanceof Event && e.propagationStopped) {\n      return;\n    }\n\n    if (PROPOGATE_EVENTS.indexOf(evt) >= 0) {\n      let parent = this.cfg.parent;\n\n      if (parent && !parent.removed && !parent.destroyed) {\n        parent.emit(evt, e, ...args);\n      }\n    }\n  }\n\n  set(name: string, value: any) {\n    if (name === 'zIndex' && this._beforeSetZIndex) {\n      this._beforeSetZIndex(value);\n    }\n    if (name === 'loading' && this._beforeSetLoading) {\n      this._beforeSetLoading(value);\n    }\n    this.cfg[name] = value;\n    return this;\n  }\n\n  // deprecated\n  setSilent(name: string, value: any) {\n    this.cfg[name] = value;\n  }\n\n  get(name: string) {\n    return this.cfg[name];\n  }\n\n  show() {\n    this.cfg.visible = true;\n    return this;\n  }\n\n  hide() {\n    this.cfg.visible = false;\n    return this;\n  }\n\n  remove(destroy?: boolean, delayRemove?: boolean) {\n    const cfg = this.cfg;\n    const parent = cfg.parent;\n    const el = cfg.el;\n    // 因为 this.destroy 的时候，是清空 cfg，那么取到的 children 为 undefined，导致报错\n    // 场景：动画异步启动之后，再调用 group.destroy()，就会导致下一帧动画报错（Util.pull）\n    if (parent && !parent.destroyed) {\n      Util.pull(parent.get('children'), this);\n    }\n    if (el) {\n      if (delayRemove) {\n        parent && parent.cfg.tobeRemoved.push(el);\n      } else {\n        el.parentNode.removeChild(el);\n      }\n    }\n    if (destroy || destroy === undefined) {\n      this.destroy();\n    }\n    return this;\n  }\n\n  destroy() {\n    if (this.destroyed) {\n      return;\n    }\n    this.off(); // 移除所有的事件\n    this.cfg = {};\n    this.destroyed = true;\n  }\n\n  getParent() {\n    return this.cfg.parent;\n  }\n\n  getDefaultCfg() {\n    return {};\n  }\n\n  toFront() {\n    const cfg = this.cfg;\n    const parent = cfg.parent;\n    if (!parent) {\n      return;\n    }\n    const children = parent.cfg.children;\n    const el = cfg.el;\n    const index = children.indexOf(this);\n    children.splice(index, 1);\n    children.push(this);\n    if (el) {\n      el.parentNode.removeChild(el);\n      cfg.el = null;\n    }\n  }\n\n  toBack() {\n    const cfg = this.cfg;\n    const parent = cfg.parent;\n    if (!parent) {\n      return;\n    }\n    const children = parent.cfg.children;\n    const el = cfg.el;\n    const index = children.indexOf(this);\n    children.splice(index, 1);\n    children.unshift(this);\n    if (el) {\n      const parentNode = el.parentNode;\n      parentNode.removeChild(el);\n      parentNode.insertBefore(el, parentNode.firstChild);\n    }\n  }\n\n  _beforeSetZIndex(zIndex: number) {\n    const parent = this.cfg.parent;\n    this.cfg.zIndex = zIndex;\n    if (!Util.isNil(parent)) {\n      parent.sort();\n    }\n    const el = this.cfg.el;\n    if (el) {\n      const children = parent.cfg.children;\n      const index = children.indexOf(this);\n      const parentNode = el.parentNode;\n      parentNode.removeChild(el);\n      if (index === children.length - 1) {\n        parentNode.appendChild(el);\n      } else {\n        parentNode.insertBefore(el, parentNode.childNodes[index]);\n      }\n    }\n    return zIndex;\n  }\n\n  _beforeSetLoading(loading: boolean) {}\n\n  setZIndex(zIndex: number) {\n    this.cfg.zIndex = zIndex;\n    return this._beforeSetZIndex(zIndex);\n  }\n\n  clone() {\n    return Util.clone(this);\n  }\n\n  getBBox() {}\n}\n\nexport default Base;\n","export function xAt(psi: number, rx: number, ry: number, cx: number, t: number): number {\n  return rx * Math.cos(psi) * Math.cos(t) - ry * Math.sin(psi) * Math.sin(t) + cx;\n}\n\nexport function yAt(psi: number, rx: number, ry: number, cy: number, t: number): number {\n  return rx * Math.sin(psi) * Math.cos(t) + ry * Math.cos(psi) * Math.sin(t) + cy;\n}\n\nexport function xExtrema(psi: number, rx: number, ry: number): number {\n  return Math.atan((-ry / rx) * Math.tan(psi));\n}\n\nexport function yExtrema(psi: number, rx: number, ry: number): number {\n  return Math.atan(ry / (rx * Math.tan(psi)));\n}\n","const Symbols = {\n  // 圆\n  circle(x: number, y: number, r: number): any[] {\n    return [['M', x, y], ['m', -r, 0], ['a', r, r, 0, 1, 0, r * 2, 0], ['a', r, r, 0, 1, 0, -r * 2, 0]];\n  },\n  // 正方形\n  square(x: number, y: number, r: number): any[] {\n    return [['M', x - r, y - r], ['L', x + r, y - r], ['L', x + r, y + r], ['L', x - r, y + r], ['Z']];\n  },\n  // 菱形\n  diamond(x: number, y: number, r: number): any[] {\n    return [['M', x - r, y], ['L', x, y - r], ['L', x + r, y], ['L', x, y + r], ['Z']];\n  },\n  // 三角形\n  triangle(x: number, y: number, r: number): any[] {\n    const diffY = r * Math.sin((1 / 3) * Math.PI);\n    return [['M', x - r, y + diffY], ['L', x, y - diffY], ['L', x + r, y + diffY], ['z']];\n  },\n  // 倒三角形\n  triangleDown: function(x: number, y: number, r: number): any[] {\n    const diffY = r * Math.sin((1 / 3) * Math.PI);\n    return [['M', x - r, y - diffY], ['L', x + r, y - diffY], ['L', x, y + diffY], ['Z']];\n  },\n};\n\nexport type SymbolFunc = (x: number, y: number, r: number) => any[];\n\nexport default {\n  get(type: string): SymbolFunc {\n    return Symbols[type];\n  },\n\n  register(type: string, func: SymbolFunc) {\n    Symbols[type] = func;\n  },\n\n  remove(type: string) {\n    delete Symbols[type];\n  },\n\n  getAll() {\n    return Symbols;\n  },\n};\n","const TAG_MAP = {\n  svg: 'svg',\n  circle: 'circle',\n  rect: 'rect',\n  text: 'text',\n  path: 'path',\n  foreignObject: 'foreignObject',\n  polygon: 'polygon',\n  ellipse: 'ellipse',\n  image: 'image',\n};\n\nexport default function getShape(x, y, e) {\n  let target = e.target || e.srcElement;\n  if (!TAG_MAP[target.tagName]) {\n    let parent = target.parentNode;\n    while (parent && !TAG_MAP[parent.tagName]) {\n      parent = parent.parentNode;\n    }\n    target = parent;\n  }\n  if (this.cfg.el === target) {\n    return this;\n  }\n  return this.find((item) => {\n    return item.cfg && item.cfg.el === target;\n  });\n}\n","import * as Util from '@antv/util';\nimport * as d3Timer from 'd3-timer';\nimport * as d3Ease from 'd3-ease';\nimport { interpolate, interpolateArray } from 'd3-interpolate'; // 目前整体动画只需要数值和数组的差值计算\nimport * as PathUtil from '../util/path';\n\nfunction _update(self, animator, ratio) {\n  const cProps = {}; // 此刻属性\n  const toAttrs = animator.toAttrs;\n  const fromAttrs = animator.fromAttrs;\n  const toMatrix = animator.toMatrix;\n  if (self.destroyed) {\n    return;\n  }\n  let interf; //  差值函数\n  for (const k in toAttrs) {\n    if (!Util.isEqual(fromAttrs[k], toAttrs[k])) {\n      if (k === 'path') {\n        let toPath = toAttrs[k];\n        let fromPath = fromAttrs[k];\n        if (toPath.length > fromPath.length) {\n          toPath = PathUtil.parsePathString(toAttrs[k]); // 终点状态\n          fromPath = PathUtil.parsePathString(fromAttrs[k]); // 起始状态\n          fromPath = PathUtil.fillPathByDiff(fromPath, toPath);\n          fromPath = PathUtil.formatPath(fromPath, toPath);\n          animator.fromAttrs.path = fromPath;\n          animator.toAttrs.path = toPath;\n        } else if (!animator.pathFormatted) {\n          toPath = PathUtil.parsePathString(toAttrs[k]);\n          fromPath = PathUtil.parsePathString(fromAttrs[k]);\n          fromPath = PathUtil.formatPath(fromPath, toPath);\n          animator.fromAttrs.path = fromPath;\n          animator.toAttrs.path = toPath;\n          animator.pathFormatted = true;\n        }\n        cProps[k] = [];\n        for (let i = 0; i < toPath.length; i++) {\n          const toPathPoint = toPath[i];\n          const fromPathPoint = fromPath[i];\n          const cPathPoint = [];\n          for (let j = 0; j < toPathPoint.length; j++) {\n            if (Util.isNumber(toPathPoint[j]) && fromPathPoint && Util.isNumber(fromPathPoint[j])) {\n              interf = interpolate(fromPathPoint[j], toPathPoint[j]);\n              cPathPoint.push(interf(ratio));\n            } else {\n              cPathPoint.push(toPathPoint[j]);\n            }\n          }\n          cProps[k].push(cPathPoint);\n        }\n      } else {\n        interf = interpolate(fromAttrs[k], toAttrs[k]);\n        cProps[k] = interf(ratio);\n      }\n    }\n  }\n  if (toMatrix) {\n    const mf = interpolateArray(animator.fromMatrix, toMatrix);\n    const cM = mf(ratio);\n    self.setMatrix(cM);\n  }\n  self.attr(cProps);\n}\n\nfunction update(shape, animator, elapsed) {\n  const startTime = animator.startTime;\n  // 如果还没有开始执行或暂停，先不更新\n  if (elapsed < startTime + animator.delay || animator.isPaused) {\n    return false;\n  }\n  let ratio;\n  const duration = animator.duration;\n  const easing = animator.easing;\n  // 已执行时间\n  elapsed = elapsed - startTime - animator.delay;\n  if (animator.toAttrs.repeat) {\n    ratio = (elapsed % duration) / duration;\n    ratio = d3Ease[easing](ratio);\n  } else {\n    ratio = elapsed / duration;\n    if (ratio < 1) {\n      ratio = d3Ease[easing](ratio);\n    } else {\n      if (animator.onFrame) {\n        shape.attr(animator.onFrame(1));\n      } else {\n        shape.attr(animator.toAttrs);\n      }\n      if (animator.toMatrix) {\n        shape.setMatrix(animator.toMatrix);\n      }\n      return true;\n    }\n  }\n  if (animator.onFrame) {\n    const attrs = animator.onFrame(ratio);\n    shape.attr(attrs);\n  } else {\n    _update(shape, animator, ratio);\n  }\n  return false;\n}\n\nclass Timeline {\n  animators: any[] = [];\n  current: number = 0;\n  timer: any = null;\n  canvas: any;\n\n  constructor(canvas) {\n    this.canvas = canvas;\n  }\n\n  initTimer() {\n    const self = this;\n    let isFinished = false;\n    let shape, animators, animator;\n    self.timer = d3Timer.timer((elapsed) => {\n      self.current = elapsed;\n      if (this.animators.length > 0) {\n        for (let i = this.animators.length - 1; i >= 0; i--) {\n          shape = this.animators[i];\n          if (shape.destroyed) {\n            // 如果已经被销毁，直接移出队列\n            self.removeAnimator(i);\n            continue;\n          }\n          if (!shape.get('pause').isPaused) {\n            animators = shape.get('animators');\n            for (let j = animators.length - 1; j >= 0; j--) {\n              animator = animators[j];\n              isFinished = update(shape, animator, elapsed);\n              if (isFinished) {\n                animators.splice(j, 1);\n                isFinished = false;\n                if (animator.callback) {\n                  animator.callback();\n                }\n              }\n            }\n          }\n          if (animators.length === 0) {\n            self.removeAnimator(i);\n          }\n        }\n        this.canvas.draw();\n      }\n    });\n  }\n\n  addAnimator(shape) {\n    this.animators.push(shape);\n  }\n\n  removeAnimator(index) {\n    this.animators.splice(index, 1);\n  }\n\n  isAnimating() {\n    return !!this.animators.length;\n  }\n\n  stop() {\n    if (this.timer) {\n      this.timer.stop();\n    }\n  }\n\n  stopAllAnimations() {\n    this.animators.forEach((animator) => {\n      animator.stopAnimate();\n    });\n    this.animators = [];\n    this.canvas.draw();\n  }\n\n  getTime() {\n    return this.current;\n  }\n}\n\nexport default Timeline;\n","import * as Util from '@antv/util';\nimport Shape from '../core/shape';\nconst ArcMath = require('./math/arc');\nimport * as Arrow from './util/arrow';\nimport * as Inside from './util/inside';\nimport { PointType } from '../interface';\nimport BBox from '../core/bbox';\n\nfunction _getArcX(x: number, radius: number, angle: number): number {\n  return x + radius * Math.cos(angle);\n}\nfunction _getArcY(y: number, radius: number, angle: number): number {\n  return y + radius * Math.sin(angle);\n}\n\nclass Arc extends Shape {\n  canStroke: boolean = true;\n  type: string = 'arc';\n\n  getDefaultAttrs() {\n    return {\n      x: 0,\n      y: 0,\n      r: 0,\n      startAngle: 0,\n      endAngle: 0,\n      clockwise: false,\n      lineWidth: 1,\n      startArrow: false,\n      endArrow: false,\n    };\n  }\n\n  isPointInPath(x: number, y: number): boolean {\n    const attrs = this.attrs;\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const { r, startAngle, endAngle, clockwise } = attrs;\n    const lineWidth = this.getHitLineWidth();\n    if (this.hasStroke()) {\n      return Inside.arcline(cx, cy, r, startAngle, endAngle, clockwise, lineWidth, x, y);\n    }\n    return false;\n  }\n\n  calculateBox(): BBox {\n    const attrs = this.attrs;\n    const { x, y, r, startAngle, endAngle, clockwise } = attrs;\n    const lineWidth = this.getHitLineWidth();\n    const halfWidth = lineWidth / 2;\n    const box = ArcMath.box(x, y, r, startAngle, endAngle, clockwise);\n    return new BBox(box.x - halfWidth, box.y - halfWidth, box.width + lineWidth, box.height + lineWidth);\n  }\n\n  getStartTangent(): PointType[] {\n    const attrs = this.attrs;\n    const { x, y, startAngle, r, clockwise } = attrs;\n    let diff = Math.PI / 180;\n    if (clockwise) {\n      diff *= -1;\n    }\n    const result = [];\n    const x1 = _getArcX(x, r, startAngle + diff);\n    const y1 = _getArcY(y, r, startAngle + diff);\n    const x2 = _getArcX(x, r, startAngle);\n    const y2 = _getArcY(y, r, startAngle);\n    result.push([x1, y1]);\n    result.push([x2, y2]);\n    return result;\n  }\n\n  getEndTangent() {\n    const attrs = this.attrs;\n    const { x, y, endAngle, r, clockwise } = attrs;\n    let diff = Math.PI / 180;\n    const result = [];\n    if (clockwise) {\n      diff *= -1;\n    }\n    const x1 = _getArcX(x, r, endAngle + diff);\n    const y1 = _getArcY(y, r, endAngle + diff);\n    const x2 = _getArcX(x, r, endAngle);\n    const y2 = _getArcY(y, r, endAngle);\n    result.push([x2, y2]);\n    result.push([x1, y1]);\n    return result;\n  }\n\n  createPath(context: CanvasRenderingContext2D): void {\n    const attrs = this.attrs;\n    const { x, y, r, startAngle, endAngle, clockwise } = attrs;\n    context = context || this.get('context');\n\n    context.beginPath();\n    context.arc(x, y, r, startAngle, endAngle, clockwise);\n  }\n\n  afterPath(context: CanvasRenderingContext2D): void {\n    const attrs = this.attrs;\n    context = context || this.get('context');\n\n    if (attrs.startArrow) {\n      const startPoints = this.getStartTangent();\n      Arrow.addStartArrow(context, attrs, startPoints[0][0], startPoints[0][1], startPoints[1][0], startPoints[1][1]);\n    }\n\n    if (attrs.endArrow) {\n      const endPoints = this.getEndTangent();\n      Arrow.addEndArrow(context, attrs, endPoints[0][0], endPoints[0][1], endPoints[1][0], endPoints[1][1]);\n    }\n  }\n}\n\nexport default Arc;\n","import * as Util from '@antv/util';\nimport Shape from '../core/shape';\nimport * as Inside from './util/inside';\nimport BBox from '../core/bbox';\n\nclass Circle extends Shape {\n  canFill: boolean = true;\n  canStroke: boolean = true;\n  type: string = 'circle';\n\n  getDefaultAttrs() {\n    return {\n      x: 0,\n      y: 0,\n      r: 0,\n      lineWidth: 1,\n    };\n  }\n\n  isPointInPath(x: number, y: number): boolean {\n    const attrs = this.attrs;\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const r = attrs.r;\n    const lineWidth = this.getHitLineWidth();\n    const fill = this.hasFill();\n    const stroke = this.hasStroke();\n\n    if (fill && stroke) {\n      return Inside.circle(cx, cy, r, x, y) || Inside.arcline(cx, cy, r, 0, Math.PI * 2, false, lineWidth, x, y);\n    }\n\n    if (fill) {\n      return Inside.circle(cx, cy, r, x, y);\n    }\n\n    if (stroke) {\n      return Inside.arcline(cx, cy, r, 0, Math.PI * 2, false, lineWidth, x, y);\n    }\n    return false;\n  }\n\n  calculateBox(): BBox {\n    const attrs = this.attrs;\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const r = attrs.r;\n    const lineWidth = this.getHitLineWidth();\n    const halfWidth = lineWidth / 2 + r;\n    return BBox.fromRange(cx - halfWidth, cy - halfWidth, cx + halfWidth, cy + halfWidth);\n  }\n\n  createPath(context: CanvasRenderingContext2D): void {\n    const attrs = this.attrs;\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const r = attrs.r;\n    context.beginPath();\n    context.arc(cx, cy, r, 0, Math.PI * 2, false);\n    context.closePath();\n  }\n}\n\nexport default Circle;\n","import * as Util from '@antv/util';\nimport Shape from '../core/shape';\nimport * as Inside from './util/inside';\nimport BBox from '../core/bbox';\n\nclass Dom extends Shape {\n  canFill: boolean = true;\n  canStroke: boolean = true;\n  type: string = 'dom';\n\n  isPointInPath(x: number, y: number): boolean {\n    if (!this.cfg.el) {\n      return false;\n    }\n    const box = this.cfg.el.getBBox();\n    return Inside.box(box.x, box.x + box.width, box.y, box.y + box.height, x, y);\n  }\n\n  calculateBox(): BBox {\n    const self = this;\n    const attrs = self.attrs;\n    const x = attrs.x;\n    const y = attrs.y;\n    const width = attrs.width;\n    const height = attrs.height;\n    const lineWidth = this.getHitLineWidth();\n\n    const halfWidth = lineWidth / 2;\n    return new BBox(x - halfWidth, y - halfWidth, width, height);\n  }\n}\n\nexport default Dom;\n","import * as Util from '@antv/util';\nimport Shape from '../core/shape';\nimport * as Inside from './util/inside';\nimport BBox from '../core/bbox';\n\nclass Ellipse extends Shape {\n  canFill: boolean = true;\n  canStroke: boolean = true;\n  type: string = 'ellipse';\n\n  getDefaultAttrs() {\n    return {\n      x: 0,\n      y: 0,\n      rx: 1,\n      ry: 1,\n      lineWidth: 1,\n    };\n  }\n\n  isPointInPath(x: number, y: number): boolean {\n    const attrs = this.attrs;\n    const fill = this.hasFill();\n    const stroke = this.hasStroke();\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const rx = attrs.rx;\n    const ry = attrs.ry;\n    const lineWidth = this.getHitLineWidth();\n    const r = rx > ry ? rx : ry;\n    const scaleX = rx > ry ? 1 : rx / ry;\n    const scaleY = rx > ry ? ry / rx : 1;\n    const p = [x, y, 1];\n    const m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    Util.mat3.scale(m, m, [scaleX, scaleY]);\n    Util.mat3.translate(m, m, [cx, cy]);\n    const inm = Util.mat3.invert([], m);\n    Util.vec3.transformMat3(p, p, inm);\n\n    if (fill && stroke) {\n      return (\n        Inside.circle(0, 0, r, p[0], p[1]) || Inside.arcline(0, 0, r, 0, Math.PI * 2, false, lineWidth, p[0], p[1])\n      );\n    }\n\n    if (fill) {\n      return Inside.circle(0, 0, r, p[0], p[1]);\n    }\n\n    if (stroke) {\n      return Inside.arcline(0, 0, r, 0, Math.PI * 2, false, lineWidth, p[0], p[1]);\n    }\n    return false;\n  }\n\n  calculateBox(): BBox {\n    const attrs = this.attrs;\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const rx = attrs.rx;\n    const ry = attrs.ry;\n    const lineWidth = this.getHitLineWidth();\n    const halfXWidth = rx + lineWidth / 2;\n    const halfYWidth = ry + lineWidth / 2;\n    return BBox.fromRange(cx - halfXWidth, cy - halfYWidth, cx + halfXWidth, cy + halfYWidth);\n  }\n\n  createPath(context: CanvasRenderingContext2D): void {\n    const self = this;\n    const attrs = this.attrs;\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const rx = attrs.rx;\n    const ry = attrs.ry;\n\n    context = context || self.get('context');\n    const r = rx > ry ? rx : ry;\n    const scaleX = rx > ry ? 1 : rx / ry;\n    const scaleY = rx > ry ? ry / rx : 1;\n\n    const m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    Util.mat3.scale(m, m, [scaleX, scaleY]);\n    Util.mat3.translate(m, m, [cx, cy]);\n    context.beginPath();\n    context.save();\n    context.transform(m[0], m[1], m[3], m[4], m[6], m[7]);\n    context.arc(0, 0, r, 0, Math.PI * 2);\n    context.restore();\n    context.closePath();\n  }\n}\n\nexport default Ellipse;\n","import * as Util from '@antv/util';\nimport * as arcUtil from './math/arc';\nimport Shape from '../core/shape';\nimport * as Inside from './util/inside';\nimport BBox from '../core/bbox';\nimport { box } from './math/arc';\n\nclass Fan extends Shape {\n  canFill: boolean = true;\n  canStroke: boolean = true;\n  type: string = 'fan';\n\n  getDefaultAttrs() {\n    return {\n      x: 0,\n      y: 0,\n      rs: 0,\n      re: 0,\n      startAngle: 0,\n      endAngle: 0,\n      clockwise: false,\n      lineWidth: 1,\n    };\n  }\n\n  isPointInPath(x: number, y: number): boolean {\n    const self = this;\n    const fill = self.hasFill();\n    const stroke = self.hasStroke();\n    const attrs = self.attrs;\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const rs = attrs.rs;\n    const re = attrs.re;\n    const startAngle = attrs.startAngle;\n    const endAngle = attrs.endAngle;\n    const clockwise = attrs.clockwise;\n    const v1 = [1, 0];\n    const subv = [x - cx, y - cy];\n    const angle = Util.vec2.angleTo(v1, subv);\n\n    function _isPointInFill() {\n      const angle1 = arcUtil.nearAngle(angle, startAngle, endAngle, clockwise);\n\n      if (Util.isNumberEqual(angle, angle1)) {\n        const ls = Util.vec2.squaredLength(subv);\n        if (rs * rs <= ls && ls <= re * re) {\n          return true;\n        }\n      }\n      return false;\n    }\n\n    function _isPointInStroke(): boolean {\n      const lineWidth = self.getHitLineWidth();\n\n      const ssp = {\n        x: Math.cos(startAngle) * rs + cx,\n        y: Math.sin(startAngle) * rs + cy,\n      };\n      const sep = {\n        x: Math.cos(startAngle) * re + cx,\n        y: Math.sin(startAngle) * re + cy,\n      };\n      const esp = {\n        x: Math.cos(endAngle) * rs + cx,\n        y: Math.sin(endAngle) * rs + cy,\n      };\n      const eep = {\n        x: Math.cos(endAngle) * re + cx,\n        y: Math.sin(endAngle) * re + cy,\n      };\n\n      if (Inside.line(ssp.x, ssp.y, sep.x, sep.y, lineWidth, x, y)) {\n        return true;\n      }\n\n      if (Inside.line(esp.x, esp.y, eep.x, eep.y, lineWidth, x, y)) {\n        return true;\n      }\n\n      if (Inside.arcline(cx, cy, rs, startAngle, endAngle, clockwise, lineWidth, x, y)) {\n        return true;\n      }\n\n      if (Inside.arcline(cx, cy, re, startAngle, endAngle, clockwise, lineWidth, x, y)) {\n        return true;\n      }\n\n      return false;\n    }\n\n    if (fill && stroke) {\n      return _isPointInFill() || _isPointInStroke();\n    }\n\n    if (fill) {\n      return _isPointInFill();\n    }\n\n    if (stroke) {\n      return _isPointInStroke();\n    }\n    return false;\n  }\n\n  calculateBox(): BBox {\n    const self = this;\n    const attrs = self.attrs;\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const rs = attrs.rs;\n    const re = attrs.re;\n    const startAngle = attrs.startAngle;\n    const endAngle = attrs.endAngle;\n    const clockwise = attrs.clockwise;\n    const lineWidth = this.getHitLineWidth();\n\n    const boxs = box(cx, cy, rs, startAngle, endAngle, clockwise);\n    const boxe = box(cx, cy, re, startAngle, endAngle, clockwise);\n    const minX = Math.min(boxs.minX, boxe.minX);\n    const minY = Math.min(boxs.minY, boxe.minY);\n    const maxX = Math.max(boxs.maxX, boxe.maxX);\n    const maxY = Math.max(boxs.maxY, boxe.maxY);\n\n    const halfWidth = lineWidth / 2;\n    return BBox.fromRange(minX - halfWidth, minY - halfWidth, maxX + halfWidth, maxY + halfWidth);\n  }\n\n  createPath(context: CanvasRenderingContext2D): void {\n    const self = this;\n    const attrs = self.attrs;\n    const cx = attrs.x;\n    const cy = attrs.y;\n    const rs = attrs.rs;\n    const re = attrs.re;\n    const startAngle = attrs.startAngle;\n    const endAngle = attrs.endAngle;\n    const clockwise = attrs.clockwise;\n\n    const ssp = {\n      x: Math.cos(startAngle) * rs + cx,\n      y: Math.sin(startAngle) * rs + cy,\n    };\n    const sep = {\n      x: Math.cos(startAngle) * re + cx,\n      y: Math.sin(startAngle) * re + cy,\n    };\n    const esp = {\n      x: Math.cos(endAngle) * rs + cx,\n      y: Math.sin(endAngle) * rs + cy,\n    };\n\n    context = context || self.get('context');\n    context.beginPath();\n    context.moveTo(ssp.x, ssp.y);\n    context.lineTo(sep.x, sep.y);\n    context.arc(cx, cy, re, startAngle, endAngle, clockwise);\n    context.lineTo(esp.x, esp.y);\n    context.arc(cx, cy, rs, endAngle, startAngle, !clockwise);\n    context.closePath();\n  }\n}\n\nexport default Fan;\n","import * as Util from '@antv/util';\nimport Shape from '../core/shape';\nimport * as Inside from './util/inside';\nimport BBox from '../core/bbox';\n\nclass CImage extends Shape {\n  type: string = 'image';\n\n  getDefaultAttrs() {\n    return {\n      x: 0,\n      y: 0,\n      img: null,\n      width: 0,\n      height: 0,\n      sx: null,\n      sy: null,\n      swidth: null,\n      sheight: null,\n    };\n  }\n\n  isPointInPath(x: number, y: number): boolean {\n    const attrs = this.attrs;\n    if (this.get('toDraw') || !attrs.img) {\n      return false;\n    }\n    if (!this.cfg.attrs || this.cfg.attrs.img !== attrs.img) {\n      this._setAttrImg();\n    }\n    const rx = attrs.x;\n    const ry = attrs.y;\n    const width = attrs.width;\n    const height = attrs.height;\n    return Inside.rect(rx, ry, width, height, x, y);\n  }\n\n  isHitBox(): boolean {\n    return false;\n  }\n\n  calculateBox(): BBox {\n    const attrs = this.attrs;\n\n    if (!this.cfg.attrs || this.cfg.attrs.img !== attrs.img) {\n      this._setAttrImg();\n    }\n\n    return new BBox(attrs.x, attrs.y, attrs.width, attrs.height);\n  }\n\n  _beforeSetLoading(loading) {\n    const canvas = this.get('canvas');\n    if (loading === false && this.get('toDraw') === true) {\n      this.cfg.loading = false;\n      canvas.draw();\n    }\n    return loading;\n  }\n\n  _setAttrImg() {\n    const self = this;\n    const attrs = self.attrs;\n    const img = attrs.img;\n    if (Util.isString(img)) {\n      const image = new Image();\n      image.onload = function() {\n        if (self.get('destroyed')) return false;\n        self.attr('imgSrc', img);\n        self.attr('img', image);\n        const callback = self.get('callback');\n        if (callback) {\n          callback.call(self);\n        }\n        self.set('loading', false);\n      };\n      image.src = img;\n      image.crossOrigin = 'Anonymous';\n      self.set('loading', true);\n    } else if (img instanceof Image) {\n      if (!attrs.width) {\n        self.attr('width', img.width);\n      }\n\n      if (!attrs.height) {\n        self.attr('height', img.height);\n      }\n      return img;\n    } else if (img instanceof HTMLElement && Util.isString(img.nodeName) && img.nodeName.toUpperCase() === 'CANVAS') {\n      if (!attrs.width) {\n        self.attr('width', Number(img.getAttribute('width')));\n      }\n\n      if (!attrs.height) {\n        self.attr('height', Number(img.getAttribute('height')));\n      }\n      return img;\n    } else if (img instanceof ImageData) {\n      if (!attrs.width) {\n        self.attr('width', img.width);\n      }\n\n      if (!attrs.height) {\n        self.attr('height', img.height);\n      }\n      return img;\n    } else {\n      return null;\n    }\n  }\n\n  drawInner(context: CanvasRenderingContext2D): void {\n    if (this.cfg.hasUpdate) {\n      this._setAttrImg();\n    }\n    if (this.get('loading')) {\n      this.set('toDraw', true);\n      return;\n    }\n    this._drawImage(context);\n    this.cfg.hasUpdate = false;\n  }\n\n  _drawImage(context: CanvasRenderingContext2D): void {\n    const attrs = this.attrs;\n    const x = attrs.x;\n    const y = attrs.y;\n    const image = attrs.img;\n    const width = attrs.width;\n    const height = attrs.height;\n    const sx = attrs.sx;\n    const sy = attrs.sy;\n    const swidth = attrs.swidth;\n    const sheight = attrs.sheight;\n    this.set('toDraw', false);\n\n    let img = image;\n    if (img instanceof ImageData) {\n      img = new Image();\n      img.src = image;\n    }\n    if (\n      img instanceof Image ||\n      (img instanceof HTMLImageElement && Util.isString(img.nodeName) && img.nodeName.toUpperCase() === 'CANVAS')\n    ) {\n      if (Util.isNil(sx) || Util.isNil(sy) || Util.isNil(swidth) || Util.isNil(sheight)) {\n        context.drawImage(img, x, y, width, height);\n        return;\n      }\n      if (!Util.isNil(sx) && !Util.isNil(sy) && !Util.isNil(swidth) && !Util.isNil(sheight)) {\n        context.drawImage(img, sx, sy, swidth, sheight, x, y, width, height);\n        return;\n      }\n    }\n    return;\n  }\n}\n\nexport default CImage;\n","import * as Util from '@antv/util';\nimport Shape from '../core/shape';\nimport * as Arrow from './util/arrow';\nimport * as LineMath from './math/line';\nimport * as Inside from './util/inside';\nimport BBox from '../core/bbox';\nimport { PointType } from '../interface';\n\nclass Line extends Shape {\n  canStroke: boolean = true;\n  type: string = 'line';\n\n  getDefaultAttrs() {\n    return {\n      x1: 0,\n      y1: 0,\n      x2: 0,\n      y2: 0,\n      lineWidth: 1,\n      startArrow: false,\n      endArrow: false,\n    };\n  }\n\n  isPointInPath(x: number, y: number): boolean {\n    const attrs = this.attrs;\n    const { x1, y1, x2, y2 } = attrs;\n    const lineWidth = this.getHitLineWidth();\n\n    if (this.hasStroke()) {\n      return Inside.line(x1, y1, x2, y2, lineWidth, x, y);\n    }\n    return false;\n  }\n\n  calculateBox(): BBox {\n    const attrs = this.attrs;\n    const { x1, y1, x2, y2 } = attrs;\n    const lineWidth = this.getHitLineWidth();\n    return LineMath.box(x1, y1, x2, y2, lineWidth);\n  }\n\n  createPath(context: CanvasRenderingContext2D): void {\n    const self = this;\n    const attrs = self.attrs;\n    const { x1, y1, x2, y2 } = attrs;\n    context = context || self.get('context');\n    context.beginPath();\n    context.moveTo(x1, y1);\n    context.lineTo(x2, y2);\n  }\n\n  afterPath(context: CanvasRenderingContext2D): void {\n    const attrs = this.attrs;\n    const { x1, y1, x2, y2 } = attrs;\n    context = context || this.get('context');\n    if (attrs.startArrow) {\n      Arrow.addStartArrow(context, attrs, x2, y2, x1, y1);\n    }\n    if (attrs.endArrow) {\n      Arrow.addEndArrow(context, attrs, x1, y1, x2, y2);\n    }\n  }\n\n  getPoint(t: number): PointType {\n    const attrs = this.attrs;\n    return {\n      x: LineMath.at(attrs.x1, attrs.x2, t),\n      y: LineMath.at(attrs.y1, attrs.y2, t),\n    };\n  }\n}\n\nexport default Line;\n","import * as Util from '@antv/util';\nimport Shape from '../core/shape';\nimport PathSegment from './util/path-segment';\nimport * as Format from '../util/format';\nimport * as Arrow from './util/arrow';\nimport * as PathUtil from '../util/path';\nimport * as CubicMath from './math/cubic';\nimport isPointInPathByContext from './util/is-point-in-path-by-ctx';\nimport BBox from '../core/bbox';\nimport { PointType } from '../interface';\n\nclass Path extends Shape {\n  canFill: boolean = true;\n  canStroke: boolean = true;\n  type: string = 'path';\n\n  getDefaultAttrs() {\n    return {\n      path: null,\n      lineWidth: 1,\n      startArrow: false,\n      endArrow: false,\n    };\n  }\n\n  isPointInPath(x: number, y: number): boolean {\n    const self = this;\n    const segments = self.get('segments');\n    const fill = self.hasFill();\n    const stroke = self.hasStroke();\n    function _isPointInStroke() {\n      if (!Util.isEmpty(segments)) {\n        const lineWidth = self.getHitLineWidth();\n        for (let i = 0, l = segments.length; i < l; i++) {\n          if (segments[i].isInside(x, y, lineWidth)) {\n            return true;\n          }\n        }\n        return false;\n      }\n    }\n\n    if (fill && stroke) {\n      return isPointInPathByContext(x, y, self) || _isPointInStroke();\n    }\n\n    if (fill) {\n      return isPointInPathByContext(x, y, self);\n    }\n\n    if (stroke) {\n      return _isPointInStroke();\n    }\n    return false;\n  }\n\n  _afterSetAttrPath(path: any[]): void {\n    const self = this;\n    if (Util.isNil(path)) {\n      self.setSilent('segments', null);\n      self.setSilent('box', undefined);\n      return;\n    }\n    const pathArray = Format.parsePath(path);\n    let preSegment;\n    const segments = [];\n\n    if (!Util.isArray(pathArray) || pathArray.length === 0 || (pathArray[0][0] !== 'M' && pathArray[0][0] !== 'm')) {\n      return;\n    }\n    const count = pathArray.length;\n    for (let i = 0; i < pathArray.length; i++) {\n      const item = pathArray[i];\n      preSegment = new PathSegment(item, preSegment, i === count - 1);\n      segments.push(preSegment);\n    }\n    self.setSilent('segments', segments);\n    self.setSilent('tCache', null);\n    self.setSilent('box', null);\n  }\n\n  calculateBox(): BBox {\n    const self = this;\n    const segments = self.get('segments');\n\n    if (!segments) {\n      return null;\n    }\n    const lineWidth = this.getHitLineWidth();\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n\n    Util.each(segments, function(segment: PathSegment): void {\n      segment.getBBox(lineWidth);\n      const box = segment.box as BBox;\n      if (box) {\n        if (box.x < minX) {\n          minX = box.x;\n        }\n\n        const boxMaxX = box.maxX;\n        if (boxMaxX > maxX) {\n          maxX = boxMaxX;\n        }\n\n        if (box.y < minY) {\n          minY = box.y;\n        }\n\n        const boxMaxY = box.maxY;\n        if (boxMaxY > maxY) {\n          maxY = boxMaxY;\n        }\n      }\n    });\n    if (minX === Infinity || minY === Infinity) {\n      return new BBox(0, 0, 0, 0);\n    }\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  _setTcache() {\n    let totalLength = 0;\n    let tempLength = 0;\n    const tCache = [];\n    let segmentT;\n    let segmentL;\n    let segmentN;\n    let l;\n    const curve = this.cfg.curve;\n\n    if (!curve) {\n      return;\n    }\n\n    Util.each(curve, function(segment, i) {\n      segmentN = curve[i + 1];\n      l = segment.length;\n      if (segmentN) {\n        totalLength += CubicMath.len(\n          segment[l - 2],\n          segment[l - 1],\n          segmentN[1],\n          segmentN[2],\n          segmentN[3],\n          segmentN[4],\n          segmentN[5],\n          segmentN[6]\n        );\n      }\n    });\n\n    Util.each(curve, function(segment, i) {\n      segmentN = curve[i + 1];\n      l = segment.length;\n      if (segmentN) {\n        segmentT = [];\n        segmentT[0] = tempLength / totalLength;\n        segmentL = CubicMath.len(\n          segment[l - 2],\n          segment[l - 1],\n          segmentN[1],\n          segmentN[2],\n          segmentN[3],\n          segmentN[4],\n          segmentN[5],\n          segmentN[6]\n        );\n        tempLength += segmentL;\n        segmentT[1] = tempLength / totalLength;\n        tCache.push(segmentT);\n      }\n    });\n    this.cfg.tCache = tCache;\n  }\n\n  _calculateCurve() {\n    const self = this;\n    const attrs = self.attrs;\n    const path = attrs.path;\n    this.cfg.curve = PathUtil.pathTocurve(path);\n  }\n\n  getStartTangent(): PointType[] {\n    const segments = this.get('segments');\n    let startPoint, endPoint, tangent, result;\n    if (segments.length > 1) {\n      startPoint = segments[0].endPoint;\n      endPoint = segments[1].endPoint;\n      tangent = segments[1].startTangent;\n      result = [];\n      if (Util.isFunction(tangent)) {\n        const v = tangent();\n        result.push([startPoint.x - v[0], startPoint.y - v[1]]);\n        result.push([startPoint.x, startPoint.y]);\n      } else {\n        result.push([endPoint.x, endPoint.y]);\n        result.push([startPoint.x, startPoint.y]);\n      }\n    }\n    return result;\n  }\n\n  getEndTangent(): PointType[] {\n    const segments = this.get('segments');\n    const segmentsLen = segments.length;\n    let startPoint, endPoint, tangent, result;\n    if (segmentsLen > 1) {\n      startPoint = segments[segmentsLen - 2].endPoint;\n      endPoint = segments[segmentsLen - 1].endPoint;\n      tangent = segments[segmentsLen - 1].endTangent;\n      result = [];\n      if (Util.isFunction(tangent)) {\n        const v = tangent();\n        result.push([endPoint.x - v[0], endPoint.y - v[1]]);\n        result.push([endPoint.x, endPoint.y]);\n      } else {\n        result.push([startPoint.x, startPoint.y]);\n        result.push([endPoint.x, endPoint.y]);\n      }\n    }\n    return result;\n  }\n\n  getPoint(t: number): PointType {\n    let tCache = this.cfg.tCache;\n    let subt;\n    let index;\n\n    if (!tCache) {\n      this._calculateCurve();\n      this._setTcache();\n      tCache = this.cfg.tCache;\n    }\n\n    const curve = this.cfg.curve;\n\n    if (!tCache) {\n      if (curve) {\n        return {\n          x: curve[0][1],\n          y: curve[0][2],\n        };\n      }\n      return null;\n    }\n    Util.each(tCache, function(v, i) {\n      if (t >= v[0] && t <= v[1]) {\n        subt = (t - v[0]) / (v[1] - v[0]);\n        index = i;\n      }\n    });\n    const seg = curve[index];\n    if (Util.isNil(seg) || Util.isNil(index)) {\n      return null;\n    }\n    const l = seg.length;\n    const nextSeg = curve[index + 1];\n    return {\n      x: CubicMath.at(seg[l - 2], nextSeg[1], nextSeg[3], nextSeg[5], 1 - subt),\n      y: CubicMath.at(seg[l - 1], nextSeg[2], nextSeg[4], nextSeg[6], 1 - subt),\n    };\n  }\n\n  createPath(context: CanvasRenderingContext2D): void {\n    const self = this;\n    const segments = self.get('segments');\n    if (!Util.isArray(segments)) {\n      return;\n    }\n    context = context || self.get('context');\n\n    context.beginPath();\n    const segmentsLen = segments.length;\n\n    for (let i = 0; i < segmentsLen; i++) {\n      segments[i].draw(context);\n    }\n  }\n\n  afterPath(context: CanvasRenderingContext2D): void {\n    const self = this;\n    const attrs = self.attrs;\n    const segments = self.get('segments');\n    const path = attrs.path;\n    context = context || self.get('context');\n    if (!Util.isArray(segments)) {\n      return;\n    }\n    if (segments.length === 1) {\n      return;\n    }\n    if (!attrs.startArrow && !attrs.endArrow) {\n      return;\n    }\n    if (path[path.length - 1] === 'z' || path[path.length - 1] === 'Z' || attrs.fill) {\n      // 闭合路径不绘制箭头\n      return;\n    }\n    const startPoints = self.getStartTangent();\n    Arrow.addStartArrow(context, attrs, startPoints[0][0], startPoints[0][1], startPoints[1][0], startPoints[1][1]);\n\n    const endPoints = self.getEndTangent();\n    Arrow.addEndArrow(context, attrs, endPoints[0][0], endPoints[0][1], endPoints[1][0], endPoints[1][1]);\n  }\n}\n\nexport default Path;\n","import * as Util from '@antv/util';\nimport Shape from '../core/shape';\nimport * as Inside from './util/inside';\nimport isPointInPathByContext from './util/is-point-in-path-by-ctx';\nimport { PointType } from '../interface';\nimport BBox from '../core/bbox';\n\nclass Polygon extends Shape {\n  canFill: boolean = true;\n  canStroke: boolean = true;\n  type: string = 'polygon';\n\n  getDefaultAttrs() {\n    return {\n      points: null,\n      lineWidth: 1,\n    };\n  }\n\n  isPointInPath(x: number, y: number): boolean {\n    const self = this;\n    const fill = self.hasFill();\n    const stroke = self.hasStroke();\n\n    function _isPointInStroke() {\n      const attrs = self.attrs;\n      const points = attrs.points;\n      if (points.length < 2) {\n        return false;\n      }\n      const lineWidth = self.getHitLineWidth();\n      const outPoints = points.slice(0);\n      if (points.length >= 3) {\n        outPoints.push(points[0]);\n      }\n      return Inside.polyline(outPoints, lineWidth, x, y);\n    }\n    if (fill && stroke) {\n      return isPointInPathByContext(x, y, self) || _isPointInStroke();\n    }\n\n    if (fill) {\n      return isPointInPathByContext(x, y, self);\n    }\n\n    if (stroke) {\n      return _isPointInStroke();\n    }\n    return false;\n  }\n\n  calculateBox(): BBox {\n    const self = this;\n    const attrs = self.attrs;\n    const points = attrs.points;\n    const lineWidth = this.getHitLineWidth();\n    if (!points || points.length === 0) {\n      return null;\n    }\n    let minX = Infinity;\n    let minY = Infinity;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n\n    Util.each(points, function(point) {\n      const x = point[0];\n      const y = point[1];\n      if (x < minX) {\n        minX = x;\n      }\n      if (x > maxX) {\n        maxX = x;\n      }\n\n      if (y < minY) {\n        minY = y;\n      }\n\n      if (y > maxY) {\n        maxY = y;\n      }\n    });\n\n    const halfWidth = lineWidth / 2;\n    return BBox.fromRange(minX - halfWidth, minY - halfWidth, maxX + halfWidth, maxY + halfWidth);\n  }\n\n  createPath(context: CanvasRenderingContext2D): void {\n    const self = this;\n    const attrs = self.attrs;\n    const points = attrs.points;\n    if (points.length < 2) {\n      return;\n    }\n    context = context || self.get('context');\n    context.beginPath();\n    Util.each(points, function(point: PointType, index: number) {\n      if (index === 0) {\n        context.moveTo(point[0], point[1]);\n      } else {\n        context.lineTo(point[0], point[1]);\n      }\n    });\n    context.closePath();\n  }\n}\n\nexport default Polygon;\n","import * as Util from '@antv/util';\nimport Shape from '../core/shape';\nimport * as Arrow from './util/arrow';\nimport * as LineMath from './math/line';\nimport * as Inside from './util/inside';\nimport { PointType } from '../interface';\nimport BBox from '../core/bbox';\n\nclass Polyline extends Shape {\n  canStroke: boolean = true;\n  type: string = 'polyline';\n  tCache = null; // 缓存各点的t  todo\n\n  getDefaultAttrs() {\n    return {\n      points: null,\n      lineWidth: 1,\n      startArrow: false,\n      endArrow: false,\n      tCache: null,\n    };\n  }\n\n  isPointInPath(x: number, y: number): boolean {\n    const self = this;\n    const attrs = self.attrs;\n    if (self.hasStroke()) {\n      const points = attrs.points;\n      if (points.length < 2) {\n        return false;\n      }\n      const lineWidth = attrs.lineWidth;\n      return Inside.polyline(points, lineWidth, x, y);\n    }\n    return false;\n  }\n\n  calculateBox(): BBox {\n    const self = this;\n    const attrs = self.attrs;\n    const lineWidth = this.getHitLineWidth();\n    const points = attrs.points;\n    if (!points || points.length === 0) {\n      return null;\n    }\n    let minX = Infinity;\n    let minY = Infinity;\n    let maxX = -Infinity;\n    let maxY = -Infinity;\n\n    Util.each(points, function(point) {\n      const x = point[0];\n      const y = point[1];\n      if (x < minX) {\n        minX = x;\n      }\n      if (x > maxX) {\n        maxX = x;\n      }\n\n      if (y < minY) {\n        minY = y;\n      }\n\n      if (y > maxY) {\n        maxY = y;\n      }\n    });\n\n    const halfWidth = lineWidth / 2;\n    return BBox.fromRange(minX - halfWidth, minY - halfWidth, maxX + halfWidth, maxY + halfWidth);\n  }\n\n  _setTcache(): void {\n    const self = this;\n    const attrs = self.attrs;\n    const points = attrs.points;\n    let totalLength = 0;\n    let tempLength = 0;\n    const tCache = [];\n    let segmentT;\n    let segmentL;\n    if (!points || points.length === 0) {\n      return;\n    }\n\n    Util.each(points, function(p, i) {\n      if (points[i + 1]) {\n        totalLength += LineMath.len(p[0], p[1], points[i + 1][0], points[i + 1][1]);\n      }\n    });\n    if (totalLength <= 0) {\n      return;\n    }\n    Util.each(points, function(p, i) {\n      if (points[i + 1]) {\n        segmentT = [];\n        segmentT[0] = tempLength / totalLength;\n        segmentL = LineMath.len(p[0], p[1], points[i + 1][0], points[i + 1][1]);\n        tempLength += segmentL;\n        segmentT[1] = tempLength / totalLength;\n        tCache.push(segmentT);\n      }\n    });\n    this.tCache = tCache;\n  }\n\n  createPath(context: CanvasRenderingContext2D): void {\n    const self = this;\n    const attrs = self.attrs;\n    const points = attrs.points;\n    let l;\n    let i;\n\n    if (points.length < 2) {\n      return;\n    }\n    context = context || self.get('context');\n    context.beginPath();\n\n    context.moveTo(points[0][0], points[0][1]);\n    for (i = 1, l = points.length - 1; i < l; i++) {\n      context.lineTo(points[i][0], points[i][1]);\n    }\n    context.lineTo(points[l][0], points[l][1]);\n  }\n\n  getStartTangent(): PointType[] {\n    const points = this.attrs.points;\n    const result = [];\n    result.push([points[1][0], points[1][1]]);\n    result.push([points[0][0], points[0][1]]);\n    return result;\n  }\n\n  getEndTangent(): PointType[] {\n    const points = this.attrs.points;\n    const l = points.length - 1;\n    const result = [];\n    result.push([points[l - 1][0], points[l - 1][1]]);\n    result.push([points[l][0], points[l][1]]);\n    return result;\n  }\n\n  afterPath(context: CanvasRenderingContext2D): void {\n    const self = this;\n    const attrs = self.attrs;\n    const points = attrs.points;\n    const l = points.length - 1;\n    context = context || self.get('context');\n\n    if (attrs.startArrow) {\n      Arrow.addStartArrow(context, attrs, points[1][0], points[1][1], points[0][0], points[0][1]);\n    }\n    if (attrs.endArrow) {\n      Arrow.addEndArrow(context, attrs, points[l - 1][0], points[l - 1][1], points[l][0], points[l][1]);\n    }\n  }\n\n  getPoint(t: number): PointType {\n    const attrs = this.attrs;\n    const points = attrs.points;\n    let tCache = this.tCache;\n    let subt;\n    let index;\n    if (!tCache) {\n      this._setTcache();\n      tCache = this.tCache;\n    }\n    Util.each(tCache, function(v, i) {\n      if (t >= v[0] && t <= v[1]) {\n        subt = (t - v[0]) / (v[1] - v[0]);\n        index = i;\n      }\n    });\n    return {\n      x: LineMath.at(points[index][0], points[index + 1][0], subt),\n      y: LineMath.at(points[index][1], points[index + 1][1], subt),\n    };\n  }\n}\n\nexport default Polyline;\n","import * as Util from '@antv/util';\nimport Shape from '../core/shape';\nimport { parseRadius } from '../util/format';\nimport * as Inside from './util/inside';\nimport isPointInPathByContext from './util/is-point-in-path-by-ctx';\nimport BBox from '../core/bbox';\n\nclass Rect extends Shape {\n  canFill: boolean = true;\n  canStroke: boolean = true;\n  type: string = 'rect';\n\n  getDefaultAttrs() {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n      radius: 0,\n      lineWidth: 1,\n    };\n  }\n\n  isPointInPath(x: number, y: number): boolean {\n    const self = this;\n    const fill = self.hasFill();\n    const stroke = self.hasStroke();\n\n    function _isPointInStroke() {\n      const attrs = self.attrs;\n      const rx = attrs.x;\n      const ry = attrs.y;\n      const width = attrs.width;\n      const height = attrs.height;\n      const radius = attrs.radius;\n      const lineWidth = self.getHitLineWidth();\n\n      if (radius === 0) {\n        const halfWidth = lineWidth / 2;\n        return (\n          Inside.line(rx - halfWidth, ry, rx + width + halfWidth, ry, lineWidth, x, y) ||\n          Inside.line(rx + width, ry - halfWidth, rx + width, ry + height + halfWidth, lineWidth, x, y) ||\n          Inside.line(rx + width + halfWidth, ry + height, rx - halfWidth, ry + height, lineWidth, x, y) ||\n          Inside.line(rx, ry + height + halfWidth, rx, ry - halfWidth, lineWidth, x, y)\n        );\n      }\n\n      return (\n        Inside.line(rx + radius, ry, rx + width - radius, ry, lineWidth, x, y) ||\n        Inside.line(rx + width, ry + radius, rx + width, ry + height - radius, lineWidth, x, y) ||\n        Inside.line(rx + width - radius, ry + height, rx + radius, ry + height, lineWidth, x, y) ||\n        Inside.line(rx, ry + height - radius, rx, ry + radius, lineWidth, x, y) ||\n        Inside.arcline(rx + width - radius, ry + radius, radius, 1.5 * Math.PI, 2 * Math.PI, false, lineWidth, x, y) ||\n        Inside.arcline(rx + width - radius, ry + height - radius, radius, 0, 0.5 * Math.PI, false, lineWidth, x, y) ||\n        Inside.arcline(rx + radius, ry + height - radius, radius, 0.5 * Math.PI, Math.PI, false, lineWidth, x, y) ||\n        Inside.arcline(rx + radius, ry + radius, radius, Math.PI, 1.5 * Math.PI, false, lineWidth, x, y)\n      );\n    }\n    if (fill && stroke) {\n      return isPointInPathByContext(x, y, self) || _isPointInStroke();\n    }\n\n    if (fill) {\n      return isPointInPathByContext(x, y, self);\n    }\n\n    if (stroke) {\n      return _isPointInStroke();\n    }\n    return false;\n  }\n\n  calculateBox(): BBox {\n    const self = this;\n    const attrs = self.attrs;\n    const x = attrs.x;\n    const y = attrs.y;\n    const width = attrs.width;\n    const height = attrs.height;\n    const lineWidth = this.getHitLineWidth();\n\n    const halfWidth = lineWidth / 2;\n    return BBox.fromRange(x - halfWidth, y - halfWidth, x + width + halfWidth, y + height + halfWidth);\n  }\n\n  createPath(context: CanvasRenderingContext2D): void {\n    const self = this;\n    const attrs = self.attrs;\n    const x = attrs.x;\n    const y = attrs.y;\n    const width = attrs.width;\n    const height = attrs.height;\n    const radius = attrs.radius;\n    context = context || self.get('context');\n\n    context.beginPath();\n    if (radius === 0) {\n      // 改成原生的rect方法\n      context.rect(x, y, width, height);\n    } else {\n      const r = parseRadius(radius);\n      context.moveTo(x + r.r1, y);\n      context.lineTo(x + width - r.r2, y);\n      r.r2 !== 0 && context.arc(x + width - r.r2, y + r.r2, r.r2, -Math.PI / 2, 0);\n      context.lineTo(x + width, y + height - r.r3);\n      r.r3 !== 0 && context.arc(x + width - r.r3, y + height - r.r3, r.r3, 0, Math.PI / 2);\n      context.lineTo(x + r.r4, y + height);\n      r.r4 !== 0 && context.arc(x + r.r4, y + height - r.r4, r.r4, Math.PI / 2, Math.PI);\n      context.lineTo(x, y + r.r1);\n      r.r1 !== 0 && context.arc(x + r.r1, y + r.r1, r.r1, Math.PI, Math.PI * 1.5);\n      context.closePath();\n    }\n  }\n}\n\nexport default Rect;\n","import * as Util from '@antv/util';\nimport Shape from '../core/shape';\nimport * as Inside from './util/inside';\nimport BBox from '../core/bbox';\n\nclass CText extends Shape {\n  canFill: boolean = true;\n  canStroke: boolean = true;\n  type: string = 'text';\n\n  getDefaultAttrs() {\n    return {\n      x: 0,\n      y: 0,\n      text: null,\n      lineHeight: 1,\n      lineWidth: 1,\n      lineCount: 1,\n      fontSize: 12,\n      fontFamily: 'sans-serif',\n      fontStyle: 'normal',\n      fontWeight: 'normal',\n      fontVariant: 'normal',\n      textAlign: 'start',\n      textBaseline: 'bottom',\n      textArr: null,\n    };\n  }\n\n  isPointInPath(x: number, y: number): boolean {\n    const self = this;\n    const box = self.getBBox();\n    if (self.hasFill() || self.hasStroke()) {\n      return Inside.box(box.x, box.maxX, box.minY, box.maxY, x, y);\n    }\n  }\n\n  initTransform(): void {\n    const fontSize = this.attrs.fontSize;\n    if (fontSize && +fontSize < 12) {\n      // 小于 12 像素的文本进行 scale 处理\n      this.transform([\n        ['t', -1 * this.attrs.x, -1 * this.attrs.y],\n        ['s', +fontSize / 12, +fontSize / 12],\n        ['t', this.attrs.x, this.attrs.y],\n      ]);\n    }\n  }\n\n  _assembleFont(): void {\n    // var self = this;\n    const attrs = this.attrs;\n    const fontSize = attrs.fontSize;\n    const fontFamily = attrs.fontFamily;\n    const fontWeight = attrs.fontWeight;\n    const fontStyle = attrs.fontStyle; // self.attr('fontStyle');\n    const fontVariant = attrs.fontVariant; // self.attr('fontVariant');\n    // self.attr('font', [fontStyle, fontVariant, fontWeight, fontSize + 'px', fontFamily].join(' '));\n    attrs.font = [fontStyle, fontVariant, fontWeight, fontSize + 'px', fontFamily].join(' ');\n  }\n\n  _setAttrText(): void {\n    const attrs = this.attrs;\n    const text = attrs.text;\n    let textArr = null;\n    if (Util.isString(text) && text.indexOf('\\n') !== -1) {\n      textArr = text.split('\\n');\n      const lineCount = textArr.length;\n      attrs.lineCount = lineCount;\n    }\n    attrs.textArr = textArr;\n  }\n\n  _getTextHeight(): number {\n    const attrs = this.attrs;\n    const lineCount = attrs.lineCount;\n    const fontSize = attrs.fontSize * 1;\n    if (lineCount > 1) {\n      const spaceingY = this._getSpaceingY();\n      return fontSize * lineCount + spaceingY * (lineCount - 1);\n    }\n    return fontSize;\n  }\n\n  isHitBox(): boolean {\n    return false;\n  }\n\n  calculateBox(): BBox {\n    const self = this;\n    const attrs = self.attrs;\n    const cfg = this.cfg;\n    if (!cfg.attrs || cfg.hasUpdate) {\n      this._assembleFont();\n      this._setAttrText();\n    }\n    if (!attrs.textArr) {\n      this._setAttrText();\n    }\n    const x = attrs.x;\n    const y = attrs.y;\n    const width = self.measureText(); // attrs.width\n    if (!width) {\n      // 如果width不存在，四点共其实点\n      return new BBox(x, y, 0, 0);\n    }\n    const height = self._getTextHeight(); // attrs.height\n    const textAlign = attrs.textAlign;\n    const textBaseline = attrs.textBaseline;\n    const lineWidth = self.getHitLineWidth();\n    const point = {\n      x,\n      y: y - height,\n    };\n\n    if (textAlign) {\n      if (textAlign === 'end' || textAlign === 'right') {\n        point.x -= width;\n      } else if (textAlign === 'center') {\n        point.x -= width / 2;\n      }\n    }\n    if (textBaseline) {\n      if (textBaseline === 'top') {\n        point.y += height;\n      } else if (textBaseline === 'middle') {\n        point.y += height / 2;\n      }\n    }\n\n    this.set('startPoint', point);\n    const halfWidth = lineWidth / 2;\n    return BBox.fromRange(\n      point.x - halfWidth,\n      point.y - halfWidth,\n      point.x + width + halfWidth,\n      point.y + height + halfWidth\n    );\n  }\n\n  _getSpaceingY(): number {\n    const attrs = this.attrs;\n    const lineHeight = attrs.lineHeight;\n    const fontSize = attrs.fontSize * 1;\n    return lineHeight ? lineHeight - fontSize : fontSize * 0.14;\n  }\n\n  drawInner(context: CanvasRenderingContext2D): void {\n    const self = this;\n    const attrs = self.attrs;\n    const cfg = this.cfg;\n    if (!cfg.attrs || cfg.hasUpdate) {\n      this._assembleFont();\n      this._setAttrText();\n    }\n    context.font = attrs.font;\n    const text = attrs.text;\n    if (Util.isNil(text)) {\n      return;\n    }\n    const textArr = attrs.textArr;\n    const x = attrs.x;\n    const y = attrs.y;\n    const maxWidth = attrs.maxWidth;\n\n    context.beginPath();\n    if (self.hasStroke()) {\n      const strokeOpacity = attrs.strokeOpacity;\n      if (!Util.isNil(strokeOpacity) && strokeOpacity !== 1) {\n        context.globalAlpha = strokeOpacity;\n      }\n      if (textArr) {\n        self._drawTextArr(context, false);\n      } else {\n        context.strokeText(text, x, y, maxWidth);\n      }\n      context.globalAlpha = 1;\n    }\n    if (self.hasFill()) {\n      const fillOpacity = attrs.fillOpacity;\n      if (!Util.isNil(fillOpacity) && fillOpacity !== 1) {\n        context.globalAlpha = fillOpacity;\n      }\n      if (textArr) {\n        self._drawTextArr(context, true);\n      } else {\n        context.fillText(text, x, y, maxWidth);\n      }\n    }\n    cfg.hasUpdate = false;\n  }\n\n  _drawTextArr(context: CanvasRenderingContext2D, fill: boolean): void {\n    const textArr = this.attrs.textArr;\n    const textBaseline = this.attrs.textBaseline;\n    const fontSize = this.attrs.fontSize * 1;\n    const spaceingY = this._getSpaceingY();\n    const x = this.attrs.x;\n    const y = this.attrs.y;\n    const maxWidth = this.attrs.maxWidth;\n    const box = this.getBBox();\n    const height = box.maxY - box.minY;\n    let subY;\n\n    Util.each(textArr, (subText: string, index: number) => {\n      subY = y + index * (spaceingY + fontSize) - height + fontSize; // bottom;\n      if (textBaseline === 'middle') subY += height - fontSize - (height - fontSize) / 2;\n      if (textBaseline === 'top') subY += height - fontSize;\n      if (fill) {\n        context.fillText(subText, x, subY, maxWidth);\n      } else {\n        context.strokeText(subText, x, subY, maxWidth);\n      }\n    });\n  }\n\n  measureText(): number {\n    const self = this;\n    const attrs = self.attrs;\n    const text = attrs.text;\n    const font = attrs.font;\n    const textArr = attrs.textArr;\n    let measureWidth;\n    let width = 0;\n\n    if (Util.isNil(text)) return undefined;\n    const context = document.createElement('canvas').getContext('2d');\n    context.save();\n    context.font = font;\n    if (textArr) {\n      Util.each(textArr, (subText: string) => {\n        measureWidth = context.measureText(subText).width;\n        if (width < measureWidth) {\n          width = measureWidth;\n        }\n        context.restore();\n      });\n    } else {\n      width = context.measureText(text).width;\n      context.restore();\n    }\n    if (attrs.maxWidth !== undefined) {\n      width = Math.min(attrs.maxWidth, width);\n    }\n    return width;\n  }\n}\n\nexport default CText;\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? new Rgb((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","export {default as interpolate} from \"./src/value\";\nexport {default as interpolateArray} from \"./src/array\";\nexport {default as interpolateBasis} from \"./src/basis\";\nexport {default as interpolateBasisClosed} from \"./src/basisClosed\";\nexport {default as interpolateDate} from \"./src/date\";\nexport {default as interpolateNumber} from \"./src/number\";\nexport {default as interpolateObject} from \"./src/object\";\nexport {default as interpolateRound} from \"./src/round\";\nexport {default as interpolateString} from \"./src/string\";\nexport {interpolateTransformCss, interpolateTransformSvg} from \"./src/transform/index\";\nexport {default as interpolateZoom} from \"./src/zoom\";\nexport {default as interpolateRgb, rgbBasis as interpolateRgbBasis, rgbBasisClosed as interpolateRgbBasisClosed} from \"./src/rgb\";\nexport {default as interpolateHsl, hslLong as interpolateHslLong} from \"./src/hsl\";\nexport {default as interpolateLab} from \"./src/lab\";\nexport {default as interpolateHcl, hclLong as interpolateHclLong} from \"./src/hcl\";\nexport {default as interpolateCubehelix, cubehelixLong as interpolateCubehelixLong} from \"./src/cubehelix\";\nexport {default as quantize} from \"./src/quantize\";\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","export function expIn(t) {\n  return Math.pow(2, 10 * t - 10);\n}\n\nexport function expOut(t) {\n  return 1 - Math.pow(2, -10 * t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export {\n  linear as easeLinear\n} from \"./linear.js\";\n\nexport {\n  quadInOut as easeQuad,\n  quadIn as easeQuadIn,\n  quadOut as easeQuadOut,\n  quadInOut as easeQuadInOut\n} from \"./quad.js\";\n\nexport {\n  cubicInOut as easeCubic,\n  cubicIn as easeCubicIn,\n  cubicOut as easeCubicOut,\n  cubicInOut as easeCubicInOut\n} from \"./cubic.js\";\n\nexport {\n  polyInOut as easePoly,\n  polyIn as easePolyIn,\n  polyOut as easePolyOut,\n  polyInOut as easePolyInOut\n} from \"./poly.js\";\n\nexport {\n  sinInOut as easeSin,\n  sinIn as easeSinIn,\n  sinOut as easeSinOut,\n  sinInOut as easeSinInOut\n} from \"./sin.js\";\n\nexport {\n  expInOut as easeExp,\n  expIn as easeExpIn,\n  expOut as easeExpOut,\n  expInOut as easeExpInOut\n} from \"./exp.js\";\n\nexport {\n  circleInOut as easeCircle,\n  circleIn as easeCircleIn,\n  circleOut as easeCircleOut,\n  circleInOut as easeCircleInOut\n} from \"./circle.js\";\n\nexport {\n  bounceOut as easeBounce,\n  bounceIn as easeBounceIn,\n  bounceOut as easeBounceOut,\n  bounceInOut as easeBounceInOut\n} from \"./bounce.js\";\n\nexport {\n  backInOut as easeBack,\n  backIn as easeBackIn,\n  backOut as easeBackOut,\n  backInOut as easeBackInOut\n} from \"./back.js\";\n\nexport {\n  elasticOut as easeElastic,\n  elasticIn as easeElasticIn,\n  elasticOut as easeElasticOut,\n  elasticInOut as easeElasticInOut\n} from \"./elastic.js\";\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {Timer, now} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  delay = +delay, time = time == null ? now() : +time;\n  t.restart(function tick(elapsed) {\n    elapsed += total;\n    t.restart(tick, total += delay, time);\n    callback(elapsed);\n  }, delay, time);\n  return t;\n}\n","export {\n  now,\n  timer,\n  timerFlush\n} from \"./timer.js\";\n\nexport {\n  default as timeout\n} from \"./timeout.js\";\n\nexport {\n  default as interval\n} from \"./interval.js\";\n","import * as mat3 from '@antv/gl-matrix/lib/gl-matrix/mat3';\nmat3.translate = function (out, a, v) {\n    var transMat = new Array(9);\n    mat3.fromTranslation(transMat, v);\n    return mat3.multiply(out, transMat, a);\n};\nmat3.rotate = function (out, a, rad) {\n    var rotateMat = new Array(9);\n    mat3.fromRotation(rotateMat, rad);\n    return mat3.multiply(out, rotateMat, a);\n};\nmat3.scale = function (out, a, v) {\n    var scaleMat = new Array(9);\n    mat3.fromScaling(scaleMat, v);\n    return mat3.multiply(out, scaleMat, a);\n};\nmat3.transform = function (m, actions) {\n    var out = [].concat(m);\n    for (var i = 0, len = actions.length; i < len; i++) {\n        var action = actions[i];\n        switch (action[0]) {\n            case 't':\n                mat3.translate(out, out, [action[1], action[2]]);\n                break;\n            case 's':\n                mat3.scale(out, out, [action[1], action[2]]);\n                break;\n            case 'r':\n                mat3.rotate(out, out, action[1]);\n                break;\n            default:\n                break;\n        }\n    }\n    return out;\n};\nexport default mat3;\n//# sourceMappingURL=mat3.js.map","import * as vec2 from '@antv/gl-matrix/lib/gl-matrix/vec2';\nimport { clamp } from '@antv/util';\nvec2.angle = function (v1, v2) {\n    var theta = vec2.dot(v1, v2) / (vec2.length(v1) * vec2.length(v2));\n    return Math.acos(clamp(theta, -1, 1));\n};\n/**\n * 向量 v1 到 向量 v2 夹角的方向\n * @param  {Array} v1 向量\n * @param  {Array} v2 向量\n * @return {Boolean} >= 0 顺时针 < 0 逆时针\n */\nvec2.direction = function (v1, v2) {\n    return v1[0] * v2[1] - v2[0] * v1[1];\n};\nvec2.angleTo = function (v1, v2, direct) {\n    var angle = vec2.angle(v1, v2);\n    var angleLargeThanPI = vec2.direction(v1, v2) >= 0;\n    if (direct) {\n        if (angleLargeThanPI) {\n            return Math.PI * 2 - angle;\n        }\n        return angle;\n    }\n    if (angleLargeThanPI) {\n        return angle;\n    }\n    return Math.PI * 2 - angle;\n};\nvec2.vertical = function (out, v, flag) {\n    if (flag) {\n        out[0] = v[1];\n        out[1] = -1 * v[0];\n    }\n    else {\n        out[0] = -1 * v[1];\n        out[1] = v[0];\n    }\n    return out;\n};\nexport default vec2;\n//# sourceMappingURL=vec2.js.map","import * as vec3 from '@antv/gl-matrix/lib/gl-matrix/vec3';\nexport default vec3;\n//# sourceMappingURL=vec3.js.map","import { each, clone } from '@antv/util';\nimport mat3 from './mat3';\nexport default (function (m, ts) {\n    // 上层使用时会传入为 null 的 matrix，此时按照单位矩阵处理\n    var matrix = m ? clone(m) : [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    each(ts, function (t) {\n        switch (t[0]) {\n            case 't':\n                mat3.translate(matrix, matrix, [t[1], t[2]]);\n                break;\n            case 's':\n                mat3.scale(matrix, matrix, [t[1], t[2]]);\n                break;\n            case 'r':\n                mat3.rotate(matrix, matrix, t[1]);\n                break;\n            case 'm':\n                mat3.multiply(matrix, matrix, t[1]);\n                break;\n            default:\n                return false;\n        }\n    });\n    return matrix;\n});\n//# sourceMappingURL=transform.js.map","var THEME_MAP = {}; // 主题映射\n/**\n * 获取对应的主题\n * @param type\n */\nexport var getTheme = function (type) {\n    return THEME_MAP[type.toLowerCase()];\n};\n/**\n * 注册主题\n * @param type\n * @param theme\n */\nexport var registerTheme = function (type, theme) {\n    if (getTheme(type)) {\n        throw new Error(\"Theme type '\" + type + \"' existed.\");\n    }\n    THEME_MAP[type.toLowerCase()] = theme;\n};\n//# sourceMappingURL=factory.js.map","var _a;\n/**\n * @description 图表默认主题\n */\nimport * as _ from '@antv/util';\nvar DEFAULT_COLOR = '#1890FF';\nvar COLOR_PLATE_10 = [\n    '#5B8FF9',\n    '#5AD8A6',\n    '#5D7092',\n    '#F6BD16',\n    '#E8684A',\n    '#6DC8EC',\n    '#9270CA',\n    '#FF9D4D',\n    '#269A99',\n    '#FF99C3',\n];\nvar COLOR_PLATE_20 = [\n    '#5B8FF9',\n    '#BDD2FD',\n    '#5AD8A6',\n    '#BDEFDB',\n    '#5D7092',\n    '#C2C8D5',\n    '#F6BD16',\n    '#FBE5A2',\n    '#E8684A',\n    '#F6C3B7',\n    '#6DC8EC',\n    '#B6E3F5',\n    '#9270CA',\n    '#D3C6EA',\n    '#FF9D4D',\n    '#FFD8B8',\n    '#269A99',\n    '#AAD8D8',\n    '#FF99C3',\n    '#FFD6E7',\n];\n// tslint:disable-next-line\nvar FONT_FAMILY = '\"-apple-system\", BlinkMacSystemFont, \"Segoe UI\", Roboto,\"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\",SimSun, \"sans-serif\"';\n// tooltip 相关 dom 的 css 类名\nvar TOOLTIP_CONTAINER_CLASS = 'g2-tooltip';\nvar TOOLTIP_TITLE_CLASS = 'g2-tooltip-title';\nvar TOOLTIP_LIST_CLASS = 'g2-tooltip-list';\nvar TOOLTIP_LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar TOOLTIP_MARKER_CLASS = 'g2-tooltip-marker';\nvar TOOLTIP_VALUE_CLASS = 'g2-tooltip-value';\nvar SHAPE_STYLE = {\n    area: {\n        lineWidth: 0,\n        fill: DEFAULT_COLOR,\n        fillOpacity: 0.6,\n    },\n    hollowArea: {\n        fill: '#fff',\n        stroke: DEFAULT_COLOR,\n        fillOpacity: 0,\n        lineWidth: 2,\n    },\n    box: {\n        stroke: DEFAULT_COLOR,\n        lineWidth: 1,\n        fill: null,\n    },\n    edge: {\n        stroke: DEFAULT_COLOR,\n        lineWidth: 1,\n        fill: null,\n    },\n    interval: {\n        lineWidth: 0,\n        fill: DEFAULT_COLOR,\n        fillOpacity: 0.85,\n    },\n    hollowInterval: {\n        fill: '#fff',\n        stroke: DEFAULT_COLOR,\n        fillOpacity: 0,\n        lineWidth: 2,\n    },\n    kline: {\n        fill: DEFAULT_COLOR,\n        lineWidth: 1,\n        stroke: DEFAULT_COLOR,\n    },\n    line: {\n        stroke: DEFAULT_COLOR,\n        lineWidth: 2,\n        fill: null,\n    },\n    polygon: {\n        lineWidth: 0,\n        fill: DEFAULT_COLOR,\n        fillOpacity: 1,\n    },\n    hollowPolygon: {\n        fill: '#fff',\n        stroke: DEFAULT_COLOR,\n        fillOpacity: 0,\n        lineWidth: 2,\n    },\n    point: {\n        lineWidth: 1,\n        fill: DEFAULT_COLOR,\n        radius: 4,\n    },\n    hollowPoint: {\n        fill: '#fff',\n        lineWidth: 1,\n        stroke: DEFAULT_COLOR,\n        radius: 3,\n    },\n    text: {\n        fill: DEFAULT_COLOR,\n        textAlign: 'center',\n        textBaseline: 'middle',\n    },\n};\nvar OPACITY_ACTIVE_STYLE = function (style) {\n    var opacity = style.fillOpacity || style.opacity || 1;\n    return {\n        fillOpacity: _.clamp(opacity - 0.15, 0.1, 1),\n        strokeOpacity: _.clamp(opacity - 0.15, 0.1, 1),\n    };\n};\nvar LINEWIDTH_ACTIVE_STYLE = function (style) {\n    var lineWidth = style.lineWidth || 1;\n    return {\n        lineWidth: lineWidth + 1,\n    };\n};\nvar FILLOPACITY_ACTIVE_STYLE = function (style) {\n    var fillOpacity = style.fillOpacity || style.opacity || 1;\n    return {\n        fillOpacity: _.clamp(fillOpacity - 0.15, 0.1, 1),\n    };\n};\nvar POINT_ACTIVE_STYLE = function (style) {\n    var color = style.fill || style.fillStyle;\n    var radius = style.size || style.radius;\n    return {\n        radius: radius + 1,\n        shadowBlur: radius,\n        shadowColor: color,\n        stroke: color,\n        strokeOpacity: 1,\n        lineWidth: 1,\n    };\n};\nvar HOLLOW_POINT_ACTIVE_STYLE = function (style) {\n    var color = style.stroke || style.strokeStyle;\n    var radius = style.size || style.radius;\n    return {\n        radius: radius + 1,\n        shadowBlur: radius,\n        shadowColor: color,\n        stroke: color,\n        strokeOpacity: 1,\n        lineWidth: 1,\n    };\n};\nvar TEXT_ACTIVE_STYLE = function (style) {\n    var color = style.fill || style.fillStyle;\n    return {\n        stroke: color,\n        strokeOpacity: 1,\n        lineWidth: 1,\n    };\n};\n// 坐标轴的通用配置\nvar DEFAULT_AXIS_CONFIG = {\n    autoRotateLabel: true,\n    autoHideLabel: false,\n    autoRotateTitle: true,\n    showTitle: false,\n    gridType: 'line',\n    title: {\n        textStyle: {\n            fontSize: 12,\n            fill: '#ccc',\n            textBaseline: 'middle',\n            fontFamily: FONT_FAMILY,\n            textAlign: 'center',\n        },\n        offset: 20,\n    },\n    label: {\n        offset: 16,\n        textStyle: {\n            fill: '#545454',\n            fontSize: 12,\n            lineHeight: 16,\n            textBaseline: 'middle',\n            fontFamily: FONT_FAMILY,\n        },\n    },\n    line: {\n        lineWidth: 1,\n        stroke: '#BFBFBF',\n    },\n    tickLine: {\n        lineWidth: 1,\n        stroke: '#BFBFBF',\n        length: 4,\n        alignWithLabel: true,\n    },\n    grid: {\n        stroke: '#E9E9E9',\n        lineWidth: 1,\n        lineDash: [3, 3],\n    },\n};\n// 图例的通用配置\nvar DEFAULT_LEGEND_CONFIG = {\n    showTitle: false,\n    textStyle: {\n        fill: '#8C8C8C',\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle',\n        lineHeight: 20,\n        fontFamily: FONT_FAMILY,\n    },\n    unSelectedColor: '#bfbfbf',\n    titleStyle: {\n        fill: '#333',\n        textBaseline: 'top',\n        textAlign: 'start',\n        fontFamily: FONT_FAMILY,\n    },\n    flipPage: true,\n};\nvar Theme = {\n    pixelRatio: null,\n    defaultColor: DEFAULT_COLOR,\n    padding: [20, 20, 95, 80],\n    fontFamily: FONT_FAMILY,\n    colors: COLOR_PLATE_10,\n    colors_20: COLOR_PLATE_20,\n    shapes: {\n        point: [\n            'hollowCircle',\n            'hollowSquare',\n            'hollowDiamond',\n            'hollowBowtie',\n            'hollowTriangle',\n            'hollowHexagon',\n            'cross',\n            'tick',\n            'plus',\n            'hyphen',\n            'line',\n        ],\n        line: ['line', 'dash', 'dot'],\n        area: ['area'],\n    },\n    sizes: [1, 10],\n    opacities: [0.1, 0.9],\n    backgroundStyle: {\n        fill: 'rgba(255,255,255,0)',\n    },\n    axis: {\n        top: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n            position: 'top',\n            grid: null,\n        }),\n        bottom: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n            position: 'bottom',\n            grid: null,\n        }),\n        left: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n            position: 'left',\n            label: {\n                offset: 8,\n            },\n            line: null,\n            tickLine: null,\n        }),\n        right: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n            position: 'right',\n            label: {\n                offset: 8,\n            },\n            line: null,\n            tickLine: null,\n        }),\n        circle: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n            label: {\n                offset: 8,\n                textStyle: {\n                    textBaseline: 'alphabetic',\n                },\n            },\n        }),\n        radius: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n            label: {\n                offset: 12,\n            },\n            gridType: 'arc',\n        }),\n        helix: _.deepMix({}, DEFAULT_AXIS_CONFIG, {\n            label: null,\n            grid: null,\n        }),\n    },\n    label: {\n        offset: 20,\n        textStyle: {\n            fill: '#545454',\n            fontSize: 12,\n            textBaseline: 'middle',\n            fontFamily: FONT_FAMILY,\n        },\n    },\n    treemapLabels: {\n        offset: 10,\n        textStyle: {\n            fill: '#fff',\n            fontSize: 12,\n            textBaseline: 'top',\n            fontStyle: 'bold',\n            fontFamily: FONT_FAMILY,\n        },\n    },\n    innerLabels: {\n        textStyle: {\n            fill: '#fff',\n            fontSize: 12,\n            textBaseline: 'middle',\n            fontFamily: FONT_FAMILY,\n        },\n    },\n    // 在theta坐标系下的饼图文本内部的样式\n    thetaLabels: {\n        labelHeight: 14,\n        offset: 30,\n        labelLine: {\n            lineWidth: 1,\n        },\n    },\n    defaultLegendPosition: 'bottom',\n    legend: {\n        right: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n            position: 'right',\n            layout: 'vertical',\n            itemMarginBottom: 8,\n            textStyle: {\n                lineHeight: 0,\n            },\n        }),\n        left: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n            position: 'left',\n            layout: 'vertical',\n            itemMarginBottom: 8,\n        }),\n        top: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n            position: 'top',\n            layout: 'horizontal',\n            itemDistance: 10,\n        }),\n        bottom: _.deepMix({}, DEFAULT_LEGEND_CONFIG, {\n            position: 'bottom',\n            layout: 'horizontal',\n            itemDistance: 10,\n        }),\n        // 定义 html 渲染图例的样式\n        html: {\n            position: 'bottom',\n            layout: 'horizontal',\n            showTitle: false,\n            unSelectedColor: '#bfbfbf',\n            backgroundStyle: {\n                height: 'auto',\n                width: 'auto',\n                position: 'absolute',\n                overflow: 'auto',\n                fontSize: '12px',\n                fontFamily: FONT_FAMILY,\n                lineHeight: '20px',\n                color: '#8C8C8C',\n            },\n            titleStyle: {\n                marginBottom: '4px',\n            },\n            listStyle: {\n                listStyleType: 'none',\n                margin: 0,\n                padding: 0,\n            },\n            itemStyle: {\n                cursor: 'pointer',\n                marginBottom: '5px',\n                marginRight: '24px',\n            },\n            markerStyle: {\n                width: '9px',\n                height: '9px',\n                borderRadius: '50%',\n                display: 'inline-block',\n                marginRight: '8px',\n                verticalAlign: 'middle',\n            },\n        },\n        margin: [0, 24, 24, 24],\n        legendMargin: 24,\n    },\n    tooltip: (_a = {\n            useHtml: true\n        },\n        // css style for tooltip\n        _a[\"\" + TOOLTIP_CONTAINER_CLASS] = {\n            position: 'absolute',\n            display: 'none',\n            // @2018-07-25 by blue.lb 这里去掉浮动，火狐上存在样式错位\n            // whiteSpace: 'nowrap',\n            zIndex: 8,\n            // tslint:disable-next-line\n            transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n            backgroundColor: 'rgba(255, 255, 255, 0.9)',\n            boxShadow: '0px 0px 10px #aeaeae',\n            borderRadius: '3px',\n            color: 'rgb(87, 87, 87)',\n            fontSize: '12px',\n            fontFamily: FONT_FAMILY,\n            lineHeight: '20px',\n            padding: '10px 10px 6px 10px',\n        },\n        _a[\"\" + TOOLTIP_TITLE_CLASS] = {\n            marginBottom: '4px',\n        },\n        _a[\"\" + TOOLTIP_LIST_CLASS] = {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n        },\n        _a[\"\" + TOOLTIP_LIST_ITEM_CLASS] = {\n            marginBottom: '4px',\n            listStyleType: 'none',\n            padding: 0,\n            marginTop: 0,\n            marginLeft: 0,\n            marginRight: 0,\n        },\n        _a[\"\" + TOOLTIP_MARKER_CLASS] = {\n            width: '5px',\n            height: '5px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n        },\n        _a[\"\" + TOOLTIP_VALUE_CLASS] = {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n        },\n        _a),\n    tooltipMarker: {\n        symbol: function (x, y, r) {\n            return [\n                ['M', x, y],\n                ['m', -r, 0],\n                ['a', r, r, 0, 1, 0, r * 2, 0],\n                ['a', r, r, 0, 1, 0, -r * 2, 0],\n            ];\n        },\n        stroke: '#fff',\n        shadowBlur: 10,\n        shadowOffsetX: 0,\n        shadowOffSetY: 0,\n        shadowColor: 'rgba(0,0,0,0.09)',\n        lineWidth: 2,\n        radius: 4,\n    },\n    tooltipCrosshairsRect: {\n        type: 'rect',\n        rectStyle: {\n            fill: '#CCD6EC',\n            opacity: 0.3,\n        },\n    },\n    tooltipCrosshairsLine: {\n        lineStyle: {\n            stroke: 'rgba(0, 0, 0, 0.25)',\n            lineWidth: 1,\n        },\n    },\n    annotation: {\n        line: {\n            line: {\n                style: {\n                    stroke: 'rgba(0, 0, 0, .65)',\n                    lineDash: [2, 2],\n                    lineWidth: 1,\n                },\n            },\n            text: {\n                position: 'start',\n                autoRotate: true,\n                style: {\n                    fill: 'rgba(0, 0, 0, .45)',\n                    fontSize: 12,\n                    textAlign: 'start',\n                    fontFamily: FONT_FAMILY,\n                    textBaseline: 'bottom',\n                },\n            },\n        },\n        text: {\n            top: true,\n            style: {\n                fill: 'rgba(0,0,0,.5)',\n                fontSize: 12,\n                textBaseline: 'middle',\n                textAlign: 'start',\n                fontFamily: FONT_FAMILY,\n            },\n        },\n        region: {\n            top: false,\n            style: {\n                lineWidth: 0,\n                fill: '#000',\n                fillOpacity: 0.04,\n            },\n        },\n        html: {\n            alignX: 'middle',\n            alignY: 'middle',\n        },\n        dataRegion: {\n            region: {\n                style: {\n                    lineWidth: 0,\n                    fill: '#000000',\n                    opacity: 0.04,\n                },\n            },\n            text: {\n                style: {\n                    textAlign: 'center',\n                    textBaseline: 'bottom',\n                    fontSize: 12,\n                    fill: 'rgba(0, 0, 0, .65)',\n                },\n            },\n        },\n        dataMarker: {\n            top: true,\n            direction: 'upward',\n            autoAdjust: true,\n            text: {\n                display: true,\n                style: {\n                    fill: 'rgba(0, 0, 0, .65)',\n                    opacity: 1,\n                    fontSize: 12,\n                    textAlign: 'start',\n                },\n            },\n            line: {\n                display: true,\n                lineLength: 20,\n                style: {\n                    stroke: '#A3B1BF',\n                    lineWidth: 1,\n                },\n            },\n            point: {\n                display: true,\n                style: {\n                    r: 3,\n                    fill: '#FFFFFF',\n                    stroke: '#1890FF',\n                    lineWidth: 2,\n                },\n            },\n        },\n    },\n    shape: {\n        area: {\n            area: {\n                default: SHAPE_STYLE.area,\n                active: OPACITY_ACTIVE_STYLE,\n            },\n            smooth: {\n                default: SHAPE_STYLE.area,\n                active: OPACITY_ACTIVE_STYLE,\n            },\n            line: {\n                default: SHAPE_STYLE.hollowArea,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            smoothLine: {\n                default: SHAPE_STYLE.hollowArea,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n        },\n        box: {\n            box: {\n                default: SHAPE_STYLE.box,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n        },\n        edge: {\n            line: {\n                default: SHAPE_STYLE.edge,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            vhv: {\n                default: SHAPE_STYLE.edge,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            smooth: {\n                default: SHAPE_STYLE.edge,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            arc: {\n                default: SHAPE_STYLE.edge,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n        },\n        interval: {\n            rect: {\n                default: SHAPE_STYLE.interval,\n                active: FILLOPACITY_ACTIVE_STYLE,\n            },\n            hollowInterval: {\n                default: SHAPE_STYLE.hollowInterval,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            line: {\n                default: SHAPE_STYLE.hollowInterval,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            tick: {\n                default: SHAPE_STYLE.hollowInterval,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            funnel: {\n                default: SHAPE_STYLE.interval,\n                active: FILLOPACITY_ACTIVE_STYLE,\n            },\n            pyramid: {\n                default: SHAPE_STYLE.interval,\n                active: FILLOPACITY_ACTIVE_STYLE,\n            },\n            'top-line': {\n                default: SHAPE_STYLE.interval,\n                active: FILLOPACITY_ACTIVE_STYLE,\n            },\n        },\n        kline: {\n            kline: {\n                default: SHAPE_STYLE.kline,\n                active: OPACITY_ACTIVE_STYLE,\n            },\n        },\n        line: {\n            line: {\n                default: SHAPE_STYLE.line,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            dot: {\n                default: SHAPE_STYLE.line,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            dash: {\n                default: SHAPE_STYLE.line,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            smooth: {\n                default: SHAPE_STYLE.line,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            hv: {\n                default: SHAPE_STYLE.line,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            vh: {\n                default: SHAPE_STYLE.line,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            hvh: {\n                default: SHAPE_STYLE.line,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n            vhv: {\n                default: SHAPE_STYLE.line,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n        },\n        polygon: {\n            polygon: {\n                default: SHAPE_STYLE.polygon,\n                active: FILLOPACITY_ACTIVE_STYLE,\n            },\n            hollow: {\n                default: SHAPE_STYLE.hollowPolygon,\n                active: LINEWIDTH_ACTIVE_STYLE,\n            },\n        },\n        point: {\n            circle: {\n                default: SHAPE_STYLE.point,\n                active: POINT_ACTIVE_STYLE,\n            },\n            square: {\n                default: SHAPE_STYLE.point,\n                active: POINT_ACTIVE_STYLE,\n            },\n            bowtie: {\n                default: SHAPE_STYLE.point,\n                active: POINT_ACTIVE_STYLE,\n            },\n            diamond: {\n                default: SHAPE_STYLE.point,\n                active: POINT_ACTIVE_STYLE,\n            },\n            hexagon: {\n                default: SHAPE_STYLE.point,\n                active: POINT_ACTIVE_STYLE,\n            },\n            triangle: {\n                default: SHAPE_STYLE.point,\n                active: POINT_ACTIVE_STYLE,\n            },\n            triangleDown: {\n                default: SHAPE_STYLE.point,\n                active: POINT_ACTIVE_STYLE,\n            },\n            hollowCircle: {\n                default: SHAPE_STYLE.hollowPoint,\n                active: HOLLOW_POINT_ACTIVE_STYLE,\n            },\n            hollowSquare: {\n                default: SHAPE_STYLE.hollowPoint,\n                active: HOLLOW_POINT_ACTIVE_STYLE,\n            },\n            hollowBowtie: {\n                default: SHAPE_STYLE.hollowPoint,\n                active: HOLLOW_POINT_ACTIVE_STYLE,\n            },\n            hollowDiamond: {\n                default: SHAPE_STYLE.hollowPoint,\n                active: HOLLOW_POINT_ACTIVE_STYLE,\n            },\n            hollowHexagon: {\n                default: SHAPE_STYLE.hollowPoint,\n                active: HOLLOW_POINT_ACTIVE_STYLE,\n            },\n            hollowTriangle: {\n                default: SHAPE_STYLE.hollowPoint,\n                active: HOLLOW_POINT_ACTIVE_STYLE,\n            },\n            hollowTriangleDown: {\n                default: SHAPE_STYLE.hollowPoint,\n                active: HOLLOW_POINT_ACTIVE_STYLE,\n            },\n            cross: {\n                default: SHAPE_STYLE.hollowPoint,\n                active: HOLLOW_POINT_ACTIVE_STYLE,\n            },\n            tick: {\n                default: SHAPE_STYLE.hollowPoint,\n                active: HOLLOW_POINT_ACTIVE_STYLE,\n            },\n            plus: {\n                default: SHAPE_STYLE.hollowPoint,\n                active: HOLLOW_POINT_ACTIVE_STYLE,\n            },\n            hyphen: {\n                default: SHAPE_STYLE.hollowPoint,\n                active: HOLLOW_POINT_ACTIVE_STYLE,\n            },\n            line: {\n                default: SHAPE_STYLE.hollowPoint,\n                active: HOLLOW_POINT_ACTIVE_STYLE,\n            },\n            rect: {\n                default: SHAPE_STYLE.point,\n                active: POINT_ACTIVE_STYLE,\n            },\n            image: {\n                default: SHAPE_STYLE.point,\n                active: POINT_ACTIVE_STYLE,\n            },\n            path: {\n                default: SHAPE_STYLE.point,\n                active: POINT_ACTIVE_STYLE,\n            },\n        },\n        text: {\n            text: {\n                default: SHAPE_STYLE.text,\n                active: TEXT_ACTIVE_STYLE,\n            },\n        },\n    },\n};\nexport default Theme;\n//# sourceMappingURL=default.js.map","import { registerTheme } from './factory';\nimport DefaultTheme from './default';\nregisterTheme('default', DefaultTheme); // 注册默认的主题\nexport * from './factory';\n//# sourceMappingURL=index.js.map","/**\n * @description 全局变量\n */\nimport * as _ from '@antv/util';\n// @ts-ignore\nimport * as pkg from '../package.json';\nimport { getTheme } from './theme';\nvar Global = {\n    version: pkg.version,\n    renderer: 'canvas',\n    width: 640,\n    height: 480,\n    pixelRatio: null,\n    animate: true,\n    widthRatio: {\n        // 宽度所占的分类的比例\n        column: 1 / 2,\n        rose: 0.9999999,\n        multiplePie: 1 / 1.3,\n    },\n    theme: getTheme('default'),\n    setTheme: function (type) {\n        var newTheme = {};\n        if (_.isObject(type)) {\n            newTheme = type;\n        }\n        else if (getTheme(type)) {\n            newTheme = getTheme(type);\n        }\n        else {\n            newTheme = getTheme('default');\n        }\n        // @ts-ignore\n        _.deepMix(Global.theme, newTheme);\n    },\n};\nexport default Global;\nexport var setTheme = Global.setTheme;\nexport var version = Global.version;\n//# sourceMappingURL=global.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = require(\"@antv/util\");\nvar Scale = /** @class */ (function () {\n    function Scale(cfg) {\n        this.type = 'base';\n        this.range = [0, 1];\n        this.ticks = [];\n        this.__cfg__ = cfg;\n        this._initDefaultCfg();\n        _.assign(this, cfg);\n        this._init();\n    }\n    // 对于原始值的必要转换，如分类、时间字段需转换成数值，用transform/map命名可能更好\n    Scale.prototype.translate = function (v) {\n        return v;\n    };\n    /** 重新初始化 */\n    Scale.prototype.change = function (cfg) {\n        this.constructor(_.assign(this.__cfg__, cfg));\n    };\n    Scale.prototype.clone = function () {\n        return this.constructor(this.__cfg__);\n    };\n    /** 获取坐标轴需要的ticks */\n    Scale.prototype.getTicks = function () {\n        var _this = this;\n        return _.map(this.ticks, function (tick, idx) {\n            if (_.isObject(tick)) {\n                // 仅当符合Tick类型时才有意义\n                // _.some(['text', 'value', 'tickValue'], key => {\n                //   if (_.has(tick, key)) {\n                //     return false;\n                //   }\n                //   console.warn(`A tick need ${key} property.`);\n                //   return true;\n                // });\n                return tick;\n            }\n            return {\n                text: _this.getText(tick, idx),\n                tickValue: tick,\n                value: _this.scale(tick),\n            };\n        });\n    };\n    /** 获取Tick的格式化结果 */\n    Scale.prototype.getText = function (value, key) {\n        var formatter = this.formatter;\n        var res = formatter ? formatter(value, key) : value;\n        if (_.isNil(res) || !_.isFunction(res.toString)) {\n            return '';\n        }\n        return res.toString();\n    };\n    /** 定义域转 0~1 */\n    Scale.prototype._calcPercent = function (value, min, max) {\n        if (_.isNumber(value)) {\n            return (value - min) / (max - min);\n        }\n        return NaN;\n    };\n    /** 0~1转定义域 */\n    Scale.prototype._calcValue = function (percent, min, max) {\n        return min + percent * (max - min);\n    };\n    return Scale;\n}());\nexports.default = Scale;\n//# sourceMappingURL=base.js.map","import * as _ from '@antv/util';\nimport { mat3 } from '@antv/matrix-util';\nimport { Shapes } from '@antv/g';\nexport function getAnimateParam(animateCfg, index, id) {\n    return {\n        delay: _.isFunction(animateCfg.delay) ? animateCfg.delay(index, id) : animateCfg.delay,\n        easing: _.isFunction(animateCfg.easing) ? animateCfg.easing(index, id) : animateCfg.easing,\n        duration: _.isFunction(animateCfg.duration) ? animateCfg.duration(index, id) : animateCfg.duration,\n        callback: animateCfg.callback,\n    };\n}\nexport function getCoordRange(coord) {\n    var start = coord.start, end = coord.end;\n    return {\n        start: start,\n        end: end,\n        width: coord.getWidth(),\n        height: coord.getWidth(),\n    };\n}\nexport function getClip(coord) {\n    var start = coord.start, end = coord.end, width = coord.width, height = coord.height;\n    var margin = 200;\n    var clip;\n    if (coord.isPolar) {\n        var startAngle = coord.startAngle, endAngle = coord.endAngle;\n        var center = coord.getCenter();\n        var radius = coord.getRadius();\n        clip = new Shapes.Fan({\n            attrs: {\n                x: center.x,\n                y: center.y,\n                rs: 0,\n                re: radius + margin,\n                startAngle: startAngle,\n                endAngle: startAngle,\n            },\n        });\n        clip.endState = {\n            endAngle: endAngle,\n        };\n    }\n    else {\n        clip = new Shapes.Rect({\n            attrs: {\n                x: start.x - margin,\n                y: end.y - margin,\n                width: coord.isTransposed ? width + margin * 2 : 0,\n                height: coord.isTransposed ? 0 : height + margin * 2,\n            },\n        });\n        if (coord.isTransposed) {\n            clip.endState = {\n                height: height + margin * 2,\n            };\n        }\n        else {\n            clip.endState = {\n                width: width + margin * 2,\n            };\n        }\n    }\n    clip.set('isClip', true);\n    return clip;\n}\nexport function getScaledMatrix(shape, v, direct) {\n    var scaledMatrix;\n    shape.apply(v);\n    var x = v[0];\n    var y = v[1];\n    if (direct === 'x') {\n        shape.transform([\n            ['t', -x, -y],\n            ['s', 0.01, 1],\n            ['t', x, y],\n        ]);\n        var matrix = shape.getMatrix();\n        scaledMatrix = mat3.transform(matrix, [\n            ['t', -x, -y],\n            ['s', 100, 1],\n            ['t', x, y],\n        ]);\n    }\n    else if (direct === 'y') {\n        shape.transform([\n            ['t', -x, -y],\n            ['s', 1, 0.01],\n            ['t', x, y],\n        ]);\n        var matrix = shape.getMatrix();\n        scaledMatrix = mat3.transform(matrix, [\n            ['t', -x, -y],\n            ['s', 1, 100],\n            ['t', x, y],\n        ]);\n    }\n    else if (direct === 'xy') {\n        shape.transform([\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n        ]);\n        var matrix = shape.getMatrix();\n        scaledMatrix = mat3.transform(matrix, [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n        ]);\n    }\n    return scaledMatrix;\n}\nexport function doAnimation(shape, endState, animateCfg) {\n    var id = shape.id;\n    var index = shape.get('index');\n    var _a = getAnimateParam(animateCfg, index, id), easing = _a.easing, delay = _a.delay, duration = _a.duration, callback = _a.callback;\n    shape.animate(endState, duration, easing, callback, delay);\n}\nexport function doGroupScaleIn(container, animateCfg, coord, zeroY, type) {\n    var _a = getCoordRange(coord), start = _a.start, end = _a.end, width = _a.width, height = _a.height;\n    var x;\n    var y;\n    var clip = new Shapes.Rect({\n        attrs: {\n            x: start.x,\n            y: end.y,\n            width: width,\n            height: height,\n        },\n    });\n    if (type === 'y') {\n        x = start.x + width / 2;\n        y = zeroY.y < start.y ? zeroY.y : start.y;\n    }\n    else if (type === 'x') {\n        x = zeroY.x > start.x ? zeroY.x : start.x;\n        y = start.y + height / 2;\n    }\n    else if (type === 'xy') {\n        if (coord.isPolar) {\n            x = coord.getCenter().x;\n            y = coord.getCenter().y;\n        }\n        else {\n            x = (start.x + end.x) / 2;\n            y = (start.y + end.y) / 2;\n        }\n    }\n    var endMatrix = getScaledMatrix(clip, [x, y, 1], type);\n    clip.set('isClip', true);\n    clip.set('canvas', container.get('canvas'));\n    container.attr('clip', clip);\n    animateCfg.callback = function () {\n        container.attr('clip', null);\n        clip.remove();\n    };\n    doAnimation(clip, { matrix: endMatrix }, animateCfg);\n}\n//# sourceMappingURL=util.js.map","/**\n * @fileOverview Default animation funciton\n */\nimport * as pathUtil from '@antv/path-util';\nimport * as _ from '@antv/util';\nimport { doAnimation, doGroupScaleIn, getClip, getScaledMatrix } from './util';\n// 获取图形的包围盒\nfunction getPointsBox(points) {\n    if (_.isEmpty(points)) {\n        return null;\n    }\n    var minX = points[0].x;\n    var maxX = points[0].x;\n    var minY = points[0].y;\n    var maxY = points[0].y;\n    _.each(points, function (point) {\n        minX = minX > point.x ? point.x : minX;\n        maxX = maxX < point.x ? point.x : maxX;\n        minY = minY > point.y ? point.y : minY;\n        maxY = maxY < point.y ? point.y : maxY;\n    });\n    return {\n        minX: minX,\n        maxX: maxX,\n        minY: minY,\n        maxY: maxY,\n        centerX: (minX + maxX) / 2,\n        centerY: (minY + maxY) / 2,\n    };\n}\nfunction getAngle(shape, coord) {\n    var points = shape.points || shape.get('origin').points;\n    var box = getPointsBox(points);\n    var endAngle;\n    var startAngle;\n    var coordStartAngle = coord.startAngle;\n    var coordEndAngle = coord.endAngle;\n    var diffAngle = coordEndAngle - coordStartAngle;\n    if (coord.isTransposed) {\n        endAngle = box.maxY * diffAngle;\n        startAngle = box.minY * diffAngle;\n    }\n    else {\n        endAngle = box.maxX * diffAngle;\n        startAngle = box.minX * diffAngle;\n    }\n    endAngle += coordStartAngle;\n    startAngle += coordStartAngle;\n    return {\n        startAngle: startAngle,\n        endAngle: endAngle,\n    };\n}\nfunction scaleInY(shape, animateCfg) {\n    var box = shape.getBBox();\n    var points = shape.get('origin').points;\n    var x = (box.minX + box.maxX) / 2;\n    var y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n    var endState = {\n        matrix: getScaledMatrix(shape, [x, y, 1], 'y'),\n    };\n    doAnimation(shape, endState, animateCfg);\n}\nfunction scaleInX(shape, animateCfg) {\n    var box = shape.getBBox();\n    var points = shape.get('origin').points;\n    var x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n    var y = (box.minY + box.maxY) / 2;\n    var endState = {\n        matrix: getScaledMatrix(shape, [x, y, 1], 'x'),\n    };\n    doAnimation(shape, endState, animateCfg);\n}\nfunction lineWidthOut(shape, animateCfg) {\n    var endState = {\n        lineWidth: 0,\n        opacity: 0,\n    };\n    animateCfg.callback = function () { return shape.remove(); };\n    doAnimation(shape, endState, animateCfg);\n}\nfunction zoomIn(shape, animateCfg, coord) {\n    var x;\n    var y;\n    if (coord.isPolar && shape.name !== 'point') {\n        x = coord.getCenter().x;\n        y = coord.getCenter().y;\n    }\n    else {\n        var box = shape.getBBox();\n        x = (box.minX + box.maxX) / 2;\n        y = (box.minY + box.maxY) / 2;\n    }\n    var endState = {\n        matrix: getScaledMatrix(shape, [x, y, 1], 'xy'),\n    };\n    doAnimation(shape, endState, animateCfg);\n}\nfunction zoomOut(shape, animateCfg, coord) {\n    var x;\n    var y;\n    if (coord.isPolar && shape.name !== 'point') {\n        x = coord.getCenter().x;\n        y = coord.getCenter().y;\n    }\n    else {\n        var box = shape.getBBox();\n        x = (box.minX + box.maxX) / 2;\n        y = (box.minY + box.maxY) / 2;\n    }\n    var v = [x, y, 1];\n    shape.apply(v);\n    var endState = {\n        transform: [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n        ],\n    };\n    animateCfg.callback = function () { return shape.remove(); };\n    doAnimation(shape, endState, animateCfg);\n}\nfunction pathIn(shape, animateCfg) {\n    if (shape.get('type') !== 'path') {\n        return;\n    }\n    var path = pathUtil.path2Curve(shape.attr('path'));\n    shape.attr('path', [path[0]]);\n    var endState = {\n        path: path,\n    };\n    doAnimation(shape, endState, animateCfg);\n}\nfunction pathOut(shape, animateCfg) {\n    if (shape.get('type') !== 'path') {\n        return;\n    }\n    var path = pathUtil.path2Curve(shape.attr('path'));\n    var endState = {\n        path: [path[0]],\n    };\n    animateCfg.callback = function () { return shape.remove(); };\n    doAnimation(shape, endState, animateCfg);\n}\nfunction clipIn(shape, animateCfg, coord, startAngle, endAngle) {\n    var clip = getClip(coord);\n    var canvas = shape.get('canvas');\n    var endState;\n    if (startAngle) {\n        // 指定了 startAngle 和 endAngle\n        clip.attr('startAngle', startAngle);\n        clip.attr('endAngle', startAngle);\n        endState = {\n            endAngle: endAngle,\n        };\n    }\n    else {\n        endState = clip.endState;\n    }\n    clip.set('canvas', canvas);\n    shape.attr('clip', clip);\n    shape.setSilent('animating', true);\n    animateCfg.callback = function () {\n        if (shape && !shape.get('destroyed')) {\n            shape.attr('clip', null);\n            shape.setSilent('cacheShape', null);\n            shape.setSilent('animating', false);\n            clip.remove();\n        }\n    };\n    doAnimation(clip, endState, animateCfg);\n}\nfunction fadeIn(shape, animateCfg) {\n    var fillOpacity = _.isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity');\n    var strokeOpacity = _.isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity');\n    shape.attr('fillOpacity', 0);\n    shape.attr('strokeOpacity', 0);\n    var endState = {\n        fillOpacity: fillOpacity,\n        strokeOpacity: strokeOpacity,\n    };\n    doAnimation(shape, endState, animateCfg);\n}\nfunction fadeOut(shape, animateCfg) {\n    var endState = {\n        fillOpacity: 0,\n        strokeOpacity: 0,\n    };\n    animateCfg.callback = function () { return shape.remove(); };\n    doAnimation(shape, endState, animateCfg);\n}\nfunction fanIn(shape, animateCfg, coord) {\n    var _a = getAngle(shape, coord), startAngle = _a.startAngle, endAngle = _a.endAngle;\n    clipIn(shape, animateCfg, coord, startAngle, endAngle);\n}\nfunction groupScaleInX(container, animateCfg, coord, zeroY) {\n    doGroupScaleIn(container, animateCfg, coord, zeroY, 'x');\n}\nfunction groupScaleInY(container, animateCfg, coord, zeroY) {\n    doGroupScaleIn(container, animateCfg, coord, zeroY, 'y');\n}\nfunction groupScaleInXY(container, animateCfg, coord, zeroY) {\n    doGroupScaleIn(container, animateCfg, coord, zeroY, 'xy');\n}\nfunction groupWaveIn(container, animateCfg, coord) {\n    var clip = getClip(coord);\n    clip.set('canvas', container.get('canvas'));\n    container.attr('clip', clip);\n    animateCfg.callback = function () {\n        container.attr('clip', null);\n        clip.remove();\n    };\n    var endState = clip.endState;\n    doAnimation(clip, endState, animateCfg);\n}\n// 默认动画库\nvar Action = {\n    enter: {\n        clipIn: clipIn,\n        zoomIn: zoomIn,\n        pathIn: pathIn,\n        scaleInY: scaleInY,\n        scaleInX: scaleInX,\n        fanIn: fanIn,\n        fadeIn: fadeIn,\n    },\n    leave: {\n        lineWidthOut: lineWidthOut,\n        zoomOut: zoomOut,\n        pathOut: pathOut,\n        fadeOut: fadeOut,\n        fadeIn: fadeIn,\n    },\n    appear: {\n        clipIn: clipIn,\n        zoomIn: zoomIn,\n        pathIn: pathIn,\n        scaleInY: scaleInY,\n        scaleInX: scaleInX,\n        fanIn: fanIn,\n        fadeIn: fadeIn,\n        groupWaveIn: groupWaveIn,\n        groupScaleInX: groupScaleInX,\n        groupScaleInY: groupScaleInY,\n        groupScaleInXY: groupScaleInXY,\n    },\n    update: {\n        fadeIn: fadeIn,\n        fanIn: fanIn,\n    },\n};\n// 给每一个方法增加 name 属性，防止 function name 被 uglify 改掉。\n_.each(Action, function (v) {\n    _.each(v, function (animate, name) {\n        // @ts-ignore\n        animate.animationName = name;\n    });\n});\nexport default Action;\n//# sourceMappingURL=action.js.map","/**\n * @fileOverview Default animation configuration for elements\n */\nimport * as _ from '@antv/util';\nimport Action from './action';\nvar defaultAnimationCfg = {\n    appear: {\n        duration: 450,\n        easing: 'easeQuadOut',\n    },\n    update: {\n        duration: 450,\n        easing: 'easeQuadInOut',\n    },\n    enter: {\n        duration: 400,\n        easing: 'easeQuadInOut',\n        delay: 100,\n    },\n    leave: {\n        duration: 350,\n        easing: 'easeQuadIn',\n    },\n};\nvar Animate = {\n    line: {\n        appear: function () {\n            return Action.appear.groupWaveIn;\n        },\n        enter: function () {\n            return Action.enter.clipIn;\n        },\n        leave: function () {\n            return Action.leave.lineWidthOut;\n        },\n    },\n    path: {\n        appear: function () {\n            return Action.appear.groupWaveIn;\n        },\n        enter: function () {\n            return Action.enter.clipIn;\n        },\n        leave: function () {\n            return Action.leave.lineWidthOut;\n        },\n    },\n    area: {\n        appear: function () {\n            return Action.appear.groupWaveIn;\n        },\n        enter: function () {\n            return Action.enter.fadeIn;\n        },\n        leave: function () {\n            return Action.leave.fadeOut;\n        },\n        cfg: {\n            appear: {\n                duration: 500,\n                easing: 'easeQuadOut',\n            },\n            update: {\n                duration: 450,\n                easing: 'easeQuadInOut',\n            },\n            enter: {\n                duration: 600,\n                delay: 150,\n                easing: 'easeQuadInOut',\n            },\n            leave: {\n                easing: 'easeQuadOut',\n                duration: 350,\n            },\n        },\n    },\n    polygon: {\n        appear: function () {\n            return Action.appear.fadeIn;\n        },\n        enter: function () {\n            return Action.enter.zoomIn;\n        },\n        leave: function () {\n            return Action.leave.zoomOut;\n        },\n    },\n    edge: {\n        appear: function () {\n            return Action.appear.pathIn;\n        },\n        enter: function () {\n            return Action.enter.pathIn;\n        },\n        leave: function () {\n            return Action.leave.pathOut;\n        },\n    },\n    interval: {\n        appear: function (coord) {\n            var result;\n            if (coord.isPolar) { // polar coordinate\n                result = Action.appear.groupScaleInXY;\n                if (coord.isTransposed) { // pie chart\n                    result = Action.appear.groupWaveIn;\n                }\n            }\n            else {\n                result = coord.isTransposed ? Action.appear.groupScaleInX : Action.appear.groupScaleInY;\n            }\n            return result;\n        },\n        enter: function (coord) {\n            if (coord.isRect || coord.isTransposed || coord.type === 'theta') {\n                return Action.enter.fadeIn;\n            }\n            return Action.enter.zoomIn;\n        },\n        leave: function () {\n            return Action.leave.fadeOut;\n        },\n        update: function (coord) {\n            if (coord.type === 'theta') {\n                return Action.update.fanIn; // TODO: G animate 接口支持 onFrame 属性之后可以改进饼图的更新动画\n            }\n        },\n    },\n    point: {\n        appear: function () {\n            return Action.appear.zoomIn;\n        },\n        enter: function () {\n            return Action.enter.zoomIn;\n        },\n        leave: function () {\n            return Action.leave.zoomOut;\n        },\n    },\n    text: {\n        appear: function () {\n            return Action.appear.zoomIn;\n        },\n        enter: function () {\n            return Action.enter.zoomIn;\n        },\n        leave: function () {\n            return Action.leave.zoomOut;\n        },\n    },\n    kline: {\n        appear: function () {\n            return Action.appear.groupWaveIn;\n        },\n        enter: function () {\n            return Action.enter.clipIn;\n        },\n        leave: function () {\n            return Action.leave.lineWidthOut;\n        },\n    },\n    box: {\n        appear: function () {\n            return Action.appear.groupWaveIn;\n        },\n        enter: function () {\n            return Action.enter.clipIn;\n        },\n        leave: function () {\n            return Action.leave.lineWidthOut;\n        },\n    },\n    heatmap: null,\n    label: {\n        appear: function () {\n            return Action.appear.fadeIn;\n        },\n        enter: function () {\n            return Action.enter.fadeIn;\n        },\n        leave: function () {\n            return Action.leave.fadeOut;\n        },\n        cfg: {\n            appear: {\n                duration: 900,\n            },\n        },\n    },\n    'axis-label': {\n        enter: function () {\n            return Action.appear.fadeIn;\n        },\n        leave: function () {\n            return Action.leave.fadeOut;\n        },\n        update: function (coord) {\n            if (coord.isPolar) {\n                return Action.appear.fadeIn;\n            }\n        },\n    },\n    'axis-ticks': {\n        enter: function () {\n            return Action.appear.fadeIn;\n        },\n        leave: function () {\n            return Action.leave.fadeOut;\n        },\n        update: function (coord) {\n            if (coord.isPolar) {\n                return Action.appear.fadeIn;\n            }\n        },\n    },\n    'axis-grid': {\n        enter: function () {\n            return Action.appear.fadeIn;\n        },\n        leave: function () {\n            return Action.leave.fadeOut;\n        },\n        update: function (coord) {\n            if (coord.isPolar) {\n                return Action.appear.fadeIn;\n            }\n        },\n    },\n    'axis-grid-rect': {\n        enter: function () {\n            return Action.appear.fadeIn;\n        },\n        leave: function () {\n            return Action.leave.fadeOut;\n        },\n        update: function () {\n            return Action.leave.fadeIn;\n        },\n    },\n};\nAnimate.Action = Action;\nAnimate.defaultCfg = defaultAnimationCfg;\n// 获取动画\nAnimate.getAnimation = function (elementType, coord, animationType) {\n    var elementAnimateCfg = this[elementType];\n    if (elementAnimateCfg) {\n        var animation = elementAnimateCfg[animationType];\n        if (_.isFunction(animation)) {\n            return animation(coord);\n        }\n    }\n    return false;\n};\n// 获取动画配置\nAnimate.getAnimateCfg = function (elementType, animationType) {\n    var defaultCfg = defaultAnimationCfg[animationType];\n    if (this[elementType] && this[elementType].cfg && this[elementType].cfg[animationType]) {\n        return _.deepMix({}, defaultCfg, this[elementType].cfg[animationType]);\n    }\n    return defaultCfg;\n};\n// 注册动画\nAnimate.registerAnimation = function (animationType, animationName, animationFun) {\n    if (!this.Action[animationType]) {\n        this.Action[animationType] = {};\n    }\n    this.Action[animationType][animationName] = animationFun;\n};\nexport default Animate;\n//# sourceMappingURL=animate.js.map","import { mat3 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport Animate from './animate';\n/*\n * 获取图组内所有的shapes\n */\nfunction getShapes(container, viewId) {\n    var shapes = [];\n    if (container.get('animate') === false) {\n        return [];\n    }\n    var children = container.get('children');\n    _.each(children, function (child) {\n        // 这里child定义为Group|Shape后，tslint会报错。根源解决需要在g -> element类增加isGroup/isShape/id属性。这里暂时忽略tslint\n        // @ts-ignore\n        if (child.isGroup) {\n            // @ts-ignore\n            shapes = shapes.concat(getShapes(child, viewId));\n            // @ts-ignore\n        }\n        else if (child.isShape && child.id) {\n            // @ts-ignore\n            var id = child.id;\n            id = id.split('-')[0];\n            if (id === viewId) {\n                shapes.push(child);\n            }\n        }\n    });\n    return shapes;\n}\n/**\n * collect shape info.\n * @param shapes\n */\nfunction cache(shapes) {\n    var rst = {};\n    _.each(shapes, function (shape) {\n        if (!shape.id || shape.get('isClip')) {\n            return;\n        }\n        var id = shape.id;\n        rst[id] = {\n            id: id,\n            type: shape.get('type'),\n            attrs: _.clone(shape.attr()),\n            // 原始属性\n            name: shape.name,\n            index: shape.get('index'),\n            animateCfg: shape.get('animateOptions'),\n            coord: shape.get('coord'),\n        };\n    });\n    return rst;\n}\nfunction getAnimate(elementType, coord, animationType, animationName) {\n    var result = {};\n    if (animationName) {\n        result = Animate.Action[animationType][animationName];\n    }\n    else {\n        result = Animate.getAnimation(elementType, coord, animationType);\n    }\n    return result;\n}\nfunction getAnimateCfg(elementType, animationType, animateCfg) {\n    // .animate(false) 或者 .animate({ appear: false });\n    if (animateCfg === false || (_.isObject(animateCfg) && animateCfg[animationType] === false)) {\n        return null;\n    }\n    var defaultCfg = Animate.getAnimateCfg(elementType, animationType);\n    if (animateCfg && animateCfg[animationType]) {\n        return _.deepMix({}, defaultCfg, animateCfg[animationType]);\n    }\n    return defaultCfg;\n}\n/**\n * canvas draw之前将动画配置添加到动画队列中。\n * @return canvasDrawn(boolean) 是否添加绘制成功\n */\nfunction addAnimate(shapeCache, shapes, canvas) {\n    var animate;\n    var animateCfg;\n    var canvasDrawn = false;\n    // Step: leave -> update -> enter\n    var updateShapes = []; // 存储的是 shapes\n    var newShapes = []; // 存储的是 shapes\n    _.each(shapes, function (shape) {\n        var result = shapeCache[shape.id];\n        if (!result) {\n            newShapes.push(shape);\n        }\n        else {\n            shape.setSilent('cacheShape', result);\n            updateShapes.push(shape);\n            delete shapeCache[shape.id];\n        }\n    });\n    _.each(shapeCache, function (deletedShape) {\n        var name = deletedShape.name, coord = deletedShape.coord, id = deletedShape.id, attrs = deletedShape.attrs, index = deletedShape.index, type = deletedShape.type;\n        animateCfg = getAnimateCfg(name, 'leave', deletedShape.animateCfg);\n        if (!animateCfg) {\n            return true;\n        } // 用户关闭动画\n        animate = getAnimate(name, coord, 'leave', animateCfg.animation);\n        if (_.isFunction(animate)) {\n            var tempShape = canvas.addShape(type, {\n                attrs: attrs,\n                index: index,\n            });\n            tempShape.id = id;\n            tempShape.name = name;\n            if (coord && name !== 'label') {\n                var tempShapeMatrix = tempShape.getMatrix();\n                var finalMatrix = mat3.multiply([], tempShapeMatrix, coord.matrix);\n                tempShape.setMatrix(finalMatrix);\n            }\n            canvasDrawn = true;\n            animate(tempShape, animateCfg, coord);\n        }\n    });\n    _.each(updateShapes, function (updateShape) {\n        var name = updateShape.name;\n        animateCfg = getAnimateCfg(name, 'update', updateShape.get('animateOptions'));\n        if (!animateCfg) {\n            return true;\n        } // 用户关闭动画\n        var coord = updateShape.get('coord');\n        var cacheAttrs = updateShape.get('cacheShape').attrs;\n        // 判断如果属性相同的话就不进行变换\n        if (!_.isEqual(cacheAttrs, updateShape.attr())) {\n            animate = getAnimate(name, coord, 'update', animateCfg.animation);\n            if (_.isFunction(animate)) {\n                animate(updateShape, animateCfg, coord);\n            }\n            else {\n                var endState = _.clone(updateShape.attr());\n                updateShape.attr(cacheAttrs);\n                updateShape.animate(endState, animateCfg.duration, animateCfg.easing, function () {\n                    updateShape.setSilent('cacheShape', null);\n                });\n            }\n            canvasDrawn = true;\n        }\n    });\n    _.each(newShapes, function (newShape) {\n        var name = newShape.name;\n        var coord = newShape.get('coord');\n        animateCfg = getAnimateCfg(name, 'enter', newShape.get('animateOptions'));\n        if (!animateCfg) {\n            return true;\n        } // 用户关闭动画\n        animate = getAnimate(name, coord, 'enter', animateCfg.animation);\n        if (_.isFunction(animate)) {\n            animate(newShape, animateCfg, coord);\n            canvasDrawn = true;\n        }\n    });\n    return canvasDrawn;\n}\n/**\n * 动画模块唯一对外暴露接口\n * @param view\n * @param isUpdate\n */\nfunction execAnimation(view, isUpdate) {\n    var newIsUpdate = isUpdate; // eslint: no-param-reassign\n    var panelGroup = view.get('panelGroup');\n    var backgroundGroup = view.get('backgroundGroup');\n    var viewId = view.get('id');\n    var canvas = view.get('canvas');\n    var caches = canvas.get(viewId + \"caches\") || [];\n    if (caches.length === 0) {\n        newIsUpdate = false;\n    }\n    var shapes = getShapes(panelGroup, viewId);\n    var axisShapes = getShapes(backgroundGroup, viewId);\n    var cacheShapes = shapes.concat(axisShapes);\n    canvas.setSilent(viewId + \"caches\", cache(cacheShapes));\n    var drawn;\n    if (newIsUpdate) {\n        // 执行更新动画\n        drawn = addAnimate(caches, cacheShapes, canvas);\n    }\n    else {\n        // 初入场动画\n        // drawn = addAnimate(caches, shapes, canvas, newIsUpdate);\n        var animateCfg_1;\n        var animate_1;\n        var elements = view.get('elements');\n        var coord_1 = view.get('coord');\n        _.each(elements, function (element) {\n            var type = element.get('type');\n            var elementAnimateOption = element.get('animateOptions');\n            if (elementAnimateOption !== false) {\n                // 用户为关闭动画\n                animateCfg_1 = getAnimateCfg(type, 'appear', elementAnimateOption);\n                if (!animateCfg_1) {\n                    return true;\n                } // 用户关闭了初始动画\n                animate_1 = getAnimate(type, coord_1, 'appear', animateCfg_1.animation);\n                if (_.isFunction(animate_1)) {\n                    if (animate_1.animationName.indexOf('group') === 0) {\n                        // 执行全局动画\n                        var yScale = element.getYScale();\n                        var zeroY = coord_1.convertPoint({\n                            x: 0,\n                            y: yScale.scale(element.getYMinValue()),\n                        });\n                        var container = element.get('container');\n                        animate_1 && animate_1(container, animateCfg_1, coord_1, zeroY);\n                    }\n                    else {\n                        var shapeArr = getShapes(element.get('container'), viewId);\n                        _.each(shapeArr, function (shape) {\n                            if (shape.name === type) {\n                                // element shapes 上的动画\n                                animate_1(shape, animateCfg_1, coord_1);\n                            }\n                            else if (shape.name === 'label') {\n                                animateCfg_1 = getAnimateCfg('label', 'appear', null);\n                                animate_1 = getAnimate(shape.name, coord_1, 'appear', animateCfg_1.animation);\n                                if (_.isFunction(animate_1)) {\n                                    animate_1(shape, animateCfg_1, coord_1);\n                                }\n                            }\n                        });\n                    }\n                }\n            }\n        });\n        drawn = true;\n    }\n    if (!drawn) {\n        canvas.draw();\n    }\n}\nexport default {\n    execAnimation: execAnimation,\n};\n//# sourceMappingURL=index.js.map","import * as _ from '@antv/util';\nimport { DEFAULT_Y } from '../constant';\nvar Adjust = /** @class */ (function () {\n    function Adjust(cfg) {\n        var xField = cfg.xField, yField = cfg.yField, _a = cfg.adjustNames, adjustNames = _a === void 0 ? ['x', 'y'] : _a;\n        this.adjustNames = adjustNames;\n        this.xField = xField;\n        this.yField = yField;\n    }\n    /**\n     * 查看维度是否是 adjust 字段\n     * @param dim\n     */\n    Adjust.prototype.isAdjust = function (dim) {\n        return this.adjustNames.indexOf(dim) >= 0;\n    };\n    Adjust.prototype.getAdjustRange = function (dim, dimValue, values) {\n        var yField = this.yField;\n        var index = values.indexOf(dimValue);\n        var length = values.length;\n        var pre;\n        var next;\n        // 没有 y 字段，但是需要根据 y 调整\n        if (!yField && this.isAdjust('y')) {\n            pre = 0;\n            next = 1;\n        }\n        else if (length > 1) {\n            // 如果以其开头，则取之，否则取他前面一个\n            pre = values[index === 0 ? 0 : index - 1];\n            // 如果以其结尾，则取之，否则取他后面一个\n            next = values[index === length - 1 ? length - 1 : index + 1];\n            if (index !== 0) {\n                pre += (dimValue - pre) / 2;\n            }\n            else {\n                pre -= (next - dimValue) / 2;\n            }\n            if (index !== length - 1) {\n                next -= (next - dimValue) / 2;\n            }\n            else {\n                next += (dimValue - values[length - 2]) / 2;\n            }\n        }\n        else {\n            pre = dimValue === 0 ? 0 : dimValue - 0.5;\n            next = dimValue === 0 ? 1 : dimValue + 0.5;\n        }\n        return {\n            pre: pre,\n            next: next,\n        };\n    };\n    Adjust.prototype.adjustData = function (groupedDataArray, mergedData) {\n        var _this = this;\n        // 所有调整维度的值数组\n        var dimValuesMap = this.getDimValues(mergedData);\n        // 按照每一个分组来进行调整\n        _.each(groupedDataArray, function (dataArray, index) {\n            // 遍历所有数据集合\n            // 每个分组中，分别按照不同的 dim 进行调整\n            _.each(dimValuesMap, function (values, dim) {\n                // 根据不同的度量分别调整位置\n                _this.adjustDim(dim, values, dataArray, index);\n            });\n        });\n    };\n    /**\n     * 对数据进行分组adjustData\n     * @param data 数据\n     * @param dim 分组的字段\n     * @return 分组结果\n     */\n    Adjust.prototype.groupData = function (data, dim) {\n        // 补齐数据空数据为默认值\n        _.each(data, function (record) {\n            if (record[dim] === undefined) {\n                record[dim] = DEFAULT_Y;\n            }\n        });\n        // 按照 dim 维度分组\n        return _.groupBy(data, dim);\n    };\n    /** @override */\n    Adjust.prototype.adjustDim = function (dim, values, data, index) { };\n    /**\n     * 获取可调整度量对应的值\n     * @param mergedData 数据\n     * @return 值的映射\n     */\n    Adjust.prototype.getDimValues = function (mergedData) {\n        var _a = this, xField = _a.xField, yField = _a.yField;\n        var dimValuesMap = {};\n        // 所有的维度\n        var dims = [];\n        if (xField && this.isAdjust('x')) {\n            dims.push(xField);\n        }\n        if (yField && this.isAdjust('y')) {\n            dims.push(yField);\n        }\n        dims.forEach(function (dim) {\n            // 在每个维度上，所有的值\n            dimValuesMap[dim] = _.valuesOfKey(mergedData, dim).sort(function (v1, v2) { return v1 - v2; });\n        });\n        // 只有一维的情况下，同时调整 y，赋予默认值\n        if (!yField && this.isAdjust('y')) {\n            var dim = 'y';\n            dimValuesMap[dim] = [DEFAULT_Y, 1]; // 默认分布在 y 轴的 0 与 1 之间\n        }\n        return dimValuesMap;\n    };\n    return Adjust;\n}());\nexport default Adjust;\n//# sourceMappingURL=adjust.js.map","export var DEFAULT_Y = 0; // 默认的 y 的值\n// 偏移之后，间距\nexport var MARGIN_RATIO = 1 / 2;\nexport var DODGE_RATIO = 1 / 2;\n// 散点分开之后，距离边界的距离\nexport var GAP = 0.05;\n//# sourceMappingURL=constant.js.map","// 所有的 Coordinate map\nvar COORDINATE_MAP = {};\n/**\n * 通过类型获得 coordinate 类\n * @param type\n */\nexport var getCoordinate = function (type) {\n    return COORDINATE_MAP[type.toLowerCase()];\n};\n/**\n * 注册 coordinate 类\n * @param type\n * @param ctor\n */\nexport var registerCoordinate = function (type, ctor) {\n    // 存储到 map 中\n    COORDINATE_MAP[type.toLowerCase()] = ctor;\n};\n//# sourceMappingURL=factory.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { DODGE_RATIO, MARGIN_RATIO } from '../constant';\nimport Adjust from './adjust';\nvar Dodge = /** @class */ (function (_super) {\n    __extends(Dodge, _super);\n    function Dodge(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.cacheMap = {};\n        _this.adjustDataArray = [];\n        _this.mergeData = [];\n        var _a = cfg.marginRatio, marginRatio = _a === void 0 ? MARGIN_RATIO : _a, _b = cfg.dodgeRatio, dodgeRatio = _b === void 0 ? DODGE_RATIO : _b, dodgeBy = cfg.dodgeBy;\n        _this.marginRatio = marginRatio;\n        _this.dodgeRatio = dodgeRatio;\n        _this.dodgeBy = dodgeBy;\n        return _this;\n    }\n    Dodge.prototype.process = function (groupDataArray) {\n        var groupedDataArray = _.clone(groupDataArray);\n        // 将数据数组展开一层\n        var mergeData = _.flatten(groupedDataArray);\n        var dodgeBy = this.dodgeBy;\n        // 如果指定了分组 dim 的字段\n        var adjustDataArray = dodgeBy ? _.group(mergeData, dodgeBy) : groupedDataArray;\n        this.cacheMap = {};\n        this.adjustDataArray = adjustDataArray;\n        this.mergeData = mergeData;\n        this.adjustData(adjustDataArray, mergeData);\n        this.adjustDataArray = [];\n        this.mergeData = [];\n        return groupedDataArray;\n    };\n    Dodge.prototype.adjustDim = function (dim, values, data, frameIndex) {\n        var _this = this;\n        var map = this.getDistribution(dim);\n        var groupData = this.groupData(data, dim); // 根据值分组\n        _.each(groupData, function (group, key) {\n            var range;\n            // xField 中只有一个值，不需要做 dodge\n            if (values.length === 1) {\n                range = {\n                    pre: values[0] - 1,\n                    next: values[0] + 1,\n                };\n            }\n            else {\n                // 如果有多个，则需要获取调整的范围\n                range = _this.getAdjustRange(dim, parseFloat(key), values);\n            }\n            _.each(group, function (d) {\n                var value = d[dim];\n                var valueArr = map[value];\n                var valIndex = valueArr.indexOf(frameIndex);\n                d[dim] = _this.getDodgeOffset(range, valIndex, valueArr.length);\n            });\n        });\n        return [];\n    };\n    Dodge.prototype.getDodgeOffset = function (range, idx, len) {\n        var _a = this, dodgeRatio = _a.dodgeRatio, marginRatio = _a.marginRatio;\n        var pre = range.pre, next = range.next;\n        var tickLength = next - pre;\n        var width = (tickLength * dodgeRatio) / len;\n        var margin = marginRatio * width;\n        var offset = (1 / 2) * (tickLength - len * width - (len - 1) * margin) +\n            ((idx + 1) * width + idx * margin) -\n            (1 / 2) * width -\n            (1 / 2) * tickLength;\n        return (pre + next) / 2 + offset;\n    };\n    Dodge.prototype.getDistribution = function (dim) {\n        var groupedDataArray = this.adjustDataArray;\n        var cacheMap = this.cacheMap;\n        var map = cacheMap[dim];\n        if (!map) {\n            map = {};\n            _.each(groupedDataArray, function (data, index) {\n                var values = _.valuesOfKey(data, dim);\n                if (!values.length) {\n                    values.push(0);\n                }\n                _.each(values, function (val) {\n                    if (!map[val]) {\n                        map[val] = [];\n                    }\n                    map[val].push(index);\n                });\n            });\n            cacheMap[dim] = map;\n        }\n        return map;\n    };\n    return Dodge;\n}(Adjust));\nexport default Dodge;\n//# sourceMappingURL=dodge.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { GAP } from '../constant';\nimport Adjust from './adjust';\nfunction randomNumber(min, max) {\n    return (max - min) * Math.random() + min;\n}\nvar Jitter = /** @class */ (function (_super) {\n    __extends(Jitter, _super);\n    function Jitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Jitter.prototype.process = function (groupDataArray) {\n        var groupedDataArray = _.clone(groupDataArray);\n        // 之前分组之后的数据，然后有合并回去（和分组前可以理解成是一样的）\n        var mergeData = _.flatten(groupedDataArray);\n        // 返回值\n        this.adjustData(groupedDataArray, mergeData);\n        return groupedDataArray;\n    };\n    /**\n     * 当前数据分组（index）中，按照维度 dim 进行 jitter 调整\n     * @param dim\n     * @param values\n     * @param dataArray\n     */\n    Jitter.prototype.adjustDim = function (dim, values, dataArray) {\n        var _this = this;\n        // 在每一个分组中，将数据再按照 dim 分组，用于散列\n        var groupDataArray = this.groupData(dataArray, dim);\n        return _.each(groupDataArray, function (data, dimValue) {\n            return _this.adjustGroup(data, dim, parseFloat(dimValue), values);\n        });\n    };\n    // 随机出来的字段值\n    Jitter.prototype.getAdjustOffset = function (range) {\n        var pre = range.pre, next = range.next;\n        // 随机的范围\n        var margin = (next - pre) * GAP;\n        return randomNumber(pre + margin, next - margin);\n    };\n    // adjust group data\n    Jitter.prototype.adjustGroup = function (group, dim, dimValue, values) {\n        var _this = this;\n        // 调整范围\n        var range = this.getAdjustRange(dim, dimValue, values);\n        _.each(group, function (data) {\n            data[dim] = _this.getAdjustOffset(range); // 获取调整的位置\n        });\n        return group;\n    };\n    return Jitter;\n}(Adjust));\nexport default Jitter;\n//# sourceMappingURL=jitter.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Adjust from './adjust';\nvar Cache = _.Cache;\nvar Stack = /** @class */ (function (_super) {\n    __extends(Stack, _super);\n    function Stack(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        var _a = cfg.adjustNames, adjustNames = _a === void 0 ? ['y'] : _a, _b = cfg.height, height = _b === void 0 ? NaN : _b, _c = cfg.size, size = _c === void 0 ? 10 : _c, _d = cfg.reverseOrder, reverseOrder = _d === void 0 ? false : _d;\n        _this.adjustNames = adjustNames;\n        _this.height = height;\n        _this.size = size;\n        _this.reverseOrder = reverseOrder;\n        return _this;\n    }\n    /**\n     * 方法入参是经过数据分组、数据数字化之后的二维数组\n     * @param groupDataArray 分组之后的数据\n     */\n    Stack.prototype.process = function (groupDataArray) {\n        var _a = this, yField = _a.yField, reverseOrder = _a.reverseOrder;\n        // 如果有指定 y 字段，那么按照 y 字段来 stack\n        // 否则，按照高度均分\n        var d = yField ? this.processStack(groupDataArray) : this.processOneDimStack(groupDataArray);\n        return reverseOrder ? this.reverse(d) : d;\n    };\n    Stack.prototype.reverse = function (groupedDataArray) {\n        return groupedDataArray.slice(0).reverse();\n    };\n    Stack.prototype.processStack = function (groupDataArray) {\n        var _a = this, xField = _a.xField, yField = _a.yField, reverseOrder = _a.reverseOrder;\n        // 层叠顺序翻转\n        var groupedDataArray = reverseOrder ? this.reverse(groupDataArray) : groupDataArray;\n        // 用来缓存，正数和负数的堆叠问题\n        var positive = new Cache();\n        var negative = new Cache();\n        return groupedDataArray.map(function (dataArray) {\n            return dataArray.map(function (data) {\n                var _a;\n                var x = _.get(data, xField, 0);\n                var y = _.get(data, yField);\n                var xKey = x.toString();\n                // todo 是否应该取 _origin？因为 y 可能取到的值不正确，比如先 symmetric，再 stack！\n                y = _.isArray(y) ? y[1] : y;\n                if (!_.isNil(y)) {\n                    var cache = y >= 0 ? positive : negative;\n                    if (!cache.has(xKey)) {\n                        cache.set(xKey, 0);\n                    }\n                    var xValue = cache.get(xKey);\n                    var newXValue = y + xValue;\n                    // 存起来\n                    cache.set(xKey, newXValue);\n                    return __assign(__assign({}, data), (_a = {}, _a[yField] = [xValue, newXValue], _a));\n                }\n                // 没有修改，则直接返回\n                return data;\n            });\n        });\n    };\n    Stack.prototype.processOneDimStack = function (groupDataArray) {\n        var _this = this;\n        var _a = this, xField = _a.xField, height = _a.height, reverseOrder = _a.reverseOrder;\n        var yField = 'y';\n        // 如果层叠的顺序翻转\n        var groupedDataArray = reverseOrder ? this.reverse(groupDataArray) : groupDataArray;\n        // 缓存累加数据\n        var cache = new Cache();\n        return groupedDataArray.map(function (dataArray) {\n            return dataArray.map(function (data) {\n                var _a;\n                var size = _this.size;\n                var xValue = data[xField];\n                // todo 没有看到这个 stack 计算原理\n                var stackHeight = (size * 2) / height;\n                if (!cache.has(xValue)) {\n                    cache.set(xValue, stackHeight / 2); // 初始值大小\n                }\n                var stackValue = cache.get(xValue);\n                // 增加一层 stackHeight\n                cache.set(xValue, stackValue + stackHeight);\n                return __assign(__assign({}, data), (_a = {}, _a[yField] = stackValue, _a));\n            });\n        });\n    };\n    return Stack;\n}(Adjust));\nexport default Stack;\n//# sourceMappingURL=stack.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Adjust from './adjust';\nvar Symmetric = /** @class */ (function (_super) {\n    __extends(Symmetric, _super);\n    function Symmetric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Symmetric.prototype.process = function (groupDataArray) {\n        var mergeData = _.flatten(groupDataArray);\n        var _a = this, xField = _a.xField, yField = _a.yField;\n        // 每个 x 值对应的 最大值\n        var cache = this.getXValuesMaxMap(mergeData);\n        // 所有数据的最大的值\n        var max = Math.max.apply(Math, Object.keys(cache).map(function (key) { return cache[key]; }));\n        return _.map(groupDataArray, function (dataArray) {\n            return _.map(dataArray, function (data) {\n                var _a, _b;\n                var yValue = data[yField];\n                var xValue = data[xField];\n                // 数组处理逻辑\n                if (_.isArray(yValue)) {\n                    var off_1 = (max - cache[xValue]) / 2;\n                    return __assign(__assign({}, data), (_a = {}, _a[yField] = _.map(yValue, function (y) { return off_1 + y; }), _a));\n                }\n                // 非数组处理逻辑\n                var offset = (max - yValue) / 2;\n                return __assign(__assign({}, data), (_b = {}, _b[yField] = [offset, yValue + offset], _b));\n            });\n        });\n    };\n    // 获取每个 x 对应的最大的值\n    Symmetric.prototype.getXValuesMaxMap = function (mergeData) {\n        var _this = this;\n        var _a = this, xField = _a.xField, yField = _a.yField;\n        // 根据 xField 的值进行分组\n        var groupDataArray = _.groupBy(mergeData, function (data) { return data[xField]; });\n        // 获取每个 xField 值中的最大值\n        return _.mapValues(groupDataArray, function (dataArray) { return _this.getDimMaxValue(dataArray, yField); });\n    };\n    Symmetric.prototype.getDimMaxValue = function (mergeData, dim) {\n        // 所有的 value 值\n        var dimValues = _.map(mergeData, function (data) { return _.get(data, dim, []); });\n        // 将数组打平（dim value 有可能是数组，比如 stack 之后的）\n        var flattenValues = _.flatten(dimValues);\n        // 求出数组的最大值\n        return Math.max.apply(Math, flattenValues);\n    };\n    return Symmetric;\n}(Adjust));\nexport default Symmetric;\n//# sourceMappingURL=symmetric.js.map","import { isArray, isNil, isString } from '@antv/util';\n// todo 这个到底目的是什么？\nvar toScaleString = function (scale, value) {\n    if (isString(value)) {\n        return value;\n    }\n    return scale.invert(scale.scale(value));\n};\n/**\n * 所有视觉通道属性的基类\n * @class Base\n */\nvar Attribute = /** @class */ (function () {\n    function Attribute(cfg) {\n        this.names = [];\n        this.scales = [];\n        this.linear = false;\n        this.values = [];\n        this.callback = function () { return []; };\n        // 解析配置\n        this._parseCfg(cfg);\n    }\n    /**\n     * 映射的值组成的数组\n     * @param params 对应 scale 顺序的值传入\n     */\n    Attribute.prototype.mapping = function () {\n        var _this = this;\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        var values = params.map(function (param, idx) {\n            return _this._toOriginParam(param, _this.scales[idx]);\n        });\n        return this.callback.apply(this, values);\n    };\n    /**\n     * 如果进行线性映射，返回对应的映射值\n     * @param percent\n     */\n    Attribute.prototype.getLinearValue = function (percent) {\n        // 分段数量\n        var steps = this.values.length - 1;\n        var step = Math.floor(steps * percent);\n        var leftPercent = steps * percent - step;\n        // todo 不懂这个逻辑\n        var start = this.values[step];\n        var end = step === steps ? start : this.values[step + 1];\n        // 线性方程\n        return start + (end - start) * leftPercent;\n    };\n    /**\n     * 根据度量获取属性名\n     */\n    Attribute.prototype.getNames = function () {\n        var scales = this.scales;\n        var names = this.names;\n        var length = Math.min(scales.length, names.length);\n        var rst = [];\n        for (var i = 0; i < length; i += 1) {\n            rst.push(names[i]);\n        }\n        return rst;\n    };\n    /**\n     * 获取所有的维度名\n     */\n    Attribute.prototype.getFields = function () {\n        return this.scales.map(function (scale) { return scale.field; });\n    };\n    /**\n     * 根据名称获取度量\n     * @param name\n     */\n    Attribute.prototype.getScale = function (name) {\n        return this.scales[this.names.indexOf(name)];\n    };\n    /**\n     * 默认的回调函数（用户没有自定义 callback，或者用户自定义 callback 返回空的时候，使用 values 映射）\n     * @param params\n     */\n    Attribute.prototype.defaultCallback = function () {\n        var _this = this;\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n        }\n        // 没有 params 的情况，是指没有指定 fields，直接返回配置的 values 常量\n        if (params.length === 0) {\n            return this.values;\n        }\n        return params.map(function (param, idx) {\n            var scale = _this.scales[idx];\n            return scale.type === 'identity' ? scale.values[0] : _this._getAttributeValue(scale, param);\n        });\n    };\n    // 解析配置\n    Attribute.prototype._parseCfg = function (cfg) {\n        var _this = this;\n        var _a = cfg.type, type = _a === void 0 ? 'base' : _a, _b = cfg.names, names = _b === void 0 ? [] : _b, _c = cfg.scales, scales = _c === void 0 ? [] : _c, _d = cfg.values, values = _d === void 0 ? [] : _d, callback = cfg.callback;\n        this.type = type;\n        this.scales = scales;\n        this.values = values;\n        this.names = names;\n        // 构造 callback 方法\n        this.callback = function () {\n            var params = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                params[_i] = arguments[_i];\n            }\n            /**\n             * 当用户设置的 callback 返回 null 时, 应该返回默认 callback 中的值\n             */\n            if (callback) {\n                // 使用用户返回的值处理\n                var ret = callback.apply(void 0, params);\n                if (!isNil(ret)) {\n                    return [ret];\n                }\n            }\n            // 没有 callback 或者用户 callback 返回值为空，则使用默认的逻辑处理\n            return _this.defaultCallback.apply(_this, params);\n        };\n    };\n    // 获取属性值，将值映射到视觉通道\n    Attribute.prototype._getAttributeValue = function (scale, value) {\n        // 如果是非线性的字段，直接从 values 中取值即可\n        if (scale.isCategory && !this.linear) {\n            // 离散 scale 变换成索引\n            var idx = scale.translate(value);\n            return this.values[idx % this.values.length];\n        }\n        // 线性则使用线性值\n        var percent = scale.scale(value);\n        return this.getLinearValue(percent);\n    };\n    /**\n     * 通过 scale 拿到数据对应的原始的参数\n     * @param param\n     * @param scale\n     * @private\n     */\n    Attribute.prototype._toOriginParam = function (param, scale) {\n        // 是线性，直接返回\n        // 非线性，使用 scale 变换\n        return !scale.isLinear\n            ? isArray(param)\n                ? param.map(function (p) { return toScaleString(scale, p); })\n                : toScaleString(scale, param)\n            : param;\n    };\n    return Attribute;\n}());\nexport default Attribute;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport colorUtil from '@antv/color-util';\nimport { isString } from '@antv/util';\nimport Attribute from './base';\nvar Color = /** @class */ (function (_super) {\n    __extends(Color, _super);\n    function Color(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'color';\n        _this.names = ['color'];\n        if (isString(_this.values)) {\n            _this.linear = true;\n        }\n        _this.gradient = colorUtil.gradient(_this.values);\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Color.prototype.getLinearValue = function (percent) {\n        return this.gradient(percent);\n    };\n    return Color;\n}(Attribute));\nexport default Color;\n//# sourceMappingURL=color.js.map","import { __extends } from \"tslib\";\nimport Attribute from './base';\nvar Opacity = /** @class */ (function (_super) {\n    __extends(Opacity, _super);\n    function Opacity(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'opacity';\n        _this.names = ['opacity'];\n        return _this;\n    }\n    return Opacity;\n}(Attribute));\nexport default Opacity;\n//# sourceMappingURL=opacity.js.map","import { __extends } from \"tslib\";\nimport { isArray, isNil } from '@antv/util';\nimport Attribute from './base';\nvar Position = /** @class */ (function (_super) {\n    __extends(Position, _super);\n    function Position(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.names = ['x', 'y'];\n        _this.type = 'position';\n        return _this;\n    }\n    Position.prototype.mapping = function (x, y) {\n        var _a = this.scales, scaleX = _a[0], scaleY = _a[1];\n        if (isNil(x) || isNil(y)) {\n            return [];\n        }\n        return [\n            isArray(x) ? x.map(function (xi) { return scaleX.scale(xi); }) : scaleX.scale(x),\n            isArray(y) ? y.map(function (yi) { return scaleY.scale(yi); }) : scaleY.scale(y),\n        ];\n    };\n    return Position;\n}(Attribute));\nexport default Position;\n//# sourceMappingURL=position.js.map","import { __extends } from \"tslib\";\nimport Attribute from './base';\nvar Shape = /** @class */ (function (_super) {\n    __extends(Shape, _super);\n    function Shape(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'shape';\n        _this.names = ['shape'];\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Shape.prototype.getLinearValue = function (percent) {\n        var idx = Math.round((this.values.length - 1) * percent);\n        return this.values[idx];\n    };\n    return Shape;\n}(Attribute));\nexport default Shape;\n//# sourceMappingURL=shape.js.map","import { __extends } from \"tslib\";\nimport Attribute from './base';\nvar Size = /** @class */ (function (_super) {\n    __extends(Size, _super);\n    function Size(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.type = 'size';\n        _this.names = ['size'];\n        return _this;\n    }\n    return Size;\n}(Attribute));\nexport default Size;\n//# sourceMappingURL=size.js.map","/**\n * @description scale 的控制器\n */\nimport * as _ from '@antv/util';\nimport { getScale } from '../../dependents';\n// tslint:disable-next-line\nvar dateRegex = /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\nvar Types;\n(function (Types) {\n    Types[\"Linear\"] = \"linear\";\n    Types[\"Cat\"] = \"cat\";\n    Types[\"Time\"] = \"time\";\n})(Types || (Types = {}));\nvar ScaleController = /** @class */ (function () {\n    function ScaleController(cfg) {\n        this.defs = {}; // Scale 配置项信息\n        this.defs = cfg;\n    }\n    ScaleController.prototype.createScale = function (field, data) {\n        var def = this.defs[field];\n        var scale;\n        // 如果数据为空直接返回常量度量\n        if (!data || !data.length) {\n            if (def && def.type) {\n                var Scale = getScale(def.type);\n                scale = new Scale(def);\n            }\n            else {\n                var Identity = getScale('identity');\n                scale = new Identity({\n                    field: field.toString(),\n                    values: [field],\n                });\n            }\n            return scale;\n        }\n        var firstValue = _.firstValue(data, field);\n        if (_.isNumber(field) || (_.isNil(firstValue)) && !def) {\n            var Identity = getScale('identity');\n            scale = new Identity({\n                field: field.toString(),\n                values: [field],\n            });\n        }\n        else { // 如果已经定义过这个度量\n            var type = _.get(def, 'type', this._getDefaultType(field, data));\n            var cfg = this._getScaleCfg(type, field, data);\n            if (def) {\n                _.mix(cfg, def);\n            }\n            var Scale = getScale(type);\n            scale = new Scale(cfg);\n        }\n        return scale;\n    };\n    ScaleController.prototype._getDefaultType = function (field, data) {\n        var type = Types.Linear;\n        var value = _.firstValue(data, field);\n        if (_.isArray(value)) {\n            value = value[0];\n        }\n        if (dateRegex.test(value)) {\n            type = Types.Time;\n        }\n        else if (_.isString(value)) {\n            type = Types.Cat;\n        }\n        return type;\n    };\n    ScaleController.prototype._getScaleCfg = function (type, field, data) {\n        var values = _.valuesOfKey(data, field);\n        var cfg = {\n            field: field,\n            values: values,\n        };\n        if (type !== 'cat' && type !== 'timeCat' && type !== 'time') {\n            var _a = _.getRange(values), min = _a.min, max = _a.max;\n            cfg.min = min;\n            cfg.max = max;\n            cfg.nice = true;\n        }\n        if (type === 'time') {\n            cfg.nice = false;\n        }\n        return cfg;\n    };\n    return ScaleController;\n}());\nexport default ScaleController;\n//# sourceMappingURL=scale.js.map","import { __assign } from \"tslib\";\n/**\n * @description coord 的控制器\n */\nimport * as _ from '@antv/util';\nimport { getCoordinate } from '../../dependents';\nvar CoordController = /** @class */ (function () {\n    function CoordController(option) {\n        if (option === void 0) { option = {}; }\n        this.type = 'rect';\n        this.actions = [];\n        this.cfg = {};\n        this.options = {};\n        _.mix(this, option);\n        this.options = option; // ugly！！！通过浅拷贝 view.get('options').coord 来动态更改该属性值，见 view.ts#L917\n    }\n    CoordController.prototype.reset = function (option) {\n        this.type = option.type || 'rect';\n        this.actions = option.actions || [];\n        this.cfg = option.cfg;\n        // 更新 view.get('options').coord，见view.ts#L917\n        this.options.type = this.type;\n        this.options.actions = this.actions;\n        this.options.cfg = this.cfg;\n        return this;\n    };\n    /**\n     * 创建坐标系对象\n     * @param  {Object} start 坐标系起始点\n     * @param  {Object} end   坐标系结束点\n     * @return {Function} 坐标系的构造函数\n     */\n    CoordController.prototype.createCoord = function (start, end) {\n        var type = this.type;\n        var cfg = this.cfg;\n        var C; // 构造函数\n        var coord;\n        var coordCfg = __assign({ start: start,\n            end: end }, cfg);\n        if (type === 'theta') { // definition of theta coord\n            C = getCoordinate('polar');\n            if (!this._hasAction('transpose')) {\n                this.transpose(); // 极坐标，同时transpose\n            }\n            coord = new C(coordCfg);\n            coord.type = type;\n        }\n        else {\n            C = getCoordinate(type);\n            coord = new C(coordCfg);\n        }\n        this._execActions(coord);\n        return coord;\n    };\n    /**\n     * 围绕坐标系中心点旋转对应的角度\n     * @param angle 旋转角度\n     */\n    CoordController.prototype.rotate = function (angle) {\n        var _angle = angle * Math.PI / 180;\n        this.actions.push(['rotate', _angle]);\n        return this;\n    };\n    /**\n     * 将坐标系沿 x 方向或者沿 y 轴方向进行镜像映射\n     * @param dim 镜像方向，可选值 'x' 和 'y'，默认为 'x'\n     */\n    CoordController.prototype.reflect = function (dim) {\n        if (dim === void 0) { dim = 'y'; }\n        this.actions.push(['reflect', dim]);\n        return this;\n    };\n    /**\n     * 根据坐标系中心点进行相应的缩放\n     * @param sx x 轴缩放值\n     * @param sy y 轴缩放值\n     */\n    CoordController.prototype.scale = function (sx, sy) {\n        this.actions.push(['scale', sx, sy]);\n        return this;\n    };\n    /**\n     * x，y 轴交换\n     */\n    CoordController.prototype.transpose = function () {\n        this.actions.push(['transpose']);\n        return this;\n    };\n    CoordController.prototype._execActions = function (coord) {\n        _.each(this.actions, function (action) {\n            var m = action[0];\n            coord[m](action[1], action[2]);\n        });\n    };\n    CoordController.prototype._hasAction = function (actionName) {\n        var actions = this.actions;\n        var rst = false;\n        _.each(actions, function (action) {\n            if (actionName === action[0]) {\n                rst = true;\n                return false;\n            }\n        });\n        return rst;\n    };\n    return CoordController;\n}());\nexport default CoordController;\n//# sourceMappingURL=coordinate.js.map","import { __assign, __rest } from \"tslib\";\nimport { Annotation } from '@antv/component';\nimport * as _ from '@antv/util';\nvar AnnotationController = /** @class */ (function () {\n    function AnnotationController(acfg) {\n        this.options = [];\n        this.annotations = [];\n        _.assign(this, acfg);\n    }\n    /** 为当前controller新增一个辅助元素实例 */\n    AnnotationController.prototype.add = function (type, annConfig, top) {\n        if (top === void 0) { top = true; }\n        var typeName = _.upperFirst(type);\n        if (!Annotation[typeName]) {\n            console.error(\"Annotation \" + type + \" not exist.\");\n        }\n        else {\n            this.options.push(__assign({ top: top,\n                type: type }, annConfig));\n        }\n        return this;\n    };\n    /** 通过index获取指定的辅助元素实例 */\n    AnnotationController.prototype.get = function (idx) {\n        return this.annotations[idx];\n    };\n    AnnotationController.prototype.render = function (coord) {\n        var _this = this;\n        this.coord = coord;\n        var view = this.view;\n        var viewData = view && view.get('filteredData');\n        this.createAnnotations();\n        _.each(this.annotations, function (ann) {\n            if (ann.get('top')) {\n                ann.render(coord, _this.frontgroundGroup, viewData);\n            }\n            else {\n                ann.render(coord, _this.backgroundGroup, viewData);\n            }\n        });\n    };\n    /** 控制全部辅助元素展示与否 */\n    AnnotationController.prototype.changeVisible = function (visible) {\n        _.each(this.annotations, function (ann) {\n            ann.changeVisible(visible);\n        });\n    };\n    /** 销毁所有辅助元素 */\n    AnnotationController.prototype.clear = function () {\n        this.reset();\n        this.options = [];\n        this.backgroundGroup && this.backgroundGroup.remove();\n        this.frontgroundGroup && this.frontgroundGroup.remove();\n    };\n    /** 清空画布中的辅助元素 */\n    AnnotationController.prototype.reset = function () {\n        _.each(this.annotations, function (ann) {\n            ann.clear();\n        });\n        this.annotations = [];\n    };\n    /** 重绘所有辅助元素 */\n    AnnotationController.prototype.repaint = function () {\n        var _this = this;\n        if (this.coord && this.view) {\n            var coord_1 = this.coord;\n            var viewData_1 = this.view.get('filteredData');\n            _.each(this.annotations, function (ann) {\n                ann.clear();\n                if (ann.get('top')) {\n                    ann.render(coord_1, _this.frontgroundGroup, viewData_1);\n                }\n                else {\n                    ann.render(coord_1, _this.backgroundGroup, viewData_1);\n                }\n            });\n            var canvas = this.view.get('canvas');\n            canvas.draw();\n        }\n        else {\n            throw new Error('need render first');\n        }\n    };\n    AnnotationController.prototype.createAnnotations = function () {\n        var _this = this;\n        _.each(this.options, function (option) {\n            var type = option.type, top = option.top, others = __rest(option, [\"type\", \"top\"]);\n            var ann = new Annotation[_.upperFirst(type)](_.deepMix({}, __assign({ xScales: _this.xScales, yScales: _this.yScales }, (_.get(_this.theme, \"annotation.\" + type) ? _this.theme.annotation[type] : {})), others));\n            ann.set('top', top); // 标记渲染图层是否为frontgroundGroup\n            _this.annotations.push(ann);\n        });\n    };\n    return AnnotationController;\n}());\nexport default AnnotationController;\n//# sourceMappingURL=annotation.js.map","/**\n * @description path 计算、转换的辅助工具\n */\nimport * as _ from '@antv/util';\nimport { vec2 as vector2 } from '@antv/matrix-util';\nfunction _points2path(points, isInCircle) {\n    var path = [];\n    if (points.length) {\n        for (var i = 0, length_1 = points.length; i < length_1; i += 1) {\n            var item = points[i];\n            var command = (i === 0) ? 'M' : 'L';\n            path.push([command, item.x, item.y]);\n        }\n        isInCircle && path.push(['Z']);\n    }\n    return path;\n}\nfunction _getPointRadius(coord, point) {\n    var center = coord.getCenter();\n    var r = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n    return r;\n}\nfunction _convertArr(arr, coord) {\n    var tmp = [arr[0]];\n    for (var i = 1, len = arr.length; i < len; i = i + 2) {\n        var point = coord.convertPoint({\n            x: arr[i],\n            y: arr[i + 1],\n        });\n        tmp.push(point.x, point.y);\n    }\n    return tmp;\n}\nfunction _convertPolarPath(pre, cur, coord) {\n    var isTransposed = coord.isTransposed, startAngle = coord.startAngle, endAngle = coord.endAngle;\n    var prePoint = {\n        x: pre[1],\n        y: pre[2],\n    };\n    var curPoint = {\n        x: cur[1],\n        y: cur[2],\n    };\n    var rst = [];\n    var xDim = isTransposed ? 'y' : 'x';\n    var angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n    var direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n    var flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n    var convertPoint = coord.convertPoint(curPoint);\n    var r = _getPointRadius(coord, convertPoint);\n    if (r >= 0.5) { // 小于1像素的圆在图像上无法识别\n        if (angleRange === Math.PI * 2) {\n            var middlePoint = {\n                x: (curPoint.x + prePoint.x) / 2,\n                y: (curPoint.y + prePoint.y) / 2,\n            };\n            var middleConvertPoint = coord.convertPoint(middlePoint);\n            rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n            rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n        }\n        else {\n            rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n        }\n    }\n    return rst;\n}\n// 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\nfunction _filterFullCirleLine(path) {\n    _.each(path, function (subPath, index) {\n        var cur = subPath;\n        if (cur[0].toLowerCase() === 'a') {\n            var pre = path[index - 1];\n            var next = path[index + 1];\n            if (next && next[0].toLowerCase() === 'a') {\n                if (pre && pre[0].toLowerCase() === 'l') {\n                    pre[0] = 'M';\n                }\n            }\n            else if (pre && pre[0].toLowerCase() === 'a') {\n                if (next && next[0].toLowerCase() === 'l') {\n                    next[0] = 'M';\n                }\n            }\n        }\n    });\n}\nexport var smoothBezier = function (points, smooth, isLoop, constraint) {\n    var cps = [];\n    var prevPoint;\n    var nextPoint;\n    var hasConstraint = !!constraint;\n    var min;\n    var max;\n    if (hasConstraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n        for (var i = 0, l = points.length; i < l; i++) {\n            var point = points[i];\n            min = vector2.min([], min, point);\n            max = vector2.max([], max, point);\n        }\n        min = vector2.min([], min, constraint[0]);\n        max = vector2.max([], max, constraint[1]);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (isLoop) {\n            prevPoint = points[i ? i - 1 : len - 1];\n            nextPoint = points[(i + 1) % len];\n        }\n        else {\n            if (i === 0 || i === len - 1) {\n                cps.push(point);\n                continue;\n            }\n            else {\n                prevPoint = points[i - 1];\n                nextPoint = points[i + 1];\n            }\n        }\n        var v = [];\n        v = vector2.sub(v, nextPoint, prevPoint);\n        v = vector2.scale(v, v, smooth);\n        var d0 = vector2.distance(point, prevPoint);\n        var d1 = vector2.distance(point, nextPoint);\n        var sum = d0 + d1;\n        if (sum !== 0) {\n            d0 /= sum;\n            d1 /= sum;\n        }\n        var v1 = vector2.scale([], v, -d0);\n        var v2 = vector2.scale([], v, d1);\n        var cp0 = vector2.add([], point, v1);\n        var cp1 = vector2.add([], point, v2);\n        if (hasConstraint) {\n            cp0 = vector2.max([], cp0, min);\n            cp0 = vector2.min([], cp0, max);\n            cp1 = vector2.max([], cp1, min);\n            cp1 = vector2.min([], cp1, max);\n        }\n        cps.push(cp0);\n        cps.push(cp1);\n    }\n    if (isLoop) {\n        cps.push(cps.shift());\n    }\n    return cps;\n};\n// 贝塞尔曲线\nexport function catmullRom2bezier(crp, z, constraint) {\n    var isLoop = !!z;\n    var pointList = [];\n    for (var i = 0, l = crp.length; i < l; i += 2) {\n        pointList.push([crp[i], crp[i + 1]]);\n    }\n    var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n    var len = pointList.length;\n    var d1 = [];\n    var cp1;\n    var cp2;\n    var p;\n    for (var i = 0; i < len - 1; i++) {\n        cp1 = controlPointList[i * 2];\n        cp2 = controlPointList[i * 2 + 1];\n        p = pointList[i + 1];\n        d1.push([\n            'C',\n            cp1[0],\n            cp1[1],\n            cp2[0],\n            cp2[1],\n            p[0],\n            p[1],\n        ]);\n    }\n    if (isLoop) {\n        cp1 = controlPointList[len];\n        cp2 = controlPointList[len + 1];\n        p = pointList[0];\n        d1.push([\n            'C',\n            cp1[0],\n            cp1[1],\n            cp2[0],\n            cp2[1],\n            p[0],\n            p[1],\n        ]);\n    }\n    return d1;\n}\n// 将点连接成路径 path\nexport function getLinePath(points, isInCircle) {\n    return _points2path(points, isInCircle);\n}\n// get spline： 限定了范围的平滑线\nexport function getSplinePath(points, isInCircle, constaint) {\n    var data = [];\n    var first = points[0];\n    var prePoint = null;\n    if (points.length <= 2) { // 两点以内直接绘制成路径\n        return getLinePath(points, isInCircle);\n    }\n    _.each(points, function (point) {\n        if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n            data.push(point.x);\n            data.push(point.y);\n            prePoint = point;\n        }\n    });\n    var constraint = constaint || [\n        [0, 0],\n        [1, 1],\n    ];\n    var splinePath = catmullRom2bezier(data, isInCircle, constraint);\n    splinePath.unshift(['M', first.x, first.y]);\n    return splinePath;\n}\n// 获取点到圆心的距离\nexport function getPointRadius(coord, point) {\n    return _getPointRadius(coord, point);\n}\n// 获取点到圆心的夹角\nexport function getPointAngle(coord, point) {\n    var center = coord.getCenter();\n    return Math.atan2(point.y - center.y, point.x - center.x);\n}\nexport function convertNormalPath(coord, path) {\n    var tmp = [];\n    _.each(path, function (subPath) {\n        var action = subPath[0];\n        switch (action.toLowerCase()) {\n            case 'm':\n            case 'l':\n            case 'c':\n                tmp.push(_convertArr(subPath, coord));\n                break;\n            case 'z':\n            default:\n                tmp.push(subPath);\n                break;\n        }\n    });\n    return tmp;\n}\nexport function convertPolarPath(coord, path) {\n    var tmp = [];\n    var pre;\n    var cur;\n    var transposed;\n    var equals;\n    _.each(path, function (subPath, index) {\n        var action = subPath[0];\n        switch (action.toLowerCase()) {\n            case 'm':\n            case 'c':\n            case 'q':\n                tmp.push(_convertArr(subPath, coord));\n                break;\n            case 'l':\n                pre = path[index - 1];\n                cur = subPath;\n                transposed = coord.isTransposed;\n                // 是否半径相同，转换成圆弧\n                equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n                if (equals) {\n                    tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n                }\n                else { // y 不相等，所以直接转换\n                    tmp.push(_convertArr(subPath, coord));\n                }\n                break;\n            case 'z':\n            default:\n                tmp.push(subPath);\n                break;\n        }\n    });\n    _filterFullCirleLine(tmp); // 过滤多余的直线\n    return tmp;\n}\n//# sourceMappingURL=path.js.map","import { __assign } from \"tslib\";\nimport * as pathUtil from '@antv/path-util';\nimport * as _ from '@antv/util';\nimport Global from '../../global';\nimport { convertNormalPath, convertPolarPath } from '../util/path';\nvar ShapeBase = {\n    _coord: null,\n    getCoord: function () {\n        return this._coord;\n    },\n    /**\n     * 0～1 path 转 画布 path\n     * @param path 路径\n     * @param islineToArc 是否转换成圆弧\n     * @return path 转换到画布坐标的path\n     */\n    parsePath: function (path, islineToArc) {\n        var coord = this._coord;\n        var parsedPath = pathUtil.parsePathString(path);\n        if (coord.isPolar && islineToArc !== false) {\n            parsedPath = convertPolarPath(coord, parsedPath);\n        }\n        else {\n            parsedPath = convertNormalPath(coord, parsedPath);\n        }\n        return parsedPath;\n    },\n    /**\n     * 0～1 point 转 画布 point\n     * @param  point 节点\n     * @return point 转换后的点\n     */\n    parsePoint: function (point) {\n        var coord = this._coord;\n        return coord.convertPoint(point);\n    },\n    /**\n     * 0～1 points 转 画布 points\n     * @param points 节点集合\n     * @return points 转换后的多个节点\n     */\n    parsePoints: function (points) {\n        var coord = this._coord;\n        return points.map(function (point) {\n            return coord.convertPoint(point);\n        });\n    },\n    /**\n     * @override\n     * 创建具体的 G.Shape 实例，并将其添加至 container 绘图容器中，在注册具体的 shape 时由开发者自己定义\n     */\n    draw: function ( /* cfg: ShapeDrawCFG, container: Group */) { },\n};\nvar ShapeFactoryBase = {\n    _theme: Global.theme.shape,\n    _coord: null,\n    _getShapeStyleByState: function (shapeName, shapeState, cfg) {\n        var theme = this._theme;\n        var elementName = this.name;\n        if (theme && theme[elementName] && theme[elementName][shapeName]) {\n            var style = theme[elementName][shapeName][shapeState];\n            if (_.isFunction(style)) {\n                style = style(cfg);\n            }\n            return style;\n        }\n    },\n    defaultShapeType: null,\n    setCoord: function (coord) {\n        this._coord = coord;\n    },\n    setTheme: function (theme) {\n        this._theme = theme;\n    },\n    getShape: function (type) {\n        var t = _.isArray(type) ? type[0] : type;\n        var shape = this[t] || this[this.defaultShapeType];\n        shape._coord = this._coord;\n        return shape;\n    },\n    getShapePoints: function (type, pointInfo) {\n        var shape = this.getShape(type);\n        return shape.getPoints ? shape.getPoints(pointInfo) : this.getDefaultPoints(pointInfo);\n    },\n    /**\n     * @override\n     */\n    getDefaultPoints: function ( /* pointInfo: ShapePointInfo */) {\n        return [];\n    },\n    /**\n     * @override\n     * 获取每个 shape 对应的缩略图样式\n     * @param type 图形类型\n     * @param cfg shape 的绘图属性\n     */\n    getMarkerStyle: function (type, markerCfg) {\n        var shape = this.getShape(type);\n        if (shape.getMarkerStyle) {\n            var markerStyle = shape.getMarkerStyle(markerCfg);\n            var theme = this._theme;\n            var shapeName = shape.name;\n            var elementName = this.name;\n            if (theme && theme[elementName] && theme[elementName][shapeName]) {\n                markerStyle = _.mix({}, theme[elementName][shapeName].default, markerStyle);\n            }\n            return markerStyle;\n        }\n    },\n    /**\n     * @override\n     * 获取对应 type 的 shape 的 inactive 样式\n     * @param type shape 类型\n     * @param cfg shape 的绘图属性\n     */\n    getInactiveStyle: function (type, inactiveCfg) {\n        var shape = this.getShape(type);\n        if (shape.getInactiveStyle) {\n            return shape.getInactiveStyle(inactiveCfg);\n        }\n        return this._getShapeStyleByState(shape.name, 'inactive', inactiveCfg);\n    },\n    /**\n     * @override\n     * 获取对应 type 的 shape 的激活样式\n     * @param type shape 类型\n     * @param cfg shape 的绘图属性\n     */\n    getActiveStyle: function (type, activeCfg) {\n        var shape = this.getShape(type);\n        if (shape.getActiveStyle) {\n            return shape.getActiveStyle(activeCfg);\n        }\n        return this._getShapeStyleByState(shape.name, 'active', activeCfg);\n    },\n    /**\n     * @override\n     * 获取对应 type 的 shape 的选中样式\n     * @param type shape 类型\n     * @param cfg shape 的绘图属性\n     */\n    getSelectedStyle: function (type, selectedCfg) {\n        var shape = this.getShape(type);\n        if (shape.getSelectedStyle) {\n            return shape.getSelectedStyle(selectedCfg);\n        }\n        return this._getShapeStyleByState(shape.name, 'selected', selectedCfg);\n    },\n    /**\n     * @override\n     * 调用具体的 shape 的绘制方法\n     */\n    drawShape: function (type, cfg, container) {\n        var shape = this.getShape(type);\n        // 应用 shape 主题配置\n        var shapeName = shape.name;\n        var theme = this._theme;\n        var elementName = this.name;\n        if (theme && theme[elementName] && theme[elementName][shapeName]) {\n            var defaultShapeStyle = theme[elementName][shapeName].default;\n            cfg.style = _.mix({}, defaultShapeStyle, cfg.style);\n        }\n        var gShape = shape.draw(cfg, container);\n        if (gShape) {\n            // TODO 支持 Group\n            gShape.setSilent('origin', cfg.origin);\n            gShape.id = cfg.yIndex ? cfg.id + cfg.yIndex : cfg.id;\n            gShape.name = this.name;\n        }\n        return gShape;\n    },\n};\nvar ShapeFactoryMap = {};\n// 注册 Element 获取图形的入口\nexport function registerShapeFactory(factoryName, cfg) {\n    var className = _.upperFirst(factoryName);\n    var geomObj = __assign(__assign(__assign({}, ShapeFactoryBase), cfg), { name: factoryName });\n    ShapeFactoryMap[className] = geomObj;\n    return geomObj;\n}\n// 注册具体的 shape\nexport function registerShape(factoryName, shapeType, cfg) {\n    var className = _.upperFirst(factoryName);\n    var factory = ShapeFactoryMap[className];\n    var shapeObj = __assign(__assign(__assign({}, ShapeBase), cfg), { name: shapeType });\n    factory[shapeType] = shapeObj;\n    return shapeObj;\n}\n// 获取 Element 对应的 shapeFactory\nexport function getShapeFactory(factoryName) {\n    var className = _.upperFirst(factoryName);\n    return ShapeFactoryMap[className];\n}\n//# sourceMappingURL=base.js.map","import { __spreadArrays } from \"tslib\";\nimport { CanvasCategory, Color, HtmlCategory, Size } from '@antv/component/lib/legend';\nimport * as _ from '@antv/util';\nimport { getShapeFactory } from '../../element/shape/base';\nvar MARKER_SIZE = 4.5;\nvar STROKE_MARKERS = [\n    'cross',\n    'tick',\n    'plus',\n    'hyphen',\n    'line',\n    'hollowCircle',\n    'hollowSquare',\n    'hollowDiamond',\n    'hollowTriangle',\n    'hollowTriangleDown',\n    'hollowHexagon',\n    'hollowBowtie',\n];\nvar findTargetScale = function (scales, compareScale) {\n    return _.find(scales, function (scale) {\n        var scaleValues = [].concat(scale.values);\n        var compareScaleValues = [].concat(compareScale.values);\n        return (scale.type === compareScale.type &&\n            scale.field === compareScale.field &&\n            _.isEqual(scaleValues.sort(), compareScaleValues.sort()));\n    });\n};\nvar LegendController = /** @class */ (function () {\n    function LegendController(cfg) {\n        // 类内部属性\n        // 生成的所有 legend 实例\n        this.legends = [];\n        var view = cfg.view;\n        this.view = view;\n        this.theme = view.get('theme');\n        // 需要用到 plot 的属性，在这里先定义出来\n    }\n    /**\n     * 生成并渲染 legend\n     */\n    LegendController.prototype.render = function () {\n        var _this = this;\n        this.clear();\n        var legendOptions = this.options;\n        // 没有关闭实例\n        if (_.isObject(legendOptions)) {\n            // 用户自定义图例\n            if (legendOptions.custom) {\n                var legend = this.addCustomLegend();\n                this.legends.push(legend);\n            }\n            else {\n                var elements = this.view.getElements();\n                var scales_1 = [];\n                _.each(elements, function (element) {\n                    var view = element.get('view');\n                    var attrs = element.getAttrsForLegend();\n                    _.each(attrs, function (attr) {\n                        var type = attr.type;\n                        var scale = attr.getScale(type);\n                        if (scale && scale.field && scale.type !== 'identity' && !findTargetScale(scales_1, scale)) {\n                            scales_1.push(scale);\n                            var filteredValues = view.getFilteredOutValues(scale.field);\n                            var legend = _this.addLegend(legendOptions, scale, attr, element, filteredValues);\n                            // 创建成功，则放入到数组中\n                            if (legend) {\n                                _this.legends.push(legend);\n                            }\n                        }\n                    });\n                });\n            }\n            this.alignLegends();\n        }\n    };\n    /**\n     * todo 显示隐藏图例\n     * @param visible\n     */\n    LegendController.prototype.changeVisible = function (visible) {\n        _.each(this.legends, function (legend) {\n            /* legend 暂不支持这个方法 */\n            // legend.changeVisible(visible);\n        });\n    };\n    /**\n     * 清空，销毁生成的 legend\n     */\n    LegendController.prototype.clear = function () {\n        // 1. 销毁 Legends 实例\n        _.each(this.legends, function (legend) {\n            legend.destroy();\n        });\n        this.legends = [];\n        // 2. 重置配置\n        this.reset();\n    };\n    /**\n     * 重置配置项\n     */\n    LegendController.prototype.reset = function () {\n        this.init();\n    };\n    /**\n     * 初始化 legend 相关的属性\n     */\n    LegendController.prototype.init = function () {\n        this.options = this.getLegendOptions();\n        this.panelRange = this.view.get('panelRange');\n        this.viewRange = this.view.get('viewRange');\n        this.container = this.view.get('frontgroundGroup');\n    };\n    /**\n     * 根据相关的配置，添加一个图例\n     * @param legendOptions\n     * @param scale\n     * @param attr\n     * @param element\n     * @param filteredValues\n     */\n    LegendController.prototype.addLegend = function (legendOptions, scale, attr, element, filteredValues) {\n        var field = scale.field;\n        var fieldOption = legendOptions.fields && legendOptions.fields[field];\n        if (fieldOption === false) {\n            // 用户关闭 field 对应的图例\n            return;\n        }\n        // 自定义图例\n        if (fieldOption && fieldOption.custom) {\n            return this.addCustomLegend(field);\n        }\n        /**\n         * 其他情况为连续或者分类图例的创建过程\n         * 取 position 逻辑：\n         * 1. 如果 field 上有，则取 field 上的\n         * 2. 如果 field 上没有，则取全局的 legendOption.position\n         * 3. 如果全局也没有配置，那么给一个默认值，从主题上取\n         */\n        var position = this.getFieldLegendConfig(field, 'position', this.theme.defaultLegendPosition);\n        position = this.adjustPosition(position);\n        var legend = scale.isLinear\n            ? this.addContinuousLegend(scale, attr, position)\n            : this.addCategoryLegend(scale, attr, element, filteredValues, position);\n        if (legend) {\n            this.bindHoverEvent(legend, field);\n        }\n        return legend;\n    };\n    /**\n     * 添加连续图例\n     * @param scale\n     * @param attr\n     * @param position\n     */\n    LegendController.prototype.addContinuousLegend = function (scale, attr, position) {\n        var container = this.container.addGroup({ name: 'legend' });\n        var field = scale.field;\n        var ticks = scale.getTicks();\n        // 构造图例的 items\n        var items = _.map(ticks, function (tick) {\n            var value = tick.value; // scale 后的值\n            var tickValue = tick.tickValue; // tick text value\n            var originalValue = scale.invert(value); // original value\n            var attrValue = attr.mapping(originalValue).join('');\n            return {\n                value: tickValue,\n                color: attrValue,\n            };\n        });\n        var containsMinValue = !!_.find(ticks, function (tick) { return tick.value === 0; });\n        var containsMaxValue = !!_.find(ticks, function (tick) { return tick.value === 1; });\n        if (!containsMinValue) {\n            var attrValue = attr.mapping(0).join('');\n            items.push({\n                value: scale.min,\n                color: attrValue,\n            });\n        }\n        if (!containsMaxValue) {\n            var attrValue = attr.mapping(0).join('');\n            items.push({\n                value: scale.max,\n                color: attrValue,\n            });\n        }\n        var legendOptions = this.options;\n        var positionArr = position.split('-');\n        var defaultCfg = this.theme.legend[positionArr[0]]; // 获取默认的图例主题配置\n        var legendCfg = _.deepMix({}, defaultCfg, this.getFieldLegendOption(field, legendOptions), {\n            items: items,\n            attr: attr,\n            formatter: scale.formatter,\n            container: container,\n            position: position,\n        });\n        if (legendCfg.showTitle) {\n            _.mix(legendCfg, { title: scale.field });\n        }\n        var legend;\n        if (attr.type === 'color') {\n            legend = new Color(legendCfg);\n        }\n        else if (attr.type === 'size') {\n            legend = new Size(legendCfg);\n        }\n        else {\n            return;\n        }\n        this.bindFilterEvent(legend, scale);\n        return legend;\n    };\n    /**\n     * 添加分类图例\n     * @param scale\n     * @param attr\n     * @param element\n     * @param filteredValues\n     * @param position\n     */\n    LegendController.prototype.addCategoryLegend = function (scale, attr, element, filteredValues, position) {\n        var _this = this;\n        var legendOptions = this.options;\n        var field = scale.field;\n        var fieldOption = legendOptions.fields ? legendOptions.fields[field] : null;\n        var items = [];\n        var ticks = scale.getTicks();\n        var isByAttr = true;\n        var shapeType = element.get('shapeType') || 'point';\n        var shape = element.getDefaultValue('shape') || shapeType || 'point';\n        if (legendOptions.marker) {\n            // 用户全局自定义图例的marker\n            shape = legendOptions.marker;\n            shapeType = 'point';\n            isByAttr = false;\n        }\n        if (fieldOption && fieldOption.marker) {\n            // 用户自定义图例的marker\n            shape = fieldOption.marker;\n            shapeType = 'point';\n            isByAttr = false;\n        }\n        var view = this.view;\n        var viewTheme = this.theme;\n        var canvas = view.get('canvas');\n        var panelGroup = view.get('panelGroup');\n        var panelGroupClip = panelGroup.attr('clip');\n        var panelGroupClipBox = panelGroupClip ? panelGroupClip.getBBox() : undefined;\n        var panelRange = view.get('panelRange');\n        var viewRange = view.get('viewRange');\n        var posArray = position.split('-');\n        var maxLength = posArray[0] === 'right' || posArray[0] === 'left' // TODO\n            ? panelGroupClipBox\n                ? panelGroupClipBox.height\n                : panelRange.height\n            : panelGroupClipBox\n                ? viewRange.width - (panelRange.width - panelGroupClipBox.width)\n                : viewRange.width;\n        _.each(ticks, function (tick) {\n            var text = tick.text;\n            var name = text;\n            var scaleValue = tick.value;\n            var value = scale.invert(scaleValue);\n            var cfg = {\n                isInCircle: element.isInCircle(),\n            };\n            var checked = filteredValues ? _this.isFiltered(scale, filteredValues, value) : true;\n            var colorAttr = element.getAttr('color');\n            var shapeAttr = element.getAttr('shape');\n            if (colorAttr) {\n                // 存在颜色映射\n                if (colorAttr.callback && colorAttr.callback.length > 1) {\n                    // 多参数映射，阻止程序报错\n                    var restArgs = Array(colorAttr.callback.length - 1).fill('');\n                    cfg.color = colorAttr.mapping.apply(colorAttr, __spreadArrays([value], restArgs)).join('') || viewTheme.defaultColor;\n                }\n                else {\n                    cfg.color = colorAttr.mapping(value).join('') || viewTheme.defaultColor;\n                }\n            }\n            if (isByAttr && shapeAttr && shapeAttr.scales.length) {\n                // 存在形状映射\n                if (shapeAttr.callback && shapeAttr.callback.length > 1) {\n                    // 多参数映射，阻止程序报错\n                    var restArgs = Array(shapeAttr.callback.length - 1).fill('');\n                    shape = shapeAttr.mapping.apply(shapeAttr, __spreadArrays([value], restArgs)).join('');\n                }\n                else {\n                    shape = shapeAttr.mapping(value).join('');\n                }\n            }\n            var shapeObject = getShapeFactory(shapeType);\n            var marker = shapeObject.getMarkerStyle(shape, cfg);\n            // 补充 marker 为自定义形状场景。\n            if (_.isFunction(shape)) {\n                marker.symbol = shape;\n            }\n            items.push({\n                value: name,\n                dataValue: value,\n                checked: checked,\n                marker: marker,\n            });\n        });\n        var useHtml = !!legendOptions.useHtml || !!(fieldOption && fieldOption.useHtml);\n        var defaultLegendCfg;\n        var layout;\n        var maxWidth;\n        var maxHeight;\n        switch (posArray[0]) {\n            case 'left':\n                /*maxHeight = viewRange.height;\n                  maxWidth = panelRange.x - viewRange.x;*/\n                maxHeight = panelGroupClipBox ? panelGroupClipBox.height : panelRange.height;\n                maxWidth = panelRange.x - viewRange.x;\n                layout = 'vertical';\n                break;\n            case 'right':\n                /*maxHeight = viewRange.height;\n                  maxWidth = viewRange.tr.x - panelRange.tr.x;*/\n                maxHeight = panelGroupClipBox ? panelGroupClipBox.height : panelRange.height;\n                maxWidth = viewRange.tr.x - panelRange.tr.x;\n                layout = 'vertical';\n                break;\n            case 'top':\n                /*maxHeight = panelRange.tr.y - viewRange.tr.y;\n                  maxWidth = viewRange.width;*/\n                maxHeight = panelRange.tr.y - viewRange.tr.y;\n                maxWidth = panelGroupClipBox ? viewRange.width - (panelRange.width - panelGroupClipBox.width) : viewRange.width;\n                layout = 'horizontal';\n                break;\n            case 'bottom':\n                /*maxHeight = viewRange.br.y - panelRange.br.y;\n                  maxWidth = viewRange.width;*/\n                maxHeight = viewRange.br.y - panelRange.br.y;\n                maxWidth = panelGroupClipBox ? viewRange.width - (panelRange.width - panelGroupClipBox.width) : viewRange.width;\n                layout = 'horizontal';\n                break;\n            default:\n                break;\n        }\n        if (useHtml) {\n            defaultLegendCfg = _.mix({}, viewTheme.legend.html, {\n                maxHeight: maxHeight,\n                maxWidth: maxWidth,\n                layout: layout,\n            });\n        }\n        else {\n            defaultLegendCfg = _.mix({}, viewTheme.legend[posArray[0]], {\n                maxHeight: maxHeight,\n                maxWidth: maxWidth,\n                layout: layout,\n                container: this.container.addGroup({ name: 'legend' }),\n            });\n        }\n        var legendCfg = _.deepMix({}, defaultLegendCfg, legendOptions, fieldOption, {\n            maxLength: maxLength,\n            canvas: canvas,\n            items: items,\n            position: position,\n        });\n        if (legendCfg.showTitle) {\n            _.mix(legendCfg, {\n                title: scale.alias || scale.field,\n            });\n        }\n        var legend = useHtml ? new HtmlCategory(legendCfg) : new CanvasCategory(legendCfg);\n        this.bindClickEvent(legend, scale, filteredValues, legendCfg.onClick);\n        return legend;\n    };\n    /**\n     * 添加自定义图例\n     * @param field\n     */\n    LegendController.prototype.addCustomLegend = function (field) {\n        var viewTheme = this.theme;\n        var view = this.view;\n        var container = this.container.addGroup({ name: 'legend' });\n        var canvas = container.get('canvas');\n        var panelRange = this.panelRange;\n        var legendOptions = this.options;\n        var fieldOption;\n        if (_.isObject(legendOptions)) {\n            fieldOption = legendOptions.fields ? legendOptions.fields[field] : {};\n        }\n        var position = fieldOption.position || legendOptions.position || viewTheme.defaultLegendPosition;\n        position = this.adjustPosition(position);\n        var items = fieldOption.items || legendOptions.items;\n        if (!items) {\n            return;\n        }\n        _.each(items, function (item) {\n            if (!_.isPlainObject(item.marker)) {\n                // 直接传入字符串或者回调函数时转换为对象，如 item.marker = 'circle'\n                item.marker = {\n                    symbol: item.marker || 'circle',\n                    radius: MARKER_SIZE,\n                };\n                if (_.contains(STROKE_MARKERS, item.marker.symbol)) {\n                    // 支持描边 marker 的绘制\n                    item.marker.stroke = item.color;\n                }\n                else {\n                    item.marker.fill = item.color;\n                }\n            }\n            else {\n                // 用户传入对象 item.marker = { symbol: 'circle', fill: 'red', radius: 3 }\n                item.marker.radius = item.marker.radius || MARKER_SIZE;\n            }\n            var symbol = item.marker.symbol;\n            if (_.isString(symbol) && symbol.indexOf('hollow') !== -1) {\n                // 支持 hollowCircle 等\n                item.marker.symbol = _.lowerFirst(symbol.substr(6));\n            }\n            item.checked = _.isNil(item.checked) ? true : item.checked;\n        });\n        var posArray = position.split('-');\n        var maxLength = posArray[0] === 'right' || posArray[0] === 'left' ? panelRange.height : this.viewRange.width;\n        var legendCfg = _.deepMix({}, viewTheme.legend[posArray[0]], legendOptions, fieldOption, {\n            maxLength: maxLength,\n            viewTheme: viewTheme,\n            items: items,\n            container: container,\n            canvas: canvas,\n        });\n        var useHtml = !!legendCfg.useHtml;\n        var legend = useHtml ? new HtmlCategory(legendCfg) : new CanvasCategory(legendCfg);\n        legend.on('itemclick', function (ev) {\n            if (legendOptions.onClick) {\n                // 用户自定义图例点击事件\n                legendOptions.onClick(ev);\n            }\n        });\n        this.bindHoverEvent(legend); // 用户自定义 hover 图例项的事件交互\n        return legend;\n    };\n    /**\n     * 根据 position 布局图例位置，将图例 moveTo 到对应的位置\n     */\n    LegendController.prototype.alignLegends = function () {\n        var _this = this;\n        var totalRegion = this.getRegion();\n        this.totalRegion = totalRegion;\n        var legendGroup = this.groupLegendByPosition();\n        var i = 0;\n        _.each(legendGroup, function (legendItems, position) {\n            var region = totalRegion.subs[i];\n            _.each(legendItems, function (legend, index) {\n                var pre = legendItems[index - 1];\n                // if (!(legend.get('useHtml') && !legend.get('autoPosition'))) {\n                _this.alignLegend(legend, pre, region, position);\n                // }\n            });\n            i++;\n        });\n    };\n    /**\n     * 布局某些方法需要根据view的方法来写\n     * @param legend\n     * @param pre\n     * @param region\n     * @param position\n     */\n    LegendController.prototype.alignLegend = function (legend, pre, region, position) {\n        var viewTheme = this.theme;\n        var width = this.viewRange.width;\n        var height = this.viewRange.height;\n        var totalRegion = this.totalRegion;\n        var legendGroup = this.groupLegendByPosition();\n        var backPlot = this.viewRange; // 背景 BBox\n        var offsetX = legend.get('offsetX') || 0;\n        var offsetY = legend.get('offsetY') || 0;\n        var legendHeight = legend.getHeight();\n        var legendWidth = legend.getWidth();\n        var borderMargin = viewTheme.legend.margin;\n        var innerMargin = viewTheme.legend.legendMargin;\n        var legendNum = legendGroup[position].length;\n        var posArray = position.split('-');\n        var x = 0;\n        var y = 0;\n        var tempoRegion = legendNum > 1 ? totalRegion : region;\n        if (posArray[0] === 'left' || posArray[0] === 'right') {\n            height = backPlot.maxY;\n            x = this.getXAlign(posArray[0], width, region, backPlot, legendWidth, borderMargin);\n            if (pre) {\n                var preY = pre.get('y');\n                y = preY + pre.getHeight() + innerMargin;\n            }\n            else {\n                y = this.getYAlignVertical(posArray[1], height, tempoRegion, backPlot, 0, borderMargin, this.viewRange.height);\n            }\n        }\n        else if (posArray[0] === 'top' || posArray[0] === 'bottom') {\n            y = this.getYAlignHorizontal(posArray[0], height, region, backPlot, legendHeight, borderMargin);\n            if (pre) {\n                var preWidth = pre.getWidth();\n                var preX = pre.get('x');\n                x = preX + preWidth + innerMargin;\n            }\n            else {\n                x = this.getXAlign(posArray[1], width, tempoRegion, backPlot, legendWidth, borderMargin);\n            }\n        }\n        legend.moveTo(x + offsetX, y + offsetY);\n    };\n    // @ts-ignore\n    LegendController.prototype.getXAlign = function (pos, width, region, backPlot, legendWidth, borderMargin) {\n        var x = pos === 'left' ? backPlot.minX + borderMargin[3] : backPlot.maxX - borderMargin[1] - legendWidth;\n        if (pos === 'center') {\n            x = (width - region.totalWidth) / 2;\n        }\n        return x;\n    };\n    LegendController.prototype.getYAlignHorizontal = function (pos, height, region, backPlot, legendHeight, borderMargin) {\n        var y = pos === 'top' ? backPlot.minY + borderMargin[0] : backPlot.maxY - borderMargin[2] - legendHeight;\n        return y;\n    };\n    LegendController.prototype.getYAlignVertical = function (pos, height, region, backPlot, legendHeight, borderMargin, canvasHeight) {\n        var y = pos === 'top' ? backPlot.minY + borderMargin[0] : backPlot.maxY - region.totalHeight - borderMargin[2];\n        if (pos === 'center') {\n            // y = (canvasHeight - region.totalHeight) / 2;\n            y = backPlot.minY + (backPlot.height - region.totalHeight) / 2;\n        }\n        return y;\n    };\n    LegendController.prototype.adjustPosition = function (position) {\n        var positionArr = position.split('-');\n        if (positionArr.length === 1) {\n            var pos = positionArr[0];\n            return pos === 'left'\n                ? 'left-bottom'\n                : pos === 'right'\n                    ? 'right-bottom'\n                    : pos === 'top'\n                        ? 'top-center'\n                        : pos === 'bottom'\n                            ? 'bottom-center'\n                            : '';\n        }\n        return positionArr.slice(0, 2).join('-');\n    };\n    LegendController.prototype.bindClickEvent = function (legend, scale, filteredValues, onClick) {\n        var _this = this;\n        var view = this.view;\n        var field = scale.field;\n        legend.on('itemclick', function (ev) {\n            if (onClick) {\n                // 用户自定义图例点击交互行为\n                onClick(ev);\n            }\n            else {\n                var item = ev.item;\n                var checked = ev.checked;\n                var isSingeSelected_1 = legend.get('selectedMode') === 'single'; // 图例的选中模式\n                var clickedValue_1 = item.dataValue; // import: 需要取该图例项原始的数值\n                if (checked) {\n                    _.pull(filteredValues, clickedValue_1);\n                    if (_this.isFieldInView(field, clickedValue_1)) {\n                        view.filter(field, function (f) {\n                            return isSingeSelected_1 ? f === clickedValue_1 : !_.contains(filteredValues, f);\n                        });\n                    }\n                }\n                else if (!isSingeSelected_1) {\n                    // 未选中状态\n                    filteredValues.push(clickedValue_1);\n                    if (_this.isFieldInView(field, clickedValue_1)) {\n                        view.filter(field, function (f) {\n                            return !_.contains(filteredValues, f);\n                        });\n                    }\n                }\n                view.set('keepLegend', true); // 图例不重新渲染\n                // view.set('keepPadding', true); // 边框不重新计算\n                view.repaint(); // 在动画开启的状态下，图例过滤会触发更新动画，需要设置 view.set('isUpdate', true);\n                // view.set('keepPadding', false);\n                view.set('keepLegend', false);\n            }\n        });\n    };\n    /* 图例的 hover 事件 */\n    LegendController.prototype.bindHoverEvent = function (legend, field) {\n        var onMouseover = legend.get('onMouseover');\n        var onMouseleave = legend.get('onMouseleave');\n        legend.on('itemmouseover', function (ev) {\n            if (onMouseover) {\n                // 由用户自定义 onHover 交互行为\n                onMouseover(ev);\n            }\n        });\n        legend.on('itemmouseleave', function (ev) {\n            if (onMouseleave) {\n                onMouseleave(ev);\n            }\n        });\n    };\n    LegendController.prototype.getRegion = function () {\n        var _this = this;\n        var theme = this.theme;\n        var innerMargin = theme.legend.legendMargin;\n        var subs = [];\n        var totalWidth = 0;\n        var totalHeight = 0;\n        var legendGroup = this.groupLegendByPosition();\n        _.each(legendGroup, function (legendItems) {\n            var subRegion = _this.getSubRegion(legendItems);\n            subs.push(subRegion);\n            totalWidth += subRegion.totalWidth + innerMargin;\n            totalHeight += subRegion.totalHeight + innerMargin;\n        });\n        return {\n            totalWidth: totalWidth,\n            totalHeight: totalHeight,\n            subs: subs,\n        };\n    };\n    LegendController.prototype.getSubRegion = function (legends) {\n        var maxWidth = 0;\n        var maxHeight = 0;\n        var totalWidth = 0;\n        var totalHeight = 0;\n        _.each(legends, function (legend) {\n            var width = legend.getWidth();\n            var height = legend.getHeight();\n            if (maxWidth < width) {\n                maxWidth = width;\n            }\n            totalWidth += width;\n            if (maxHeight < height) {\n                maxHeight = height;\n            }\n            totalHeight += height;\n        });\n        return {\n            maxWidth: maxWidth,\n            totalWidth: totalWidth,\n            maxHeight: maxHeight,\n            totalHeight: totalHeight,\n        };\n    };\n    LegendController.prototype.isFiltered = function (scale, filterVals, scaleValue) {\n        if (!scale.isCategory) {\n            return true;\n        }\n        var rst = true;\n        _.each(filterVals, function (val) {\n            if (scale.getText(val) === scale.getText(scaleValue)) {\n                rst = false;\n                return false;\n            }\n        });\n        return rst;\n    };\n    LegendController.prototype.isFieldInView = function (field, value) {\n        var flag = false;\n        var scales = this.view.get('scales');\n        var fieldScale = scales[field];\n        if (fieldScale && fieldScale.values) {\n            flag = _.contains(fieldScale.values, value);\n        }\n        return flag;\n    };\n    LegendController.prototype.getLegendOptions = function () {\n        return _.get(this.view.get('options'), 'legends', {} // 默认为空\n        );\n    };\n    /**\n     * 拿某一个字段上图例的配置，举例 position\n     * 如果 field 上拿不到则使用 全局的，如果全局也没有，那么使用主题配置的默认\n     * @param key\n     * @param filed\n     * @param defaultValue\n     */\n    LegendController.prototype.getFieldLegendConfig = function (filed, key, defaultValue) {\n        var legendOptions = this.options;\n        var fieldOption = _.get(legendOptions, \"fields.\" + filed, {});\n        return fieldOption[key] ? fieldOption[key] : legendOptions[key] ? legendOptions[key] : defaultValue;\n    };\n    /**\n     * 连续图例，监听 item filter 事件\n     * @param legend\n     * @param scale\n     */\n    LegendController.prototype.bindFilterEvent = function (legend, scale) {\n        var _this = this;\n        var field = scale.field;\n        legend.on('itemfilter', function (_a) {\n            var range = _a.range;\n            var min = range[0], max = range[1];\n            // 根据 legend 范围来\n            _this.filterShape(field, min, max);\n            // todo heatmap 特殊逻辑\n            // const elements = this.view.getElements();\n            // _.each(elements, (element: Element) => {\n            //   if (element.get('type') === 'heatmap') {\n            //     _.requestAnimationFrame(() => {\n            //       element.drawWithRange(range);\n            //     });\n            //   }\n            // });\n        });\n    };\n    /**\n     * 过滤 view 中的 shape，超过范围的隐藏，范围内的显示\n     * @param field 字段\n     * @param min 最小值\n     * @param max 最大值\n     */\n    LegendController.prototype.filterShape = function (field, min, max) {\n        var _this = this;\n        var callback = function (record, shape, element, view) {\n            var v = record[field];\n            if (_.isNil(v)) {\n                shape.show();\n            }\n            else {\n                var visible = v >= min && v <= max;\n                // shape 带 label，则还需要隐藏 label\n                _this.filterLabels(shape, element, visible);\n                // 显示还是隐藏 shape\n                visible ? shape.show() : shape.hide();\n            }\n        };\n        // 针对 view 中的每一个 shape 执行 callback\n        this.view.eachShape(callback);\n    };\n    /**\n     * 根据位置进行图例分类\n     * @param position 图例位置\n     */\n    LegendController.prototype.groupLegendByPosition = function () {\n        return _.groupBy(this.legends, function (legend) { return legend.get('position'); });\n    };\n    /**\n     * 处理 shape 上的 label 显示还是隐藏\n     * @param shape\n     * @param element\n     * @param visible\n     */\n    LegendController.prototype.filterLabels = function (shape, element, visible) {\n        if (shape.get('gLabel')) {\n            // shape 中缓存了 gLabel Shape\n            shape.get('gLabel').set('visible', visible);\n        }\n        else {\n            /* 从 label 中获取 shape 对应的 label item */\n            var labelOptions = element.get('labelOptions');\n            if (!_.isEmpty(_.get(labelOptions, 'fields'))) {\n                var xField_1 = element.getXScale().field;\n                var yField_1 = element.getYScale().field;\n                var shapeData_1 = shape.get('origin')._origin;\n                var labels = element.get('labels');\n                _.each(labels, function (label) {\n                    var labelData = label.get('origin') || [];\n                    if (labelData[xField_1] === shapeData_1[xField_1] && labelData[yField_1] === shapeData_1[yField_1]) {\n                        label.set('visible', visible);\n                        shape.set('gLabel', label);\n                    }\n                });\n            }\n        }\n    };\n    /**\n     * 获取某一个字段的 legendOption；如果不存在字段配置，则使用全局配置\n     * @param field\n     * @param defaultValue\n     */\n    LegendController.prototype.getFieldLegendOption = function (field, defaultValue) {\n        if (defaultValue === void 0) { defaultValue = {}; }\n        return _.get(this.getLegendOptions(), \"fields.\" + field, defaultValue);\n    };\n    return LegendController;\n}());\nexport default LegendController;\n//# sourceMappingURL=legend.js.map","import { Axis } from '@antv/component';\nimport { vec2 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nfunction formatTicks(ticks) {\n    var tmp = [];\n    if (ticks.length) {\n        tmp = ticks.slice(0);\n        var first = tmp[0];\n        var last = tmp[tmp.length - 1];\n        if (first.value !== 0) {\n            tmp.unshift({\n                value: 0,\n            });\n        }\n        if (last.value !== 1) {\n            tmp.push({\n                value: 1,\n            });\n        }\n    }\n    return tmp;\n}\nfunction fillAxisTicks(ticks, isLinear, gridCentering) {\n    var result = [];\n    if (!ticks.length) {\n        return result;\n    }\n    if (ticks.length >= 2 && isLinear && gridCentering) {\n        result.push({\n            text: '',\n            tickValue: '',\n            value: 0,\n        });\n    }\n    if (ticks[0].value !== 0) {\n        result.push({\n            text: '',\n            tickValue: '',\n            value: 0,\n        });\n    }\n    result = result.concat(ticks);\n    if (result[result.length - 1].value !== 1) {\n        result.push({\n            text: '',\n            tickValue: '',\n            value: 1,\n        });\n    }\n    return result;\n}\nfunction getDefaultValueFromPosition(position, v) {\n    if (v === void 0) { v = 0; }\n    var val = v;\n    if (position === 'middle') {\n        val = 0.5;\n    }\n    if (position.indexOf('%') !== -1) {\n        val = parseInt(position, 10) / 100;\n    }\n    return val;\n}\nvar AxisController = /** @class */ (function () {\n    function AxisController(cfg) {\n        this.title = null;\n        this.visible = true;\n        this.canvas = null;\n        this.container = null;\n        this.coord = null;\n        this.options = null;\n        this.axes = [];\n        this.theme = null;\n        _.mix(this, cfg);\n    }\n    AxisController.prototype.createAxis = function (xScale, yScales, viewId) {\n        var _this = this;\n        var coord = this.coord;\n        var coordType = coord.type;\n        // theta坐标系默认不绘制坐标轴\n        if (coordType !== 'theta' && !(coordType === 'polar' && coord.isTransposed)) {\n            var xAxis_1;\n            if (xScale && !this._isHide(xScale.field)) {\n                xAxis_1 = this._drawAxis(coord, xScale, yScales[0], 'x', viewId); // 绘制 x 轴\n            }\n            if (!_.isEmpty(yScales) && coordType !== 'helix') {\n                _.each(yScales, function (yScale, index) {\n                    if (!_this._isHide(yScale.field)) {\n                        _this._drawAxis(coord, yScale, xScale, 'y', viewId, xAxis_1, index);\n                    }\n                });\n            }\n        }\n    };\n    AxisController.prototype.changeVisible = function (visible) {\n        var axes = this.axes;\n        _.each(axes, function (axis) {\n            axis.set('visible', visible);\n        });\n    };\n    AxisController.prototype.clear = function () {\n        var axes = this.axes;\n        _.each(axes, function (axis) {\n            axis.clear();\n        });\n        this.axes = [];\n    };\n    // 根据字段名获取对应的坐标轴配置\n    AxisController.prototype._getAxisOptionByField = function (field, defaultValue) {\n        if (defaultValue === void 0) { defaultValue = {}; }\n        return _.get(this.options, \"fields.\" + field, defaultValue);\n    };\n    // 对应的坐标轴是否隐藏\n    AxisController.prototype._isHide = function (field) {\n        return this._getAxisOptionByField(field) === false;\n    };\n    AxisController.prototype._getMiddleValue = function (curValue, ticks, index, isLinear) {\n        if (curValue === 0 && !isLinear) {\n            return 0;\n        }\n        if (curValue === 1) {\n            return 1;\n        }\n        var nextValue = ticks[index + 1].value;\n        if (!isLinear && nextValue === 1) {\n            return 1;\n        }\n        return (curValue + nextValue) / 2;\n    };\n    AxisController.prototype._getLineRange = function (coord, scale, dimType, index) {\n        var start;\n        var end;\n        var isVertical;\n        var field = scale.field;\n        var position = this._getAxisOptionByField(field).position || ''; // 获取用户自己配置的 position\n        // TODO middle & percentage for position\n        if (dimType === 'x') { // x轴的坐标轴,底部的横坐标\n            var y = (position === 'top') ? 1 : 0;\n            y = getDefaultValueFromPosition(position, y);\n            start = { x: 0, y: y };\n            end = { x: 1, y: y };\n            isVertical = false;\n        }\n        else { // y轴坐标轴\n            if (index) { // 多轴的情况\n                var x = (position === 'left') ? 0 : 1;\n                x = getDefaultValueFromPosition(position, x);\n                start = { x: x, y: 0 };\n                end = { x: x, y: 1 };\n            }\n            else { // 单个y轴，或者第一个y轴\n                var x = (position === 'right') ? 1 : 0;\n                x = getDefaultValueFromPosition(position, x);\n                start = { x: x, y: 0 };\n                end = { x: x, y: 1 };\n            }\n            isVertical = true;\n        }\n        start = coord.convert(start);\n        end = coord.convert(end);\n        return {\n            start: start,\n            end: end,\n            isVertical: isVertical,\n        };\n    };\n    AxisController.prototype._getLineCfg = function (coord, scale, dimType, index) {\n        var factor;\n        var range = this._getLineRange(coord, scale, dimType, index);\n        var start = range.start, end = range.end;\n        var center = coord.center, isTransposed = coord.isTransposed;\n        var isVertical = isTransposed ? !range.isVertical : range.isVertical; // 标识该坐标轴是否是纵坐标\n        if ((isVertical && (start.x > center.x)) || (!isVertical && (start.y > center.y))) {\n            factor = 1;\n        }\n        else {\n            factor = -1;\n        }\n        return {\n            isVertical: isVertical,\n            factor: factor,\n            start: start,\n            end: end,\n        };\n    };\n    // 获取圆弧坐标轴配置项信息\n    AxisController.prototype._getCircleCfg = function (coord) {\n        var rangeX = coord.x, rangeY = coord.y, isTransposed = coord.isTransposed, center = coord.circleCenter, innerRadius = coord.innerRadius;\n        var isReflectY = rangeY.start > rangeY.end;\n        var start;\n        if (isTransposed) {\n            start = { x: isReflectY ? 0 : 1, y: 0 };\n        }\n        else {\n            start = { x: 0, y: isReflectY ? 0 : 1 };\n        }\n        start = coord.convert(start);\n        var startVector = [start.x - center.x, start.y - center.y];\n        var normalVector = [1, 0];\n        var startAngle;\n        if (start.y > center.y) {\n            startAngle = vec2.angle(startVector, normalVector);\n        }\n        else {\n            startAngle = vec2.angle(startVector, normalVector) * -1;\n        }\n        var endAngle = startAngle + (rangeX.end - rangeX.start);\n        return {\n            startAngle: startAngle,\n            endAngle: endAngle,\n            center: center,\n            radius: Math.sqrt(Math.pow(start.x - center.x, 2) + Math.pow(start.y - center.y, 2)),\n            inner: innerRadius || 0,\n        };\n    };\n    AxisController.prototype._getRadiusCfg = function (coord) {\n        var startAngle = coord.x.start;\n        var factor = startAngle < 0 ? -1 : 1;\n        var start;\n        var end;\n        if (coord.isTransposed) {\n            start = { x: 0, y: 0 };\n            end = { x: 1, y: 0 };\n        }\n        else {\n            start = { x: 0, y: 0 };\n            end = { x: 0, y: 1 };\n        }\n        return {\n            factor: factor,\n            start: coord.convert(start),\n            end: coord.convert(end),\n        };\n    };\n    AxisController.prototype._getHelixCfg = function (coord) {\n        var helixCfg = {};\n        var a = coord.a, startAngle = coord.startAngle, endAngle = coord.endAngle, center = coord.center, y = coord.y;\n        var index = 100;\n        var crp = [];\n        for (var i = 0; i <= index; i++) {\n            var point = coord.convert({ x: i / 100, y: 0 });\n            crp.push(point.x);\n            crp.push(point.y);\n        }\n        var axisStart = coord.convert({ x: 0, y: 0 });\n        return {\n            a: a,\n            startAngle: startAngle,\n            endAngle: endAngle,\n            crp: crp,\n            axisStart: axisStart,\n            center: center,\n            inner: y.start,\n        };\n    };\n    // 确定坐标轴的位置\n    AxisController.prototype._getAxisPosition = function (coord, dimType, index, field) {\n        if (this._getAxisOptionByField(field).position) { // 用户自己定义了 position\n            return this._getAxisOptionByField(field).position;\n        }\n        var position = '';\n        var coordType = coord.type;\n        if (coord.isRect) {\n            if (dimType === 'x') {\n                position = 'bottom';\n            }\n            else if (dimType === 'y') {\n                if (index) {\n                    position = 'right';\n                }\n                else {\n                    position = 'left';\n                }\n            }\n        }\n        else if (coordType === 'helix') {\n            position = 'helix';\n        }\n        else if (dimType === 'x') {\n            position = coord.isTransposed ? 'radius' : 'circle';\n        }\n        else {\n            position = coord.isTransposed ? 'circle' : 'radius';\n        }\n        return position;\n    };\n    // 获取坐标轴构成的配置信息\n    AxisController.prototype._getAxisDefaultCfg = function (coord, scale, type, position) {\n        var theme = this.theme;\n        var field = scale.field;\n        var cfg = {\n            coord: coord,\n            theme: theme.axis[position],\n        };\n        cfg = _.deepMix({}, theme.axis[position], cfg, this._getAxisOptionByField(field));\n        if (cfg.showTitle) { // 展示坐标轴标题\n            var title = _.get(cfg, 'title', {});\n            title.text = title.text || scale.alias || field;\n            _.deepMix(cfg, { title: title });\n        }\n        cfg.ticks = scale.getTicks();\n        if (coord.isPolar && !scale.isCategory) {\n            if (type === 'x' && Math.abs(coord.endAngle - coord.startAngle) === Math.PI * 2) {\n                cfg.ticks.pop();\n            }\n        }\n        return cfg;\n    };\n    // 确定坐标轴的配置信息\n    AxisController.prototype._getAxisCfg = function (coord, scale, verticalScale, dimType, index, viewId) {\n        var _this = this;\n        if (index === void 0) { index = ''; }\n        var position = this._getAxisPosition(coord, dimType, index, scale.field);\n        var cfg = this._getAxisDefaultCfg(coord, scale, dimType, position);\n        if (cfg.grid && verticalScale) { // 生成 gridPoints\n            var gridPoints_1 = [];\n            var verticalTicks_1 = formatTicks(verticalScale.getTicks());\n            // 没有垂直的坐标点时不绘制栅格\n            if (verticalTicks_1.length) {\n                var ticks_1 = fillAxisTicks(cfg.ticks, scale.isLinear, cfg.gridAlign === 'center');\n                _.each(ticks_1, function (tick, idx) {\n                    var subPoints = [];\n                    var value = tick.value;\n                    if (cfg.gridAlign === 'center') {\n                        value = _this._getMiddleValue(value, ticks_1, idx, scale.isLinear);\n                    }\n                    if (!_.isNil(value)) {\n                        var rangeX_1 = coord.x;\n                        var rangeY_1 = coord.y;\n                        _.each(verticalTicks_1, function (verticalTick) {\n                            var x = dimType === 'x' ? value : verticalTick.value;\n                            var y = dimType === 'x' ? verticalTick.value : value;\n                            var point = coord.convert({ x: x, y: y });\n                            if (coord.isPolar) {\n                                var center = coord.circleCenter;\n                                if (rangeY_1.start > rangeY_1.end) {\n                                    y = 1 - y;\n                                }\n                                point.flag = rangeX_1.start > rangeX_1.end ? 0 : 1;\n                                point.radius = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n                            }\n                            subPoints.push(point);\n                        });\n                        gridPoints_1.push({\n                            id: viewId + \"-\" + dimType + index + \"-grid-\" + tick.tickValue,\n                            points: subPoints,\n                        });\n                    }\n                });\n            }\n            cfg.gridPoints = gridPoints_1;\n        }\n        return cfg;\n    };\n    AxisController.prototype._drawAxis = function (coord, scale, verticalScale, dimType, viewId, xAxis, index) {\n        var container = this.container;\n        var canvas = this.canvas;\n        var C; // 坐标轴类\n        var appendCfg; // 每个坐标轴 start end 等绘制边界的信息\n        if (coord.type === 'cartesian') {\n            C = Axis.Line;\n            appendCfg = this._getLineCfg(coord, scale, dimType, index);\n        }\n        else if (coord.type === 'helix' && dimType === 'x') {\n            C = Axis.Helix;\n            appendCfg = this._getHelixCfg(coord);\n        }\n        else if (dimType === 'x') {\n            C = Axis.Circle;\n            appendCfg = this._getCircleCfg(coord);\n        }\n        else {\n            C = Axis.Line;\n            appendCfg = this._getRadiusCfg(coord);\n        }\n        var cfg = this._getAxisCfg(coord, scale, verticalScale, dimType, index, viewId);\n        cfg = _.mix({}, cfg, appendCfg);\n        if (dimType === 'y' && xAxis && xAxis.get('type') === 'circle') {\n            cfg.circle = xAxis;\n        }\n        cfg.id = !_.isNil(index) ? viewId + \"-\" + dimType + index : viewId + \"-\" + dimType;\n        _.mix(cfg, {\n            canvas: canvas,\n            group: container.addGroup(),\n        });\n        var axis = new C(cfg);\n        axis.render();\n        this.axes.push(axis);\n        return axis;\n    };\n    return AxisController;\n}());\nexport default AxisController;\n//# sourceMappingURL=axis.js.map","import { Tooltip } from '@antv/component';\nimport * as matrixUtil from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport { getShapeFactory } from '../../element/shape/base';\nvar Vector2 = matrixUtil.vec2;\nvar TYPE_SHOW_MARKERS = ['line', 'area', 'path']; // 默认展示 tooltip marker 的几何图形\nvar TYPE_SHOW_CROSSHAIRS = ['line', 'area']; // 默认展示十字瞄准线的几何图形\n// TODO FIXME this is HARD CODING\nvar IGNORE_TOOLTIP_ITEM_PROPERTIES = ['marker', 'showMarker'];\nvar _indexOfArray = function (items, item) {\n    var rst = -1;\n    _.each(items, function (sub, index) {\n        var isEqual = true;\n        for (var key in item) {\n            if (item.hasOwnProperty(key) && IGNORE_TOOLTIP_ITEM_PROPERTIES.indexOf(key) === -1) {\n                if (!_.isObject(item[key]) && item[key] !== sub[key]) {\n                    isEqual = false;\n                    break;\n                }\n            }\n        }\n        if (isEqual) {\n            rst = index;\n            return false;\n        }\n    });\n    return rst;\n};\n// 判断是否有样式\nvar _hasClass = function (dom, className) {\n    var cls = dom.className;\n    return cls && cls.indexOf(className) !== -1;\n};\nvar _isParent = function (dom, cls) {\n    var parent = dom.parentNode;\n    var rst = false;\n    while (parent && parent !== document.body) {\n        if (_hasClass(parent, cls)) {\n            rst = true;\n            break;\n        }\n        parent = parent.parentNode;\n    }\n    return rst;\n};\n// 去除重复的值, 去除不同图形相同数据，只展示一份即可\nvar _uniqItems = function (items) {\n    var tmp = [];\n    _.each(items, function (item) {\n        var index = _indexOfArray(tmp, item);\n        if (index === -1) {\n            tmp.push(item);\n        }\n    });\n    return tmp;\n};\nvar TooltipController = /** @class */ (function () {\n    function TooltipController(cfg) {\n        var _this = this;\n        this.timeStamp = 0;\n        this.onMouseMove = function (ev) {\n            var group = _this.view.get('panelGroup');\n            var lastTimeStamp = _this.timeStamp;\n            var timeStamp = +new Date();\n            var point = {\n                x: ev.x - (group.get('x') || 0),\n                y: ev.y - (group.get('y') || 0),\n            };\n            if (timeStamp - lastTimeStamp > 16) {\n                _this.showTooltip(point, _this.view, ev.target);\n                _this.timeStamp = timeStamp;\n            }\n        };\n        this.onMouseOut = function (ev) {\n            // const tooltip = this.tooltip;\n            // if (!tooltip.get('visible') || !tooltip.get('follow')) {\n            //   return;\n            // }\n            if (ev && !ev.event) {\n                // 如果鼠标 hover 到 tooltipContainer 内容框上不需要 hideTooltip\n                return;\n            }\n            _this.hideTooltip();\n        };\n        _.assign(this, cfg);\n    }\n    TooltipController.prototype.renderTooltip = function () {\n        var _this = this;\n        if (this.tooltip) {\n            // tooltip 对象已经创建\n            return;\n        }\n        var view = this.view;\n        var theme = this.theme;\n        var canvas = this._getCanvas();\n        var defaultCfg = this._getDefaultTooltipOptions();\n        var options = this.options;\n        options = _.deepMix({\n            panelGroup: view.get('panelGroup'),\n            panelRange: view.get('panelRange'),\n            capture: false,\n            canvas: canvas,\n            frontgroundGroup: view.get('frontgroundGroup'),\n            theme: theme.tooltip,\n            backgroundGroup: view.get('backgroundGroup'),\n        }, defaultCfg, options);\n        if (options.crosshairs && options.crosshairs.type === 'rect') {\n            options.zIndex = 0; // toolip 背景框不可遮盖住 geom，防止用户配置了 crosshairs\n        }\n        options.visible = false;\n        var tooltip;\n        if (options.useHtml) {\n            tooltip = new Tooltip.Html(options);\n            var triggerEvent_1 = this._getTriggerEvent();\n            if (!tooltip.get('enterable') && triggerEvent_1 === 'panel:mousemove') {\n                var tooltipContainer = tooltip.get('container');\n                if (tooltipContainer) {\n                    tooltipContainer.onmousemove = function (e) {\n                        // 避免 tooltip 频繁闪烁\n                        var eventObj = _this._normalizeEvent(e);\n                        view.emit(triggerEvent_1, eventObj);\n                    };\n                }\n            }\n        }\n        else {\n            tooltip = new Tooltip.Canvas(options);\n        }\n        this.tooltip = tooltip;\n        // 需要保存当前 tooltip 的配置项，否则当用户关闭 tooltip 再手动调用 view.showTooltip() 时会报错\n        this.options = options;\n        this._bindEvent();\n    };\n    TooltipController.prototype._normalizeEvent = function (event) {\n        var view = this.view;\n        var canvas = this._getCanvas();\n        var point = canvas.getPointByClient(event.clientX, event.clientY);\n        var pixelRatio = canvas.get('pixelRatio');\n        point.x = point.x / pixelRatio;\n        point.y = point.y / pixelRatio;\n        point.view = view;\n        return point;\n    };\n    TooltipController.prototype.hideTooltip = function () {\n        var tooltip = this.tooltip;\n        if (tooltip.get('visible')) {\n            // 优化，只有 tooltip 处于 visible: true 状态时才隐藏，否则会造成 canvas 的不断重绘\n            var view = this.view;\n            var canvas = this._getCanvas();\n            this.prePoint = null;\n            tooltip.hide();\n            view.emit('tooltip:hide', {\n                tooltip: tooltip,\n            });\n            view.setActive(function () {\n                return false;\n            });\n            canvas.draw();\n        }\n    };\n    TooltipController.prototype.showTooltip = function (point, view, target) {\n        var _this = this;\n        if (!point) {\n            return;\n        }\n        if (!this.tooltip) {\n            this.renderTooltip(); // 如果一开始 tooltip 关闭，用户重新调用的时候需要先生成 tooltip\n        }\n        var options = this.options;\n        var markersItems = [];\n        var items = [];\n        var elements = view.getElements();\n        var coord = view.get('coord');\n        _.each(elements, function (element) {\n            var type = element.get('type');\n            if (element.get('visible') && element.get('tooltipOptions') !== false) {\n                var dataArray = element.get('dataArray');\n                if (element.isShareTooltip() || _.contains(['area', 'line', 'path'], type)) {\n                    // area、line、path 四种几何标记以及共享 tooltip 的场景使用数据查找策略\n                    _.each(dataArray, function (data) {\n                        var tmpPoint = element.findPoint(point, data);\n                        if (tmpPoint) {\n                            var subItems = element.getTooltipItems(tmpPoint, options.title);\n                            _.each(subItems, function (v) {\n                                // tslint:disable-next-line: no-shadowed-variable\n                                var point = v.point;\n                                if (!_.isNil(point) && !_.isNil(point.x) && !_.isNil(point.y)) {\n                                    // hotfix: make sure there is no null value\n                                    var x = _.isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n                                    var y = _.isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n                                    point = coord.applyMatrix(x, y, 1);\n                                    v.x = point[0];\n                                    v.y = point[1];\n                                    v.showMarker = true;\n                                    var itemMarker = _this._getItemMarker(element, v.color);\n                                    v.marker = itemMarker;\n                                    if (_.indexOf(TYPE_SHOW_MARKERS, type) !== -1) {\n                                        markersItems.push(v);\n                                    }\n                                }\n                            });\n                            items = items.concat(subItems);\n                        }\n                    });\n                }\n                else {\n                    var shapeContainer = element.get('shapeContainer');\n                    var canvas = shapeContainer.get('canvas');\n                    var pixelRatio = canvas.get('pixelRatio');\n                    var shape = shapeContainer.getShape(point.x * pixelRatio, point.y * pixelRatio);\n                    if (shape && shape.get('visible') && shape.get('origin')) {\n                        items = element.getTooltipItems(shape.get('origin'), options.title);\n                    }\n                }\n            }\n        });\n        _.each(items, function (item) {\n            // tslint:disable-next-line: no-shadowed-variable\n            var point = item.point;\n            var x = _.isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n            var y = _.isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n            point = coord.applyMatrix(x, y, 1);\n            item.x = point[0];\n            item.y = point[1];\n        });\n        if (items.length) {\n            var first_1 = items[0];\n            // bugfix: multiple tooltip items with different titles\n            if (!items.every(function (item) { return item.title === first_1.title; })) {\n                var nearestItem_1 = first_1;\n                var nearestDistance_1 = Infinity;\n                items.forEach(function (item) {\n                    var distance = Vector2.distance([point.x, point.y], [item.x, item.y]);\n                    if (distance < nearestDistance_1) {\n                        nearestDistance_1 = distance;\n                        nearestItem_1 = item;\n                    }\n                });\n                items = items.filter(function (item) { return item.title === nearestItem_1.title; });\n                markersItems = markersItems.filter(function (item) { return item.title === nearestItem_1.title; });\n            }\n            if (options.shared === false && items.length > 1) {\n                var snapItem_1 = items[0];\n                var min_1 = Math.abs(point.y - snapItem_1.y);\n                _.each(items, function (aItem) {\n                    if (Math.abs(point.y - aItem.y) <= min_1) {\n                        snapItem_1 = aItem;\n                        min_1 = Math.abs(point.y - aItem.y);\n                    }\n                });\n                if (snapItem_1 && !_.isNil(snapItem_1.x) && !_.isNil(snapItem_1.y)) {\n                    markersItems = [snapItem_1];\n                }\n                items = [snapItem_1];\n            }\n            this._setTooltip(point, items, markersItems, target);\n            // 使查找到的数据对应的 shape 处于 active 状态\n            // 应该在每次出现 tooltip 的时候就 active 对应的 shapes\n            view.setActive(function (obj) {\n                var result = false;\n                _.each(items, function (item) {\n                    var origin = item.point._origin;\n                    if (origin === obj) {\n                        result = true;\n                        return false;\n                    }\n                });\n                return result;\n            }, false);\n        }\n        else {\n            this.hideTooltip();\n        }\n    };\n    TooltipController.prototype.clear = function () {\n        var tooltip = this.tooltip;\n        if (tooltip) {\n            tooltip.destroy();\n        }\n        this.tooltip = null;\n        this.prePoint = null;\n        this._offEvent();\n    };\n    TooltipController.prototype._getCanvas = function () {\n        return this.view.get('canvas');\n    };\n    TooltipController.prototype._getTriggerEvent = function () {\n        var triggerOn = _.get(this.options, 'triggerOn');\n        var eventName;\n        if (!triggerOn || triggerOn === 'mousemove') {\n            eventName = 'panel:mousemove';\n        }\n        else if (triggerOn === 'click') {\n            eventName = 'panel:click';\n        }\n        else if (triggerOn === 'none') {\n            eventName = null;\n        }\n        return eventName;\n    };\n    TooltipController.prototype._getDefaultTooltipOptions = function () {\n        var view = this.view;\n        var options = this.options;\n        var theme = this.theme;\n        var defaultCfg = _.mix({}, theme.tooltip);\n        var elements = _.filter(view.getElements(), function (element) { return element.get('visible'); });\n        var shapes = _.uniq(_.map(elements, function (element) { return element.get('type'); }));\n        var isTransposed = view.get('coord') ? view.get('coord').isTransposed : false;\n        var crosshairsCfg;\n        if (view.get('coord') && view.get('coord').type === 'cartesian') {\n            if (shapes[0] === 'interval') {\n                if (options.shape !== false) {\n                    var crosshairs = _.mix({}, theme.tooltipCrosshairsRect);\n                    crosshairs.isTransposed = isTransposed;\n                    crosshairsCfg = {\n                        zIndex: 0,\n                        crosshairs: crosshairs,\n                    };\n                }\n            }\n            else if (_.indexOf(TYPE_SHOW_CROSSHAIRS, shapes[0]) > -1) {\n                var crosshairs = _.mix({}, theme.tooltipCrosshairsLine);\n                crosshairs.isTransposed = isTransposed;\n                crosshairsCfg = {\n                    crosshairs: crosshairs,\n                };\n            }\n        }\n        return _.mix(defaultCfg, crosshairsCfg);\n    };\n    TooltipController.prototype._bindEvent = function () {\n        var view = this.view;\n        var triggerEvent = this._getTriggerEvent();\n        if (triggerEvent) {\n            view.on(triggerEvent, this.onMouseMove);\n            view.on('panel:mouseleave', this.onMouseOut);\n        }\n    };\n    TooltipController.prototype._offEvent = function () {\n        var view = this.view;\n        var triggerEvent = this._getTriggerEvent();\n        if (triggerEvent) {\n            view.off(triggerEvent, this.onMouseMove);\n            view.off('panel:mouseleave', this.onMouseOut);\n        }\n    };\n    TooltipController.prototype._setTooltip = function (point, _items, markersItems, target) {\n        var tooltip = this.tooltip;\n        var prePoint = this.prePoint;\n        if (!prePoint || (prePoint.x !== point.x || prePoint.y !== point.y)) {\n            var items = _uniqItems(_items);\n            this.prePoint = point;\n            var view = this.view;\n            var theme = this.theme;\n            var x = _.isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n            var y = _.isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n            if (!tooltip.get('visible')) {\n                view.emit('tooltip:show', {\n                    x: x,\n                    y: y,\n                    tooltip: tooltip,\n                });\n            }\n            var first = items[0];\n            var title = first.title || first.name;\n            if (tooltip.isContentChange(title, items)) {\n                view.emit('tooltip:change', {\n                    tooltip: tooltip,\n                    x: x,\n                    y: y,\n                    items: items,\n                });\n                // bugfix: when set the title in the tooltip:change event does not take effect.\n                title = items[0].title || items[0].name;\n                tooltip.setContent(title, items);\n                if (!_.isEmpty(markersItems)) {\n                    if (this.options.showTooltipMarkers === false) {\n                        // 不展示 tooltip marker\n                        // @ts-ignore\n                        tooltip.set('markerItems', markersItems); // 用于 tooltip 辅助线的定位\n                    }\n                    else {\n                        tooltip.setMarkers(markersItems, theme.tooltipMarker);\n                    }\n                }\n                else {\n                    tooltip.clearMarkers();\n                    // clearMarkers 只会将 markerItems 从 markerGroup 中移除\n                    // 所以我们还要将 markerItems 从 tooltip 中移除\n                    // 这么做是为了防止上一次设置 marker 时的 markerItems 影响此次 tooltip 辅助线的定位\n                    // @ts-ignore\n                    tooltip.set('markerItems', []);\n                }\n            }\n            tooltip.setPosition(x + (view.get('panelGroup').get('x') || 0), y + (view.get('panelGroup').get('y') || 0), target);\n            tooltip.show();\n        }\n    };\n    TooltipController.prototype._getItemMarker = function (element, color) {\n        var shapeType = element.get('shapeType') || 'point';\n        var shape = element.getDefaultValue('shape') || 'circle';\n        var shapeObject = getShapeFactory(shapeType);\n        var cfg = { color: color };\n        var marker = shapeObject.getMarkerStyle(shape, cfg);\n        return marker;\n    };\n    return TooltipController;\n}());\nexport default TooltipController;\n//# sourceMappingURL=tooltip.js.map","import { __assign } from \"tslib\";\nvar ShapeStateController = /** @class */ (function () {\n    function ShapeStateController(cfg) {\n        if (cfg === void 0) { cfg = { view: null }; }\n        this._states = {};\n        this._stateStack = {};\n        this.view = cfg.view;\n    }\n    ShapeStateController.prototype.setState = function (name, exp, draw) {\n        this._stateStack[name] = { exp: exp, draw: draw };\n        this._onUpdate();\n    };\n    ShapeStateController.prototype.getState = function (name) {\n        return this._states[name];\n    };\n    ShapeStateController.prototype.getAllStates = function () {\n        return this._states;\n    };\n    ShapeStateController.prototype.clear = function () {\n        this._states = {};\n        this._stateStack = {};\n        if (this._changeTimer) {\n            clearTimeout(this._changeTimer);\n            this._changeTimer = null;\n        }\n    };\n    ShapeStateController.prototype._onUpdate = function () {\n        var _this = this;\n        var stateStack = this._stateStack;\n        if (this._changeTimer) {\n            clearTimeout(this._changeTimer);\n            this._changeTimer = null;\n        }\n        this._changeTimer = setTimeout(function () {\n            for (var name_1 in stateStack) {\n                var state = stateStack[name_1];\n                var exp = state.exp;\n                if (!_this._states[name_1] || _this._states[name_1] !== exp) {\n                    // update states\n                    _this._states[name_1] = exp;\n                    // dispatch state event\n                    _this._triggerEvent(name_1, state);\n                }\n            }\n            // clear stack\n            _this._stateStack = {};\n        }, 16);\n    };\n    ShapeStateController.prototype._triggerEvent = function (name, exp) {\n        this.view.emit(name + \":change\", __assign({ name: name }, exp));\n    };\n    return ShapeStateController;\n}());\nexport default ShapeStateController;\n//# sourceMappingURL=shape-state.js.map","import * as _ from '@antv/util';\nfunction isBackgroundShape(view, shape) {\n    var backgroundBkShape = view.get('backgroundGroup').get('backShape');\n    var panelBkShape = view.get('panelGroup').get('backShape');\n    if (backgroundBkShape === shape || panelBkShape === shape) {\n        return true;\n    }\n    return false;\n}\nfunction registerData(eventObj) {\n    if (eventObj.target && eventObj.target.get('origin')) {\n        eventObj.data = eventObj.target.get('origin');\n    }\n}\nfunction isSameShape(shape1, shape2) {\n    if (shape1 && shape2 && shape1 === shape2) {\n        return true;\n    }\n    return false;\n}\nfunction isInView(target, view, canvas) {\n    if (target !== canvas && view.isShapeInView(target)) {\n        return true;\n    }\n    return false;\n}\nfunction isInPanel(target, panelGroup) {\n    var parent = target;\n    while (parent = parent.get('parent')) {\n        if (parent === panelGroup) {\n            return true;\n        }\n    }\n    return false;\n}\nvar EventController = /** @class */ (function () {\n    function EventController(cfg) {\n        if (cfg === void 0) { cfg = { view: null, canvas: null }; }\n        this.view = cfg.view;\n        this.canvas = cfg.canvas;\n        this._panelGroup = this.view.get('panelGroup');\n        this._eventHandlers = [];\n        this._pixelRatio = this.canvas.get('pixelRatio');\n    }\n    EventController.prototype._getEventObj = function (ev) {\n        var obj = {\n            x: ev.x / this._pixelRatio,\n            y: ev.y / this._pixelRatio,\n            target: ev.target,\n            event: ev.event,\n        };\n        return obj;\n    };\n    EventController.prototype._triggerShapeEvent = function (shape, eventName, eventObj) {\n        var shapeName = shape.name;\n        if (shapeName && !shape.get('destroyed')) {\n            var view = this.view;\n            var name_1 = shapeName + \":\" + eventName;\n            eventObj.view = view;\n            eventObj.appendInfo = shape.get('appendInfo'); // appendInfo is defined by user\n            view.emit(name_1, eventObj);\n        }\n    };\n    EventController.prototype._addEvent = function (target, eventType, handler) {\n        target.on(eventType, handler);\n        this._eventHandlers.push({ target: target, type: eventType, handler: handler });\n    };\n    EventController.prototype.bindEvents = function () {\n        var container = this.view.get('container');\n        this._addEvent(container, 'mousedown', _.wrapBehavior(this, '_onEvents'));\n        this._addEvent(container, 'mousemove', _.wrapBehavior(this, '_onMove'));\n        this._addEvent(container, 'mouseup', _.wrapBehavior(this, '_onEvents'));\n        this._addEvent(container, 'click', _.wrapBehavior(this, '_onEvents'));\n        this._addEvent(container, 'dblclick', _.wrapBehavior(this, '_onEvents'));\n        this._addEvent(container, 'contextmenu', _.wrapBehavior(this, '_onEvents'));\n        this._addEvent(container, 'wheel', _.wrapBehavior(this, '_onEvents'));\n        this._addEvent(container, 'touchstart', _.wrapBehavior(this, '_onEvents'));\n        this._addEvent(container, 'touchmove', _.wrapBehavior(this, '_onEvents'));\n        this._addEvent(container, 'touchend', _.wrapBehavior(this, '_onEvents'));\n        this._addEvent(this.canvas, 'mousemove', _.wrapBehavior(this, '_onCanvasMove'));\n        var canvasDom = this.canvas.get('canvasDOM');\n        this._canvasDomLeaveHandler = _.wrapBehavior(this, '_onCanvasDomLeave');\n        canvasDom.addEventListener('mouseleave', this._canvasDomLeaveHandler);\n    };\n    EventController.prototype._onEvents = function (ev) {\n        var eventType = ev.type;\n        var eventObj = this._getEventObj(ev);\n        var target = ev.target;\n        registerData(eventObj);\n        var isbk = isBackgroundShape(this.view, target);\n        if (!isbk) {\n            this._triggerShapeEvent(target, eventType, eventObj);\n        }\n        /*panel event*/\n        var targetParent = target.get('parent');\n        if (targetParent) { // 当调用 view.clear()，target 为 canvas 画布本身，此时 targetParent 为 null\n            var parentName = targetParent.get('name');\n            if (parentName && parentName === 'panelGroup') {\n                this.view.emit(\"panel:\" + eventType, eventObj);\n            }\n        }\n        this.view.emit(eventType, eventObj);\n    };\n    EventController.prototype._onMove = function (ev) {\n        /*dispatch mousemove events*/\n        var eventObj = this._getEventObj(ev);\n        var target = ev.target;\n        registerData(eventObj);\n        this.view.emit('mousemove', eventObj);\n        var isbkTarget = isBackgroundShape(this.view, target);\n        if (!isbkTarget) {\n            this._triggerShapeEvent(target, 'mousemove', eventObj);\n        }\n        var lastShape = this._lastShape;\n        var isbklastShape = isBackgroundShape(this.view, lastShape);\n        if (lastShape && !isbklastShape && !isSameShape(lastShape, target)) {\n            var leaveObj = this._getEventObj(ev);\n            registerData(leaveObj);\n            this._triggerShapeEvent(lastShape, 'mouseleave', eventObj);\n        }\n        if (!isbkTarget && !isSameShape(lastShape, target)) {\n            var enterObj = this._getEventObj(ev);\n            registerData(enterObj);\n            this._triggerShapeEvent(target, 'mouseenter', enterObj);\n        }\n        var isTargetInPanel = isInPanel(target, this._panelGroup);\n        var isLastShapeInPanel = lastShape ? isInPanel(lastShape, this._panelGroup) : false;\n        if (isTargetInPanel) {\n            if (!isLastShapeInPanel) {\n                this.view.emit('panel:mouseenter', eventObj);\n            }\n            else {\n                this.view.emit('panel:mousemove', eventObj);\n            }\n        }\n        else {\n            if (isLastShapeInPanel) {\n                this.view.emit('panel:mouseleave', eventObj);\n            }\n        }\n        this._lastShape = target;\n    };\n    EventController.prototype._onCanvasMove = function (ev) {\n        var event = _.isArray(ev) ? ev[0] : ev;\n        var eventObj = this._getEventObj(event);\n        var canvas = this.canvas;\n        var view = this.view;\n        var target = event.target;\n        var targetInView = isInView(target, view, canvas);\n        var lastTargetInView = this._lastCanvasTarget ? isInView(this._lastCanvasTarget, view, canvas) : false;\n        if (target !== this._lastCanvasTarget) {\n            if (lastTargetInView && !targetInView) {\n                this.view.emit('mouseleave', eventObj);\n            }\n            else if (!lastTargetInView && targetInView) {\n                this.view.emit('mouseenter', eventObj);\n            }\n        }\n        this._lastCanvasTarget = target;\n    };\n    EventController.prototype._onCanvasDomLeave = function (ev) {\n        // 解决padding为0时的panel leave问题\n        var eventObj = this._getEventObj(ev);\n        // ev.event,  g事件的才有。解决移动太快的时候, wrapBehavior 触发的 event === undefined；\n        eventObj.event = ev;\n        this.view.emit('panel:mouseleave', eventObj);\n    };\n    EventController.prototype.clearEvents = function () {\n        var eventHandlers = this._eventHandlers;\n        _.each(eventHandlers, function (eh) {\n            eh.target.off(eh.type, eh.handler);\n        });\n        var canvasDom = this.canvas.get('canvasDOM');\n        canvasDom.removeEventListener('mouseleave', this._canvasDomLeaveHandler);\n    };\n    return EventController;\n}());\nexport default EventController;\n//# sourceMappingURL=event.js.map","import * as _ from '@antv/util';\n/**\n * facet 基类\n *  - 定义生命周期，方便自定义 facet\n *  - 提供基础的生命流程方法\n *\n * 生命周期：\n *\n * 初始化 init\n * 1. 初始化容器\n * 2. 数据分面，生成分面布局信息\n *\n * 渲染阶段 render\n * 1. view 创建\n * 2. title\n * 3. axis\n *\n * 清除阶段 clear\n * 1. 清除 view\n * 2. 清除事件\n * 3. 清除 group\n */\nvar Facet = /** @class */ (function () {\n    function Facet(view, cfg) {\n        this.view = view;\n        this.cfg = cfg;\n        this.init();\n    }\n    /**\n     * 初始化过程\n     */\n    Facet.prototype.init = function () {\n        // 初始化流程\n        this.container = this._createContainer();\n        // 生成分面布局信息\n        var data = this.view.get('data');\n        this.facets = this.generateFacets(data);\n    };\n    // 创建容器\n    Facet.prototype._createContainer = function () {\n        var foregroundGroup = this.view.get('frontgroundGroup');\n        return foregroundGroup.addGroup();\n    };\n    /**\n     * 渲染分面，由上层 view 调用。包括：\n     *  - 分面 view\n     *  - 轴\n     *  - title\n     *\n     *  子类可以复写，添加一些其他组件，比如滚动条等\n     */\n    Facet.prototype.render = function () {\n        this._renderViews();\n        this.renderTitle();\n        this.renderAxis();\n    };\n    /**\n     * 初始化 view\n     */\n    Facet.prototype._renderViews = function () {\n        // 先清空，再绘制\n        this._clearFacetViews();\n        this._createFacetViews();\n    };\n    /**\n     * 创建 分面 view\n     */\n    Facet.prototype._createFacetViews = function () {\n        var _this = this;\n        // 使用分面数据 创建分面 view\n        return this.facets.map(function (facet) {\n            return _this.facetToView(facet);\n        });\n    };\n    /**\n     * 从 view 中清除 facetView\n     */\n    Facet.prototype._clearFacetViews = function () {\n        var _this = this;\n        // 从 view 中移除分面 view\n        _.each(this.facets, function (facet) {\n            if (facet.view) {\n                _this.view.removeView(facet.view);\n                facet.view = undefined;\n            }\n        });\n    };\n    /**\n     * 根据 facet 生成 view，可以给上层自定义使用\n     * @param facet\n     */\n    Facet.prototype.facetToView = function (facet) {\n        var region = facet.region, data = facet.data;\n        var view = this.view.createView({\n            start: region.start,\n            end: region.end,\n            padding: _.get(facet, 'padding', this.cfg.padding || 0),\n        });\n        // 设置分面的数据\n        view.data(data || []);\n        this.beforeProcessView(view, facet);\n        var eachView = this.cfg.eachView;\n        if (eachView) {\n            eachView(view, facet);\n        }\n        this.afterProcessView(view, facet);\n        // 挂载在 facet 中\n        facet.view = view;\n        return view;\n    };\n    /**\n     * 清空，clear 之后如果还需要使用，需要重新调用 init 初始化过程\n     * 一般在数据有变更的时候调用，重新进行数据的分面逻辑\n     */\n    Facet.prototype.clear = function () {\n        this._clearFacetViews();\n    };\n    /**\n     * 销毁\n     */\n    Facet.prototype.destroy = function () {\n        this.clear();\n        if (this.container)\n            this.container.remove();\n        this.view = undefined;\n        this.facets = [];\n        this.container = undefined;\n        this.destroyed = true;\n    };\n    // override 开始处理 eachView\n    Facet.prototype.beforeProcessView = function (view, facet) { };\n    // override 处理 eachView 之后\n    Facet.prototype.afterProcessView = function (view, facet) { };\n    // 其他一些提供给子类使用的方法\n    /**\n     * 获取这个字段对应的所有值，数组\n     * @protected\n     * @param data 数据\n     * @param field 字段名\n     * @return 字段对应的值\n     */\n    Facet.prototype.getFieldValues = function (data, field) {\n        var rst = [];\n        var cache = {};\n        // 去重、去除 Nil 值\n        _.each(data, function (d) {\n            var value = d[field];\n            if (!_.isNil(value) && !cache[value]) {\n                rst.push(value);\n                cache[value] = true;\n            }\n        });\n        return rst;\n    };\n    /**\n     * 获得每个分面的 region，平分区域\n     * @param rows\n     * @param cols\n     * @param xIndex\n     * @param yIndex\n     */\n    Facet.prototype.getRegion = function (rows, cols, xIndex, yIndex) {\n        var xWidth = 1 / (cols === 0 ? 1 : cols); // x轴方向的每个分面的偏移\n        var yWidth = 1 / (rows === 0 ? 1 : rows); // y轴方向的每个分面的偏移\n        var start = {\n            x: xWidth * xIndex,\n            y: yWidth * yIndex,\n        };\n        var end = {\n            x: xWidth * (xIndex + 1),\n            y: yWidth * (yIndex + 1),\n        };\n        return {\n            start: start,\n            end: end,\n        };\n    };\n    return Facet;\n}());\nexport { Facet };\n//# sourceMappingURL=base.js.map","import * as _ from '@antv/util';\nexport { Facet } from './base';\n// 所有的 Facet 类\nvar Facets = {};\n/**\n * 根据 type 获取 facet 类\n * @param type\n */\nexport var getFacet = function (type) {\n    return Facets[_.lowerFirst(type)];\n};\n/**\n * 注册一个 Facet 类\n * @param type\n * @param ctor\n */\nexport var registerFacet = function (type, ctor) {\n    Facets[_.lowerFirst(type)] = ctor;\n};\n//# sourceMappingURL=index.js.map","import { registerViewPrototype } from '../plot/view';\nexport var ELEMENT_MAP = {}; // element 映射\n/**\n * 根据类型获取 Element 类\n * @param type\n */\nexport var getElement = function (type) {\n    return ELEMENT_MAP[type.toLowerCase()];\n};\n/**\n * 注册自定义 Element 类\n * @param type\n * @param ctor\n */\nexport var registerElement = function (type, ctor) {\n    // 注册的时候，需要校验 type 重名，不区分大小写\n    if (getElement(type)) {\n        throw new Error(\"Element type '\" + type + \"' existed.\");\n    }\n    var t = type.toLowerCase();\n    // 存储到 map 中\n    ELEMENT_MAP[t] = ctor;\n    registerViewPrototype(t, ctor);\n};\n//# sourceMappingURL=factory.js.map","/**\n * @description Element 上 tooltip 的辅助类\n */\nimport { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nvar FIELD_ORIGIN = '_origin';\nfunction _snapEqual(v1, v2, scale) {\n    var value1 = scale.translate(v1);\n    var value2 = scale.translate(v2);\n    if (scale.isCategory) {\n        return value1 === value2;\n    }\n    return _.isNumberEqual(value1, value2);\n}\nfunction _getScaleName(scale) {\n    return scale.alias || scale.field;\n}\nvar TooltipController = /** @class */ (function () {\n    function TooltipController(element) {\n        this.element = null;\n        this._xDistance = null;\n        this.element = element;\n    }\n    /**\n     * 根据画布坐标在 source 中查找匹配的数据\n     * @param point 画布坐标\n     * @param source 数据源(已排序)\n     */\n    TooltipController.prototype.findPoint = function (point, source) {\n        if (source.length === 0)\n            return null; // 数据为空\n        var element = this.element;\n        var elementType = element.get('type');\n        var xScale = element.getXScale();\n        var yScale = element.getYScale();\n        var xField = xScale.field;\n        var yField = yScale.field;\n        var rst = null;\n        if (elementType === 'point' || elementType === 'heatmap') {\n            // 将 point 画布坐标转换为原始数据值\n            var coord = element.get('coord');\n            var invertPoint = coord.invert(point); // 转换成归一化的数据\n            var xValue_1 = xScale.invert(invertPoint.x); // 转换为原始值\n            var yValue_1 = yScale.invert(invertPoint.y); // 转换为原始值\n            // 根据最小逼近原则查找 point 击中的数据\n            var min_1 = Infinity;\n            _.each(source, function (obj) {\n                var originData = obj[FIELD_ORIGIN];\n                var distance = Math.pow((originData[xField] - xValue_1), 2) +\n                    Math.pow((originData[yField] - yValue_1), 2);\n                if (distance < min_1) {\n                    min_1 = distance;\n                    rst = obj;\n                }\n            });\n            return rst;\n        }\n        // 其他 Element 类型按照 x 字段数据进行查找\n        var first = source[0];\n        var last = source[source.length - 1];\n        var xValue = this._getXValueByPoint(point);\n        var firstXValue = first[FIELD_ORIGIN][xField];\n        var firstYValue = first[FIELD_ORIGIN][yField];\n        var lastXValue = last[FIELD_ORIGIN][xField];\n        var isYArray = yScale.isLinear && _.isArray(firstYValue); // 考虑 x 维度相同，y 是数组区间的情况\n        // 如果 x 的值是数组\n        if (_.isArray(firstXValue)) {\n            _.each(source, function (record) {\n                var origin = record[FIELD_ORIGIN];\n                // xValue 在 origin[xField] 的数值区间内\n                if (xScale.translate(origin[xField][0]) <= xValue && xScale.translate(origin[xField][1]) >= xValue) {\n                    if (isYArray) { // 层叠直方图场景，x 和 y 都是数组区间\n                        if (!_.isArray(rst)) {\n                            rst = [];\n                        }\n                        rst.push(record);\n                    }\n                    else {\n                        rst = record;\n                        return false;\n                    }\n                }\n            });\n            if (_.isArray(rst)) {\n                rst = this._filterYValue(rst, point);\n            }\n        }\n        else {\n            var next_1;\n            if (!xScale.isLinear && xScale.type !== 'timeCat') { // x 轴对应的数据为非线性以及非时间类型的数据采用遍历查找\n                _.each(source, function (record, index) {\n                    var origin = record[FIELD_ORIGIN];\n                    if (_snapEqual(origin[xField], xValue, xScale)) {\n                        if (isYArray) {\n                            if (!_.isArray(rst)) {\n                                rst = [];\n                            }\n                            rst.push(record);\n                        }\n                        else {\n                            rst = record;\n                            return false;\n                        }\n                    }\n                    else if (xScale.translate(origin[xField]) <= xValue) {\n                        last = record;\n                        next_1 = source[index + 1];\n                    }\n                });\n                if (_.isArray(rst)) {\n                    rst = this._filterYValue(rst, point);\n                }\n            }\n            else { // x 轴对应的数据为线性以及时间类型，进行二分查找，性能更好\n                if (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) { // 不在数据范围内\n                    return null;\n                }\n                var firstIdx = 0;\n                var lastIdx = source.length - 1;\n                var middleIdx = void 0;\n                while (firstIdx <= lastIdx) {\n                    middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n                    var item = source[middleIdx][FIELD_ORIGIN][xField];\n                    if (_snapEqual(item, xValue, xScale)) {\n                        return source[middleIdx];\n                    }\n                    if (xScale.translate(item) <= xScale.translate(xValue)) {\n                        firstIdx = middleIdx + 1;\n                        last = source[middleIdx];\n                        next_1 = source[middleIdx + 1];\n                    }\n                    else {\n                        if (lastIdx === 0) {\n                            last = source[0];\n                        }\n                        lastIdx = middleIdx - 1;\n                    }\n                }\n            }\n            if (last && next_1) { // 计算最逼近的\n                if (Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n                    Math.abs(xScale.translate(next_1[FIELD_ORIGIN][xField]) - xValue)) {\n                    last = next_1;\n                }\n            }\n        }\n        var distance = this._getXDistance(); // 每个分类间的平均间距\n        if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n            rst = last;\n        }\n        return rst;\n    };\n    /**\n     * 根据数据获取对应的 tooltip items 信息\n     * @param data 数据记录\n     * @param titleField tooltip title 字段名\n     */\n    TooltipController.prototype.getTooltipItems = function (data, titleField) {\n        var element = this.element;\n        var origin = data[FIELD_ORIGIN];\n        var tooltipTitle = this._getTooltipTitle(origin, titleField);\n        var tooltipOptions = element.get('tooltipOptions');\n        var defaultColor = element.get('theme').defaultColor;\n        var size = this._getSize(data);\n        var items = [];\n        var name;\n        var value;\n        function addItem(itemName, itemValue) {\n            if (!_.isNil(itemValue) && itemValue !== '') { // 值为 null的时候，忽视\n                var item = {\n                    title: tooltipTitle,\n                    point: data,\n                    name: itemName || tooltipTitle,\n                    value: itemValue,\n                    color: data.color || defaultColor,\n                    marker: true,\n                    size: size,\n                };\n                items.push(item);\n            }\n        }\n        if (tooltipOptions) {\n            var fields = tooltipOptions.fields, callback = tooltipOptions.callback;\n            if (callback) { // 用户定义了回调函数\n                var callbackParams = fields.map(function (field) {\n                    return data[FIELD_ORIGIN][field];\n                });\n                var cfg = callback.apply(void 0, callbackParams);\n                var itemCfg = __assign({ point: data, title: tooltipTitle, color: data.color || defaultColor, marker: true, // 默认展示 marker\n                    size: size }, cfg);\n                items.push(itemCfg);\n            }\n            else {\n                var scales_1 = element.get('scales');\n                _.each(fields, function (field) {\n                    if (!_.isNil(origin[field])) { // 字段数据为null, undefined 时不显示\n                        var scale = scales_1[field];\n                        name = _getScaleName(scale);\n                        value = scale.getText(origin[field]);\n                        addItem(name, value);\n                    }\n                });\n            }\n        }\n        else {\n            var valueScale = this._getTooltipValueScale();\n            if (!_.isNil(origin[valueScale.field])) { // 字段数据为null ,undefined时不显示\n                value = this._getTooltipValue(origin, valueScale);\n                name = this._getTooltipName(origin);\n                addItem(name, value);\n            }\n        }\n        return items;\n    };\n    TooltipController.prototype.clear = function () {\n        this._xDistance = null;\n    };\n    // 返回画布坐标点对应的 x 字段数值\n    TooltipController.prototype._getXValueByPoint = function (point) {\n        var result = 0;\n        var element = this.element;\n        var coord = element.get('coord');\n        var xScale = element.getXScale();\n        var range = xScale.range;\n        var rangeMax = range[range.length - 1];\n        var rangeMin = range[0];\n        var invertPoint = coord.invert(point);\n        var xValue = invertPoint.x;\n        if (element.isInCircle() && xValue > (1 + rangeMax) / 2) {\n            xValue = rangeMin; // 极坐标下，scale 的 range 被做过特殊处理 see view.js#L88\n        }\n        result = xScale.invert(xValue);\n        if (xScale.isCategory) { // 分类类型，要将字符串类型转换成数字\n            result = xScale.translate(result);\n        }\n        return result;\n    };\n    TooltipController.prototype._filterYValue = function (arr, point) {\n        var element = this.element;\n        var coord = element.get('coord');\n        var yScale = element.getYScale();\n        var yField = yScale.field;\n        var invertPoint = coord.invert(point);\n        var yValue = yScale.invert(invertPoint.y);\n        var rst = arr[arr.length - 1];\n        _.each(arr, function (obj) {\n            var origin = obj[FIELD_ORIGIN];\n            if ((origin[yField][0] <= yValue) && (origin[yField][1] >= yValue)) {\n                rst = obj;\n                return false;\n            }\n        });\n        return rst;\n    };\n    TooltipController.prototype._getXDistance = function () {\n        var distance = this._xDistance;\n        if (!distance) {\n            var element = this.element;\n            var xScale_1 = element.getXScale();\n            if (xScale_1.isCategory) {\n                distance = 1;\n            }\n            else {\n                var values = xScale_1.values; // values 是无序的\n                var min_2 = xScale_1.translate(values[0]);\n                var max_1 = min_2;\n                _.each(values, function (value) {\n                    var numericValue = xScale_1.translate(value);\n                    if (numericValue < min_2) {\n                        min_2 = numericValue;\n                    }\n                    if (numericValue > max_1) {\n                        max_1 = numericValue;\n                    }\n                });\n                var length_1 = values.length;\n                // 应该是除以 length - 1\n                distance = (max_1 - min_2) / (length_1 - 1);\n            }\n            this._xDistance = distance; // 缓存，防止重复计算\n        }\n        return distance;\n    };\n    // 获取 title 字段对应的度量\n    TooltipController.prototype._getTooltipTitleScale = function (titleField) {\n        var element = this.element;\n        var scales = element.get('scales');\n        if (titleField) {\n            return scales[titleField];\n        }\n        var positionAttr = element.getAttr('position');\n        var fields = positionAttr.getFields();\n        return scales[fields[0]];\n    };\n    // 获取原始数据的 tooltip title 字符串\n    TooltipController.prototype._getTooltipTitle = function (originData, titleField) {\n        var tooltipTitle = '';\n        var element = this.element;\n        var titleScale = this._getTooltipTitleScale(titleField);\n        if (titleScale) {\n            var value = originData[titleScale.field];\n            tooltipTitle = titleScale.getText(value);\n        }\n        else if (element.get('type') === 'heatmap') { // 热力图在不存在 title 的时候特殊处理\n            var xScale = element.getXScale();\n            var yScale = element.getYScale();\n            var xValue = xScale.getText(originData[xScale.field]);\n            var yValue = yScale.getText(originData[yScale.field]);\n            tooltipTitle = \"( \" + xValue + \", \" + yValue + \" )\";\n        }\n        return tooltipTitle;\n    };\n    // 获取 tooltip value 值对应的度量\n    TooltipController.prototype._getTooltipValueScale = function () {\n        var element = this.element;\n        var attrs = element.getAttrsForLegend();\n        var scale;\n        _.each(attrs, function (attr) {\n            var tmpScale = attr.getScale(attr.type);\n            if (tmpScale && tmpScale.isLinear) { // 如果指定字段是非 position 的，同时是连续的\n                scale = tmpScale;\n                return false;\n            }\n        });\n        var xScale = element.getXScale();\n        var yScale = element.getYScale();\n        return scale || yScale || xScale;\n    };\n    // 根据原始数据以及对应的 value 度量获取 tooltip 对应的 value 值\n    TooltipController.prototype._getTooltipValue = function (originData, valueScale) {\n        var field = valueScale.field;\n        var value = originData[field];\n        if (_.isArray(value)) {\n            var values = value.map(function (eachValue) {\n                return valueScale.getText(eachValue);\n            });\n            return values.join('-');\n        }\n        return valueScale.getText(value);\n    };\n    // 根据原始数据获取 tooltip item 中 name 值\n    TooltipController.prototype._getTooltipName = function (originData) {\n        var nameScale;\n        var element = this.element;\n        var groupScales = element.getGroupScales();\n        if (groupScales.length) { // 如果存在分组类型，取第一个分组类型\n            _.each(groupScales, function (scale) {\n                nameScale = scale;\n                return false;\n            });\n        }\n        if (nameScale) {\n            var field = nameScale.field;\n            return nameScale.getText(originData[field]);\n        }\n        var valueScale = this._getTooltipValueScale();\n        return _getScaleName(valueScale);\n    };\n    // TODO: 需要改造\n    TooltipController.prototype._getSize = function (obj) {\n        var element = this.element;\n        var coord = element.get('coord');\n        var size = element.getSize(obj[FIELD_ORIGIN]);\n        if (coord.isRect && size) {\n            var dim = coord.isTransposed ? 'y' : 'x';\n            if (_.isArray(obj[dim])) {\n                var width = Math.abs(obj[dim][1] - obj[dim][0]);\n                size = size < width ? null : size; // 直方图计算错误\n            }\n        }\n        return size;\n    };\n    return TooltipController;\n}());\nexport default TooltipController;\n//# sourceMappingURL=tooltip.js.map","import { __assign, __extends } from \"tslib\";\nimport { Label } from '@antv/component';\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nvar IGNORE_ARR = ['line', 'point', 'path'];\nvar ORIGIN = '_origin';\nfunction avg(arr) {\n    var sum = 0;\n    _.each(arr, function (value) {\n        sum += value;\n    });\n    return sum / arr.length;\n}\n// 计算多边形重心: https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\nfunction getCentroid(xs, ys) {\n    if (_.isNumber(xs) && _.isNumber(ys)) { // 普通色块图，xs 和 ys 是数值\n        return [xs, ys];\n    }\n    var i = -1;\n    var x = 0;\n    var y = 0;\n    var former;\n    var current = xs.length - 1;\n    var diff;\n    var k = 0;\n    while (++i < xs.length) {\n        former = current;\n        current = i;\n        k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n        x += (xs[former] + xs[current]) * diff;\n        y += (ys[former] + ys[current]) * diff;\n    }\n    k *= 3;\n    return [x / k, y / k];\n}\nvar ElementLabels = /** @class */ (function (_super) {\n    __extends(ElementLabels, _super);\n    function ElementLabels(cfg) {\n        var _this = _super.call(this, __assign({ labelOptions: null, coord: null, elementType: null, zIndex: 6 }, cfg)) || this;\n        _this.set('defaultLabelCfg', _this.get('theme').label);\n        return _this;\n    }\n    ElementLabels.prototype._renderUI = function () {\n        _super.prototype._renderUI.call(this);\n        var labelsGroup = this.addGroup({\n            name: 'element-labels-group',\n        });\n        var lineGroup = this.addGroup({\n            name: 'element-labels-line-group',\n        });\n        var labelsRenderer = new Label();\n        labelsRenderer.set('coord', this.get('coord'));\n        labelsRenderer.set('group', labelsGroup);\n        labelsRenderer.set('lineGroup', lineGroup);\n        this.set('labelsRenderer', labelsRenderer);\n        this.set('labelsGroup', labelsGroup);\n        this.set('lineGroup', lineGroup);\n    };\n    ElementLabels.prototype.destroy = function () {\n        this.get('labelsRenderer').destroy(); // 清理文本\n        _super.prototype.destroy.call(this);\n    };\n    ElementLabels.prototype.showLabels = function (points, originShapes) {\n        var labelsRenderer = this.get('labelsRenderer');\n        var items = this.getLabelsItems(points, originShapes);\n        var shapes = [].concat(originShapes);\n        var type = this.get('type');\n        items = this.adjustItems(items, shapes);\n        this.drawLines(items);\n        labelsRenderer.set('items', items.filter(function (item, i) {\n            if (!item) {\n                shapes.splice(i, 1);\n                return false;\n            }\n            return true;\n        }));\n        if (type) {\n            labelsRenderer.set('shapes', shapes);\n            labelsRenderer.set('type', type);\n            labelsRenderer.set('points', points);\n        }\n        labelsRenderer.set('canvas', this.get('canvas'));\n        labelsRenderer.draw();\n    };\n    ElementLabels.prototype.adjustItems = function (items, shapes) {\n        _.each(items, function (item) {\n            if (!item) {\n                return;\n            }\n            if (item.offsetX) {\n                item.x += item.offsetX;\n            }\n            if (item.offsetY) {\n                item.y += item.offsetY;\n            }\n        });\n        return items;\n    };\n    /**\n     * drawing lines to labels\n     * @param  {Array} items labels\n     * @param  {Object} labelLine configuration for label lines\n     */\n    ElementLabels.prototype.drawLines = function (items) {\n        var _this = this;\n        _.each(items, function (point) {\n            if (!point) {\n                return;\n            }\n            if (point.offset > 0 && point.labelLine) {\n                _this.lineToLabel(point);\n            }\n        });\n    };\n    // 定义连接线\n    ElementLabels.prototype.lineToLabel = function (point) { };\n    ElementLabels.prototype.setLabelPosition = function (label, point, index, position) { };\n    ElementLabels.prototype.transLabelPoint = function (point) {\n        var coord = this.get('coord');\n        var tmpPoint = coord.applyMatrix(point.x, point.y, 1);\n        point.x = tmpPoint[0];\n        point.y = tmpPoint[1];\n    };\n    ElementLabels.prototype.getOffsetVector = function (point) {\n        var offset = point.offset || 0;\n        var coord = this.get('coord');\n        var vector;\n        if (coord.isTransposed) { // 如果x,y翻转，则偏移x\n            vector = coord.applyMatrix(offset, 0);\n        }\n        else { // 否则，偏转y\n            vector = coord.applyMatrix(0, offset);\n        }\n        return vector;\n    };\n    // 获取默认的偏移量\n    ElementLabels.prototype.getDefaultOffset = function (point) {\n        var offset = 0;\n        var coord = this.get('coord');\n        var vector = this.getOffsetVector(point);\n        if (coord.isTransposed) { // 如果x,y翻转，则偏移x\n            offset = vector[0];\n        }\n        else { // 否则，偏转y\n            offset = vector[1];\n        }\n        return offset;\n    };\n    // 获取文本的偏移位置，x,y\n    ElementLabels.prototype.getLabelOffset = function (point, index, total) {\n        var offset = this.getDefaultOffset(point);\n        var coord = this.get('coord');\n        var transposed = coord.isTransposed;\n        var yField = transposed ? 'x' : 'y';\n        var factor = transposed ? 1 : -1; // y 方向上越大，像素的坐标越小，所以transposed时将系数变成\n        var offsetPoint = {\n            x: 0,\n            y: 0,\n        };\n        if (index > 0 || total === 1) { // 判断是否小于0\n            offsetPoint[yField] = offset * factor;\n        }\n        else {\n            offsetPoint[yField] = offset * factor * -1;\n        }\n        return offsetPoint;\n    };\n    /**\n     * @protected\n     * 获取labels\n     * @param {Array} points points\n     * @param {Array} shapes shapes\n     * @return {Array} label items\n     */\n    ElementLabels.prototype.getLabelsItems = function (points, shapes) {\n        var _this = this;\n        var items = [];\n        var element = this.get('element');\n        var coord = this.get('coord');\n        var labelOptions = this._getlabelOptions(points, shapes);\n        // 获取label相关的x，y的值，获取具体的x,y,防止存在数组\n        _.each(points, function (point, i) {\n            var origin = point[ORIGIN];\n            var label = labelOptions[i];\n            if (!label) {\n                items.push(null);\n                return;\n            }\n            if (!_.isArray(label.text)) {\n                label.text = [label.text];\n            }\n            var total = label.length;\n            _.each(label.text, function (sub, subIndex) {\n                if (_.isNil(sub) || sub === '') {\n                    items.push(null);\n                    return;\n                }\n                var obj = _this.getLabelPoint(label, point, subIndex);\n                obj = _.mix({}, label, obj);\n                if (!obj.textAlign) {\n                    obj.textAlign = _this.getLabelAlign(obj, subIndex, total);\n                }\n                if (element) {\n                    obj.id = element.getShapeId(origin) + \"-glabel-\" + subIndex + \"-\" + obj.text;\n                }\n                obj.coord = coord;\n                items.push(obj);\n            });\n        });\n        return items;\n    };\n    /**\n     * @protected\n     * 获取文本的位置信息\n     * @param {Array} labelOptions labels\n     * @param {Object} point point\n     * @param {Number} index index\n     * @return {Object} point\n     */\n    ElementLabels.prototype.getLabelPoint = function (labelOptions, point, index) {\n        var coord = this.get('coord');\n        var total = labelOptions.text.length;\n        function getDimValue(value, idx) {\n            var v = value;\n            if (_.isArray(v)) {\n                if (labelOptions.text.length === 1) { // 如果仅一个label,多个y,取最后一个y\n                    if (v.length <= 2) {\n                        v = v[value.length - 1];\n                    }\n                    else {\n                        v = avg(v);\n                    }\n                }\n                else {\n                    v = v[idx];\n                }\n            }\n            return v;\n        }\n        var label = {\n            text: labelOptions.text[index],\n            x: 0,\n            y: 0,\n            start: { x: 0, y: 0 },\n            color: '#fff',\n        };\n        // 多边形场景,多用于地图\n        if (point && this.get('elementType') === 'polygon') {\n            var centroid = getCentroid(point.x, point.y);\n            label.x = centroid[0];\n            label.y = centroid[1];\n        }\n        else {\n            label.x = getDimValue(point.x, index);\n            label.y = getDimValue(point.y, index);\n        }\n        // get nearest point of the shape as the label line start point\n        if (point && point.nextPoints && (point.shape === 'funnel' || point.shape === 'pyramid')) {\n            var maxX_1 = -Infinity;\n            point.nextPoints.forEach(function (p) {\n                var p1 = coord.convert(p);\n                if (p1.x > maxX_1) {\n                    maxX_1 = p1.x;\n                }\n            });\n            label.x = (label.x + maxX_1) / 2;\n        }\n        // sharp edge of the pyramid\n        if (point.shape === 'pyramid' && !point.nextPoints && point.points) {\n            point.points.forEach(function (p) {\n                var p1 = p;\n                p1 = coord.convert(p1);\n                if ((_.isArray(p1.x) && point.x.indexOf(p1.x) === -1) || (_.isNumber(p1.x) && point.x !== p1.x)) {\n                    label.x = (label.x + p1.x) / 2;\n                }\n            });\n        }\n        if (labelOptions.position) {\n            this.setLabelPosition(label, point, index, labelOptions.position);\n        }\n        var offsetPoint = this.getLabelOffset(labelOptions, index, total);\n        if (labelOptions.offsetX) {\n            offsetPoint.x += labelOptions.offsetX;\n        }\n        if (labelOptions.offsetY) {\n            offsetPoint.y += labelOptions.offsetY;\n        }\n        this.transLabelPoint(label);\n        label.start = { x: label.x, y: label.y };\n        label.x += offsetPoint.x;\n        label.y += offsetPoint.y;\n        label.color = point.color;\n        return label;\n    };\n    ElementLabels.prototype.getLabelAlign = function (point, index, total) {\n        var align = 'center';\n        var coord = this.get('coord');\n        if (coord.isTransposed) {\n            var offset = this.getDefaultOffset(point);\n            if (offset < 0) {\n                align = 'right';\n            }\n            else if (offset === 0) {\n                align = 'center';\n            }\n            else {\n                align = 'left';\n            }\n            if (total > 1 && index === 0) {\n                if (align === 'right') {\n                    align = 'left';\n                }\n                else if (align === 'left') {\n                    align = 'right';\n                }\n            }\n        }\n        return align;\n    };\n    ElementLabels.prototype._getLabelValue = function (origin, originScales) {\n        var scales = originScales;\n        if (!_.isArray(scales)) {\n            scales = [scales];\n        }\n        var text = [];\n        _.each(scales, function (scale) {\n            var value = origin[scale.field];\n            if (_.isArray(value)) {\n                var tmp_1 = [];\n                _.each(value, function (subVal) {\n                    tmp_1.push(scale.getText(subVal));\n                });\n                value = tmp_1;\n            }\n            else {\n                value = scale.getText(value);\n            }\n            if (_.isNil(value) || value === '') {\n                text.push(null);\n            }\n            else {\n                text.push(value);\n            }\n        });\n        return text;\n    };\n    // 获取每个label的配置\n    ElementLabels.prototype._getlabelOptions = function (points, shapes) {\n        var _this = this;\n        var elementType = this.get('elementType');\n        var theme = this.get('theme');\n        var labelOptions = this.get('labelOptions');\n        var scales = labelOptions.scales;\n        var cfgs = [];\n        _.each(points, function (point, i) {\n            var cfg = {};\n            var origin = point[ORIGIN];\n            var originText = _this._getLabelValue(origin, scales);\n            if (labelOptions.callback) {\n                // callback 中应使用原始数据，而不是数据字符串\n                var originValues = scales.map(function (scale) { return origin[scale.field]; });\n                cfg = labelOptions.callback.apply(labelOptions, originValues);\n            }\n            if (_.isNil(cfg)) {\n                cfgs.push(null);\n                return;\n            }\n            if (_.isString(cfg.content)) {\n                cfg.text = cfg.content;\n                delete cfg.content;\n            }\n            else if (_.isFunction(cfg.content)) {\n                cfg.text = cfg.content(origin, point, i);\n                delete cfg.content;\n            }\n            else {\n                cfg.text = originText[0]; // 默认展示声明的第一个字段对应的值\n            }\n            if (cfg.htmlTemplate) {\n                cfg.useHtml = true;\n                cfg.text = cfg.htmlTemplate(origin, point, i);\n                delete cfg.htmlTemplate;\n            }\n            if (cfg.formatter) {\n                cfg.text = cfg.formatter.call(null, cfg.text, point, i);\n                delete cfg.formatter;\n            }\n            if (elementType === 'polygon' ||\n                (cfg.offset < 0 && _.indexOf(IGNORE_ARR, elementType) === -1)) {\n                cfg = _.deepMix({}, _this.get('defaultLabelCfg'), theme.innerLabels, cfg);\n            }\n            else {\n                cfg = _.deepMix({}, _this.get('defaultLabelCfg'), theme.label, cfg);\n            }\n            // 将 shape 的原始数据存入\n            cfg.origin = origin;\n            // delete cfg.items;\n            cfgs.push(cfg);\n        });\n        return cfgs;\n    };\n    return ElementLabels;\n}(Group));\nexport default ElementLabels;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementLabels from './base';\nvar IntervalElementLabels = /** @class */ (function (_super) {\n    __extends(IntervalElementLabels, _super);\n    function IntervalElementLabels() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IntervalElementLabels.prototype.setLabelPosition = function (point, originPoint, index, originPosition) {\n        var position = originPosition;\n        if (_.isFunction(position)) {\n            position = position(originPoint);\n        }\n        var coord = this.get('coord');\n        var transposed = coord.isTransposed;\n        var point0 = coord.convertPoint(originPoint.points[0]);\n        var point1 = coord.convertPoint(originPoint.points[2]);\n        var width = (point0.x - point1.x) / 2 * (transposed ? -1 : 1);\n        var height = (point0.y - point1.y) / 2 * (transposed ? -1 : 1);\n        switch (position) {\n            case 'right':\n                if (transposed) {\n                    point.x -= width;\n                    point.y += height;\n                    point.textAlign = point.textAlign || 'center';\n                }\n                else {\n                    point.x -= width;\n                    point.y += height;\n                    point.textAlign = point.textAlign || 'left';\n                }\n                break;\n            case 'left':\n                if (transposed) {\n                    point.x -= width;\n                    point.y -= height;\n                    point.textAlign = point.textAlign || 'center';\n                }\n                else {\n                    point.x += width;\n                    point.y += height;\n                    point.textAlign = point.textAlign || 'right';\n                }\n                break;\n            case 'bottom':\n                if (transposed) {\n                    point.x -= (width * 2);\n                    point.textAlign = point.textAlign || 'left';\n                }\n                else {\n                    point.y += (height * 2);\n                    point.textAlign = point.textAlign || 'center';\n                }\n                break;\n            case 'middle':\n                if (transposed) {\n                    point.x -= width;\n                }\n                else {\n                    point.y += height;\n                }\n                point.textAlign = point.textAlign || 'center';\n                break;\n            case 'top':\n                if (transposed) {\n                    point.textAlign = point.textAlign || 'left';\n                }\n                else {\n                    point.textAlign = point.textAlign || 'center';\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    return IntervalElementLabels;\n}(ElementLabels));\nexport default IntervalElementLabels;\n//# sourceMappingURL=interval.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport ElementLabels from './base';\nimport * as PathUtil from '../../../util/path';\nvar PolarElementLabels = /** @class */ (function (_super) {\n    __extends(PolarElementLabels, _super);\n    function PolarElementLabels() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @protected\n     * 获取文本的位置信息\n     * @param {Array} label labels\n     * @param {Object} point point\n     * @param {Number} index index\n     * @return {Object} point\n     */\n    PolarElementLabels.prototype.getLabelPoint = function (label, point, i) {\n        var index = i;\n        var text = label.text[index];\n        var factor = 1;\n        var arcPoint;\n        if (this._isToMiddle(point)) {\n            arcPoint = this._getMiddlePoint(point.points);\n        }\n        else {\n            if (label.text.length === 1 && index === 0) {\n                index = 1;\n            }\n            else if (index === 0) {\n                factor = -1;\n            }\n            arcPoint = this.getArcPoint(point, index);\n        }\n        var offset = this.getDefaultOffset(label);\n        offset = offset * factor;\n        var middleAngle = this.getPointAngle(arcPoint);\n        var isLabelEmit = label.labelEmit;\n        var labelPoint = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n        if (!labelPoint) {\n            labelPoint = { text: '' };\n        }\n        else {\n            labelPoint.text = text;\n            labelPoint.angle = middleAngle;\n            labelPoint.color = point.color;\n        }\n        if (label.autoRotate || label.autoRotate === undefined) { // 自动旋转文本呢\n            labelPoint.rotate = this.getLabelRotate(middleAngle, offset, isLabelEmit);\n        }\n        else {\n            labelPoint.rotate = label.rotate;\n        }\n        labelPoint.start = {\n            x: arcPoint.x,\n            y: arcPoint.y,\n        };\n        return labelPoint;\n    };\n    PolarElementLabels.prototype.getCirclePoint = function (originAngle, offset, point, isLabelEmit) {\n        var coord = this.get('coord');\n        var center = coord.getCenter();\n        var angle = originAngle;\n        var r = PathUtil.getPointRadius(coord, point);\n        if (r === 0) {\n            return null;\n        }\n        if (coord.isTransposed && r > offset && !isLabelEmit) {\n            var appendAngle = Math.asin(offset / (2 * r));\n            angle = angle + appendAngle * 2;\n        }\n        else {\n            r = r + offset;\n        }\n        return {\n            x: center.x + r * Math.cos(angle),\n            y: center.y + r * Math.sin(angle),\n            angle: angle,\n            r: r,\n        };\n    };\n    PolarElementLabels.prototype.getArcPoint = function (point, i) {\n        var index = i;\n        var outerPoint; // 圆弧上的中点\n        index = index || 0;\n        if (_.isArray(point.x) || _.isArray(point.y)) {\n            outerPoint = {\n                x: _.isArray(point.x) ? point.x[index] : point.x,\n                y: _.isArray(point.y) ? point.y[index] : point.y,\n            };\n        }\n        else {\n            outerPoint = point;\n        }\n        this.transLabelPoint(outerPoint);\n        return outerPoint;\n    };\n    // 获取点所在的角度\n    PolarElementLabels.prototype.getPointAngle = function (point) {\n        var coord = this.get('coord');\n        return PathUtil.getPointAngle(coord, point);\n    };\n    /**\n     * @protected\n     * 获取文本旋转的方向\n     * @param {Number} angle angle\n     * @return {Number} angle\n     */\n    PolarElementLabels.prototype.getLabelRotate = function (angle, offset, isLabelEmit) {\n        var rotate;\n        rotate = angle * 180 / Math.PI;\n        rotate += 90;\n        if (isLabelEmit) {\n            rotate -= 90;\n        }\n        if (rotate) {\n            if (rotate > 90) {\n                rotate = rotate - 180;\n            }\n            else if (rotate < -90) {\n                rotate = rotate + 180;\n            }\n        }\n        return rotate / 180 * Math.PI;\n    };\n    // override\n    PolarElementLabels.prototype.getLabelAlign = function (point) {\n        var coord = this.get('coord');\n        var align;\n        if (point.labelEmit) {\n            if (point.angle <= Math.PI / 2 && point.angle > -Math.PI / 2) {\n                align = 'left';\n            }\n            else {\n                align = 'right';\n            }\n        }\n        else if (!coord.isTransposed) {\n            align = 'center';\n        }\n        else {\n            var center = coord.getCenter();\n            var offset = this.getDefaultOffset(point);\n            if (Math.abs(point.x - center.x) < 1) {\n                align = 'center';\n            }\n            else if (point.angle > Math.PI || point.angle <= 0) {\n                if (offset > 0) {\n                    align = 'left';\n                }\n                else {\n                    align = 'right';\n                }\n            }\n            else {\n                if (offset > 0) {\n                    align = 'right';\n                }\n                else {\n                    align = 'left';\n                }\n            }\n        }\n        return align;\n    };\n    // 定义连接线\n    PolarElementLabels.prototype.lineToLabel = function (point) { };\n    // 获取中心的位置\n    PolarElementLabels.prototype._getMiddlePoint = function (points) {\n        var coord = this.get('coord');\n        var count = points.length;\n        var middlePoint = {\n            x: 0,\n            y: 0,\n        };\n        _.each(points, function (point) {\n            middlePoint.x += point.x;\n            middlePoint.y += point.y;\n        });\n        middlePoint.x /= count;\n        middlePoint.y /= count;\n        middlePoint = coord.convert(middlePoint);\n        return middlePoint;\n    };\n    // 是否居中\n    PolarElementLabels.prototype._isToMiddle = function (point) {\n        return point.x.length > 2;\n    };\n    return PolarElementLabels;\n}(ElementLabels));\nexport default PolarElementLabels;\n//# sourceMappingURL=polar.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport * as PathUtil from '../../../util/path';\nimport PolarElementLabels from './polar';\n/** label text和line距离 4px */\nvar MARGIN = 4;\nfunction getEndPoint(center, angle, r) {\n    return {\n        x: center.x + r * Math.cos(angle),\n        y: center.y + r * Math.sin(angle),\n    };\n}\nfunction antiCollision(labels, lineHeight, plotRange, center, isRight) {\n    // adjust y position of labels to avoid overlapping\n    var overlapping = true;\n    var start = plotRange.start;\n    var end = plotRange.end;\n    var startY = Math.min(start.y, end.y);\n    var totalHeight = Math.abs(start.y - end.y);\n    var i;\n    var maxY = 0;\n    var minY = Number.MIN_VALUE;\n    var boxes = labels.map(function (label) {\n        if (label.y > maxY) {\n            maxY = label.y;\n        }\n        if (label.y < minY) {\n            minY = label.y;\n        }\n        return {\n            size: lineHeight,\n            targets: [label.y - startY],\n        };\n    });\n    minY -= startY;\n    if (maxY - startY > totalHeight) {\n        totalHeight = maxY - startY;\n    }\n    while (overlapping) {\n        /* eslint no-loop-func: 0 */\n        boxes.forEach(function (box) {\n            var target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n            box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n            // box.pos = Math.max(0, target - box.size / 2);\n        });\n        // detect overlapping and join boxes\n        overlapping = false;\n        i = boxes.length;\n        while (i--) {\n            if (i > 0) {\n                var previousBox = boxes[i - 1];\n                var box = boxes[i];\n                if (previousBox.pos + previousBox.size > box.pos) {\n                    // overlapping\n                    previousBox.size += box.size;\n                    previousBox.targets = previousBox.targets.concat(box.targets);\n                    // overflow, shift up\n                    if (previousBox.pos + previousBox.size > totalHeight) {\n                        previousBox.pos = totalHeight - previousBox.size;\n                    }\n                    boxes.splice(i, 1); // removing box\n                    overlapping = true;\n                }\n            }\n        }\n    }\n    i = 0;\n    // step 4: normalize y and adjust x\n    boxes.forEach(function (b) {\n        var posInCompositeBox = startY + lineHeight / 2; // middle of the label\n        b.targets.forEach(function () {\n            labels[i].y = b.pos + posInCompositeBox;\n            posInCompositeBox += lineHeight;\n            i++;\n        });\n    });\n    // (x - cx)^2 + (y - cy)^2 = totalR^2\n    labels.forEach(function (label) {\n        var rPow2 = label.r * label.r;\n        var dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n        if (rPow2 < dyPow2) {\n            label.x = center.x;\n        }\n        else {\n            var dx = Math.sqrt(rPow2 - dyPow2);\n            if (!isRight) {\n                // left\n                label.x = center.x - dx;\n            }\n            else {\n                // right\n                label.x = center.x + dx;\n            }\n        }\n    });\n}\nvar PieElementLabels = /** @class */ (function (_super) {\n    __extends(PieElementLabels, _super);\n    function PieElementLabels(cfg) {\n        var _this = _super.call(this, __assign({}, cfg)) || this;\n        _this.set('defaultLabelCfg', _this.get('theme').thetaLabels);\n        return _this;\n    }\n    PieElementLabels.prototype.getDefaultOffset = function (point) {\n        return point.offset || 0;\n    };\n    /**\n     * @protected\n     * to avoid overlapping\n     * @param {Array} items labels to be placed\n     * @return {Array} items\n     */\n    PieElementLabels.prototype.adjustItems = function (originItems) {\n        var items = originItems;\n        var offset = items[0] ? items[0].offset : 0;\n        if (offset > 0) {\n            items = this._distribute(items, offset);\n        }\n        return _super.prototype.adjustItems.call(this, items);\n    };\n    // 连接线\n    PieElementLabels.prototype.lineToLabel = function (label) {\n        var coord = this.get('coord');\n        var r = coord.getRadius();\n        var distance = label.offset;\n        var angle = label.orignAngle || label.angle;\n        var center = coord.getCenter();\n        // 贴近圆周\n        var start = getEndPoint(center, angle, r);\n        var inner = getEndPoint(center, angle, r + distance / 2);\n        var end = {\n            x: label.x - Math.cos(angle) * MARGIN,\n            y: label.y - Math.sin(angle) * MARGIN,\n        };\n        if (!_.isObject(label.labelLine)) {\n            // labelLine: true\n            label.labelLine = {};\n        }\n        label.labelLine.path = [\"M \" + start.x, start.y + \" Q\" + inner.x, inner.y + \" \" + end.x, end.y].join(',');\n    };\n    /**\n     * @protected\n     * get rotation for label\n     * @param {Number} angle angle\n     * @param {Number} offset offset\n     * @return {Number} rotate\n     */\n    PieElementLabels.prototype.getLabelRotate = function (angle, offset, isLabelLimit) {\n        var rotate;\n        if (offset < 0) {\n            rotate = (angle * 180) / Math.PI;\n            if (rotate > 90) {\n                rotate = rotate - 180;\n            }\n            if (rotate < -90) {\n                rotate = rotate + 180;\n            }\n        }\n        return (rotate / 180) * Math.PI;\n    };\n    /**\n     * @protected\n     * get text align for label\n     * @param {Object} point point\n     * @return {String} align\n     */\n    PieElementLabels.prototype.getLabelAlign = function (point) {\n        var coord = this.get('coord');\n        var center = coord.getCenter();\n        var align;\n        if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n            align = 'left';\n        }\n        else {\n            align = 'right';\n        }\n        var offset = this.getDefaultOffset(point);\n        if (offset <= 0) {\n            if (align === 'right') {\n                align = 'left';\n            }\n            else {\n                align = 'right';\n            }\n        }\n        return align;\n    };\n    PieElementLabels.prototype.getArcPoint = function (point) {\n        return point;\n    };\n    PieElementLabels.prototype.getPointAngle = function (point) {\n        var coord = this.get('coord');\n        var startPoint = {\n            x: _.isArray(point.x) ? point.x[0] : point.x,\n            y: point.y[0],\n        };\n        this.transLabelPoint(startPoint); // 转换到画布坐标，如果坐标系发生改变\n        var endPoint = {\n            x: _.isArray(point.x) ? point.x[1] : point.x,\n            y: point.y[1],\n        };\n        this.transLabelPoint(endPoint); // 转换到画布坐标，如果坐标系发生改变\n        var angle;\n        var startAngle = PathUtil.getPointAngle(coord, startPoint);\n        if (point.points && point.points[0].y === point.points[1].y) {\n            angle = startAngle;\n        }\n        else {\n            var endAngle = PathUtil.getPointAngle(coord, endPoint);\n            if (startAngle >= endAngle) {\n                // 100% pie slice\n                endAngle = endAngle + Math.PI * 2;\n            }\n            angle = startAngle + (endAngle - startAngle) / 2;\n        }\n        return angle;\n    };\n    PieElementLabels.prototype.getCirclePoint = function (angle, offset, p) {\n        var coord = this.get('coord');\n        var center = coord.getCenter();\n        var r = coord.getRadius() + offset;\n        var point = getEndPoint(center, angle, r);\n        point.angle = angle;\n        point.r = r;\n        return point;\n    };\n    // distribute labels\n    PieElementLabels.prototype._distribute = function (labels, offset) {\n        var coord = this.get('coord');\n        var radius = coord.getRadius();\n        var lineHeight = this.get('defaultLabelCfg').labelHeight;\n        var center = coord.getCenter();\n        var totalR = radius + offset;\n        var totalHeight = totalR * 2 + lineHeight * 2;\n        var plotRange = {\n            start: coord.start,\n            end: coord.end,\n        };\n        var element = this.get('element');\n        if (element) {\n            var view = element.get('view');\n            plotRange = {\n                start: view.get('panelRange').bl,\n                end: view.get('panelRange').tr,\n            };\n        }\n        // step 1: separate labels\n        var halves = [\n            [],\n            [],\n        ];\n        labels.forEach(function (label) {\n            if (!label) {\n                return;\n            }\n            if (label.textAlign === 'right') {\n                // left\n                halves[0].push(label);\n            }\n            else {\n                // right or center will be put on the right side\n                halves[1].push(label);\n            }\n        });\n        halves.forEach(function (half, index) {\n            // step 2: reduce labels\n            var maxLabelsCountForOneSide = totalHeight / lineHeight;\n            if (half.length > maxLabelsCountForOneSide) {\n                half.sort(function (a, b) {\n                    // sort by percentage DESC\n                    return b['..percent'] - a['..percent'];\n                });\n                half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n            }\n            // step 3: distribute position (x and y)\n            half.sort(function (a, b) {\n                // sort by y ASC\n                return a.y - b.y;\n            });\n            antiCollision(half, lineHeight, plotRange, center, index);\n        });\n        return halves[0].concat(halves[1]);\n    };\n    return PieElementLabels;\n}(PolarElementLabels));\nexport default PieElementLabels;\n//# sourceMappingURL=pie.js.map","var ELEMENT_LABELS_MAP = {};\nexport function getElementLabels(type) {\n    return ELEMENT_LABELS_MAP[type.toLowerCase()];\n}\nexport function registerElementLabels(type, ctor) {\n    if (getElementLabels(type)) {\n        throw new Error(\"ElementLabels type '\" + type + \"' existed.\");\n    }\n    ELEMENT_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n//# sourceMappingURL=factory.js.map","import * as _ from '@antv/util';\nimport ElementLabels from './components/base';\nimport IntervalElementLabels from './components/interval';\nimport PieElementLabels from './components/pie';\nimport PolarElementLabels from './components/polar';\nimport { getElementLabels, registerElementLabels } from './components/factory';\nexport { getElementLabels, registerElementLabels, ElementLabels, };\nvar LabelController = /** @class */ (function () {\n    function LabelController(element) {\n        this.element = null;\n        this.labelsContainer = null;\n        this.element = element;\n    }\n    LabelController.prototype._createLabelsContainer = function () {\n        var element = this.element;\n        var elementType = element.get('type');\n        var coord = element.get('coord');\n        var labelOptions = element.get('labelOptions');\n        var Ctor = this._getElementLabelsConstructor(labelOptions.labelType, coord.type, elementType);\n        var container = element.get('frontgroundGroup');\n        var scales = _.map(element.get('labelOptions').fields, function (field) { return element.createScale(field); });\n        var labelsContainer = container.addGroup(Ctor, {\n            labelOptions: _.mix({\n                scales: scales,\n            }, labelOptions),\n            coord: coord,\n            element: element,\n            elementType: elementType,\n            theme: element.get('theme'),\n            visible: element.get('visible'),\n        });\n        this.labelsContainer = labelsContainer;\n    };\n    LabelController.prototype.addLabels = function (points, shapes) {\n        this._createLabelsContainer();\n        this.labelsContainer.showLabels(points, shapes);\n        var labelsGroup = this.labelsContainer.get('labelsGroup');\n        return labelsGroup.get('children'); // 返回创建的 labels\n    };\n    LabelController.prototype.changeVisible = function (visible) {\n        this.labelsContainer && this.labelsContainer.set('visible', visible);\n    };\n    LabelController.prototype.clear = function () {\n        var labelsContainer = this.labelsContainer;\n        labelsContainer && !labelsContainer.destroyed && labelsContainer.remove();\n    };\n    LabelController.prototype._getElementLabelsConstructor = function (labelType, coordType, elementType) {\n        var type = labelType || 'base';\n        if (coordType === 'polar' && type === 'base') {\n            type = 'polar';\n        }\n        else if (coordType === 'theta' && type === 'base') { // pie chart\n            type = 'pie';\n        }\n        else if ((elementType === 'interval' || elementType === 'polygon') && type === 'base') { // bar\n            type = 'interval';\n        }\n        return getElementLabels(type);\n    };\n    return LabelController;\n}());\nexport default LabelController;\nregisterElementLabels('base', ElementLabels);\nregisterElementLabels('interval', IntervalElementLabels);\nregisterElementLabels('pie', PieElementLabels);\nregisterElementLabels('polar', PolarElementLabels);\n//# sourceMappingURL=index.js.map","/**\n * @description Element 上响应 shape 状态的改变\n */\nimport * as _ from '@antv/util';\nvar FIELD_ORIGIN = '_origin';\n// 通过 shape 上的原始数据来判断两个 shape 是否相同\nfunction _isSameShape(shape1, shape2) {\n    if (_.isNil(shape1) || _.isNil(shape2)) {\n        return false;\n    }\n    var shape1Origin = shape1.get('origin');\n    var shape2Origin = shape2.get('origin');\n    return _.isEqual(shape1Origin, shape2Origin);\n}\nfunction isChange(preShapes, shapes) {\n    if (!preShapes) {\n        return true;\n    }\n    if (preShapes.length !== shapes.length) {\n        return true;\n    }\n    var rst = false;\n    _.each(shapes, function (shape, index) {\n        if (!_isSameShape(shape, preShapes[index])) {\n            rst = true;\n            return false;\n        }\n    });\n    return rst;\n}\nfunction getOriginAttrs(modifiedAttrs, originAttrs) {\n    var result = {};\n    _.each(modifiedAttrs, function (v, k) {\n        var originValue = originAttrs[k];\n        if (_.isArray(originValue)) {\n            originValue = originValue.concat(); // 缓存原来的属性，由于 .attr('matrix') 是数组，所以此处需要深度复制\n        }\n        result[k] = originValue;\n    });\n    return result;\n}\nvar StateController = /** @class */ (function () {\n    function StateController(element) {\n        this.element = null;\n        this._activeShapes = null;\n        this._selectedShapes = null;\n        this._inactiveShapes = null;\n        this.element = element;\n    }\n    StateController.prototype.bind = function () {\n        var element = this.element;\n        var view = element.get('view');\n        view.on('active:change', _.wrapBehavior(this, '_onActive'));\n        view.on('selected:change', _.wrapBehavior(this, '_onSelected'));\n        view.on('inactive:change', _.wrapBehavior(this, '_onInactive'));\n    };\n    StateController.prototype.unbind = function () {\n        var element = this.element;\n        var view = element.get('view');\n        view.off('active:change', _.getWrapBehavior(this, '_onActive'));\n        view.off('selected:change', _.getWrapBehavior(this, '_onSelected'));\n        view.off('inactive:change', _.getWrapBehavior(this, '_onInactive'));\n    };\n    StateController.prototype._onActive = function (activeObject) {\n        var _this = this;\n        var element = this.element;\n        var activeOptions = element.get('activeOptions');\n        if (activeOptions === false) { // element.active(false); 不允许 active\n            return;\n        }\n        var shapeContainer = element.get('shapeContainer');\n        var exp = activeObject.exp, draw = activeObject.draw;\n        var activeShapes = this._filterShapes(exp);\n        // 判断是否同上一次 activeShapes 相同，相同则不需要处理\n        var preActiveShapes = this._activeShapes;\n        if (!isChange(preActiveShapes, activeShapes)) {\n            return;\n        }\n        if (preActiveShapes) {\n            this._clearActiveShapes();\n        }\n        this._clearInactiveShapes(); // active 和 inactive 互斥，故需要清空\n        activeShapes.forEach(function (activeShape) {\n            if (activeShape.get('animating')) {\n                activeShape.stopAnimate();\n            }\n            _this._setShapeActive(activeShape);\n        });\n        this._activeShapes = activeShapes;\n        shapeContainer.sort();\n        draw && this._draw();\n    };\n    // 清空原先 active 状态的 shapes\n    StateController.prototype._clearActiveShapes = function () {\n        var shapes = this._activeShapes;\n        _.each(shapes, function (shape) {\n            var originAttrs = shape.get('_beforeActiveAttrs');\n            shape.attr(originAttrs);\n            shape.setZIndex(0);\n            shape.set('_beforeActiveAttrs', null);\n        });\n        // 恢复原来排序\n        var shapeContainer = this.element.get('shapeContainer');\n        var children = shapeContainer.get('children');\n        children.sort(function (obj1, obj2) {\n            return obj1._INDEX - obj2._INDEX;\n        });\n        this._activeShapes = null;\n    };\n    StateController.prototype._setShapeActive = function (shape) {\n        var activeStyle = this._getShapeStyleByState(shape, 'active');\n        // active 是基于当前 shape 的样式进行变化\n        var originAttrs = getOriginAttrs(activeStyle, shape.attr());\n        shape.setSilent('_beforeActiveAttrs', originAttrs);\n        shape.attr(activeStyle);\n        shape.setZIndex(1); // 将 activeShapes 图层提前\n    };\n    StateController.prototype._onSelected = function (selectedObj) {\n        var _this = this;\n        var selectedOptions = this.element.get('selectedOptions');\n        if (selectedOptions === false) { // element.active(false); 不允许 active\n            return;\n        }\n        var exp = selectedObj.exp, draw = selectedObj.draw;\n        var selectedShapes = this._filterShapes(exp);\n        // 判断是否同上一次 selectedShapes 相同，相同则不需要处理\n        var preSelectedShapes = this._selectedShapes;\n        if (!isChange(preSelectedShapes, selectedShapes)) {\n            return;\n        }\n        if (preSelectedShapes) {\n            this._clearSelectedShapes();\n        }\n        this._clearInactiveShapes(); // selected 和 inactive 互斥，故需要清空\n        selectedShapes.forEach(function (shape) {\n            if (shape.get('animating')) {\n                shape.stopAnimate();\n            }\n            _this._setShapeSelected(shape);\n        });\n        this._selectedShapes = selectedShapes;\n        draw && this._draw();\n    };\n    StateController.prototype._clearSelectedShapes = function () {\n        var shapes = this._selectedShapes;\n        _.each(shapes, function (shape) {\n            shape.set('selected', false);\n            if (!shape.get('inactive')) {\n                var originAttrs = shape.get('_originAttrs');\n                shape.attr(originAttrs);\n                shape.set('_originAttrs', null);\n            }\n        });\n        this._selectedShapes = null;\n    };\n    StateController.prototype._setShapeSelected = function (shape) {\n        shape.set('selected', true);\n        var selectedStyle = this._getShapeStyleByState(shape, 'selected');\n        this._applyShapeStyle(shape, selectedStyle);\n    };\n    StateController.prototype._onInactive = function (inactiveObj) {\n        var _this = this;\n        var inactiveOptions = this.element.get('inactiveOptions');\n        if (inactiveOptions === false) { // element.active(false); 不允许 active\n            return;\n        }\n        var exp = inactiveObj.exp, draw = inactiveObj.draw;\n        var inactiveShapes = this._filterShapes(exp);\n        // 判断是否同上一次 _inactiveShapes 相同，相同则不需要处理\n        var preinactiveShapes = this._inactiveShapes;\n        if (!isChange(preinactiveShapes, inactiveShapes)) {\n            return;\n        }\n        if (preinactiveShapes) {\n            this._clearInactiveShapes();\n        }\n        inactiveShapes.forEach(function (shape) {\n            if (shape.get('animating')) {\n                shape.stopAnimate();\n            }\n            _this._setShapeInactive(shape);\n        });\n        this._inactiveShapes = inactiveShapes;\n        draw && this._draw();\n    };\n    StateController.prototype._clearInactiveShapes = function () {\n        var shapes = this._inactiveShapes;\n        _.each(shapes, function (shape) {\n            shape.set('inactive', false);\n            if (!shape.get('selected')) {\n                var originAttrs = shape.get('_originAttrs');\n                shape.attr(originAttrs);\n                shape.set('_originAttrs', null);\n            }\n        });\n        this._inactiveShapes = null;\n    };\n    StateController.prototype._setShapeInactive = function (shape) {\n        shape.set('inactive', true);\n        var inactiveStyle = this._getShapeStyleByState(shape, 'inactive');\n        this._applyShapeStyle(shape, inactiveStyle);\n    };\n    StateController.prototype._applyShapeStyle = function (shape, style) {\n        // 基于 shape 的初始状态\n        var originAttrs = shape.get('_originAttrs');\n        if (originAttrs) {\n            shape.attr(originAttrs);\n        }\n        originAttrs = getOriginAttrs(style, shape.attr());\n        shape.setSilent('_originAttrs', originAttrs);\n        shape.attr(style);\n    };\n    StateController.prototype._filterShapes = function (exp) {\n        var element = this.element;\n        var shapeContainer = element.get('shapeContainer');\n        var shapes = shapeContainer.get('children');\n        return _.filter(shapes, function (shape) {\n            if (shape.get('origin') && shape.get('visible')) {\n                var origin_1 = shape.get('origin');\n                // line、area、path 这三种 element，shape 的 origin 存储的是整个序列的数据集合\n                var data = _.isArray(origin_1) ? origin_1[0][FIELD_ORIGIN] : origin_1[FIELD_ORIGIN];\n                return exp(data);\n            }\n        });\n    };\n    StateController.prototype._getShapeStyleByState = function (shape, state) {\n        var element = this.element;\n        var shapeData = shape.get('origin');\n        var shapeName = shapeData.shape || element.getDefaultValue('shape');\n        if (_.isArray(shapeName)) {\n            shapeName = shapeName[0];\n        }\n        var shapeFactory = element.get('shapeFactory');\n        var shapeStyle = _.mix({}, shape.attr(), {\n            origin: shapeData,\n        });\n        if (state === 'active') {\n            var activeOptions = element.get('activeOptions');\n            var defaultActiveStyle = shapeFactory.getActiveStyle(shapeName, shapeStyle) || {};\n            return _.mix(defaultActiveStyle, activeOptions);\n        }\n        if (state === 'selected') {\n            var selectedOptions = element.get('selectedOptions');\n            var defaultSelectedStyle = shapeFactory.getSelectedStyle(shapeName, shapeStyle) || {};\n            return _.mix(defaultSelectedStyle, selectedOptions);\n        }\n        if (state === 'inactive') {\n            var inactiveOptions = element.get('inactiveOptions');\n            var defaultInactiveStyle = shapeFactory.getInactiveStyle(shapeName, shapeStyle) || {};\n            return _.mix(defaultInactiveStyle, inactiveOptions);\n        }\n        return shapeStyle;\n    };\n    StateController.prototype._draw = function () {\n        var canvas = this.element.get('canvas');\n        // 防止因为 state 处理是异步的，在 dom 元素移除之后再处理\n        if (!canvas)\n            return;\n        var drawTimer = canvas.get('_drawTimer');\n        if (drawTimer) {\n            clearTimeout(drawTimer);\n            canvas.set('_drawTimer', null);\n        }\n        drawTimer = setTimeout(function () {\n            canvas.draw();\n        }, 16);\n        canvas.set('_drawTimer', drawTimer);\n    };\n    return StateController;\n}());\nexport default StateController;\n//# sourceMappingURL=state.js.map","import * as _ from '@antv/util';\nexport function parseFields(field) {\n    if (_.isArray(field)) {\n        return field;\n    }\n    return field.split('*');\n}\n//# sourceMappingURL=parse-fields.js.map","import { __assign, __extends } from \"tslib\";\nimport { getAttribute, getAdjust } from '../dependents';\nimport * as _ from '@antv/util';\nimport { getShapeFactory } from './shape/base';\nimport Base from '../base';\nimport Global from '../global';\nimport TooltipController from './controller/tooltip';\nimport LabelController from './controller/label';\nimport StateController from './controller/state';\nimport { parseFields } from './util/parse-fields';\nvar GROUP_ATTRS = ['color', 'shape', 'size'];\nexport var FIELD_ORIGIN = '_origin';\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    function Element(cfg) {\n        var _this = _super.call(this, __assign({ id: null, type: 'base', shapeType: null, coord: null, attrs: {}, data: [], scales: {}, attrOptions: {}, view: null, canvas: null, container: null, shapeContainer: null, generatePoints: false, sortable: false, animate: true, visible: true, shareTooltip: true, activeOptions: null, inactiveOptions: null, selectedOptions: null, labelOptions: null, tooltipOptions: null, adjustOptions: null, styleOptions: null, statOptions: null, animateOptions: null, theme: null, widthRatio: Global.widthRatio }, cfg)) || this;\n        // 设置 theme\n        var theme = _this.get('theme') || Global.theme;\n        _this.set('theme', theme);\n        // 初始化容器，container 容器在 view 中添加 element 的时候创建\n        _this.get('container') && _this._initContainer();\n        // 初始化 Element 的辅助控制器对象\n        _this._initController();\n        return _this;\n    }\n    Element.prototype.position = function (cfg) {\n        if (_.isString(cfg)) {\n            this._setAttrOptions('position', {\n                fields: parseFields(cfg),\n            });\n        }\n        else {\n            this._setAttrOptions('position', cfg);\n        }\n        return this;\n    };\n    Element.prototype.color = function (field, cfg) {\n        this._createAttrOption('color', field, cfg);\n        return this;\n    };\n    Element.prototype.shape = function (field, cfg) {\n        this._createAttrOption('shape', field, cfg);\n        return this;\n    };\n    Element.prototype.size = function (field, cfg) {\n        this._createAttrOption('size', field, cfg);\n        return this;\n    };\n    Element.prototype.opacity = function (field, callback) {\n        this._createAttrOption('opacity', field, callback);\n        return this;\n    };\n    Element.prototype.adjust = function (adjustCfg) {\n        var adjusts = adjustCfg;\n        if (_.isString(adjustCfg) || _.isPlainObject(adjustCfg)) {\n            adjusts = [adjustCfg];\n        }\n        _.each(adjusts, function (adjust, index) {\n            if (!_.isObject(adjust)) {\n                adjusts[index] = { type: adjust };\n            }\n        });\n        this.set('adjustOptions', adjusts);\n        return this;\n    };\n    Element.prototype.style = function (field, callback) {\n        if (_.isString(field)) {\n            var fields = parseFields(field);\n            this.set('styleOptions', {\n                fields: fields,\n                callback: callback,\n            });\n        }\n        else {\n            var fields = field.fields, callback_1 = field.callback, cfg = field.cfg;\n            if (fields || callback_1 || cfg) {\n                this.set('styleOptions', field);\n            }\n            else {\n                this.set('styleOptions', {\n                    cfg: field,\n                });\n            }\n        }\n        return this;\n    };\n    Element.prototype.tooltip = function (field, cfg) {\n        if (_.isString(field)) {\n            var fields = parseFields(field);\n            this.set('tooltipOptions', {\n                fields: fields,\n                callback: cfg,\n            });\n        }\n        else {\n            this.set('tooltipOptions', field);\n        }\n        return this;\n    };\n    Element.prototype.label = function (field, cfg) {\n        var labelOptions = {};\n        if (_.isString(field)) {\n            var fields = parseFields(field);\n            labelOptions.fields = fields;\n            labelOptions.callback = cfg;\n            this.set('labelOptions', labelOptions);\n        }\n        else {\n            this.set('labelOptions', field);\n        }\n        return this;\n    };\n    /**\n     * element 上的动画配置\n     * @param cfg 动画配置\n     */\n    Element.prototype.animate = function (cfg) {\n        this.set('animateOptions', cfg);\n        return this;\n    };\n    /**\n     * 配置 element 下 shape 在 active 状态下的样式\n     * @param cfg active 的样式，为 false 时表示不允许 active\n     */\n    Element.prototype.active = function (cfg) {\n        this.set('activeOptions', cfg);\n        return this;\n    };\n    /**\n     * 配置 element 下 shape 在 selected 状态下的样式\n     * @param cfg selected 的样式，为 false 时表示不允许 selected\n     */\n    Element.prototype.selected = function (cfg) {\n        this.set('selectedOptions', cfg);\n        return this;\n    };\n    /**\n     * 配置 element 下 shape 在 inactive 状态下的样式\n     * @param cfg inactive 的样式，为 false 时表示不允许 inactive\n     */\n    Element.prototype.inactive = function (cfg) {\n        this.set('inactiveOptions', cfg);\n        return this;\n    };\n    /**\n     * 初始化 element，生成 attribute, scale 对象，同时对数据进行处理\n     */\n    Element.prototype.init = function () {\n        var _this = this;\n        // 将容器应用坐标系的变换\n        var coord = this.get('coord');\n        var shapeContainer = this.get('shapeContainer');\n        shapeContainer.setMatrix(coord.matrix);\n        // 执行统计函数\n        var data = this.get('data'); // 原始数据\n        // 生成图形属性对象以及对应的 scales\n        this._initAttrs(data);\n        // 创建 tooltip() 方法上声明字段对应的 scale 对象\n        var tooltipOptions = this.get('tooltipOptions');\n        if (tooltipOptions && tooltipOptions.fields) {\n            var fields = tooltipOptions.fields;\n            fields.forEach(function (field) {\n                _this.createScale(field, data); // 创建 tooltip 上对应的度量\n            });\n        }\n        var dataArray = this._processData(data);\n        dataArray = this._adjustData(dataArray);\n        this.set('dataArray', dataArray);\n    };\n    Element.prototype.bindStates = function () {\n        if (this.get('view')) {\n            var stateController = new StateController(this);\n            stateController.bind();\n            this.set('stateController', stateController);\n        }\n    };\n    Element.prototype.unbindStates = function () {\n        if (this.get('view')) {\n            var stateController = this.get('stateController');\n            stateController && stateController.unbind();\n        }\n    };\n    /**\n     * 进行数据到图形空间的映射同时绘制图形\n     */\n    Element.prototype.paint = function () {\n        var coord = this.get('coord');\n        var theme = this.get('theme');\n        var dataArray = this.get('dataArray');\n        var mappedArray = [];\n        var shapeFactory = this._getShapeFactory();\n        shapeFactory.setCoord(coord);\n        shapeFactory.setTheme(theme.shape); // 获取主题\n        var shapeContainer = this.get('shapeContainer');\n        this._beforeMapping(dataArray);\n        for (var i = 0, len = dataArray.length; i < len; i += 1) {\n            var data = dataArray[i];\n            data = this._mapping(data);\n            mappedArray.push(data);\n            this.draw(data, shapeContainer, shapeFactory, i);\n        }\n        // 添加 label\n        if (this.get('labelOptions')) {\n            var labelController = this.get('labelController');\n            var labels = labelController.addLabels(_.union.apply(_, mappedArray), shapeContainer.get('children'));\n            this.set('labels', labels);\n        }\n        if (!this.get('sortable')) {\n            this._sort(mappedArray); // 便于数据的查找，需要对数据进行排序，用于 geom.findPoint()\n        }\n        else {\n            this.set('dataArray', mappedArray);\n        }\n    };\n    Element.prototype.clear = function () {\n        this.clearInner();\n        this.set('scales', {});\n        this.set('labels', null);\n    };\n    Element.prototype.destroy = function () {\n        this.clear();\n        var shapeContainer = this.get('shapeContainer');\n        shapeContainer && shapeContainer.remove();\n        var container = this.get('container');\n        container && container.remove();\n        this.unbindStates();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * 获取图形属性对应的默认值\n     * @param attrName 图形属性名称\n     */\n    Element.prototype.getDefaultValue = function (attrName) {\n        var value;\n        var attr = this.getAttr(attrName);\n        if (attr && _.isEmpty(attr.scales)) { // 获取映射至常量的值\n            value = attr.values[0];\n        }\n        return value;\n    };\n    /**\n     * 隐藏或者展示 Element\n     * @param visible boolean 类型，是否可见\n     * @param stopDraw 可选，boolean 类型，是否结束绘画\n     */\n    Element.prototype.changeVisible = function (visible, stopDraw) {\n        this.set('visible', visible);\n        var shapeContainer = this.get('shapeContainer');\n        shapeContainer && shapeContainer.set('visible', visible);\n        // should be done in controller\n        var labelController = this.get('labelController');\n        labelController && labelController.changeVisible(visible);\n        if (!stopDraw && shapeContainer) {\n            var canvas = this.get('canvas');\n            canvas.draw();\n        }\n    };\n    /**\n     * 根据图形属性名称获取对应的图形属性对象\n     * @param name 图形属性名\n     */\n    Element.prototype.getAttr = function (name) {\n        return this.get('attrs')[name];\n    };\n    /**\n     * 获取同图例相关的图形属性对象\n     */\n    Element.prototype.getAttrsForLegend = function () {\n        var attrs = _.values(this.get('attrs'));\n        return _.filter(attrs, function (attr) { return _.contains(GROUP_ATTRS, attr.type); });\n    };\n    /**\n     * 获取 x 方向上的度量\n     */\n    Element.prototype.getXScale = function () {\n        return this.getAttr('position').scales[0];\n    };\n    /**\n     * 获取 y 方向上的度量，目前只支持二维\n     */\n    Element.prototype.getYScale = function () {\n        return this.getAttr('position').scales[1];\n    };\n    /**\n     * 获取 Element 上对应所有的图形对象 shape\n     */\n    Element.prototype.getShapes = function () {\n        var shapeContainer = this.get('shapeContainer');\n        return shapeContainer.get('children');\n    };\n    /**\n     * 判断 Element 是否位于极坐标系下\n     */\n    Element.prototype.isInCircle = function () {\n        var coord = this.get('coord');\n        return !!(coord && coord.isPolar);\n    };\n    /**\n     * 为每个 shape 添加额外的信息，用于动画\n     * @param shape shape 实例\n     * @param index 索引值，绘制的顺序，同数据顺序对应\n     */\n    Element.prototype.appendShapeInfo = function (shape, index) {\n        if (shape) {\n            shape.setSilent('index', index);\n            shape.setSilent('coord', this.get('coord'));\n            shape.setSilent('scales', this.get('scales'));\n            if (this.get('animate') && !_.isNil(this.get('animateOptions'))) {\n                shape.setSilent('animateOptions', this.get('animateOptions'));\n            }\n        }\n    };\n    /**\n     * 判断是否发生同 adjustType 对应的调整\n     * @param adjustType adjust 类型\n     */\n    Element.prototype.hasAdjust = function (adjustType) {\n        var adjustOptions = this.get('adjustOptions');\n        var rst = false;\n        _.each(adjustOptions, function (adjustOption) {\n            if (adjustOption.type === adjustType) {\n                rst = true;\n                return false;\n            }\n        });\n        return rst;\n    };\n    /**\n     * 获取图形属性对应的值\n     * @param attr 图形属性对象\n     * @param record 数据\n     */\n    Element.prototype.getAttrValues = function (attr, record) {\n        var scales = attr.scales;\n        var params = _.map(scales, function (scale) {\n            var field = scale.field;\n            if (scale.type === 'identity') {\n                return scale.values[0];\n            }\n            if (scale.isCategory) {\n                return record[field]; // 数据有可能发生过 adjust\n            }\n            return record[field];\n        });\n        return attr.mapping.apply(attr, params);\n    };\n    Element.prototype.getSize = function (obj) {\n        var sizeController = this.get('sizeController');\n        if (sizeController) {\n            return sizeController.getSize(obj);\n        }\n    };\n    Element.prototype.getNormalizedSize = function (obj) {\n        var sizeController = this.get('sizeController');\n        if (sizeController) {\n            return sizeController.getNormalizedSize(obj);\n        }\n    };\n    /**\n     * 获取分组相关的度量\n     */\n    Element.prototype.getGroupScales = function () {\n        var scales = this.get('groupScales');\n        if (!scales) {\n            var attrs = _.values(this.get('attrs'));\n            // 所有的分组 Attribute 实例\n            var groupAttrs = _.filter(attrs, function (attr) { return _.contains(GROUP_ATTRS, attr.type); });\n            // 所有的分组 scale\n            var groupScales = _.map(groupAttrs, function (attr) { return _.filter(attr.scales, function (scale) { return scale.isCategory; }); });\n            // 打平，去重\n            scales = _.uniq(_.flatten(groupScales));\n            this.set('groupScales', scales);\n        }\n        return scales;\n    };\n    /**\n     * 获取图例的字段集合\n     */\n    Element.prototype.getLegendFields = function () {\n        var fields = [];\n        var attrOptions = this.get('attrOptions'); // 因为会在生成 scale 前调用，所以通过 attrOptions 进行判断\n        GROUP_ATTRS.forEach(function (attrName) {\n            var attrOption = attrOptions[attrName];\n            var attrFields = _.get(attrOption, 'fields', []);\n            fields = fields.concat(attrFields);\n        });\n        return _.uniq(fields);\n    };\n    /**\n     * 是否合并 tooltip\n     */\n    Element.prototype.isShareTooltip = function () {\n        var isShareTooltip = this.get('shareTooltip');\n        if (!this.getYScale()) { // 一维图表不合并 tooltip\n            isShareTooltip = false;\n        }\n        return isShareTooltip;\n    };\n    /**\n     * 根据画布坐标在 source 中查找匹配的数据\n     * @param point 画布坐标\n     * @param source 数据源(已排序)\n     */\n    Element.prototype.findPoint = function (point, source) {\n        var tooltipController = this.get('tooltipController');\n        return tooltipController.findPoint(point, source);\n    };\n    /**\n     * 根据数据获取对应的 tooltip items 信息\n     * @param data 数据记录\n     * @param titleField tooltip title 字段名\n     */\n    Element.prototype.getTooltipItems = function (data, titleField) {\n        var tooltipController = this.get('tooltipController');\n        return tooltipController.getTooltipItems(data, titleField);\n    };\n    /**\n     * 获取 Y 轴上的最小值\n     */\n    Element.prototype.getYMinValue = function () {\n        var yScale = this.getYScale();\n        var min = yScale.min, max = yScale.max;\n        var value;\n        if (min >= 0) {\n            value = min;\n        }\n        else if (max <= 0) { // 当值全位于负区间时，需要保证 ymin 在区域内，不可为 0\n            value = max;\n        }\n        else {\n            value = 0;\n        }\n        return value;\n    };\n    /**\n     * 为每个 shape 生成唯一标识 ID，用于动画\n     * @param dataObj shape 的原始数据\n     */\n    Element.prototype.getShapeId = function (dataObj) {\n        var id = this.get('id');\n        var keyFields = this.get('keyFields');\n        if (keyFields && keyFields.length > 0) {\n            _.each(keyFields, function (key) {\n                id = id + \"-\" + dataObj[key];\n            });\n        }\n        else {\n            var type = this.get('type');\n            var xScale = this.getXScale();\n            var yScale = this.getYScale();\n            var xField = xScale.field || 'x';\n            var yField = yScale.field || 'y';\n            var yVal = dataObj[yField];\n            var xVal = void 0;\n            if (xScale.isIdentity) {\n                xVal = xScale.values[0];\n            }\n            else {\n                xVal = dataObj[xField];\n            }\n            if (type === 'interval' || type === 'schema') {\n                id = id + \"-\" + xVal;\n            }\n            else if (type === 'line' || type === 'area' || type === 'path') {\n                id = id + \"-\" + type;\n            }\n            else {\n                id = id + \"-\" + xVal + \"-\" + yVal;\n            }\n            var groupScales = this.getGroupScales();\n            if (!_.isEmpty(groupScales)) {\n                _.each(groupScales, function (groupScale) {\n                    // @ts-ignore\n                    var field = groupScale.field;\n                    if (groupScale.type !== 'identity') {\n                        id = id + \"-\" + dataObj[field];\n                    }\n                });\n            }\n        }\n        return id;\n    };\n    /**\n     * 根据画布坐标点获取对应的原始数据\n     * @param point 画布坐标点\n     */\n    Element.prototype.getOriginDataByPoint = function (point) {\n        var _a;\n        var xScale = this.getXScale();\n        var yScale = this.getYScale();\n        var coord = this.get('coord');\n        var invertPoint = coord.invert(point);\n        var xValue = xScale.invert(invertPoint.x);\n        var yValue = yScale.invert(invertPoint.y);\n        var xField = xScale.field;\n        var yField = yScale.field;\n        return _a = {},\n            _a[xField] = xValue,\n            _a[yField] = yValue,\n            _a;\n    };\n    /**\n     * @protected\n     * 根据数据获取图形的关键点数据\n     * @param obj 数据对象\n     */\n    Element.prototype.createShapePointsCfg = function (obj) {\n        var xScale = this.getXScale();\n        var yScale = this.getYScale();\n        var x = this._normalizeValues(obj[xScale.field], xScale);\n        var y; // 存在没有 y 的情况\n        if (yScale) {\n            y = this._normalizeValues(obj[yScale.field], yScale);\n        }\n        else {\n            y = obj.y ? obj.y : 0.1;\n        }\n        return {\n            x: x,\n            y: y,\n            y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n        };\n    };\n    /**\n     * @protected\n     * 根据数据生成图形\n     * @param data 需要绘制的数据集合\n     * @param container 图形容器\n     * @param shapeFactory shape 的管理对象\n     * @param index 索引值\n     */\n    Element.prototype.draw = function (data, container, shapeFactory, index) {\n        for (var i = 0, len = data.length; i < len; i += 1) {\n            var obj = data[i];\n            this.drawPoint(obj, container, shapeFactory, index + i);\n        }\n    };\n    /**\n     * @protected\n     * 绘制具体的 shape\n     * @param obj 需要绘制的一套数据\n     * @param container 图形容器\n     * @param shapeFactory  shape 的管理对象\n     * @param index 索引值\n     */\n    Element.prototype.drawPoint = function (obj, container, shapeFactory, index) {\n        var shape = obj.shape;\n        var cfg = this.getDrawCfg(obj);\n        var geomShape = shapeFactory.drawShape(shape, cfg, container);\n        this.appendShapeInfo(geomShape, index);\n    };\n    /**\n     * 构造绘图图形需要的属性\n     * @param obj 数据\n     */\n    Element.prototype.getDrawCfg = function (obj) {\n        var cfg = {\n            origin: obj,\n            x: obj.x,\n            y: obj.y,\n            color: obj.color,\n            size: obj.size,\n            shape: obj.shape,\n            isInCircle: this.isInCircle(),\n            opacity: obj.opacity,\n        };\n        var styleOptions = this.get('styleOptions');\n        if (styleOptions) {\n            cfg.style = this._getStyleCfg(styleOptions, obj[FIELD_ORIGIN]);\n        }\n        if (this.get('generatePoints')) {\n            cfg.points = obj.points;\n            cfg.nextPoints = obj.nextPoints;\n        }\n        cfg.id = this.getShapeId(obj[FIELD_ORIGIN]);\n        return cfg;\n    };\n    Element.prototype.clearInner = function () {\n        // this.clearActivedShapes();\n        // this.clearSelected();\n        var shapeContainer = this.get('shapeContainer');\n        shapeContainer && shapeContainer.clear();\n        // 由于 Labels 对应的模块需要生成group，所以这个地方需要删除\n        var labelController = this.get('labelController');\n        labelController && labelController.clear();\n        this.set('attrs', {});\n        this.set('groupScales', null);\n        var sizeController = this.get('sizeController');\n        sizeController && sizeController.clear();\n        var tooltipController = this.get('tooltipController');\n        tooltipController.clear();\n        // todo clear other controller\n    };\n    // 创建图形属性相关的配置项\n    Element.prototype._createAttrOption = function (attrName, field, cfg) {\n        if (_.isObject(field)) {\n            this._setAttrOptions(attrName, field);\n        }\n        else {\n            var attrCfg = {};\n            if (_.isNumber(field)) { // size(3), opacity(0.8)\n                attrCfg.values = [field];\n            }\n            else {\n                attrCfg.fields = parseFields(field);\n            }\n            if (cfg) {\n                if (_.isFunction(cfg)) {\n                    attrCfg.callback = cfg;\n                }\n                else {\n                    attrCfg.values = cfg;\n                }\n            }\n            this._setAttrOptions(attrName, attrCfg);\n        }\n    };\n    // 初始化容器\n    Element.prototype._initContainer = function () {\n        var container = this.get('container');\n        var view = this.get('view'); // element 所在的 view\n        var viewId = view.get('id');\n        var visible = this.get('visible');\n        var shapeContainer = container.addGroup({\n            viewId: viewId,\n            visible: visible,\n        });\n        this.set('shapeContainer', shapeContainer);\n    };\n    // 初始化 element 相关的控制器\n    Element.prototype._initController = function () {\n        // tooltipController\n        var tooltipController = new TooltipController(this);\n        this.set('tooltipController', tooltipController);\n        // labelController\n        var labelController = new LabelController(this);\n        this.set('labelController', labelController);\n    };\n    // 存储用户设置的图形属性配置项\n    Element.prototype._setAttrOptions = function (name, cfg) {\n        var attrOptions = this.get('attrOptions');\n        attrOptions[name] = cfg;\n    };\n    // 给字段创建度量\n    Element.prototype.createScale = function (field, data) {\n        var view = this.get('view');\n        var scales = this.get('scales');\n        var scale = scales[field];\n        if (!scale) {\n            scale = view._initScale(field, data);\n            scales[field] = scale;\n        }\n        return scale;\n    };\n    // 初始化 Attribute 实例同时生成相关的 scale 度量\n    Element.prototype._initAttrs = function (data) {\n        var _this = this;\n        var attrs = this.get('attrs'); // attribute 实例\n        var attrOptions = this.get('attrOptions'); // 传入的配置\n        var coord = this.get('coord');\n        var theme = this.get('theme');\n        var geomType = this.get('type');\n        // 遍历每一个 attrOption，各自创建 Attribute 实例\n        _.each(attrOptions, function (option, type) {\n            var attrOption = __assign({}, option);\n            var callback = attrOption.callback, values = attrOption.values, _a = attrOption.fields, fields = _a === void 0 ? [] : _a;\n            // 饼图的特殊逻辑，填充 position 上的一维映射\n            if (type === 'position' && fields.length === 1 && coord.type === 'theta') {\n                fields.unshift('1');\n            }\n            // 给每一个字段创建 scale\n            var scales = _.map(fields, function (field) {\n                return _this.createScale(field, data);\n            });\n            // 饼图需要填充满整个空间\n            if (coord.type === 'theta' && type === 'position' && scales.length > 1) {\n                var yScale = scales[1];\n                yScale.change({\n                    nice: false,\n                    min: 0,\n                    max: Math.max.apply(null, yScale.values),\n                });\n            }\n            attrOption.scales = scales;\n            if (_.indexOf(['color', 'size', 'shape', 'opacity'], type) !== -1 &&\n                scales.length === 1 && scales[0].isIdentity) { // 用户在图形通道上声明了常量字段 color('red'), size(5)\n                attrOption.values = scales[0].values;\n            }\n            else if (!callback && !values) { // 用户没有指定任何规则，则使用默认的映射规则\n                if (type === 'size') {\n                    attrOption.values = theme.sizes;\n                }\n                else if (type === 'shape') {\n                    attrOption.values = theme.shapes[geomType] || [];\n                }\n                else if (type === 'opacity') {\n                    attrOption.values = theme.opacities;\n                }\n                else if (type === 'color' && scales.length) { // TODO 需要优化\n                    var valuesLen = scales[0].values.length;\n                    if (valuesLen <= 10) {\n                        attrOption.values = theme.colors;\n                    }\n                    else {\n                        attrOption.values = theme.colors_20;\n                    }\n                }\n            }\n            var attrCtor = getAttribute(type);\n            attrs[type] = new attrCtor(attrOption);\n        });\n    };\n    // 更新发生层叠后的数据对应的度量范围\n    Element.prototype._updateStackRange = function (field, scale, dataArray) {\n        var mergeArray = _.flatten(dataArray);\n        var min = scale.min;\n        var max = scale.max;\n        for (var i = 0, len = mergeArray.length; i < len; i += 1) {\n            var obj = mergeArray[i];\n            var tmpMin = Math.min.apply(null, obj[field]);\n            var tmpMax = Math.max.apply(null, obj[field]);\n            if (tmpMin < min) {\n                min = tmpMin;\n            }\n            if (tmpMax > max) {\n                max = tmpMax;\n            }\n        }\n        if (min < scale.min || max > scale.max) {\n            scale.change({\n                min: min,\n                max: max,\n            });\n        }\n    };\n    // 对数据进行分组\n    Element.prototype._groupData = function (data) {\n        var groupScales = this.getGroupScales();\n        var fields = groupScales.map(function (scale) { return scale.field; });\n        return _.group(data, fields);\n    };\n    // 数据调整前保存原始数据\n    Element.prototype._saveOrigin = function (data) {\n        return _.map(data, function (origin) {\n            var _a;\n            return __assign(__assign({}, origin), (_a = {}, _a[FIELD_ORIGIN] = origin, _a));\n        });\n    };\n    // 将分类数据翻译成数据, 仅对位置相关的度量进行数字化处理\n    Element.prototype._numeric = function (data) {\n        var positionAttr = this.getAttr('position');\n        var scales = positionAttr.scales;\n        for (var j = 0, len = data.length; j < len; j += 1) {\n            var obj = data[j];\n            for (var i = 0; i < Math.min(2, scales.length); i += 1) {\n                var scale = scales[i];\n                if (scale.isCategory) {\n                    var field = scale.field;\n                    obj[field] = scale.translate(obj[field]); // TODO\n                }\n            }\n        }\n    };\n    // 处理数据：分组、存储原始数据、将分类数据数字化\n    Element.prototype._processData = function (data) {\n        var _this = this;\n        var groupedArray = this._groupData(data);\n        return _.map(groupedArray, function (subData) {\n            var tempData = _this._saveOrigin(subData);\n            _this._numeric(tempData);\n            return tempData;\n        });\n    };\n    // 进行数据调整\n    Element.prototype._adjustData = function (dataArray) {\n        var _this = this;\n        var adjustOptions = this.get('adjustOptions');\n        var result = dataArray;\n        if (adjustOptions) {\n            var theme = this.get('theme');\n            var xScale_1 = this.getXScale();\n            var yScale_1 = this.getYScale();\n            var xField_1 = xScale_1.field;\n            var yField_1 = yScale_1 ? yScale_1.field : null;\n            adjustOptions.forEach(function (adjust) {\n                var adjustCfg = __assign({ xField: xField_1,\n                    yField: yField_1 }, adjust);\n                var type = adjust.type;\n                if (type === 'dodge') {\n                    var adjustNames = [];\n                    if (xScale_1.isCategory || xScale_1.isIdentity) {\n                        adjustNames.push('x');\n                    }\n                    else if (!yScale_1) {\n                        adjustNames.push('y');\n                    }\n                    else {\n                        throw new Error('dodge is not support linear attribute, please use category attribute!');\n                    }\n                    adjustCfg.adjustNames = adjustNames;\n                    adjustCfg.dodgeRatio = _this.get('widthRatio').column;\n                }\n                else if (type === 'stack') {\n                    var coord = _this.get('coord');\n                    if (!yScale_1) {\n                        // 一维的情况下获取高度和默认size\n                        adjustCfg.height = coord.getHeight();\n                        var size = _this.getDefaultValue('size') || 3;\n                        adjustCfg.size = size;\n                    }\n                    // 不进行 transpose 时，用户又没有设置这个参数时，默认从上向下\n                    if (!coord.isTransposed && _.isNil(adjustCfg.reverseOrder)) {\n                        adjustCfg.reverseOrder = true;\n                    }\n                }\n                var adjustCtor = getAdjust(type);\n                var adjustInstance = new adjustCtor(adjustCfg);\n                result = adjustInstance.process(result);\n                if (type === 'stack' && yScale_1) {\n                    _this._updateStackRange(yField_1, yScale_1, result);\n                }\n            });\n        }\n        return result;\n    };\n    // 获取 element 对应 shape 的工厂对象\n    Element.prototype._getShapeFactory = function () {\n        var shapeFactory = this.get('shapeFactory');\n        if (!shapeFactory) {\n            var shapeType = this.get('shapeType');\n            shapeFactory = getShapeFactory(shapeType);\n            this.set('shapeFactory', shapeFactory);\n        }\n        return shapeFactory;\n    };\n    // 生成 shape 的关键点\n    Element.prototype._generatePoints = function (data) {\n        var shapeFactory = this._getShapeFactory();\n        var shapeAttr = this.getAttr('shape');\n        for (var i = 0, len = data.length; i < len; i += 1) {\n            var obj = data[i];\n            var cfg = this.createShapePointsCfg(obj);\n            var shape = shapeAttr ? this.getAttrValues(shapeAttr, obj) : null;\n            var points = shapeFactory.getShapePoints(shape, cfg);\n            obj.points = points;\n        }\n    };\n    // 将数据归一化\n    Element.prototype._normalizeValues = function (values, scale) {\n        var rst = [];\n        if (_.isArray(values)) {\n            for (var i = 0, len = values.length; i < len; i += 1) {\n                var v = values[i];\n                rst.push(scale.scale(v));\n            }\n        }\n        else {\n            rst = scale.scale(values);\n        }\n        return rst;\n    };\n    // 将数据映射至图形空间前的操作：排序以及关键点的生成\n    Element.prototype._beforeMapping = function (dataArray) {\n        var _this = this;\n        if (this.get('sortable')) {\n            var xScale_2 = this.getXScale();\n            var field_1 = xScale_2.field;\n            _.each(dataArray, function (data) {\n                data.sort(function (v1, v2) {\n                    return xScale_2.translate(v1[field_1]) - xScale_2.translate(v2[field_1]); // TODO\n                });\n            });\n        }\n        if (this.get('generatePoints')) {\n            _.each(dataArray, function (data) {\n                _this._generatePoints(data);\n            });\n            _.each(dataArray, function (data, index) {\n                var nextData = dataArray[index + 1];\n                if (nextData) {\n                    data[0].nextPoints = nextData[0].points;\n                }\n            });\n        }\n    };\n    // 将数据映射至图形空间\n    Element.prototype._mapping = function (data) {\n        var attrs = this.get('attrs');\n        var mappedData = [];\n        for (var i = 0, len = data.length; i < len; i += 1) {\n            var record = data[i];\n            var newRecord = {\n                _origin: record[FIELD_ORIGIN],\n                points: record.points,\n                nextPoints: record.nextPoints,\n            };\n            for (var k in attrs) {\n                if (attrs.hasOwnProperty(k)) {\n                    var attr = attrs[k];\n                    var names = attr.names;\n                    var values = this.getAttrValues(attr, record);\n                    if (names.length > 1) { // position 之类的生成多个字段的属性\n                        for (var j = 0; j < values.length; j += 1) {\n                            var val = values[j];\n                            var name_1 = names[j];\n                            newRecord[name_1] = (_.isArray(val) && val.length === 1) ? val[0] : val; // 只有一个值时返回第一个属性值\n                        }\n                    }\n                    else {\n                        // newRecord[names[0]] = values.length === 1 ? values[0] : values;\n                        // FIXME: 目前只有 color 通道是受 attr 结果统一为数组的影响的，暂时这么调整\n                        if (values.length === 1 || names[0] === 'color') {\n                            newRecord[names[0]] = values[0];\n                        }\n                        else {\n                            newRecord[names[0]] = values;\n                        }\n                    }\n                }\n            }\n            this._convertPoint(newRecord); // 将 x、y 转换成画布坐标\n            mappedData.push(newRecord);\n        }\n        return mappedData;\n    };\n    // 将归一化的坐标值转换成画布坐标\n    Element.prototype._convertPoint = function (mappedRecord) {\n        var x = mappedRecord.x, y = mappedRecord.y;\n        if (_.isNil(x) || _.isNil(y)) {\n            return;\n        }\n        var rstX;\n        var rstY;\n        var obj;\n        var coord = this.get('coord');\n        if (_.isArray(y) && _.isArray(x)) {\n            rstX = [];\n            rstY = [];\n            for (var i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n                obj = coord.convertPoint({\n                    x: x[i],\n                    y: y[j],\n                });\n                rstX.push(obj.x);\n                rstY.push(obj.y);\n            }\n        }\n        else if (_.isArray(y)) {\n            rstY = [];\n            y.forEach(function (yVal) {\n                obj = coord.convertPoint({\n                    x: x,\n                    y: yVal,\n                });\n                if (rstX && rstX !== obj.x) {\n                    if (!_.isArray(rstX)) {\n                        rstX = [rstX];\n                    }\n                    rstX.push(obj.x);\n                }\n                else {\n                    rstX = obj.x;\n                }\n                rstY.push(obj.y);\n            });\n        }\n        else if (_.isArray(x)) {\n            rstX = [];\n            x.forEach(function (xVal) {\n                obj = coord.convertPoint({\n                    x: xVal,\n                    y: y,\n                });\n                if (rstY && rstY !== obj.y) {\n                    if (!_.isArray(rstY)) {\n                        rstY = [rstY];\n                    }\n                    rstY.push(obj.y);\n                }\n                else {\n                    rstY = obj.y;\n                }\n                rstX.push(obj.x);\n            });\n        }\n        else {\n            var point = coord.convertPoint({\n                x: x,\n                y: y,\n            });\n            rstX = point.x;\n            rstY = point.y;\n        }\n        mappedRecord.x = rstX;\n        mappedRecord.y = rstY;\n    };\n    // 获取 style 配置\n    Element.prototype._getStyleCfg = function (styleOptions, origin) {\n        var _a = styleOptions.fields, fields = _a === void 0 ? [] : _a, callback = styleOptions.callback, cfg = styleOptions.cfg;\n        if (cfg) { // 用户直接配置样式属性\n            return cfg;\n        }\n        var params = fields.map(function (field) {\n            return origin[field];\n        });\n        return callback.apply(void 0, params);\n    };\n    // 对数据进行排序\n    Element.prototype._sort = function (mappedArray) {\n        var xScale = this.getXScale();\n        var xField = xScale.field;\n        _.each(mappedArray, function (itemArr) {\n            itemArr.sort(function (obj1, obj2) {\n                return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n            });\n        });\n        this.set('dataArray', mappedArray);\n    };\n    return Element;\n}(Base));\nexport default Element;\n//# sourceMappingURL=base.js.map","import * as _ from '@antv/util';\nvar EVENT_TYPES = [\n    'start',\n    'process',\n    'end',\n    'reset',\n];\nvar Interaction = /** @class */ (function () {\n    function Interaction(cfg) {\n        var defaultCfg = this._getDefaultCfg();\n        _.assign(this, defaultCfg, cfg);\n        this.canvas = this.view.get('canvas');\n        this._eventHandlers = [];\n        this._bindEvents();\n    }\n    Interaction.prototype._getDefaultCfg = function () {\n        return {\n            startEvent: 'mousedown',\n            processEvent: 'mousemove',\n            endEvent: 'mouseup',\n            resetEvent: 'dblclick',\n        };\n    };\n    Interaction.prototype._start = function (ev) {\n        this.preStart(ev);\n        this.start(ev);\n        this.afterStart(ev);\n    };\n    Interaction.prototype.preStart = function (ev) {\n    };\n    Interaction.prototype.start = function (ev) {\n    };\n    Interaction.prototype.afterStart = function (ev) {\n    };\n    Interaction.prototype._process = function (ev) {\n        this.preProcess(ev);\n        this.process(ev);\n        this.afterProcess(ev);\n    };\n    Interaction.prototype.preProcess = function (ev) {\n    };\n    Interaction.prototype.process = function (ev) {\n    };\n    Interaction.prototype.afterProcess = function (ev) {\n    };\n    Interaction.prototype._end = function (ev) {\n        this.preEnd(ev);\n        this.end(ev);\n        this.afterEnd(ev);\n    };\n    Interaction.prototype.preEnd = function (ev) {\n    };\n    Interaction.prototype.end = function (ev) {\n    };\n    Interaction.prototype.afterEnd = function (ev) {\n    };\n    Interaction.prototype._reset = function (ev) {\n        this.preReset(ev);\n        this.reset(ev);\n        this.afterReset(ev);\n    };\n    Interaction.prototype.preReset = function (ev) {\n    };\n    Interaction.prototype.reset = function (ev) {\n    };\n    Interaction.prototype.afterReset = function (ev) {\n    };\n    Interaction.prototype._bindEvents = function () {\n        var _this = this;\n        _.each(EVENT_TYPES, function (type) {\n            var eventName = _this[type + \"Event\"];\n            var handler = _.wrapBehavior(_this, \"_\" + type);\n            _this.view.on(eventName, handler);\n            _this._eventHandlers.push({ type: eventName, handler: handler });\n        });\n    };\n    Interaction.prototype._unbindEvents = function () {\n        var _this = this;\n        var eventHandlers = this._eventHandlers;\n        _.each(eventHandlers, function (eh) {\n            _this.view.off(eh.type, eh.handler);\n        });\n    };\n    Interaction.prototype.destroy = function () {\n        this._unbindEvents();\n        this._reset();\n    };\n    return Interaction;\n}());\nexport default Interaction;\n//# sourceMappingURL=base.js.map","export var INTERACTION_MAP = {};\nexport var getInteraction = function (type) {\n    return INTERACTION_MAP[type];\n};\nexport var registerInteraction = function (type, ctor) {\n    // 注册的时候，需要校验 type 重名，不区分大小写\n    if (getInteraction(type)) {\n        throw new Error(\"Interaction type '\" + type + \"' existed.\");\n    }\n    // 存储到 map 中\n    INTERACTION_MAP[type] = ctor;\n};\n//# sourceMappingURL=factory.js.map","import { __assign, __extends, __spreadArrays } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Base from '../base';\nimport Global from '../global';\nimport Animate from '../animate';\nimport ScaleController from './controller/scale';\nimport CoordController from './controller/coordinate';\nimport AnnController from './controller/annotation';\nimport LegendController from './controller/legend';\nimport AxisController from './controller/axis';\nimport TooltipController from './controller/tooltip';\nimport ShapeStateController from './controller/shape-state';\nimport EventController from './controller/event';\nimport { getTheme } from '../theme';\nimport { getFacet } from '../facet';\nimport { getElement, } from '../element';\nimport { getInteraction, } from '../interaction';\nimport { BBox } from '@antv/g';\nimport { parsePadding } from '../util';\n// 判断极坐标是否是一个整圆\nfunction isFullCircle(coord) {\n    if (coord.isPolar) {\n        var startAngle = coord.startAngle, endAngle = coord.endAngle;\n        return (endAngle - startAngle) === Math.PI * 2;\n    }\n    return false;\n}\nvar FIELD_ORIGIN = '_origin';\n// TODO maintaining options\nvar View = /** @class */ (function (_super) {\n    __extends(View, _super);\n    function View(cfg) {\n        var _this = _super.call(this, __assign({ animate: Global.animate, widthRatio: Global.widthRatio, canvas: null, container: null, coord: null, elements: [], guideController: null, id: _.uniqueId('view_'), options: {}, padding: Global.theme.padding, parent: null, scaleController: null, scales: {}, start: { x: 0, y: 0 }, end: { x: 1, y: 1 }, width: null, height: null, theme: null, title: null, views: [], visible: true, backgroundStyle: {}, interactions: {} }, cfg)) || this;\n        _this.init();\n        return _this;\n    }\n    View.prototype.axis = function (field, cfg) {\n        var options = this.get('options') || {};\n        if (field === false) {\n            options.axes = false;\n            _.set(options, 'axes', false);\n        }\n        else if (_.isObject(field)) {\n            _.set(options, ['axes', 'fields'], field);\n        }\n        else if (_.isString(field)) {\n            _.set(options, ['axes', 'fields', field], cfg);\n        }\n        else {\n            _.set(options, 'axes', cfg);\n        }\n        return this;\n    };\n    // TODO: 图表标题配置\n    View.prototype.title = function (options) { };\n    View.prototype.tooltip = function (visible, cfg) {\n        var options = this.get('options');\n        if (!options.tooltip) {\n            options.tooltip = {};\n        }\n        if (visible === false) {\n            options.tooltip = false;\n        }\n        else if (_.isObject(visible)) {\n            _.mix(options.tooltip, visible);\n        }\n        else {\n            _.mix(options.tooltip, cfg);\n        }\n        return this;\n    };\n    View.prototype.legend = function (field, cfg) {\n        var options = this.get('options');\n        if (field === false) {\n            // 整体关闭图例\n            _.set(options, 'legends', false);\n        }\n        else if (_.isObject(field)) {\n            // 全局配置图例\n            _.set(options, 'legends', field);\n        }\n        else if (_.isString(field)) {\n            _.set(options, ['legends', 'fields', field], cfg);\n        }\n        else {\n            _.set(options, 'legends', cfg);\n        }\n        return this;\n    };\n    // 静态标注\n    View.prototype.annotation = function () {\n        return this.get('annotationController');\n    };\n    // data\n    // 更新数据\n    View.prototype.changeData = function (data) {\n        this.emit('beforechangedata');\n        this.set('data', data);\n        this._initData();\n        this.emit('afterchangedata');\n        this.repaint();\n        return this;\n    };\n    // 加载数据\n    View.prototype.data = function (data) {\n        this.set('data', data);\n        this._initData();\n        return this;\n    };\n    View.prototype.scale = function (field, cfg) {\n        var options = this.get('options');\n        var scaleDefs = options.scales;\n        if (_.isObject(field)) {\n            _.mix(scaleDefs, field);\n        }\n        else {\n            scaleDefs[field] = cfg;\n        }\n        return this;\n    };\n    // 过滤需要绘制的数据，但是不会改变传入的数据源，如果存在对应的图例，则过滤掉的字段置灰\n    View.prototype.filter = function (field, condition) {\n        var options = this.get('options');\n        if (!options.filters) {\n            options.filters = {};\n        }\n        options.filters[field] = condition;\n        return this;\n    };\n    View.prototype.coordinate = function (type, cfg) {\n        var coordController = this.get('coordController');\n        if (_.isObject(type)) {\n            coordController.reset(type);\n        }\n        else {\n            coordController.reset({\n                type: type,\n                cfg: cfg,\n            });\n        }\n        return coordController;\n    };\n    /**\n     * 创建新的子 view\n     * @param cfg\n     */\n    View.prototype.createView = function (cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        // view 中已有的子 views 数组\n        var views = this.get('views');\n        var newCfg = __assign({ theme: this.get('theme'), parent: this, container: this.get('panelGroup'), canvas: this.get('canvas'), animate: this.get('animate') }, cfg);\n        // options 中的配置\n        newCfg.options = _.mix({}, this._getSharedOptions(), cfg.options);\n        var view = new View(newCfg);\n        view.set('id', _.uniqueId('view_')); // 标识 ID，防止同用户设定的 id 重名\n        views.push(view);\n        this.emit('addview', { view: view });\n        return view;\n    };\n    /**\n     * 移除 view\n     * @param view\n     */\n    View.prototype.removeView = function (view) {\n        var views = this.get('views');\n        _.pull(views, view);\n        view.destroy();\n    };\n    /**\n     * 分面操作\n     * @param option\n     */\n    View.prototype.facet = function (option) {\n        // 先销毁掉之前的分面\n        var preFacet = this.get('facet');\n        if (preFacet)\n            preFacet.destroy();\n        // 创建新的分面\n        var type = _.get(option, 'type');\n        var ctor = getFacet(type);\n        if (!ctor)\n            throw new Error(\"facet '\" + type + \"' is not exist!\");\n        this.set('facet', new ctor(this, option));\n    };\n    /**\n     * 配置动画参数\n     * @param enable\n     */\n    View.prototype.animate = function (enable) {\n        var options = this.get('options');\n        options.animate = enable;\n        this.set('animate', enable);\n        return this;\n    };\n    View.prototype.render = function (stopDrawing) {\n        this._clearInner();\n        this.emit('beforerender');\n        this._beforeRender();\n        this.emit('beforedraw');\n        this._drawGuides();\n        this._drawElements();\n        // 渲染 facet\n        this._renderFacet();\n        // TODO children\n        if (this.get('views').length) {\n            _.each(this.get('views'), function (view) {\n                view.render(stopDrawing);\n            });\n        }\n        this._addBackShape();\n        this._canvasDraw(stopDrawing);\n        this.emit('afterdraw');\n        this.emit('afterrender');\n        this.set('rendered', true);\n        return this;\n    };\n    View.prototype.changeVisible = function (visible, stopDrawing) {\n        _.each(this.get('elements'), function (element) {\n            element.changeVisible(visible, true);\n        });\n        this.get('container').set('visible', visible);\n        var annotationController = this.get('annotationController');\n        annotationController && annotationController.changeVisible(visible);\n        var axisController = this.get('axisController');\n        axisController && axisController.changeVisible(visible);\n        if (!stopDrawing) {\n            this.get('canvas').draw();\n        }\n    };\n    View.prototype.isShapeInView = function (shape) {\n        var id = this.get('id');\n        var shapeViewId = shape.get('viewId');\n        if (shapeViewId) {\n            return shapeViewId === id;\n        }\n        {\n            var container = this.get('container');\n            var parent_1 = shape.get('parent');\n            while (parent_1) {\n                if (parent_1 === container) {\n                    shape.set('viewId', this.get('id'));\n                    return true;\n                }\n                parent_1 = parent_1.get('parent');\n            }\n        }\n        return false;\n    };\n    View.prototype.isPointInView = function (point) {\n        var viewRange = this.get('viewRange');\n        if (point.x > viewRange.minX && point.x < viewRange.maxX && point.y > viewRange.minY && point.y < viewRange.maxY) {\n            return true;\n        }\n        return false;\n    };\n    /**\n     * 获取 x 轴的度量\n     */\n    View.prototype.getXScale = function () {\n        var elements = this.get('elements');\n        if (elements.length) {\n            return elements[0].getXScale();\n        }\n        return null;\n    };\n    /**\n     * 获取 y 轴所有的度量\n     */\n    View.prototype.getYScales = function () {\n        var elements = this.get('elements');\n        var yScales = [];\n        elements.forEach(function (element) {\n            var yScale = element.getYScale();\n            if (yScale && _.indexOf(yScales, yScale) === -1) {\n                yScales.push(yScale);\n            }\n        });\n        return yScales;\n    };\n    /**\n     * 获取原始数据对应的画布坐标\n     * @param data 原始数据\n     */\n    View.prototype.getXY = function (data) {\n        var coord = this.get('coord');\n        var xScales = this._getScales('x');\n        var yScales = this._getScales('y');\n        var x;\n        var y;\n        for (var field in data) {\n            if (xScales[field]) {\n                x = xScales[field].scale(data[field]);\n            }\n            if (yScales[field]) {\n                y = yScales[field].scale(data[field]);\n            }\n        }\n        if (!_.isNil(x) && !_.isNil(y)) {\n            return coord.convert({\n                x: x,\n                y: y,\n            });\n        }\n        return null;\n    };\n    /**\n     * 根据传入的坐标展示该点对应的 tooltip 内容\n     * @param point 画布坐标\n     */\n    View.prototype.showTooltip = function (point) {\n        var tooltipController = this.get('tooltipController');\n        tooltipController.showTooltip(point, this);\n        return this;\n    };\n    /**\n     * 隐藏 tooltip\n     */\n    View.prototype.hideTooltip = function () {\n        var tooltipController = this.get('tooltipController');\n        tooltipController.hideTooltip();\n        return this;\n    };\n    /**\n     * 根据传入的画布坐标，获取该处的 tooltip 上的记录信息\n     * @param point 画布坐标点\n     */\n    View.prototype.getTooltipItems = function (point) {\n        var rst = [];\n        // const elements = this.get('elements');\n        var elements = this.getElements();\n        _.each(elements, function (element) {\n            var dataArray = element.get('dataArray');\n            var items = [];\n            _.each(dataArray, function (data) {\n                var tmpPoint = element.findPoint(point, data);\n                if (tmpPoint) {\n                    var subItems = element.getTooltipItems(tmpPoint);\n                    items = items.concat(subItems);\n                }\n            });\n            rst = rst.concat(items);\n        });\n        return rst;\n    };\n    // lifecycle\n    View.prototype.init = function () {\n        this._initTheme();\n        this._initLayers();\n        this.initRegion();\n        this._initOptions();\n        this._initControllers();\n        this._bindEvents();\n        if (this.get('data')) {\n            this._initData();\n        }\n    };\n    View.prototype.destroy = function () {\n        this._clearEvents();\n        this.off(); // events\n        this.clear(); // UI, models, etc.\n        this.clearAllInteractions(); // clearAllInteractions需要在_destroyViewGroups前面，因为某些interaction依赖group\n        this._destroyViewGroups();\n        _super.prototype.destroy.call(this);\n    };\n    View.prototype.clear = function () {\n        this.set('isUpdate', false);\n        this._clearInner();\n        this._destroyElements();\n        return this;\n    };\n    /**\n     * 清空并重绘\n     */\n    View.prototype.repaint = function () {\n        this.set('isUpdate', true); // 标识符，用于更新动画\n        // this._clearInner();\n        this.render();\n        return this;\n    };\n    /* 还有其他的一些 view 数据获取的方法 */\n    /**\n     * 深度遍历所有的 shape，执行回调函数\n     * @param fn 回调函数包含参数：record,shape,element,view\n     * @return view 当前视图\n     */\n    View.prototype.eachShape = function (fn) {\n        var _this = this;\n        var views = this.get('views');\n        var canvas = this.get('canvas');\n        // 先深度遍历 views\n        _.each(views, function (view) {\n            view.eachShape(fn);\n        });\n        // 在遍历当前 view 中的 elements\n        var elements = this.get('elements');\n        _.each(elements, function (element) {\n            // 遍历每一个 shape\n            var shapes = element.getShapes();\n            _.each(shapes, function (shape) {\n                var origin = shape.get('origin');\n                if (_.isArray(origin)) {\n                    var arr = origin.map(function (obj) {\n                        return obj[FIELD_ORIGIN];\n                    });\n                    fn(arr, shape, element, _this);\n                }\n                else {\n                    var obj = origin[FIELD_ORIGIN];\n                    fn(obj, shape, element, _this);\n                }\n            });\n        });\n        canvas.draw();\n        return this;\n    };\n    /**\n     * 获得所有的 element，\n     * @param recursive 是否递归获取，默认为 false\n     */\n    View.prototype.getElements = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        var elements = __spreadArrays(this.get('elements'));\n        if (recursive) {\n            var views = this.get('views');\n            _.each(views, function (view) {\n                elements = elements.concat(view.getElements(recursive));\n            });\n        }\n        return elements;\n    };\n    /**\n     * 获取过滤后的值（需要显示的值）\n     * @param field 度量\n     * @return  滤后的值\n     */\n    View.prototype.getFilteredValues = function (field) {\n        var scale = this.get('scales')[field];\n        var values = scale.values;\n        var filters = this._getFilters();\n        var rst;\n        if (filters && filters[field]) {\n            rst = values.filter(filters[field]);\n        }\n        else {\n            rst = values.slice(0);\n        }\n        return rst;\n    };\n    /**\n     * 获取被过滤的值（不需显示的值）\n     * @param field 度量\n     * @return 滤出的值\n     */\n    View.prototype.getFilteredOutValues = function (field) {\n        var scale = this.get('scales')[field];\n        var values = scale.values;\n        var filters = this._getFilters();\n        var rst;\n        if (filters && filters[field]) {\n            rst = values.filter(function (v) { return !filters[field](v); });\n        }\n        else {\n            rst = [];\n        }\n        return rst;\n    };\n    /**\n     * 设置图形active状态量\n     * @param exp 状态量的值\n     * @param draw 是否触发canvas重绘\n     */\n    View.prototype.setActive = function (exp, draw) {\n        if (draw === void 0) { draw = true; }\n        var shapeStateController = this.get('shapeStateController');\n        shapeStateController.setState('active', exp, draw);\n        return this;\n    };\n    /**\n     * 设置图形selected状态量\n     * @param exp 状态量的值\n     * @param draw 是否触发canvas重绘\n     */\n    View.prototype.setSelected = function (exp, draw) {\n        if (draw === void 0) { draw = true; }\n        var shapeStateController = this.get('shapeStateController');\n        shapeStateController.setState('selected', exp, draw);\n        return this;\n    };\n    /**\n     * 设置图形inactive状态量\n     * @param exp 状态量的值\n     * @param draw 是否触发canvas重绘\n     */\n    View.prototype.setInactive = function (exp, draw) {\n        if (draw === void 0) { draw = true; }\n        var shapeStateController = this.get('shapeStateController');\n        shapeStateController.setState('inactive', exp, draw);\n        return this;\n    };\n    View.prototype.clearAllInteractions = function () {\n        var interactions = this.get('interactions');\n        _.each(interactions, function (interaction, key) {\n            interaction.destroy();\n            delete interactions[key];\n        });\n        return this;\n    };\n    View.prototype.clearInteraction = function (type) {\n        var interactions = this.get('interactions');\n        if (interactions[type]) {\n            interactions[type].destroy();\n            delete interactions[type];\n        }\n        return this;\n    };\n    View.prototype.interaction = function (type, cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        cfg.view = this;\n        var Ctor = getInteraction(type);\n        var interaction = new Ctor(cfg);\n        this._setInteraction(type, interaction);\n        return this;\n    };\n    // private / protected methods\n    // if facet exist, render it.\n    View.prototype._renderFacet = function () {\n        var facet = this.get('facet');\n        if (facet)\n            facet.render();\n    };\n    /* 获得可以共享给子 view 的配置信息\n     * @private\n     */\n    View.prototype._getSharedOptions = function () {\n        var options = this.get('options');\n        var scales = options.scales, coord = options.coord, axes = options.axes;\n        return {\n            scales: scales,\n            coord: coord,\n            axes: axes,\n        };\n    };\n    View.prototype._getFilters = function () {\n        var options = this.get('options');\n        return options.filters;\n    };\n    // TODO 在 extend 之前，保留 private，如果 Plot 类有调用，再改为 protected\n    View.prototype._initTheme = function () {\n        var theme = this.get('theme');\n        var viewTheme = {};\n        var newTheme = {};\n        if (_.isObject(theme)) {\n            newTheme = theme;\n        }\n        else if (_.isString(theme)) {\n            newTheme = getTheme(theme);\n        }\n        _.deepMix(viewTheme, Global.theme, newTheme);\n        this.set('theme', viewTheme);\n    };\n    View.prototype._bindEvents = function () {\n        var eventController = this.get('eventController');\n        eventController.bindEvents();\n    };\n    View.prototype._clearEvents = function () {\n        var eventController = this.get('eventController');\n        eventController.clearEvents();\n    };\n    View.prototype._initLayers = function () {\n        var container = this.get('container');\n        var backgroundGroup = container.addGroup({\n            name: 'backgroundGroup',\n            zIndex: 0,\n            viewId: this.get('id'),\n        });\n        var panelGroup = container.addGroup({\n            name: 'panelGroup',\n            zIndex: 1,\n            viewId: this.get('id'),\n        });\n        var frontgroundGroup = container.addGroup({\n            name: 'frontgroundGroup',\n            zIndex: 2,\n        });\n        this.set('frontgroundGroup', frontgroundGroup);\n        this.set('backgroundGroup', backgroundGroup);\n        this.set('panelGroup', panelGroup);\n    };\n    // 生成 view 以及绘图区域的范围\n    View.prototype.initRegion = function () {\n        // TODO: AutoPadding 场景\n        var _a = this.get('start'), startX = _a.x, startY = _a.y;\n        var _b = this.get('end'), endX = _b.x, endY = _b.y;\n        var parent = this.get('parent');\n        if (parent) {\n            var _c = parent.get('panelRange'), width = _c.width, height = _c.height, tl = _c.tl;\n            // 判断 start 和 end 是像素值还是 0 - 1 范围的数据\n            if (endX - startX <= 1) { // 0 -1 返回的数据，将其转换为像素值\n                startX *= width;\n                startY *= height;\n                endX *= width;\n                endY *= height;\n            }\n            startX += tl.x;\n            endX += tl.x;\n            startY += tl.y;\n            endY += tl.y;\n        }\n        else if (endX - startX <= 1) {\n            var width = this.get('width');\n            var height = this.get('height');\n            startX *= width;\n            startY *= height;\n            endX *= width;\n            endY *= height;\n        }\n        // else {\n        //   startX = 0;\n        //   startY = 0;\n        //   endX = this.get('width');\n        //   endY = this.get('height');\n        // }\n        var viewWidth = endX - startX;\n        var viewHeight = endY - startY;\n        this.set('viewRange', new BBox(startX, startY, viewWidth, viewHeight)); // 获取子 view 整体范围（包含坐标轴）\n        var padding = parsePadding(this.get('padding'));\n        var top = padding[0], right = padding[1], bottom = padding[2], left = padding[3];\n        var panelRange = new BBox(startX + left, startY + top, viewWidth - left - right, viewHeight - top - bottom);\n        this.set('panelRange', panelRange); // 获取子 view 绘图区域范围，即 elements 绘图范围\n    };\n    View.prototype._initData = function () {\n        // now do nothing here.\n    };\n    View.prototype._initOptions = function () {\n        var _this = this;\n        var options = _.mix({}, this.get('options')); // shadow copy\n        if (!options.scales) {\n            options.scales = {};\n        }\n        if (!options.coord) {\n            options.coord = {};\n        }\n        // animate 默认为 true，只有显示设置为 false 的时候，才为 false\n        if (!_.isUndefined(options.animate)) {\n            this.set('animate', !!options.animate);\n        }\n        // TODO guides, annotations\n        if (options.elements && options.elements.length) {\n            _.each(options.elements, function (cfg) {\n                _this._createElement(cfg);\n            });\n        }\n        var scaleController = this.get('scaleController');\n        if (scaleController) {\n            scaleController.defs = options.scales;\n        }\n        var coordController = this.get('coordController');\n        if (coordController) {\n            coordController.reset(options.coord);\n        }\n        this.set('options', options);\n    };\n    View.prototype._drawGuides = function () {\n        if (!this.get('keepLegend')) {\n            this._renderLegend();\n        }\n        this._renderAnnotations();\n        this._renderAxes();\n        this._renderTooltip();\n    };\n    View.prototype._renderAxes = function () {\n        var options = this.get('options');\n        var axesOptions = options.axes;\n        if (axesOptions === false) {\n            return; // 不渲染\n        }\n        var axisController = this.get('axisController');\n        // 如果直接传入 this.get('backgroundGroup')，当调用 axisController.clear() 时，会将 annotationController 创建的 backgroundGroup 销毁\n        axisController.container = this.get('backgroundGroup').addGroup({\n            name: 'axisGroup',\n        });\n        axisController.coord = this.get('coord');\n        axisController.options = _.get(options, 'axes', {});\n        var xScale = this.getXScale();\n        var yScales = this.getYScales();\n        var viewId = this.get('id');\n        axisController.createAxis(xScale, yScales, viewId);\n    };\n    View.prototype._renderTooltip = function () {\n        var options = this.get('options');\n        // 用户没有配置 tooltip 或者未显示关闭，则进行 tooltip 的渲染\n        if (_.isNil(options.tooltip) || options.tooltip !== false) {\n            var tooltipController = this.get('tooltipController');\n            tooltipController.options = options.tooltip || {};\n            tooltipController.renderTooltip();\n        }\n    };\n    View.prototype._initControllers = function () {\n        var options = this.get('options');\n        var theme = this.get('theme');\n        var canvas = this.get('canvas');\n        var scaleController = new ScaleController(options.scales); // TODO 支持透传图表尺寸等\n        this.set('scaleController', scaleController);\n        var coordController = new CoordController(options.coord);\n        this.set('coordController', coordController);\n        var eventController = new EventController({\n            canvas: this.get('canvas'),\n            view: this,\n        });\n        this.set('eventController', eventController);\n        var shapeStateController = new ShapeStateController({\n            view: this,\n        });\n        this.set('shapeStateController', shapeStateController);\n        var legendController = new LegendController({ view: this });\n        this.set('legendController', legendController);\n        var annotationController = new AnnController({\n            theme: this.get('theme'),\n            view: this,\n            frontgroundGroup: this.get('frontgroundGroup').addGroup(),\n            backgroundGroup: this.get('backgroundGroup').addGroup(),\n            // @ts-ignore\n            options: options.annotations || [],\n        });\n        this.set('annotationController', annotationController);\n        var axisController = new AxisController({\n            canvas: canvas,\n            theme: theme,\n        });\n        this.set('axisController', axisController);\n        var tooltipController = new TooltipController({\n            view: this,\n            theme: theme,\n        });\n        this.set('tooltipController', tooltipController);\n    };\n    View.prototype._initScale = function (field, data) {\n        if (data === void 0) { data = []; }\n        var scales = this.get('scales');\n        // const parent = this.get('parent');\n        var scale = scales[field];\n        var _data = data;\n        // let scale = scales[field];\n        // const filteredData = this.get('filteredData'); // 过滤后的数据\n        var legendFields = this._getLegendFields();\n        // 过滤导致数据为空或者 field 字2段参与了图例生成，都使用全局数据，使图例过滤前后图形映射通道保持一致\n        if (!_data.length || legendFields.indexOf(field) !== -1) {\n            _data = this.get('data') || [];\n        }\n        var scaleController = this.get('scaleController');\n        if (!scale) {\n            scale = scaleController.createScale(field, _data);\n            // TODO due with scale syncing, etc.\n            scales[field] = scale; // 存储至 scales 变量中\n        }\n        return scale;\n    };\n    View.prototype._createElement = function (cfg) {\n        var type = cfg.type;\n        var element;\n        if (getElement(type)) {\n            var elementCfg = __assign(__assign({}, cfg), { container: this.get('panelGroup').addGroup(), frontgroundGroup: this.get('frontgroundGroup').addGroup(), view: this, canvas: this.get('canvas'), theme: this.get('theme') });\n            var ElementCtor = getElement(type);\n            element = new ElementCtor(elementCfg);\n            _.each(cfg, function (v, k) {\n                if (element[k]) {\n                    element[k](v); // 只支持 options\n                }\n            });\n            this._addElement(element);\n        }\n    };\n    View.prototype._addElement = function (element) {\n        var elements = this.get('elements');\n        elements.push(element);\n        element.bindStates();\n    };\n    View.prototype._drawElements = function () {\n        this.emit('beforedrawelements');\n        _.each(this.get('elements'), function (element) {\n            element.paint();\n        });\n        this.emit('afterdrawelements');\n    };\n    View.prototype._clearElements = function () {\n        _.each(this.get('elements'), function (element) {\n            element.clear();\n        });\n    };\n    View.prototype._destroyElements = function () {\n        var elements = this.get('elements');\n        while (elements.length > 0) {\n            var element = elements.shift();\n            element.destroy();\n        }\n    };\n    View.prototype._clearInner = function () {\n        this.set('scales', {});\n        this.emit('beforeclearinner');\n        var options = this.get('options');\n        options.elements = [];\n        this._clearElements();\n        // clear facet\n        var facet = this.get('facet');\n        if (facet)\n            facet.clear();\n        var annotationController = this.get('annotationController');\n        annotationController && annotationController.reset();\n        var axisController = this.get('axisController');\n        axisController && axisController.clear();\n        var tooltipController = this.get('tooltipController');\n        tooltipController && tooltipController.clear();\n        // 当不需要保留图例的时候，需要将图例清空，否则 legend 还会残留\n        if (!this.get('keepLegend')) {\n            var legendController = this.get('legendController');\n            legendController && legendController.clear();\n        }\n        // _addBackShape() 在 render() 方法中调用，为了防止重复创建，需要清空\n        var backgroundGroup = this.get('backgroundGroup');\n        var panelGroup = this.get('panelGroup');\n        backgroundGroup.get('backShape') && backgroundGroup.get('backShape').remove();\n        panelGroup.get('backShape') && panelGroup.get('backShape').remove();\n        this.emit('afterclearinner');\n    };\n    View.prototype._beforeRender = function () {\n        _.each(this.get('views'), function (view) {\n            view._beforeRender();\n        });\n        this._initView();\n    };\n    View.prototype._initView = function () {\n        this._execFilters();\n        this._initCoord();\n        this.emit('beforeinitelements');\n        this._initElements();\n        this._adjustScales();\n    };\n    View.prototype._initCoord = function () {\n        var panelRange = this.get('panelRange');\n        var coordController = this.get('coordController');\n        var coord = coordController.createCoord(panelRange.bl, panelRange.tr);\n        this.set('coord', coord);\n    };\n    View.prototype._getScales = function (dim) {\n        var elements = this.get('elements');\n        return _.reduce(elements, function (result, element) {\n            var scale = dim === 'x' ? element.getXScale() : element.getYScale();\n            if (scale && !_.has(result, scale.field)) {\n                result[scale.field] = scale;\n            }\n            return result;\n        }, {});\n    };\n    View.prototype._initElements = function () {\n        var filteredData = this.get('filteredData');\n        var coord = this.get('coord');\n        var viewId = this.get('id');\n        var options = this.get('options');\n        var animate = this.get('animate');\n        var widthRatio = this.get('widthRatio');\n        var isShareTooltip = options.tooltip && options.tooltip.shared;\n        _.each(this.get('elements'), function (element, i) {\n            element.set('data', filteredData);\n            element.set('coord', coord);\n            element.set('id', viewId + \"-element-\" + i);\n            element.set('animate', animate);\n            element.set('widthRatio', _.deepMix({}, widthRatio, element.get('widthRatio')));\n            _.isBoolean(isShareTooltip) && element.set('shareTooltip', isShareTooltip);\n            element.init();\n        });\n    };\n    View.prototype._adjustScales = function () {\n        // 调整分类度量的 range 属性\n        this._adjustCategoryScalesRange();\n        // 特殊逻辑：柱状图数值轴默认从 0 开始\n        var elements = this.get('elements');\n        var scaleDefs = this.get('scaleController').defs;\n        elements.forEach(function (element) {\n            if (element.get('type') === 'interval') {\n                var yScale = element.getYScale();\n                var field = yScale.field, min = yScale.min, max = yScale.max, type = yScale.type;\n                // 如果用户使用 view.scale() 自己定义了 min，则以用户的为准\n                // time 类型不做调整\n                if (!(scaleDefs[field] && scaleDefs[field].min) && type !== 'time') {\n                    if (min > 0) {\n                        yScale.change({\n                            min: 0,\n                        });\n                    }\n                    else if (max <= 0) { // 当柱状图全为负值时也需要从 0 开始生长\n                        yScale.change({\n                            max: 0,\n                        });\n                    }\n                }\n            }\n        });\n    };\n    // 调整 x y 两个维度分类度量的 range 属性\n    View.prototype._adjustCategoryScalesRange = function () {\n        var coord = this.get('coord');\n        var xScale = this.getXScale();\n        var yScales = this.getYScales();\n        var widthRatio = this.get('widthRatio');\n        var scales = [];\n        xScale && scales.push(xScale); // 一维图表没有 x 度量\n        scales = scales.concat(yScales);\n        var inFullCircle = isFullCircle(coord);\n        var scaleController = this.get('scaleController');\n        var scaleDefs = scaleController.defs;\n        scales.forEach(function (scale) {\n            var field = scale.field, values = scale.values;\n            // 分类或者常量度量，同时用户没有通过 view.scale() 配置 range 属性\n            if ((scale.isCategory || scale.isIdentity) && values && !(scaleDefs[field] && scaleDefs[field].range)) {\n                var count = values.length;\n                var range = void 0;\n                if (count === 1) {\n                    range = [0.5, 1]; // 只有一个分类时,防止计算出现 [ 0.5,0.5 ] 的状态\n                }\n                else {\n                    var wr = 1;\n                    var offset = 0;\n                    if (inFullCircle) {\n                        if (!coord.isTransposed) {\n                            range = [0, 1 - 1 / count];\n                        }\n                        else {\n                            wr = widthRatio.multiplePie;\n                            offset = 1 / count * wr;\n                            range = [offset / 2, 1 - offset / 2];\n                        }\n                    }\n                    else {\n                        offset = 1 / count * 1 / 2; // 两边留下分类空间的一半\n                        range = [offset, 1 - offset]; // 坐标轴最前面和最后面留下空白防止绘制柱状图时\n                    }\n                }\n                scale.range = range;\n            }\n        });\n    };\n    // 过滤数据\n    View.prototype._execFilters = function () {\n        var data = this.get('data');\n        var result = this.get('data') || [];\n        var filters = this._getFilters();\n        if (filters) {\n            result = result.filter(function (obj) {\n                var rst = true;\n                _.each(filters, function (callback, field) {\n                    if (callback) {\n                        rst = callback(obj[field], obj);\n                        if (!rst) {\n                            return false;\n                        }\n                    }\n                });\n                return rst;\n            });\n        }\n        this.set('filteredData', result);\n    };\n    View.prototype._addBackShape = function () {\n        // TODO：再飞，有没有更好的办法？\n        // add backgroundGroup backShape\n        var backgroundGroup = this.get('backgroundGroup');\n        var viewRange = this.get('viewRange');\n        var backShapeAttrs = {\n            x: viewRange.x,\n            y: viewRange.y,\n            width: viewRange.width,\n            height: viewRange.height,\n            fill: 'rgba(255,255,255,0)',\n        };\n        var backgroundStyle = _.mix(this.get('theme').backgroundStyle, this.get('backgroundStyle'));\n        var backgroundBackShape = backgroundGroup.addShape('rect', {\n            attrs: _.mix(backShapeAttrs, backgroundStyle),\n            zIndex: -1,\n        });\n        backgroundGroup.set('backShape', backgroundBackShape);\n        backgroundGroup.sort();\n        // add panelGroup backShape\n        var panelGroup = this.get('panelGroup');\n        var panelRange = this.get('panelRange');\n        var panelBackShape = panelGroup.addShape('rect', {\n            attrs: {\n                x: panelRange.x,\n                y: panelRange.y,\n                width: panelRange.width,\n                height: panelRange.height,\n                fill: 'rgba(255,255,255,0)',\n            },\n            zIndex: -1,\n        });\n        panelGroup.set('backShape', panelBackShape);\n        panelGroup.sort();\n    };\n    View.prototype._destroyViewGroups = function () {\n        this.get('frontgroundGroup').remove();\n        this.get('backgroundGroup').remove();\n        this.get('panelGroup').remove();\n        this.set('frontgroundGroup', null);\n        this.set('backgroundGroup', null);\n        this.set('panelGroup', null);\n    };\n    View.prototype._canvasDraw = function (stopDrawing) {\n        var canvas = this.get('canvas');\n        if (!stopDrawing) {\n            var views = this.get('views');\n            // sorting\n            if (this.get('animate')) {\n                // start animation\n                var isUpdate_1 = this.get('isUpdate');\n                _.each(views, function (view) {\n                    Animate.execAnimation(view, isUpdate_1);\n                });\n                Animate.execAnimation(this, isUpdate_1);\n                canvas.draw();\n            }\n            else {\n                canvas.draw();\n            }\n        }\n    };\n    View.prototype._renderLegend = function () {\n        var legendController = this.get('legendController');\n        legendController.render();\n    };\n    View.prototype._renderAnnotations = function () {\n        var coord = this.get('coord');\n        var annotationController = this.get('annotationController');\n        annotationController.xScales = this._getScales('x');\n        annotationController.yScales = this._getScales('y');\n        annotationController.render(coord);\n    };\n    View.prototype._getLegendFields = function () {\n        var fields = [];\n        var elements = this.get('elements');\n        elements.forEach(function (element) {\n            var elementFields = element.getLegendFields();\n            fields = fields.concat(elementFields);\n        });\n        return _.uniq(fields);\n    };\n    // interaction相关\n    View.prototype._setInteraction = function (type, interaction) {\n        var interactions = this.get('interactions');\n        if (interactions[type]) {\n            interactions[type].destroy();\n        }\n        interactions[type] = interaction;\n    };\n    return View;\n}(Base));\nexport default View;\n// TODO mixin element methods\nexport var registerViewPrototype = function (key, Ctor) {\n    View.prototype[key] = function (cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        cfg.view = this;\n        cfg.theme = this.get('theme');\n        cfg.container = this.get('panelGroup').addGroup();\n        cfg.frontgroundGroup = this.get('frontgroundGroup').addGroup();\n        cfg.canvas = this.get('canvas');\n        var element = new Ctor(cfg);\n        this._addElement(element);\n        return element;\n    };\n};\n//# sourceMappingURL=view.js.map","import * as _ from '@antv/util';\n/**\n * 解析 padding 格式为标准的上、右、下、左格式\n * @param padding 内边距，可以是数组、数字或者 'auto'\n */\nexport function parsePadding(padding) {\n    var top;\n    var left;\n    var right;\n    var bottom;\n    if (_.isNumber(padding) || _.isString(padding)) {\n        top = left = right = bottom = padding;\n    }\n    else if (_.isArray(padding)) {\n        top = padding[0];\n        right = !_.isNil(padding[1]) ? padding[1] : padding[0];\n        bottom = !_.isNil(padding[2]) ? padding[2] : padding[0];\n        left = !_.isNil(padding[3]) ? padding[3] : right;\n    }\n    return [top, right, bottom, left];\n}\n//# sourceMappingURL=util.js.map","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport { Canvas } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Global from '../global';\nimport View from './view';\nvar Plot = /** @class */ (function (_super) {\n    __extends(Plot, _super);\n    function Plot(cfg) {\n        return _super.call(this, __assign({ containerDOM: null, containerId: null, width: Global.width, height: Global.height, pixelRatio: Global.pixelRatio, renderer: Global.renderer, forceFit: false }, cfg)) || this;\n    }\n    Plot.prototype.init = function () {\n        this.set('id', _.uniqueId('chart'));\n        this._initCanvas();\n        this._initEvents();\n        _super.prototype.init.call(this);\n    };\n    /**\n     * 修改画布的大小，用于外部做自适应\n     * @param width\n     * @param height\n     * @param autoRender\n     */\n    Plot.prototype.changeSize = function (width, height, autoRender) {\n        if (autoRender === void 0) { autoRender = true; }\n        var canvas = this.get('canvas');\n        canvas.changeSize(width, height);\n        // 设置宽高之后，重新计算 region 大小（viewRange、panelRange）\n        this.set('width', width);\n        this.set('height', height);\n        this.initRegion();\n        if (autoRender) {\n            // 重新绘制\n            this.render();\n            this.emit('afterchangesize');\n        }\n        return this;\n    };\n    Plot.prototype.render = function (stopDrawing) {\n        _super.prototype.render.call(this, stopDrawing);\n        this.get('canvas').draw();\n        return this;\n    };\n    Plot.prototype.destroy = function () {\n        window.removeEventListener('resize', _.getWrapBehavior(this, '_initForceFitEvent'));\n        _super.prototype.destroy.call(this);\n    };\n    Plot.prototype._initCanvas = function () {\n        var canvas = new Canvas({\n            containerDOM: this.get('containerDOM'),\n            containerId: this.get('containerId'),\n            width: this.get('width'),\n            height: this.get('height'),\n            renderer: this.get('renderer'),\n            pixelRatio: this.get('pixelRatio'),\n        });\n        this.set('canvas', canvas);\n        this.set('container', canvas);\n        if (this.get('forceFit')) {\n            var container = this._getContainerDOM();\n            var width = domUtil.getWidth(container, this.get('width'));\n            this.set('width', width);\n        }\n    };\n    Plot.prototype._initEvents = function () {\n        if (this.get('forceFit')) {\n            window.addEventListener('resize', _.wrapBehavior(this, '_initForceFitEvent'));\n        }\n    };\n    Plot.prototype._initForceFitEvent = function () {\n        var timer = setTimeout(_.wrapBehavior(this, 'forceFit'), 200);\n        clearTimeout(this.get('resizeTimer'));\n        this.set('resizeTimer', timer);\n    };\n    /**\n     * 自适应宽度\n     * @chainable\n     * @return {Chart} 图表对象\n     */\n    Plot.prototype.forceFit = function () {\n        if (this.destroyed) {\n            return;\n        }\n        var container = this._getContainerDOM();\n        var oldWidth = this.get('width');\n        var width = domUtil.getWidth(container, oldWidth);\n        if (width !== 0 && width !== oldWidth) {\n            var height = this.get('height');\n            this.changeSize(width, height);\n        }\n        return this;\n    };\n    Plot.prototype._getContainerDOM = function () {\n        var container = this.get('containerDOM');\n        if (!_.isElement(container)) {\n            container = document.getElementById(this.get('containerId'));\n        }\n        return container;\n    };\n    return Plot;\n}(View));\nexport default Plot;\n//# sourceMappingURL=plot.js.map","\"use strict\";\n/**\n * 提供绘制 shape 时的一些通用方法\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = require(\"@antv/util\");\nfunction splitPoints(obj) {\n    var points = [];\n    var x = obj.x;\n    var y = obj.y;\n    y = _.isArray(y) ? y : [y];\n    _.each(y, function (yItem, index) {\n        var point = {\n            x: _.isArray(x) ? x[index] : x,\n            y: yItem,\n        };\n        points.push(point);\n    });\n    return points;\n}\nexports.splitPoints = splitPoints;\n// rename addFillAttrs\nfunction setFillStyle(attrs, cfg) {\n    var color = cfg.color, opacity = cfg.opacity;\n    if (color) {\n        attrs.fill = color;\n    }\n    if (_.isNumber(opacity)) {\n        attrs.opacity = attrs.fillOpacity = opacity;\n    }\n}\nexports.setFillStyle = setFillStyle;\n// rename addStrokeAttrs\nfunction setStrokeStyle(attrs, cfg) {\n    var color = cfg.color, opacity = cfg.opacity;\n    if (color) {\n        attrs.stroke = color;\n    }\n    if (_.isNumber(opacity)) {\n        attrs.opacity = attrs.strokeOpacity = opacity;\n    }\n}\nexports.setStrokeStyle = setStrokeStyle;\n//# sourceMappingURL=shape.js.map","/**\n * @description Area Element shapes\n */\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nimport { getSplinePath, getLinePath } from '../util/path';\nfunction getLineAttrs(cfg) {\n    var lineAttrs = cfg.style;\n    setStrokeStyle(lineAttrs, cfg);\n    if (_.isNumber(cfg.size)) {\n        lineAttrs.lineWidth = cfg.size;\n    }\n    return lineAttrs;\n}\nfunction getFillAttrs(cfg) {\n    var areaAttrs = cfg.style;\n    setFillStyle(areaAttrs, cfg);\n    return areaAttrs;\n}\nfunction getPath(cfg, smooth, shape) {\n    var path = [];\n    var pointsArr = [];\n    var topLinePoints = []; // area 区域上部分\n    var bottomLinePoints = []; // area 区域下部分\n    var isInCircle = cfg.isInCircle;\n    _.each(cfg.points, function (point) {\n        topLinePoints.push(point[1]);\n        bottomLinePoints.push(point[0]);\n    });\n    bottomLinePoints = bottomLinePoints.reverse();\n    pointsArr.push(topLinePoints, bottomLinePoints);\n    _.each(pointsArr, function (pointsData, index) {\n        var subPath = [];\n        var points = shape.parsePoints(pointsData);\n        var p1 = points[0];\n        if (isInCircle) {\n            points.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n            subPath = getSplinePath(points, false, cfg.constraint);\n        }\n        else {\n            subPath = getLinePath(points, false);\n        }\n        if (index > 0) {\n            subPath[0][0] = 'L';\n        }\n        path = path.concat(subPath);\n    });\n    path.push(['Z']);\n    return path;\n}\n// TODO: 目前这个 marker 是一个矩形，不适用于 area，有以下几种解决方案：\n// 1. marker 可能需要支持 group，这样就可以恢复到之前矩形上方加一个描边\n// 2. 使用 circle marker\n// get marker style\nfunction _getMarkerAttr(markerCfg) {\n    return {\n        symbol: function (x, y) {\n            return [\n                ['M', x - 5.5, y - 4],\n                ['L', x + 5.5, y - 4],\n                ['L', x + 5.5, y + 4],\n                ['L', x - 5.5, y + 4],\n                ['Z'],\n            ];\n        },\n        radius: 5,\n        fill: markerCfg.color,\n    };\n}\n// 当只有一个数据时绘制点\nfunction drawPointShape(shapeObj, cfg, container) {\n    var coord = shapeObj._coord;\n    var point = coord.convertPoint(cfg.points[0][1]);\n    return container.addShape('circle', {\n        attrs: _.mix({\n            x: point.x,\n            y: point.y,\n            r: 2,\n            fill: cfg.color,\n        }, cfg.style),\n    });\n}\nvar AreaShapeFactory = registerShapeFactory('area', {\n    defaultShapeType: 'area',\n    /**\n     * @override\n     * @protected\n     * 计算点 如果存在多个点，分割成单个的点, 不考虑多个x对应一个y的情况\n     * 单点则补上y0点\n     */\n    getDefaultPoints: function (pointInfo) {\n        var x = pointInfo.x;\n        var y = pointInfo.y;\n        var y0 = pointInfo.y0;\n        y = _.isArray(y) ? y : [y0, y];\n        return y.map(function (yItem) {\n            return {\n                x: x,\n                y: yItem,\n            };\n        });\n    },\n    drawShape: function (type, cfg, container) {\n        var shape = this.getShape(type);\n        var shapeName = shape.name;\n        var theme = this._theme;\n        if (theme && theme.area && theme.area[shapeName]) {\n            var defaultShapeStyle = theme.area[shapeName].default;\n            cfg.style = _.mix({}, defaultShapeStyle, cfg.style);\n        }\n        var gShape = cfg.points.length === 1 && cfg.showSinglePoint\n            ? drawPointShape(this, cfg, container)\n            : shape.draw(cfg, container);\n        if (gShape) {\n            gShape.set('origin', cfg.origin);\n            gShape.id = cfg.splitedIndex ? cfg.id + cfg.splitedIndex : cfg.id;\n            gShape.name = this.name;\n        }\n        return gShape;\n    },\n    getMarkerStyle: function (type, markerCfg) {\n        var shape = this.getShape(type);\n        var markerStyle;\n        if (shape.getMarkerStyle) {\n            markerStyle = shape.getMarkerStyle(markerCfg);\n        }\n        else {\n            markerStyle = _getMarkerAttr(markerCfg);\n        }\n        var theme = this._theme;\n        var shapeName = shape.name;\n        if (theme && theme.area && theme.area[shapeName]) {\n            markerStyle = _.mix({}, theme.area[shapeName].default, markerStyle);\n        }\n        return markerStyle;\n    },\n});\n// 默认：填充区域图\nregisterShape('area', 'area', {\n    draw: function (cfg, container) {\n        var attrs = getFillAttrs(cfg);\n        var path = getPath(cfg, false, this);\n        return container.addShape('path', {\n            attrs: _.mix(attrs, {\n                path: path,\n            }),\n        });\n    },\n});\n// 填充平滑区域图\nregisterShape('area', 'smooth', {\n    draw: function (cfg, container) {\n        var attrs = getFillAttrs(cfg);\n        var coord = this.getCoord();\n        // 曲线的限制\n        cfg.constraint = [[coord.start.x, coord.end.y], [coord.end.x, coord.start.y]];\n        var path = getPath(cfg, true, this);\n        return container.addShape('path', {\n            attrs: _.mix(attrs, {\n                path: path,\n            }),\n        });\n    },\n});\n// 封闭的折线\nregisterShape('area', 'line', {\n    draw: function (cfg, container) {\n        var attrs = getLineAttrs(cfg);\n        var path = getPath(cfg, false, this);\n        return container.addShape('path', {\n            attrs: _.mix(attrs, {\n                path: path,\n            }),\n        });\n    },\n});\n// 封闭的平滑线\nregisterShape('area', 'smoothLine', {\n    draw: function (cfg, container) {\n        var attrs = getLineAttrs(cfg);\n        var path = getPath(cfg, true, this);\n        return container.addShape('path', {\n            attrs: _.mix(attrs, {\n                path: path,\n            }),\n        });\n    },\n});\nexport default AreaShapeFactory;\n//# sourceMappingURL=area.js.map","import * as _ from '@antv/util';\n/**\n * 分割数据，用于处理存在 null、undefined 值的折线图、区域图\n * @param data 需要进行分割的数据\n * @param connectNulls 是否连接空值数据\n * @param field 字段名\n */\nexport function splitData(data, connectNulls, field) {\n    if (!data.length)\n        return [];\n    var splitData = [];\n    var tmp = [];\n    var yValue;\n    data.forEach(function (obj) {\n        yValue = obj._origin ? obj._origin[field] : obj[field];\n        if (connectNulls) { // 如果忽视 Null 直接连接节点，则将 value = null 的数据过滤掉\n            if (!_.isNil(yValue)) {\n                tmp.push(obj);\n            }\n        }\n        else {\n            if ((_.isArray(yValue) && _.isNil(yValue[0])) || _.isNil(yValue)) {\n                if (tmp.length) {\n                    splitData.push(tmp);\n                    tmp = [];\n                }\n            }\n            else {\n                tmp.push(obj);\n            }\n        }\n    });\n    tmp.length && splitData.push(tmp);\n    return splitData;\n}\n//# sourceMappingURL=split-data.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Element from './base';\nimport AreaShapeFactory from './shape/area';\nimport { splitData } from './util/split-data';\nvar Area = /** @class */ (function (_super) {\n    __extends(Area, _super);\n    function Area(cfg) {\n        var _this = _super.call(this, __assign({ type: 'area', shapeType: 'area', generatePoints: true, sortable: true, connectNulls: false, showSinglePoint: false }, cfg)) || this;\n        _this.set('shapeFactory', AreaShapeFactory);\n        return _this;\n    }\n    Area.prototype.draw = function (data, container, shapeFactory, index) {\n        var _this = this;\n        var cfg = this.getDrawCfg(data[0]);\n        var splitArray = splitData(data, this.get('connectNulls'), this.getYScale().field);\n        cfg.origin = data; // path,line,area 等图的origin 是整个序列\n        _.each(splitArray, function (subData, splitedIndex) {\n            cfg.splitedIndex = splitedIndex; // 传入分割片段索引 用于生成id\n            var points = subData.map(function (obj) {\n                return obj.points;\n            });\n            cfg.points = points;\n            var geomShape = shapeFactory.drawShape(cfg.shape, cfg, container);\n            _this.appendShapeInfo(geomShape, index + splitedIndex);\n        });\n    };\n    return Area;\n}(Element));\nexport default Area;\n//# sourceMappingURL=area.js.map","/**\n * @description 计算 element shape 的 size 辅助类\n */\nimport * as _ from '@antv/util';\n// 已经排序后的数据查找距离最小的\nfunction findMinDistance(arr, scale) {\n    var count = arr.length;\n    var sourceArr = arr;\n    // 日期类型的 values 经常上文本类型，所以需要转换一下\n    if (_.isString(sourceArr[0])) {\n        sourceArr = arr.map(function (v) {\n            return scale.translate(v);\n        });\n    }\n    var distance = sourceArr[1] - sourceArr[0];\n    for (var i = 2; i < count; i++) {\n        var tmp = sourceArr[i] - sourceArr[i - 1];\n        if (distance > tmp) {\n            distance = tmp;\n        }\n    }\n    return distance;\n}\nvar SizeController = /** @class */ (function () {\n    function SizeController(element) {\n        this.element = null;\n        this.element = element;\n    }\n    /**\n     * 获取数据对应的实际画布大小\n     * @param record 图形数据\n     */\n    SizeController.prototype.getSize = function (record) {\n        var size = this._getSizeValue(record);\n        if (_.isUndefined(size)) {\n            var defaultSize = this._getDefaultSize();\n            return this._toCoordinateSize(defaultSize);\n        }\n        return size;\n    };\n    /**\n     * 获取数据对应归一化后的 size 值\n     * @param record 图形数据\n     */\n    SizeController.prototype.getNormalizedSize = function (record) {\n        var size = this._getSizeValue(record);\n        if (_.isUndefined(size)) {\n            return this._getDefaultSize();\n        }\n        return this._toNormalizedSize(size);\n    };\n    SizeController.prototype.clear = function () {\n        this._defaultSize = null;\n    };\n    // 根据 size 图形属性对应获取数据映射后的 size 值\n    SizeController.prototype._getSizeValue = function (record) {\n        var result;\n        var element = this.element;\n        var sizeAttr = element.getAttr('size');\n        if (sizeAttr) {\n            result = element.getAttrValues(sizeAttr, record)[0];\n        }\n        return result;\n    };\n    SizeController.prototype._getDodgeCount = function (dataArray) {\n        var element = this.element;\n        var adjusts = element.get('adjustOptions');\n        var dodgeBy;\n        _.each(adjusts, function (adjust) {\n            if (adjust.type === 'dodge') {\n                dodgeBy = adjust.dodgeBy;\n                return false;\n            }\n        });\n        if (dodgeBy) {\n            var mergeData = _.flatten(dataArray);\n            var values = _.valuesOfKey(mergeData, dodgeBy);\n            return values.length;\n        }\n        return dataArray.length;\n    };\n    // 计算默认大小\n    SizeController.prototype._getDefaultSize = function () {\n        var widthRatio = this.element.get('widthRatio');\n        var defaultSize = this._defaultSize;\n        if (!defaultSize) {\n            var element = this.element;\n            var coord = element.get('coord');\n            var xScale = element.getXScale();\n            var xValues = xScale.values;\n            var dataArray = element.get('dataArray');\n            var count = xValues.length;\n            if (xScale.isLinear && xValues.length > 1) {\n                // Linear 类型用户有可能设置了 min, max 范围所以需要根据数据最小区间计算 count\n                xValues.sort();\n                var interval = findMinDistance(xValues, xScale);\n                count = (xScale.max - xScale.min) / interval;\n                if (xValues.length > count) {\n                    count = xValues.length;\n                }\n            }\n            var range = xScale.range;\n            var normalizedSize = 1 / count;\n            var wr = 1;\n            if (element.isInCircle()) {\n                if (coord.isTransposed && count > 1) { // 极坐标下多层环图\n                    wr = widthRatio.multiplePie;\n                }\n                else {\n                    wr = widthRatio.rose;\n                }\n                /* if (dataArray.length > 1) {\n                  normalizedSize *= (range[1] - range[0]);\n                } */\n            }\n            else {\n                if (xScale.isLinear) {\n                    normalizedSize *= (range[1] - range[0]);\n                }\n                wr = widthRatio.column; // 柱状图要除以2\n            }\n            normalizedSize *= wr;\n            if (element.hasAdjust('dodge')) {\n                var dodgeCount = this._getDodgeCount(dataArray);\n                normalizedSize = normalizedSize / dodgeCount;\n            }\n            this._defaultSize = normalizedSize;\n            return normalizedSize;\n        }\n        return defaultSize;\n    };\n    // 获取坐标系 x 轴的长度\n    SizeController.prototype._getCoordinateWidth = function () {\n        var element = this.element;\n        var coord = element.get('coord');\n        if (element.isInCircle() && !coord.isTransposed) { // 极坐标下 width 为弧长\n            return (coord.endAngle - coord.startAngle) * coord.getRadius();\n        }\n        var start = coord.convertPoint({\n            x: 0,\n            y: 0,\n        });\n        var end = coord.convertPoint({\n            x: 1,\n            y: 0,\n        });\n        var width = 0;\n        if (start && end) {\n            width = Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n        }\n        return width;\n    };\n    // 将归一化的数值转换成实际像素大小\n    SizeController.prototype._toCoordinateSize = function (normalizedSize) {\n        var coordinateWidth = this._getCoordinateWidth();\n        return normalizedSize * coordinateWidth;\n    };\n    // 将实际像素大小进行归一化处理\n    SizeController.prototype._toNormalizedSize = function (size) {\n        var coordinateWidth = this._getCoordinateWidth();\n        return size / coordinateWidth;\n    };\n    return SizeController;\n}());\nexport default SizeController;\n//# sourceMappingURL=size.js.map","/**\n * @description Box Element shapes\n */\nimport * as _ from '@antv/util';\nimport { setStrokeStyle } from '../util/shape';\nimport { registerShape, registerShapeFactory } from './base';\nfunction _parseValue(oldValue) {\n    var value = oldValue;\n    if (!_.isArray(oldValue)) {\n        value = [oldValue];\n    }\n    var min = value[0]; // 最小值\n    var max = value[value.length - 1]; // 最大值\n    var min1 = value.length > 1 ? value[1] : min;\n    var max1 = value.length > 3 ? value[3] : max;\n    var median = value.length > 2 ? value[2] : min1;\n    return {\n        min: min,\n        max: max,\n        min1: min1,\n        max1: max1,\n        median: median,\n    };\n}\nfunction addPoints(from, to) {\n    _.each(from, function (subArr) {\n        to.push({\n            x: subArr[0],\n            y: subArr[1],\n        });\n    });\n}\nfunction getAttrs(cfg) {\n    var lineAttrs = cfg.style;\n    setStrokeStyle(lineAttrs, cfg);\n    return lineAttrs;\n}\nfunction _getBoxPoints(pointX, pointY, width) {\n    var points = [];\n    var pointsArray;\n    var obj;\n    var x = pointX;\n    var y = pointY;\n    if (_.isArray(y)) { // position('x*range')\n        // 2维\n        obj = _parseValue(y);\n        pointsArray = [\n            [x - width / 2, obj.max],\n            [x + width / 2, obj.max],\n            [x, obj.max],\n            [x, obj.max1],\n            [x - width / 2, obj.min1],\n            [x - width / 2, obj.max1],\n            [x + width / 2, obj.max1],\n            [x + width / 2, obj.min1],\n            [x, obj.min1],\n            [x, obj.min],\n            [x - width / 2, obj.min],\n            [x + width / 2, obj.min],\n            [x - width / 2, obj.median],\n            [x + width / 2, obj.median],\n        ];\n    }\n    else { // position('range*1') 一维图表\n        y = y || 0.5;\n        obj = _parseValue(x);\n        pointsArray = [\n            [obj.min, y - width / 2],\n            [obj.min, y + width / 2],\n            [obj.min, y],\n            [obj.min1, y],\n            [obj.min1, y - width / 2],\n            [obj.min1, y + width / 2],\n            [obj.max1, y + width / 2],\n            [obj.max1, y - width / 2],\n            [obj.max1, y],\n            [obj.max, y],\n            [obj.max, y - width / 2],\n            [obj.max, y + width / 2],\n            [obj.median, y - width / 2],\n            [obj.median, y + width / 2],\n        ];\n    }\n    addPoints(pointsArray, points);\n    return points;\n}\nfunction _getBoxPath(points) {\n    var path = [\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['M', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['M', points[4].x, points[4].y],\n        ['L', points[5].x, points[5].y],\n        ['L', points[6].x, points[6].y],\n        ['L', points[7].x, points[7].y],\n        ['L', points[4].x, points[4].y],\n        ['Z'],\n        ['M', points[8].x, points[8].y],\n        ['L', points[9].x, points[9].y],\n        ['M', points[10].x, points[10].y],\n        ['L', points[11].x, points[11].y],\n        ['M', points[12].x, points[12].y],\n        ['L', points[13].x, points[13].y],\n    ];\n    return path;\n}\nvar BoxShapeFactory = registerShapeFactory('box', {\n    defaultShapeType: 'box',\n});\n// 箱线图\nregisterShape('box', 'box', {\n    getPoints: function (pointInfo) {\n        return _getBoxPoints(pointInfo.x, pointInfo.y, pointInfo.size);\n    },\n    draw: function (cfg, container) {\n        var attrs = getAttrs(cfg);\n        var path = _getBoxPath(cfg.points);\n        path = this.parsePath(path);\n        return container.addShape('path', {\n            attrs: _.mix(attrs, {\n                path: path,\n            }),\n        });\n    },\n    getMarkerStyle: function (markerCfg) {\n        return {\n            symbol: function (x, y, r) {\n                var yValues = [y - 6, y - 3, y, y + 3, y + 6];\n                var points = _getBoxPoints(x, yValues, r);\n                return [\n                    ['M', points[0].x + 1, points[0].y],\n                    ['L', points[1].x - 1, points[1].y],\n                    ['M', points[2].x, points[2].y],\n                    ['L', points[3].x, points[3].y],\n                    ['M', points[4].x, points[4].y],\n                    ['L', points[5].x, points[5].y],\n                    ['L', points[6].x, points[6].y],\n                    ['L', points[7].x, points[7].y],\n                    ['L', points[4].x, points[4].y],\n                    ['Z'],\n                    ['M', points[8].x, points[8].y],\n                    ['L', points[9].x, points[9].y],\n                    ['M', points[10].x + 1, points[10].y],\n                    ['L', points[11].x - 1, points[11].y],\n                    ['M', points[12].x, points[12].y],\n                    ['L', points[13].x, points[13].y],\n                ];\n            },\n            radius: 6,\n            lineWidth: 1,\n            stroke: markerCfg.color,\n        };\n    },\n});\nexport default BoxShapeFactory;\n//# sourceMappingURL=box.js.map","import { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport SizeController from './controller/size';\nimport BoxShapeFactory from './shape/box';\nvar Box = /** @class */ (function (_super) {\n    __extends(Box, _super);\n    function Box(cfg) {\n        var _this = _super.call(this, __assign({ type: 'box', shapeType: 'box', generatePoints: true }, cfg)) || this;\n        // 初始化 sizeController\n        var sizeController = new SizeController(_this);\n        _this.set('sizeController', sizeController);\n        _this.set('shapeFactory', BoxShapeFactory);\n        return _this;\n    }\n    Box.prototype.createShapePointsCfg = function (obj) {\n        var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n        cfg.size = this.getNormalizedSize(obj);\n        return cfg;\n    };\n    return Box;\n}(Element));\nexport default Box;\n//# sourceMappingURL=box.js.map","/**\n * @description Edge Element shapes\n * @author xinming002@gmail.com\n */\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { getLinePath } from '../util/path';\nimport { splitPoints, setStrokeStyle } from '../util/shape';\nvar CORNER_PERCENT = 1 / 3;\n// 获取图形属性\nfunction _getAttrs(cfg) {\n    var lineAttrs = cfg.style;\n    setStrokeStyle(lineAttrs, cfg);\n    return lineAttrs;\n}\n// 获取Marker的图形属性\nfunction _getMarkerAttrs(cfg) {\n    var markerStyle = {\n        symbol: 'circle',\n        radius: 4.5,\n    };\n    setStrokeStyle(markerStyle, cfg);\n    return markerStyle;\n}\n// 获取Cubic Bezier路径\nfunction _getCPath(from, to) {\n    var points = [];\n    points.push({\n        x: from.x,\n        y: from.y * (1 - 1 / 2) + to.y * 1 / 2,\n    });\n    points.push({\n        y: from.y * (1 - 1 / 2) + to.y * 1 / 2,\n        x: to.x,\n    });\n    points.push(to);\n    var sub = ['C'];\n    _.each(points, function (point) {\n        sub.push(point.x, point.y);\n    });\n    return sub;\n}\n// 获取Quadratic Bezier路径\nfunction _getQPath(to, center) {\n    var points = [];\n    points.push({\n        x: center.x,\n        y: center.y,\n    });\n    points.push(to);\n    var sub = ['Q'];\n    _.each(points, function (point) {\n        sub.push(point.x, point.y);\n    });\n    return sub;\n}\nfunction _createSmoothPath(from, to) {\n    var sub = _getCPath(from, to);\n    var path = [\n        ['M', from.x, from.y],\n    ];\n    path.push(sub);\n    return path;\n}\nfunction _createArcPath(from, to, center) {\n    var sub = _getQPath(to, center);\n    var path = [\n        ['M', from.x, from.y],\n    ];\n    path.push(sub);\n    return path;\n}\nfunction _createArcWeightPath(points, center) {\n    var arc1 = _getQPath(points[1], center);\n    var arc2 = _getQPath(points[3], center);\n    var path = [\n        ['M', points[0].x, points[0].y],\n    ];\n    path.push(arc2);\n    path.push(['L', points[3].x, points[3].y]);\n    path.push(['L', points[2].x, points[2].y]);\n    path.push(arc1);\n    path.push(['L', points[1].x, points[1].y]);\n    path.push(['L', points[0].x, points[0].y]);\n    path.push(['Z']);\n    return path;\n}\nfunction _createRectPath(from, to) {\n    var points = [];\n    points.push({\n        y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n        x: from.x,\n    });\n    points.push({\n        y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n        x: to.x,\n    });\n    points.push(to);\n    var path = [\n        ['M', from.x, from.y],\n    ];\n    _.each(points, function (point) {\n        path.push(['L', point.x, point.y]);\n    });\n    return path;\n}\nvar EdgeShapeFactory = registerShapeFactory('edge', {\n    defaultShapeType: 'line',\n    getDefaultPoints: function (pointInfo) {\n        return splitPoints(pointInfo);\n    },\n    getMarkerStyle: function (type, markerCfg) {\n        var shape = this.getShape(type);\n        var markerStyle;\n        if (shape.getMarkerStyle) {\n            markerStyle = shape.getMarkerStyle(markerCfg);\n        }\n        else {\n            markerStyle = _getMarkerAttrs(markerCfg);\n        }\n        var theme = this._theme;\n        var shapeName = shape.name;\n        if (theme && theme.edge && theme.edge[shapeName]) {\n            markerStyle = _.mix({}, theme.edge[shapeName].default, markerStyle);\n        }\n        return markerStyle;\n    },\n});\nregisterShape('edge', 'line', {\n    draw: function (cfg, container) {\n        var isInCircle = cfg.isInCircle;\n        var points = this.parsePoints(cfg.points);\n        var attrCfg = _getAttrs(cfg);\n        var path = getLinePath(points, isInCircle);\n        var line = container.addShape('path', {\n            attrs: _.mix(attrCfg, {\n                path: path,\n            }),\n        });\n        return line;\n    },\n});\nregisterShape('edge', 'vhv', {\n    draw: function (cfg, container) {\n        var points = cfg.points;\n        var attrCfg = _getAttrs(cfg);\n        var path = _createRectPath(points[0], points[1]);\n        path = this.parsePath(path);\n        var line = container.addShape('path', {\n            attrs: _.mix(attrCfg, {\n                path: path,\n            }),\n        });\n        return line;\n    },\n});\nregisterShape('edge', 'smooth', {\n    draw: function (cfg, container) {\n        var points = cfg.points;\n        var attrCfg = _getAttrs(cfg);\n        var path = _createSmoothPath(points[0], points[1]);\n        path = this.parsePath(path);\n        var line = container.addShape('path', {\n            attrs: _.mix(attrCfg, {\n                path: path,\n            }),\n        });\n        return line;\n    },\n});\n// 弧线包括:\n// 1. 笛卡尔坐标系下的半圆弧线\n// 2. 极坐标系下以圆心为控制点的二阶曲线\n// 3. 笛卡尔坐标系下带权重的三阶曲线\n// 4. 极坐标系下带权重的以圆心为控制点的二阶曲线\nregisterShape('edge', 'arc', {\n    draw: function (cfg, container) {\n        var points = cfg.points;\n        var type = points.length > 2 ? 'weight' : 'normal';\n        var attrCfg = _getAttrs(cfg);\n        var line;\n        var path;\n        if (cfg.isInCircle) {\n            var center = {\n                x: 0,\n                y: 1,\n            };\n            if (type === 'normal') {\n                path = _createArcPath(points[0], points[1], center);\n            }\n            else {\n                attrCfg.fill = attrCfg.stroke;\n                path = _createArcWeightPath(points, center);\n            }\n            path = this.parsePath(path);\n            line = container.addShape('path', {\n                attrs: _.mix(attrCfg, {\n                    path: path,\n                }),\n            });\n        }\n        else {\n            if (type === 'normal') {\n                points = this.parsePoints(points);\n                line = container.addShape('arc', {\n                    attrs: _.mix(attrCfg, {\n                        x: (points[1].x + points[0].x) / 2,\n                        y: points[0].y,\n                        r: Math.abs((points[1].x - points[0].x)) / 2,\n                        startAngle: Math.PI,\n                        endAngle: Math.PI * 2,\n                    }),\n                });\n            }\n            else {\n                path = [\n                    ['M', points[0].x, points[0].y],\n                    ['L', points[1].x, points[1].y],\n                ];\n                var c1 = _getCPath(points[1], points[3]);\n                var c2 = _getCPath(points[2], points[0]);\n                path.push(c1);\n                path.push(['L', points[3].x, points[3].y]);\n                path.push(['L', points[2].x, points[2].y]);\n                path.push(c2);\n                path.push(['Z']);\n                path = this.parsePath(path);\n                attrCfg.fill = attrCfg.stroke;\n                line = container.addShape('path', {\n                    attrs: _.mix(attrCfg, {\n                        path: path,\n                    }),\n                });\n            }\n        }\n        return line;\n    },\n});\nexport default EdgeShapeFactory;\n//# sourceMappingURL=edge.js.map","/**\n * @description 关系图的边\n */\nimport { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport EdgeShapeFactory from './shape/edge';\nvar Edge = /** @class */ (function (_super) {\n    __extends(Edge, _super);\n    function Edge(cfg) {\n        var _this = _super.call(this, __assign({ type: 'edge', generatePoints: true, shapeType: 'edge', shareTooltip: false }, cfg)) || this;\n        _this.set('shapeFactory', EdgeShapeFactory);\n        return _this;\n    }\n    return Edge;\n}(Element));\nexport default Edge;\n//# sourceMappingURL=edge.js.map","import { __assign, __extends } from \"tslib\";\nimport { colorUtil } from '../dependents';\nimport Element from './base';\nimport * as _ from '@antv/util';\nvar ORIGIN_FIELD = '_origin';\nvar SHADOW_CANVAS = 'shadowCanvas';\nvar VALUE_RANGE = 'valueRange';\nvar IMAGE_SHAPE = 'imageShape';\nvar MAPPED_DATA = 'mappedData';\nvar GRAY_SCALE_BLURRED_CANVAS = 'grayScaleBlurredCanvas';\nvar HEATMAP_SIZE = 'heatmapSize';\nvar Heatmap = /** @class */ (function (_super) {\n    __extends(Heatmap, _super);\n    function Heatmap(cfg) {\n        return _super.call(this, __assign({ type: 'heatmap', shapeType: 'point', paletteCache: {} }, cfg)) || this;\n    }\n    Heatmap.prototype._prepareRange = function () {\n        var data = this.get(MAPPED_DATA);\n        var colorAttr = this.getAttr('color');\n        var colorField = colorAttr.scales[0].field;\n        var min = Infinity;\n        var max = -Infinity;\n        data.forEach(function (row) {\n            var value = row[ORIGIN_FIELD][colorField];\n            if (value > max) {\n                max = value;\n            }\n            if (value < min) {\n                min = value;\n            }\n        });\n        if (min === max) {\n            min = max - 1;\n        }\n        var range = [min, max];\n        this.set(VALUE_RANGE, range);\n    };\n    Heatmap.prototype._prepareSize = function () {\n        var radius = this.getDefaultValue('size');\n        if (!_.isNumber(radius)) {\n            radius = this.getDefaultSize();\n        }\n        var styleOptions = this.get('styleOptions');\n        var blur = styleOptions && _.isObject(styleOptions.cfg) ? styleOptions.cfg.blur : null;\n        if (!_.isFinite(blur) || blur === null) {\n            blur = radius / 2;\n        }\n        this.set(HEATMAP_SIZE, {\n            blur: blur,\n            radius: radius,\n        });\n    };\n    Heatmap.prototype.getDefaultSize = function () {\n        var position = this.getAttr('position');\n        var coord = this.get('coord');\n        var radius = Math.min(coord.width / (position.scales[0].ticks.length * 4), coord.height / (position.scales[1].ticks.length * 4));\n        return radius;\n    };\n    Heatmap.prototype._colorize = function (img) {\n        var colorAttr = this.getAttr('color');\n        var pixels = img.data;\n        var paletteCache = this.get('paletteCache');\n        for (var i = 3; i < pixels.length; i += 4) {\n            var alpha = pixels[i]; // get gradient color from opacity value\n            if (alpha) {\n                var palette = void 0;\n                if (paletteCache[alpha]) {\n                    palette = paletteCache[alpha];\n                }\n                else {\n                    palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n                    paletteCache[alpha] = palette;\n                }\n                // const palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n                pixels[i - 3] = palette[0];\n                pixels[i - 2] = palette[1];\n                pixels[i - 1] = palette[2];\n                pixels[i] = alpha;\n            }\n        }\n    };\n    Heatmap.prototype._prepareGreyScaleBlurredCircle = function (r, blur) {\n        var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n        if (!circleCanvas) {\n            circleCanvas = document.createElement('canvas');\n            this.set(GRAY_SCALE_BLURRED_CANVAS, circleCanvas);\n        }\n        var r2 = r + blur;\n        var ctx = circleCanvas.getContext('2d');\n        circleCanvas.width = circleCanvas.height = r2 * 2;\n        ctx.clearRect(0, 0, circleCanvas.width, circleCanvas.height);\n        ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n        ctx.shadowBlur = blur;\n        ctx.shadowColor = 'black';\n        ctx.beginPath();\n        ctx.arc(-r2, -r2, r, 0, Math.PI * 2, true);\n        ctx.closePath();\n        ctx.fill();\n    };\n    Heatmap.prototype._drawGrayScaleBlurredCircle = function (x, y, r, alpha, ctx) {\n        var circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n        ctx.globalAlpha = alpha;\n        ctx.drawImage(circleCanvas, x - r, y - r);\n    };\n    Heatmap.prototype._getShadowCanvasCtx = function () {\n        var canvas = this.get(SHADOW_CANVAS);\n        if (!canvas) {\n            canvas = document.createElement('canvas');\n            this.set(SHADOW_CANVAS, canvas);\n        }\n        var viewRange = this.get('view').get('viewRange');\n        canvas.width = viewRange.width;\n        canvas.height = viewRange.height;\n        return canvas.getContext('2d');\n    };\n    Heatmap.prototype._clearShadowCanvasCtx = function () {\n        var ctx = this._getShadowCanvasCtx();\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    };\n    Heatmap.prototype._getImageShape = function () {\n        var imageShape = this.get(IMAGE_SHAPE);\n        if (imageShape) {\n            return imageShape;\n        }\n        var container = this.get('container');\n        imageShape = container.addShape('Image', {});\n        this.set(IMAGE_SHAPE, imageShape);\n        return imageShape;\n    };\n    Heatmap.prototype.clear = function () {\n        this._clearShadowCanvasCtx();\n        _super.prototype.clear.call(this);\n    };\n    Heatmap.prototype.drawWithRange = function (range) {\n        // canvas size\n        var _a = this.get('coord'), start = _a.start, end = _a.end, width = _a.width, height = _a.height;\n        // value, range, etc\n        // const valueField = this.getAttr('color').field;\n        var valueField = this.getAttr('color').scales[0].field;\n        var size = this.get(HEATMAP_SIZE);\n        // prepare shadow canvas context\n        this._clearShadowCanvasCtx();\n        var ctx = this._getShadowCanvasCtx();\n        // filter data\n        var data = this.get(MAPPED_DATA);\n        if (range) {\n            data = data.filter(function (row) {\n                return row[ORIGIN_FIELD][valueField] <= range[1] && row[ORIGIN_FIELD][valueField] >= range[0];\n            });\n        }\n        // step1. draw points with shadow\n        var scale = this.get('scales')[valueField];\n        for (var i = 0; i < data.length; i++) {\n            var obj = data[i];\n            var cfg = this.getDrawCfg(obj);\n            var alpha = scale.scale(obj[ORIGIN_FIELD][valueField]);\n            // @ts-ignore\n            this._drawGrayScaleBlurredCircle(cfg.x - start.x, cfg.y - end.y, size.radius + size.blur, alpha, ctx);\n        }\n        // step2. convert pixels\n        var colored = ctx.getImageData(0, 0, width, height);\n        this._clearShadowCanvasCtx();\n        this._colorize(colored);\n        ctx.putImageData(colored, 0, 0);\n        var image = new Image();\n        image.src = ctx.canvas.toDataURL('image/png');\n        var imageShape = this._getImageShape();\n        imageShape.attr({\n            x: start.x,\n            y: end.y,\n            width: width,\n            height: height,\n            img: image,\n        });\n    };\n    Heatmap.prototype.draw = function (data) {\n        this.set(MAPPED_DATA, data);\n        this._prepareRange();\n        this._prepareSize();\n        var size = this.get(HEATMAP_SIZE);\n        this._prepareGreyScaleBlurredCircle(size.radius, size.blur);\n        var range = this.get(VALUE_RANGE);\n        this.drawWithRange(range);\n        // super.draw(data, container, shapeFactory, index);\n    };\n    return Heatmap;\n}(Element));\nexport default Heatmap;\n//# sourceMappingURL=heatmap.js.map","/**\n * 为不同的 element shape 定义对应的 marker symbol\n */\nvar SQRT_3 = Math.sqrt(3);\n// Line shape 对应的 symbols\nexport var LineSymbols = {\n    line: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n        ];\n    },\n    smooth: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['A', r / 2, r / 2, 0, 1, 1, x, y],\n            ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n        ];\n    },\n    hv: function (x, y, r) {\n        return [\n            ['M', x - r - 1, y - 2.5],\n            ['L', x, y - 2.5],\n            ['L', x, y + 2.5],\n            ['L', x + r + 1, y + 2.5],\n        ];\n    },\n    vh: function (x, y, r) {\n        return [\n            ['M', x - r - 1, y + 2.5],\n            ['L', x, y + 2.5],\n            ['L', x, y - 2.5],\n            ['L', x + r + 1, y - 2.5],\n        ];\n    },\n    hvh: function (x, y, r) {\n        return [\n            ['M', x - (r + 1), y + 2.5],\n            ['L', x - r / 2, y + 2.5],\n            ['L', x - r / 2, y - 2.5],\n            ['L', x + r / 2, y - 2.5],\n            ['L', x + r / 2, y + 2.5],\n            ['L', x + r + 1, y + 2.5],\n        ];\n    },\n    vhv: function (x, y) {\n        // 宽 13px，高 8px\n        return [\n            ['M', x - 5, y + 2.5],\n            ['L', x - 5, y],\n            ['L', x, y],\n            ['L', x, y - 3],\n            ['L', x, y + 3],\n            ['L', x + 6.5, y + 3],\n        ];\n    },\n};\n// Point shape 对应的 symbols\nexport var PointSymbols = {\n    hexagon: function (x, y, r) {\n        var diffX = (r / 2) * SQRT_3;\n        return [\n            ['M', x, y - r],\n            ['L', x + diffX, y - r / 2],\n            ['L', x + diffX, y + r / 2],\n            ['L', x, y + r],\n            ['L', x - diffX, y + r / 2],\n            ['L', x - diffX, y - r / 2],\n            ['Z'],\n        ];\n    },\n    bowtie: function (x, y, r) {\n        var diffY = r - 1.5;\n        return [\n            ['M', x - r, y - diffY],\n            ['L', x + r, y + diffY],\n            ['L', x + r, y - diffY],\n            ['L', x - r, y + diffY],\n            ['Z'],\n        ];\n    },\n    cross: function (x, y, r) {\n        return [\n            ['M', x - r, y - r],\n            ['L', x + r, y + r],\n            ['M', x + r, y - r],\n            ['L', x - r, y + r],\n        ];\n    },\n    tick: function (x, y, r) {\n        return [\n            ['M', x - r / 2, y - r],\n            ['L', x + r / 2, y - r],\n            ['M', x, y - r],\n            ['L', x, y + r],\n            ['M', x - r / 2, y + r],\n            ['L', x + r / 2, y + r],\n        ];\n    },\n    plus: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n            ['M', x, y - r],\n            ['L', x, y + r],\n        ];\n    },\n    hyphen: function (x, y, r) {\n        return [\n            ['M', x - r, y],\n            ['L', x + r, y],\n        ];\n    },\n    line: function (x, y, r) {\n        return [\n            ['M', x, y - r],\n            ['L', x, y + r],\n        ];\n    },\n};\n// interval 对应的 symbols\nexport var IntervalSymbols = {\n    tick: function (x, y, r) {\n        return [\n            ['M', x - r / 2, y - r],\n            ['L', x + r / 2, y - r],\n            ['M', x, y - r],\n            ['L', x, y + r],\n            ['M', x - r / 2, y + r],\n            ['L', x + r / 2, y + r],\n        ];\n    },\n    line: function (x, y, r) {\n        return [\n            ['M', x, y - r],\n            ['L', x, y + r],\n        ];\n    },\n};\n//# sourceMappingURL=symbol.js.map","import { __assign } from \"tslib\";\n/**\n * @description Interval Element shapes\n */\nimport * as _ from '@antv/util';\nimport { Marker } from '@antv/g';\nimport { registerShapeFactory, registerShape } from './base';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nimport { getPointAngle } from '../util/path';\nimport { IntervalSymbols } from '../util/symbol';\n_.each(IntervalSymbols, function (func, symbol) {\n    // Interval 中需要用到的 symbol\n    // 使用 Marker 提供的静态方法注册进去\n    // 用户有可能使用动态加载 Element，所以需要注册\n    Marker.symbolsFactory.register(symbol, func);\n});\n// 获取填充图形的图形属性\nfunction _getFillAttrs(cfg) {\n    var attrs = cfg.style;\n    setFillStyle(attrs, cfg);\n    return attrs;\n}\n// 获取描边图形的图形属性\nfunction _getLineAttrs(cfg) {\n    var attrs = cfg.style;\n    setStrokeStyle(attrs, cfg);\n    return attrs;\n}\n// 根据数据点生成矩形的四个关键点\nfunction _getRectPoints(cfg, isPyramid) {\n    if (isPyramid === void 0) { isPyramid = false; }\n    var x = cfg.x, y = cfg.y, y0 = cfg.y0, size = cfg.size;\n    // 有 4 种情况，\n    // 1. x, y 都不是数组\n    // 2. y是数组，x不是\n    // 3. x是数组，y不是\n    // 4. x, y 都是数组\n    var yMin;\n    var yMax;\n    if (_.isArray(y)) {\n        yMin = y[0];\n        yMax = y[1];\n    }\n    else {\n        yMin = y0;\n        yMax = y;\n    }\n    var xMin;\n    var xMax;\n    if (_.isArray(x)) {\n        xMin = x[0];\n        xMax = x[1];\n    }\n    else {\n        xMin = x - size / 2;\n        xMax = x + size / 2;\n    }\n    var points = [\n        { x: xMin, y: yMin },\n        { x: xMin, y: yMax },\n    ];\n    if (isPyramid) { // 绘制尖底漏斗图\n        // 金字塔漏斗图的关键点\n        // 1\n        // |   2\n        // 0\n        points.push({\n            x: xMax,\n            y: (yMax + yMin) / 2,\n        });\n    }\n    else {\n        // 矩形的四个关键点，结构如下（左下角顺时针连接）\n        // 1 ---- 2\n        // |      |\n        // 0 ---- 3\n        points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n    }\n    return points;\n}\n// 根据矩形关键点绘制 path\nfunction _getRectPath(points) {\n    var path = [];\n    var firstPoint = points[0];\n    path.push(['M', firstPoint.x, firstPoint.y]);\n    for (var i = 1, len = points.length; i < len; i++) {\n        path.push(['L', points[i].x, points[i].y]);\n    }\n    path.push(['L', firstPoint.x, firstPoint.y]); // 需要闭合\n    path.push(['z']);\n    return path;\n}\n// 根据数据点生成 Line 的两个关键点\nfunction _getLinePoints(cfg) {\n    var x = cfg.x, y = cfg.y, y0 = cfg.y0;\n    if (_.isArray(y)) {\n        return y.map(function (yItem, idx) {\n            return {\n                x: _.isArray(x) ? x[idx] : x,\n                y: yItem,\n            };\n        });\n    }\n    return [\n        { x: x, y: y },\n        { x: x, y: y0 },\n    ];\n}\n// 根据数据点生成 tick shape 的 6 个关键点\nfunction _getTickPoints(cfg) {\n    var x = cfg.x, y = cfg.y, y0 = cfg.y0, size = cfg.size;\n    var yMin;\n    var yMax;\n    if (_.isArray(y)) {\n        yMin = y[0];\n        yMax = y[1];\n    }\n    else {\n        yMin = y0;\n        yMax = y;\n    }\n    var xMax = x + size / 2;\n    var xMin = x - size / 2;\n    // tick 关键点顺序\n    // 0 - 2 - 1\n    //     |\n    // 4 - 3 - 5\n    return [\n        { x: xMin, y: yMax },\n        { x: xMax, y: yMax },\n        { x: x, y: yMax },\n        { x: x, y: yMin },\n        { x: xMin, y: yMin },\n        { x: xMax, y: yMin },\n    ];\n}\n// 根据 tick 关键点绘制 path\nfunction _getTickPath(points) {\n    return [\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['M', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['M', points[4].x, points[4].y],\n        ['L', points[5].x, points[5].y],\n    ];\n}\n// 根据关键点绘制漏斗图的 path\nfunction _getFunnelPath(cfg, isFunnel) {\n    var path = [];\n    var points = cfg.points, nextPoints = cfg.nextPoints;\n    if (!_.isNil(nextPoints)) {\n        path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', nextPoints[1].x, nextPoints[1].y], ['L', nextPoints[0].x, nextPoints[0].y], ['Z']);\n    }\n    else if (isFunnel) {\n        path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['Z']);\n    }\n    else {\n        path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], \n        // [ 'L', points[2].x, points[2].y ],\n        ['Z']);\n    }\n    return path;\n}\nfunction _getThetaAngle(point, coord) {\n    var startAngle;\n    var endAngle;\n    var startPoint;\n    var endPoint;\n    if (!_.isArray(point.x) && _.isArray(point.y)) { // 如果x是一个值，y是数组，将x转成数组\n        point.x = [point.x, point.x];\n    }\n    if (_.isArray(point.x)) {\n        startPoint = {\n            x: point.x[0],\n            y: point.y[0],\n        };\n        endPoint = {\n            x: point.x[1],\n            y: point.y[1],\n        };\n        startAngle = getPointAngle(coord, startPoint);\n        endAngle = getPointAngle(coord, endPoint);\n        if (endAngle <= startAngle) { // 考虑占比百分百的情形\n            endAngle = endAngle + Math.PI * 2;\n        }\n    }\n    else {\n        endPoint = point;\n        startAngle = coord.startAngle;\n        endAngle = getPointAngle(coord, endPoint);\n    }\n    return {\n        startAngle: startAngle,\n        endAngle: endAngle,\n    };\n}\nvar IntervalShapeFactory = registerShapeFactory('interval', {\n    defaultShapeType: 'rect',\n    getDefaultPoints: function (pointInfo) {\n        return _getRectPoints(pointInfo);\n    },\n});\n// 默认 rect\nregisterShape('interval', 'rect', {\n    draw: function (cfg, container) {\n        var attrs = _getFillAttrs(cfg);\n        var path = _getRectPath(cfg.points);\n        path = this.parsePath(path);\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: path }),\n        });\n    },\n    getMarkerStyle: function (markerCfg) {\n        var isInCircle = markerCfg.isInCircle;\n        var markerStyle = {\n            symbol: isInCircle ? 'circle' : 'square',\n            radius: isInCircle ? 4.5 : 4,\n        };\n        setFillStyle(markerStyle, markerCfg);\n        return markerStyle;\n    },\n});\n// 描边矩形\nregisterShape('interval', 'hollowInterval', {\n    draw: function (cfg, container) {\n        var attrs = _getLineAttrs(cfg);\n        var path = _getRectPath(cfg.points);\n        path = this.parsePath(path);\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: path }),\n        });\n    },\n    getMarkerStyle: function (markerCfg) {\n        var isInCircle = markerCfg.isInCircle;\n        var markerStyle = {\n            symbol: isInCircle ? 'circle' : 'square',\n            radius: isInCircle ? 4.5 : 4,\n        };\n        setStrokeStyle(markerStyle, markerCfg);\n        return markerStyle;\n    },\n});\n// 直线柱图\nregisterShape('interval', 'line', {\n    getPoints: function (pointInfo) {\n        return _getLinePoints(pointInfo);\n    },\n    draw: function (cfg, container) {\n        var attrs = _getLineAttrs(cfg);\n        attrs.lineWidth = cfg.size || 1;\n        var path = _getRectPath(cfg.points);\n        path = this.parsePath(path);\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: path }),\n        });\n    },\n    getMarkerStyle: function (markerCfg) {\n        var markerStyle = {\n            symbol: 'line',\n            radius: 5,\n        };\n        setStrokeStyle(markerStyle, markerCfg);\n        return markerStyle;\n    },\n});\n// I 形柱状图\nregisterShape('interval', 'tick', {\n    getPoints: function (pointInfo) {\n        return _getTickPoints(pointInfo);\n    },\n    draw: function (cfg, container) {\n        var attrs = _getLineAttrs(cfg);\n        var path = _getTickPath(cfg.points);\n        path = this.parsePath(path);\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: path }),\n        });\n    },\n    getMarkerStyle: function (markerCfg) {\n        var markerStyle = {\n            symbol: 'tick',\n            radius: 5,\n        };\n        setStrokeStyle(markerStyle, markerCfg);\n        return markerStyle;\n    },\n});\n// 漏斗图\nregisterShape('interval', 'funnel', {\n    getPoints: function (pointInfo) {\n        pointInfo.size = pointInfo.size * 2; // 漏斗图的 size 是柱状图的两倍\n        return _getRectPoints(pointInfo);\n    },\n    draw: function (cfg, container) {\n        var attrs = _getFillAttrs(cfg);\n        var path = _getFunnelPath(cfg, true);\n        path = this.parsePath(path);\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: path }),\n        });\n    },\n    getMarkerStyle: function (markerCfg) {\n        var markerStyle = {\n            symbol: 'square',\n            radius: 4,\n        };\n        setFillStyle(markerStyle, markerCfg);\n        return markerStyle;\n    },\n});\n// 金字塔图，即尖底漏斗图\nregisterShape('interval', 'pyramid', {\n    getPoints: function (pointInfo) {\n        pointInfo.size = pointInfo.size * 2; // 漏斗图的 size 是柱状图的两倍\n        return _getRectPoints(pointInfo, true);\n    },\n    draw: function (cfg, container) {\n        var attrs = _getFillAttrs(cfg);\n        var path = _getFunnelPath(cfg, false);\n        path = this.parsePath(path);\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: path }),\n        });\n    },\n    getMarkerStyle: function (markerCfg) {\n        var markerStyle = {\n            symbol: 'square',\n            radius: 4,\n        };\n        setFillStyle(markerStyle, markerCfg);\n        return markerStyle;\n    },\n});\n// TODO：top-line 这个 shape 后续是否可以直接由上层业务自己去封装\n// 带顶部描边的柱状图，用于满足业务视觉上对层叠柱状图以及直方图描边的需求\nregisterShape('interval', 'top-line', {\n    draw: function (cfg, container) {\n        var attrs = _.mix({}, _getFillAttrs(cfg));\n        var style = cfg.style, points = cfg.points;\n        var rectPath = _getRectPath(points);\n        rectPath = this.parsePath(rectPath);\n        delete attrs.stroke; // 不允许为柱子描边\n        var rectShape = container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { zIndex: 0, path: rectPath }),\n        });\n        // 绘制 top line\n        var topLinePath = [\n            ['M', points[1].x, points[1].y],\n            ['L', points[2].x, points[2].y],\n        ];\n        container.addShape('path', {\n            zIndex: 1,\n            attrs: {\n                stroke: style.stroke || 'white',\n                lineWidth: style.lineWidth || 1,\n                path: this.parsePath(topLinePath),\n            },\n        });\n        return rectShape;\n    },\n    getMarkerStyle: function (markerCfg) {\n        var isInCircle = markerCfg.isInCircle;\n        var markerStyle = {\n            symbol: isInCircle ? 'circle' : 'square',\n            radius: isInCircle ? 4.5 : 4,\n        };\n        setFillStyle(markerStyle, markerCfg);\n        return markerStyle;\n    },\n});\nexport default IntervalShapeFactory;\n//# sourceMappingURL=interval.js.map","import { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport SizeController from './controller/size';\nimport IntervalShapeFactory from './shape/interval';\nvar Interval = /** @class */ (function (_super) {\n    __extends(Interval, _super);\n    function Interval(cfg) {\n        var _this = _super.call(this, __assign({ type: 'interval', shapeType: 'interval', generatePoints: true }, cfg)) || this;\n        // 初始化 sizeController\n        var sizeController = new SizeController(_this);\n        _this.set('sizeController', sizeController);\n        // 设置 IntervalShapeFactory\n        _this.set('shapeFactory', IntervalShapeFactory);\n        return _this;\n    }\n    Interval.prototype.createShapePointsCfg = function (obj) {\n        var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n        cfg.size = this.getNormalizedSize(obj); // 获取每条数据对应的 size 归一化后的值\n        return cfg;\n    };\n    Interval.prototype.isShareTooltip = function () {\n        var isShareTooltip = this.get('shareTooltip');\n        var coord = this.get('coord');\n        var coordType = coord.type;\n        if (coordType === 'theta' || (coordType === 'polar' && coord.isTransposed)) {\n            isShareTooltip = false; // 饼图不合并\n        }\n        return isShareTooltip;\n    };\n    return Interval;\n}(Element));\nexport default Interval;\n//# sourceMappingURL=interval.js.map","import * as _ from '@antv/util';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nimport { registerShapeFactory, registerShape } from './base';\nfunction _sortValue(oldValue) {\n    var value = oldValue;\n    if (!_.isArray(oldValue)) {\n        value = [oldValue];\n    }\n    // 从大到小排序\n    var sorted = value.sort(function (a, b) {\n        return a < b ? 1 : -1;\n    });\n    var length = sorted.length;\n    if (length < 4) {\n        var min = sorted[length - 1];\n        for (var i = 0; i < 4 - length; i++) {\n            sorted.push(min);\n        }\n    }\n    return sorted;\n}\nfunction _getPoints(x, y, width) {\n    var yValues = _sortValue(y);\n    var points = [\n        {\n            x: x,\n            y: yValues[0],\n        },\n        {\n            x: x,\n            y: yValues[1],\n        },\n        {\n            x: x - width / 2,\n            y: yValues[2],\n        },\n        {\n            x: x - width / 2,\n            y: yValues[1],\n        },\n        {\n            x: x + width / 2,\n            y: yValues[1],\n        },\n        {\n            x: x + width / 2,\n            y: yValues[2],\n        },\n        {\n            x: x,\n            y: yValues[2],\n        },\n        {\n            x: x,\n            y: yValues[3],\n        },\n    ]; // 按照顺时针连接\n    return points;\n}\nfunction _getPath(points) {\n    var path = [\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['M', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['L', points[4].x, points[4].y],\n        ['L', points[5].x, points[5].y],\n        ['Z'],\n        ['M', points[6].x, points[6].y],\n        ['L', points[7].x, points[7].y],\n    ];\n    return path;\n}\nfunction _getAttrs(cfg) {\n    var lineAttrs = cfg.style;\n    setFillStyle(lineAttrs, cfg);\n    setStrokeStyle(lineAttrs, cfg);\n    return lineAttrs;\n}\nvar KLineShapeFactory = registerShapeFactory('kline', {\n    defaultShapeType: 'kline',\n});\nregisterShape('kline', 'kline', {\n    getPoints: function (pointInfo) {\n        return _getPoints(pointInfo.x, pointInfo.y, pointInfo.size);\n    },\n    draw: function (cfg, container) {\n        var attrs = _getAttrs(cfg);\n        var path = _getPath(cfg.points);\n        path = this.parsePath(path);\n        return container.addShape('path', {\n            attrs: _.mix(attrs, {\n                path: path,\n            }),\n        });\n    },\n    getMarkerStyle: function (markerCfg) {\n        return {\n            symbol: function (x, y, r) {\n                var yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n                var points = _getPoints(x, yValues, r);\n                return [\n                    ['M', points[0].x, points[0].y],\n                    ['L', points[1].x, points[1].y],\n                    ['M', points[2].x, points[2].y],\n                    ['L', points[3].x, points[3].y],\n                    ['L', points[4].x, points[4].y],\n                    ['L', points[5].x, points[5].y],\n                    ['Z'],\n                    ['M', points[6].x, points[6].y],\n                    ['L', points[7].x, points[7].y],\n                ];\n            },\n            lineWidth: 1,\n            stroke: markerCfg.color,\n            fill: markerCfg.color,\n            radius: 6,\n        };\n    },\n});\nexport default KLineShapeFactory;\n//# sourceMappingURL=k-line.js.map","import { __assign, __extends } from \"tslib\";\nimport Element from './base';\nimport SizeController from './controller/size';\nimport KLineShapeFactory from './shape/k-line';\nvar KLine = /** @class */ (function (_super) {\n    __extends(KLine, _super);\n    function KLine(cfg) {\n        var _this = _super.call(this, __assign({ type: 'kline', shapeType: 'kline', generatePoints: true }, cfg)) || this;\n        var sizeController = new SizeController(_this);\n        _this.set('sizeController', sizeController);\n        _this.set('shapeFactory', KLineShapeFactory);\n        return _this;\n    }\n    KLine.prototype.createShapePointsCfg = function (obj) {\n        var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n        cfg.size = this.getNormalizedSize(obj);\n        return cfg;\n    };\n    return KLine;\n}(Element));\nexport default KLine;\n//# sourceMappingURL=k-line.js.map","import { __assign } from \"tslib\";\n/**\n * @description line shapes\n */\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints, setStrokeStyle } from '../util/shape';\nimport { LineSymbols } from '../util/symbol';\nvar DOT_LINEDASH = [1, 1];\nvar DASH_LINEDASH = [5.5, 1];\n// 获取图形属性\nfunction _getAttrs(cfg) {\n    var lineAttrs = cfg.style;\n    setStrokeStyle(lineAttrs, cfg);\n    if (cfg.size) {\n        lineAttrs.lineWidth = cfg.size;\n    }\n    return lineAttrs;\n}\n// 获取 Marker 的图形属性\nfunction _getMarkerAttrs(cfg) {\n    var markerAttrs = {\n        lineWidth: 2,\n        radius: 6,\n    };\n    setStrokeStyle(markerAttrs, cfg);\n    return markerAttrs;\n}\n// 当只有一个数据时绘制点\nfunction _drawPointShape(cfg, container) {\n    var point = cfg.points[0];\n    return container.addShape('circle', {\n        attrs: {\n            x: point.x,\n            y: point.y,\n            r: 2,\n            fill: cfg.color,\n        },\n    });\n}\n// 获取带有上下区间的 path\nfunction _getRangePath(points, smooth, isInCircle, cfg) {\n    var isStack = cfg.isStack;\n    var topPoints = [];\n    var bottomPoints = [];\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        var tmp = splitPoints(point);\n        bottomPoints.push(tmp[0]);\n        topPoints.push(tmp[1]);\n    }\n    var topPath = _getSinglePath(topPoints, smooth, isInCircle, cfg);\n    var bottomPath = _getSinglePath(bottomPoints, smooth, isInCircle, cfg);\n    if (isStack) {\n        return topPath;\n    }\n    return topPath.concat(bottomPath);\n}\n// 单条 path\nfunction _getSinglePath(points, smooth, isInCircle, cfg) {\n    var path;\n    if (!smooth) {\n        path = getLinePath(points, false);\n        isInCircle && path.push(['Z']);\n    }\n    else {\n        // 直角坐标系下绘制曲线时限制最大值、最小值\n        var constraint = cfg.constraint;\n        isInCircle && points.length && points.push({ x: points[0].x, y: points[0].y });\n        path = getSplinePath(points, false, constraint);\n    }\n    return path;\n}\n// get line path\nfunction _getPath(cfg, smooth) {\n    var points = cfg.points, isInCircle = cfg.isInCircle;\n    var first = points[0];\n    return _.isArray(first.y) ?\n        _getRangePath(points, smooth, isInCircle, cfg) :\n        _getSinglePath(points, smooth, isInCircle, cfg);\n}\nfunction _interpPoints(points, fn) {\n    var tmpPoints = [];\n    _.each(points, function (point, index) {\n        var nextPoint = points[index + 1];\n        tmpPoints.push(point);\n        if (nextPoint) {\n            tmpPoints = tmpPoints.concat(fn(point, nextPoint));\n        }\n    });\n    return tmpPoints;\n}\n// 插值的图形path，不考虑null\nfunction _getInterPath(points) {\n    var path = points.map(function (point, index) {\n        return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n    });\n    return path;\n}\n// 插值的图形\nfunction _getInterPointShapeCfg(cfg, fn) {\n    var points = _interpPoints(cfg.points, fn);\n    return _getInterPath(points);\n}\nvar LineShapeFactory = registerShapeFactory('line', {\n    defaultShapeType: 'line',\n    drawShape: function (type, cfg, container) {\n        var shape = this.getShape(type);\n        // 因为覆盖了 ShapeFactotyBase.drawShape 方法，所以记得要应用 shape 主题配置\n        var shapeName = shape.name;\n        var theme = this._theme;\n        if (theme && theme.line && theme.line[shapeName]) {\n            var defaultShapeStyle = theme.line[shapeName].default;\n            cfg.style = _.mix({}, defaultShapeStyle, cfg.style);\n        }\n        var gShape = (cfg.points.length === 1 && cfg.showSinglePoint) ?\n            _drawPointShape(cfg, container) :\n            shape.draw(cfg, container);\n        if (gShape) {\n            gShape.setSilent('origin', cfg.origin);\n            gShape.id = cfg.splitedIndex ? cfg.id + cfg.splitedIndex : cfg.id;\n            gShape.name = this.name;\n        }\n        return gShape;\n    },\n    getMarkerStyle: function (type, markerCfg) {\n        var shape = this.getShape(type);\n        var markerStyle;\n        if (shape.getMarkerStyle) {\n            markerStyle = shape.getMarkerStyle(markerCfg);\n        }\n        else {\n            markerStyle = _getMarkerAttrs(markerCfg);\n            var symbol = LineSymbols[type];\n            if (type === 'dot') {\n                symbol = LineSymbols.line;\n                markerStyle.lineDash = markerStyle.lineDash || DOT_LINEDASH;\n            }\n            if (type === 'dash') {\n                symbol = LineSymbols.line;\n                markerStyle.lineDash = markerStyle.lineDash || DASH_LINEDASH;\n            }\n            markerStyle.symbol = symbol;\n        }\n        var theme = this._theme;\n        var shapeName = shape.name;\n        if (theme && theme.line && theme.line[shapeName]) {\n            markerStyle = _.mix({}, theme.line[shapeName].default, markerStyle);\n        }\n        return markerStyle;\n    },\n});\n// 开始往 LineShapeFactory 注册具体的 shape\nregisterShape('line', 'line', {\n    draw: function (cfg, container) {\n        var attrs = _getAttrs(cfg);\n        var path = _getPath(cfg, false);\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: path }),\n        });\n    },\n});\n// 点线 ···\nregisterShape('line', 'dot', {\n    draw: function (cfg, container) {\n        var attrs = _getAttrs(cfg);\n        var path = _getPath(cfg, false);\n        return container.addShape('path', {\n            attrs: __assign(__assign({ lineDash: DOT_LINEDASH }, attrs), { path: path }),\n        });\n    },\n});\n// 断线 - - -\nregisterShape('line', 'dash', {\n    draw: function (cfg, container) {\n        var attrs = _getAttrs(cfg);\n        var path = _getPath(cfg, false);\n        return container.addShape('path', {\n            attrs: __assign(__assign({ lineDash: DASH_LINEDASH }, attrs), { path: path }),\n        });\n    },\n});\n// 平滑曲线\nregisterShape('line', 'smooth', {\n    draw: function (cfg, container) {\n        var attrs = _getAttrs(cfg);\n        var coord = this.getCoord();\n        // 曲线的限制\n        cfg.constraint = [\n            [coord.start.x, coord.end.y],\n            [coord.end.x, coord.start.y],\n        ];\n        var path = _getPath(cfg, true);\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: path }),\n        });\n    },\n});\n// step line,\nregisterShape('line', 'hv', {\n    draw: function (cfg, container) {\n        var attrs = _getAttrs(cfg);\n        var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n            return [{\n                    x: nextPoint.x,\n                    y: point.y,\n                }];\n        });\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: path }),\n        });\n    },\n});\nregisterShape('line', 'vh', {\n    draw: function (cfg, container) {\n        var attrs = _getAttrs(cfg);\n        var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n            return [{\n                    x: point.x,\n                    y: nextPoint.y,\n                }];\n        });\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: path }),\n        });\n    },\n});\nregisterShape('line', 'hvh', {\n    draw: function (cfg, container) {\n        var attrs = _getAttrs(cfg);\n        var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n            var middleX = (nextPoint.x + point.x) / 2;\n            return [\n                { x: middleX, y: point.y },\n                { x: middleX, y: nextPoint.y },\n            ];\n        });\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: path }),\n        });\n    },\n});\nregisterShape('line', 'vhv', {\n    draw: function (cfg, container) {\n        var attrs = _getAttrs(cfg);\n        var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n            var middleY = (point.y + nextPoint.y) / 2;\n            return [\n                { x: point.x, y: middleY },\n                { x: nextPoint.x, y: middleY },\n            ];\n        });\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: path }),\n        });\n    },\n});\nexport default LineShapeFactory;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\n/**\n * @description path，路径图，用于绘制无序的线图\n */\nimport * as _ from '@antv/util';\nimport Element from './base';\nimport { splitData } from './util/split-data';\nimport LineShapeFactory from './shape/line';\nvar Path = /** @class */ (function (_super) {\n    __extends(Path, _super);\n    function Path(cfg) {\n        var _this = _super.call(this, __assign({ type: 'path', shapeType: 'line', connectNulls: false, showSinglePoint: false }, cfg)) || this;\n        _this.set('shapeFactory', LineShapeFactory); // 设置 path 对应的 shapeFactory\n        return _this;\n    }\n    /**\n     * @override\n     * 构造绘制 path 需要的属性\n     * @param obj 数据\n     */\n    Path.prototype.getDrawCfg = function (obj) {\n        var drawCfg = _super.prototype.getDrawCfg.call(this, obj);\n        var isStack = this.hasAdjust('stack');\n        return __assign(__assign({}, drawCfg), { isStack: isStack, showSinglePoint: this.get('showSinglePoint') });\n    };\n    Path.prototype.draw = function (data, container, shapeFactory, index) {\n        var _this = this;\n        var splitArray = splitData(data, this.get('connectNulls'), this.getYScale().field);\n        var cfg = this.getDrawCfg(data[0]);\n        cfg.origin = data; // path,line 等图的 origin 是整个数据序列\n        _.each(splitArray, function (subData, splitedIndex) {\n            if (!_.isEmpty(subData)) {\n                cfg.splitedIndex = splitedIndex; // 传入分割片段索引 用于生成id\n                cfg.points = subData;\n                var geomShape = shapeFactory.drawShape(cfg.shape, cfg, container);\n                _this.appendShapeInfo(geomShape, index + splitedIndex);\n            }\n        });\n    };\n    return Path;\n}(Element));\nexport default Path;\n//# sourceMappingURL=path.js.map","/**\n * @description Line，有序的线图\n */\nimport { __assign, __extends } from \"tslib\";\nimport Path from './path';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line(cfg) {\n        return _super.call(this, __assign({ type: 'line', sortable: true }, cfg)) || this;\n    }\n    return Line;\n}(Path));\nexport default Line;\n//# sourceMappingURL=line.js.map","import { __assign } from \"tslib\";\n/**\n * Point shape factory\n */\nimport { Marker } from '@antv/g';\nimport * as _ from '@antv/util';\nimport * as pathUtil from '@antv/path-util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { splitPoints, setStrokeStyle, setFillStyle } from '../util/shape';\nimport { PointSymbols } from '../util/symbol';\n_.each(PointSymbols, function (func, symbol) {\n    // point 中需要用到这么些 Marker.symbol\n    // 使用 Marker 提供的静态方法注册进去\n    Marker.symbolsFactory.register(symbol, func);\n});\nvar SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangleDown'];\nvar HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\nfunction getFillAttrs(cfg) {\n    var pointAttrs = cfg.style;\n    setFillStyle(pointAttrs, cfg);\n    if (_.isNumber(cfg.size)) {\n        pointAttrs.radius = cfg.size;\n    }\n    return pointAttrs;\n}\nfunction getLineAttrs(cfg) {\n    var pointAttrs = cfg.style;\n    setStrokeStyle(pointAttrs, cfg);\n    if (_.isNumber(cfg.size)) {\n        pointAttrs.radius = cfg.size;\n    }\n    return pointAttrs;\n}\nfunction getRectPath(cfg) {\n    var x = cfg.points[0].x;\n    var y = cfg.points[0].y;\n    var w = cfg.size[0];\n    var h = cfg.size[1];\n    var path = [\n        ['M', x - 0.5 * w, y - 0.5 * h],\n        ['L', x + 0.5 * w, y - 0.5 * h],\n        ['L', x + 0.5 * w, y + 0.5 * h],\n        ['L', x - 0.5 * w, y + 0.5 * h],\n        ['z'],\n    ];\n    return path;\n}\nvar PointShapeFactory = registerShapeFactory('point', {\n    defaultShapeType: 'hollowCircle',\n    getDefaultPoints: function (pointInfo) {\n        return splitPoints(pointInfo);\n    },\n});\n// 用于桑基图的节点\nregisterShape('point', 'rect', {\n    draw: function (cfg, container) {\n        var rectAttrs = getFillAttrs(cfg);\n        var path = getRectPath(cfg);\n        path = this.parsePath(path);\n        var gShape = container.addShape('path', {\n            attrs: _.mix(rectAttrs, {\n                path: path,\n            }),\n        });\n        return gShape;\n    },\n    getMarkerStyle: function (markerCfg) {\n        var markerStyle = {\n            symbol: 'rect',\n            radius: 4.5,\n        };\n        setFillStyle(markerStyle, markerCfg);\n        return markerStyle;\n    },\n});\n// 所有的 SHAPES 都注册一下\n_.each(SHAPES, function (shape) {\n    registerShape('point', shape, {\n        draw: function (cfg, container) {\n            var attrs = getFillAttrs(cfg);\n            return container.addShape('Marker', {\n                attrs: __assign(__assign({}, attrs), { symbol: shape, x: cfg.x, y: cfg.y }),\n            });\n        },\n        getMarkerStyle: function (markerCfg) {\n            var markerStyle = {\n                symbol: shape,\n                radius: 4.5,\n            };\n            setFillStyle(markerStyle, markerCfg);\n            return markerStyle;\n        },\n    });\n    // 添加该 shape 对应的 hollow-shape\n    registerShape('point', \"hollow\" + _.upperFirst(shape), {\n        draw: function (cfg, container) {\n            var attrs = getLineAttrs(cfg);\n            return container.addShape('Marker', {\n                attrs: __assign(__assign({}, attrs), { symbol: shape, x: cfg.x, y: cfg.y }),\n            });\n        },\n        getMarkerStyle: function (markerCfg) {\n            var markerStyle = {\n                symbol: shape,\n                radius: 4.5,\n            };\n            setStrokeStyle(markerStyle, markerCfg);\n            return markerStyle;\n        },\n    });\n});\n// 添加 hollowShapes\n_.each(HOLLOW_SHAPES, function (shape) {\n    registerShape('point', shape, {\n        draw: function (cfg, container) {\n            var attrs = getLineAttrs(cfg);\n            return container.addShape('Marker', {\n                attrs: __assign(__assign({}, attrs), { symbol: shape, x: cfg.x, y: cfg.y }),\n            });\n        },\n        getMarkerStyle: function (markerCfg) {\n            var markerStyle = {\n                symbol: shape,\n                radius: 4.5,\n            };\n            setStrokeStyle(markerStyle, markerCfg);\n            return markerStyle;\n        },\n    });\n});\n// image\nregisterShape('point', 'image', {\n    draw: function (cfg, container) {\n        cfg.points = this.parsePoints(cfg.points);\n        return container.addShape('image', {\n            attrs: {\n                x: cfg.points[0].x - (cfg.size / 2),\n                y: cfg.points[0].y - cfg.size,\n                width: cfg.size,\n                height: cfg.size,\n                img: cfg.shape[1],\n            },\n        });\n    },\n    getMarkerStyle: function (markerCfg) {\n        var markerStyle = {\n            symbol: 'circle',\n            radius: 4.5,\n        };\n        setFillStyle(markerStyle, markerCfg);\n        return markerStyle;\n    },\n});\n// path 解析，缓存一下\nvar pathMetaParser = _.memoize(function (path) {\n    var segments = pathUtil.parsePathString(path);\n    var nums = _.flatten(segments).filter(function (num) { return _.isNumber(num); });\n    return {\n        range: Math.max.apply(null, nums) - Math.min.apply(null, nums),\n        segments: segments,\n    };\n});\n// path\nregisterShape('point', 'path', {\n    draw: function (cfg, container) {\n        var attrs = _.mix({}, getLineAttrs(cfg), getFillAttrs(cfg));\n        var path = cfg.shape[1];\n        var size = cfg.size || 10;\n        var pathMeta = pathMetaParser(path);\n        var scale = size / pathMeta.range;\n        var transform = [];\n        if (attrs.rotate) {\n            transform.push(['r', attrs.rotate / 180 * Math.PI]);\n            delete attrs.rotate;\n        }\n        var shape = container.addShape('path', {\n            attrs: __assign(__assign({}, attrs), { path: pathMeta.segments }),\n        });\n        transform.push(['s', scale, scale], ['t', cfg.x, cfg.y]);\n        shape.transform(transform);\n        return shape;\n    },\n    getMarkerStyle: function (markerCfg) {\n        var markerStyle = {\n            symbol: 'circle',\n            radius: 4.5,\n        };\n        setFillStyle(markerStyle, markerCfg);\n        return markerStyle;\n    },\n});\nexport default PointShapeFactory;\n//# sourceMappingURL=point.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Element from './base';\nimport PointShapeFactory from './shape/point';\n/**\n * Point 类型的几何图形\n * 绘制散点图\n */\nvar Point = /** @class */ (function (_super) {\n    __extends(Point, _super);\n    function Point(cfg) {\n        var _this = _super.call(this, __assign({ type: 'point', shapeType: 'point', generatePoints: true, shareTooltip: false }, cfg)) || this;\n        // 每一个 Element 对应一个确定的 shapeFactory\n        _this.set('shapeFactory', PointShapeFactory);\n        return _this;\n    }\n    // overwrite\n    Point.prototype.drawPoint = function (obj, container, shapeFactory, index) {\n        var _this = this;\n        var shape = obj.shape;\n        var cfg = this.getDrawCfg(obj);\n        if (_.isArray(obj.y)) {\n            var hasStackAdjust_1 = this.hasAdjust('stack');\n            _.each(obj.y, function (y, idx) {\n                cfg.y = y;\n                cfg.yIndex = idx;\n                if (!hasStackAdjust_1 || idx !== 0) {\n                    var geomShape = shapeFactory.drawShape(shape, cfg, container);\n                    _this.appendShapeInfo(geomShape, index + idx);\n                }\n            });\n        }\n        else if (!_.isNil(obj.y)) {\n            var geomShape = shapeFactory.drawShape(shape, cfg, container);\n            this.appendShapeInfo(geomShape, index);\n        }\n    };\n    return Point;\n}(Element));\nexport default Point;\n//# sourceMappingURL=point.js.map","import * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { setFillStyle, setStrokeStyle } from '../util/shape';\nfunction getAttrs(cfg) {\n    var attrs = cfg.style;\n    setFillStyle(attrs, cfg);\n    return attrs;\n}\nfunction getHollowAttrs(cfg) {\n    var attrs = cfg.style;\n    setStrokeStyle(attrs, cfg);\n    return attrs;\n}\nfunction getPath(points) {\n    var flag = points[0];\n    var i = 1;\n    var path = [['M', flag.x, flag.y]];\n    while (i < points.length) {\n        var c = points[i];\n        if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n            path.push(['L', c.x, c.y]);\n            if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n                flag = points[i + 1];\n                path.push(['Z']);\n                path.push(['M', flag.x, flag.y]);\n                i++;\n            }\n        }\n        i++;\n    }\n    if (!_.isEqual(path[path.length - 1], flag)) {\n        path.push(['L', flag.x, flag.y]);\n    }\n    path.push(['Z']);\n    return path;\n}\nfunction getMarkerAttrs(markerCfg) {\n    var markerStyle = {\n        symbol: 'square',\n        radius: 4,\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n}\nvar PolygonShapeFactory = registerShapeFactory('polygon', {\n    defaultShapeType: 'polygon',\n    getDefaultPoints: function (pointInfo) {\n        var points = [];\n        _.each(pointInfo.x, function (subX, index) {\n            var subY = pointInfo.y[index];\n            points.push({\n                x: subX,\n                y: subY,\n            });\n        });\n        return points;\n    },\n});\nregisterShape('polygon', 'polygon', {\n    draw: function (cfg, container) {\n        if (!_.isEmpty(cfg.points)) {\n            var attrs = getAttrs(cfg);\n            var path = getPath(cfg.points);\n            path = this.parsePath(path);\n            return container.addShape('path', {\n                attrs: _.mix(attrs, {\n                    path: path,\n                }),\n            });\n        }\n    },\n    getMarkerStyle: function (markerCfg) {\n        return getMarkerAttrs(markerCfg);\n    },\n});\nregisterShape('polygon', 'hollow', {\n    draw: function (cfg, container) {\n        if (!_.isEmpty(cfg.points)) {\n            var attrs = getHollowAttrs(cfg);\n            var path = getPath(cfg.points);\n            path = this.parsePath(path);\n            return container.addShape('path', {\n                attrs: _.mix(attrs, {\n                    path: path,\n                }),\n            });\n        }\n    },\n    getMarkerStyle: function (markerCfg) {\n        return getMarkerAttrs(markerCfg);\n    },\n});\nexport default PolygonShapeFactory;\n//# sourceMappingURL=polygon.js.map","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Element from './base';\nimport PolygonShapeFactory from './shape/polygon';\n/**\n * Polygon 多边形\n */\nvar Polygon = /** @class */ (function (_super) {\n    __extends(Polygon, _super);\n    function Polygon(cfg) {\n        var _this = _super.call(this, __assign({ type: 'polygon', shapeType: 'polygon', generatePoints: true, shareTooltip: false }, cfg)) || this;\n        _this.set('shapeFactory', PolygonShapeFactory);\n        return _this;\n    }\n    Polygon.prototype.createShapePointsCfg = function (obj) {\n        var cfg = _super.prototype.createShapePointsCfg.call(this, obj);\n        var x = cfg.x;\n        var y = cfg.y;\n        var temp;\n        if (!(Util.isArray(x) && Util.isArray(y))) {\n            // x y 都是数组时，不做处理\n            var xScale = this.getXScale();\n            var yScale = this.getYScale();\n            // scale 中保证了 values 都会有，所以去掉之前的逻辑判断\n            var xCount = xScale.values.length;\n            var yCount = yScale.values.length;\n            var xOffset = (0.5 * 1) / xCount;\n            var yOffset = (0.5 * 1) / yCount;\n            if (xScale.isCategory && yScale.isCategory) {\n                // 如果x,y都是分类\n                // @ts-ignore\n                x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n                y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n            }\n            else if (Util.isArray(x)) {\n                // x 是数组\n                temp = x;\n                x = [temp[0], temp[0], temp[1], temp[1]];\n                y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n            }\n            else if (Util.isArray(y)) {\n                // y 是数组\n                temp = y;\n                y = [temp[0], temp[1], temp[1], temp[0]];\n                // @ts-ignore\n                x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n            }\n            cfg.x = x;\n            cfg.y = y;\n        }\n        return cfg;\n    };\n    return Polygon;\n}(Element));\nexport default Polygon;\n//# sourceMappingURL=polygon.js.map","import { __assign } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { registerShape, registerShapeFactory } from './base';\nimport { splitPoints, setFillStyle } from '../util/shape';\nfunction getFillAttrs(cfg) {\n    var textAttrs = cfg.style;\n    setFillStyle(textAttrs, cfg);\n    if (_.isNumber(cfg.size)) { // 如果设置了size，则text的字体大小由size决定\n        textAttrs.fontSize = cfg.size;\n    }\n    return textAttrs;\n}\nvar TextShapeFactory = registerShapeFactory('text', {\n    defaultShapeType: 'text',\n    getDefaultPoints: function (pointInfo) {\n        return splitPoints(pointInfo);\n    },\n});\nregisterShape('text', 'text', {\n    draw: function (cfg, container) {\n        var attrs = getFillAttrs(cfg);\n        var shape = container.addShape('text', {\n            attrs: __assign(__assign({}, attrs), { x: cfg.x, y: cfg.y, text: cfg.text }),\n        });\n        return shape;\n    },\n    getMarkerStyle: function (markerCfg) {\n        var markerStyle = {\n            symbol: 'circle',\n            radius: 4.5,\n        };\n        setFillStyle(markerStyle, markerCfg);\n        return markerStyle;\n    },\n});\nexport default TextShapeFactory;\n//# sourceMappingURL=text.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { FIELD_ORIGIN } from './base';\nimport Point from './point';\nimport TextShapeFactory from './shape/text';\nimport { parseFields } from './util/parse-fields';\n/**\n * Text 类型的几何图形\n */\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text(cfg) {\n        var _this = _super.call(this, __assign({ type: 'text', shapeType: 'text' }, cfg)) || this;\n        // 每一个 Element 对应一个确定的 shapeFactory\n        _this.set('shapeFactory', TextShapeFactory);\n        return _this;\n    }\n    Text.prototype.content = function (field, callback) {\n        if (_.isObject(field)) {\n            this.set('contentOptions', field);\n        }\n        else {\n            var fields = parseFields(field);\n            this.set('contentOptions', {\n                fields: fields,\n                callback: callback,\n            });\n        }\n        return this;\n    };\n    // 获取 content 配置\n    Text.prototype._getContent = function (contentOptions, origin) {\n        var fields = contentOptions.fields || [];\n        var callback = contentOptions.callback;\n        if (callback) { // content({ fields: [ 'a', 'b' ], callback(a, b) {} })\n            var params = fields.map(function (field) {\n                return origin[field];\n            });\n            return callback.apply(void 0, params);\n        }\n        return origin[fields[0]]; // content({ fields: [ 'a' ] })\n    };\n    /**\n     * @override\n     * @desc 添加content内容,复写cfg.text\n     */\n    Text.prototype.getDrawCfg = function (obj) {\n        var cfg = _super.prototype.getDrawCfg.call(this, obj);\n        var contentOptions = this.get('contentOptions');\n        if (contentOptions) {\n            cfg.text = this._getContent(contentOptions, obj[FIELD_ORIGIN]);\n        }\n        return cfg;\n    };\n    return Text;\n}(Point));\nexport default Text;\n//# sourceMappingURL=text.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport { Facet } from './base';\n/**\n * TODO 暂时欠缺 title、axis 的渲染逻辑\n */\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    function Rect(view, cfg) {\n        return _super.call(this, view, __assign({ \n            /**\n             * 是否默认显示每个分面的title\n             */\n            showTitle: true, \n            /**\n             * 是否自动修改坐标轴的信息\n             */\n            autoSetAxis: true, \n            /**\n             * View 的内边框\n             */\n            padding: 16 }, cfg)) || this;\n    }\n    Rect.prototype.generateFacets = function (data) {\n        var _this = this;\n        var fields = this.cfg.fields;\n        var columnField = fields[0], rowField = fields[1];\n        var rst = [];\n        var columnValuesLength = 0;\n        var rowValuesLength = 0;\n        var columnValues = [];\n        var rowValues = [];\n        if (columnField) {\n            columnValues = this.getFieldValues(data, columnField);\n            columnValuesLength = columnValues.length;\n        }\n        if (rowField) {\n            rowValues = this.getFieldValues(data, rowField);\n            rowValuesLength = rowValues.length;\n        }\n        // 获取每个维度对应的frame\n        columnValues.forEach(function (xVal, xIndex) {\n            rowValues.forEach(function (yVal, yIndex) {\n                var conditions = [\n                    { field: columnField, value: xVal, values: columnValues },\n                    { field: rowField, value: yVal, values: rowValues },\n                ];\n                var facetData = _.filter(data, function (data) {\n                    // 过滤出全部满足条件的数据\n                    return _.every(conditions, function (condition) {\n                        var field = condition.field, value = condition.value;\n                        return data[field] === value;\n                    });\n                });\n                var facet = {\n                    type: _this.cfg.type,\n                    columnValue: xVal,\n                    rowValue: yVal,\n                    columnField: columnField,\n                    rowField: rowField,\n                    columnIndex: xIndex,\n                    rowIndex: yIndex,\n                    columnValuesLength: columnValuesLength,\n                    rowValuesLength: rowValuesLength,\n                    data: facetData,\n                    region: _this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n                };\n                rst.push(facet);\n            });\n        });\n        return rst;\n    };\n    Rect.prototype.renderAxis = function () {\n        // todo\n    };\n    Rect.prototype.renderTitle = function () {\n        // todo\n    };\n    return Rect;\n}(Facet));\nexport { Rect };\n//# sourceMappingURL=rect.js.map","import EventEmitter from '@antv/event-emitter';\nimport * as G from '@antv/g';\nimport * as _ from '@antv/util';\nimport { RecursivePartial, LooseMap } from '../interface/types';\nimport StateManager from '../util/state-manager';\nimport CanvasController from './controller/canvas';\nimport EventController from './controller/event';\nimport { getPlotType } from './global';\nimport Layer from './layer';\nimport ViewLayer from './view-layer';\nimport { CANVAS_EVENT_MAP } from '../util/event';\n\nexport interface PlotConfig {\n  forceFit?: boolean;\n  width?: number;\n  renderer?: string;\n  height?: number;\n  pixelRatio?: number;\n  theme?: LooseMap | string;\n}\n\nexport default class BasePlot<T extends PlotConfig = PlotConfig> extends EventEmitter {\n  public width: number;\n  public height: number;\n  public forceFit: boolean;\n  public renderer: string;\n  public pixelRatio: number;\n  public theme: string | object;\n  public canvas: G.Canvas;\n  public destroyed: boolean;\n  protected layers: Array<Layer<any>>;\n  private canvasController: CanvasController;\n  private eventController: EventController;\n  private containerDOM: HTMLElement;\n\n  constructor(container: HTMLElement, props: T) {\n    super();\n    this.containerDOM = typeof container === 'string' ? document.getElementById(container) : container;\n    this.forceFit = !_.isNil(props.forceFit) ? props.forceFit : _.isNil(props.width) && _.isNil(props.height);\n    this.renderer = props.renderer || 'canvas';\n    this.pixelRatio = props.pixelRatio || null;\n    this.width = props.width;\n    this.height = props.height;\n    this.theme = props.theme;\n    this.canvasController = new CanvasController({\n      containerDOM: this.containerDOM,\n      plot: this,\n    });\n    /** update layer properties */\n    this.width = this.canvasController.width;\n    this.height = this.canvasController.height;\n    this.canvas = this.canvasController.canvas;\n    this.layers = [];\n    this.destroyed = false;\n\n    this.createLayers(props);\n\n    /** bind events */\n    this.eventController = new EventController({\n      plot: this,\n      canvas: this.canvasController.canvas,\n    });\n\n    this.eventController.bindEvents();\n    this.parseEvents(props);\n  }\n\n  /** 生命周期 */\n  public destroy() {\n    this.eachLayer((layer) => {\n      layer.destroy();\n    });\n    this.canvasController.destroy();\n    this.eventController.clearEvents();\n    this.layers = [];\n    this.destroyed = true;\n  }\n\n  /**\n   * 重新绘制图形\n   */\n  public repaint(): void {\n    this.canvasController.canvas.draw();\n  }\n\n  public updateConfig(config: RecursivePartial<T>, all: boolean = false) {\n    if (all) {\n      this.eachLayer((layer) => {\n        if (layer instanceof ViewLayer) {\n          layer.updateConfig(config);\n        }\n      });\n    } else {\n      const layer: any = this.layers[0];\n      if (layer instanceof Layer) {\n        layer.updateConfig(config);\n      }\n    }\n\n    if (config.width) {\n      this.width = config.width as number;\n    }\n    if (config.height) {\n      this.height = config.height as number;\n    }\n    if (config.theme) {\n      this.theme = config.theme;\n    }\n\n    this.canvasController.updateCanvasSize();\n    this.canvasController.updateCanvasTheme();\n  }\n\n  public changeData(data: any[], all: boolean = false) {\n    if (all) {\n      this.eachLayer((layer) => {\n        if (layer instanceof ViewLayer) {\n          layer.changeData(data);\n        }\n      });\n    } else {\n      const layer: any = this.layers[0];\n      if (layer instanceof ViewLayer) {\n        layer.changeData(data);\n      }\n    }\n  }\n\n  public getPlotTheme() {\n    const layer: any = this.layers[0];\n    return layer.getPlotTheme();\n  }\n\n  public getData() {\n    const layer: any = this.layers[0];\n    return layer.getData();\n  }\n\n  /**\n   * 绑定一个外部的stateManager\n   * 先直接传递给各个子 Layer\n   *\n   *  @param stateManager\n   *  @param cfg\n   */\n  public bindStateManager(stateManager: StateManager, cfg: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.bindStateManager(stateManager, cfg);\n      }\n    });\n  }\n\n  /**\n   * 响应状态量更新的快捷方法\n   *\n   *  @param condition\n   * @param style\n   */\n  public setActive(condition: any, style: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.setActive(condition, style);\n      }\n    });\n  }\n\n  public setSelected(condition: any, style: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.setSelected(condition, style);\n      }\n    });\n  }\n\n  public setDisable(condition: any, style: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.setDisable(condition, style);\n      }\n    });\n  }\n\n  public setNormal(condition: any) {\n    this.eachLayer((layer) => {\n      if (layer instanceof ViewLayer) {\n        layer.setNormal(condition);\n      }\n    });\n  }\n\n  /**\n   * 获取图形下的图层 Layer，默认第一个 Layer\n   * @param idx\n   */\n  public getLayer(idx: number = 0) {\n    return this.layers[idx];\n  }\n\n  public getCanvas() {\n    return this.canvasController.canvas;\n  }\n\n  public getLayers() {\n    return this.layers;\n  }\n\n  public render() {\n    this.eachLayer((layer) => layer.render());\n  }\n\n  protected eachLayer(cb: (layer: Layer<any>) => void) {\n    _.each(this.layers, cb);\n  }\n\n  /**\n   * add children layer\n   * @param layer\n   */\n  public addLayer(layer: Layer<any>) {\n    const idx = _.findIndex(this.layers, (item) => item === layer);\n    if (idx < 0) {\n      this.layers.push(layer);\n    }\n  }\n\n  protected createLayers(props: T & { type?: string; layers?: any }) {\n    if (props.layers) {\n      // TODO: combo plot\n    } else if (props.type) {\n      const viewLayerCtr = getPlotType(props.type);\n      const viewLayerProps: T = _.deepMix({}, props, {\n        canvas: this.canvasController.canvas,\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n      });\n      const viewLayer = new viewLayerCtr(viewLayerProps);\n      this.addLayer(viewLayer);\n    }\n  }\n\n  protected parseEvents(props) {\n    const eventsName = _.keys(CANVAS_EVENT_MAP);\n    if (props.events) {\n      _.each(props.events, (e, k) => {\n        if (_.contains(eventsName, k) && _.isFunction(e)) {\n          const eventName = CANVAS_EVENT_MAP[k] || k;\n          const handler = e;\n          this.on(eventName, handler);\n        }\n      });\n    }\n  }\n}\n","/** 所有统计图形 */\nconst GLOBAL_PLOT_MAP: Record<string, any> = {};\n\nexport function registerPlotType(name: string, ctr: any): void {\n  GLOBAL_PLOT_MAP[name.toLowerCase()] = ctr;\n}\n\nexport function getPlotType(name: string) {\n  return GLOBAL_PLOT_MAP[name.toLowerCase()];\n}\n","import { BBox, Rect } from '@antv/g';\nimport * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\nimport TextDescription from '../components/description';\nimport { getComponent } from '../components/factory';\nimport BaseInteraction, { InteractionCtor } from '../interaction/index';\nimport {\n  Axis,\n  IDescription,\n  IInteractions,\n  ITitle,\n  Label,\n  Legend,\n  StateConfig,\n  Tooltip,\n  DataItem,\n} from '../interface/config';\nimport { G2Config } from '../interface/config';\nimport { EVENT_MAP, onEvent } from '../util/event';\nimport PaddingController from './controller/padding';\nimport StateController from './controller/state';\nimport ThemeController from './controller/theme';\nimport Layer, { LayerConfig, Region } from './layer';\nimport { isTextUsable } from '../util/common';\nimport { LooseMap } from '../interface/types';\n\nexport interface ViewConfig {\n  data?: DataItem[];\n  meta?: LooseMap;\n  padding?: number | number[] | string;\n  xField?: string;\n  yField?: string;\n  color?: string | string[] | {};\n  size?: number | number[] | {};\n  shape?: string | string[] | {};\n  xAxis?: Axis;\n  yAxis?: Axis;\n  label?: Label;\n  tooltip?: Tooltip;\n  legend?: Legend;\n  animation?: any | boolean;\n  theme?: LooseMap | string;\n  responsiveTheme?: {} | string;\n  interactions?: IInteractions[];\n  responsive?: boolean;\n  title?: ITitle;\n  description?: IDescription;\n  guideLine?: any;\n  events?: {\n    [k: string]: ((...args: any[]) => any) | boolean;\n  };\n  defaultState?: {\n    active?: StateConfig;\n    inActive?: StateConfig;\n    selected?: StateConfig;\n    disabled?: StateConfig;\n  };\n  name?: string;\n}\n\nexport interface ViewLayerConfig extends ViewConfig, LayerConfig {}\n\nexport default abstract class ViewLayer<T extends ViewLayerConfig = ViewLayerConfig> extends Layer<T> {\n  public static getDefaultOptions(props?: Partial<ViewConfig>): Partial<ViewConfig> {\n    return {\n      title: {\n        visible: false,\n        text: '',\n      },\n      description: {\n        visible: false,\n        text: '',\n      },\n      padding: 'auto',\n      legend: {\n        visible: true,\n        position: 'bottom-center',\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'y',\n        },\n      },\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n      },\n      label: {\n        visible: false,\n      },\n    };\n  }\n  public type: string;\n  public view: G2.View;\n  public theme: any;\n  public initialOptions: T;\n  public title: TextDescription;\n  public description: TextDescription;\n  public viewRange: BBox;\n  protected paddingController: PaddingController;\n  protected stateController: StateController;\n  protected themeController: ThemeController;\n  public config: G2Config;\n  private interactions: BaseInteraction[] = [];\n\n  constructor(props: T) {\n    super(props);\n    this.options = this.getOptions(props);\n    this.initialOptions = _.deepMix({}, this.options);\n    this.paddingController = new PaddingController({\n      plot: this,\n    });\n    this.stateController = new StateController({\n      plot: this,\n    });\n    this.themeController = new ThemeController();\n  }\n\n  public getOptions(props: T): T {\n    const options = super.getOptions(props);\n    // @ts-ignore\n    const defaultOptions = this.constructor.getDefaultOptions(props);\n    return _.deepMix({}, options, defaultOptions, props);\n  }\n\n  public beforeInit() {\n    super.beforeInit();\n  }\n\n  public init() {\n    super.init();\n    this.theme = this.themeController.getTheme(this.options, this.type);\n    this.config = {\n      scales: {},\n      legends: {},\n      tooltip: {\n        showTitle: true,\n        triggerOn: 'mousemove',\n        inPanel: true,\n        useHtml: true,\n      },\n      axes: { fields: {} },\n      coord: { type: 'cartesian' },\n      elements: [],\n      annotations: [],\n      interactions: {},\n      theme: this.theme,\n      panelRange: {},\n      animate: true,\n    };\n\n    this.paddingController.clear();\n\n    this.drawTitle();\n    this.drawDescription();\n\n    this.coord();\n    this.scale();\n    this.axis();\n    this.tooltip();\n    this.legend();\n    this.addGeometry();\n    this.annotation();\n    this.animation();\n\n    this.viewRange = this.getViewRange();\n    this.paddingController.clearOuterComponents();\n\n    this.view = new G2.View({\n      width: this.width,\n      height: this.height,\n      canvas: this.canvas,\n      container: this.container,\n      padding: this.paddingController.getPadding(),\n      data: this.processData(this.options.data),\n      theme: this.theme,\n      options: this.config,\n      start: { x: this.viewRange.minX, y: this.viewRange.minY },\n      end: { x: this.viewRange.maxX, y: this.viewRange.maxY },\n    });\n    this.applyInteractions();\n    this.view.on('afterrender', () => {\n      this.afterRender();\n    });\n  }\n\n  public afterInit() {\n    super.afterInit();\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    if (this.options.padding !== 'auto') {\n      this.parseEvents();\n    }\n  }\n\n  public afterRender() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    const { options } = this;\n    const padding = options.padding ? options.padding : this.config.theme.padding;\n    /** defaultState */\n    if (options.defaultState && padding !== 'auto') {\n      this.stateController.defaultStates(options.defaultState);\n    }\n    //this.addGeomCliper();\n    /** autopadding */\n    if (padding === 'auto') {\n      this.paddingController.processAutoPadding();\n    }\n  }\n\n  /** 完整生命周期渲染 */\n  public render(): void {\n    super.render();\n    const { data } = this.options;\n    if (!_.isEmpty(data)) {\n      this.view.render();\n    }\n  }\n\n  /** 销毁 */\n  public destroy(): void {\n    this.doDestroy();\n    super.destroy();\n  }\n\n  /** 更新配置项 */\n  public updateConfig(cfg: Partial<T>): void {\n    this.doDestroy();\n    if (!cfg.padding && this.initialOptions.padding && this.initialOptions.padding === 'auto') {\n      cfg.padding = 'auto';\n    }\n    this.options = _.deepMix({}, this.options, cfg);\n    this.processOptions(this.options);\n  }\n\n  public changeData(data: DataItem[]): void {\n    this.options.data = this.processData(data);\n    this.view.changeData(this.options.data);\n  }\n\n  // plot 不断销毁重建，需要一个api获取最新的plot\n  public getPlot() {\n    return this.view;\n  }\n\n  // 获取对应的G2 Theme\n  public getTheme() {\n    return this.theme;\n  }\n\n  public getResponsiveTheme() {\n    return this.themeController.getResponsiveTheme(this.type);\n  }\n\n  // 获取对应的Plot Theme\n  public getPlotTheme() {\n    return this.themeController.getPlotTheme(this.options, this.type);\n  }\n\n  // 绑定一个外部的stateManager\n  public bindStateManager(stateManager, cfg): void {\n    this.stateController.bindStateManager(stateManager, cfg);\n  }\n\n  // 响应状态量更新的快捷方法\n  public setActive(condition, style) {\n    this.stateController.setState({ type: 'active', condition, style });\n  }\n\n  public setSelected(condition, style) {\n    this.stateController.setState({ type: 'selected', condition, style });\n  }\n\n  public setDisable(condition, style) {\n    this.stateController.setState({ type: 'disable', condition, style });\n  }\n\n  public setNormal(condition) {\n    this.stateController.setState({ type: 'normal', condition, style: {} });\n  }\n\n  // 获取 ViewLayer 的数据项\n  public getData(start?: number, end?: number): object[] {\n    return this.processData((this.options.data || []).slice(start, end));\n  }\n\n  protected processData(data?: DataItem[]): DataItem[] | undefined {\n    return data;\n  }\n\n  protected abstract coord(): void;\n\n  protected scale(): void {\n    /** scale meta配置 */\n    // 1. this.config.scales中已有子图形在处理xAxis/yAxis是写入的xField/yField对应的scale信息，这里再检查用户设置的meta，将meta信息合并到默认的scale中\n    // 2. 同时xAxis/yAxis中的type优先级更高，覆盖meta中的type配置\n    const scaleTypes = _.mapValues(this.config.scales, (scaleConfig) => {\n      const type = scaleConfig.type;\n      return type ? { type } : {};\n    });\n    const scales = _.deepMix({}, this.config.scales, this.options.meta || {}, scaleTypes);\n\n    this.setConfig('scales', scales);\n  }\n\n  protected axis(): void {\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y',\n    });\n    const axesConfig = { fields: {} };\n    axesConfig.fields[this.options.xField] = xAxis_parser;\n    axesConfig.fields[this.options.yField] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected tooltip(): void {\n    if (this.options.tooltip.visible === false) {\n      this.setConfig('tooltip', false);\n      return;\n    }\n\n    this.setConfig('tooltip', _.deepMix({}, _.get(this.options, 'tooltip')));\n\n    _.deepMix(this.config.theme.tooltip, this.options.tooltip.style);\n  }\n\n  protected legend(): void {\n    if (this.options.legend.visible === false) {\n      this.setConfig('legends', false);\n      return;\n    }\n    const flipOption = _.get(this.options, 'legend.flipPage');\n    const clickable = _.get(this.options, 'legend.clickable');\n    this.setConfig('legends', {\n      position: _.get(this.options, 'legend.position'),\n      formatter: _.get(this.options, 'legend.formatter'),\n      offsetX: _.get(this.options, 'legend.offsetX'),\n      offsetY: _.get(this.options, 'legend.offsetY'),\n      clickable: _.isUndefined(clickable) ? true : clickable,\n      // wordSpacing: _.get(this.options, 'legend.wordSpacing'),\n      flipPage: flipOption,\n    });\n  }\n\n  protected annotation() {\n    const config = [];\n    if (this.config.coord.type === 'cartesian' && this.options.guideLine) {\n      _.each(this.options.guideLine, (line) => {\n        const guideLine = getComponent('guideLine', {\n          plot: this,\n          cfg: line,\n        });\n        config.push(guideLine);\n      });\n    }\n    this.setConfig('annotations', config);\n  }\n\n  protected abstract addGeometry(): void;\n  protected abstract geometryParser(dim: string, type: string): string;\n\n  protected animation() {\n    if (this.options.animation === false || this.options.padding === 'auto') {\n      this.config.animate = false;\n    }\n  }\n\n  protected applyInteractions(): void {\n    const { interactions = [] } = this.options;\n    if (this.interactions) {\n      this.interactions.forEach((inst) => {\n        inst.destroy();\n      });\n    }\n    this.interactions = [];\n    interactions.forEach((interaction) => {\n      const Ctor: InteractionCtor | undefined = BaseInteraction.getInteraction(interaction.type, this.type);\n      if (Ctor) {\n        const inst: BaseInteraction = new Ctor(\n          { view: this.view },\n          this,\n          Ctor.getInteractionRange(this.layerBBox, interaction.cfg),\n          interaction.cfg\n        );\n        this.interactions.push(inst);\n      }\n    });\n  }\n\n  /** 设置G2 config，带有类型推导 */\n  protected setConfig<K extends keyof G2Config>(key: K, config: G2Config[K] | boolean): void {\n    if (key === 'element') {\n      this.config.elements.push(config as G2Config['element']);\n      return;\n    }\n    if (config === false) {\n      this.config[key] = false;\n      return;\n    }\n    _.assign(this.config[key], config);\n  }\n\n  protected parseEvents(eventParser?): void {\n    const { options } = this;\n    if (options.events) {\n      super.parseEvents(options.events);\n      const eventmap = eventParser ? eventParser.EVENT_MAP : EVENT_MAP;\n      _.each(options.events, (e, k) => {\n        if (_.isFunction(e)) {\n          const eventName = eventmap[k] || k;\n          const handler = e;\n          onEvent(this, eventName, handler);\n        }\n      });\n    }\n  }\n\n  protected drawTitle(): void {\n    const props = this.options;\n    const range = this.layerBBox;\n    if (this.title) {\n      this.title.destroy();\n      this.title = null;\n    }\n\n    if (isTextUsable(props.title)) {\n      const width = this.width;\n      const theme = this.config.theme;\n      const title = new TextDescription({\n        leftMargin: range.minX + theme.title.padding[3],\n        topMargin: range.minY + theme.title.padding[0],\n        text: props.title.text,\n        style: _.mix(theme.title, props.title.style),\n        wrapperWidth: width - theme.title.padding[3] - theme.title.padding[1],\n        container: this.container.addGroup(),\n        theme,\n        index: isTextUsable(props.description) ? 0 : 1,\n        plot: this,\n        name: 'title',\n      });\n      this.title = title;\n      this.paddingController.registerPadding(title, 'outer');\n    }\n  }\n\n  protected drawDescription(): void {\n    const props = this.options;\n    const range = this.layerBBox;\n    if (this.description) {\n      this.description.destroy();\n      this.description = null;\n    }\n\n    if (isTextUsable(props.description)) {\n      const width = this.width;\n      const theme = this.config.theme;\n      let topMargin = 0;\n\n      if (this.title) {\n        const titleBBox = this.title.getBBox();\n        topMargin += titleBBox.minY + titleBBox.height;\n        topMargin += theme.description.padding[0];\n      } else {\n        // 无title的情况下使用title的上padding\n        topMargin += range.minY + theme.title.padding[0];\n      }\n\n      const description = new TextDescription({\n        leftMargin: range.minX + theme.description.padding[3],\n        topMargin,\n        text: props.description.text,\n        style: _.mix(theme.description, props.description.style),\n        wrapperWidth: width - theme.description.padding[3] - theme.description.padding[1],\n        container: this.container.addGroup(),\n        theme,\n        index: 1,\n        plot: this,\n        name: 'description',\n      });\n      this.description = description;\n      this.paddingController.registerPadding(description, 'outer');\n    }\n  }\n\n  /** 抽取destroy和updateConfig共有代码为_destroy方法 */\n  private doDestroy() {\n    this.doDestroyInteractions();\n    /** 销毁g2.view实例 */\n    if (!this.view.destroyed) {\n      this.view.destroy();\n    }\n  }\n\n  private doDestroyInteractions() {\n    // 移除注册的 interactions\n    if (this.interactions) {\n      this.interactions.forEach((inst) => {\n        inst.destroy();\n      });\n    }\n    this.interactions = [];\n  }\n\n  protected getViewRange() {\n    // 有 Range 的 Interaction 参与 ViewMargin 计算\n    const { interactions = [] } = this.options;\n    const layerBBox = this.layerBBox;\n    interactions.forEach((interaction) => {\n      const Ctor: InteractionCtor | undefined = BaseInteraction.getInteraction(interaction.type, this.type);\n      const range: BBox | undefined = Ctor && Ctor.getInteractionRange(layerBBox, interaction.cfg);\n      let position = '';\n      if (range) {\n        // 先只考虑 Range 靠边的情况\n        if (range.bottom === layerBBox.bottom && range.top > layerBBox.top) {\n          // margin[2] += range.height;\n          position = 'bottom';\n        } else if (range.right === layerBBox.right && range.left > layerBBox.left) {\n          // margin[1] += range.width;\n          position = 'right';\n        } else if (range.left === layerBBox.left && range.right > layerBBox.right) {\n          // margin[3] += range.width;\n          position = 'left';\n        } else if (range.top === layerBBox.top && range.bottom > layerBBox.bottom) {\n          // margin[0] += range.height;\n          position = 'top';\n        }\n        this.paddingController.registerPadding(\n          {\n            getBBox: () => {\n              return range;\n            },\n            position,\n          },\n          'outer'\n        );\n      }\n    });\n    const viewRange = this.paddingController.processOuterPadding();\n    return viewRange;\n  }\n\n  // 临时解决scale min & max的图形截取\n  private addGeomCliper() {\n    const panelRange = this.view.get('panelRange');\n    const cliper = new Rect({\n      attrs: {\n        x: panelRange.minX,\n        y: panelRange.minY,\n        width: panelRange.width,\n        height: panelRange.height,\n      },\n    });\n    const geoms = this.view.get('elements');\n    _.each(geoms, (geom) => {\n      const cliperContainer = geom.get('shapeContainer');\n      const preCliper = cliperContainer.attr('clip');\n      if (preCliper) {\n        preCliper.remove();\n      }\n      cliperContainer.attr('clip', cliper);\n    });\n  }\n}\n","// components parser\nimport AxisParser from './axis/parser';\nimport GuideLine from './guide-line';\nimport LabelParser from './label/parser';\n\n// components state methods\nimport axisState from './axis/state';\nimport labelState from './label/state';\nimport tooltipState from './tooltip/state';\n\ntype FirstArgs<T> = T extends new (first: infer U) => any ? U : never;\n\nconst COMPONENT_MAPPER = {\n  axis: AxisParser,\n  label: LabelParser,\n  guideLine: GuideLine,\n};\n\nconst STATE_MAPPER = {\n  tooltip: tooltipState,\n  label: labelState,\n  axis: axisState,\n};\n\nexport function getComponent<K extends keyof typeof COMPONENT_MAPPER>(\n  name: K,\n  cfg: FirstArgs<typeof COMPONENT_MAPPER[K]>\n) {\n  const Components = COMPONENT_MAPPER[name];\n  return new Components(cfg).config;\n}\n\nexport function getComponentStateMethod(name, type) {\n  return STATE_MAPPER[name][type];\n}\n","import * as _ from '@antv/util';\nimport ViewLayer from '../base/view-layer';\nimport { LooseMap } from '../interface/types';\n\ntype IEventmap = LooseMap<string>;\n\nconst EVENT_MAP: IEventmap = {\n  onViewClick: 'click',\n  onViewDblClick: 'dblclick',\n  onViewMousemove: 'mousemove',\n  onViewMousedown: 'mousedown',\n  onViewMouseup: 'mouseup',\n  onViewMouseenter: 'mouseenter',\n  onViewMouseleave: 'mouseleave',\n  onViewContextmenu: 'contextmenu',\n  onAxisClick: 'axis-label:click',\n  onAxisDblClick: 'axis-label:dblclick',\n  onAxisMousemove: 'axis-label:mousemove',\n  onAxisMousedown: 'axis-label:mousedown',\n  onAxisMouseup: 'axis-label:mouseup',\n  onAxisMouseenter: 'axis-label:mouseenter',\n  onAxisMouseleave: 'axis-label:mouseleave',\n  onAxisContextmenu: 'axis-label:contextmenu',\n  onLabelClick: 'label:click',\n  onLabelDblClick: 'label:dblclick',\n  onLabelMousemove: 'label:mousemove',\n  onLabelMouseup: 'label:mouseup',\n  onLabelMousedown: 'label:mousedown',\n  onLabelMouseenter: 'label:mouseenter',\n  onLabelMouseleave: 'label:mouseleave',\n  onLabelContextmenu: 'label:contextmenu',\n  onLegendClick: 'legend-item:click',\n  onLegendDblClick: 'legend-item:dblclick',\n  onLegendMouseMove: 'legend-item:mousemove',\n  onLegendMouseDown: 'legend-item:mousedown',\n  onLegendMouseUp: 'legend-item:mouseup',\n  onLegendMouseLeave: 'legend-item:mouseleave',\n  onLegendMouseEnter: 'legend-item:mouseenter',\n  onLegendContextmenu: 'legend-item:contextmenu',\n};\n\nconst CANVAS_EVENT_MAP = {\n  onPlotClick: 'click',\n  onPlotDblClick: 'dblclick',\n  onPlotMousemove: 'mousemove',\n  onPlotMousedown: 'mousedown',\n  onPlotMouseup: 'mouseup',\n  onPlotMouseenter: 'mouseenter',\n  onPlotMouseleave: 'mouseleave',\n  onPlotContextmenu: 'contextmenu',\n\n  onTitleClick: 'title:click',\n  onTitleDblClick: 'title:dblclick',\n  onTitleMousemove: 'title:mousemove',\n  onTitleMousedown: 'title:mousedown',\n  onTitleMouseup: 'title:mouseup',\n  onTitleMouseenter: 'title:mouseenter',\n  onTitleMouseleave: 'title:mouseleave',\n  onTitleContextmenu: 'title:contextmenu',\n\n  onDescriptionClick: 'description:click',\n  onDescriptionDblClick: 'description:dblclick',\n  onDescriptionMousemove: 'description:mousemove',\n  onDescriptionMousedown: 'description:mousedown',\n  onDescriptionMouseup: 'description:mouseup',\n  onDescriptionMouseenter: 'description:mouseenter',\n  onDescriptionMouseleave: 'description:mouseleave',\n  onDescriptionContextmenu: 'description:contextmenu',\n\n  onBreadcrumbClick: 'breadcrumb:click',\n  onBreadcrumbDblClick: 'breadcrumb:dblclick',\n  onBreadcrumbMousemove: 'breadcrumb:mousemove',\n  onBreadcrumbMousedown: 'breadcrumb:mousedown',\n  onBreadcrumbMouseup: 'breadcrumb:mouseup',\n  onBreadcrumbMouseenter: 'breadcrumb:mouseenter',\n  onBreadcrumbMouseleave: 'breadcrumb:mouseleave',\n  onBreadcrumbContextmenu: 'breadcrumb:contextmenu',\n};\n\nconst LAYER_EVENT_MAP = {\n  onLayerClick: 'click',\n  onLayerDblClick: 'dblclick',\n  onLayerMousemove: 'mousemove',\n  onLayerMousedown: 'mousedown',\n  onLayerMouseup: 'mouseup',\n  onLayerMouseenter: 'mouseenter',\n  onLayerMouseleave: 'mouseleave',\n  onLayerContextmenu: 'contextmenu',\n};\n\ntype Handler = (...__: any[]) => {};\n\nfunction onEvent(layer: ViewLayer, eventName: string, handler: Handler) {\n  layer.view.on(eventName, handler);\n}\n\nexport { IEventmap, EVENT_MAP, CANVAS_EVENT_MAP, LAYER_EVENT_MAP, onEvent };\n","import * as _ from '@antv/util';\nimport Area from './area/index';\nimport Interval from './interval/index';\nimport Line from './line/index';\nimport Point from './point/index';\n/**\n * 将element的配置逻辑拆离出来，并将每类element细分为主体图形、辅助图形、mini图形三种\n * 这样也方便未来更灵活的调用和组装g2的element模块\n */\n\nconst GEOMETRY_MAP = {\n  area: Area,\n  line: Line,\n  point: Point,\n  interval: Interval,\n};\n\ntype FirstCtrParam<T> = T extends new (first: infer R) => any ? R : never;\ntype MapType = typeof GEOMETRY_MAP;\n\nexport function getGeom<T extends keyof MapType, U extends keyof MapType[T]>(\n  name: T,\n  type: U,\n  cfg: FirstCtrParam<MapType[T][U]>\n) {\n  const Geom: any = GEOMETRY_MAP[name][type];\n  return new Geom(cfg).config;\n}\n","import * as _ from '@antv/util';\nvar Greedy = /** @class */ (function () {\n    function Greedy(cfg) {\n        this.bitmap = {};\n        this.xGap = 1;\n        this.yGap = 8; // optimizing for text overlapping detection: use a min text height as gap\n        if (cfg) {\n            _.mix(this, cfg);\n        }\n    }\n    Greedy.prototype.hasGap = function (bbox) {\n        var hasGap = true;\n        var bitmap = this.bitmap;\n        var minX = Math.round(bbox.minX);\n        var maxX = Math.round(bbox.maxX);\n        var minY = Math.round(bbox.minY);\n        var maxY = Math.round(bbox.maxY);\n        for (var i = minX; i <= maxX; i += 1) {\n            if (!bitmap[i]) {\n                bitmap[i] = {};\n                continue;\n            }\n            if (i === minX || i === maxX) {\n                for (var j = minY; j <= maxY; j++) {\n                    if (bitmap[i][j]) {\n                        hasGap = false;\n                        break;\n                    }\n                }\n            }\n            else {\n                if (bitmap[i][minY] || bitmap[i][maxY]) {\n                    hasGap = false;\n                    break;\n                }\n            }\n        }\n        return hasGap;\n    };\n    Greedy.prototype.fillGap = function (bbox) {\n        var bitmap = this.bitmap;\n        var minX = Math.round(bbox.minX);\n        var maxX = Math.round(bbox.maxX);\n        var minY = Math.round(bbox.minY);\n        var maxY = Math.round(bbox.maxY);\n        // filling grid\n        for (var i = minX; i <= maxX; i += 1) {\n            if (!bitmap[i]) {\n                bitmap[i] = {};\n            }\n        }\n        for (var i = minX; i <= maxX; i += this.xGap) {\n            for (var j = minY; j <= maxY; j += this.yGap) {\n                bitmap[i][j] = true;\n            }\n            bitmap[i][maxY] = true;\n        }\n        // filling y edges\n        if (this.yGap !== 1) {\n            for (var i = minY; i <= maxY; i += 1) {\n                bitmap[minX][i] = true;\n                bitmap[maxX][i] = true;\n            }\n        }\n        // filling x edges\n        if (this.xGap !== 1) {\n            for (var i = minX; i <= maxX; i += 1) {\n                bitmap[i][minY] = true;\n                bitmap[i][maxY] = true;\n            }\n        }\n    };\n    Greedy.prototype.destroy = function () {\n        this.bitmap = {};\n    };\n    return Greedy;\n}());\nexport default Greedy;\n//# sourceMappingURL=greedy.js.map","import Greedy from './util/greedy';\n/*\n   *  根据如下规则尝试放置label\n   *                5\n   *        ------------------\n   *        |    1   |   0   |\n   *    8   —————————4————————   7\n   *        |    2   |   3   |\n   *        ——————————————————\n   *                 6\n   */\nfunction adjustLabelPosition(label, x, y, index) {\n    var bbox = label.getBBox();\n    var width = bbox.width;\n    var height = bbox.height;\n    var attrs = {\n        x: x,\n        y: y,\n        textAlign: 'center',\n    };\n    switch (index) {\n        case 0:\n            attrs.y -= (height + 1);\n            attrs.x += 1;\n            attrs.textAlign = 'left';\n            break;\n        case 1:\n            attrs.y -= (height + 1);\n            attrs.x -= 1;\n            attrs.textAlign = 'right';\n            break;\n        case 2:\n            attrs.y += (height + 1);\n            attrs.x -= 1;\n            attrs.textAlign = 'right';\n            break;\n        case 3:\n            attrs.y += (height + 1);\n            attrs.x += 1;\n            attrs.textAlign = 'left';\n            break;\n        case 5:\n            attrs.y -= (height * 2 + 2);\n            break;\n        case 6:\n            attrs.y += (height * 2 + 2);\n            break;\n        case 7:\n            attrs.x += (width + 1);\n            attrs.textAlign = 'left';\n            break;\n        case 8:\n            attrs.x -= (width + 1);\n            attrs.textAlign = 'right';\n            break;\n        default: break;\n    }\n    label.attr(attrs);\n    return label.getBBox();\n}\nexport default function (labels) {\n    var greedy = new Greedy();\n    var toBeRemoved = [];\n    var bbox;\n    var label;\n    var x;\n    var y;\n    var canFill;\n    for (var i = 0; i < labels.length; i++) {\n        label = labels[i];\n        x = label.attr('x');\n        y = label.attr('y');\n        canFill = false;\n        for (var i_1 = 0; i_1 <= 8; i_1++) {\n            bbox = adjustLabelPosition(label, x, y, i_1);\n            if (greedy.hasGap(bbox)) {\n                greedy.fillGap(bbox);\n                canFill = true;\n                break;\n            }\n        }\n        if (!canFill) {\n            toBeRemoved.push(label);\n        }\n    }\n    for (var i = 0; i < toBeRemoved.length; i++) {\n        toBeRemoved[i].remove();\n    }\n}\n//# sourceMappingURL=position.js.map","import Greedy from './util/greedy';\nvar MAX_TIMES = 100;\nfunction spiralFill(label, greedy, maxTimes) {\n    if (maxTimes === void 0) { maxTimes = MAX_TIMES; }\n    var dt = -1;\n    var x = label.attr('x');\n    var y = label.attr('y');\n    var bbox = label.getBBox();\n    var maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n    var dxdy;\n    var t = -dt;\n    var dx = 0;\n    var dy = 0;\n    var f = function (t) {\n        var nt = t * 0.1;\n        return [nt * Math.cos(nt), nt * Math.sin(nt)];\n    };\n    if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        return true;\n    }\n    var canFill = false;\n    var times = 0;\n    var accessedCache = {};\n    while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n        dxdy = f(t += dt);\n        dx = ~~dxdy[0];\n        dy = ~~dxdy[1];\n        if ((!dx && !dy) || accessedCache[dx + \"-\" + dy]) {\n            continue;\n        }\n        label.attr({ x: x + dx, y: y + dy });\n        if (dx + dy < 0) {\n            label.attr('textAlign', 'right');\n        }\n        times++;\n        if (greedy.hasGap(label.getBBox())) {\n            greedy.fillGap(label.getBBox());\n            canFill = true;\n            accessedCache[dx + \"-\" + dy] = true;\n            break;\n        }\n    }\n    return canFill;\n}\nexport default function (labels, maxTimes) {\n    if (maxTimes === void 0) { maxTimes = MAX_TIMES; }\n    var label;\n    var greedy = new Greedy();\n    var toBeRemoved = [];\n    for (var i = 0; i < labels.length; i++) {\n        label = labels[i];\n        if (!spiralFill(label, greedy, maxTimes)) {\n            toBeRemoved.push(label);\n        }\n    }\n    for (var i = 0; i < toBeRemoved.length; i++) {\n        toBeRemoved[i].remove();\n    }\n}\n//# sourceMappingURL=spiral.js.map","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport * as Util from '@antv/util';\nimport Guide from '../base';\nimport bboxAdjust from './adjust/bbox';\nimport positionAdjust from './adjust/position';\nimport spirialAdjust from './adjust/spiral';\nvar LAYOUTS = {\n    scatter: positionAdjust,\n    map: spirialAdjust,\n    treemap: bboxAdjust,\n};\nvar Label = /** @class */ (function (_super) {\n    __extends(Label, _super);\n    function Label(cfg) {\n        return _super.call(this, __assign({ name: 'label', type: 'default', \n            // html 渲染时用的容器的模板，必须存在 class = \"g-labels\"\n            containerTpl: '<div class=\"g-labels\" style=\"position:absolute;top:0;left:0;\"></div>', \n            // html 渲染时单个 label 的模板，必须存在 class = \"g-label\"\n            itemTpl: '<div class=\"g-label\" style=\"position:absolute;\">{text}</div>', items: null, lineGroup: null, shapes: null, useHtml: false }, cfg)) || this;\n    }\n    /**\n     * label绘制全过程\n     */\n    Label.prototype.render = function () {\n        this.clear();\n        this._init();\n        this.emit('beforerender');\n        this.draw();\n        this.emit('afterrender');\n    };\n    /**\n     * 更新 label\n     * 1. 将items与group中的children对比，更新/新增/删除labels\n     * 2. labels布局优化\n     * 3. 画label连接线\n     * 4. 绘制到画布\n     */\n    Label.prototype.draw = function (canvasDraw) {\n        if (canvasDraw === void 0) { canvasDraw = true; }\n        this._dryDraw();\n        canvasDraw && this.get('canvas').draw();\n    };\n    /*\n     * 清空label容器\n     */\n    Label.prototype.clear = function () {\n        var group = this.get('group');\n        var container = this.get('container');\n        if (group && !group.destroyed) {\n            group.clear();\n        }\n        if (container) {\n            container.innerHTML = '';\n        }\n    };\n    /**\n     * 销毁group\n     */\n    Label.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        var group = this.get('group');\n        var container = this.get('container');\n        if (group && !group.destroyed) {\n            group.destroy();\n        }\n        if (container) {\n            container.innerHTML = '';\n        }\n    };\n    /*\n     * 更新label\n     * oldLabel shape或label dom\n     * newLabel label data\n     * index items中的下标\n     */\n    Label.prototype.changeLabel = function (oldLabel, newLabel) {\n        if (!oldLabel) {\n            return;\n        }\n        if (oldLabel.tagName) {\n            var node = this._createDom(newLabel);\n            oldLabel.innerHTML = node.innerHTML;\n            this._setCustomPosition(newLabel, oldLabel);\n        }\n        else {\n            oldLabel.id = newLabel.id;\n            oldLabel.attr('text', newLabel.text);\n            if (oldLabel.attr('x') !== newLabel.x || oldLabel.attr('y') !== newLabel.y) {\n                oldLabel.resetMatrix();\n                if (newLabel.textStyle.rotate) {\n                    oldLabel.rotateAtStart(newLabel.textStyle.rotate);\n                    delete newLabel.textStyle.rotate;\n                }\n                oldLabel.attr(newLabel);\n            }\n        }\n    };\n    /**\n     * 显示label\n     */\n    Label.prototype.show = function () {\n        var group = this.get('group');\n        var container = this.get('container');\n        if (group) {\n            group.show();\n        }\n        if (container) {\n            container.style.opacity = 1;\n        }\n    };\n    /**\n     * 隐藏label\n     */\n    Label.prototype.hide = function () {\n        var group = this.get('group');\n        var container = this.get('container');\n        if (group) {\n            group.hide();\n        }\n        if (container) {\n            container.style.opacity = 0;\n        }\n    };\n    /**\n     * 画label连接线\n     */\n    Label.prototype.drawLines = function () {\n        var _this = this;\n        var lineGroup = this.get('lineGroup');\n        if (!lineGroup || lineGroup.destroyed) {\n            lineGroup = this.get('group').addGroup();\n            this.set('lineGroup', lineGroup);\n        }\n        else {\n            lineGroup.clear();\n        }\n        Util.each(this.get('items'), function (label) {\n            _this._lineToLabel(label, lineGroup);\n        });\n    };\n    Label.prototype._lineToLabel = function (label, lineGroup) {\n        if (!label.labelLine) {\n            // labelLine: null | false，关闭 label 对应的 labelLine\n            return;\n        }\n        var lineStyle = Util.isBoolean(label.labelLine) ? {} : label.labelLine; // 兼容 labelLine: true，此时使用默认的样式\n        var capture = typeof label.capture === 'undefined' ? this.get('capture') : label.capture;\n        var path = lineStyle.path;\n        if (path && Util.isFunction(lineStyle.path)) {\n            path = lineStyle.path(label);\n        }\n        if (!path) {\n            var start = label.start;\n            path = [['M', start.x, start.y], ['L', label.x, label.y]];\n        }\n        var stroke = label.color;\n        if (!stroke) {\n            if (label.textStyle && label.textStyle.fill) {\n                stroke = label.textStyle.fill;\n            }\n            else {\n                stroke = '#000';\n            }\n        }\n        var lineShape = lineGroup.addShape('path', {\n            capture: capture,\n            attrs: Util.mix({\n                path: path,\n                stroke: stroke,\n                fill: null,\n            }, lineStyle),\n        });\n        // label 对应线的动画关闭\n        lineShape.name = this.get('name');\n        // generate labelLine id according to label id\n        lineShape.id = label.id && label.id.replace('glabel', 'glabelline');\n        lineShape.set('coord', this.get('coord'));\n    };\n    // 根据type对label布局\n    Label.prototype._adjustLabels = function () {\n        var type = this.get('type');\n        var labels = this.getLabels();\n        var shapes = this.get('shapes');\n        var layout = LAYOUTS[type];\n        if (!layout) {\n            return;\n        }\n        layout(labels, shapes);\n    };\n    /**\n     * 获取当前所有label实例\n     * @return {Array} 当前label实例\n     */\n    Label.prototype.getLabels = function () {\n        var container = this.get('container');\n        if (container) {\n            return Util.toArray(container.childNodes);\n        }\n        var children = this.get('group').get('children');\n        return Util.filter(children, function (child) { return child.isShape; });\n    };\n    // 分html dom和G shape两种情况生成label实例\n    Label.prototype._createText = function (oldcfg) {\n        var cfg = oldcfg;\n        var container = this.get('container');\n        var capture = typeof cfg.capture === 'undefined' ? this.get('capture') : cfg.capture;\n        var labelShape;\n        if (cfg.useHtml || cfg.htmlTemplate) {\n            if (!container) {\n                container = this._initHtmlContainer();\n            }\n            var node = this._createDom(cfg);\n            container.appendChild(node);\n            this._setCustomPosition(cfg, node);\n        }\n        else {\n            var name_1 = this.get('name');\n            var origin_1 = cfg.origin;\n            var group = this.get('group');\n            delete cfg.origin; // 临时解决，否则影响动画\n            var rotate = cfg.rotate;\n            // textStyle中的rotate虽然可以正常画出，但是在做动画的时候可能会导致动画异常。移出，在定义好shape后通过transform实现效果。\n            if (cfg.textStyle) {\n                if (cfg.textStyle.rotate) {\n                    rotate = cfg.textStyle.rotate;\n                    delete cfg.textStyle.rotate;\n                }\n                cfg = Util.mix({\n                    x: cfg.x,\n                    y: cfg.y,\n                    textAlign: cfg.textAlign,\n                    text: cfg.text,\n                }, cfg.textStyle);\n            }\n            labelShape = group.addShape('text', {\n                capture: capture,\n                attrs: cfg,\n            });\n            if (rotate) {\n                // rotate是用角度定义的，转换为弧度\n                if (Math.abs(rotate) > Math.PI * 2) {\n                    rotate = (rotate / 180) * Math.PI;\n                }\n                labelShape.transform([['t', -cfg.x, -cfg.y], ['r', rotate], ['t', cfg.x, cfg.y]]);\n            }\n            labelShape.setSilent('origin', origin_1 || cfg);\n            labelShape.name = name_1; // 用于事件标注\n            this.get('appendInfo') && labelShape.setSilent('appendInfo', this.get('appendInfo'));\n            return labelShape;\n        }\n    };\n    Label.prototype._initHtmlContainer = function () {\n        var container = this.get('container');\n        if (!container) {\n            var containerTpl = this.get('containerTpl');\n            var wrapper = this.get('canvas').get('el').parentNode;\n            container = domUtil.createDom(containerTpl);\n            wrapper.style.position = 'relative';\n            wrapper.appendChild(container);\n            this.set('container', container);\n        }\n        return container;\n    };\n    Label.prototype._createDom = function (cfg) {\n        var itemTpl = this.get('itemTpl');\n        var str = Util.substitute(itemTpl, { text: cfg.text });\n        return domUtil.createDom(str);\n    };\n    // 根据文本对齐方式确定dom位置\n    Label.prototype._setCustomPosition = function (cfg, htmlDom) {\n        var textAlign = cfg.textAlign || 'left';\n        var top = cfg.y;\n        var left = cfg.x;\n        var width = domUtil.getOuterWidth(htmlDom);\n        var height = domUtil.getOuterHeight(htmlDom);\n        top = top - height / 2;\n        if (textAlign === 'center') {\n            left = left - width / 2;\n        }\n        else if (textAlign === 'right') {\n            left = left - width;\n        }\n        htmlDom.style.top = parseInt(top, 10) + \"px\";\n        htmlDom.style.left = parseInt(left, 10) + \"px\";\n    };\n    // label 容器初始化\n    Label.prototype._init = function () {\n        if (!this.get('group')) {\n            var group = this.get('canvas').addGroup({\n                id: 'label-group',\n            });\n            this.set('group', group);\n        }\n    };\n    Label.prototype._dryDraw = function () {\n        var _this = this;\n        var items = this.get('items');\n        var children = this.getLabels();\n        var count = children.length;\n        Util.each(items, function (item, index) {\n            if (index < count) {\n                var label = children[index];\n                _this.changeLabel(label, item);\n            }\n            else {\n                var labelShape = _this._createText(item);\n                if (labelShape) {\n                    labelShape.id = item.id;\n                    labelShape.set('coord', item.coord);\n                }\n            }\n        });\n        for (var i = count - 1; i >= items.length; i -= 1) {\n            children[i].remove();\n        }\n        this._adjustLabels();\n        this.drawLines();\n    };\n    return Label;\n}(Guide));\nexport default Label;\n//# sourceMappingURL=base.js.map","export default (function (labels, shapes) {\n    var labelBBox;\n    var shapeBBox;\n    var toBeRemoved = [];\n    for (var i = 0; i < labels.length; i++) {\n        labelBBox = labels[i].getBBox();\n        shapeBBox = shapes[i].getBBox();\n        if (labelBBox.width > shapeBBox.width || labelBBox.height > shapeBBox.height) {\n            toBeRemoved.push(labels[i]);\n        }\n        // FIXME this is not going to be true\n        // } else if (labelBBox.width * labelBBox.height > shapeBBox.width * shapeBBox.height) {\n        //   toBeRemoved.push(labels[i]);\n        // }\n    }\n    for (var i = 0; i < toBeRemoved.length; i++) {\n        toBeRemoved[i].remove();\n    }\n});\n//# sourceMappingURL=bbox.js.map","import Label from './base';\nexport default Label;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Util = require(\"@antv/util\");\nvar base_1 = require(\"../base\");\nvar Tooltip = /** @class */ (function (_super) {\n    tslib_1.__extends(Tooltip, _super);\n    function Tooltip(cfg) {\n        return _super.call(this, tslib_1.__assign({ \n            /**\n             * 右下角坐标\n             */\n            x: 0, \n            /**\n             * y 右下角坐标\n             */\n            y: 0, \n            /**\n             * tooltip 记录项\n             */\n            items: null, \n            /**\n             * tooltip 标题\n             * @type {Array}\n             */\n            titleContent: null, \n            /**\n             * 是否展示 title\n             * @type {Boolean}\n             */\n            showTitle: true, \n            /**\n             * 视图范围\n             * @type {Object}\n             */\n            panelRange: null, \n            /**\n             * 将 tooltip 展示在指定区域内\n             * @type {Boolean}\n             */\n            inPanel: true, \n            /**\n             * tooltip 辅助线配置\n             * @type {Object}\n             */\n            crosshairs: null }, cfg)) || this;\n    }\n    Tooltip.prototype.isContentChange = function (title, items) {\n        var titleContent = this.get('titleContent');\n        var lastItems = this.get('items');\n        var isChanged = !(title === titleContent && lastItems.length === items.length);\n        if (!isChanged) {\n            Util.each(items, function (item, index) {\n                var preItem = lastItems[index];\n                var keys = Object.keys(item);\n                isChanged = keys.some(function (key) { return !Util.isObject(item[key]) && item[key] !== preItem[key]; });\n                if (isChanged) {\n                    return false;\n                }\n            });\n        }\n        return isChanged;\n    };\n    Tooltip.prototype.setContent = function (title, items) {\n        this.set('items', items);\n        this.set('titleContent', title);\n        this.render();\n        return this;\n    };\n    Tooltip.prototype.setPosition = function (x, y, target) {\n        this.set('x', x);\n        this.set('y', y);\n    };\n    Tooltip.prototype.setMarkers = function (markerItems, markerCfg) {\n        var markerGroup = this.get('markerGroup');\n        var frontgroundGroup = this.get('frontgroundGroup');\n        if (!markerGroup) {\n            markerGroup = frontgroundGroup.addGroup({\n                zIndex: 1,\n                capture: false,\n            });\n            this.set('markerGroup', markerGroup);\n        }\n        else {\n            markerGroup.clear();\n        }\n        Util.each(markerItems, function (item) {\n            markerGroup.addShape('marker', {\n                color: item.color,\n                attrs: Util.mix({\n                    fill: item.color,\n                    symbol: 'circle',\n                    shadowColor: item.color,\n                }, markerCfg, {\n                    x: item.x,\n                    y: item.y,\n                }),\n            });\n        });\n        this.set('markerItems', markerItems);\n    };\n    Tooltip.prototype.clearMarkers = function () {\n        var markerGroup = this.get('markerGroup');\n        markerGroup && markerGroup.clear();\n    };\n    Tooltip.prototype.render = function () {\n    };\n    Tooltip.prototype.clear = function () {\n    };\n    Tooltip.prototype.show = function () {\n        this.set('visible', true);\n    };\n    Tooltip.prototype.hide = function () {\n        this.set('visible', false);\n    };\n    return Tooltip;\n}(base_1.default));\nexports.default = Tooltip;\n//# sourceMappingURL=base.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Util = require(\"@antv/util\");\nvar base_1 = require(\"../base\");\nvar Crosshair = /** @class */ (function (_super) {\n    tslib_1.__extends(Crosshair, _super);\n    function Crosshair(cfg) {\n        var _this = _super.call(this, tslib_1.__assign({ \n            /**\n             * crosshair的类型\n             */\n            type: null, \n            /**\n             * 画在哪层视图\n             */\n            plot: null, \n            /**\n             * x轴上，移动到位置的偏移量\n             */\n            panelRange: null, \n            /**\n             * 默认rect crosshair样式\n             * @type {Object}\n             */\n            rectStyle: {\n                fill: '#CCD6EC',\n                opacity: 0.3,\n            }, \n            /**\n             * 默认line crosshair样式\n             */\n            lineStyle: {\n                stroke: 'rgba(0, 0, 0, 0.25)',\n                lineWidth: 1,\n            }, isTransposed: false }, cfg)) || this;\n        _this._init_();\n        _this.render();\n        return _this;\n    }\n    Crosshair.prototype._init_ = function () {\n        var plot = this.get('plot');\n        var group = plot.addGroup();\n        this.set('container', group);\n    };\n    Crosshair.prototype._addLineShape = function (attrs, type) {\n        var container = this.get('container');\n        var shape = container.addShape('line', {\n            attrs: attrs,\n            capture: false,\n        });\n        // shape.hide();\n        this.set(\"crossLineShape\" + type, shape);\n        return shape;\n    };\n    Crosshair.prototype._renderHorizontalLine = function (canvas, panelRange) {\n        // todo\n        var style = Util.mix(this.get('lineStyle'), this.get('style'));\n        var attrs = Util.mix({\n            x1: panelRange ? panelRange.bl.x : canvas.get('width'),\n            y1: 0,\n            x2: panelRange ? panelRange.br.x : 0,\n            y2: 0,\n        }, style);\n        this._addLineShape(attrs, 'X');\n    };\n    Crosshair.prototype._renderVerticalLine = function (canvas, panelRange) {\n        // todo\n        var style = Util.mix(this.get('lineStyle'), this.get('style'));\n        var attrs = Util.mix({\n            x1: 0,\n            y1: panelRange ? panelRange.bl.y : canvas.get('height'),\n            x2: 0,\n            y2: panelRange ? panelRange.tl.y : 0,\n        }, style);\n        this._addLineShape(attrs, 'Y');\n    };\n    Crosshair.prototype._renderBackground = function (canvas, panelRange) {\n        var style = Util.mix(this.get('rectStyle'), this.get('style'));\n        var container = this.get('container');\n        var attrs = Util.mix({\n            x: panelRange ? panelRange.tl.x : 0,\n            y: panelRange ? panelRange.tl.y : canvas.get('height'),\n            width: panelRange ? panelRange.br.x - panelRange.bl.x : canvas.get('width'),\n            height: panelRange ? Math.abs(panelRange.tl.y - panelRange.bl.y) : canvas.get('height'),\n        }, style);\n        var shape = container.addShape('rect', {\n            attrs: attrs,\n            capture: false,\n        });\n        // shape.hide();\n        this.set('crosshairsRectShape', shape);\n        return shape;\n    };\n    Crosshair.prototype._updateRectShape = function (items) {\n        var offset;\n        var crosshairsRectShape = this.get('crosshairsRectShape');\n        var isTransposed = this.get('isTransposed');\n        var firstItem = items[0];\n        var lastItem = items[items.length - 1];\n        var dim = isTransposed ? 'y' : 'x';\n        var attr = isTransposed ? 'height' : 'width';\n        var startDim = firstItem[dim];\n        if (items.length > 1 && firstItem[dim] > lastItem[dim]) {\n            startDim = lastItem[dim];\n        }\n        if (this.get('width')) {\n            // 用户定义了 width\n            crosshairsRectShape.attr(dim, startDim - this.get('crosshairs').width / 2);\n            crosshairsRectShape.attr(attr, this.get('width'));\n        }\n        else {\n            if (Util.isArray(firstItem.point[dim]) && !firstItem.size) {\n                // 直方图\n                var width = firstItem.point[dim][1] - firstItem.point[dim][0];\n                crosshairsRectShape.attr(dim, firstItem.point[dim][0]);\n                crosshairsRectShape.attr(attr, width);\n            }\n            else {\n                offset = (3 * firstItem.size) / 4;\n                crosshairsRectShape.attr(dim, startDim - offset);\n                if (items.length === 1) {\n                    crosshairsRectShape.attr(attr, (3 * firstItem.size) / 2);\n                }\n                else {\n                    crosshairsRectShape.attr(attr, Math.abs(lastItem[dim] - firstItem[dim]) + 2 * offset);\n                }\n            }\n        }\n    };\n    Crosshair.prototype.render = function () {\n        var canvas = this.get('canvas');\n        var panelRange = this.get('panelRange');\n        var isTransposed = this.get('isTransposed');\n        this.clear();\n        switch (this.get('type')) {\n            case 'x':\n                this._renderHorizontalLine(canvas, panelRange);\n                break;\n            case 'y':\n                this._renderVerticalLine(canvas, panelRange);\n                break;\n            case 'cross':\n                this._renderHorizontalLine(canvas, panelRange);\n                this._renderVerticalLine(canvas, panelRange);\n                break;\n            case 'rect':\n                this._renderBackground(canvas, panelRange);\n                break;\n            default:\n                isTransposed ? this._renderHorizontalLine(canvas, panelRange) : this._renderVerticalLine(canvas, panelRange);\n        }\n    };\n    Crosshair.prototype.show = function () {\n        var container = this.get('container');\n        // super.show();\n        container.show();\n    };\n    Crosshair.prototype.hide = function () {\n        var container = this.get('container');\n        // super.hide();\n        container.hide();\n    };\n    Crosshair.prototype.clear = function () {\n        var container = this.get('container');\n        this.set('crossLineShapeX', null);\n        this.set('crossLineShapeY', null);\n        this.set('crosshairsRectShape', null);\n        // super.clear();\n        container.clear();\n    };\n    Crosshair.prototype.destroy = function () {\n        var container = this.get('container');\n        _super.prototype.destroy.call(this);\n        container.remove();\n    };\n    Crosshair.prototype.setPosition = function (x, y, items) {\n        var crossLineShapeX = this.get('crossLineShapeX');\n        var crossLineShapeY = this.get('crossLineShapeY');\n        var crosshairsRectShape = this.get('crosshairsRectShape');\n        if (crossLineShapeY && !crossLineShapeY.get('destroyed')) {\n            // 第一次进入时，画布需要单独绘制，所以需要先设定corss的位置\n            crossLineShapeY.move(x, 0);\n        }\n        if (crossLineShapeX && !crossLineShapeX.get('destroyed')) {\n            crossLineShapeX.move(0, y);\n        }\n        if (crosshairsRectShape && !crosshairsRectShape.get('destroyed')) {\n            this._updateRectShape(items);\n        }\n    };\n    return Crosshair;\n}(base_1.default));\nexports.default = Crosshair;\n//# sourceMappingURL=crosshair.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FONT_FAMILY = '\"-apple-system\", ' +\n    '\"BlinkMacSystemFont\", ' +\n    '\"Segoe UI\", ' +\n    'Roboto, ' +\n    '\"Helvetica Neue\", ' +\n    'Helvetica, ' +\n    '\"PingFang SC\", ' +\n    '\"Hiragino Sans GB\", ' +\n    '\"Microsoft YaHei\", ' +\n    'SimSun, ' +\n    '\"sans-serif\"';\n//# sourceMappingURL=const.js.map","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar const_1 = require(\"../const\");\n// tooltip 相关 dom 的 css 类名\nvar TOOLTIP_CONTAINER_CLASS = 'g2-tooltip';\nvar TOOLTIP_TITLE_CLASS = 'g2-tooltip-title';\nvar TOOLTIP_LIST_CLASS = 'g2-tooltip-list';\nvar TOOLTIP_LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar TOOLTIP_MARKER_CLASS = 'g2-tooltip-marker';\nvar TOOLTIP_VALUE_CLASS = 'g2-tooltip-value';\nexports.default = (_a = {},\n    // css style for tooltip\n    _a[\"\" + TOOLTIP_CONTAINER_CLASS] = {\n        position: 'absolute',\n        display: 'none',\n        // @2018-07-25 by blue.lb 这里去掉浮动，火狐上存在样式错位\n        // whiteSpace: 'nowrap',\n        zIndex: 8,\n        transition: 'visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), ' +\n            'left 0.4s cubic-bezier(0.23, 1, 0.32, 1), ' +\n            'top 0.4s cubic-bezier(0.23, 1, 0.32, 1)',\n        backgroundColor: 'rgba(255, 255, 255, 0.9)',\n        boxShadow: '0px 0px 10px #aeaeae',\n        borderRadius: '3px',\n        color: 'rgb(87, 87, 87)',\n        fontSize: '12px',\n        fontFamily: const_1.FONT_FAMILY,\n        lineHeight: '20px',\n        padding: '10px 10px 6px 10px',\n    },\n    _a[\"\" + TOOLTIP_TITLE_CLASS] = {\n        marginBottom: '4px',\n    },\n    _a[\"\" + TOOLTIP_LIST_CLASS] = {\n        margin: 0,\n        listStyleType: 'none',\n        padding: 0,\n    },\n    _a[\"\" + TOOLTIP_LIST_ITEM_CLASS] = {\n        marginBottom: '4px',\n    },\n    _a[\"\" + TOOLTIP_MARKER_CLASS] = {\n        width: '5px',\n        height: '5px',\n        borderRadius: '50%',\n        display: 'inline-block',\n        marginRight: '8px',\n    },\n    _a[\"\" + TOOLTIP_VALUE_CLASS] = {\n        display: 'inline-block',\n        float: 'right',\n        marginLeft: '30px',\n    },\n    _a);\n//# sourceMappingURL=theme.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GAP = 20;\nfunction defaultPosition(x, y, position, containerWidth, containerHeight, target) {\n    var newx = x;\n    var newy = y;\n    // todo any 是 Shape\n    var rectWidth = 0;\n    var rectHeight = 0;\n    var gap = 20;\n    if (target) {\n        var rect = target.getBBox();\n        rectWidth = rect.width;\n        rectHeight = rect.height;\n        newx = rect.x;\n        newy = rect.y;\n        gap = 5;\n    }\n    switch (position) {\n        case 'inside':\n            newx = newx + rectWidth / 2 - containerWidth / 2;\n            newy = newy + rectHeight / 2 - containerHeight / 2;\n            break;\n        case 'top':\n            newx = newx + rectWidth / 2 - containerWidth / 2;\n            newy = newy - containerHeight - gap;\n            break;\n        case 'left':\n            newx = newx - containerWidth - gap;\n            newy = newy + rectHeight / 2 - containerHeight / 2;\n            break;\n        case 'right':\n            newx = newx + rectWidth + gap;\n            newy = newy + rectHeight / 2 - containerHeight / 2;\n            break;\n        case 'bottom':\n        default:\n            newx = newx + rectWidth / 2 - containerWidth / 2;\n            newy = newy + rectHeight + gap;\n            break;\n    }\n    return [newx, newy];\n}\nexports.defaultPosition = defaultPosition;\nfunction constraintPositionInBoundary(x, y, width, height, viewWidth, viewHeight) {\n    var newx = x;\n    var newy = y;\n    if (newx + width + GAP > viewWidth) {\n        newx -= width + GAP;\n        newx = newx < 0 ? 0 : newx;\n    }\n    else if (newx + GAP < 0) {\n        newx = GAP;\n    }\n    else {\n        newx += GAP;\n    }\n    if (newy + height + GAP > viewHeight) {\n        newy -= (height + GAP);\n        newy = newy < 0 ? 0 : newy;\n    }\n    else if (newy + GAP < 0) {\n        newy = GAP;\n    }\n    else {\n        newy += GAP;\n    }\n    return [newx, newy];\n}\nexports.constraintPositionInBoundary = constraintPositionInBoundary;\nfunction constraintPositionInPanel(x, y, width, height, panelRange, onlyHorizontal) {\n    var newx = x;\n    var newy = y;\n    if (newx + width > panelRange.tr.x) {\n        newx -= (width + 2 * GAP);\n    }\n    if (newx < panelRange.tl.x) {\n        newx = panelRange.tl.x;\n    }\n    if (!onlyHorizontal) {\n        if (newy + height > panelRange.bl.y) {\n            newy -= height + 2 * GAP;\n        }\n        if (newy < panelRange.tl.y) {\n            newy = panelRange.tl.y;\n        }\n    }\n    return [newx, newy];\n}\nexports.constraintPositionInPanel = constraintPositionInPanel;\n//# sourceMappingURL=position.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar domUtil = require(\"@antv/dom-util\");\nvar Util = require(\"@antv/util\");\nvar base_1 = require(\"./base\");\nvar crosshair_1 = require(\"./crosshair\");\nvar theme_1 = require(\"./theme\");\nvar position_1 = require(\"./util/position\");\nvar CONTAINER_CLASS = 'g2-tooltip';\nvar TITLE_CLASS = 'g2-tooltip-title';\nvar LIST_CLASS = 'g2-tooltip-list';\nvar MARKER_CLASS = 'g2-tooltip-marker';\nvar VALUE_CLASS = 'g2-tooltip-value';\nvar LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar find = function (dom, cls) {\n    return dom.getElementsByClassName(cls)[0];\n};\nvar mergeStyles = function (styles, cfg) {\n    // todo\n    Object.keys(styles).forEach(function (k) {\n        if (cfg[k]) {\n            styles[k] = Util.mix(styles[k], cfg[k]);\n        }\n    });\n    return styles;\n};\nvar HtmlTooltip = /** @class */ (function (_super) {\n    tslib_1.__extends(HtmlTooltip, _super);\n    function HtmlTooltip(cfg) {\n        var _this = _super.call(this, tslib_1.__assign({ \n            /**\n             * tooltip 容器模板\n             * @type {String}\n             */\n            containerTpl: \"<div class=\\\"\" + CONTAINER_CLASS + \"\\\">\\n        <div class=\\\"\" + TITLE_CLASS + \"\\\"></div>\\n        <ul class=\\\"\" + LIST_CLASS + \"\\\"></ul>\\n        </div>\", \n            /**\n             * tooltip 列表项模板\n             * @type {String}\n             */\n            itemTpl: \"<li data-index={index}>\\n        <span style=\\\"background-color:{color};\\\" class=\\\"\" + MARKER_CLASS + \"\\\"></span>\\n        {name}<span class=\\\"\" + VALUE_CLASS + \"\\\">{value}</span></li>\", \n            /**\n             * tooltip html内容\n             * @type {String}\n             */\n            htmlContent: null, \n            /**\n             * tooltip 内容跟随鼠标移动\n             * @type {Boolean}\n             */\n            follow: true, \n            /**\n             * 是否允许鼠标停留在 tooltip 上，默认不允许\n             * @type {Boolean}\n             */\n            enterable: false }, cfg)) || this;\n        var style = theme_1.default;\n        _this.style = mergeStyles(style, cfg);\n        _this._init_();\n        if (_this.get('items')) {\n            _this.render();\n        }\n        // crosshair\n        var crosshair = _this.get('crosshairs');\n        if (crosshair) {\n            var plot = crosshair.type === 'rect' ? _this.get('backgroundGroup') : _this.get('frontgroundGroup');\n            var crosshairGroup = new crosshair_1.default(Util.mix({\n                plot: plot,\n                panelRange: _this.get('panelRange'),\n                canvas: _this.get('canvas'),\n            }, _this.get('crosshairs')));\n            crosshairGroup.hide();\n            _this.set('crosshairGroup', crosshairGroup);\n        }\n        return _this;\n    }\n    HtmlTooltip.prototype._init_ = function () {\n        var containerTpl = this.get('containerTpl');\n        var outterNode = this.get('canvas').get('el').parentNode;\n        var container;\n        if (!this.get('htmlContent')) {\n            if (/^\\#/.test(containerTpl)) {\n                // 如果传入 dom 节点的 id\n                var id = containerTpl.replace('#', '');\n                container = document.getElementById(id);\n            }\n            else {\n                container = domUtil.createDom(containerTpl);\n            }\n        }\n        else {\n            container = this._getHtmlContent();\n        }\n        this.set('container', container);\n        domUtil.modifyCSS(container, this.style[CONTAINER_CLASS]);\n        outterNode.appendChild(container);\n        outterNode.style.position = 'relative';\n    };\n    HtmlTooltip.prototype.render = function () {\n        this.clear();\n        if (this.get('htmlContent')) {\n            var outterNode = this.get('canvas').get('el').parentNode;\n            var container = this._getHtmlContent();\n            outterNode.appendChild(container);\n            domUtil.modifyCSS(container, this.style[CONTAINER_CLASS]);\n            this.set('container', container);\n        }\n        else {\n            this._renderTpl();\n        }\n    };\n    HtmlTooltip.prototype._renderTpl = function () {\n        var _this = this;\n        var showTitle = this.get('showTitle');\n        var titleContent = this.get('titleContent');\n        var container = this.get('container');\n        var titleDom = find(container, TITLE_CLASS);\n        var listDom = find(container, LIST_CLASS);\n        var items = this.get('items');\n        if (titleDom && showTitle) {\n            domUtil.modifyCSS(titleDom, this.style[TITLE_CLASS]);\n            titleDom.innerHTML = titleContent;\n        }\n        if (listDom) {\n            domUtil.modifyCSS(listDom, this.style[LIST_CLASS]);\n            Util.each(items, function (item, index) {\n                listDom.appendChild(_this._addItem(item, index));\n            });\n        }\n    };\n    HtmlTooltip.prototype.clear = function () {\n        var container = this.get('container');\n        if (container && this.get('htmlContent')) {\n            container.remove();\n        }\n        else {\n            var titleDom = find(container, TITLE_CLASS);\n            var listDom = find(container, LIST_CLASS);\n            if (titleDom) {\n                titleDom.innerHTML = '';\n            }\n            if (listDom) {\n                listDom.innerHTML = '';\n            }\n        }\n    };\n    HtmlTooltip.prototype.show = function () {\n        var container = this.get('container');\n        container.style.visibility = 'visible';\n        container.style.display = 'block';\n        var crosshairGroup = this.get('crosshairGroup');\n        if (crosshairGroup) {\n            crosshairGroup.show();\n        }\n        var markerGroup = this.get('markerGroup');\n        if (markerGroup) {\n            markerGroup.show();\n        }\n        _super.prototype.show.call(this);\n        this.get('canvas').draw();\n    };\n    HtmlTooltip.prototype.hide = function () {\n        var container = this.get('container');\n        container.style.visibility = 'hidden';\n        container.style.display = 'none';\n        var crosshairGroup = this.get('crosshairGroup');\n        if (crosshairGroup) {\n            crosshairGroup.hide();\n        }\n        var markerGroup = this.get('markerGroup');\n        if (markerGroup) {\n            markerGroup.hide();\n        }\n        _super.prototype.hide.call(this);\n        this.get('canvas').draw();\n    };\n    HtmlTooltip.prototype.destroy = function () {\n        var container = this.get('container');\n        var containerTpl = this.get('containerTpl');\n        if (container && !/^\\#/.test(containerTpl)) {\n            container.parentNode.removeChild(container);\n        }\n        var crosshairGroup = this.get('crosshairGroup');\n        if (crosshairGroup) {\n            crosshairGroup.destroy();\n        }\n        var markerGroup = this.get('markerGroup');\n        if (markerGroup) {\n            markerGroup.remove();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    HtmlTooltip.prototype._addItem = function (item, index) {\n        var itemTpl = this.get('itemTpl'); // TODO: 有可能是个回调函数\n        var itemDiv = Util.substitute(itemTpl, Util.mix(\n        // @ts-ignore\n        {\n            // @ts-ignore\n            index: index,\n        }, item));\n        var itemDOM = domUtil.createDom(itemDiv);\n        domUtil.modifyCSS(itemDOM, this.style[LIST_ITEM_CLASS]);\n        var markerDom = find(itemDOM, MARKER_CLASS);\n        if (markerDom) {\n            domUtil.modifyCSS(markerDom, this.style[MARKER_CLASS]);\n        }\n        var valueDom = find(itemDOM, VALUE_CLASS);\n        if (valueDom) {\n            domUtil.modifyCSS(valueDom, this.style[VALUE_CLASS]);\n        }\n        return itemDOM;\n    };\n    HtmlTooltip.prototype._getHtmlContent = function () {\n        var htmlContent = this.get('htmlContent');\n        var title = this.get('titleContent');\n        var items = this.get('items');\n        var html = htmlContent(title, items);\n        var ele;\n        if (Util.isElement(html)) {\n            ele = html;\n        }\n        else {\n            ele = domUtil.createDom(html);\n        }\n        return ele;\n    };\n    HtmlTooltip.prototype.setPosition = function (oldx, oldy, target) {\n        // todo any 是 Shape\n        var x = oldx;\n        var y = oldy;\n        var container = this.get('container');\n        var outterNode = this.get('canvas').get('el');\n        var viewWidth = domUtil.getWidth(outterNode);\n        var viewHeight = domUtil.getHeight(outterNode);\n        var containerWidth = container.clientWidth;\n        var containerHeight = container.clientHeight;\n        var endx = x;\n        var endy = y;\n        var position;\n        var prePosition = this.get('prePosition') || { x: 0, y: 0 };\n        // @2019-01-30 by blue.lb 由于display:none的元素获取clientWidth和clientHeight的值为0，这里强制显隐一下，其实直接在show和hide中去掉display设置最好，猜测为了更好的兼容浏览器\n        if (!containerWidth) {\n            container.style.display = 'block';\n            containerWidth = container.clientWidth;\n            containerHeight = container.clientHeight;\n            container.style.display = 'none';\n        }\n        if (this.get('enterable')) {\n            y = y - container.clientHeight / 2;\n            position = [x, y];\n            if (prePosition && x - prePosition.x > 0) {\n                // 留 1px 防止鼠标点击事件无法在画布上触发\n                x -= container.clientWidth + 1;\n            }\n            else {\n                x += 1;\n            }\n        }\n        else if (this.get('position')) {\n            position = position_1.defaultPosition(x, y, this.get('position'), containerWidth, containerHeight, target);\n            x = position[0];\n            y = position[1];\n        }\n        else {\n            position = position_1.constraintPositionInBoundary(x, y, containerWidth, containerHeight, viewWidth, viewHeight);\n            x = position[0];\n            y = position[1];\n        }\n        if (this.get('inPanel')) {\n            // tooltip 必须限制在绘图区域内\n            var panelRange = this.get('panelRange');\n            var panelGroup = this.get('panelGroup');\n            var panelClip = panelGroup.attr('clip');\n            position = position_1.constraintPositionInPanel(x, y, containerWidth, containerHeight, panelClip ? panelClip.getBBox() : panelRange, this.get('enterable'));\n            x = position[0];\n            y = position[1];\n        }\n        var markerItems = this.get('markerItems');\n        if (!Util.isEmpty(markerItems)) {\n            endx = markerItems[0].x;\n            endy = markerItems[0].y;\n        }\n        this.set('prePosition', position); // 记录上次的位置\n        var follow = this.get('follow');\n        if (follow) {\n            container.style.left = x + \"px\";\n            container.style.top = y + \"px\";\n        }\n        var crosshairGroup = this.get('crosshairGroup');\n        if (crosshairGroup) {\n            var items = this.get('items');\n            crosshairGroup.setPosition(endx, endy, items);\n        }\n        _super.prototype.setPosition.call(this, x, y);\n    };\n    return HtmlTooltip;\n}(base_1.default));\nexports.default = HtmlTooltip;\n//# sourceMappingURL=html.js.map","import { __assign, __extends } from \"tslib\";\n// @ts-ignore // todo 等 g ready 好后再去掉这行 ignore\nimport * as domUtil from '@antv/dom-util';\nimport * as G from '@antv/g';\nimport { transform } from '@antv/matrix-util';\nimport * as Util from '@antv/util';\nimport { FONT_FAMILY } from '../const';\nimport Tooltip from './base';\nimport Crosshair from './crosshair';\nimport { constraintPositionInBoundary, constraintPositionInPanel, defaultPosition } from './util/position';\nvar CanvasTooltip = /** @class */ (function (_super) {\n    __extends(CanvasTooltip, _super);\n    function CanvasTooltip(cfg) {\n        var _this = _super.call(this, __assign({ \n            /**\n             * 默认背景板样式\n             * @type {Object}\n             */\n            backgroundStyle: {\n                x: 0,\n                y: 0,\n                width: 100,\n                height: 100,\n                fill: 'rgba(255, 255, 255, 0.9)',\n                radius: 4,\n                stroke: '#e2e2e2',\n                lineWidth: 1,\n            }, \n            /**\n             * 默认title样式\n             * @type {Object}\n             */\n            titleStyle: {\n                fontFamily: FONT_FAMILY,\n                text: '',\n                textBaseline: 'top',\n                fontSize: 12,\n                fill: 'rgb(87, 87, 87)',\n                lineHeight: 20,\n                padding: 20,\n            }, \n            /**\n             * 默认marker样式\n             * @type {Object}\n             */\n            markerStyle: {\n                radius: 4,\n            }, \n            /**\n             * 默认name样式\n             * @type {Object}\n             */\n            nameStyle: {\n                fontFamily: FONT_FAMILY,\n                fontSize: 12,\n                fill: 'rgb(87, 87, 87)',\n                textBaseline: 'middle',\n                textAlign: 'start',\n                padding: 8,\n            }, \n            /**\n             * 默认value样式\n             * @type {Object}\n             */\n            valueStyle: {\n                fontFamily: FONT_FAMILY,\n                fontSize: 12,\n                fill: 'rgb(87, 87, 87)',\n                textBaseline: 'middle',\n                textAlign: 'start',\n                padding: 30,\n            }, \n            /**\n             * 默认padding值\n             * @type {Object}\n             */\n            padding: { top: 20, right: 20, bottom: 20, left: 20 }, \n            /**\n             * 默认item之间的gap\n             * @type {Number}\n             */\n            itemGap: 10, \n            /**\n             * 默认tooltip位置移动动画的时长\n             * @type {Number}\n             */\n            animationDuration: 200 }, cfg)) || this;\n        // crosshair\n        var crosshair = _this.get('crosshairs');\n        if (crosshair) {\n            var plot = _this.get('frontgroundGroup');\n            var crosshairGroup = new Crosshair(Util.mix({\n                plot: plot,\n                panelRange: _this.get('panelRange'),\n                canvas: _this.get('canvas'),\n            }, _this.get('crosshairs')));\n            crosshairGroup.hide();\n            _this.set('crosshairGroup', crosshairGroup);\n        }\n        _this._init_();\n        if (_this.get('items')) {\n            _this.render();\n        }\n        return _this;\n    }\n    CanvasTooltip.prototype._init_ = function () {\n        var padding = this.get('padding');\n        var parent = this.get('frontgroundGroup');\n        // marker group\n        var markerGroup = parent.addGroup({\n            capture: false,\n        });\n        this.set('markerGroup', markerGroup);\n        // container\n        var container = parent.addGroup();\n        container.hide();\n        this.set('container', container);\n        // board\n        var board = container.addShape('rect', {\n            attrs: Util.mix({}, this.get('backgroundStyle')),\n        });\n        this.set('board', board);\n        // title\n        var titleStyle = this.get('titleStyle');\n        if (this.get('showTitle')) {\n            var titleShape = container.addShape('text', {\n                attrs: Util.mix({\n                    x: padding.left,\n                    y: padding.top,\n                }, titleStyle),\n            });\n            this.set('titleShape', titleShape);\n            titleShape.name = 'tooltip-title';\n        }\n        // items\n        var itemsGroup = container.addGroup();\n        itemsGroup.move(padding.left, padding.top + titleStyle.lineHeight + titleStyle.padding);\n        this.set('itemsGroup', itemsGroup);\n    };\n    CanvasTooltip.prototype.render = function () {\n        var _this = this;\n        this.clear();\n        var container = this.get('container');\n        var board = this.get('board');\n        var showTitle = this.get('showTitle');\n        var titleContent = this.get('titleContent');\n        var titleShape = this.get('titleShape');\n        var itemsGroup = this.get('itemsGroup');\n        var items = this.get('items');\n        var padding = this.get('padding');\n        if (titleShape && showTitle) {\n            titleShape.attr('text', titleContent);\n        }\n        var itemGap = this.get('itemGap');\n        var x = 0;\n        var y = 0;\n        Util.each(items, function (item) {\n            var itemGroup = _this._addItem(item);\n            itemGroup.move(x, y);\n            itemsGroup.add(itemGroup);\n            var itemHeight = itemGroup.getBBox().height;\n            y += itemHeight + itemGap;\n        });\n        // update board based on bbox\n        var bbox = container.getBBox();\n        var width = bbox.width + padding.right;\n        var height = bbox.height + padding.bottom;\n        board.attr('width', width);\n        board.attr('height', height);\n        // align value text to right\n        this._alignToRight(width);\n    };\n    CanvasTooltip.prototype.clear = function () {\n        var titleShape = this.get('titleShape');\n        var itemsGroup = this.get('itemsGroup');\n        var board = this.get('board');\n        if (titleShape) {\n            titleShape.text = '';\n        }\n        itemsGroup.clear();\n        board.attr('width', 0);\n        board.attr('height', 0);\n    };\n    CanvasTooltip.prototype.show = function () {\n        var container = this.get('container');\n        container.show();\n        var crosshairGroup = this.get('crosshairGroup');\n        if (crosshairGroup) {\n            crosshairGroup.show();\n        }\n        var markerGroup = this.get('markerGroup');\n        if (markerGroup) {\n            markerGroup.show();\n        }\n        _super.prototype.show.call(this);\n        this.get('canvas').draw();\n    };\n    CanvasTooltip.prototype.hide = function () {\n        var container = this.get('container');\n        container.hide();\n        var crosshairGroup = this.get('crosshairGroup');\n        if (crosshairGroup) {\n            crosshairGroup.hide();\n        }\n        var markerGroup = this.get('markerGroup');\n        if (markerGroup) {\n            markerGroup.hide();\n        }\n        _super.prototype.hide.call(this);\n        this.get('canvas').draw();\n    };\n    CanvasTooltip.prototype.destroy = function () {\n        var container = this.get('container');\n        var crosshairGroup = this.get('crosshairGroup');\n        if (crosshairGroup) {\n            crosshairGroup.destroy();\n        }\n        var markerGroup = this.get('markerGroup');\n        if (markerGroup) {\n            markerGroup.remove();\n        }\n        _super.prototype.destroy.call(this);\n        container.remove();\n    };\n    CanvasTooltip.prototype.setPosition = function (oldx, oldy, target) {\n        // todo\n        var x = oldx;\n        var y = oldy;\n        var container = this.get('container');\n        var outterNode = this.get('canvas').get('el');\n        var viewWidth = domUtil.getWidth(outterNode);\n        var viewHeight = domUtil.getHeight(outterNode);\n        var bbox = container.getBBox();\n        var containerWidth = bbox.width;\n        var containerHeight = bbox.height;\n        var endx = x;\n        var endy = y;\n        var position;\n        if (this.get('position')) {\n            position = defaultPosition(x, y, this.get('position'), containerWidth, containerHeight, target);\n            x = position[0];\n            y = position[1];\n        }\n        else {\n            position = constraintPositionInBoundary(x, y, containerWidth, containerHeight, viewWidth, viewHeight);\n            x = position[0];\n            y = position[1];\n        }\n        if (this.get('inPanel')) {\n            // tooltip 必须限制在绘图区域内\n            var panelRange = this.get('panelRange');\n            var panelGroup = this.get('panelGroup');\n            var panelClip = panelGroup.attr('clip');\n            position = constraintPositionInPanel(x, y, containerWidth, containerHeight, panelClip ? panelClip.getBBox() : panelRange, this.get('enterable'));\n            x = position[0];\n            y = position[1];\n        }\n        var markerItems = this.get('markerItems');\n        if (!Util.isEmpty(markerItems)) {\n            endx = markerItems[0].x;\n            endy = markerItems[0].y;\n        }\n        var ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        var mat = transform(ulMatrix, [['t', x, y]]);\n        container.stopAnimate();\n        container.animate({\n            matrix: mat,\n        }, this.get('animationDuration'));\n        var crosshairGroup = this.get('crosshairGroup');\n        if (crosshairGroup) {\n            var items = this.get('items');\n            crosshairGroup.setPosition(endx, endy, items);\n        }\n        _super.prototype.setPosition.call(this, x, y);\n    };\n    CanvasTooltip.prototype._addItem = function (item) {\n        var group = new G.Group();\n        var markerRadius = this.get('markerStyle').radius;\n        // marker\n        if (item.marker) {\n            // @ts-ignore\n            var markerAttrs = Util.mix({}, item.marker, {\n                x: item.marker.radius / 2,\n                y: 0,\n            });\n            group.addShape('marker', {\n                attrs: markerAttrs,\n            });\n            markerRadius = item.marker.radius;\n        }\n        // name\n        var nameStyle = this.get('nameStyle');\n        group.addShape('text', {\n            attrs: Util.mix({\n                x: markerRadius + nameStyle.padding,\n                y: 0,\n                text: item.name,\n            }, nameStyle),\n        });\n        // value\n        var valueStyle = this.get('valueStyle');\n        group.addShape('text', {\n            attrs: Util.mix({\n                x: group.getBBox().width + valueStyle.padding,\n                y: 0,\n                text: item.value,\n            }, valueStyle),\n        });\n        return group;\n    };\n    CanvasTooltip.prototype._alignToRight = function (width) {\n        var _this = this;\n        var itemsGroup = this.get('itemsGroup');\n        var groups = itemsGroup.get('children');\n        Util.each(groups, function (g) {\n            // todo\n            var children = g.get('children');\n            var valueText = children[2];\n            if (valueText) {\n                var w = valueText.getBBox().width;\n                var x = width - w - _this.get('padding').right * 2;\n                valueText.attr('x', x);\n            }\n        });\n    };\n    return CanvasTooltip;\n}(Tooltip));\nexport default CanvasTooltip;\n//# sourceMappingURL=canvas.js.map","/**\n * @description 坐标轴组件的主题样式\n */\nimport { FONT_FAMILY } from '../const';\nexport default {\n    title: {\n        textStyle: {\n            fontSize: 12,\n            fill: '#595959',\n            textBaseline: 'middle',\n            fontFamily: FONT_FAMILY,\n            textAlign: 'center',\n        },\n        offset: 20,\n    },\n    label: {\n        textStyle: {\n            fontSize: 12,\n            fill: '#ccc',\n            textBaseline: 'middle',\n            fontFamily: FONT_FAMILY,\n        },\n        offset: 10,\n        offsetX: 0,\n        offsetY: 0,\n    },\n    grid: {\n        lineWidth: 1,\n        stroke: '#C0D0E0',\n    },\n};\n//# sourceMappingURL=theme.js.map","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport Guide from '../base';\nimport Label from '../label/base';\nimport Theme from './theme';\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis(cfg) {\n        var _this = _super.call(this, __assign({ type: 'base', id: null, line: {\n                lineWidth: 1,\n                stroke: '#C0D0E0',\n            }, tickLine: {\n                lineWidth: 1,\n                stroke: '#C0D0E0',\n                length: 5,\n            }, subTickCount: 0, subTickLine: null, grid: null, label: null, title: null, autoRotateLabel: true, autoHideLabel: false, autoRotateTitle: true, gridType: 'line', ticks: [], labelItems: [], gridPoints: [] }, cfg)) || this;\n        _this._processTicks();\n        return _this;\n    }\n    Axis.prototype.render = function () {\n        var grid = this.get('grid');\n        grid && this._renderGrid(); // 渲染坐标轴网格线\n        var line = this.get('line');\n        line && this._renderLine(); // 渲染坐标轴线\n        var tickLine = this.get('tickLine');\n        tickLine && this._renderTicks(); // 渲染坐标轴刻度线\n        var label = this.get('label');\n        label && this._renderLabels(); // 渲染坐标轴文本\n        var title = this.get('title');\n        if (title) {\n            // 渲染坐标轴标题\n            this.set('title', Util.deepMix({}, Theme.title, this.get('title')));\n            this.renderTitle();\n        }\n    };\n    Axis.prototype.destroy = function () {\n        if (!this.destroyed) {\n            _super.prototype.destroy.call(this);\n            var gridGroup = this.get('gridGroup');\n            gridGroup && gridGroup.remove();\n            var labelRenderer = this.get('labelRenderer');\n            labelRenderer && labelRenderer.destroy();\n            var group = this.get('group');\n            group.destroy();\n            this.destroyed = true;\n        }\n    };\n    Axis.prototype.clear = function () {\n        var group = this.get('group');\n        if (!group.get('destroyed') && group.get('children').length) {\n            var gridGroup = this.get('gridGroup');\n            gridGroup && gridGroup.clear();\n            var labelRenderer = this.get('labelRenderer');\n            labelRenderer && labelRenderer.clear();\n            // 再飞 mark: 这样就会将所有的 axis 实例中创建的 shapes 和 groups 清空\n            // 按照正常的逻辑，应该只负责清空当前实例创建的 shaps 和 groups\n            this.get('group').clear();\n        }\n    };\n    /**\n     * 解析 tick 文本\n     * @param tick tick 文本值\n     * @param index tick 对应的索引值\n     * @param length 所有 tick 的总长度\n     */\n    Axis.prototype.parseTick = function (tick, index, length) {\n        return {\n            text: tick,\n            value: index / (length - 1),\n        };\n    };\n    /**\n     * 添加 labelItems\n     * @param tick 坐标轴刻度信息\n     * @param point 位置点信息\n     * @param index 对应的索引值\n     * @param tickCount 全部坐标轴刻度的个数\n     */\n    Axis.prototype.addLabel = function (tick, point, index, tickCount) {\n        var theme = this.get('theme') || {};\n        var label = this.get('label');\n        var labelCfg = label;\n        if (Util.isFunction(labelCfg)) {\n            // 如果用户定义的 label 属性是回调函数\n            var executedLabel = label(tick.text, index, tickCount);\n            labelCfg = executedLabel ? Util.deepMix({}, theme.label, executedLabel) : null;\n        }\n        if (labelCfg) {\n            labelCfg = Util.deepMix({ text: tick.text }, Theme.label, labelCfg);\n            // 支持formatter配置\n            if (labelCfg.formatter) {\n                labelCfg.text = labelCfg.formatter(tick.text, index, tickCount);\n            }\n            var vector = this.getSideVector(labelCfg.offset, point, index);\n            var newPoint = {\n                x: point.x + vector[0] + labelCfg.offsetX,\n                y: point.y + vector[1] + labelCfg.offsetY,\n            };\n            labelCfg.x = newPoint.x;\n            labelCfg.y = newPoint.y;\n            labelCfg.point = newPoint;\n            if (!Util.isNil(point.rotate)) {\n                labelCfg.rotate = point.rotate;\n            }\n            if (!Util.isNil(labelCfg.rotate)) {\n                labelCfg.textAlign =\n                    labelCfg.rotate % 180 === 0\n                        ? 'center'\n                        : labelCfg.rotate > 0\n                            ? labelCfg.rotate % 360 < 180\n                                ? 'left'\n                                : 'right'\n                            : labelCfg.rotate % 360 > -180\n                                ? 'right'\n                                : 'left';\n                var offset = -6 * Math.abs(Math.sin((labelCfg.rotate * Math.PI) / 180));\n                labelCfg.y += offset;\n                labelCfg.point.y += offset;\n            }\n            else {\n                labelCfg.textAlign = this.getTextAnchor(vector);\n            }\n            if (labelCfg.useHtml) {\n                labelCfg.text = labelCfg.htmlTemplate; // TODO: 是否直接在 text 中定义 html 模板？\n            }\n            this.get('labelItems').push(labelCfg);\n        }\n    };\n    /**\n     * 根据向量值获取文本的对齐方式\n     * @param vector 文本的向量值\n     */\n    Axis.prototype.getTextAnchor = function (vector) {\n        var ratio = Math.abs(vector[1] / vector[0]);\n        if (ratio >= 1) {\n            // 上面或者下面\n            return 'center';\n        }\n        if (vector[0] > 0) {\n            // 右侧\n            return 'start';\n        }\n        return 'end'; // 左侧\n    };\n    Axis.prototype.getMaxLabelWidthOrHeight = function (labelRenderer, property) {\n        var labels = labelRenderer.getLabels();\n        var max = 0;\n        Util.each(labels, function (label) {\n            var bbox = label.getBBox();\n            var value = bbox[property];\n            if (max < value) {\n                max = value;\n            }\n        });\n        return max;\n    };\n    /**\n     * 自动旋转文本\n     * @override\n     */\n    Axis.prototype.autoRotateLabels = function () { };\n    /**\n     * 文本自动防遮罩\n     * @override\n     */\n    Axis.prototype.autoHideLabels = function () { };\n    /**\n     * 渲染标题\n     * @override\n     */\n    Axis.prototype.renderTitle = function () { };\n    // 渲染坐标轴线\n    Axis.prototype._renderLine = function () {\n        var path = this.getLinePath();\n        var lineCfg = __assign({ path: path }, this.get('line'));\n        var group = this.get('group'); // 获取容器\n        var lineShape = group.addShape('path', {\n            attrs: lineCfg,\n            zIndex: 1,\n        });\n        lineShape.name = 'axis-line';\n        this.get('appendInfo') && lineShape.setSilent('appendInfo', this.get('appendInfo'));\n        this.set('lineShape', lineShape);\n    };\n    // 渲染坐标轴线\n    Axis.prototype._renderTicks = function () {\n        var tickLineCfg = this.get('tickLine');\n        var tickItems = this.get('tickItems');\n        var subTickItems = this.get('subTickItems');\n        if (tickItems && tickItems.length) {\n            this._addTickLine(tickItems, tickLineCfg);\n        }\n        if (subTickItems && subTickItems.length) {\n            var subTickLineCfg = this.get('subTickLine') || tickLineCfg;\n            this._addTickLine(subTickItems, subTickLineCfg);\n        }\n    };\n    Axis.prototype._renderGrid = function () {\n        var _this = this;\n        var coord = this.get('coord');\n        var appendInfo = this.get('appendInfo');\n        var group = this.get('group');\n        var gridPoints = this.get('gridPoints');\n        var grid = this.get('grid');\n        var gridType = this.get('gridType');\n        var theme = this.get('theme') || {};\n        var ticks = this.get('ticks');\n        var count = gridPoints.length;\n        var gridGroup = group.addGroup({\n            class: 'axis-grid',\n            zIndex: 0,\n        });\n        // 这边也可以用 gridGroup.setZIndex(0); 但在顶上直接管理好声明的顺序更好一点\n        // 最好不要用 gridGroup.toBack(); toBack 适合 zIndex 相同的 silbings 排序\n        this.set('gridGroup', gridGroup);\n        // 渲染网格线\n        var gridCfg = grid;\n        Util.each(gridPoints, function (subPoints, index) {\n            if (Util.isFunction(grid)) {\n                // grid 是回调函数\n                var tick = ticks[index];\n                var executedGrid = tick && grid(tick.text, index, count);\n                gridCfg = executedGrid ? Util.mix({}, theme.grid, executedGrid) : null;\n            }\n            if (gridCfg) {\n                var points = subPoints.points;\n                var path_1 = [];\n                if (gridType === 'arc') {\n                    // 弧形\n                    Util.each(points, function (point, idx) {\n                        var radius = point.radius, x = point.x, y = point.y, flag = point.flag;\n                        if (idx === 0) {\n                            path_1.push(['M', x, y]);\n                        }\n                        else {\n                            path_1.push(['A', radius, radius, 0, 0, flag, x, y]);\n                        }\n                    });\n                }\n                else {\n                    Util.each(points, function (point, idx) {\n                        var x = point.x, y = point.y;\n                        if (idx === 0) {\n                            path_1.push(['M', x, y]);\n                        }\n                        else {\n                            path_1.push(['L', x, y]);\n                        }\n                    });\n                }\n                var gridLineShape = gridGroup.addShape('path', {\n                    attrs: Util.mix({ path: path_1 }, Theme.grid, gridCfg),\n                });\n                gridLineShape.name = 'axis-grid';\n                gridLineShape.id = subPoints.id;\n                gridLineShape.set('coord', coord);\n                appendInfo && gridLineShape.setSilent('appendInfo', gridLineShape);\n            }\n        });\n        // 用户设置了网格的交替填充色\n        var gridAlternateColor = this.get('gridAlternateColor');\n        if (gridAlternateColor) {\n            var preItem_1;\n            Util.each(gridPoints, function (item, index) {\n                if (preItem_1) {\n                    _this._drawAlternativeBg(item, preItem_1, index);\n                }\n                preItem_1 = item;\n            });\n        }\n    };\n    Axis.prototype._renderLabels = function () {\n        var group = this.get('group');\n        var labelRenderer = new Label({ name: 'axis-label' });\n        labelRenderer.set('coord', this.get('coord'));\n        labelRenderer.set('group', group.addGroup({\n            class: 'axis-labels',\n        }));\n        labelRenderer.set('canvas', this.get('canvas'));\n        labelRenderer.set('items', this.get('labelItems'));\n        labelRenderer.draw(false);\n        this.set('labelRenderer', labelRenderer);\n        if (this.get('autoRotateLabel')) {\n            this.autoRotateLabels();\n        }\n        if (this.get('autoHideLabel')) {\n            this.autoHideLabels();\n        }\n    };\n    // 生成 ticks\n    Axis.prototype._processTicks = function () {\n        var _this = this;\n        var labelCfg = this.get('label');\n        var subTickCount = this.get('subTickCount');\n        var tickLineCfg = this.get('tickLine');\n        var ticks = this._parseTicks(this.get('ticks'));\n        var tickCount = ticks.length;\n        Util.each(ticks, function (tick, index) {\n            var tickPoint = _this.getTickPoint(tick.value, index);\n            if (tickLineCfg) {\n                _this._addTickItem(index, tickPoint, tickLineCfg.length);\n            }\n            if (labelCfg) {\n                _this.addLabel(tick, tickPoint, index, tickCount);\n            }\n        });\n        if (subTickCount) {\n            // 如果有设置次级分点，添加次级tick\n            var subTickLineCfg_1 = this.get('subTickLine');\n            Util.each(ticks, function (tick, index) {\n                if (index > 0) {\n                    var diff = tick.value - ticks[index - 1].value;\n                    diff = diff / (_this.get('subTickCount') + 1);\n                    for (var i = 1; i <= subTickCount; i++) {\n                        var subTick = {\n                            text: '',\n                            value: index ? ticks[index - 1].value + i * diff : i * diff,\n                        };\n                        var tickPoint = _this.getTickPoint(subTick.value);\n                        var subTickLength = void 0;\n                        if (subTickLineCfg_1 && subTickLineCfg_1.length) {\n                            subTickLength = subTickLineCfg_1.length;\n                        }\n                        else {\n                            subTickLength = Math.floor(tickLineCfg.length * (3 / 5));\n                        }\n                        _this._addTickItem(i - 1, tickPoint, subTickLength, 'sub');\n                    }\n                }\n            });\n        }\n    };\n    Axis.prototype._parseTicks = function (ticks) {\n        if (ticks === void 0) { ticks = []; }\n        var ticksLength = ticks.length;\n        for (var i = 0; i < ticksLength; i++) {\n            var item = ticks[i];\n            if (!Util.isObject(item)) {\n                ticks[i] = this.parseTick(item, i, ticksLength);\n            }\n        }\n        this.set('ticks', ticks);\n        return ticks;\n    };\n    Axis.prototype._addTickItem = function (index, point, length, type) {\n        if (type === void 0) { type = ''; }\n        var tickItems = this.get('tickItems') || [];\n        var subTickItems = this.get('subTickItems') || [];\n        var end = this.getTickEnd(point, length, index);\n        var cfg = {\n            x1: point.x,\n            y1: point.y,\n            x2: end.x,\n            y2: end.y,\n        };\n        if (type === 'sub') {\n            subTickItems.push(cfg);\n        }\n        else {\n            tickItems.push(cfg);\n        }\n        this.set('tickItems', tickItems);\n        this.set('subTickItems', subTickItems);\n    };\n    Axis.prototype._addTickLine = function (ticks, lineCfg) {\n        var cfg = Util.mix({}, lineCfg);\n        var path = [];\n        Util.each(ticks, function (item) {\n            path.push(['M', item.x1, item.y1]);\n            path.push(['L', item.x2, item.y2]);\n        });\n        delete cfg.length;\n        cfg.path = path;\n        var group = this.get('group');\n        var tickShape = group.addShape('path', {\n            attrs: cfg,\n            zIndex: 1,\n        });\n        tickShape.name = 'axis-ticks';\n        tickShape.id = this.get('id') + \"-ticks\";\n        tickShape.set('coord', this.get('coord'));\n        this.get('appendInfo') && tickShape.setSilent('appendInfo', this.get('appendInfo'));\n    };\n    // Grid 的背景层绘制逻辑\n    Axis.prototype._drawAlternativeBg = function (item, preItem, index) {\n        var alternateColor = this.get('gridAlternateColor');\n        var attrs;\n        var oddColor;\n        var evenColor;\n        if (Util.isString(alternateColor)) {\n            oddColor = alternateColor;\n        }\n        else if (Util.isArray(alternateColor)) {\n            oddColor = alternateColor[0];\n            evenColor = alternateColor[1];\n        }\n        if (index % 2 === 0) {\n            if (evenColor) {\n                attrs = this._getBackItem(preItem.points, item.points, evenColor);\n            }\n        }\n        else if (oddColor) {\n            attrs = this._getBackItem(preItem.points, item.points, oddColor);\n        }\n        var gridGroup = this.get('gridGroup');\n        var shape = gridGroup.addShape('Path', {\n            attrs: attrs,\n        });\n        shape.name = 'axis-grid-rect'; // TODO： 需要区分 -rect 吗？还是统一叫做 axis-grid\n        shape.id = item.id && item.id.replace('grid', 'grid-rect');\n        shape.set('coord', this.get('coord'));\n        this.get('appendInfo') && shape.setSilent('appendInfo', this.get('appendInfo'));\n    };\n    Axis.prototype._getBackItem = function (start, end, bgColor) {\n        var path = [];\n        var gridType = this.get('gridType');\n        if (gridType === 'arc') {\n            Util.each(start, function (subItem, index) {\n                var x = subItem.x, y = subItem.y, radius = subItem.radius, flag = subItem.flag;\n                if (index === 0) {\n                    path.push(['M', x, y]);\n                }\n                else {\n                    path.push(['A', radius, radius, 0, 0, flag, x, y]);\n                }\n            });\n            for (var j = end.length - 1; j >= 0; j--) {\n                var endSubItem = end[j];\n                var x = endSubItem.x, y = endSubItem.y, radius = endSubItem.radius, flag = endSubItem.flag;\n                if (j === end.length - 1) {\n                    path.push(['M', x, y]);\n                }\n                else {\n                    path.push(['A', radius, radius, 0, 0, flag === 1 ? 0 : 1, x, y]);\n                }\n            }\n        }\n        else {\n            Util.each(start, function (subItem, index) {\n                var x = subItem.x, y = subItem.y;\n                if (index === 0) {\n                    path.push(['M', x, y]);\n                }\n                else {\n                    path.push(['L', x, y]);\n                }\n            });\n            for (var i = end.length - 1; i >= 0; i--) {\n                path.push(['L', end[i].x, end[i].y]);\n            }\n            path.push(['Z']);\n        }\n        return {\n            fill: bgColor,\n            path: path,\n        };\n    };\n    return Axis;\n}(Guide));\nexport default Axis;\n//# sourceMappingURL=base.js.map","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport { vec2 } from '@antv/matrix-util';\nimport Axis from './base';\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle(cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        return _super.call(this, __assign({ type: 'circle', startAngle: -Math.PI / 2, endAngle: Math.PI * 3 / 2 }, cfg)) || this;\n    }\n    Circle.prototype.parseTick = function (tick, index, length) {\n        return {\n            text: tick,\n            value: index / length,\n        };\n    };\n    Circle.prototype.getTickPoint = function (value) {\n        var startAngle = this.get('startAngle');\n        var endAngle = this.get('endAngle');\n        var angle = startAngle + (endAngle - startAngle) * value;\n        return this._getCirclePoint(angle);\n    };\n    Circle.prototype.getSideVector = function (offset, point) {\n        var center = this.get('center');\n        var vector = [point.x - center.x, point.y - center.y];\n        if (!Util.isNil(offset)) {\n            var vecLen = vec2.length(vector);\n            vec2.scale(vector, vector, offset / vecLen);\n        }\n        return vector;\n    };\n    Circle.prototype.getSidePoint = function (point, offset) {\n        var vector = this.getSideVector(offset, point);\n        return {\n            x: point.x + vector[0],\n            y: point.y + vector[1],\n        };\n    };\n    Circle.prototype.getTickEnd = function (start, length) {\n        var tickLine = this.get('tickLine');\n        var len = !Util.isNil(length) ? length : tickLine.length;\n        return this.getSidePoint(start, len);\n    };\n    Circle.prototype.getTextAnchor = function (vector) {\n        var align;\n        if (Util.isNumberEqual(vector[0], 0)) {\n            align = 'center';\n        }\n        else if (vector[0] > 0) {\n            align = 'left';\n        }\n        else if (vector[0] < 0) {\n            align = 'right';\n        }\n        return align;\n    };\n    Circle.prototype.getLinePath = function () {\n        var center = this.get('center');\n        var x = center.x, y = center.y;\n        var rx = this.get('radius');\n        var ry = rx;\n        var startAngle = this.get('startAngle');\n        var endAngle = this.get('endAngle');\n        var inner = this.get('inner');\n        var path = [];\n        if (Math.abs(endAngle - startAngle) === Math.PI * 2) {\n            path = [\n                ['M', x, y],\n                ['m', 0, -ry],\n                ['a', rx, ry, 0, 1, 1, 0, 2 * ry],\n                ['a', rx, ry, 0, 1, 1, 0, -2 * ry],\n                ['z'],\n            ];\n        }\n        else {\n            var startPoint = this._getCirclePoint(startAngle);\n            var endPoint = this._getCirclePoint(endAngle);\n            var large = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n            var sweep = startAngle > endAngle ? 0 : 1;\n            if (!inner) {\n                path = [\n                    ['M', x, y],\n                    ['L', startPoint.x, startPoint.y],\n                    ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y],\n                    ['L', x, y],\n                ];\n            }\n            else {\n                var innerStartVector = this.getSideVector(inner * rx, startPoint);\n                var innerEndVector = this.getSideVector(inner * rx, endPoint);\n                var innerStartPoint = {\n                    x: innerStartVector[0] + x,\n                    y: innerStartVector[1] + y,\n                };\n                var innerEndPoint = {\n                    x: innerEndVector[0] + x,\n                    y: innerEndVector[1] + y,\n                };\n                path = [\n                    ['M', innerStartPoint.x, innerStartPoint.y],\n                    ['L', startPoint.x, startPoint.y],\n                    ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y],\n                    ['L', innerEndPoint.x, innerEndPoint.y],\n                    ['A', rx * inner, ry * inner, 0, large, Math.abs(sweep - 1), innerStartPoint.x, innerStartPoint.y],\n                ];\n            }\n        }\n        return path;\n    };\n    Circle.prototype.addLabel = function (tick, point, index, tickCount) {\n        var offset = Util.get(this.get('label'), 'offset', 5);\n        var p = this.getSidePoint(point, offset);\n        _super.prototype.addLabel.call(this, tick, p, index, tickCount);\n    };\n    Circle.prototype.autoRotateLabels = function () {\n        var ticks = this.get('ticks');\n        var labelRenderer = this.get('labelRenderer');\n        if (labelRenderer && ticks.length > 12) { // 小于12个文本时文本不旋转\n            var radius = this.get('radius');\n            var startAngle_1 = this.get('startAngle');\n            var endAngle = this.get('endAngle');\n            var totalAngle_1 = (endAngle - startAngle_1);\n            var avgAngle = totalAngle_1 / (ticks.length - 1);\n            var avgWidth_1 = Math.sin(avgAngle / 2) * radius * 2;\n            var maxLength_1 = this.getMaxLabelWidthOrHeight(labelRenderer, 'width');\n            Util.each(labelRenderer.getLabels(), function (label, index) {\n                var tick = ticks[index];\n                var angle = tick.value * totalAngle_1 + startAngle_1;\n                var mode = angle % (Math.PI * 2);\n                if (maxLength_1 < avgWidth_1) { // 文本的最大宽度大于\n                    if (mode <= 0) {\n                        angle = angle + Math.PI;\n                    }\n                    if (mode > Math.PI) {\n                        angle = angle - Math.PI;\n                    }\n                    angle = angle - Math.PI / 2;\n                    label.attr('textAlign', 'center');\n                }\n                else {\n                    if (mode > Math.PI / 2) {\n                        angle = angle - Math.PI;\n                    }\n                    else if (mode < Math.PI / 2 * -1) {\n                        angle = angle + Math.PI;\n                    }\n                }\n                label.rotateAtStart(angle);\n            });\n        }\n    };\n    Circle.prototype._getCirclePoint = function (angle, radius) {\n        if (radius === void 0) { radius = 0; }\n        var center = this.get('center');\n        var r = radius || this.get('radius');\n        return {\n            x: center.x + Math.cos(angle) * r,\n            y: center.y + Math.sin(angle) * r,\n        };\n    };\n    return Circle;\n}(Axis));\nexport default Circle;\n//# sourceMappingURL=circle.js.map","import { __assign, __extends } from \"tslib\";\nimport * as Util from '@antv/util';\nimport * as pathUtil from '@antv/path-util';\nimport { vec2 } from '@antv/matrix-util';\nimport Axis from './base';\nvar Helix = /** @class */ (function (_super) {\n    __extends(Helix, _super);\n    function Helix(cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        return _super.call(this, __assign({ type: 'helix', startAngle: 1.25 * Math.PI, endAngle: 7.25 * Math.PI, inner: 0, a: 0, center: null, axisStart: null, crp: [] }, cfg)) || this;\n    }\n    Helix.prototype.getLinePath = function () {\n        var crp = this.get('crp');\n        var axisStart = this.get('axisStart');\n        var path = pathUtil.catmullRom2Bezier(crp);\n        path.unshift(['M', axisStart.x, axisStart.y]);\n        return path;\n    };\n    Helix.prototype.getTickPoint = function (value) {\n        var startAngle = this.get('startAngle');\n        var endAngle = this.get('endAngle');\n        var angle = startAngle + (endAngle - startAngle) * value;\n        return this._getHelixPoint(angle);\n    };\n    Helix.prototype.getSideVector = function (offset, point) {\n        var center = this.get('center');\n        var vector = [point.x - center.x, point.y - center.y];\n        if (!Util.isNil(offset)) {\n            var vecLen = vec2.length(vector);\n            vec2.scale(vector, vector, offset / vecLen);\n        }\n        return vector;\n    };\n    Helix.prototype.getSidePoint = function (point, offset) {\n        var vector = this.getSideVector(offset, point);\n        return {\n            x: point.x + vector[0],\n            y: point.y + vector[1],\n        };\n    };\n    Helix.prototype.getTickEnd = function (start, length) {\n        var tickLine = this.get('tickLine');\n        var len = length ? length : tickLine.length;\n        return this.getSidePoint(start, len);\n    };\n    Helix.prototype._getHelixPoint = function (angle) {\n        var center = this.get('center');\n        var a = this.get('a'); // 螺线系数\n        var radius = a * angle + this.get('inner'); // 螺线方程\n        return {\n            x: center.x + Math.cos(angle) * radius,\n            y: center.y + Math.sin(angle) * radius,\n        };\n    };\n    return Helix;\n}(Axis));\nexport default Helix;\n//# sourceMappingURL=helix.js.map","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport * as Util from '@antv/util';\nimport Axis from './base';\nvar AUTO_ROTATE_DEGREES = [0, -45, -90];\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line(cfg) {\n        if (cfg === void 0) { cfg = {}; }\n        return _super.call(this, __assign({ type: 'line', x: null, y: null, isVertical: false, start: null, end: null }, cfg)) || this;\n    }\n    /**\n     * 获取距离坐标轴的向量\n     * @override\n     * @param  {Number} offset 偏移值\n     * @return {Array}        返回二维向量\n     */\n    Line.prototype.getSideVector = function (offset) {\n        var isVertical = this.get('isVertical');\n        var factor = this.get('factor');\n        // if (Util.isArray(offset)) {\n        //   return offset.map(value => value * factor);\n        // }\n        if (!Util.isNumber(offset)) {\n            return [0, 0];\n        }\n        var start = this.get('start');\n        var end = this.get('end');\n        var axisVector = this.getAxisVector();\n        var normal = vec2.normalize([], axisVector);\n        var direction = false;\n        if ((isVertical && start.y < end.y) || (!isVertical && start.x > end.x)) {\n            direction = true;\n        }\n        var verticalVector = vec2.vertical([], normal, direction);\n        return vec2.scale([], verticalVector, offset * factor);\n    };\n    Line.prototype.getAxisVector = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        return [end.x - start.x, end.y - start.y];\n    };\n    Line.prototype.getLinePath = function () {\n        var start = this.get('start');\n        var end = this.get('end');\n        return [\n            ['M', start.x, start.y],\n            ['L', end.x, end.y],\n        ];\n    };\n    Line.prototype.getTickEnd = function (start, value) {\n        var offsetVector = this.getSideVector(value);\n        return {\n            x: start.x + offsetVector[0],\n            y: start.y + offsetVector[1],\n        };\n    };\n    Line.prototype.getTickPoint = function (tickValue) {\n        var start = this.get('start');\n        var end = this.get('end');\n        var rangeX = end.x - start.x;\n        var rangeY = end.y - start.y;\n        return {\n            x: start.x + rangeX * tickValue,\n            y: start.y + rangeY * tickValue,\n        };\n    };\n    Line.prototype.renderTitle = function () {\n        var title = this.get('title');\n        var label = this.get('label');\n        var rotate = Util.get(label, 'rotate');\n        var autoRotateTitle = this.get('autoRotateTitle');\n        var offsetPoint = this.getTickPoint(0.5);\n        var titleOffset = title.offset ? title.offset : 20;\n        // if (Util.isNil(titleOffset)) { // 没有指定 offset 则自动计算\n        var labelRenderer = this.get('labelRenderer');\n        if (labelRenderer) {\n            var position = this.get('position');\n            var property = position === 'bottom' || position === 'top' ? 'height' : 'width';\n            var labelLength = this.getMaxLabelWidthOrHeight(labelRenderer, property);\n            if (this.get('autoRotateLabel')) {\n                var angle = this.getAutoRotateAngle();\n                if (angle) {\n                    labelLength = this.getOffsetByRotateAngle(angle);\n                }\n            }\n            if (rotate) {\n                labelLength = this.getOffsetByRotateAngle((rotate * Math.PI) / 180);\n            }\n            var labelOffset = Util.get(this.get('label'), 'offset', 5);\n            titleOffset += labelLength + labelOffset;\n        }\n        // }\n        var textStyle = title.textStyle;\n        var cfg = Util.mix({}, textStyle);\n        if (title.text) {\n            var vector = this.getAxisVector(); // 坐标轴方向的向量\n            if (autoRotateTitle && Util.isNil(title.rotate)) {\n                // 自动旋转并且用户没有设置 title.rotate\n                var angle = 0;\n                if (!Util.isNumberEqual(vector[1], 0)) {\n                    // 所有水平坐标轴，文本不转置\n                    var v1 = [1, 0];\n                    var v2 = [vector[0], vector[1]];\n                    angle = vec2.angleTo(v2, v1, true);\n                }\n                cfg.rotate = angle * (180 / Math.PI);\n            }\n            else if (!Util.isNil(title.rotate)) {\n                // 用户设置了旋转角度就以用户设置的为准\n                cfg.rotate = (title.rotate / 180) * Math.PI; // 将角度转换为弧度\n            }\n            var sideVector = this.getSideVector(titleOffset);\n            var point = void 0;\n            var position = title.position;\n            if (position === 'start') {\n                point = {\n                    x: this.get('start').x + sideVector[0],\n                    y: this.get('start').y + sideVector[1],\n                };\n            }\n            else if (position === 'end') {\n                point = {\n                    x: this.get('end').x + sideVector[0],\n                    y: this.get('end').y + sideVector[1],\n                };\n            }\n            else {\n                point = {\n                    x: offsetPoint.x + sideVector[0],\n                    y: offsetPoint.y + sideVector[1],\n                };\n            }\n            cfg.x = point.x;\n            cfg.y = point.y;\n            cfg.text = title.text;\n            var group = this.get('group');\n            var titleShape = group.addShape('Text', {\n                zIndex: 2,\n                attrs: cfg,\n            });\n            titleShape.name = 'axis-title';\n            this.get('appendInfo') && titleShape.setSilent('appendInfo', this.get('appendInfo'));\n        }\n    };\n    Line.prototype.autoRotateLabels = function () {\n        var labelRenderer = this.get('labelRenderer');\n        if (labelRenderer) {\n            var labels = labelRenderer.getLabels();\n            var vector = this.getAxisVector(); // 坐标轴的向量，仅处理水平或者垂直的场景\n            var angle_1 = this.getAutoRotateAngle();\n            if (angle_1) {\n                this.set('autoRotateAngle', angle_1);\n                var offsetY_1 = -6 * Math.abs(Math.sin(angle_1));\n                // const offsetY = (this.getMaxLabelWidthOrHeight(labelRenderer, 'width') * Math.abs(Math.sin(angle))) / 2;\n                var textAlign_1 = angle_1 % Math.PI === 0\n                    ? 'center'\n                    : angle_1 > 0\n                        ? angle_1 % (Math.PI * 2) < Math.PI\n                            ? 'left'\n                            : 'right'\n                        : angle_1 % (Math.PI * 2) > -Math.PI\n                            ? 'right'\n                            : 'left';\n                Util.each(labels, function (label) {\n                    label.attr('textAlign', textAlign_1);\n                    label.rotateAtStart(angle_1);\n                    label.attr('y', label.attr('y') + offsetY_1);\n                });\n            }\n        }\n    };\n    Line.prototype.autoHideLabels = function () {\n        var labelRenderer = this.get('labelRenderer');\n        var labelSpace;\n        var tickStep;\n        var append = 8;\n        if (labelRenderer) {\n            var ticks = this.get('tickItems');\n            var labels_1 = labelRenderer.getLabels();\n            var vector = this.getAxisVector(); // 坐标轴的向量，仅处理水平或者垂直的场景\n            if (labels_1.length < 2) {\n                return;\n            }\n            if (Util.isNumberEqual(vector[0], 0)) {\n                // 坐标轴垂直\n                var maxHeight = this.getMaxLabelWidthOrHeight(labelRenderer, 'height') + append;\n                var avgHeight = Math.abs(this._getAvgLabelHeightSpace(labelRenderer));\n                if (maxHeight > avgHeight) {\n                    labelSpace = maxHeight;\n                    tickStep = avgHeight;\n                }\n            }\n            else if (Util.isNumberEqual(vector[1], 0) && labels_1.length > 1) {\n                // 坐标轴水平\n                var maxWidth = this.getMaxLabelWidthOrHeight(labelRenderer, 'width') + append;\n                var avgWidth = Math.abs(this._getAvgLabelLength(labelRenderer));\n                if (maxWidth > avgWidth) {\n                    labelSpace = maxWidth;\n                    tickStep = avgWidth;\n                }\n            }\n            if (labelSpace && tickStep) {\n                var ratio_1 = Math.ceil(labelSpace / tickStep);\n                Util.each(labels_1, function (label, i) {\n                    if (i % ratio_1 !== 0) {\n                        label.set('visible', false);\n                        label.attr('text', '');\n                    }\n                });\n                if (ticks) {\n                    var visibleTicks = Util.filter(ticks, function (tick, idx) { return labels_1[idx].get('visible'); });\n                    if (Util.size(visibleTicks) > 0) {\n                        this.set('tickItems', visibleTicks);\n                        Util.remove(this.get('group').get('children'), function (s) { return s.name === 'axis-ticks'; });\n                        this._renderTicks();\n                    }\n                }\n            }\n        }\n    };\n    Line.prototype.getAutoRotateAngleByAvgWidth = function (avgWidth) {\n        var autoRotate = this.get('autoRotateLabel');\n        var labelRenderer = this.get('labelRenderer');\n        var title = this.get('title');\n        var angle;\n        if (labelRenderer) {\n            var labels = labelRenderer.getLabels();\n            var offset = this.get('label').offset;\n            var append = 12;\n            var titleOffset = title && title.offset ? title.offset : 20;\n            if (titleOffset < 0) {\n                // 如果是负的的话就不旋转\n                return;\n            }\n            var vector = this.getAxisVector(); // 坐标轴的向量，仅处理水平或者垂直的场景\n            var maxWidth = void 0;\n            var maxHeight = void 0;\n            if (Util.isNumberEqual(vector[0], 0) && title && title.text) {\n                // 坐标轴垂直，由于不知道边距，只能防止跟title重合，如果title不存在，则不自动旋转\n                maxWidth = this.getMaxLabelWidthOrHeight(labelRenderer, 'width');\n                if (maxWidth > titleOffset - offset - append) {\n                    angle = Math.acos((titleOffset - offset - append) / maxWidth) * -1;\n                }\n            }\n            else if (Util.isNumberEqual(vector[1], 0) && labels.length > 1) {\n                // 坐标轴水平，不考虑边距，根据最长的和平均值进行翻转\n                maxWidth = this.getMaxLabelWidthOrHeight(labelRenderer, 'width');\n                maxHeight = this.getMaxLabelWidthOrHeight(labelRenderer, 'height');\n                if (maxWidth > avgWidth) {\n                    var degrees = Util.isArray(autoRotate) ? autoRotate : AUTO_ROTATE_DEGREES;\n                    for (var _i = 0, degrees_1 = degrees; _i < degrees_1.length; _i++) {\n                        var degree = degrees_1[_i];\n                        angle = (degree * Math.PI) / 180;\n                        if (avgWidth * Math.abs(Math.sin(angle)) > maxHeight + 4) {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return angle;\n    };\n    Line.prototype.getOffsetByRotateAngle = function (angle) {\n        var labelRenderer = this.get('labelRenderer');\n        var position = this.get('position');\n        var property = position === 'bottom' || position === 'top' ? 'height' : 'width';\n        var labelLength = this.getMaxLabelWidthOrHeight(labelRenderer, property);\n        return angle\n            ? Math.max(labelLength, this.getMaxLabelWidthOrHeight(labelRenderer, 'width') * Math.abs(Math.sin(angle)))\n            : labelLength;\n    };\n    Line.prototype._getAvgLabelLength = function (labelRenderer) {\n        var labels = labelRenderer.getLabels();\n        return labels[1].attr('x') - labels[0].attr('x');\n    };\n    Line.prototype._getAvgLabelHeightSpace = function (labelRenderer) {\n        var labels = labelRenderer.getLabels();\n        return labels[1].attr('y') - labels[0].attr('y');\n    };\n    Line.prototype.getAutoRotateAngle = function () {\n        var labelRenderer = this.get('labelRenderer');\n        var labels = labelRenderer.getLabels();\n        if (!labels || labels.length < 2) {\n            return;\n        }\n        var avgWidth = Math.abs(this._getAvgLabelLength(labelRenderer));\n        return this.getAutoRotateAngleByAvgWidth(avgWidth);\n    };\n    return Line;\n}(Axis));\nexport default Line;\n//# sourceMappingURL=line.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar _ = require(\"@antv/util\");\nvar base_1 = require(\"../base\");\nvar Legend = /** @class */ (function (_super) {\n    tslib_1.__extends(Legend, _super);\n    function Legend(cfg) {\n        var _this = _super.call(this, tslib_1.__assign({ \n            /**\n             * 图例类型\n             */\n            type: 'base', \n            /**\n             * 图例标题\n             */\n            title: null, \n            /**\n             * 图例项集合\n             */\n            items: null, \n            /**\n             * 图例文本显示格式化回调函数\n             */\n            formatter: null, \n            /**\n             * 图例整体在 X 轴方向的偏移量\n             */\n            offsetX: 0, \n            /**\n             * 图例整体在 Y 轴方向上的偏移量\n             */\n            offsetY: 0 }, cfg)) || this;\n        _this.init();\n        _this.render();\n        _this.bindEvents();\n        return _this;\n    }\n    /**\n     * 渲染图例内容\n     */\n    Legend.prototype.render = function () {\n        this.renderTitle(); // 渲染标题\n        this.renderItems(); // 渲染图例项\n    };\n    /**\n     * @override\n     * 获取图例的宽度\n     */\n    Legend.prototype.getWidth = function () {\n        var container = this.get('container');\n        var bbox = container.getBBox();\n        return bbox.width;\n    };\n    /**\n     * @override\n     * 获取图例的高度\n     */\n    Legend.prototype.getHeight = function () {\n        var container = this.get('container');\n        var bbox = container.getBBox();\n        return bbox.height;\n    };\n    /**\n     * @override\n     * 获取图例BBox\n     */\n    Legend.prototype.getBBox = function () {\n        return this.get('container').getBBox();\n    };\n    /**\n     * @override\n     * 将图例移动至 (x, y）坐标点位置\n     * @param x x 坐标\n     * @param y y 坐标\n     */\n    Legend.prototype.moveTo = function (x, y) {\n        var container = this.get('container');\n        container.move(x, y);\n        this.set('x', x);\n        this.set('y', y);\n    };\n    /**\n     * 绘制图例\n     */\n    Legend.prototype.draw = function () {\n        this.get('canvas').draw();\n    };\n    /* 格式化 legend 显示数据 */\n    Legend.prototype.formatterValue = function (v) {\n        var formatter = this.get('formatter') || _.identity;\n        return formatter.call(this, v);\n    };\n    return Legend;\n}(base_1.default));\nexports.default = Legend;\n//# sourceMappingURL=base.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// 滑块的宽度，高度 = 宽度 * 2\nvar const_1 = require(\"../../../const\");\nexports.SLIDER_WIDTH = 8;\nexports.SLIDER_HEIGHT = exports.SLIDER_WIDTH * 2;\nexports.SLIDER_CIRCLE_MAX_SIZE = exports.SLIDER_HEIGHT * 2;\nexports.TEXT_OFFSET = 4;\nexports.SliderBtnStyle = {\n    fill: '#fff',\n    // shadowOffsetX: -2,\n    // shadowOffsetY: 2,\n    shadowBlur: 10,\n    shadowColor: 'rgba(0,0,0,0.65)',\n    radius: 2,\n};\nexports.SliderTextStyle = {\n    fill: '#333',\n    textAlign: 'center',\n    textBaseline: 'middle',\n    stroke: '#fff',\n    lineWidth: 5,\n    fontFamily: const_1.FONT_FAMILY,\n};\nexports.SliderMiddleBackgroundStyle = {\n    fill: '#D9D9D9',\n};\nexports.SliderMiddleFrontendStyle = {\n    fill: 'rgb(64, 141, 251)',\n};\nexports.DefaultTitleStyle = {\n    fill: '#333',\n    textBaseline: 'top',\n    textAlign: 'start',\n    fontFamily: const_1.FONT_FAMILY,\n};\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar g_1 = require(\"@antv/g\");\nvar domUtil = require(\"@antv/dom-util\");\nvar constant_1 = require(\"../constant\");\n/**\n * 滑动条的逻辑\n *\n * 滑动条包括几个部分：\n * - 滑动条背景\n * - 小滑块区域（滑块 + 文本）\n * - 大滑块区域（滑块 + 文本\n * - 中间滑动区域（左右滑块中间可以滑动选中的区域）\n * - 鼠标 hover 提示文本（暂时不处理）\n *\n * 其中 min，max，range 的创建内置掉，仅有外部的布局（v，h）、类型（rect、circle）影响\n */\nvar Slider = /** @class */ (function (_super) {\n    tslib_1.__extends(Slider, _super);\n    function Slider(cfg) {\n        var _this = _super.call(this) || this;\n        // 拖拽过程中，更新 slider 状态位置\n        _this.onMouseMove = function (e) {\n            var clientX = e.clientX, clientY = e.clientY;\n            _this.updateSliderStatus(clientX, clientY);\n        };\n        // 拖拽结束，清除事件\n        _this.onMouseUp = function () {\n            // 走到这里，理论上一定会存在方法\n            if (_this.clearAllEvents) {\n                _this.clearAllEvents();\n            }\n            _this.currentTarget = undefined;\n        };\n        // cfg 属性全部存储到 this 上，而不是存储到 cfg 中！\n        var layout = cfg.layout, sliderType = cfg.sliderType, sliderSize = cfg.sliderSize, operational = cfg.operational, width = cfg.width, height = cfg.height, textStyle = cfg.textStyle, min = cfg.min, max = cfg.max, range = cfg.range, formatter = cfg.formatter;\n        _this.layout = layout;\n        _this.sliderType = sliderType;\n        var _a = sliderSize || [], _b = _a[0], w = _b === void 0 ? constant_1.SLIDER_WIDTH : _b, _c = _a[1], h = _c === void 0 ? constant_1.SLIDER_HEIGHT : _c;\n        _this.sliderSize = [w, h];\n        _this.operational = operational;\n        _this.width = width;\n        _this.height = height;\n        _this.min = min;\n        _this.max = max;\n        _this.range = range;\n        _this.textStyle = textStyle;\n        _this.formatter = formatter;\n        // 创建初始的内容\n        _this.initialSlider();\n        return _this;\n    }\n    /**\n     * 外部设置 background\n     * @param bg\n     */\n    Slider.prototype.setBackground = function (bg) {\n        // 如果已经存在，那么先移除\n        if (this.backgroundGroup) {\n            // this.remove(true);\n            // this.backgroundGroup.remove(true);\n            // this.removeChild(this.backgroundGroup, true);\n            this.backgroundGroup.destroy();\n        }\n        var group = bg.group, background = bg.background, frontend = bg.frontend;\n        // 然后添加\n        this.backgroundGroup = group;\n        this.backgroundGroup.set('zIndex', 0);\n        if (this.operational && this.rangeSliderShape && frontend) {\n            frontend.attr('clip', this.rangeSliderShape);\n            // this.add(this.rangeSliderShape);\n        }\n        this.add(this.backgroundGroup);\n        this.sort();\n    };\n    /**\n     * 滚动条布局，是否为横向\n     * true  横向\n     * false 纵向\n     */\n    Slider.prototype.isHorizontal = function () {\n        return this.layout === 'horizontal';\n    };\n    /**\n     * 初始化滑块\n     * 在配置完滑块的背景之后，挑用初始化方法来初始化 slider\n     */\n    Slider.prototype.initialSlider = function () {\n        if (this.operational) {\n            this.rangeSliderShape = this.createRangeSliderShape();\n            this.rangeSliderShape.set('zIndex', 1);\n            this.minSliderGroup = this.createMinSliderGroup();\n            this.minSliderGroup.set('zIndex', 2);\n            this.maxSliderGroup = this.createMaxSliderGroup();\n            this.maxSliderGroup.set('zIndex', 2);\n            var _a = this.range, min = _a[0], max = _a[1];\n            // 使用默认的 range 范围渲染 UI\n            this.renderUIWithRange(min, max);\n        }\n        // 绑定事件\n        this.bindEvent();\n    };\n    /* 滑块 hover 的鼠标样式 */\n    Slider.prototype.getSliderCursor = function () {\n        return this.isHorizontal() ? 'ew-resize' : 'ns-resize';\n    };\n    /* 小滑块的区域样式 */\n    Slider.prototype.createMinSliderGroup = function () {\n        var group = this.addGroup();\n        this.minSliderShape = this.createSliderButton(group, true);\n        this.minTextShape = this.createSliderText(group, true);\n        return group;\n    };\n    /* 大滑块的区域样式 */\n    Slider.prototype.createMaxSliderGroup = function () {\n        var group = this.addGroup();\n        this.maxSliderShape = this.createSliderButton(group, false);\n        this.maxTextShape = this.createSliderText(group, false);\n        return group;\n    };\n    /* 拖动两个滑块 button 中间，可以滑动整体 */\n    Slider.prototype.createRangeSliderShape = function () {\n        return this.addShape('rect', {\n            attrs: {\n                fill: '#fff',\n                fillOpacity: 0,\n                cursor: 'move',\n            },\n        });\n    };\n    /* rect 的属性信息 */\n    Slider.prototype.getRectButtonAttribute = function (isMin) {\n        var _a = this.sliderSize, sliderWidth = _a[0], sliderHeight = _a[1];\n        // 前提，滑块的高度是宽度的一半\n        if (this.isHorizontal()) {\n            return {\n                x: isMin ? -sliderWidth : 0,\n                y: this.height / 2 - sliderHeight / 2,\n                width: sliderWidth,\n                height: sliderHeight,\n            };\n        }\n        return {\n            x: this.width / 2 - sliderHeight / 2,\n            y: isMin ? 0 : -sliderWidth,\n            width: sliderHeight,\n            height: sliderWidth,\n        };\n    };\n    Slider.prototype.getCircleButtonAttribute = function (isMin) {\n        // circle 坐标系为圆心\n        if (this.isHorizontal()) {\n            return {\n                x: 0,\n                y: this.height / 2,\n                r: constant_1.SLIDER_CIRCLE_MAX_SIZE / 2,\n            };\n        }\n        return {\n            x: this.width / 2,\n            y: 0,\n            r: constant_1.SLIDER_CIRCLE_MAX_SIZE / 2,\n        };\n    };\n    /**\n     * 创建滑块\n     * @param group\n     * @param isMin 是小滑块还是大滑块\n     */\n    Slider.prototype.createSliderButton = function (group, isMin) {\n        var buttonAttr = this.sliderType === 'rect' ? this.getRectButtonAttribute(isMin) :\n            this.sliderType === 'circle' ? this.getCircleButtonAttribute(isMin) : {};\n        // 不同的 slider 滑块\n        var buttonAttribute = tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, buttonAttr), constant_1.SliderBtnStyle), { cursor: this.getSliderCursor() });\n        return group.addShape(this.sliderType, {\n            attrs: buttonAttribute,\n        });\n    };\n    Slider.prototype.getRectTextAttribute = function (isMin) {\n        var _a = this.sliderSize, sliderWidth = _a[0], sliderHeight = _a[1];\n        return this.isHorizontal() ? {\n            // text 文本值\n            x: isMin ? -sliderWidth / 2 : sliderWidth / 2,\n            y: this.height / 2 + sliderHeight / 2 + 4,\n            textAlign: 'center',\n            textBaseline: 'top',\n        } : {\n            x: this.width / 2 + sliderHeight / 2 + 4,\n            y: isMin ? sliderWidth / 2 : -sliderWidth / 2,\n            textAlign: 'left',\n            textBaseline: 'middle',\n        };\n    };\n    Slider.prototype.getCircleTextAttribute = function (isMin) {\n        return this.isHorizontal() ? {\n            // text 文本值\n            x: 0,\n            y: this.height / 2 + constant_1.SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n            textAlign: 'center',\n            textBaseline: 'top',\n        } : {\n            x: this.width / 2 + constant_1.SLIDER_CIRCLE_MAX_SIZE / 2 + 4,\n            y: 0,\n            textAlign: 'left',\n            textBaseline: 'middle',\n        };\n    };\n    /**\n     * 创建滑块文字\n     * @param group\n     * @param isMin\n     */\n    Slider.prototype.createSliderText = function (group, isMin) {\n        var textAttribute = this.sliderType === 'rect' ? this.getRectTextAttribute(isMin) :\n            this.sliderType === 'circle' ? this.getCircleTextAttribute(isMin) : {};\n        var textAttr = tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, this.textStyle), textAttribute), { text: '' });\n        return group.addShape('text', {\n            attrs: textAttr,\n        });\n    };\n    // 绑定事件：大小滑块鼠标事件，range 区域的鼠标事件\n    Slider.prototype.bindEvent = function () {\n        if (this.operational) {\n            // 鼠标点击的时候，开始滑动\n            this.on('mousedown', this.onMouseDown);\n        }\n    };\n    Slider.prototype.onMouseDown = function (ev) {\n        // 当前触发的 shape\n        this.currentTarget = ev.target;\n        var originEvent = ev.event;\n        // 阻止冒泡\n        originEvent.stopPropagation();\n        originEvent.preventDefault();\n        var clientX = originEvent.clientX, clientY = originEvent.clientY;\n        // 鼠标坐标位置\n        this.pos = this.isHorizontal() ? clientX : clientY;\n        this.bindCanvasEvents();\n    };\n    Slider.prototype.bindCanvasEvents = function () {\n        var containerDOM = this.get('canvas').get('containerDOM');\n        var e1 = domUtil.addEventListener(containerDOM, 'mousemove', this.onMouseMove);\n        var e2 = domUtil.addEventListener(containerDOM, 'mouseup', this.onMouseUp);\n        var e3 = domUtil.addEventListener(containerDOM, 'mouseleave', this.onMouseUp);\n        // 清除所有事件的方法，在交互结束的时候执行\n        this.clearAllEvents = function () {\n            e1.remove();\n            e2.remove();\n            e3.remove();\n        };\n    };\n    Slider.prototype.isDragMin = function () {\n        return this.currentTarget === this.minSliderShape;\n    };\n    Slider.prototype.isDragMax = function () {\n        return this.currentTarget === this.maxSliderShape;\n    };\n    Slider.prototype.isDragAll = function () {\n        return this.currentTarget === this.rangeSliderShape;\n    };\n    /**\n     * 根据鼠标位置 x,y，更新滑块位置状态\n     * @param x\n     * @param y\n     */\n    Slider.prototype.updateSliderStatus = function (x, y) {\n        var _this = this;\n        var totalLength = this.isHorizontal() ? this.width : this.height;\n        var sign = this.isHorizontal() ? 1 : -1; // canvas 坐标和事件坐标相反\n        var _a = this.range, min = _a[0], max = _a[1]; // 默认的 range\n        var prePosition = this.pos;\n        var currentPosition = this.isHorizontal() ? x : y;\n        // 鼠标拖拽的长度\n        var diffLength = currentPosition - prePosition;\n        // 鼠标拖拽的比例，用于做 range 计算\n        var diff = (diffLength / totalLength) * sign;\n        var newRange = [min, max];\n        // 左右两个一起拖拽（拖拽左右滑块中间区域，可以实现两个滑块一起拖拽）\n        if (this.isDragAll()) {\n            if (diff >= 0 && max + diff > 1) {\n                // max 超出\n                newRange = [min + (1 - max), 1];\n            }\n            else if (diff < 0 && min + diff < 0) {\n                // min 超出\n                newRange = [0, max - min];\n            }\n            else {\n                // 都没有超出\n                newRange = [min + diff, max + diff];\n            }\n        }\n        else {\n            // 分别处理\n            if (this.isDragMin()) {\n                newRange[0] = this.getNewRange(min, diff);\n            }\n            if (this.isDragMax()) {\n                newRange[1] = this.getNewRange(max, diff);\n            }\n            // 如果处理之后 max < min，则设置成一样的，拖那个用哪个\n            if (newRange[1] < newRange[0]) {\n                newRange = Array(2).fill(this.isDragMin() ? newRange[0] : newRange[1]);\n            }\n        }\n        // 更新状态\n        this.pos = currentPosition;\n        this.range = newRange;\n        // 发送事件\n        this.emit('sliderchange', {\n            range: newRange,\n            value: newRange.map(function (r) { return _this.getValue(r); }),\n        });\n        this.renderUIWithRange(newRange[0], newRange[1]);\n        // 渲染 redraw\n        this.get('canvas').draw();\n    };\n    /* 根据 range 变更 ui */\n    Slider.prototype.renderUIWithRange = function (minRatio, maxRatio) {\n        var width = this.width;\n        var height = this.height;\n        // resetMatrix 是 reset 的创建的属性\n        this.minSliderGroup.resetMatrix();\n        this.maxSliderGroup.resetMatrix();\n        // 修改滑块位置\n        // 横向，纵向的变换逻辑不一样\n        if (this.isHorizontal()) {\n            this.rangeSliderShape.attr({\n                x: width * minRatio,\n                y: 0,\n                width: (maxRatio - minRatio) * width,\n                height: height,\n            });\n            this.minSliderGroup.translate(minRatio * width, 0);\n            this.maxSliderGroup.translate(maxRatio * width, 0);\n        }\n        else {\n            this.rangeSliderShape.attr({\n                x: 0,\n                y: height * (1 - maxRatio),\n                width: width,\n                height: (maxRatio - minRatio) * height,\n            });\n            // 纵向图例，上大下小\n            this.minSliderGroup.translate(0, (1 - minRatio) * height);\n            this.maxSliderGroup.translate(0, (1 - maxRatio) * height);\n        }\n        // 更新文本\n        this.minTextShape.attr('text', this.formatter(this.getValue(minRatio)));\n        this.maxTextShape.attr('text', this.formatter(this.getValue(maxRatio)));\n        // 对于 circle 的情况下，滑块的大小需要随着变化而变化\n        if (this.sliderType === 'circle') {\n            this.minSliderShape.attr({\n                r: (constant_1.SLIDER_HEIGHT + minRatio * (constant_1.SLIDER_CIRCLE_MAX_SIZE - constant_1.SLIDER_HEIGHT)) / 2,\n            });\n            this.maxSliderShape.attr({\n                r: (constant_1.SLIDER_HEIGHT + maxRatio * (constant_1.SLIDER_CIRCLE_MAX_SIZE - constant_1.SLIDER_HEIGHT)) / 2,\n            });\n        }\n    };\n    /**\n     * 在原来 range 的基础上，增加一个 diff\n     * @param range\n     * @param diff\n     */\n    Slider.prototype.getNewRange = function (range, diff) {\n        var r = diff + range;\n        return r > 1 ? 1 :\n            r < 0 ? 0 : r;\n    };\n    Slider.prototype.getValue = function (ratio) {\n        var v = this.min + (this.max - this.min) * ratio;\n        return Number(v.toFixed(v > 1 ? 0 : 2)); // todo 格式化规则\n    };\n    return Slider;\n}(g_1.Group));\nexports.default = Slider;\n//# sourceMappingURL=slider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar _ = require(\"@antv/util\");\nvar g_1 = require(\"@antv/g\");\nvar base_1 = require(\"../base\");\nvar slider_1 = require(\"./components/slider\");\nvar constant_1 = require(\"./constant\");\nvar Continuous = /** @class */ (function (_super) {\n    tslib_1.__extends(Continuous, _super);\n    function Continuous(cfg) {\n        var _this = this;\n        var backgroundStyle = cfg.backgroundStyle, fillStyle = cfg.fillStyle, textStyle = cfg.textStyle, titleStyle = cfg.titleStyle, otherCfg = tslib_1.__rest(cfg, [\"backgroundStyle\", \"fillStyle\", \"textStyle\", \"titleStyle\"]);\n        var _a = cfg.layout, layout = _a === void 0 ? 'horizontal' : _a;\n        // 放入主题中\n        var defaultSize = {\n            width: layout === 'horizontal' ? 156 : 16,\n            height: layout === 'horizontal' ? 16 : 156,\n        };\n        _this = _super.call(this, tslib_1.__assign(tslib_1.__assign({ \n            /* title 间距 */\n            titleDistance: 16, \n            /* 布局默认水平 */\n            layout: 'horizontal', \n            /* 默认可交互 */\n            operational: true, \n            /* 滑块的样式： rect | circle */\n            handleIcon: 'rect', \n            /* 背景的样式 */\n            backgroundStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.SliderMiddleBackgroundStyle), backgroundStyle), \n            /* slider 滑块前景色 */\n            fillStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.SliderMiddleFrontendStyle), fillStyle), \n            /* 文本样式 */\n            textStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.SliderTextStyle), textStyle), \n            /* 标题样式 */\n            titleStyle: tslib_1.__assign(tslib_1.__assign({}, constant_1.DefaultTitleStyle), titleStyle), \n            /* 宽度 */\n            width: 156, \n            /* 高度 */\n            height: 16 }, defaultSize), otherCfg)) || this;\n        return _this;\n    }\n    Continuous.prototype.init = function () {\n        var container = this.get('container');\n        this.set('canvas', container.get('canvas'));\n        var legendGroup = container.addGroup();\n        this.set('legendGroup', legendGroup);\n        var itemsGroup = legendGroup.addGroup();\n        this.set('itemsGroup', itemsGroup);\n        // 平移\n        legendGroup.translate(this.get('offsetX'), this.get('offsetY'));\n    };\n    /**\n     * 连续型 title，其实和分类的 canvas title 没有什么区别\n     */\n    Continuous.prototype.renderTitle = function () {\n        if (this.isShowTitle()) {\n            var title = this.get('title');\n            var container = this.get('legendGroup');\n            var titleStyle = this.get('titleStyle');\n            var titleShape = container.addShape('text', {\n                attrs: tslib_1.__assign({ x: 0, y: 0, text: title }, titleStyle),\n            });\n            titleShape.name = 'legend-title';\n            this.set('titleShape', titleShape);\n        }\n    };\n    /**\n     * 连续性，直接 render 滑块即可\n     */\n    Continuous.prototype.renderItems = function () {\n        this.renderSlider();\n    };\n    // 绑定交互事件\n    Continuous.prototype.bindEvents = function () {\n        if (this.isOperational()) {\n            // 滑块的鼠标拖拽事件\n            // 滑块更新数据之后的事件\n        }\n    };\n    /**\n    * 清空容器\n    */\n    Continuous.prototype.clear = function () {\n        var container = this.get('container');\n        if (container && !container.destroyed) {\n            container.clear();\n        }\n    };\n    /**\n     * 销毁\n     */\n    Continuous.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        var container = this.get('container');\n        if (container && !container.destroyed) {\n            // 将自己从父容器删除，并且销毁自己\n            if (container.get('parent')) {\n                container.remove(true);\n            }\n            container.destroy();\n        }\n    };\n    /**\n     * 滚动条布局，是否为横向\n     * true  横向\n     * false 纵向\n     */\n    Continuous.prototype.isHorizontal = function () {\n        return this.get('layout') === 'horizontal';\n    };\n    /* 是够可交互 */\n    Continuous.prototype.isOperational = function () {\n        return this.get('operational');\n    };\n    /* 是够显示标题 */\n    Continuous.prototype.isShowTitle = function () {\n        return !!this.get('title');\n    };\n    /* 滑块的配置 */\n    Continuous.prototype.getSliderConfig = function () {\n        return {\n            layout: this.get('layout'),\n            sliderType: this.get('handleIcon'),\n            sliderSize: this.get('handleSize'),\n            sliderStyle: this.get('handleStyle'),\n            operational: this.isOperational(),\n            // 宽高\n            width: this.get('width'),\n            height: this.get('height'),\n            min: _.head(this.get('items')).value,\n            max: _.last(this.get('items')).value,\n            // 初始的 range 范围，例如：[ 0, 0.9 ]\n            range: this.get('range') || [0, 1],\n            // 文本样式\n            textStyle: tslib_1.__assign({}, this.get('textStyle')),\n            // 格式化\n            formatter: this.formatterValue,\n        };\n    };\n    // 渲染滑块（颜色和尺寸的效果是一致的）\n    Continuous.prototype.renderSlider = function () {\n        var _this = this;\n        var itemsGroup = this.get('itemsGroup');\n        // 创建 slider\n        var slider = new slider_1.default(this.getSliderConfig());\n        // 设置背景 group\n        slider.setBackground(this.createBackgroundGroup());\n        // 平移\n        if (this.isShowTitle()) {\n            var titleDistance = this.get('titleDistance');\n            var titleBbox = this.get('titleShape').getBBox();\n            var height = titleBbox.height;\n            // 往下平移 title 间距\n            slider.translate(0, titleDistance + height);\n        }\n        // 监听事件\n        // 值变更的时候，发送 itemfilter 事件。\n        slider.on('sliderchange', function (ev) {\n            var value = ev.value, range = ev.range;\n            var itemFiltered = new g_1.Event('itemfilter', ev, true, true);\n            // @ts-ignore todo 传值格式\n            itemFiltered.range = value;\n            _this.emit('itemfilter', itemFiltered);\n        });\n        itemsGroup.add(slider);\n        this.set('slider', slider);\n    };\n    return Continuous;\n}(base_1.default));\nexports.default = Continuous;\n//# sourceMappingURL=base.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar g_1 = require(\"@antv/g\");\nvar base_1 = require(\"./base\");\n// circle 的时候，背景的高度\nvar CircleBackgroundHalfHeight = 2;\nvar Size = /** @class */ (function (_super) {\n    tslib_1.__extends(Size, _super);\n    function Size(cfg) {\n        return _super.call(this, tslib_1.__assign({ type: 'size-legend' }, cfg)) || this;\n    }\n    Size.prototype.getBackgroundShapeAttr = function () {\n        var width = this.get('width');\n        var height = this.get('height');\n        var halfWidth = width / 2;\n        var halfHeight = height / 2;\n        var points = [];\n        if (this.get('handleIcon') === 'rect') {\n            points = this.isHorizontal() ? [\n                [0, height],\n                [0, height - 4],\n                [width, 0],\n                [width, height],\n            ] : [\n                [0, 0],\n                [width, 0],\n                [width, height],\n                [width - 4, height],\n            ];\n        }\n        else {\n            points = this.isHorizontal() ? [\n                [0, halfHeight + CircleBackgroundHalfHeight],\n                [0, halfHeight - CircleBackgroundHalfHeight],\n                [width, halfHeight - CircleBackgroundHalfHeight],\n                [width, halfHeight + CircleBackgroundHalfHeight],\n            ] : [\n                [halfWidth + CircleBackgroundHalfHeight, 0],\n                [halfWidth - CircleBackgroundHalfHeight, 0],\n                [halfWidth - CircleBackgroundHalfHeight, height],\n                [halfWidth + CircleBackgroundHalfHeight, height],\n            ];\n        }\n        return {\n            points: points,\n        };\n    };\n    /* 背景的样式，size 和 color 的背景完全不一样 */\n    Size.prototype.createBackgroundGroup = function () {\n        var shapeAttribute = this.getBackgroundShapeAttr();\n        var backgroundStyle = this.get('backgroundStyle');\n        var fillStyle = this.get('fillStyle');\n        var background = new g_1.Polygon({\n            attrs: tslib_1.__assign(tslib_1.__assign({}, shapeAttribute), backgroundStyle),\n        });\n        var frontend = new g_1.Polygon({\n            attrs: tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, shapeAttribute), backgroundStyle), fillStyle),\n        });\n        var group = new g_1.Group();\n        if (this.isOperational()) {\n            group.add(background);\n            group.add(frontend);\n        }\n        else {\n            // 不可交互的时候，不需要 frontend\n            group.add(frontend);\n        }\n        return {\n            group: group,\n            background: background,\n            frontend: frontend,\n        };\n    };\n    return Size;\n}(base_1.default));\nexports.default = Size;\n//# sourceMappingURL=size.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar _ = require(\"@antv/util\");\nvar g_1 = require(\"@antv/g\");\nvar color_util_1 = require(\"@antv/color-util\");\nvar base_1 = require(\"./base\");\nvar constant_1 = require(\"./constant\");\nvar Color = /** @class */ (function (_super) {\n    tslib_1.__extends(Color, _super);\n    function Color(cfg) {\n        return _super.call(this, tslib_1.__assign({ type: 'color-legend' }, cfg)) || this;\n    }\n    /* 计算占比，是否需要缓存以提高重复渲染的性能；是否需要排序 */\n    Color.prototype.calculatePercent = function (items) {\n        var min = _.head(items).value;\n        var max = _.last(items).value;\n        var diff = max - min;\n        return _.map(items, function (item) {\n            return tslib_1.__assign(tslib_1.__assign({}, item), { percentage: (Number(item.value) - min) / diff });\n        });\n    };\n    /* 颜色是否分段 */\n    Color.prototype.isSegment = function () {\n        return !!this.get('isSegment');\n    };\n    /* 可交互的情况 */\n    Color.prototype.getOperationalGroup = function () {\n        var width = this.get('width');\n        var height = this.get('height');\n        var items = this.calculatePercent(this.get('items'));\n        var backgroundStyle = this.get('backgroundStyle');\n        var fill = '';\n        var rgbColor;\n        if (this.isHorizontal()) {\n            fill += 'l (0) ';\n            _.each(items, function (v) {\n                rgbColor = color_util_1.default.toRGB(v.color);\n                fill += v.percentage + \":\" + rgbColor + \" \";\n            });\n        }\n        else {\n            fill += 'l (90) ';\n            _.each(items, function (v) {\n                rgbColor = color_util_1.default.toRGB(v.color);\n                fill += 1 - v.percentage + \":\" + rgbColor + \" \";\n            });\n        }\n        var background = new g_1.Rect({\n            attrs: tslib_1.__assign({ x: 0, y: 0, width: width,\n                height: height, strokeOpacity: 0 }, backgroundStyle),\n        });\n        var frontend = new g_1.Rect({\n            attrs: {\n                x: 0,\n                y: 0,\n                width: width,\n                height: height,\n                fill: fill,\n                strokeOpacity: 0,\n            },\n        });\n        var group = new g_1.Group();\n        if (this.isOperational()) {\n            group.add(background);\n            group.add(frontend);\n        }\n        else {\n            // 不可交互的时候，不需要 frontend\n            group.add(frontend);\n        }\n        return {\n            group: group,\n            background: background,\n            frontend: frontend,\n        };\n    };\n    /**\n     * 不可交互的情况：\n     * 1. 无滑块\n     * 2. 可以连续和分段\n     * 3. 分段的时候下面有文字\n     */\n    Color.prototype.getUnOperationalGroup = function () {\n        var _this = this;\n        var width = this.get('width');\n        var height = this.get('height');\n        var items = this.calculatePercent(this.get('items'));\n        var textStyle = this.get('textStyle');\n        var group = new g_1.Group();\n        var fill = '';\n        var rgbColor;\n        var path = [];\n        var isize = items.length;\n        // gradient color distributed according to the percentage\n        if (this.isHorizontal()) {\n            fill += 'l (0) ';\n            _.each(items, function (item, i) {\n                if (i !== 0 && (i !== isize - 1)) {\n                    path.push(['M', item.percentage * width, 0]);\n                    path.push(['L', item.percentage * width, height]);\n                }\n                rgbColor = color_util_1.default.toRGB(items[i].color);\n                if (_this.isSegment() && i > 0) {\n                    var preRgbColor = color_util_1.default.toRGB(items[i - 1].color);\n                    fill += item.percentage + \":\" + preRgbColor + \" \";\n                }\n                fill += item.percentage + \":\" + rgbColor + \" \";\n                group.addShape('text', {\n                    attrs: tslib_1.__assign(tslib_1.__assign({ x: item.percentage * width, y: height + constant_1.TEXT_OFFSET, text: \"\" + _this.formatterValue(item.value) }, textStyle), { textBaseline: 'top', textAlign: 'center' }),\n                });\n            });\n        }\n        else {\n            fill += 'l (90) ';\n            _.each(items, function (item, i) {\n                if (i !== 0 && (i !== isize - 1)) {\n                    path.push(['M', 0, height - item.percentage * height]);\n                    path.push(['L', width, height - item.percentage * height]);\n                }\n                rgbColor = color_util_1.default.toRGB(items[i].color);\n                fill += 1 - item.percentage + \":\" + rgbColor + \" \";\n                // one color instead of gradient color for a block while isSegment === true\n                if (_this.isSegment() && i > 0) {\n                    var preRgbColor = color_util_1.default.toRGB(items[i - 1].color);\n                    fill += 1 - item.percentage + \":\" + preRgbColor + \" \";\n                }\n                group.addShape('text', {\n                    attrs: tslib_1.__assign(tslib_1.__assign({ x: width + constant_1.TEXT_OFFSET, y: (1 - item.percentage) * height, text: \"\" + _this.formatterValue(item.value) }, textStyle), { textAlign: 'start', textBaseline: 'middle' }),\n                });\n            });\n        }\n        var background = group.addShape('rect', {\n            attrs: {\n                x: 0,\n                y: 0,\n                width: width,\n                height: height,\n                fill: fill,\n                strokeOpacity: 0,\n            },\n        });\n        // the white line segment to seperate color blocks\n        group.addShape('path', {\n            attrs: {\n                path: path,\n                lineWidth: 1,\n                stroke: '#fff',\n            },\n        });\n        return {\n            group: group,\n            background: background,\n            frontend: undefined,\n        };\n    };\n    /* 背景的样式，size 和 color 的背景完全不一样 */\n    Color.prototype.createBackgroundGroup = function () {\n        return this.isOperational() ? this.getOperationalGroup() : this.getUnOperationalGroup();\n    };\n    return Color;\n}(base_1.default));\nexports.default = Color;\n//# sourceMappingURL=color.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar G = require(\"@antv/g\");\nvar _ = require(\"@antv/util\");\nvar dir_mapper = {\n    right: 90 * Math.PI / 180,\n    left: (360 - 90) * Math.PI / 180,\n    up: 0,\n    down: 180 * Math.PI / 180,\n};\nvar Arrow = /** @class */ (function () {\n    function Arrow(cfg) {\n        this.width = 10;\n        this.height = 10;\n        this.direction = 'right';\n        _.assign(this, cfg);\n        this._init();\n    }\n    Arrow.prototype._init = function () {\n        var centerX = this.width / 2;\n        var centerY = this.height / 2;\n        var points = [\n            { x: 0, y: -centerY },\n            { x: -centerX, y: centerY },\n            { x: centerX, y: centerY },\n        ];\n        this.shape = new G.Path({\n            attrs: _.deepMix({\n                path: [\n                    ['M', points[0].x, points[0].y],\n                    ['L', points[1].x, points[1].y],\n                    ['L', points[2].x, points[2].y],\n                    ['Z'],\n                ],\n            }, this.attrs),\n        });\n        var transformMatrix = [];\n        /** rotate */\n        transformMatrix.push(['r', dir_mapper[this.direction]]);\n        /** transform */\n        transformMatrix.push(['t', this.x, this.y]);\n        this.shape.transform(transformMatrix);\n    };\n    return Arrow;\n}());\nexports.default = Arrow;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar base_1 = require(\"../base\");\nvar DEFAULT_THEME = {\n    layout: 'horizontal',\n    titleDistance: 15,\n    itemDistance: 5,\n    itemMarginBottom: 8,\n    wordSpacing: 8,\n    backgroundPadding: 0,\n    unSelectedColor: '#ccc',\n    offsetX: 0,\n    offsetY: 0,\n};\nvar CategoryBase = /** @class */ (function (_super) {\n    tslib_1.__extends(CategoryBase, _super);\n    function CategoryBase(cfg) {\n        return _super.call(this, tslib_1.__assign(tslib_1.__assign({ \n            /**\n             * 鼠标 hover 到图例上的默认交互是否开启\n             */\n            hoverable: true, \n            /**\n             * 图例是否允许点击交互\n             */\n            clickable: true, \n            /**\n             * 图例项的选择模式，支持 'multiple'、'single'，默认 'multiple'\n             */\n            selectedMode: 'multiple', \n            /**\n             * 是否允许全部取消，默认 false，即必须保留一个被选中\n             */\n            allowAllCanceled: false, \n            /**\n             * 图例项的顺序是否要逆序，默认为 false\n             */\n            reversed: false, \n            /**\n             * 是否自动换行，默认自动换行\n             */\n            autoWrap: true }, DEFAULT_THEME), cfg)) || this;\n    }\n    return CategoryBase;\n}(base_1.default));\nexports.default = CategoryBase;\n//# sourceMappingURL=base.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar g_1 = require(\"@antv/g\");\nvar util_1 = require(\"@antv/util\");\nvar arrow_1 = require(\"./arrow\");\nvar base_1 = require(\"./base\");\nvar CanvasLegend = /** @class */ (function (_super) {\n    tslib_1.__extends(CanvasLegend, _super);\n    function CanvasLegend(cfg) {\n        return _super.call(this, tslib_1.__assign({ type: 'category-legend' }, cfg)) || this;\n    }\n    CanvasLegend.prototype.init = function () {\n        this.isFlipped = false;\n        var container = this.get('container');\n        this.set('canvas', container.get('canvas'));\n        var itemsGroup = container.addGroup();\n        this.set('itemsGroup', itemsGroup);\n        if (this.get('flipPage')) {\n            this.set('autoWrap', true);\n        }\n    };\n    CanvasLegend.prototype.renderTitle = function () {\n        var title = this.get('title');\n        if (title) {\n            var container = this.get('container');\n            var titleStyle = this.get('titleStyle');\n            var titleShape = container.addShape('text', {\n                attrs: tslib_1.__assign({ x: 0, y: 0, text: title }, titleStyle),\n            });\n            titleShape.name = 'legend-title';\n            this.set('titleShape', titleShape);\n        }\n    };\n    CanvasLegend.prototype.renderItems = function () {\n        var _this = this;\n        var items = this.get('items');\n        if (this.get('reversed')) {\n            items.reverse();\n        }\n        util_1.each(items, function (item) {\n            _this._addItem(item);\n        });\n        if (this.get('autoWrap')) {\n            this._adjustItems();\n        } // 默认自动换行\n        var _a = this._getMaxItemSize(), maxItemWidth = _a.maxItemWidth, maxItemHeight = _a.maxItemHeight;\n        this.set('maxItemWidth', maxItemWidth);\n        this.set('maxItemHeight', maxItemHeight);\n        var needPageFlip = this.isNeedFlip();\n        if (needPageFlip) {\n            this.flipPage();\n        }\n        this._adjustPositionOffset();\n        this._renderBack();\n    };\n    CanvasLegend.prototype.isNeedFlip = function () {\n        var maxWidth = this.get('maxWidth');\n        var maxItemHeight = this.get('maxItemHeight');\n        var itemsBBox = this.get('itemsGroup').getBBox();\n        var layout = this.get('layout');\n        if (this.get('flipPage')) {\n            if (layout === 'vertical' && maxWidth < itemsBBox.width) {\n                return true;\n            }\n            if (layout === 'horizontal' && maxItemHeight < itemsBBox.height) {\n                return true;\n            }\n        }\n        return false;\n    };\n    CanvasLegend.prototype.flipPage = function () {\n        var _this = this;\n        this.isFlipped = true;\n        var maxItemWidth = this.get('maxItemWidth');\n        var maxItemHeight = this.get('maxItemHeight');\n        var maxWidth = this.get('maxWidth');\n        var maxHeight = this.get('maxHeight');\n        var itemsGroup = this.get('itemsGroup');\n        var itemsBBox = itemsGroup.getBBox();\n        var layout = this.get('layout');\n        var paginationCfg = this._getPaginationCfg();\n        // 根据layout创建clip\n        var pageNumber = 0;\n        var mode = 'up-down'; // 上下翻页\n        var x = itemsBBox.tl.x;\n        var y = itemsBBox.tl.y; // 翻页器位置\n        var size = 0; // 翻页器尺寸\n        var clip = new g_1.Rect({\n            attrs: {\n                x: x,\n                y: y,\n                width: maxWidth - paginationCfg.size,\n                height: maxHeight,\n            },\n        });\n        if (layout === 'horizontal') {\n            var width = Math.max(maxWidth, itemsBBox.width);\n            clip.attr('width', width);\n            clip.attr('height', maxItemHeight);\n            this.set('maxWidth', width);\n            this.set('maxHeight', maxItemHeight);\n            pageNumber = Math.ceil(itemsBBox.height / (maxItemHeight + this.get('itemMarginBottom')));\n            x = x + width - paginationCfg.size; // temp:padding\n            y = Math.ceil(y + maxItemHeight / 2);\n            size = maxItemHeight;\n            if (y - this._getHorizontalPaginationHeight() / 2 < 0) {\n                var offsetY = (this.get('offsetY') || 0) + this._getHorizontalPaginationHeight() / 2 - y;\n                this.set('offsetY', offsetY);\n            }\n        }\n        if (layout === 'vertical') {\n            clip.attr('width', maxItemWidth);\n            var height = Math.max(maxHeight, itemsBBox.height);\n            clip.attr('height', height);\n            this.set('maxWidth', maxItemWidth);\n            this.set('maxHeight', height);\n            pageNumber = Math.ceil(itemsBBox.width / (maxItemWidth + this.get('itemDistance')));\n            y = y + height + 10; // temp: padding\n            mode = 'left-right';\n            size = maxItemWidth;\n        }\n        // 应用clip\n        itemsGroup.attr('clip', clip);\n        this.set('clip', clip);\n        // 绘制翻页器UI\n        var flipUI = this.flipPageUI(x, y, size, pageNumber, mode);\n        this.flipUI = flipUI;\n        // 加入交互\n        var currentIndex = 1;\n        var arrow1 = flipUI.arrows[0];\n        var arrow2 = flipUI.arrows[1];\n        arrow1.on('click', function () {\n            if (currentIndex > 1) {\n                currentIndex -= 1;\n                flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n                var matrix = util_1.clone(itemsGroup.attr('matrix'));\n                if (layout === 'vertical') {\n                    var dist = _this.get('itemDistance') + maxItemWidth;\n                    matrix[6] += dist;\n                }\n                else {\n                    var dist = maxItemHeight + _this.get('itemMarginBottom');\n                    matrix[7] += dist;\n                }\n                itemsGroup.stopAnimate();\n                itemsGroup.animate({\n                    matrix: matrix,\n                }, 100);\n                _this.get('canvas').draw();\n            }\n        });\n        arrow2.on('click', function () {\n            if (currentIndex < pageNumber) {\n                currentIndex += 1;\n                flipUI.text.attr('text', currentIndex + \" / \" + pageNumber);\n                var matrix = util_1.clone(itemsGroup.attr('matrix'));\n                if (layout === 'vertical') {\n                    var dist = _this.get('itemDistance') + maxItemWidth;\n                    matrix[6] -= dist;\n                }\n                else {\n                    var dist = maxItemHeight + _this.get('itemMarginBottom');\n                    matrix[7] -= dist;\n                }\n                itemsGroup.stopAnimate();\n                itemsGroup.animate({\n                    matrix: matrix,\n                }, 100);\n            }\n        });\n    };\n    CanvasLegend.prototype.flipPageUI = function (x, y, size, pageNumber, mode) {\n        var paginationCfg = this._getPaginationCfg();\n        var container = this.get('container');\n        var group = container.addGroup();\n        var arrows = [];\n        var text;\n        if (mode === 'left-right') {\n            // left arrow\n            var la = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n                x: x + paginationCfg.arrow.width / 2,\n                y: y,\n                direction: 'left',\n            }));\n            group.add(la.shape);\n            arrows.push(la.shape);\n            // right arrow\n            var ra = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n                x: x + size - paginationCfg.arrow.width / 2,\n                y: y,\n                direction: 'right',\n            }));\n            group.add(ra.shape);\n            arrows.push(ra.shape);\n            // text\n            text = group.addShape('text', {\n                attrs: util_1.mix({}, paginationCfg.text, {\n                    x: x + size / 2,\n                    y: y,\n                    text: \"1 / \" + pageNumber,\n                }),\n            });\n        }\n        else {\n            // upper arrow\n            var height = this._getHorizontalPaginationHeight();\n            var ua = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n                x: x,\n                y: y - height / 2 + paginationCfg.arrow.height / 2,\n                direction: 'up',\n            }));\n            group.add(ua.shape);\n            arrows.push(ua.shape);\n            // lower arrow\n            var da = new arrow_1.default(util_1.mix({}, paginationCfg.arrow, {\n                x: x,\n                y: y + height / 2 - paginationCfg.arrow.height / 2,\n                direction: 'down',\n            }));\n            group.add(da.shape);\n            arrows.push(da.shape);\n            // text\n            text = group.addShape('text', {\n                attrs: util_1.mix({}, paginationCfg.text, {\n                    x: x,\n                    y: y,\n                    text: \"1 / \" + pageNumber,\n                }),\n            });\n        }\n        return {\n            arrows: arrows,\n            text: text,\n            container: group,\n        };\n    };\n    CanvasLegend.prototype._getPaginationCfg = function () {\n        var defaultCfg = {\n            arrow: {\n                x: 0,\n                y: 0,\n                width: 10,\n                height: 8,\n                attrs: {\n                    fill: '#ccc',\n                    cursor: 'pointer',\n                },\n                direction: 'right',\n            },\n            text: {\n                fontSize: 12,\n                fill: '#ccc',\n                textAlign: 'center',\n                textBaseline: 'middle',\n            },\n            size: 40,\n        };\n        // todo: 允许用户自行配置样式\n        return defaultCfg;\n    };\n    CanvasLegend.prototype._getHorizontalPaginationHeight = function () {\n        var GAP = 2;\n        var cfg = this._getPaginationCfg();\n        return cfg.text.fontSize + cfg.arrow.height * 2 + GAP * 2;\n    };\n    CanvasLegend.prototype.bindEvents = function () {\n        var itemsGroup = this.get('itemsGroup');\n        if (this.get('hoverable')) {\n            itemsGroup.on('mousemove', util_1.wrapBehavior(this, '_onMousemove'));\n            itemsGroup.on('mouseleave', util_1.wrapBehavior(this, '_onMouseleave'));\n        }\n        if (this.get('clickable')) {\n            itemsGroup.on('click', util_1.wrapBehavior(this, '_onClick'));\n        }\n    };\n    /**\n     * 清空容器\n     */\n    CanvasLegend.prototype.clear = function () {\n        var container = this.get('container');\n        if (container && !container.destroyed) {\n            container.clear();\n        }\n    };\n    /**\n     * 销毁\n     */\n    CanvasLegend.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        var container = this.get('container');\n        if (container && !container.destroyed) {\n            if (container.get('parent')) {\n                container.remove();\n            }\n            container.destroy();\n        }\n    };\n    CanvasLegend.prototype.getCheckedCount = function () {\n        var itemsGroup = this.get('itemsGroup');\n        var items = itemsGroup.get('children');\n        var checkedArr = util_1.filter(items, function (item) {\n            return item.get('checked');\n        });\n        return checkedArr.length;\n    };\n    CanvasLegend.prototype.getWidth = function () {\n        return this.getBBox().width;\n    };\n    CanvasLegend.prototype.getHeight = function () {\n        return this.getBBox().height;\n    };\n    CanvasLegend.prototype.getBBox = function () {\n        if (this.isFlipped) {\n            var clip = this.get('clip');\n            var fliperContainer = this.flipUI.container;\n            return this._mergeBBox([clip.getBBox(), fliperContainer.getBBox()]);\n        }\n        return this.get('container').getBBox();\n    };\n    CanvasLegend.prototype._adjustPositionOffset = function () {\n        var offsetX = this.get('offsetX');\n        var offsetY = this.get('offsetY');\n        var container = this.get('container');\n        container.move(offsetX, offsetY);\n    };\n    CanvasLegend.prototype._addItem = function (item) {\n        var itemsGroup = this.get('itemsGroup');\n        var x = this._getNextX();\n        var y = this._getNextY();\n        var unSelectedColor = this.get('unSelectedColor');\n        var itemGroup = itemsGroup.addGroup({\n            x: x,\n            y: y,\n            value: item.value,\n            checked: item.checked,\n        });\n        var textStyle = this.get('textStyle');\n        var wordSpace = this.get('wordSpacing');\n        var startX = 0;\n        if (item.marker) {\n            // 如果有marker添加marker\n            var markerAttrs = Object.assign({}, item.marker, {\n                x: item.marker.radius + x,\n                y: y,\n            });\n            if (!item.checked) {\n                if (markerAttrs.fill) {\n                    markerAttrs.fill = unSelectedColor;\n                }\n                if (markerAttrs.stroke) {\n                    markerAttrs.stroke = unSelectedColor;\n                }\n            }\n            var markerShape = itemGroup.addShape('marker', {\n                type: 'marker',\n                attrs: markerAttrs,\n            });\n            markerShape.attr('cursor', 'pointer');\n            markerShape.name = 'legend-marker';\n            startX += markerShape.getBBox().width + wordSpace;\n        }\n        var textAttrs = Object.assign({}, textStyle, {\n            x: startX + x,\n            y: y - (item.marker ? item.marker.radius / 2 : 0) + textStyle.fontSize / 4,\n            text: this.formatterValue(item.value),\n        });\n        if (!item.checked) {\n            Object.assign(textAttrs, {\n                fill: unSelectedColor,\n            });\n        }\n        var textShape = itemGroup.addShape('text', {\n            attrs: textAttrs,\n        });\n        textShape.attr('cursor', 'pointer');\n        textShape.name = 'legend-text';\n        var bbox = itemGroup.getBBox();\n        var itemWidth = this.get('itemWidth');\n        var wrapperShape = itemGroup.addShape('rect', {\n            attrs: {\n                x: x,\n                y: y - bbox.height / 2,\n                fill: '#fff',\n                fillOpacity: 0,\n                width: itemWidth || bbox.width,\n                height: bbox.height,\n            },\n        });\n        wrapperShape.attr('cursor', 'pointer');\n        wrapperShape.set('origin', item); // 保存图例项相关的数据，便于事件操作\n        wrapperShape.name = 'legend-item';\n        itemGroup.name = 'legendGroup';\n        return itemGroup;\n    };\n    // 获取的图例元素 X 位置\n    CanvasLegend.prototype._getNextX = function () {\n        var layout = this.get('layout');\n        var itemDistance = this.get('itemDistance');\n        var itemsGroup = this.get('itemsGroup');\n        var itemWidth = this.get('itemWidth');\n        var children = itemsGroup.get('children');\n        var nextX = 0;\n        if (layout === 'horizontal') {\n            // 水平布局\n            util_1.each(children, function (item) {\n                nextX += (itemWidth ? itemWidth : item.getBBox().width) + itemDistance;\n            });\n        }\n        return nextX;\n    };\n    CanvasLegend.prototype._getNextY = function () {\n        var itemMarginBottom = this.get('itemMarginBottom');\n        var titleDistance = this.get('titleDistance');\n        var layout = this.get('layout');\n        var itemsGroup = this.get('itemsGroup');\n        var titleShape = this.get('titleShape');\n        var children = itemsGroup.get('children');\n        var nextY = titleDistance;\n        if (titleShape) {\n            nextY += titleShape.getBBox().height;\n        }\n        if (layout === 'vertical') {\n            // 竖直布局\n            util_1.each(children, function (item) {\n                nextY += item.getBBox().height + itemMarginBottom;\n            });\n        }\n        return nextY;\n    };\n    CanvasLegend.prototype._adjustHorizontal = function () {\n        var margin = this.flipPage ? this._getPaginationCfg().size : 0;\n        var itemsGroup = this.get('itemsGroup');\n        var children = itemsGroup.get('children');\n        var maxLength = this.get('maxWidth') - margin;\n        var itemDistance = this.get('itemDistance');\n        var itemMarginBottom = this.get('itemMarginBottom');\n        var titleDistance = this.get('titleDistance');\n        var row = 0;\n        var rowLength = 0;\n        var width;\n        var height;\n        var box;\n        var itemWidth = this.get('itemWidth');\n        if (itemsGroup.getBBox().width > maxLength) {\n            util_1.each(children, function (child) {\n                box = child.getBBox();\n                width = itemWidth || box.width;\n                height = box.height + itemMarginBottom;\n                if (maxLength - rowLength < width) {\n                    row++;\n                    rowLength = 0;\n                }\n                child.move(rowLength, row * height + titleDistance);\n                rowLength += width + itemDistance;\n            });\n        }\n        return;\n    };\n    CanvasLegend.prototype._adjustVertical = function () {\n        var maxItemWidth = this._getMaxItemSize().maxItemWidth;\n        var itemsGroup = this.get('itemsGroup');\n        var titleShape = this.get('titleShape');\n        var children = itemsGroup.get('children');\n        var maxLength = this.get('maxLength'); // 垂直布局，则 maxLength 代表容器的高度\n        var itemDistance = this.get('itemDistance');\n        var itemMarginBottom = this.get('itemMarginBottom');\n        var titleDisatance = this.get('titleDistance');\n        var titleHeight = titleShape ? titleShape.getBBox().height + titleDisatance : 0;\n        var itemWidth = this.get('itemWidth') ? this.get('itemWidth') : 0;\n        var colLength = titleHeight + itemsGroup.getBBox().height;\n        var width;\n        var height;\n        var box;\n        maxItemWidth = Math.max(maxItemWidth, itemWidth) + itemDistance;\n        var totalLength = 0;\n        if (colLength > maxLength) {\n            util_1.each(children, function (child, index) {\n                box = child.getBBox();\n                width = box.width;\n                height = box.height;\n                /*if (index > 0) {\n                  maxItemWidth = itemWidth + itemDistance;\n                }*/\n                if (maxLength - colLength < height) {\n                    // 剩余高度不能满足一行，增加一列\n                    colLength = titleHeight;\n                    if (index > 0) {\n                        totalLength += maxItemWidth;\n                    }\n                    child.move(totalLength, titleHeight);\n                }\n                else {\n                    child.move(totalLength, colLength);\n                }\n                colLength += height + itemMarginBottom;\n            });\n        }\n    };\n    CanvasLegend.prototype._adjustItems = function () {\n        var layout = this.get('layout');\n        layout === 'horizontal' ? this._adjustHorizontal() : this._adjustVertical();\n    };\n    CanvasLegend.prototype._renderBack = function () {\n        var container = this.get('container');\n        var padding = this.get('backgroundPadding');\n        var backAttrs = this.get('backgroundStyle');\n        if (util_1.isNumber(padding)) {\n            padding = [padding, padding, padding, padding];\n        }\n        if (!backAttrs) {\n            return;\n        }\n        container.renderBack(padding, backAttrs);\n    };\n    CanvasLegend.prototype._onMousemove = function (ev) {\n        var item = this._getLegendItem(ev.target);\n        if (item && item.get('checked')) {\n            var itemMouseover = new g_1.Event('itemmouseover', ev, true, true);\n            itemMouseover.item = this._findItem(item);\n            itemMouseover.checked = item.get('checked');\n            this.emit('itemmouseover', itemMouseover);\n            this.get('canvas').draw();\n        }\n    };\n    CanvasLegend.prototype._onMouseleave = function (ev) {\n        var item = this._getLegendItem(ev.target);\n        if (item && item.get('checked')) {\n            var itemMouseleave = new g_1.Event('itemmouseleave', ev, true, true);\n            itemMouseleave.item = this._findItem(item);\n            itemMouseleave.checked = item.get('checked');\n            this.emit('itemmouseleave', itemMouseleave);\n            this.get('canvas').draw();\n        }\n    };\n    CanvasLegend.prototype._onClick = function (ev) {\n        var _this = this;\n        var clickedItem = this._getLegendItem(ev.target);\n        if (clickedItem && !clickedItem.get('destroyed')) {\n            var checked = clickedItem.get('checked');\n            if (!this.get('allowAllCanceled') && checked && this.getCheckedCount() === 1) {\n                return;\n            }\n            var mode = this.get('selectedMode');\n            var item_1 = this._findItem(clickedItem);\n            var itemClick = new g_1.Event('itemclick', ev, true, true);\n            itemClick.item = item_1;\n            itemClick.currentTarget = clickedItem;\n            itemClick.checked = mode === 'single' ? true : !checked;\n            var unSelectedColor_1 = this.get('unSelectedColor');\n            var checkColor_1 = this.get('textStyle').fill;\n            var markerItem_1;\n            var textItem_1;\n            var legendItem_1;\n            if (mode === 'single') {\n                var itemsGroup = this.get('itemsGroup');\n                var children = itemsGroup.get('children');\n                util_1.each(children, function (child) {\n                    markerItem_1 = _this._findShapeByName(child, 'legend-marker');\n                    textItem_1 = _this._findShapeByName(child, 'legend-text');\n                    legendItem_1 = _this._findShapeByName(child, 'legend-item');\n                    if (child !== clickedItem) {\n                        if (markerItem_1.attr('fill')) {\n                            markerItem_1.attr('fill', unSelectedColor_1);\n                        }\n                        if (markerItem_1.attr('stroke')) {\n                            markerItem_1.attr('stroke', unSelectedColor_1);\n                        }\n                        textItem_1.attr('fill', unSelectedColor_1);\n                        markerItem_1.set('checked', false);\n                        markerItem_1.set('rawAttrs', tslib_1.__assign({}, markerItem_1.get('attrs')));\n                        textItem_1.set('checked', false);\n                        legendItem_1.set('checked', false);\n                        child.set('checked', false);\n                    }\n                    else {\n                        if (markerItem_1.attr('fill')) {\n                            markerItem_1.attr('fill', item_1.marker.fill);\n                        }\n                        if (markerItem_1.attr('stroke')) {\n                            markerItem_1.attr('stroke', item_1.marker.stroke);\n                        }\n                        textItem_1.attr('fill', checkColor_1);\n                        markerItem_1.set('rawAttrs', tslib_1.__assign({}, markerItem_1.get('attrs')));\n                        markerItem_1.set('checked', true);\n                        textItem_1.set('checked', true);\n                        legendItem_1.set('checked', true);\n                        child.set('checked', true);\n                    }\n                });\n            }\n            else {\n                markerItem_1 = this._findShapeByName(clickedItem, 'legend-marker');\n                textItem_1 = this._findShapeByName(clickedItem, 'legend-text');\n                legendItem_1 = this._findShapeByName(clickedItem, 'legend-item');\n                if (markerItem_1.attr('fill')) {\n                    markerItem_1.attr('fill', checked ? unSelectedColor_1 : item_1.marker.fill);\n                }\n                if (markerItem_1.attr('stroke')) {\n                    markerItem_1.attr('stroke', checked ? unSelectedColor_1 : item_1.marker.stroke);\n                }\n                textItem_1.attr('fill', checked ? unSelectedColor_1 : checkColor_1);\n                clickedItem.set('checked', !checked);\n                markerItem_1.set('checked', !checked);\n                textItem_1.set('checked', !checked);\n                legendItem_1.set('checked', !checked);\n            }\n            this.emit('itemclick', itemClick);\n            this.get('canvas').draw();\n        }\n        return;\n    };\n    CanvasLegend.prototype._getLegendItem = function (target) {\n        var item = target.get('parent');\n        if (item && item.name === 'legendGroup') {\n            return item;\n        }\n        return null;\n    };\n    CanvasLegend.prototype._findItem = function (refer) {\n        var items = this.get('items');\n        var rst = null;\n        var value = refer instanceof g_1.Group ? refer.get('value') : refer;\n        util_1.each(items, function (item) {\n            if (item.value === value) {\n                rst = item;\n                return false;\n            }\n        });\n        return rst;\n    };\n    CanvasLegend.prototype._findShapeByName = function (group, name) {\n        return group.findBy(function (node) {\n            return node.name === name;\n        });\n    };\n    CanvasLegend.prototype._getMaxItemSize = function () {\n        var maxItemWidth = -Infinity;\n        var maxItemHeight = -Infinity;\n        var itemGroup = this.get('itemsGroup');\n        var items = itemGroup.get('children');\n        util_1.each(items, function (item) {\n            var i = item;\n            var bbox = i.getBBox();\n            if (maxItemWidth < bbox.width) {\n                maxItemWidth = bbox.width;\n            }\n            if (maxItemHeight < bbox.height) {\n                maxItemHeight = bbox.height;\n            }\n        });\n        return { maxItemWidth: maxItemWidth, maxItemHeight: maxItemHeight };\n    };\n    CanvasLegend.prototype._mergeBBox = function (bboxes) {\n        var minX = Infinity;\n        var maxX = -Infinity;\n        var minY = Infinity;\n        var maxY = -Infinity;\n        util_1.each(bboxes, function (bbox) {\n            var box = bbox;\n            minX = Math.min(box.minX, minX);\n            maxX = Math.max(box.maxX, maxX);\n            minY = Math.min(box.minY, minY);\n            maxY = Math.max(box.maxY, maxY);\n        });\n        return new g_1.BBox(minX, minY, maxX - minX, maxY - minY);\n    };\n    return CanvasLegend;\n}(base_1.default));\nexports.default = CanvasLegend;\n//# sourceMappingURL=canvas.js.map","\"use strict\";\n/**\n * @description 使用 HTML 进行渲染的图例\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar domUtil = require(\"@antv/dom-util\");\nvar g_1 = require(\"@antv/g\");\nvar Util = require(\"@antv/util\");\nvar base_1 = require(\"./base\");\nvar DEFAULT_THEME = {\n    backgroundStyle: {\n        position: 'absolute',\n        overflow: 'auto',\n        top: 0,\n        left: 0,\n    },\n    titleStyle: {\n        marginBottom: '4px',\n    },\n    listStyle: {\n        listStyleType: 'none',\n        margin: 0,\n        padding: 0,\n    },\n    itemStyle: {\n        cursor: 'pointer',\n        marginBottom: '5px',\n        marginRight: '16px',\n        userSelect: 'none',\n    },\n    markerStyle: {\n        width: '9px',\n        height: '9px',\n        borderRadius: '50%',\n        display: 'inline-block',\n        marginRight: '8px',\n        verticalAlign: 'middle',\n    },\n    pagination: {\n        activeColor: '#000',\n        inactiveColor: '#ccc',\n        arrowSize: 8,\n        animation: true,\n    },\n};\nfunction _findParentNode(node, className) {\n    var nodeClass = node.className;\n    if (Util.isNil(nodeClass)) {\n        return node;\n    }\n    nodeClass = nodeClass.split(' ');\n    if (nodeClass.indexOf(className) > -1) {\n        return node;\n    }\n    if (node.parentNode) {\n        if (node.parentNode.className === className) {\n            return node.parentNode;\n        }\n        return _findParentNode(node.parentNode, className);\n    }\n    return null;\n}\nfunction _findNodeByClass(node, className) {\n    return node.getElementsByClassName(className)[0];\n}\nvar HTMLLegend = /** @class */ (function (_super) {\n    tslib_1.__extends(HTMLLegend, _super);\n    function HTMLLegend(cfg) {\n        return _super.call(this, tslib_1.__assign({ type: 'html-legend', prefixClassName: 'g2-legend', pagination: true, highlight: false }, cfg)) || this;\n    }\n    HTMLLegend.prototype.init = function () {\n        // 初始化 HTML dom\n        var fontFamily = this.get('fontFamily');\n        // const width = this.get('width');\n        // const height = this.get('height');\n        var layout = this.get('layout');\n        var maxWidth = this.get('maxWidth');\n        var maxHeight = this.get('maxHeight');\n        var prefixClassName = this.get('prefixClassName');\n        var containerTpl = this.get('containerTpl');\n        if (!containerTpl) {\n            containerTpl = \"<div class=\\\"\" + prefixClassName + \"\\\">\\n        <div class=\\\"\" + prefixClassName + \"-title\\\"></div>\\n        <ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\\n      </div>\";\n        }\n        var legendContainer = domUtil.createDom(containerTpl);\n        var backgroundStyle = Util.deepMix({}, DEFAULT_THEME.backgroundStyle, this.get('backgroundStyle'));\n        domUtil.modifyCSS(legendContainer, tslib_1.__assign({ fontFamily: fontFamily, maxHeight: maxHeight + \"px\", \n            // width: 'auto',\n            width: '100%', height: 'auto' }, backgroundStyle));\n        if (layout === 'horizontal') {\n            domUtil.modifyCSS(legendContainer, {\n                maxWidth: maxWidth + \"px\",\n            });\n        }\n        var container = this.get('container');\n        if (!container) {\n            // 没有传入挂载的 dom，则作为 canvas 的兄弟节点\n            var canvas = this.get('canvas');\n            var mountNode = canvas.get('el').parentNode;\n            mountNode.appendChild(legendContainer);\n        }\n        else if (/^\\#/.test(container)) {\n            // 如果传入 dom 节点的 id\n            var id = container.replace('#', '');\n            container = document.getElementById(id);\n            container.appendChild(legendContainer);\n        }\n        else {\n            // 传入 dom 节点\n            container.appendChild(legendContainer);\n        }\n        this.set('_legendContainer', legendContainer);\n    };\n    // 渲染标题\n    HTMLLegend.prototype.renderTitle = function () {\n        var title = this.get('title');\n        if (title) {\n            var prefixClassName = this.get('prefixClassName');\n            var legendContainer = this.get('_legendContainer');\n            var titleContainer = _findNodeByClass(legendContainer, prefixClassName + \"-title\");\n            if (!titleContainer) {\n                titleContainer = domUtil.createDom(\"<div class=\\\"\" + prefixClassName + \"-title\\\"></div>\");\n                legendContainer.appendChild(titleContainer);\n            }\n            titleContainer.innerHTML = title;\n            var titleStyle = Util.deepMix({}, DEFAULT_THEME.titleStyle, this.get('titleStyle'));\n            domUtil.modifyCSS(titleContainer, titleStyle);\n            this.set('_titleContainer', titleContainer);\n        }\n    };\n    // 渲染图例项\n    HTMLLegend.prototype.renderItems = function () {\n        var _this = this;\n        var items = this.get('items');\n        if (!items || !items.length) {\n            return;\n        }\n        var legendContainer = this.get('_legendContainer');\n        var layout = this.get('layout');\n        var prefixClassName = this.get('prefixClassName');\n        var reversed = this.get('reversed');\n        if (reversed) {\n            items.reverse();\n        }\n        var itemGroupContainer = _findNodeByClass(legendContainer, prefixClassName + \"-list\");\n        if (!itemGroupContainer) {\n            itemGroupContainer = domUtil.createDom(\"<ul class=\\\"\" + prefixClassName + \"-list\\\"></ul>\");\n        }\n        var listStyle = Util.deepMix({}, DEFAULT_THEME.listStyle, this.get('listStyle'));\n        if (layout === 'horizontal') {\n            // 使 itemGroupContainer 内容不换行，计算分页时才能比较 scrollWidth 和 offsetWidth 的大小。\n            // @todo ie是否会有兼容问题？\n            listStyle.width = 'max-content';\n        }\n        domUtil.modifyCSS(itemGroupContainer, listStyle);\n        // 用于支持分页逻辑\n        var clipContainer = domUtil.createDom('<div></div>');\n        legendContainer.appendChild(clipContainer);\n        clipContainer.appendChild(itemGroupContainer);\n        this.set('_clipContainer', clipContainer);\n        this.set('_itemGroupContainer', itemGroupContainer);\n        var itemTpl = this.get('itemTpl');\n        if (!itemTpl) {\n            itemTpl = \"<li class=\\\"\" + prefixClassName + \"-item\\\">\\n      <span class=\\\"\" + prefixClassName + \"-item-marker\\\"></span>\\n      <span class=\\\"\" + prefixClassName + \"-item-text\\\"></span>\\n      </li>\";\n        }\n        var unSelectedColor = this.get('unSelectedColor');\n        var itemStyle = Util.deepMix({}, DEFAULT_THEME.itemStyle, this.get('itemStyle')); // TODO: 重命名\n        var markerStyle = Util.deepMix({}, DEFAULT_THEME.markerStyle, this.get('markerStyle'));\n        if (layout === 'horizontal') {\n            itemStyle.display = 'inline-block';\n        }\n        else if (layout === 'vertical') {\n            itemStyle.display = 'block';\n        }\n        var itemMap = {};\n        Util.each(items, function (item, index) {\n            var checked = item.checked;\n            var value = _this.formatterValue(item.value); // 按照 formatter 配置格式化文本\n            var originColor = item.marker.fill || item.marker.stroke;\n            var color = checked ? originColor : unSelectedColor;\n            var itemDom;\n            if (Util.isFunction(itemTpl)) {\n                // 用户声明了回调\n                var domStr = itemTpl(value, color, checked, index);\n                itemDom = domUtil.createDom(domStr);\n            }\n            else {\n                itemDom = domUtil.createDom(itemTpl);\n                var textDom = _findNodeByClass(itemDom, prefixClassName + \"-item-text\");\n                textDom.innerHTML = value;\n            }\n            itemStyle.color = color; // 设置为当前状态对应的文本颜色\n            markerStyle.backgroundColor = color; // 设置为当前状态 marker 的背景色\n            domUtil.modifyCSS(itemDom, itemStyle);\n            itemDom.setAttribute('data-checked', checked); // 存储当前的选中状态\n            itemDom.setAttribute('data-value', item.value); // 存储 item 的原始值\n            itemDom.setAttribute('data-color', originColor); // 存储 item 的原始颜色\n            var markerDom = _findNodeByClass(itemDom, prefixClassName + \"-item-marker\");\n            if (markerDom) {\n                domUtil.modifyCSS(markerDom, markerStyle);\n            }\n            itemGroupContainer.appendChild(itemDom);\n            itemMap[item.value] = item; // 用于快速查找 dom 对应的 item 数据\n        });\n        this.set('_itemMap', itemMap);\n        if (layout === 'horizontal') {\n            this._renderHorizontalPagination();\n        }\n        else {\n            this._renderPagination();\n        }\n    };\n    HTMLLegend.prototype.bindEvents = function () {\n        var _this = this;\n        var itemGroupContainer = this.get('_itemGroupContainer');\n        if (!itemGroupContainer) {\n            return;\n        }\n        if (this.get('clickable')) {\n            itemGroupContainer.onclick = function (ev) { return _this._onClick(ev); };\n        }\n        if (this.get('hoverable')) {\n            itemGroupContainer.onmousemove = function (ev) { return _this._onMousemove(ev); };\n            itemGroupContainer.onmouseout = function (ev) { return _this._onMouseout(ev); };\n        }\n    };\n    /**\n     * 获取图例的宽度\n     */\n    HTMLLegend.prototype.getWidth = function () {\n        var container = this.get('_legendContainer');\n        return domUtil.getOuterWidth(container);\n    };\n    /**\n     * 获取图例的高度\n     */\n    HTMLLegend.prototype.getHeight = function () {\n        var container = this.get('_legendContainer');\n        return domUtil.getOuterHeight(container);\n    };\n    /**\n     * 获取图例的BBox\n     */\n    HTMLLegend.prototype.getBBox = function () {\n        return new g_1.BBox(this.get('x') || 0, this.get('y') || 0, this.getWidth(), this.getHeight());\n    };\n    /**\n     * 将图例移动至 (x, y）坐标点位置\n     * @param x x 坐标\n     * @param y y 坐标\n     */\n    HTMLLegend.prototype.moveTo = function (x, y) {\n        var container = this.get('_legendContainer');\n        domUtil.modifyCSS(container, {\n            left: x + \"px\",\n            top: y + \"px\",\n        });\n        this.set('x', x);\n        this.set('y', y);\n    };\n    /**\n     * 销毁\n     */\n    HTMLLegend.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        var container = this.get('_legendContainer');\n        if (container && container.parentNode) {\n            container.parentNode.removeChild(container);\n        }\n    };\n    HTMLLegend.prototype.draw = function () {\n        // HTML Legend 不需要调用 canvas.draw();\n        return null;\n    };\n    HTMLLegend.prototype._updateStatus = function (itemDom, markerDom, color, checked) {\n        if (markerDom) {\n            markerDom.style.background = color;\n        }\n        itemDom.style.color = color;\n        itemDom.setAttribute('data-checked', checked);\n    };\n    HTMLLegend.prototype._onClick = function (ev) {\n        var _this = this;\n        var items = this.get('items');\n        var itemGroupContainer = this.get('_itemGroupContainer');\n        var prefixClassName = this.get('prefixClassName');\n        var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n        var LIST_ITEM_MARKER_CLASS = prefixClassName + \"-item-marker\";\n        var target = ev.target;\n        var targetClassName = target.className.split(' ');\n        if (Util.indexOf(targetClassName, prefixClassName + \"-list\") > -1) {\n            // 用户点击到了 list 容器上\n            return;\n        }\n        var clickedItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n        var markerDom = _findNodeByClass(clickedItemDom, LIST_ITEM_MARKER_CLASS);\n        var itemMap = this.get('_itemMap');\n        var clickedItem = itemMap[clickedItemDom.getAttribute('data-value')];\n        // if (!clickedItem) {\n        //   return;\n        // }\n        var originColor = clickedItemDom.getAttribute('data-color');\n        var selectedMode = this.get('selectedMode');\n        var unSelectedColor = this.get('unSelectedColor');\n        var itemNodes = itemGroupContainer.childNodes;\n        if (selectedMode === 'single') {\n            // 单选模式\n            clickedItem.checked = true; // 更新选中状态\n            // 其他图例项全部置灰\n            Util.each(itemNodes, function (child) {\n                if (child !== clickedItemDom) {\n                    // tslint:disable-next-line: no-shadowed-variable\n                    var markerDom_1 = _findNodeByClass(child, LIST_ITEM_MARKER_CLASS);\n                    _this._updateStatus(child, markerDom_1, unSelectedColor, 'false');\n                    var childItem = itemMap[child.getAttribute('data-value')];\n                    childItem.checked = false;\n                }\n                else {\n                    _this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n                }\n            });\n        }\n        else {\n            // 混合模式\n            var isCurrentChecked = clickedItemDom.getAttribute('data-checked') === 'true';\n            var count_1 = 0;\n            Util.each(itemNodes, function (child) {\n                if (child.getAttribute('data-checked') === 'true') {\n                    count_1++;\n                }\n            });\n            if (!this.get('allowAllCanceled') && isCurrentChecked && count_1 === 1) {\n                return;\n            }\n            // 在判断最后一个图例后再更新checked状态，防止点击最后一个图例item时图例样式没有变化但是checked状态改变了 fix #422\n            clickedItem.checked = !clickedItem.checked;\n            if (isCurrentChecked) {\n                this._updateStatus(clickedItemDom, markerDom, unSelectedColor, 'false');\n            }\n            else {\n                this._updateStatus(clickedItemDom, markerDom, originColor, 'true');\n            }\n        }\n        this.emit('itemclick', {\n            item: clickedItem,\n            currentTarget: clickedItemDom,\n            checked: selectedMode === 'single' ? true : clickedItem.checked,\n        });\n    };\n    HTMLLegend.prototype._onMousemove = function (ev) {\n        var lastActiveItem = this.get('_lastActiveItem');\n        var items = this.get('items');\n        var itemMap = this.get('_itemMap');\n        var prefixClassName = this.get('prefixClassName');\n        var LIST_CLASS = prefixClassName + \"-list\";\n        var LIST_ITEM_CLASS = prefixClassName + \"-item\";\n        var target = ev.target;\n        var targetClassName = target.className.split(' ');\n        if (Util.indexOf(targetClassName, LIST_CLASS) > -1) {\n            // 用户 move 到了 list 容器上\n            return;\n        }\n        var hoveredItemDom = _findParentNode(target, LIST_ITEM_CLASS);\n        var hoveredItem = itemMap[hoveredItemDom.getAttribute('data-value')];\n        if (hoveredItem) {\n            var highlight = this.get('highlight');\n            if (hoveredItem.checked && lastActiveItem !== hoveredItem) {\n                // 只有选中状态才应用样式\n                hoveredItemDom.className += ' active';\n                if (highlight) {\n                    // 如果开启高亮效果\n                    var itemGroupContainer = this.get('_itemGroupContainer');\n                    var itemNodes = itemGroupContainer.childNodes;\n                    itemNodes.forEach(function (itemNode) {\n                        if (itemNode !== hoveredItemDom && itemNode.getAttribute('data-checked') === 'true') {\n                            itemNode.className += ' inactive';\n                        }\n                    });\n                }\n                this.set('_lastActiveItem', hoveredItem);\n            }\n            this.emit('itemmouseover', {\n                item: hoveredItem,\n                currentTarget: hoveredItemDom,\n                checked: hoveredItem.checked,\n            });\n        }\n    };\n    HTMLLegend.prototype._onMouseout = function (ev) {\n        var itemGroupContainer = this.get('_itemGroupContainer');\n        var itemNodes = itemGroupContainer.childNodes;\n        itemNodes.forEach(function (node) {\n            var className = node.className.split(' ');\n            Util.remove(className, function (a) { return a === 'active' || a === 'inactive'; });\n            node.className = className.join(' ');\n        });\n        this.set('_lastActiveItem', null);\n        this.emit('itemmouseleave', ev);\n    };\n    HTMLLegend.prototype._renderPagination = function () {\n        var pagination = this.get('pagination');\n        var legendContainer = this.get('_legendContainer');\n        var itemGroupContainer = this.get('_itemGroupContainer');\n        var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 0;left: 0;user-select: none;margin-top: 5px;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n        if (pagination && legendContainer.scrollHeight > legendContainer.offsetHeight) {\n            // 满足分页条件\n            domUtil.modifyCSS(legendContainer, {\n                overflow: 'hidden',\n                height: this.get('maxHeight') + \"px\",\n            }); // 如果允许分页，则禁止滚动\n            var paginationDom = domUtil.createDom(paginationDomStr);\n            legendContainer.appendChild(paginationDom);\n            var legendContainerHeight = this.getHeight(); // legend 容器的高度\n            var titleHeight = this.get('_titleContainer') ? domUtil.getOuterHeight(this.get('_titleContainer')) : 0; // Legend 标题的高度\n            var paginationHeight = domUtil.getOuterHeight(paginationDom); // 分页器的高度\n            var itemGroupContainerHeight = legendContainerHeight - titleHeight - paginationHeight; // 获取图例项容器的可视高度\n            var itemGroupContainerOffsetHeight = itemGroupContainer.offsetHeight; // 获取图例项实际的高度\n            // 剪切区域的样式设置\n            var clipContainer = this.get('_clipContainer');\n            domUtil.modifyCSS(clipContainer, {\n                maxHeight: itemGroupContainerHeight + \"px\",\n                overflow: 'hidden',\n            });\n            var pageSize_1 = Math.ceil(itemGroupContainerOffsetHeight / itemGroupContainerHeight); // 计算页数\n            var itemHeight = domUtil.getOuterHeight(itemGroupContainer.childNodes[0]); // 获取每个图例项的高度\n            var onePageCount = Math.floor(itemGroupContainerHeight / itemHeight); // 计算一页可完整显示的图例项个数\n            var deltaHeight_1 = onePageCount * itemHeight; // 每页滚动的高度\n            var currentPageNum_1 = _findNodeByClass(paginationDom, 'current-page-number');\n            var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n            var prePageButton_1 = _findNodeByClass(paginationDom, 'pre-page');\n            var nextPageButton_1 = _findNodeByClass(paginationDom, 'next-page');\n            totalPageNum.innerHTML = pageSize_1;\n            var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n            var activeStyle_1 = {\n                cursor: 'pointer',\n                border: paginationCfg.activeColor + \" solid\",\n                borderWidth: '2px 2px 0 0',\n                width: paginationCfg.arrowSize + \"px\",\n                height: paginationCfg.arrowSize + \"px\",\n            };\n            var inactiveStyle_1 = {\n                cursor: 'default',\n                border: paginationCfg.inactiveColor + \" solid\",\n                borderWidth: '2px 2px 0 0',\n                width: paginationCfg.arrowSize + \"px\",\n                height: paginationCfg.arrowSize + \"px\",\n            };\n            domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n            domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n            if (paginationCfg.animation) {\n                // 允许分页的滚动动画\n                domUtil.modifyCSS(itemGroupContainer, {\n                    transition: 'transform .3s ease-in',\n                });\n            }\n            var currentPage_1 = 1;\n            var translateY_1 = 0;\n            prePageButton_1.onclick = function () {\n                if (currentPage_1 === 1) {\n                    return;\n                }\n                currentPage_1 -= 1;\n                translateY_1 += deltaHeight_1;\n                currentPageNum_1.innerHTML = currentPage_1;\n                domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n                domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n                domUtil.modifyCSS(itemGroupContainer, {\n                    transform: \"translateY(\" + translateY_1 + \"px)\",\n                });\n                if (currentPage_1 === 1) {\n                    domUtil.modifyCSS(prePageButton_1, inactiveStyle_1);\n                }\n            };\n            nextPageButton_1.onclick = function () {\n                if (currentPage_1 === pageSize_1) {\n                    return;\n                }\n                currentPage_1 += 1;\n                translateY_1 -= deltaHeight_1;\n                currentPageNum_1.innerHTML = currentPage_1;\n                domUtil.modifyCSS(nextPageButton_1, activeStyle_1);\n                domUtil.modifyCSS(prePageButton_1, activeStyle_1);\n                domUtil.modifyCSS(itemGroupContainer, {\n                    transform: \"translateY(\" + translateY_1 + \"px)\",\n                });\n                if (currentPage_1 === pageSize_1) {\n                    domUtil.modifyCSS(nextPageButton_1, inactiveStyle_1);\n                }\n            };\n        }\n    };\n    HTMLLegend.prototype._renderHorizontalPagination = function () {\n        var pagination = this.get('pagination');\n        var legendContainer = this.get('_legendContainer');\n        var itemGroupContainer = this.get('_itemGroupContainer');\n        var paginationDomStr = \"\\n      <div style=\\\"position: absolute;bottom: 4px;right: 12px;user-select: none;margin-top: 5px;background: #fff;\\\">\\n        <div class=\\\"pre-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(-135deg);transform: rotate(-135deg);margin-left: 2px;\\\">\\n        </div>\\n        <span class=\\\"current-page-number\\\">1</span> /  <span class=\\\"total-page-number\\\">0</span>\\n        <div class=\\\"next-page\\\"\\n          style=\\\"display:inline-block;-webkit-transform: rotate(45deg);transform: rotate(45deg);margin-right: 2px;\\\">\\n        </div>\\n      </div>\\n    \"; // 分页器结构模板，目前不允许自定义\n        if (pagination && legendContainer.scrollWidth > legendContainer.offsetWidth) {\n            // 满足分页条件\n            domUtil.modifyCSS(legendContainer, {\n                overflow: 'hidden',\n                width: this.get('maxWidth') + \"px\",\n            }); // 如果允许分页，则禁止滚动\n            var paginationDom = domUtil.createDom(paginationDomStr);\n            legendContainer.appendChild(paginationDom);\n            var legendContainerWidth = this.getWidth(); // legend 容器的宽度\n            // const titleHeight = this.get('_titleContainer') ?\n            // Util.getOuterHeight(this.get('_titleContainer')) : 0;  // Legend 标题的高度\n            var paginationWidth = domUtil.getOuterWidth(paginationDom); // 分页器的宽度\n            var itemGroupContainerWidth = legendContainerWidth - paginationWidth - 40; // 获取图例项容器的可视宽度\n            var itemGroupContainerOffsetWidth = itemGroupContainer.offsetWidth; // 获取图例项实际的宽度\n            // 剪切区域的样式设置\n            var clipContainer = this.get('_clipContainer');\n            domUtil.modifyCSS(clipContainer, {\n                maxWidth: itemGroupContainerWidth + \"px\",\n                overflow: 'hidden',\n            });\n            var pageSize_2 = Math.ceil(itemGroupContainerOffsetWidth / itemGroupContainerWidth); // 计算页数\n            var itemWidth = domUtil.getOuterWidth(itemGroupContainer.childNodes[0]); // 获取每个图例项的宽度\n            // const onePageCount = Math.floor(itemGroupContainerWidth / itemWidth); // 计算一页可完整显示的图例项个数\n            var deltaWidth_1 = itemGroupContainerWidth; // 每页滚动的宽度\n            var currentPageNum_2 = _findNodeByClass(paginationDom, 'current-page-number');\n            var totalPageNum = _findNodeByClass(paginationDom, 'total-page-number');\n            var prePageButton_2 = _findNodeByClass(paginationDom, 'pre-page');\n            var nextPageButton_2 = _findNodeByClass(paginationDom, 'next-page');\n            totalPageNum.innerHTML = pageSize_2;\n            var paginationCfg = Util.deepMix({}, DEFAULT_THEME.pagination, pagination);\n            var activeStyle_2 = {\n                cursor: 'pointer',\n                border: paginationCfg.activeColor + \" solid\",\n                borderWidth: '2px 2px 0 0',\n                width: paginationCfg.arrowSize + \"px\",\n                height: paginationCfg.arrowSize + \"px\",\n            };\n            var inactiveStyle_2 = {\n                cursor: 'default',\n                border: paginationCfg.inactiveColor + \" solid\",\n                borderWidth: '2px 2px 0 0',\n                width: paginationCfg.arrowSize + \"px\",\n                height: paginationCfg.arrowSize + \"px\",\n            };\n            domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n            domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n            if (paginationCfg.animation) {\n                // 允许分页的滚动动画\n                domUtil.modifyCSS(itemGroupContainer, {\n                    transition: 'transform .3s ease-in',\n                });\n            }\n            var currentPage_2 = 1;\n            var translateX_1 = 0;\n            prePageButton_2.onclick = function () {\n                if (currentPage_2 === 1) {\n                    return;\n                }\n                currentPage_2 -= 1;\n                translateX_1 += deltaWidth_1;\n                currentPageNum_2.innerHTML = currentPage_2;\n                domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n                domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n                domUtil.modifyCSS(itemGroupContainer, {\n                    transform: \"translateX(\" + translateX_1 + \"px)\",\n                });\n                if (currentPage_2 === 1) {\n                    domUtil.modifyCSS(prePageButton_2, inactiveStyle_2);\n                }\n            };\n            nextPageButton_2.onclick = function () {\n                if (currentPage_2 === pageSize_2) {\n                    return;\n                }\n                currentPage_2 += 1;\n                translateX_1 -= deltaWidth_1;\n                currentPageNum_2.innerHTML = currentPage_2;\n                domUtil.modifyCSS(nextPageButton_2, activeStyle_2);\n                domUtil.modifyCSS(prePageButton_2, activeStyle_2);\n                domUtil.modifyCSS(itemGroupContainer, {\n                    transform: \"translateX(\" + translateX_1 + \"px)\",\n                });\n                if (currentPage_2 === pageSize_2) {\n                    domUtil.modifyCSS(nextPageButton_2, inactiveStyle_2);\n                }\n            };\n        }\n    };\n    return HTMLLegend;\n}(base_1.default));\nexports.default = HTMLLegend;\n//# sourceMappingURL=html.js.map","import { __assign, __extends } from \"tslib\";\nimport { Element } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Guide from '../base';\nvar Annotation = /** @class */ (function (_super) {\n    __extends(Annotation, _super);\n    function Annotation(cfg) {\n        /* istanbul ignore next */\n        return _super.call(this, __assign({ xScales: null, yScales: null, el: null }, cfg)) || this;\n    }\n    Annotation.prototype.clear = function () {\n        var el = this.get('el');\n        if (el) {\n            el.remove();\n        }\n    };\n    Annotation.prototype.changeVisible = function (visible) {\n        this.set('visible', visible);\n        var el = this.get('el');\n        if (el instanceof Element) {\n            el.set('visible', visible);\n        }\n        else if (el instanceof HTMLElement) {\n            el.style.display = visible ? '' : 'none';\n        }\n    };\n    /** 批量修改内部状态 */\n    Annotation.prototype.change = function (cfg) {\n        this.cfg = _.deepMix({}, this.cfg, cfg);\n    };\n    // 修改基类会导致label中大量不严谨的类型写法需要重构\n    Annotation.prototype.get = function (name) {\n        return this.cfg[name];\n    };\n    Annotation.prototype.set = function (name, value) {\n        this.cfg[name] = value;\n        return this;\n    };\n    Annotation.prototype.parsePoint = function (coord, _position) {\n        var xScales = this.get('xScales');\n        var yScales = this.get('yScales');\n        var position = _.isFunction(_position) ? _position.call(null, xScales, yScales) : _position;\n        var x = 0;\n        var y = 0;\n        // 入参是['50%', '50%']时\n        if (_.isArray(position) && _.includes(position[0], '%')) {\n            return this.parsePercentPoint(coord, position);\n        }\n        if (_.isArray(position)) {\n            x = this.getNormalizedValue(position[0], _.head(_.values(xScales)));\n            y = this.getNormalizedValue(position[1], _.head(_.values(yScales)));\n        }\n        else if (!_.isNil(position)) {\n            for (var _i = 0, _a = _.keys(position); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var value = position[key];\n                if (xScales[key]) {\n                    x = this.getNormalizedValue(value, xScales[key]);\n                }\n                if (yScales[key]) {\n                    y = this.getNormalizedValue(value, yScales[key]);\n                }\n            }\n        }\n        return coord.convert({ x: x, y: y });\n    };\n    Annotation.prototype.getNormalizedValue = function (val, scale) {\n        var result;\n        var scaled;\n        switch (val) {\n            case 'start':\n                result = 0;\n                break;\n            case 'end':\n                result = 1;\n                break;\n            case 'median': {\n                scaled = scale.isCategory ? (scale.values.length - 1) / 2 : (scale.min + scale.max) / 2;\n                result = scale.scale(scaled);\n                break;\n            }\n            case 'min':\n            case 'max':\n                if (scale.isCategory) {\n                    scaled = val === 'min' ? 0 : scale.values.length - 1;\n                }\n                else {\n                    scaled = scale[val];\n                }\n                result = scale.scale(scaled);\n                break;\n            default:\n                result = scale.scale(val);\n        }\n        return result;\n    };\n    Annotation.prototype.parsePercentPoint = function (coord, position) {\n        var xPercent = parseFloat(position[0]) / 100;\n        var yPercent = parseFloat(position[1]) / 100;\n        var start = coord.start, end = coord.end;\n        var topLeft = {\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n        };\n        var x = coord.getWidth() * xPercent + topLeft.x;\n        var y = coord.getHeight() * yPercent + topLeft.y;\n        return { x: x, y: y };\n    };\n    return Annotation;\n}(Guide));\nexport default Annotation;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport { FONT_FAMILY } from '../const';\nimport Annotation from './base';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line(cfg) {\n        /* istanbul ignore next */\n        return _super.call(this, _.deepMix({\n            type: 'line',\n            xScales: null,\n            yScales: null,\n            line: {\n                style: {\n                    stroke: '#000',\n                },\n            },\n            text: {\n                display: true,\n                position: 'end',\n                autoRotate: true,\n                style: {\n                    fill: '#999',\n                    fontSize: 12,\n                    fontWeight: 500,\n                    fontFamily: FONT_FAMILY,\n                },\n            },\n        }, cfg)) || this;\n    }\n    Line.prototype.render = function (coord, group) {\n        var _this = this;\n        var start = this.parsePoint(coord, this.get('start'));\n        var end = this.parsePoint(coord, this.get('end'));\n        var guideLineGroup = group.addGroup();\n        this.drawLines(start, end, guideLineGroup);\n        var text = this.get('text');\n        if (text.display && text.content) {\n            this.drawText(start, end, guideLineGroup);\n        }\n        guideLineGroup.get('children').forEach(function (child) {\n            child.name = 'annotation-line';\n            _this.get('appendInfo') && child.setSilent('appendInfo', _this.get('appendInfo'));\n        });\n        this.set('el', guideLineGroup);\n    };\n    Line.prototype.drawLines = function (start, end, group) {\n        var path = [['M', start.x, start.y], ['L', end.x, end.y]];\n        group.addShape('Path', {\n            attrs: _.assign({ path: path }, this.get('line').style),\n        });\n    };\n    Line.prototype.drawText = function (start, end, group) {\n        var textCfg = this.get('text');\n        var position = textCfg.position;\n        var textStyle = textCfg.style || {};\n        var percent = 1;\n        if (position === 'start') {\n            percent = 0;\n        }\n        else if (position === 'center') {\n            percent = 0.5;\n        }\n        else if (!_.isNil(position) && _.includes(position, '%')) {\n            percent = parseInt(position, 10) / 100;\n        }\n        else if (_.isNumber(position) && (position >= 0 && position < 1)) {\n            percent = position;\n        }\n        var cfg = {\n            x: start.x + (end.x - start.x) * percent,\n            y: start.y + (end.y - start.y) * percent,\n            text: textCfg.content,\n        };\n        if (textCfg.offsetX) {\n            // 设置了偏移量\n            cfg.x += textCfg.offsetX;\n        }\n        if (textCfg.offsetY) {\n            // 设置了偏移量\n            cfg.y += textCfg.offsetY;\n        }\n        _.assign(cfg, textStyle);\n        if (textCfg.autoRotate && _.isNil(textStyle.rotate)) {\n            // 自动旋转且用户没有设置旋转角度\n            var angle = vec2.angleTo([end.x - start.x, end.y - start.y], [1, 0], 1);\n            cfg.rotate = angle;\n        }\n        else if (!_.isNil(textStyle.rotate)) {\n            // 用户设置了旋转角度\n            cfg.rotate = (textStyle.rotate * Math.PI) / 180;\n        }\n        group.addShape('Text', {\n            attrs: cfg,\n        });\n    };\n    return Line;\n}(Annotation));\nexport default Line;\n//# sourceMappingURL=line.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Annotation from './base';\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text(cfg) {\n        return _super.call(this, __assign({ type: 'text', position: null, content: null, style: {\n                fill: '#999',\n                fontSize: 12,\n                fontWeight: 500,\n                textAlign: 'center',\n            } }, cfg)) || this;\n    }\n    Text.prototype.render = function (coord, group) {\n        var point = this.parsePoint(coord, this.get('position'));\n        var textStyle = _.clone(this.get('style'));\n        var offsetX = this.get('offsetX');\n        var offsetY = this.get('offsetY');\n        if (offsetX) {\n            point.x += offsetX;\n        }\n        if (offsetY) {\n            point.y += offsetY;\n        }\n        if (textStyle.rotate) {\n            textStyle.rotate = (textStyle.rotate * Math.PI) / 180; // 将角度转换为弧度\n        }\n        var guideText = group.addShape('Text', {\n            zIndex: this.get('zIndex'),\n            attrs: _.assign({\n                text: this.get('content'),\n            }, textStyle, point),\n        });\n        guideText.name = 'annotation-text';\n        if (this.get('appendInfo')) {\n            guideText.setSilent('appendInfo', this.get('appendInfo'));\n        }\n        this.set('el', guideText);\n    };\n    return Text;\n}(Annotation));\nexport default Text;\n//# sourceMappingURL=text.js.map","import { __assign, __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nimport Annotation from './base';\n// 只适用于极坐标系\nvar Arc = /** @class */ (function (_super) {\n    __extends(Arc, _super);\n    function Arc(cfg) {\n        return _super.call(this, __assign({ type: 'arc', start: null, end: null, style: {\n                stroke: '#999',\n                lineWidth: 1,\n            } }, cfg)) || this;\n    }\n    Arc.prototype.render = function (coord, group) {\n        var originStart = this.get('start');\n        var originEnd = this.get('end');\n        var start = this.parsePoint(coord, this.get('start'));\n        var end = this.parsePoint(coord, this.get('end'));\n        var coordCenter = coord.getCenter();\n        var radius = Math.sqrt((start.x - coordCenter.x) * (start.x - coordCenter.x) +\n            (start.y - coordCenter.y) * (start.y - coordCenter.y));\n        var path = [\n            ['M', start.x, start.y],\n        ];\n        // 圆形\n        if (_.isNumberEqual(start.x, end.x) && _.isNumberEqual(start.y, end.y)) {\n            if (_.isEqual(originStart, originEnd)) {\n                // 只有一个点，不进行绘制\n                console.warn('start point is the same as end point!');\n            }\n            else {\n                path = [\n                    ['M', start.x, start.y],\n                    [\n                        'A',\n                        radius,\n                        radius,\n                        0,\n                        1,\n                        1,\n                        2 * coordCenter.x - start.x,\n                        2 * coordCenter.y - start.y,\n                    ],\n                    ['A', radius, radius, 0, 1, 1, start.x, start.y],\n                ];\n            }\n        }\n        else {\n            // 只适用于start和end，yScale值相同，需要判断scale结果\n            // 求向量 center -> start 和 center -> end 的顺时针角度\n            // 即等于求 start -> center 和 end -> center 的逆时针角度\n            var dAngle = vec2.angleTo([coordCenter.x - start.x, coordCenter.y - start.y], [coordCenter.x - end.x, coordCenter.y - end.y], 0);\n            var largeArc = dAngle > Math.PI ? 1 : 0;\n            path = [\n                ['M', start.x, start.y],\n                ['A', radius, radius, 0, largeArc, 1, end.x, end.y],\n            ];\n        }\n        var arcShape = group.addShape('path', {\n            zIndex: this.get('zIndex'),\n            attrs: _.assign({ path: path }, this.get('style')),\n        });\n        arcShape.name = 'annotation-arc'; // 用于事件以及动画识别\n        if (this.get('appendInfo')) {\n            arcShape.setSilent('appendInfo', this.get('appendInfo'));\n        }\n        this.set('el', arcShape);\n    };\n    return Arc;\n}(Annotation));\nexport default Arc;\n//# sourceMappingURL=arc.js.map","import { __assign, __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Annotation from './base';\nvar Region = /** @class */ (function (_super) {\n    __extends(Region, _super);\n    function Region(cfg) {\n        /* istanbul ignore next */\n        return _super.call(this, __assign({ type: 'region', zIndex: 1, start: null, end: null, style: {\n                lineWidth: 0,\n                fill: '#CCD7EB',\n                opacity: 0.4,\n            } }, cfg)) || this;\n    }\n    Region.prototype.render = function (coord, group) {\n        var rectStyle = this.get('style');\n        var path = this.getPath(coord);\n        var regionGroup = group.addShape('path', {\n            zIndex: this.get('zIndex'),\n            attrs: _.assign({\n                path: path,\n            }, rectStyle),\n        });\n        regionGroup.name = 'annotation-region';\n        this.get('appendInfo') &&\n            regionGroup.setSilent('appendInfo', this.get('appendInfo'));\n        this.set('el', regionGroup);\n    };\n    Region.prototype.getPath = function (coord) {\n        var start = this.parsePoint(coord, this.get('start'));\n        var end = this.parsePoint(coord, this.get('end'));\n        return [\n            ['M', start.x, start.y],\n            ['L', end.x, start.y],\n            ['L', end.x, end.y],\n            ['L', start.x, end.y],\n            ['z'],\n        ];\n    };\n    return Region;\n}(Annotation));\nexport default Region;\n//# sourceMappingURL=region.js.map","import { __assign, __extends } from \"tslib\";\nimport Annotation from './base';\nvar Image = /** @class */ (function (_super) {\n    __extends(Image, _super);\n    function Image(cfg) {\n        /* istanbul ignore next */\n        return _super.call(this, __assign({ type: 'image', start: null, end: null, src: '' }, cfg)) || this;\n    }\n    Image.prototype.render = function (coord, group) {\n        var start = this.parsePoint(coord, this.get('start'));\n        var cfg = {\n            x: start.x,\n            y: start.y,\n            img: this.get('src'),\n        };\n        if (!this.get('end')) {\n            cfg.width = this.get('width') || 32;\n            cfg.height = this.get('height') || 32;\n        }\n        else {\n            var end = this.parsePoint(coord, this.get('end'));\n            cfg.width = end.x - start.x;\n            cfg.height = end.y - start.y;\n        }\n        if (this.get('offsetX')) {\n            cfg.x += this.get('offsetX');\n        }\n        if (this.get('offsetY')) {\n            cfg.y += this.get('offsetY');\n        }\n        var imgGuide = group.addShape('Image', {\n            zIndex: 1,\n            attrs: cfg,\n        });\n        imgGuide.name = 'annotation-image';\n        this.get('appendInfo') &&\n            imgGuide.setSilent('appendInfo', this.get('appendInfo'));\n        this.set('el', imgGuide);\n    };\n    return Image;\n}(Annotation));\nexport default Image;\n//# sourceMappingURL=image.js.map","import { __assign, __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport * as _ from '@antv/util';\nimport Annotation from './base';\nvar Html = /** @class */ (function (_super) {\n    __extends(Html, _super);\n    function Html(cfg) {\n        /* istanbul ignore next */\n        return _super.call(this, __assign({ type: 'html', zIndex: 7, position: null, alignX: 'middle', alignY: 'middle', offsetX: null, offsetY: null, html: null }, cfg)) || this;\n    }\n    Html.prototype.render = function (coord, container) {\n        var position = this.parsePoint(coord, this.get('position'));\n        var parentNode = container.get('canvas').get('el').parentNode;\n        var wrapperNode = domUtil.createDom('<div class=\"guide-annotation\"></div>');\n        parentNode.appendChild(wrapperNode);\n        var html = this.get('html');\n        if (_.isFunction(html)) {\n            var xScales = this.get('xScales');\n            var yScales = this.get('yScales');\n            html = html(xScales, yScales);\n        }\n        // 判断 html 是 Html element 还是 html string\n        var htmlNode = _.isElement(html) ? html : domUtil.createDom(html);\n        wrapperNode.appendChild(htmlNode);\n        domUtil.modifyCSS(wrapperNode, {\n            position: 'absolute',\n        });\n        this.setDomPosition(wrapperNode, htmlNode, position);\n        this.set('el', wrapperNode);\n    };\n    Html.prototype.clear = function () {\n        // 由于基类使用了childNode.remove，而IE不支持该方法，需要进行兼容\n        var el = this.get('el');\n        el && el.parentNode && el.parentNode.removeChild(el);\n    };\n    Html.prototype.setDomPosition = function (parentDom, childDom, point) {\n        var alignX = this.get('alignX');\n        var alignY = this.get('alignY');\n        var domWidth = domUtil.getOuterWidth(childDom);\n        var domHeight = domUtil.getOuterHeight(childDom);\n        var position = {\n            x: point.x,\n            y: point.y,\n        };\n        if (alignX === 'middle') {\n            position.x -= Math.round(domWidth / 2);\n        }\n        else if (alignX === 'right') {\n            position.x -= Math.round(domWidth);\n        }\n        if (alignY === 'middle') {\n            position.y -= Math.round(domHeight / 2);\n        }\n        else if (alignY === 'bottom') {\n            position.y -= Math.round(domHeight);\n        }\n        var offsetX = this.get('offsetX');\n        if (offsetX) {\n            position.x += offsetX;\n        }\n        var offsetY = this.get('offsetY');\n        if (offsetY) {\n            position.y += offsetY;\n        }\n        domUtil.modifyCSS(parentDom, {\n            top: Math.round(position.y) + \"px\",\n            left: Math.round(position.x) + \"px\",\n            zIndex: this.get('zIndex'),\n        });\n    };\n    return Html;\n}(Annotation));\nexport default Html;\n//# sourceMappingURL=html.js.map","import { __extends } from \"tslib\";\nimport * as _ from '@antv/util';\nimport Annotation from './base';\nvar DataMarker = /** @class */ (function (_super) {\n    __extends(DataMarker, _super);\n    function DataMarker(cfg) {\n        /* istanbul ignore next */\n        return _super.call(this, _.deepMix({\n            type: 'dataMarker',\n            zIndex: 1,\n            position: null,\n            point: {\n                display: true,\n                style: {\n                    r: 3,\n                    fill: '#ffffff',\n                    stroke: '#1890FF',\n                    lineWidth: 2,\n                },\n            },\n            line: {\n                display: true,\n                lineLength: 20,\n                style: {\n                    stroke: '#A3B1BF',\n                    lineWidth: 1,\n                },\n            },\n            text: {\n                display: true,\n                style: {\n                    fill: '#000000',\n                    opacity: 0.65,\n                    fontSize: 12,\n                    textAlign: 'start',\n                },\n            },\n            direction: 'upward',\n            autoAdjust: true,\n        }, cfg)) || this;\n    }\n    DataMarker.prototype.render = function (coord, group) {\n        var _this = this;\n        var point = this.parsePoint(coord, this.get('position'));\n        // container\n        var markerGroup = group.addGroup();\n        var positions = this.getElementPosition(point);\n        var lineCfg = this.get('line');\n        var pointCfg = this.get('point');\n        var textCfg = this.get('text');\n        var lineShape;\n        var textShape;\n        // add line\n        if (lineCfg.display) {\n            var lineData = positions.line;\n            lineShape = this.drawLine(lineData, markerGroup);\n        }\n        // add text\n        if (textCfg.display && textCfg.content) {\n            var textPosition = positions.text;\n            textShape = this.drawText(textPosition, markerGroup);\n        }\n        // add circle\n        if (pointCfg.display) {\n            var pointPoisition = positions.point;\n            this.drawPoint(pointPoisition, markerGroup);\n        }\n        if (this.get('autoAdjust')) {\n            var bbox = markerGroup.getBBox();\n            var minX = bbox.minX, minY = bbox.minY, maxX = bbox.maxX, maxY = bbox.maxY;\n            var start = coord.start, end = coord.end;\n            if (textShape) {\n                if (minX <= start.x) {\n                    // 左侧超出\n                    textShape.attr('textAlign', 'start');\n                }\n                if (maxX >= end.x) {\n                    // 右侧超出\n                    textShape.attr('textAlign', 'end');\n                }\n                var direction = this.get('direction');\n                if ((direction === 'upward' && minY <= end.y) || (direction !== 'upward' && maxY >= start.y)) {\n                    // 上方或者下方超出\n                    var textBaseline = void 0;\n                    var dir = void 0;\n                    if (direction === 'upward' && minY <= end.y) {\n                        textBaseline = 'top';\n                        dir = 1;\n                    }\n                    else {\n                        textBaseline = 'bottom';\n                        dir = -1;\n                    }\n                    textShape.attr('textBaseline', textBaseline);\n                    var lineLength = 0;\n                    if (lineCfg.display) {\n                        lineLength = lineCfg.lineLength;\n                        var linePath = [['M', point.x, point.y], ['L', point.x, point.y + lineLength * dir]];\n                        lineShape.attr('path', linePath);\n                    }\n                    var newY = point.y + (lineLength + 2) * dir;\n                    textShape.attr('y', newY);\n                }\n            }\n        }\n        // 用于事件以及动画识别\n        markerGroup.get('children').forEach(function (child) {\n            child.name = 'annotation-data-marker';\n            _this.get('appendInfo') && child.setSilent('appendInfo', _this.get('appendInfo'));\n        });\n        this.set('el', markerGroup);\n    };\n    DataMarker.prototype.getElementPosition = function (position) {\n        var x = position.x, y = position.y;\n        var lineLength = this.get('line').display ? this.get('line').lineLength : 0;\n        var direction = this.get('direction');\n        var textStyle = this.get('text').style;\n        textStyle.textBaseline = direction === 'upward' ? 'bottom' : 'top';\n        var dir = direction === 'upward' ? -1 : 1;\n        var pointPoisition = { x: x, y: y };\n        var lineStart = { x: x, y: y };\n        var lineEnd = { x: x, y: lineLength * dir + y };\n        var textPosition = { x: x, y: (lineLength + 2) * dir + y };\n        return {\n            point: pointPoisition,\n            line: [lineStart, lineEnd],\n            text: textPosition,\n        };\n    };\n    DataMarker.prototype.drawLine = function (lineData, g) {\n        var lineStyle = this.get('line').style;\n        var linePath = [['M', lineData[0].x, lineData[0].y], ['L', lineData[1].x, lineData[1].y]];\n        var lineShape = g.addShape('path', {\n            attrs: _.assign({\n                path: linePath,\n            }, lineStyle),\n        });\n        return lineShape;\n    };\n    DataMarker.prototype.drawText = function (position, g) {\n        var textCfg = this.get('text');\n        var textShape = g.addShape('text', {\n            attrs: _.assign({\n                text: textCfg.content,\n            }, textCfg.style, position),\n        });\n        return textShape;\n    };\n    DataMarker.prototype.drawPoint = function (position, g) {\n        var pointStyle = this.get('point').style;\n        var pointShape = g.addShape('circle', {\n            attrs: _.assign({}, pointStyle, position),\n        });\n        return pointShape;\n    };\n    return DataMarker;\n}(Annotation));\nexport default DataMarker;\n//# sourceMappingURL=data-marker.js.map","import { __extends } from \"tslib\";\nimport { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Annotation from './base';\nvar DataRegion = /** @class */ (function (_super) {\n    __extends(DataRegion, _super);\n    function DataRegion(cfg) {\n        /* istanbul ignore next */\n        return _super.call(this, _.deepMix({\n            type: 'dataRegion',\n            start: null,\n            end: null,\n            region: {\n                lineLength: 0,\n                style: {\n                    lineWidth: 0,\n                    fill: '#000000',\n                    opacity: 0.04,\n                },\n            },\n            text: {\n                display: true,\n                content: '',\n                style: {\n                    textAlign: 'center',\n                    textBaseline: 'bottom',\n                    fontSize: 12,\n                    fill: 'rgba(0, 0, 0, .65)',\n                },\n            },\n        }, cfg)) || this;\n    }\n    DataRegion.prototype.render = function (coord, group, data) {\n        var _this = this;\n        var regionCfg = this.get('region');\n        var textCfg = this.get('text');\n        var lineLength = regionCfg.lineLength;\n        var regionData = this.getRegionData(coord, data);\n        if (!regionData.length) {\n            return;\n        }\n        var regionBBox = this.getBBox(regionData);\n        var path = [];\n        path.push(['M', regionData[0].x, regionBBox.minY - lineLength]);\n        for (var i = 0, len = regionData.length; i < len; i++) {\n            var p = ['L', regionData[i].x, regionData[i].y];\n            path.push(p);\n        }\n        path.push(['L', regionData[regionData.length - 1].x, regionBBox.minY - lineLength]);\n        var regionGroup = group.addGroup();\n        regionGroup.addShape('path', {\n            attrs: _.mix({\n                path: path,\n            }, regionCfg.style),\n        });\n        if (textCfg.display && textCfg.content) {\n            regionGroup.addShape('Text', {\n                attrs: _.mix({\n                    x: (regionBBox.minX + regionBBox.maxX) / 2,\n                    y: regionBBox.minY - lineLength,\n                    text: textCfg.content,\n                }, textCfg.style),\n            });\n        }\n        // 用于事件和动画识别\n        regionGroup.get('children').forEach(function (child) {\n            child.name = 'annotation-data-region';\n            _this.get('appendInfo') && child.setSilent('appendInfo', _this.get('appendInfo'));\n        });\n        this.set('el', regionGroup);\n    };\n    DataRegion.prototype.getRegionData = function (coord, data) {\n        var start = this.get('start');\n        var end = this.get('end');\n        var xField = _.head(_.values(this.get('xScales'))).field;\n        var yField = _.head(_.values(this.get('yScales'))).field;\n        var startXValue = _.isArray(start) ? start[0] : start[xField];\n        var endXValue = _.isArray(end) ? end[0] : end[xField];\n        var startIndex;\n        var arr = [];\n        for (var i = 0, len = data.length; i < len; i++) {\n            var item = data[i];\n            // findIndex\n            if (item[xField] === startXValue) {\n                startIndex = i;\n            }\n            if (i >= startIndex) {\n                arr.push(this.parsePoint(coord, [item[xField], item[yField]]));\n            }\n            // findLastIndex\n            if (item[xField] === endXValue) {\n                break;\n            }\n        }\n        return arr;\n    };\n    DataRegion.prototype.getBBox = function (data) {\n        var xs = [];\n        var ys = [];\n        for (var i = 0; i < data.length; i++) {\n            xs.push(data[i].x);\n            ys.push(data[i].y);\n        }\n        var xRange = _.getRange(xs);\n        var yRange = _.getRange(ys);\n        return BBox.fromRange(xRange.min, yRange.min, xRange.max, yRange.max);\n    };\n    return DataRegion;\n}(Annotation));\nexport default DataRegion;\n//# sourceMappingURL=data-region.js.map","var methodCache = {};\n/**\n * 获取计算 ticks 的方法\n * @param key 键值\n * @returns 计算 ticks 的方法\n */\nexport function getTickMethod(key) {\n    return methodCache[key];\n}\n/**\n * 注册计算 ticks 的方法\n * @param key 键值\n * @param method 方法\n */\nexport function registerTickMethod(key, method) {\n    methodCache[key] = method;\n}\n//# sourceMappingURL=register.js.map","import { __extends, __spreadArrays } from \"tslib\";\nimport { indexOf, isNil, isNumber } from '@antv/util';\nimport Base from '../base';\n/**\n * 分类度量\n * @class\n */\nvar Category = /** @class */ (function (_super) {\n    __extends(Category, _super);\n    function Category() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'cat';\n        _this.isCategory = true;\n        return _this;\n    }\n    Category.prototype.translate = function (value) {\n        var index = indexOf(this.values, value);\n        if (index === -1) {\n            return isNumber(value) ? value : NaN;\n        }\n        return index;\n    };\n    Category.prototype.scale = function (value) {\n        var order = this.translate(value);\n        // 分类数据允许 0.5 范围内调整\n        if (order < this.min - 0.5 || order > this.max + 0.5) {\n            return NaN;\n        }\n        var percent = this.calcPercent(order, this.min, this.max);\n        return this.calcValue(percent, this.rangeMin(), this.rangeMax());\n    };\n    Category.prototype.invert = function (scaledValue) {\n        var domainRange = this.max - this.min;\n        var percent = this.calcPercent(scaledValue, this.rangeMin(), this.rangeMax());\n        var idx = Math.round(domainRange * percent) + this.min;\n        if (idx < this.min || idx > this.max) {\n            return NaN;\n        }\n        return this.values[idx];\n    };\n    Category.prototype.getText = function (value) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var v = value;\n        // value为index\n        if (isNumber(value) && !this.values.includes(value)) {\n            v = this.values[v];\n        }\n        return _super.prototype.getText.apply(this, __spreadArrays([v], args));\n    };\n    // 复写属性\n    Category.prototype.initCfg = function () {\n        this.tickMethod = 'cat';\n    };\n    // 设置 min, max\n    Category.prototype.setDomain = function () {\n        // 用户有可能设置 min\n        if (isNil(this.getConfig('min'))) {\n            this.min = 0;\n        }\n        if (isNil(this.getConfig('max'))) {\n            var size = this.values.length;\n            this.max = size > 1 ? size - 1 : size;\n        }\n    };\n    return Category;\n}(Base));\nexport default Category;\n//# sourceMappingURL=base.js.map","/**\n * Parse or format dates\n * @class fecha\n */\nvar fecha = {};\nvar token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigits = '\\\\d\\\\d?';\nvar threeDigits = '\\\\d{3}';\nvar fourDigits = '\\\\d{4}';\nvar word = '[^\\\\s]+';\nvar literal = /\\[([^]*?)\\]/gm;\nvar noop = function () {\n};\n\nfunction regexEscape(str) {\n  return str.replace( /[|\\\\{()[^$+*?.-]/g, '\\\\$&');\n}\n\nfunction shorten(arr, sLen) {\n  var newArr = [];\n  for (var i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nfunction monthUpdate(arrName) {\n  return function (d, v, i18n) {\n    var index = i18n[arrName].indexOf(v.charAt(0).toUpperCase() + v.substr(1).toLowerCase());\n    if (~index) {\n      d.month = index;\n    }\n  };\n}\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n  while (val.length < len) {\n    val = '0' + val;\n  }\n  return val;\n}\n\nvar dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nvar monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\nvar monthNamesShort = shorten(monthNames, 3);\nvar dayNamesShort = shorten(dayNames, 3);\nfecha.i18n = {\n  dayNamesShort: dayNamesShort,\n  dayNames: dayNames,\n  monthNamesShort: monthNamesShort,\n  monthNames: monthNames,\n  amPm: ['am', 'pm'],\n  DoFn: function DoFn(D) {\n    return D + ['th', 'st', 'nd', 'rd'][D % 10 > 3 ? 0 : (D - D % 10 !== 10) * D % 10];\n  }\n};\n\nvar formatFlags = {\n  D: function(dateObj) {\n    return dateObj.getDate();\n  },\n  DD: function(dateObj) {\n    return pad(dateObj.getDate());\n  },\n  Do: function(dateObj, i18n) {\n    return i18n.DoFn(dateObj.getDate());\n  },\n  d: function(dateObj) {\n    return dateObj.getDay();\n  },\n  dd: function(dateObj) {\n    return pad(dateObj.getDay());\n  },\n  ddd: function(dateObj, i18n) {\n    return i18n.dayNamesShort[dateObj.getDay()];\n  },\n  dddd: function(dateObj, i18n) {\n    return i18n.dayNames[dateObj.getDay()];\n  },\n  M: function(dateObj) {\n    return dateObj.getMonth() + 1;\n  },\n  MM: function(dateObj) {\n    return pad(dateObj.getMonth() + 1);\n  },\n  MMM: function(dateObj, i18n) {\n    return i18n.monthNamesShort[dateObj.getMonth()];\n  },\n  MMMM: function(dateObj, i18n) {\n    return i18n.monthNames[dateObj.getMonth()];\n  },\n  YY: function(dateObj) {\n    return pad(String(dateObj.getFullYear()), 4).substr(2);\n  },\n  YYYY: function(dateObj) {\n    return pad(dateObj.getFullYear(), 4);\n  },\n  h: function(dateObj) {\n    return dateObj.getHours() % 12 || 12;\n  },\n  hh: function(dateObj) {\n    return pad(dateObj.getHours() % 12 || 12);\n  },\n  H: function(dateObj) {\n    return dateObj.getHours();\n  },\n  HH: function(dateObj) {\n    return pad(dateObj.getHours());\n  },\n  m: function(dateObj) {\n    return dateObj.getMinutes();\n  },\n  mm: function(dateObj) {\n    return pad(dateObj.getMinutes());\n  },\n  s: function(dateObj) {\n    return dateObj.getSeconds();\n  },\n  ss: function(dateObj) {\n    return pad(dateObj.getSeconds());\n  },\n  S: function(dateObj) {\n    return Math.round(dateObj.getMilliseconds() / 100);\n  },\n  SS: function(dateObj) {\n    return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n  },\n  SSS: function(dateObj) {\n    return pad(dateObj.getMilliseconds(), 3);\n  },\n  a: function(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n  },\n  A: function(dateObj, i18n) {\n    return dateObj.getHours() < 12 ? i18n.amPm[0].toUpperCase() : i18n.amPm[1].toUpperCase();\n  },\n  ZZ: function(dateObj) {\n    var o = dateObj.getTimezoneOffset();\n    return (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4);\n  }\n};\n\nvar parseFlags = {\n  D: [twoDigits, function (d, v) {\n    d.day = v;\n  }],\n  Do: [twoDigits + word, function (d, v) {\n    d.day = parseInt(v, 10);\n  }],\n  M: [twoDigits, function (d, v) {\n    d.month = v - 1;\n  }],\n  YY: [twoDigits, function (d, v) {\n    var da = new Date(), cent = +('' + da.getFullYear()).substr(0, 2);\n    d.year = '' + (v > 68 ? cent - 1 : cent) + v;\n  }],\n  h: [twoDigits, function (d, v) {\n    d.hour = v;\n  }],\n  m: [twoDigits, function (d, v) {\n    d.minute = v;\n  }],\n  s: [twoDigits, function (d, v) {\n    d.second = v;\n  }],\n  YYYY: [fourDigits, function (d, v) {\n    d.year = v;\n  }],\n  S: ['\\\\d', function (d, v) {\n    d.millisecond = v * 100;\n  }],\n  SS: ['\\\\d{2}', function (d, v) {\n    d.millisecond = v * 10;\n  }],\n  SSS: [threeDigits, function (d, v) {\n    d.millisecond = v;\n  }],\n  d: [twoDigits, noop],\n  ddd: [word, noop],\n  MMM: [word, monthUpdate('monthNamesShort')],\n  MMMM: [word, monthUpdate('monthNames')],\n  a: [word, function (d, v, i18n) {\n    var val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      d.isPm = false;\n    } else if (val === i18n.amPm[1]) {\n      d.isPm = true;\n    }\n  }],\n  ZZ: ['[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z', function (d, v) {\n    var parts = (v + '').match(/([+-]|\\d\\d)/gi), minutes;\n\n    if (parts) {\n      minutes = +(parts[1] * 60) + parseInt(parts[2], 10);\n      d.timezoneOffset = parts[0] === '+' ? minutes : -minutes;\n    }\n  }]\n};\nparseFlags.dd = parseFlags.d;\nparseFlags.dddd = parseFlags.ddd;\nparseFlags.DD = parseFlags.D;\nparseFlags.mm = parseFlags.m;\nparseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h;\nparseFlags.MM = parseFlags.M;\nparseFlags.ss = parseFlags.s;\nparseFlags.A = parseFlags.a;\n\n\n// Some common format strings\nfecha.masks = {\n  default: 'ddd MMM DD YYYY HH:mm:ss',\n  shortDate: 'M/D/YY',\n  mediumDate: 'MMM D, YYYY',\n  longDate: 'MMMM D, YYYY',\n  fullDate: 'dddd, MMMM D, YYYY',\n  shortTime: 'HH:mm',\n  mediumTime: 'HH:mm:ss',\n  longTime: 'HH:mm:ss.SSS'\n};\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n */\nfecha.format = function (dateObj, mask, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof dateObj === 'number') {\n    dateObj = new Date(dateObj);\n  }\n\n  if (Object.prototype.toString.call(dateObj) !== '[object Date]' || isNaN(dateObj.getTime())) {\n    throw new Error('Invalid Date in fecha.format');\n  }\n\n  mask = fecha.masks[mask] || mask || fecha.masks['default'];\n\n  var literals = [];\n\n  // Make literals inactive by replacing them with ??\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return '@@@';\n  });\n  // Apply formatting rules\n  mask = mask.replace(token, function ($0) {\n    return $0 in formatFlags ? formatFlags[$0](dateObj, i18n) : $0.slice(1, $0.length - 1);\n  });\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, function() {\n    return literals.shift();\n  });\n};\n\n/**\n * Parse a date string into an object, changes - into /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @returns {Date|boolean}\n */\nfecha.parse = function (dateStr, format, i18nSettings) {\n  var i18n = i18nSettings || fecha.i18n;\n\n  if (typeof format !== 'string') {\n    throw new Error('Invalid format in fecha.parse');\n  }\n\n  format = fecha.masks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  var dateInfo = {};\n  var parseInfo = [];\n  var literals = [];\n  format = format.replace(literal, function($0, $1) {\n    literals.push($1);\n    return '@@@';\n  });\n  var newFormat = regexEscape(format).replace(token, function ($0) {\n    if (parseFlags[$0]) {\n      var info = parseFlags[$0];\n      parseInfo.push(info[1]);\n      return '(' + info[0] + ')';\n    }\n\n    return $0;\n  });\n  newFormat = newFormat.replace(/@@@/g, function() {\n    return literals.shift();\n  });\n  var matches = dateStr.match(new RegExp(newFormat, 'i'));\n  if (!matches) {\n    return null;\n  }\n\n  for (var i = 1; i < matches.length; i++) {\n    parseInfo[i - 1](dateInfo, matches[i], i18n);\n  }\n\n  var today = new Date();\n  if (dateInfo.isPm === true && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === false && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  var date;\n  if (dateInfo.timezoneOffset != null) {\n    dateInfo.minute = +(dateInfo.minute || 0) - +dateInfo.timezoneOffset;\n    date = new Date(Date.UTC(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1,\n      dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0));\n  } else {\n    date = new Date(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1,\n      dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0);\n  }\n  return date;\n};\n\nexport default fecha;\n","import { isDate, isString, last } from '@antv/util';\nimport fecha from 'fecha';\nimport * as fecha1 from 'fecha';\nimport bisector from './bisector';\nvar FORMAT_METHOD = 'format';\nexport function timeFormat(time, mask) {\n    var method = fecha1[FORMAT_METHOD] || fecha[FORMAT_METHOD];\n    return method(time, mask);\n}\n/**\n * 转换成时间戳\n * @param value 时间值\n */\nexport function toTimeStamp(value) {\n    if (isString(value)) {\n        if (value.indexOf('T') > 0) {\n            value = new Date(value).getTime();\n        }\n        else {\n            // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n            // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n            // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n            value = new Date(value.replace(/-/gi, '/')).getTime();\n        }\n    }\n    if (isDate(value)) {\n        value = value.getTime();\n    }\n    return value;\n}\nvar SECOND = 1000;\nvar MINUTE = 60 * SECOND;\nvar HOUR = 60 * MINUTE;\nvar DAY = 24 * HOUR;\nvar MONTH = DAY * 31;\nvar YEAR = DAY * 365;\nexport { SECOND, MINUTE, HOUR, DAY, MONTH, YEAR };\nvar intervals = [\n    ['HH:mm:ss', SECOND],\n    ['HH:mm:ss', SECOND * 10],\n    ['HH:mm:ss', SECOND * 30],\n    ['HH:mm', MINUTE],\n    ['HH:mm', MINUTE * 10],\n    ['HH:mm', MINUTE * 30],\n    ['HH', HOUR],\n    ['HH', HOUR * 6],\n    ['HH', HOUR * 12],\n    ['YYYY-MM-DD', DAY],\n    ['YYYY-MM-DD', DAY * 4],\n    ['YYYY-WW', DAY * 7],\n    ['YYYY-MM', MONTH],\n    ['YYYY-MM', MONTH * 4],\n    ['YYYY-MM', MONTH * 6],\n    ['YYYY', DAY * 380],\n];\nexport function getTickInterval(min, max, tickCount) {\n    var target = (max - min) / tickCount;\n    var idx = bisector(function (o) { return o[1]; })(intervals, target) - 1;\n    var interval = intervals[idx];\n    if (idx < 0) {\n        interval = intervals[0];\n    }\n    else if (idx >= intervals.length) {\n        interval = last(intervals);\n    }\n    return interval;\n}\n//# sourceMappingURL=time.js.map","import { isNil } from '@antv/util';\n/**\n * 二分右侧查找\n * https://github.com/d3/d3-array/blob/master/src/bisector.js\n */\nexport default function (getter) {\n    /**\n     * x: 目标值\n     * lo: 起始位置\n     * hi: 结束位置\n     */\n    return function (a, x, _lo, _hi) {\n        var lo = isNil(_lo) ? 0 : _lo;\n        var hi = isNil(_hi) ? a.length : _hi;\n        while (lo < hi) {\n            var mid = (lo + hi) >>> 1;\n            if (getter(a[mid]) > x) {\n                hi = mid;\n            }\n            else {\n                lo = mid + 1;\n            }\n        }\n        return lo;\n    };\n}\n//# sourceMappingURL=bisector.js.map","import { __extends } from \"tslib\";\nimport { each, isNumber } from '@antv/util';\nimport { timeFormat, toTimeStamp } from '../util/time';\nimport Category from './base';\n/**\n * 时间分类度量\n * @class\n */\nvar TimeCat = /** @class */ (function (_super) {\n    __extends(TimeCat, _super);\n    function TimeCat() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * @override\n     */\n    TimeCat.prototype.translate = function (value) {\n        value = toTimeStamp(value);\n        var index = this.values.indexOf(value);\n        if (index === -1) {\n            if (isNumber(value) && value < this.values.length) {\n                index = value;\n            }\n            else {\n                index = NaN;\n            }\n        }\n        return index;\n    };\n    /**\n     * 由于时间类型数据需要转换一下，所以复写 getText\n     * @override\n     */\n    TimeCat.prototype.getText = function (value, tickIndex) {\n        var index = this.translate(value);\n        if (index > -1) {\n            var result = this.values[index];\n            var formatter = this.formatter;\n            result = formatter ? formatter(result, tickIndex) : timeFormat(result, this.mask);\n            return result;\n        }\n        return value;\n    };\n    TimeCat.prototype.initCfg = function () {\n        this.tickMethod = 'time-cat';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7; // 一般时间数据会显示 7， 14， 30 天的数字\n    };\n    TimeCat.prototype.setDomain = function () {\n        var values = this.values;\n        // 针对时间分类类型，会将时间统一转换为时间戳\n        each(values, function (v, i) {\n            values[i] = toTimeStamp(v);\n        });\n        values.sort(function (v1, v2) {\n            return v1 - v2;\n        });\n        _super.prototype.setDomain.call(this);\n    };\n    return TimeCat;\n}(Category));\nexport default TimeCat;\n//# sourceMappingURL=time.js.map","import { __extends } from \"tslib\";\nimport { filter, getRange, head, isNil, last } from '@antv/util';\nimport Base from '../base';\n/**\n * 连续度量的基类\n * @class\n */\nvar Continuous = /** @class */ (function (_super) {\n    __extends(Continuous, _super);\n    function Continuous() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isContinuous = true;\n        return _this;\n    }\n    Continuous.prototype.scale = function (value) {\n        if (isNil(value)) {\n            return NaN;\n        }\n        var rangeMin = this.rangeMin();\n        var rangeMax = this.rangeMax();\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return rangeMin;\n        }\n        var percent = this.getScalePercent(value);\n        return rangeMin + percent * (rangeMax - rangeMin);\n    };\n    Continuous.prototype.init = function () {\n        _super.prototype.init.call(this);\n        // init 完成后保证 min, max 包含 ticks 的范围\n        var ticks = this.ticks;\n        var firstTick = head(ticks);\n        var lastTick = last(ticks);\n        if (firstTick < this.min) {\n            this.min = firstTick;\n        }\n        if (lastTick > this.max) {\n            this.max = lastTick;\n        }\n    };\n    Continuous.prototype.setDomain = function () {\n        var _a = getRange(this.values), min = _a.min, max = _a.max;\n        if (isNil(this.min)) {\n            this.min = min;\n        }\n        if (isNil(this.max)) {\n            this.max = max;\n        }\n        if (this.min > this.max) {\n            this.min = min;\n            this.max = max;\n        }\n    };\n    Continuous.prototype.calculateTicks = function () {\n        var _this = this;\n        var ticks = _super.prototype.calculateTicks.call(this);\n        if (!this.nice) {\n            ticks = filter(ticks, function (tick) {\n                return tick >= _this.min && tick <= _this.max;\n            });\n        }\n        return ticks;\n    };\n    // 计算原始值值占的百分比\n    Continuous.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        return (value - min) / (max - min);\n    };\n    Continuous.prototype.getInvertPercent = function (value) {\n        return (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n    };\n    return Continuous;\n}(Base));\nexport default Continuous;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport Continuous from './base';\n/**\n * 线性度量\n * @class\n */\nvar Linear = /** @class */ (function (_super) {\n    __extends(Linear, _super);\n    function Linear() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'linear';\n        _this.isLinear = true;\n        return _this;\n    }\n    Linear.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        return this.min + percent * (this.max - this.min);\n    };\n    Linear.prototype.initCfg = function () {\n        this.tickMethod = 'wilkinson-extended';\n        this.nice = false;\n    };\n    return Linear;\n}(Continuous));\nexport default Linear;\n//# sourceMappingURL=linear.js.map","import { each, isNil } from '@antv/util';\n// 求以a为次幂，结果为b的基数，如 x^^a = b;求x\n// 虽然数学上 b 不支持负数，但是这里需要支持 负数\nexport function calBase(a, b) {\n    var e = Math.E;\n    var value;\n    if (b >= 0) {\n        value = Math.pow(e, Math.log(b) / a); // 使用换底公式求底\n    }\n    else {\n        value = Math.pow(e, Math.log(-b) / a) * -1; // 使用换底公式求底\n    }\n    return value;\n}\nexport function log(a, b) {\n    if (a === 1) {\n        return 1;\n    }\n    return Math.log(b) / Math.log(a);\n}\nexport function getLogPositiveMin(values, base, max) {\n    if (isNil(max)) {\n        max = Math.max.apply(null, values);\n    }\n    var positiveMin = max;\n    each(values, function (value) {\n        if (value > 0 && value < positiveMin) {\n            positiveMin = value;\n        }\n    });\n    if (positiveMin === max) {\n        positiveMin = max / base;\n    }\n    if (positiveMin > 1) {\n        positiveMin = 1;\n    }\n    return positiveMin;\n}\n//# sourceMappingURL=math.js.map","import { __extends } from \"tslib\";\nimport { getLogPositiveMin, log } from '../util/math';\nimport Continuous from './base';\n/**\n * Log 度量，处理非均匀分布\n */\nvar Log = /** @class */ (function (_super) {\n    __extends(Log, _super);\n    function Log() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'log';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Log.prototype.invert = function (value) {\n        var base = this.base;\n        var max = log(base, this.max);\n        var rangeMin = this.rangeMin();\n        var range = this.rangeMax() - rangeMin;\n        var min;\n        var positiveMin = this.positiveMin;\n        if (positiveMin) {\n            if (value === 0) {\n                return 0;\n            }\n            min = log(base, positiveMin / base);\n            var appendPercent = (1 / (max - min)) * range; // 0 到 positiveMin的占比\n            if (value < appendPercent) {\n                // 落到 0 - positiveMin 之间\n                return (value / appendPercent) * positiveMin;\n            }\n        }\n        else {\n            min = log(base, this.min);\n        }\n        var percent = (value - rangeMin) / range;\n        var tmp = percent * (max - min) + min;\n        return Math.pow(base, tmp);\n    };\n    Log.prototype.initCfg = function () {\n        this.tickMethod = 'log';\n        this.base = 10;\n        this.tickCount = 6;\n        this.nice = true;\n    };\n    // 设置\n    Log.prototype.setDomain = function () {\n        _super.prototype.setDomain.call(this);\n        var min = this.min;\n        if (min < 0) {\n            throw new Error('When you use log scale, the minimum value must be greater than zero!');\n        }\n        if (min === 0) {\n            this.positiveMin = getLogPositiveMin(this.values, this.base, this.max);\n        }\n    };\n    // 根据当前值获取占比\n    Log.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return 0;\n        }\n        // 如果值小于等于0，则按照0处理\n        if (value <= 0) {\n            return 0;\n        }\n        var base = this.base;\n        var positiveMin = this.positiveMin;\n        // 如果min == 0, 则根据比0大的最小值，计算比例关系。这个最小值作为坐标轴上的第二个tick，第一个是0但是不显示\n        if (positiveMin) {\n            min = (positiveMin * 1) / base;\n        }\n        var percent;\n        // 如果数值小于次小值，那么就计算 value / 次小值 占整体的比例\n        if (value < positiveMin) {\n            percent = value / positiveMin / (log(base, max) - log(base, min));\n        }\n        else {\n            percent = (log(base, value) - log(base, min)) / (log(base, max) - log(base, min));\n        }\n        return percent;\n    };\n    return Log;\n}(Continuous));\nexport default Log;\n//# sourceMappingURL=log.js.map","import { __extends } from \"tslib\";\nimport { calBase } from '../util/math';\nimport Continuous from './base';\n/**\n * Pow 度量，处理非均匀分布\n */\nvar Pow = /** @class */ (function (_super) {\n    __extends(Pow, _super);\n    function Pow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'pow';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Pow.prototype.invert = function (value) {\n        var percent = this.getInvertPercent(value);\n        var exponent = this.exponent;\n        var max = calBase(exponent, this.max);\n        var min = calBase(exponent, this.min);\n        var tmp = percent * (max - min) + min;\n        var factor = tmp >= 0 ? 1 : -1;\n        return Math.pow(tmp, exponent) * factor;\n    };\n    Pow.prototype.initCfg = function () {\n        this.tickMethod = 'pow';\n        this.exponent = 2;\n        this.tickCount = 5;\n        this.nice = true;\n    };\n    // 获取度量计算时，value占的定义域百分比\n    Pow.prototype.getScalePercent = function (value) {\n        var max = this.max;\n        var min = this.min;\n        if (max === min) {\n            return 0;\n        }\n        var exponent = this.exponent;\n        var percent = (calBase(exponent, value) - calBase(exponent, min)) / (calBase(exponent, max) - calBase(exponent, min));\n        return percent;\n    };\n    return Pow;\n}(Continuous));\nexport default Pow;\n//# sourceMappingURL=pow.js.map","import { __extends } from \"tslib\";\nimport { each, isDate, isNil, isNumber, isString } from '@antv/util';\nimport { timeFormat, toTimeStamp } from '../util/time';\nimport Linear from './linear';\n/**\n * 时间度量\n * @class\n */\nvar Time = /** @class */ (function (_super) {\n    __extends(Time, _super);\n    function Time() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'time';\n        return _this;\n    }\n    /**\n     * @override\n     */\n    Time.prototype.getText = function (value, index) {\n        var numberValue = this.translate(value);\n        var formatter = this.formatter;\n        return formatter ? formatter(numberValue, index) : timeFormat(numberValue, this.mask);\n    };\n    /**\n     * @override\n     */\n    Time.prototype.scale = function (value) {\n        var v = value;\n        if (isString(v) || isDate(v)) {\n            v = this.translate(v);\n        }\n        return _super.prototype.scale.call(this, v);\n    };\n    /**\n     * 将时间转换成数字\n     * @override\n     */\n    Time.prototype.translate = function (v) {\n        return toTimeStamp(v);\n    };\n    Time.prototype.initCfg = function () {\n        this.tickMethod = 'time-pretty';\n        this.mask = 'YYYY-MM-DD';\n        this.tickCount = 7;\n        this.nice = false;\n    };\n    Time.prototype.setDomain = function () {\n        var values = this.values;\n        // 是否设置了 min, max，而不是直接取 this.min, this.max\n        var minConfig = this.getConfig('min');\n        var maxConfig = this.getConfig('max');\n        // 如果设置了 min,max 则转换成时间戳\n        if (!isNil(minConfig) || !isNumber(minConfig)) {\n            this.min = this.translate(this.min);\n        }\n        if (!isNil(maxConfig) || !isNumber(maxConfig)) {\n            this.max = this.translate(this.max);\n        }\n        // 没有设置 min, max 时\n        if (values && values.length) {\n            // 重新计算最大最小值\n            var timeStamps_1 = [];\n            var min_1 = Infinity; // 最小值\n            var secondMin_1 = min_1; // 次小值\n            var max_1 = 0;\n            // 使用一个循环，计算min,max,secondMin\n            each(values, function (v) {\n                var timeStamp = toTimeStamp(v);\n                if (isNaN(timeStamp)) {\n                    throw new TypeError(\"Invalid Time: \" + v + \" in time scale!\");\n                }\n                if (min_1 > timeStamp) {\n                    secondMin_1 = min_1;\n                    min_1 = timeStamp;\n                }\n                else if (secondMin_1 > timeStamp) {\n                    secondMin_1 = timeStamp;\n                }\n                if (max_1 < timeStamp) {\n                    max_1 = timeStamp;\n                }\n                timeStamps_1.push(timeStamp);\n            });\n            // 存在多个值时，设置最小间距\n            if (values.length > 1) {\n                this.minTickInterval = secondMin_1 - min_1;\n            }\n            if (isNil(minConfig)) {\n                this.min = min_1;\n            }\n            if (isNil(maxConfig)) {\n                this.max = max_1;\n            }\n        }\n    };\n    return Time;\n}(Linear));\nexport default Time;\n//# sourceMappingURL=time.js.map","import { __extends } from \"tslib\";\nimport { each, head, last } from '@antv/util';\nimport Continuous from './base';\n/**\n * 分段度量\n */\nvar Quantize = /** @class */ (function (_super) {\n    __extends(Quantize, _super);\n    function Quantize() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'quantize';\n        return _this;\n    }\n    Quantize.prototype.invert = function (value) {\n        var ticks = this.ticks;\n        var length = ticks.length;\n        var percent = this.getInvertPercent(value);\n        var minIndex = Math.floor(percent * (length - 1));\n        // 最后一个\n        if (minIndex >= length - 1) {\n            return last(ticks);\n        }\n        // 超出左边界， 则取第一个\n        if (minIndex < 0) {\n            return head(ticks);\n        }\n        var minTick = ticks[minIndex];\n        var nextTick = ticks[minIndex + 1];\n        // 比当前值小的 tick 在度量上的占比\n        var minIndexPercent = minIndex / (length - 1);\n        var maxIndexPercent = (minIndex + 1) / (length - 1);\n        return minTick + (percent - minIndexPercent) / (maxIndexPercent - minIndexPercent) * (nextTick - minTick);\n    };\n    Quantize.prototype.initCfg = function () {\n        this.tickMethod = 'r-pretty';\n        this.tickCount = 5;\n        this.nice = true;\n    };\n    Quantize.prototype.calculateTicks = function () {\n        var ticks = _super.prototype.calculateTicks.call(this);\n        if (!this.nice) { // 如果 nice = false ,补充 min, max\n            if (last(ticks) !== this.max) {\n                ticks.push(this.max);\n            }\n            if (head(ticks) !== this.min) {\n                ticks.unshift(this.min);\n            }\n        }\n        return ticks;\n    };\n    // 计算当前值在刻度中的占比\n    Quantize.prototype.getScalePercent = function (value) {\n        var ticks = this.ticks;\n        // 超出左边界\n        if (value < head(ticks)) {\n            return 0;\n        }\n        // 超出右边界\n        if (value > last(ticks)) {\n            return 1;\n        }\n        var minIndex = 0;\n        each(ticks, function (tick, index) {\n            if (value >= tick) {\n                minIndex = index;\n            }\n            else {\n                return false;\n            }\n        });\n        return minIndex / (ticks.length - 1);\n    };\n    return Quantize;\n}(Continuous));\nexport default Quantize;\n//# sourceMappingURL=quantize.js.map","import { __extends } from \"tslib\";\nimport Quantize from './quantize';\nvar Quantile = /** @class */ (function (_super) {\n    __extends(Quantile, _super);\n    function Quantile() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'quantile';\n        return _this;\n    }\n    Quantile.prototype.initCfg = function () {\n        this.tickMethod = 'quantile';\n        this.tickCount = 5;\n        this.nice = true;\n    };\n    return Quantile;\n}(Quantize));\nexport default Quantile;\n//# sourceMappingURL=quantile.js.map","import { __extends } from \"tslib\";\nimport { isNumber } from '@antv/util';\nimport Base from '../base';\n/**\n * identity scale原则上是定义域和值域一致，scale/invert方法也是一致的\n * 参考R的实现：https://github.com/r-lib/scales/blob/master/R/pal-identity.r\n * 参考d3的实现（做了下转型）：https://github.com/d3/d3-scale/blob/master/src/identity.js\n */\nvar Identity = /** @class */ (function (_super) {\n    __extends(Identity, _super);\n    function Identity() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'identity';\n        _this.isIdentity = true;\n        return _this;\n    }\n    Identity.prototype.calculateTicks = function () {\n        return this.values;\n    };\n    Identity.prototype.scale = function (value) {\n        // 如果传入的值不等于 identity 的值，则直接返回，用于一维图时的 dodge\n        if (this.values[0] !== value && isNumber(value)) {\n            return value;\n        }\n        return this.range[0];\n    };\n    Identity.prototype.invert = function (value) {\n        var range = this.range;\n        if (value < range[0] || value > range[1]) {\n            return NaN;\n        }\n        return this.values[0];\n    };\n    return Identity;\n}(Base));\nexport default Identity;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _ = require(\"@antv/util\");\nexports.DEFAULT_Q = [1, 5, 2, 2.5, 4, 3];\nexports.ALL_Q = [1, 5, 2, 2.5, 4, 3, 1.5, 7, 6, 8, 9];\nvar eps = Number.EPSILON * 100;\n// https://stackoverflow.com/questions/4467539/javascript-modulo-gives-a-negative-result-for-negative-numbers\nfunction mod(n, m) {\n    return ((n % m) + m) % m;\n}\nfunction simplicity(q, Q, j, lmin, lmax, lstep) {\n    var n = _.size(Q);\n    var i = _.indexOf(Q, q);\n    var v = 0;\n    var m = mod(lmin, lstep);\n    if ((m < eps || lstep - m < eps) && lmin <= 0 && lmax >= 0) {\n        v = 1;\n    }\n    return 1 - i / (n - 1) - j + v;\n}\nfunction simplicityMax(q, Q, j) {\n    var n = _.size(Q);\n    var i = _.indexOf(Q, q);\n    var v = 1;\n    return 1 - i / (n - 1) - j + v;\n}\nfunction density(k, m, dmin, dmax, lmin, lmax) {\n    var r = (k - 1) / (lmax - lmin);\n    var rt = (m - 1) / (Math.max(lmax, dmax) - Math.min(dmin, lmin));\n    return 2 - Math.max(r / rt, rt / r);\n}\nfunction densityMax(k, m) {\n    if (k >= m) {\n        return 2 - (k - 1) / (m - 1);\n    }\n    return 1;\n}\nfunction coverage(dmin, dmax, lmin, lmax) {\n    var range = dmax - dmin;\n    return 1 - (0.5 * (Math.pow(dmax - lmax, 2) + Math.pow(dmin - lmin, 2))) / Math.pow(0.1 * range, 2);\n}\nfunction coverageMax(dmin, dmax, span) {\n    var range = dmax - dmin;\n    if (span > range) {\n        var half = (span - range) / 2;\n        return 1 - Math.pow(half, 2) / Math.pow(0.1 * range, 2);\n    }\n    return 1;\n}\nfunction legibility() {\n    return 1;\n}\n/**\n * An Extension of Wilkinson's Algorithm for Position Tick Labels on Axes\n * https://www.yuque.com/preview/yuque/0/2019/pdf/185317/1546999150858-45c3b9c2-4e86-4223-bf1a-8a732e8195ed.pdf\n * @param dmin 最小值\n * @param dmax 最大值\n * @param m tick个数\n * @param onlyLoose 是否允许扩展min、max，不绝对强制，例如[3, 97]\n * @param Q nice numbers集合\n * @param w 四个优化组件的权重\n */\nfunction extended(dmin, dmax, m, onlyLoose, Q, w) {\n    if (m === void 0) { m = 5; }\n    if (onlyLoose === void 0) { onlyLoose = true; }\n    if (Q === void 0) { Q = exports.DEFAULT_Q; }\n    if (w === void 0) { w = [0.25, 0.2, 0.5, 0.05]; }\n    if (dmin === dmax || m === 1) {\n        return {\n            min: dmin,\n            max: dmax,\n            ticks: [dmin],\n        };\n    }\n    var best = {\n        score: -2,\n        lmin: 0,\n        lmax: 0,\n        lstep: 0,\n    };\n    var j = 1;\n    while (j < Infinity) {\n        for (var _i = 0, Q_1 = Q; _i < Q_1.length; _i++) {\n            var q = Q_1[_i];\n            var sm = simplicityMax(q, Q, j);\n            if (Number.isNaN(sm)) {\n                throw new Error('NaN');\n            }\n            if (w[0] * sm + w[1] + w[2] + w[3] < best.score) {\n                j = Infinity;\n                break;\n            }\n            var k = 2;\n            while (k < Infinity) {\n                var dm = densityMax(k, m);\n                if (w[0] * sm + w[1] + w[2] * dm + w[3] < best.score) {\n                    break;\n                }\n                var delta = (dmax - dmin) / (k + 1) / j / q;\n                var z = Math.ceil(Math.log10(delta));\n                while (z < Infinity) {\n                    var step = j * q * Math.pow(10, z);\n                    var cm = coverageMax(dmin, dmax, step * (k - 1));\n                    if (w[0] * sm + w[1] * cm + w[2] * dm + w[3] < best.score) {\n                        break;\n                    }\n                    var minStart = Math.floor(dmax / step) * j - (k - 1) * j;\n                    var maxStart = Math.ceil(dmin / step) * j;\n                    if (minStart > maxStart) {\n                        z = z + 1;\n                        continue;\n                    }\n                    for (var start = minStart; start <= maxStart; start = start + 1) {\n                        var lmin = start * (step / j);\n                        var lmax = lmin + step * (k - 1);\n                        var lstep = step;\n                        var s = simplicity(q, Q, j, lmin, lmax, lstep);\n                        var c = coverage(dmin, dmax, lmin, lmax);\n                        var g = density(k, m, dmin, dmax, lmin, lmax);\n                        var l = legibility();\n                        var score = w[0] * s + w[1] * c + w[2] * g + w[3] * l;\n                        if (score > best.score && (!onlyLoose || (lmin <= dmin && lmax >= dmax))) {\n                            best.lmin = lmin;\n                            best.lmax = lmax;\n                            best.lstep = lstep;\n                            best.score = score;\n                        }\n                    }\n                    z = z + 1;\n                }\n                k = k + 1;\n            }\n        }\n        j = j + 1;\n    }\n    // 步长为浮点数时处理精度\n    var toFixed = Number.isInteger(best.lstep) ? 0 : Math.ceil(Math.abs(Math.log10(best.lstep)));\n    var range = [];\n    for (var tick = best.lmin; tick <= best.lmax; tick += best.lstep) {\n        range.push(tick);\n    }\n    var ticks = toFixed ? _.map(range, function (x) { return Number.parseFloat(x.toFixed(toFixed)); }) : range;\n    return {\n        min: Math.min(dmin, _.head(ticks)),\n        max: Math.max(dmax, _.last(ticks)),\n        ticks: ticks,\n    };\n}\nexports.default = extended;\n//# sourceMappingURL=extended.js.map","import { filter, isNil, isNumber } from '@antv/util';\nimport extended from '../util/extended';\n/**\n * 计算分类 ticks\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function calculateCatTicks(cfg) {\n    var values = cfg.values, tickInterval = cfg.tickInterval, tickCount = cfg.tickCount;\n    var ticks = values;\n    if (isNumber(tickInterval)) {\n        return filter(ticks, function (__, i) { return i % tickInterval === 0; });\n    }\n    var min = cfg.min, max = cfg.max;\n    if (isNil(min)) {\n        min = 0;\n    }\n    if (isNil(max)) {\n        max = values.length - 1;\n    }\n    if (isNumber(tickCount) && tickCount < max - min) {\n        // 简单过滤，部分情况下小数的倍数也可以是整数\n        // tslint:disable-next-line: no-shadowed-variable\n        var ticks_1 = extended(min, max, tickCount, false, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;\n        var valid = filter(ticks_1, function (tick) { return tick >= min && tick <= max; });\n        return valid.map(function (index) { return values[index]; });\n    }\n    return values.slice(min, max + 1);\n}\n//# sourceMappingURL=cat.js.map","import { fixedBase } from '@antv/util';\nfunction snapMultiple(v, base, snapType) {\n    var div;\n    if (snapType === 'ceil') {\n        div = Math.ceil(v / base);\n    }\n    else if (snapType === 'floor') {\n        div = Math.floor(v / base);\n    }\n    else {\n        div = Math.round(v / base);\n    }\n    return div * base;\n}\nexport default function intervalTicks(min, max, interval) {\n    // 变成 interval 的倍数\n    var minTick = snapMultiple(min, interval, 'floor');\n    var maxTick = snapMultiple(max, interval, 'ceil');\n    // 统一小数位数\n    minTick = fixedBase(minTick, interval);\n    maxTick = fixedBase(maxTick, interval);\n    var ticks = [];\n    for (var i = minTick; i <= maxTick; i = i + interval) {\n        var tickValue = fixedBase(i, interval); // 防止浮点数加法出现问题\n        ticks.push(tickValue);\n    }\n    return {\n        min: minTick,\n        max: maxTick,\n        ticks: ticks\n    };\n}\n//# sourceMappingURL=interval.js.map","export default function pretty(min, max, n) {\n    if (n === void 0) { n = 5; }\n    var res = {\n        max: 0,\n        min: 0,\n        ticks: [],\n    };\n    /*\n      R pretty:\n      https://svn.r-project.org/R/trunk/src/appl/pretty.c\n      https://www.rdocumentation.org/packages/base/versions/3.5.2/topics/pretty\n      */\n    var h = 1.5; // high.u.bias\n    var h5 = 0.5 + 1.5 * h; // u5.bias\n    // 反正我也不会调参，跳过所有判断步骤\n    var d = max - min;\n    var c = d / n;\n    // 当d非常小的时候触发，但似乎没什么用\n    // const min_n = Math.floor(n / 3);\n    // const shrink_sml = Math.pow(2, 5);\n    // if (Math.log10(d) < -2) {\n    //   c = (_.max([ Math.abs(max), Math.abs(min) ]) * shrink_sml) / min_n;\n    // }\n    var base = Math.pow(10, Math.floor(Math.log10(c)));\n    var toFixed = base < 1 ? Math.ceil(Math.abs(Math.log10(base))) : 0;\n    var unit = base;\n    if (2 * base - c < h * (c - unit)) {\n        unit = 2 * base;\n        if (5 * base - c < h5 * (c - unit)) {\n            unit = 5 * base;\n            if (10 * base - c < h * (c - unit)) {\n                unit = 10 * base;\n            }\n        }\n    }\n    var nu = Math.ceil(max / unit);\n    var ns = Math.floor(min / unit);\n    res.max = Math.max(nu * unit, max);\n    res.min = Math.min(ns * unit, min);\n    var x = Number.parseFloat((ns * unit).toFixed(toFixed));\n    while (x < max) {\n        res.ticks.push(x);\n        x += unit;\n        if (toFixed) {\n            x = Number.parseFloat(x.toFixed(toFixed));\n        }\n    }\n    res.ticks.push(x);\n    return res;\n}\n//# sourceMappingURL=pretty.js.map","/**\n * 计算几分位 https://github.com/simple-statistics/simple-statistics/blob/master/src/quantile_sorted.js\n * @param x  数组\n * @param p  百分比\n */\nfunction quantileSorted(x, p) {\n    var idx = x.length * p;\n    /*if (x.length === 0) { // 当前场景这些条件不可能命中\n      throw new Error('quantile requires at least one value.');\n    } else if (p < 0 || p > 1) {\n      throw new Error('quantiles must be between 0 and 1');\n    } else */\n    if (p === 1) {\n        // If p is 1, directly return the last element\n        return x[x.length - 1];\n    }\n    else if (p === 0) {\n        // If p is 0, directly return the first element\n        return x[0];\n    }\n    else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return x[Math.ceil(idx) - 1];\n    }\n    else if (x.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (x[idx - 1] + x[idx]) / 2;\n    }\n    else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the x value at the index.\n        return x[idx];\n    }\n}\nexport default function calculateTicks(cfg) {\n    var tickCount = cfg.tickCount, values = cfg.values;\n    if (!values || !values.length) {\n        return [];\n    }\n    var sorted = values.slice().sort(function (a, b) {\n        return a - b;\n    });\n    var ticks = [];\n    for (var i = 0; i < tickCount; i++) {\n        var p = i / (tickCount - 1);\n        ticks.push(quantileSorted(sorted, p));\n    }\n    return ticks;\n}\n//# sourceMappingURL=quantile.js.map","import { DAY, HOUR, MINUTE, MONTH, SECOND, YEAR } from '../util/time';\nfunction getYear(date) {\n    return new Date(date).getFullYear();\n}\nfunction createYear(year) {\n    return new Date(year, 0, 1).getTime();\n}\nfunction getMonth(date) {\n    return new Date(date).getMonth();\n}\nfunction diffMonth(min, max) {\n    var minYear = getYear(min);\n    var maxYear = getYear(max);\n    var minMonth = getMonth(min);\n    var maxMonth = getMonth(max);\n    return (maxYear - minYear) * 12 + ((maxMonth - minMonth) % 12);\n}\nfunction creatMonth(year, month) {\n    return new Date(year, month, 1).getTime();\n}\nfunction diffDay(min, max) {\n    return Math.ceil((max - min) / DAY);\n}\nfunction diffHour(min, max) {\n    return Math.ceil((max - min) / HOUR);\n}\nfunction diffMinus(min, max) {\n    return Math.ceil((max - min) / (60 * 1000));\n}\n/**\n * 计算 time 的 ticks，对 month, year 进行 pretty 处理\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function timePretty(cfg) {\n    var min = cfg.min, max = cfg.max, minTickInterval = cfg.minTickInterval;\n    var tickInterval = cfg.tickInterval;\n    var tickCount = cfg.tickCount;\n    var ticks = [];\n    // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n    if (!tickInterval) {\n        tickInterval = (max - min) / tickCount;\n        // 如果设置了最小间距，则使用最小间距\n        if (minTickInterval && tickInterval < minTickInterval) {\n            tickInterval = minTickInterval;\n        }\n    }\n    var minYear = getYear(min);\n    // 如果间距大于 1 年，则将开始日期从整年开始\n    if (tickInterval > YEAR) {\n        var maxYear = getYear(max);\n        var yearInterval = Math.ceil(tickInterval / YEAR);\n        for (var i = minYear; i <= maxYear + yearInterval; i = i + yearInterval) {\n            ticks.push(createYear(i));\n        }\n    }\n    else if (tickInterval > MONTH) {\n        // 大于月时\n        var monthInterval = Math.ceil(tickInterval / MONTH);\n        var mmMoth = getMonth(min);\n        var dMonths = diffMonth(min, max);\n        for (var i = 0; i <= dMonths + monthInterval; i = i + monthInterval) {\n            ticks.push(creatMonth(minYear, i + mmMoth));\n        }\n    }\n    else if (tickInterval > DAY) {\n        // 大于天\n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var mday = date.getDate();\n        var day = Math.ceil(tickInterval / DAY);\n        var ddays = diffDay(min, max);\n        for (var i = 0; i < ddays + day; i = i + day) {\n            ticks.push(new Date(year, month, mday + i).getTime());\n        }\n    }\n    else if (tickInterval > HOUR) {\n        // 大于小时\n        var date = new Date(min);\n        var year = date.getFullYear();\n        var month = date.getMonth();\n        var day = date.getDate();\n        var hour = date.getHours();\n        var hours = Math.ceil(tickInterval / HOUR);\n        var dHours = diffHour(min, max);\n        for (var i = 0; i <= dHours + hours; i = i + hours) {\n            ticks.push(new Date(year, month, day, hour + i).getTime());\n        }\n    }\n    else if (tickInterval > MINUTE) {\n        // 大于分钟\n        var dMinus = diffMinus(min, max);\n        var minutes = Math.ceil(tickInterval / MINUTE);\n        for (var i = 0; i <= dMinus + minutes; i = i + minutes) {\n            ticks.push(min + i * MINUTE);\n        }\n    }\n    else {\n        // 小于分钟\n        var interval = tickInterval;\n        if (interval < SECOND) {\n            interval = SECOND;\n        }\n        var minSecond = Math.floor(min / SECOND) * SECOND;\n        var dSeconds = Math.ceil((max - min) / SECOND);\n        var seconds = Math.ceil(interval / SECOND);\n        for (var i = 0; i < dSeconds + seconds; i = i + seconds) {\n            ticks.push(minSecond + i * SECOND);\n        }\n    }\n    return ticks;\n}\n//# sourceMappingURL=time-pretty.js.map","import cat from './cat';\nimport linear from './linear';\nimport rPretty from './r-prettry';\nimport { getTickMethod, registerTickMethod } from './register';\nimport time from './time';\nimport timeCat from './time-cat';\nimport log from './log';\nimport pow from './pow';\nimport quantile from './quantile';\nimport timePretty from './time-pretty';\nregisterTickMethod('cat', cat);\nregisterTickMethod('time-cat', timeCat);\nregisterTickMethod('wilkinson-extended', linear);\nregisterTickMethod('r-pretty', rPretty);\nregisterTickMethod('time', time);\nregisterTickMethod('time-pretty', timePretty);\nregisterTickMethod('log', log);\nregisterTickMethod('pow', pow);\nregisterTickMethod('quantile', quantile);\nexport { getTickMethod };\n//# sourceMappingURL=index.js.map","import { last } from '@antv/util';\nimport catTicks from './cat';\n/**\n * 计算时间分类的 ticks, 保头，保尾\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function calculateTimeCatTicks(cfg) {\n    var ticks = catTicks(cfg);\n    var lastValue = last(cfg.values);\n    if (lastValue !== last(ticks)) {\n        ticks.push(lastValue);\n    }\n    return ticks;\n}\n//# sourceMappingURL=time-cat.js.map","import extended from '../util/extended';\nimport interval from '../util/interval';\n/**\n * 计算线性的 ticks，使用 wilkinson extended 方法\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function linear(cfg) {\n    var min = cfg.min, max = cfg.max, tickCount = cfg.tickCount, nice = cfg.nice, tickInterval = cfg.tickInterval;\n    if (tickInterval) {\n        return interval(min, max, tickInterval).ticks;\n    }\n    return extended(min, max, tickCount, nice).ticks;\n}\n//# sourceMappingURL=linear.js.map","import interval from '../util/interval';\nimport pretty from '../util/pretty';\n/**\n * 计算线性的 ticks，使用 R's pretty 方法\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function linearPretty(cfg) {\n    var min = cfg.min, max = cfg.max, tickCount = cfg.tickCount, tickInterval = cfg.tickInterval;\n    if (tickInterval) {\n        return interval(min, max, tickInterval).ticks;\n    }\n    return pretty(min, max, tickCount).ticks;\n}\n//# sourceMappingURL=r-prettry.js.map","import { getTickInterval } from '../util/time';\nexport default function calculateTimeTicks(cfg) {\n    var min = cfg.min, max = cfg.max, minTickInterval = cfg.minTickInterval;\n    var tickInterval = cfg.tickInterval;\n    var tickCount = cfg.tickCount;\n    // 指定 tickInterval 后 tickCount 不生效，需要重新计算\n    if (tickInterval) {\n        tickCount = Math.ceil((max - min) / tickInterval);\n    }\n    else {\n        tickInterval = getTickInterval(min, max, tickCount)[1];\n        var count = (max - min) / tickInterval;\n        var ratio = count / tickCount;\n        if (ratio > 1) {\n            tickInterval = tickInterval * Math.ceil(ratio);\n        }\n        // 如果设置了最小间距，则使用最小间距\n        if (minTickInterval && tickInterval < minTickInterval) {\n            tickInterval = minTickInterval;\n        }\n    }\n    var ticks = [];\n    for (var i = min; i < max + tickInterval; i += tickInterval) {\n        ticks.push(i);\n    }\n    return ticks;\n}\n//# sourceMappingURL=time.js.map","import { getLogPositiveMin, log } from '../util/math';\n/**\n * 计算 log 的 ticks，考虑 min = 0 的场景\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function calculateLogTicks(cfg) {\n    var base = cfg.base, tickCount = cfg.tickCount, min = cfg.min, max = cfg.max, values = cfg.values;\n    var minTick;\n    var maxTick = log(base, max);\n    if (min > 0) {\n        minTick = Math.floor(log(base, min));\n    }\n    else {\n        var positiveMin = getLogPositiveMin(values, base, max);\n        minTick = Math.floor(log(base, positiveMin));\n    }\n    var count = maxTick - minTick;\n    var avg = Math.ceil(count / tickCount);\n    var ticks = [];\n    for (var i = minTick; i < maxTick + avg; i = i + avg) {\n        ticks.push(Math.pow(base, i));\n    }\n    if (min <= 0) {\n        // 最小值 <= 0 时显示 0\n        ticks.unshift(0);\n    }\n    return ticks;\n}\n//# sourceMappingURL=log.js.map","import { calBase } from '../util/math';\nimport pretty from '../util/pretty';\n/**\n * 计算 Pow 的 ticks\n * @param cfg 度量的配置项\n * @returns 计算后的 ticks\n */\nexport default function calculatePowTicks(cfg) {\n    var exponent = cfg.exponent, tickCount = cfg.tickCount;\n    var max = Math.ceil(calBase(exponent, cfg.max));\n    var min = Math.floor(calBase(exponent, cfg.min));\n    var ticks = pretty(min, max, tickCount).ticks;\n    return ticks.map(function (tick) {\n        var factor = tick >= 0 ? 1 : -1;\n        return Math.pow(tick, exponent) * factor;\n    });\n}\n//# sourceMappingURL=pow.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sub = exports.mul = undefined;\nexports.create = create;\nexports.fromMat4 = fromMat4;\nexports.clone = clone;\nexports.copy = copy;\nexports.fromValues = fromValues;\nexports.set = set;\nexports.identity = identity;\nexports.transpose = transpose;\nexports.invert = invert;\nexports.adjoint = adjoint;\nexports.determinant = determinant;\nexports.multiply = multiply;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.fromTranslation = fromTranslation;\nexports.fromRotation = fromRotation;\nexports.fromScaling = fromScaling;\nexports.fromMat2d = fromMat2d;\nexports.fromQuat = fromQuat;\nexports.normalFromMat4 = normalFromMat4;\nexports.projection = projection;\nexports.str = str;\nexports.frob = frob;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiplyScalar = multiplyScalar;\nexports.multiplyScalarAndAdd = multiplyScalarAndAdd;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {mat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\nfunction fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {mat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\nfunction fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\nfunction set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20;\n\n  // Calculate the determinant\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the source matrix\n * @returns {mat3} out\n */\nfunction adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n\n/**\n * Calculates the determinant of a mat3\n *\n * @param {mat3} a the source matrix\n * @returns {Number} determinant of a\n */\nfunction determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to translate\n * @param {vec2} v vector to translate by\n * @returns {mat3} out\n */\nfunction translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nfunction rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n};\n\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to rotate\n * @param {vec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Translation vector\n * @returns {mat3} out\n */\nfunction fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\nfunction fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {vec2} v Scaling vector\n * @returns {mat3} out\n */\nfunction fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {mat2d} a the matrix to copy\n * @returns {mat3} out\n **/\nfunction fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n\n/**\n* Calculates a 3x3 matrix from the given quaternion\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {quat} q Quaternion to create matrix from\n*\n* @returns {mat3} out\n*/\nfunction fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n\n  return out;\n}\n\n/**\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n*\n* @param {mat3} out mat3 receiving operation result\n* @param {mat4} a Mat4 to derive the normal matrix from\n*\n* @returns {mat3} out\n*/\nfunction normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32;\n\n  // Calculate the determinant\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n\n  return out;\n}\n\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\nfunction projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n\n/**\n * Returns a string representation of a mat3\n *\n * @param {mat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\nfunction str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {mat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\nfunction frob(a) {\n  return Math.sqrt(Math.pow(a[0], 2) + Math.pow(a[1], 2) + Math.pow(a[2], 2) + Math.pow(a[3], 2) + Math.pow(a[4], 2) + Math.pow(a[5], 2) + Math.pow(a[6], 2) + Math.pow(a[7], 2) + Math.pow(a[8], 2));\n}\n\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @returns {mat3} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {mat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\nfunction multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {mat3} a the first operand\n * @param {mat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\nfunction multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {mat3} a The first matrix.\n * @param {mat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;","import { BBox } from '@antv/g';\nimport * as matrixUtil from '@antv/matrix-util';\nimport * as _ from '@antv/util';\n\nfunction magnitude(v) {\n  let sum = 0;\n  _.each(v, (value) => {\n    sum += value * value;\n  });\n  return Math.sqrt(sum);\n}\n\nfunction dotProduct2D(va, vb) {\n  return va.x * vb.y + va.y * vb.x;\n}\n\nfunction angleTo(va, vb) {\n  const magA = magnitude(va);\n  const magB = magnitude(vb);\n  const dot = dotProduct2D(va, vb);\n  const angle = Math.acos(dot / magA / magB);\n  return angle;\n}\n\nfunction crossProduct2D(va, vb) {\n  const magA = magnitude(va);\n  const magB = magnitude(vb);\n  const dot = dotProduct2D(va, vb);\n  const angle = Math.acos(dot / magA / magB);\n  return magA * magB * Math.sin(angle);\n}\n\nfunction crossProduct3D(va, vb) {\n  const ax = va.x,\n    ay = va.y,\n    az = va.z;\n  const bx = vb.x,\n    by = vb.y,\n    bz = vb.z;\n\n  const x = ay * bz - az * by;\n  const y = az * bx - ax * bz;\n  const z = ax * by - ay * bx;\n\n  return { x, y, z };\n}\n\nfunction sub2D(va, vb) {\n  return { x: va.x - vb.x, y: va.y - vb.y };\n}\n\nfunction applyMatrix(point, matrix, tag = 1) {\n  const vector = [point.x, point.y, tag];\n  matrixUtil.vec3.transformMat3(vector, vector, matrix);\n  return {\n    x: vector[0],\n    y: vector[1],\n  };\n}\n\nfunction isBetween(value, min, max) {\n  return value >= min && value <= max;\n}\n\nconst tolerance = 0.001;\n\nfunction getLineIntersect(p0, p1, p2, p3) {\n  const E = {\n    x: p2.x - p0.x,\n    y: p2.y - p0.y,\n  };\n  const D0 = {\n    x: p1.x - p0.x,\n    y: p1.y - p0.y,\n  };\n  const D1 = {\n    x: p3.x - p2.x,\n    y: p3.y - p2.y,\n  };\n  const kross = D0.x * D1.y - D0.y * D1.x;\n  const sqrKross = kross * kross;\n  const sqrLen0 = D0.x * D0.x + D0.y * D0.y;\n  const sqrLen1 = D1.x * D1.x + D1.y * D1.y;\n  let point = null;\n  if (sqrKross > tolerance * sqrLen0 * sqrLen1) {\n    const s = (E.x * D1.y - E.y * D1.x) / kross;\n    const t = (E.x * D0.y - E.y * D0.x) / kross;\n    if (isBetween(s, 0, 1) && isBetween(t, 0, 1)) {\n      point = {\n        x: p0.x + s * D0.x,\n        y: p0.y + s * D0.y,\n      };\n    }\n  }\n  return point;\n}\n\nfunction isPointInPolygon(p, polygon) {\n  /** 射线法 */\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n\n    const intersect = yi > p.y !== yj > p.y && p.x <= ((xj - xi) * (p.y - yi)) / (yj - yi) + xi;\n    if (intersect) {\n      inside = !inside;\n    }\n  }\n  return inside;\n}\n\nfunction sqr(v) {\n  return v * v;\n}\n\nfunction dist2(a, b) {\n  return Math.sqrt(sqr(a.x - b.x) + sqr(a.y - b.y));\n}\n\nfunction distBetweenPoints(a, b) {\n  return Math.sqrt(sqr(a.x - b.x) + sqr(a.y - b.y));\n}\n\nfunction distBetweenPointLine(p, p1, p2) {\n  const l2 = dist2(p1, p2);\n  if (l2 === 0) {\n    return dist2(p, p1);\n  }\n  let t = ((p.x - p1.x) * (p2.x - p1.x) + (p.y - p1.y) * (p2.y - p1.y)) / l2;\n  t = Math.max(0, Math.min(1, t));\n  const distSquare = dist2(p, { x: p1.x + t * (p2.x - p1.x), y: p1.y + t * (p2.y - p1.y) });\n  return Math.sqrt(distSquare);\n}\n\n// todo：待优化 https://blog.csdn.net/WilliamSun0122/article/details/77994526\nfunction minDistBetweenPointPolygon(p, polygon) {\n  let min = Infinity;\n  /** vertice to vertice */\n  _.each(polygon, (v) => {\n    const dist = Math.sqrt(dist2(v, p));\n    if (min > dist) {\n      min = dist;\n    }\n  });\n  /** vertice to edge */\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n    const dist = distBetweenPointLine(p, { x: xi, y: yi }, { x: xj, y: yj });\n    if (min > dist) {\n      min = dist;\n    }\n  }\n\n  return min;\n}\n\nfunction isPolygonIntersection(polyA, polyB) {\n  for (const p of polyA) {\n    const inside = isPointInPolygon(p, polyB);\n    if (inside) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction minDistBetweenConvexPolygon(polyA, polyB) {\n  if (isPolygonIntersection(polyA, polyB)) {\n    return 0;\n  }\n  let minA = Infinity;\n  let minB = Infinity;\n  _.each(polyA, (v) => {\n    const localMin = minDistBetweenPointPolygon(v, polyB);\n    if (minA > localMin) {\n      minA = localMin;\n    }\n  });\n  _.each(polyB, (v) => {\n    const localMin = minDistBetweenPointPolygon(v, polyA);\n    if (minB > localMin) {\n      minB = localMin;\n    }\n  });\n\n  return Math.min(minA, minB);\n}\n\nfunction bboxOnRotate(shape) {\n  const bbox = shape.getBBox();\n  const x = bbox.minX;\n  const y = bbox.minY;\n  /*\n   * step1: 获得旋转后的shape包围盒\n   * 将包围盒对齐到原点，apply旋转矩阵\n   * 移回原来的位置\n   */\n  const bboxWidth = bbox.tr.x - bbox.tl.x;\n  const bboxHeight = bbox.bl.y - bbox.tl.y;\n  // const matrix = shape.getTotalMatrix();\n  const matrix = shape.attr('matrix');\n  const ulMatrix = [matrix[0], matrix[1], 0, matrix[3], matrix[4], 0, 0, 0, 1];\n  const top_left = applyMatrix({ x: 0, y: 0 }, ulMatrix);\n  top_left.x += x;\n  top_left.y += y;\n  const top_right = applyMatrix({ x: bboxWidth, y: 0 }, ulMatrix);\n  top_right.x += x;\n  top_right.y += y;\n  const bottom_left = applyMatrix({ x: 0, y: bboxHeight }, ulMatrix);\n  bottom_left.x += x;\n  bottom_left.y += y;\n  const bottom_right = applyMatrix({ x: bboxWidth, y: bboxHeight }, ulMatrix);\n  bottom_right.x += x;\n  bottom_right.y += y;\n  /** step2：根据旋转后的画布位置重新计算包围盒，以免图形进行旋转后上下颠倒 */\n  const points = [top_left, top_right, bottom_left, bottom_right];\n  points.sort((a, b) => {\n    return a.y - b.y;\n  });\n  const minY = points[0].y;\n  const maxY = points[points.length - 1].y;\n  const tops = [points[0], points[1]];\n  const bottoms = [points[2], points[3]];\n  const topLeft = tops[0].x < tops[1].x ? tops[0] : tops[1];\n  const topRight = tops[0].x < tops[1].x ? tops[1] : tops[0];\n  const bottomLeft = bottoms[0].x < bottoms[1].x ? bottoms[0] : bottoms[1];\n  const bottomRight = bottoms[0].x < bottoms[1].x ? bottoms[1] : bottoms[0];\n  points.sort((a, b) => {\n    return a.x - b.x;\n  });\n  const minX = points[0].x;\n  const maxX = points[points.length - 1].x;\n  const node = {\n    width: maxX - minX,\n    height: maxY - minY,\n    left: minX,\n    right: maxX,\n    top: minY,\n    bottom: maxY,\n    topLeft,\n    topRight,\n    bottomLeft,\n    bottomRight,\n    centerX: minX + (maxX - minX) / 2,\n    centerY: minY + (maxY - minY) / 2,\n    // shape\n  };\n  return node;\n}\n\n/**\n * 线简化算法\n */\n\nconst THRESHOLD = 2;\n\nfunction lineSimplification(points) {\n  if (points.length < 5) {\n    return points;\n  }\n  return DouglasPeucker(points, THRESHOLD);\n}\n\n// https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\nfunction DouglasPeucker(points, threshold) {\n  let result;\n  let max = -Infinity;\n  let index = 0;\n  const endIndex = points.length - 1;\n  for (let i = 1; i < endIndex; i++) {\n    const point = points[i];\n    const line = { start: points[0], end: points[endIndex] };\n    const dist = distBetweenPointLine(point, line.start, line.end);\n    if (dist > max) {\n      max = dist;\n      index = i;\n    }\n  }\n\n  if (max > threshold) {\n    const list1 = DouglasPeucker(points.slice(0, index + 1), threshold);\n    const list2 = DouglasPeucker(points.slice(index, points.length), threshold);\n    result = list1.concat(list2);\n  } else {\n    result = [points[0], points[points.length - 1]];\n  }\n  return result;\n}\n\n/** 统计的以后迁出去，暂时先放这里 */\nfunction getMedian(array) {\n  const list = _.clone(array);\n  list.sort((a, b) => {\n    return a - b;\n  });\n\n  const half = Math.floor(list.length / 2);\n\n  if (list.length % 2) {\n    return list[half];\n  }\n\n  return (list[half - 1] + list[half]) / 2.0;\n}\n\nfunction getMean(array) {\n  let sum: number = 0;\n  _.each(array, (num: number) => {\n    sum += num;\n  });\n  return sum / array.length;\n}\n\nfunction sturges(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n\nexport {\n  applyMatrix,\n  isBetween,\n  getLineIntersect,\n  isPointInPolygon,\n  distBetweenPoints,\n  distBetweenPointLine,\n  isPolygonIntersection,\n  minDistBetweenConvexPolygon,\n  bboxOnRotate,\n  dotProduct2D,\n  crossProduct2D,\n  crossProduct3D,\n  sub2D,\n  angleTo,\n  lineSimplification,\n  getMedian,\n  getMean,\n  sturges,\n  dist2,\n};\n","import { isNil, some, isNumber, filter } from '@antv/util';\nimport { timeIntervals } from '../interface/config';\nimport { ScaleConfig } from '@antv/scale';\n\nfunction adjustTimeTickInterval(interval: string) {\n  const intervals = timeIntervals;\n  const intervalArr = interval.split(' ');\n  const basicInterval = intervals[intervalArr[1]];\n  const intervalCount = parseInt(intervalArr[0], 10);\n  return [basicInterval.format, intervalCount * basicInterval.value];\n}\n\nexport function extractScale(desScale, axisConfig) {\n  if (!axisConfig) {\n    return desScale;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickCount')) {\n    desScale.tickCount = axisConfig.tickCount;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'type')) {\n    // fixme: dateTime plot层处理\n    if (axisConfig.type !== 'dateTime') {\n      desScale.type = axisConfig.type;\n    }\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickInterval')) {\n    if (axisConfig.type === 'time') {\n      desScale.tickInterval = adjustTimeTickInterval(axisConfig.tickInterval);\n    } else {\n      desScale.tickInterval = axisConfig.tickInterval;\n    }\n  }\n\n  if (axisConfig.type === 'time' && axisConfig.mask) {\n    desScale.mask = axisConfig.mask;\n  }\n\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'min')) {\n    desScale.min = axisConfig.min;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'max')) {\n    desScale.max = axisConfig.max;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'nice')) {\n    desScale.nice = axisConfig.nice;\n  }\n  if (Object.prototype.hasOwnProperty.call(axisConfig, 'formatter')) {\n    desScale.formatter = axisConfig.formatter;\n  }\n  if (axisConfig.tickMethod) {\n    desScale.tickMethod = axisConfig.tickMethod;\n  }\n}\n\nexport function trySetScaleMinToZero(desScale: ScaleConfig, data: (number | string | undefined | null)[]) {\n  const validData: number[] = filter(data, (v) => isNumber(v)) as number[];\n  const min = Math.min(...validData);\n  const max = Math.max(...validData);\n\n  if (min > 0) {\n    if (isNil(desScale.min)) {\n      desScale.min = 0;\n    }\n  } else if (max <= 0) {\n    if (isNil(desScale.max)) {\n      desScale.max = 0;\n    }\n  }\n}\n","// http://schepers.cc/getting-to-the-point\nexport default function catmullRom2Bezier(crp, z) {\n    var d = [];\n    // @ts-ignore\n    for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n        var p = [{\n                x: +crp[i - 2],\n                y: +crp[i - 1],\n            }, {\n                x: +crp[i],\n                y: +crp[i + 1],\n            }, {\n                x: +crp[i + 2],\n                y: +crp[i + 3],\n            }, {\n                x: +crp[i + 4],\n                y: +crp[i + 5],\n            }];\n        if (z) {\n            if (!i) {\n                p[0] = {\n                    x: +crp[iLen - 2],\n                    y: +crp[iLen - 1],\n                };\n            }\n            else if (iLen - 4 === i) {\n                p[3] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n            }\n            else if (iLen - 2 === i) {\n                p[2] = {\n                    x: +crp[0],\n                    y: +crp[1],\n                };\n                p[3] = {\n                    x: +crp[2],\n                    y: +crp[3],\n                };\n            }\n        }\n        else {\n            if (iLen - 4 === i) {\n                p[3] = p[2];\n            }\n            else if (!i) {\n                p[0] = {\n                    x: +crp[i],\n                    y: +crp[i + 1],\n                };\n            }\n        }\n        d.push(['C',\n            (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n            (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n            (p[1].x + 6 * p[2].x - p[3].x) / 6,\n            (p[1].y + 6 * p[2].y - p[3].y) / 6,\n            p[2].x,\n            p[2].y,\n        ]);\n    }\n    return d;\n}\n//# sourceMappingURL=catmull-rom-2-bezier.js.map","import isArray from '@antv/util/lib/is-array';\nvar SPACES = '\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029';\nvar PATH_COMMAND = new RegExp('([a-z])[' + SPACES + ',]*((-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?[' + SPACES + ']*,?[' + SPACES + ']*)+)', 'ig');\nvar PATH_VALUES = new RegExp('(-?\\\\d*\\\\.?\\\\d*(?:e[\\\\-+]?\\\\d+)?)[' + SPACES + ']*,?[' + SPACES + ']*', 'ig');\n// Parses given path string into an array of arrays of path segments\nexport default function parsePathString(pathString) {\n    if (!pathString) {\n        return null;\n    }\n    if (isArray(pathString)) {\n        return pathString;\n    }\n    var paramCounts = {\n        a: 7,\n        c: 6,\n        o: 2,\n        h: 1,\n        l: 2,\n        m: 2,\n        r: 4,\n        q: 4,\n        s: 4,\n        t: 2,\n        v: 1,\n        u: 3,\n        z: 0,\n    };\n    var data = [];\n    String(pathString).replace(PATH_COMMAND, function (a, b, c) {\n        var params = [];\n        var name = b.toLowerCase();\n        c.replace(PATH_VALUES, function (a, b) {\n            b && params.push(+b);\n        });\n        if (name === 'm' && params.length > 2) {\n            data.push([b].concat(params.splice(0, 2)));\n            name = 'l';\n            b = b === 'm' ? 'l' : 'L';\n        }\n        if (name === 'o' && params.length === 1) {\n            data.push([b, params[0]]);\n        }\n        if (name === 'r') {\n            data.push([b].concat(params));\n        }\n        else {\n            while (params.length >= paramCounts[name]) {\n                data.push([b].concat(params.splice(0, paramCounts[name])));\n                if (!paramCounts[name]) {\n                    break;\n                }\n            }\n        }\n        return '';\n    });\n    return data;\n}\n//# sourceMappingURL=parse-path-string.js.map","import parsePathString from './parse-path-string';\nvar REGEX_MD = /[a-z]/;\nfunction toSymmetry(p, c) {\n    return [\n        c[0] + (c[0] - p[0]),\n        c[1] + (c[1] - p[1])\n    ];\n}\nexport default function pathToAbsolute(pathString) {\n    var pathArray = parsePathString(pathString);\n    if (!pathArray || !pathArray.length) {\n        return [\n            ['M', 0, 0],\n        ];\n    }\n    var needProcess = false; // 如果存在小写的命令或者 V,H,T,S 则需要处理\n    for (var i = 0; i < pathArray.length; i++) {\n        var cmd = pathArray[i][0];\n        // 如果存在相对位置的命令，则中断返回\n        if (REGEX_MD.test(cmd) || ['V', 'H', 'T', 'S'].indexOf(cmd) >= 0) {\n            needProcess = true;\n            break;\n        }\n    }\n    // 如果不存在相对命令，则直接返回\n    // 如果在业务上都写绝对路径，这种方式最快，仅做了一次检测\n    if (!needProcess) {\n        return pathArray;\n    }\n    var res = [];\n    var x = 0;\n    var y = 0;\n    var mx = 0;\n    var my = 0;\n    var start = 0;\n    var pa0;\n    var dots;\n    var first = pathArray[0];\n    if (first[0] === 'M' || first[0] === 'm') {\n        x = +first[1];\n        y = +first[2];\n        mx = x;\n        my = y;\n        start++;\n        res[0] = ['M', x, y];\n    }\n    for (var i = start, ii = pathArray.length; i < ii; i++) {\n        var pa = pathArray[i];\n        var preParams = res[i - 1]; // 取前一个已经处理后的节点，否则会出现问题\n        var r = [];\n        var cmd = pa[0];\n        var upCmd = cmd.toUpperCase();\n        if (cmd !== upCmd) {\n            r[0] = upCmd;\n            switch (upCmd) {\n                case 'A':\n                    r[1] = pa[1];\n                    r[2] = pa[2];\n                    r[3] = pa[3];\n                    r[4] = pa[4];\n                    r[5] = pa[5];\n                    r[6] = +pa[6] + x;\n                    r[7] = +pa[7] + y;\n                    break;\n                case 'V':\n                    r[1] = +pa[1] + y;\n                    break;\n                case 'H':\n                    r[1] = +pa[1] + x;\n                    break;\n                case 'M':\n                    mx = +pa[1] + x;\n                    my = +pa[2] + y;\n                    break; // for lint\n                default:\n                    for (var j = 1, jj = pa.length; j < jj; j++) {\n                        r[j] = +pa[j] + ((j % 2) ? x : y);\n                    }\n            }\n        }\n        else { // 如果本来已经大写，则不处理\n            r = pathArray[i];\n        }\n        // 需要在外面统一做，同时处理 V,H,S,T 等特殊指令\n        switch (upCmd) {\n            case 'Z':\n                x = +mx;\n                y = +my;\n                break;\n            case 'H':\n                x = r[1];\n                r = ['L', x, y];\n                break;\n            case 'V':\n                y = r[1];\n                r = ['L', x, y];\n                break;\n            case 'T':\n                x = r[1];\n                y = r[2];\n                // 以 x, y 为中心的，上一个控制点的对称点\n                // 需要假设上一个节点的命令为 Q\n                var symetricT = toSymmetry([preParams[1], preParams[2]], [preParams[3], preParams[4]]);\n                r = ['Q', symetricT[0], symetricT[1], x, y];\n                break;\n            case 'S':\n                x = r[r.length - 2];\n                y = r[r.length - 1];\n                // 以 x,y 为中心，取上一个控制点，\n                // 需要假设上一个线段为 C 或者 S\n                var length_1 = preParams.length;\n                var symetricS = toSymmetry([preParams[length_1 - 4], preParams[length_1 - 3]], [preParams[length_1 - 2], preParams[length_1 - 1]]);\n                r = ['C', symetricS[0], symetricS[1], r[1], r[2], x, y];\n                break;\n            case 'M':\n                mx = r[r.length - 2];\n                my = r[r.length - 1];\n                break; // for lint\n            default:\n                x = r[r.length - 2];\n                y = r[r.length - 1];\n        }\n        res.push(r);\n    }\n    return res;\n}\n//# sourceMappingURL=path-2-absolute.js.map","import path2Absolute from './path-2-absolute';\nvar a2c = function (x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n    // for more information of where this math came from visit:\n    // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n    if (rx === ry) {\n        rx += 1;\n    }\n    var _120 = (Math.PI * 120) / 180;\n    var rad = (Math.PI / 180) * (+angle || 0);\n    var res = [];\n    var xy;\n    var f1;\n    var f2;\n    var cx;\n    var cy;\n    var rotate = function (x, y, rad) {\n        var X = x * Math.cos(rad) - y * Math.sin(rad);\n        var Y = x * Math.sin(rad) + y * Math.cos(rad);\n        return {\n            x: X,\n            y: Y,\n        };\n    };\n    if (!recursive) {\n        xy = rotate(x1, y1, -rad);\n        x1 = xy.x;\n        y1 = xy.y;\n        xy = rotate(x2, y2, -rad);\n        x2 = xy.x;\n        y2 = xy.y;\n        if (x1 === x2 && y1 === y2) {\n            // 若弧的起始点和终点重叠则错开一点\n            x2 += 1;\n            y2 += 1;\n        }\n        // const cos = Math.cos(Math.PI / 180 * angle);\n        // const sin = Math.sin(Math.PI / 180 * angle);\n        var x = (x1 - x2) / 2;\n        var y = (y1 - y2) / 2;\n        var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n        if (h > 1) {\n            h = Math.sqrt(h);\n            rx = h * rx;\n            ry = h * ry;\n        }\n        var rx2 = rx * rx;\n        var ry2 = ry * ry;\n        var k = (large_arc_flag === sweep_flag ? -1 : 1) *\n            Math.sqrt(Math.abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x)));\n        cx = (k * rx * y) / ry + (x1 + x2) / 2;\n        cy = (k * -ry * x) / rx + (y1 + y2) / 2;\n        f1 = Math.asin(Number(((y1 - cy) / ry).toFixed(9)));\n        f2 = Math.asin(Number(((y2 - cy) / ry).toFixed(9)));\n        f1 = x1 < cx ? Math.PI - f1 : f1;\n        f2 = x2 < cx ? Math.PI - f2 : f2;\n        f1 < 0 && (f1 = Math.PI * 2 + f1);\n        f2 < 0 && (f2 = Math.PI * 2 + f2);\n        if (sweep_flag && f1 > f2) {\n            f1 = f1 - Math.PI * 2;\n        }\n        if (!sweep_flag && f2 > f1) {\n            f2 = f2 - Math.PI * 2;\n        }\n    }\n    else {\n        f1 = recursive[0];\n        f2 = recursive[1];\n        cx = recursive[2];\n        cy = recursive[3];\n    }\n    var df = f2 - f1;\n    if (Math.abs(df) > _120) {\n        var f2old = f2;\n        var x2old = x2;\n        var y2old = y2;\n        f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n        x2 = cx + rx * Math.cos(f2);\n        y2 = cy + ry * Math.sin(f2);\n        res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n    }\n    df = f2 - f1;\n    var c1 = Math.cos(f1);\n    var s1 = Math.sin(f1);\n    var c2 = Math.cos(f2);\n    var s2 = Math.sin(f2);\n    var t = Math.tan(df / 4);\n    var hx = (4 / 3) * rx * t;\n    var hy = (4 / 3) * ry * t;\n    var m1 = [x1, y1];\n    var m2 = [x1 + hx * s1, y1 - hy * c1];\n    var m3 = [x2 + hx * s2, y2 - hy * c2];\n    var m4 = [x2, y2];\n    m2[0] = 2 * m1[0] - m2[0];\n    m2[1] = 2 * m1[1] - m2[1];\n    if (recursive) {\n        return [m2, m3, m4].concat(res);\n    }\n    res = [m2, m3, m4]\n        .concat(res)\n        .join()\n        .split(',');\n    var newres = [];\n    for (var i = 0, ii = res.length; i < ii; i++) {\n        newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n    }\n    return newres;\n};\nvar l2c = function (x1, y1, x2, y2) {\n    return [x1, y1, x2, y2, x2, y2];\n};\nvar q2c = function (x1, y1, ax, ay, x2, y2) {\n    var _13 = 1 / 3;\n    var _23 = 2 / 3;\n    return [_13 * x1 + _23 * ax, _13 * y1 + _23 * ay, _13 * x2 + _23 * ax, _13 * y2 + _23 * ay, x2, y2];\n};\nexport default function pathTocurve(path, path2) {\n    var p = path2Absolute(path);\n    var p2 = path2 && path2Absolute(path2);\n    var attrs = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null,\n    };\n    var attrs2 = {\n        x: 0,\n        y: 0,\n        bx: 0,\n        by: 0,\n        X: 0,\n        Y: 0,\n        qx: null,\n        qy: null,\n    };\n    var pcoms1 = []; // path commands of original path p\n    var pcoms2 = []; // path commands of original path p2\n    var pfirst = ''; // temporary holder for original path command\n    var pcom = ''; // holder for previous path command of original path\n    var ii;\n    var processPath = function (path, d, pcom) {\n        var nx, ny;\n        if (!path) {\n            return ['C', d.x, d.y, d.x, d.y, d.x, d.y];\n        }\n        !(path[0] in\n            {\n                T: 1,\n                Q: 1,\n            }) && (d.qx = d.qy = null);\n        switch (path[0]) {\n            case 'M':\n                d.X = path[1];\n                d.Y = path[2];\n                break;\n            case 'A':\n                path = ['C'].concat(a2c.apply(0, [d.x, d.y].concat(path.slice(1))));\n                break;\n            case 'S':\n                if (pcom === 'C' || pcom === 'S') {\n                    // In \"S\" case we have to take into account, if the previous command is C/S.\n                    nx = d.x * 2 - d.bx; // And reflect the previous\n                    ny = d.y * 2 - d.by; // command's control point relative to the current point.\n                }\n                else {\n                    // or some else or nothing\n                    nx = d.x;\n                    ny = d.y;\n                }\n                path = ['C', nx, ny].concat(path.slice(1));\n                break;\n            case 'T':\n                if (pcom === 'Q' || pcom === 'T') {\n                    // In \"T\" case we have to take into account, if the previous command is Q/T.\n                    d.qx = d.x * 2 - d.qx; // And make a reflection similar\n                    d.qy = d.y * 2 - d.qy; // to case \"S\".\n                }\n                else {\n                    // or something else or nothing\n                    d.qx = d.x;\n                    d.qy = d.y;\n                }\n                path = ['C'].concat(q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                break;\n            case 'Q':\n                d.qx = path[1];\n                d.qy = path[2];\n                path = ['C'].concat(q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                break;\n            case 'L':\n                path = ['C'].concat(l2c(d.x, d.y, path[1], path[2]));\n                break;\n            case 'H':\n                path = ['C'].concat(l2c(d.x, d.y, path[1], d.y));\n                break;\n            case 'V':\n                path = ['C'].concat(l2c(d.x, d.y, d.x, path[1]));\n                break;\n            case 'Z':\n                path = ['C'].concat(l2c(d.x, d.y, d.X, d.Y));\n                break;\n            default:\n                break;\n        }\n        return path;\n    };\n    var fixArc = function (pp, i) {\n        if (pp[i].length > 7) {\n            pp[i].shift();\n            var pi = pp[i];\n            while (pi.length) {\n                pcoms1[i] = 'A'; // if created multiple C:s, their original seg is saved\n                p2 && (pcoms2[i] = 'A'); // the same as above\n                pp.splice(i++, 0, ['C'].concat(pi.splice(0, 6)));\n            }\n            pp.splice(i, 1);\n            ii = Math.max(p.length, (p2 && p2.length) || 0);\n        }\n    };\n    var fixM = function (path1, path2, a1, a2, i) {\n        if (path1 && path2 && path1[i][0] === 'M' && path2[i][0] !== 'M') {\n            path2.splice(i, 0, ['M', a2.x, a2.y]);\n            a1.bx = 0;\n            a1.by = 0;\n            a1.x = path1[i][1];\n            a1.y = path1[i][2];\n            ii = Math.max(p.length, (p2 && p2.length) || 0);\n        }\n    };\n    ii = Math.max(p.length, (p2 && p2.length) || 0);\n    for (var i = 0; i < ii; i++) {\n        p[i] && (pfirst = p[i][0]); // save current path command\n        if (pfirst !== 'C') {\n            // C is not saved yet, because it may be result of conversion\n            pcoms1[i] = pfirst; // Save current path command\n            i && (pcom = pcoms1[i - 1]); // Get previous path command pcom\n        }\n        p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n        if (pcoms1[i] !== 'A' && pfirst === 'C')\n            pcoms1[i] = 'C'; // A is the only command\n        // which may produce multiple C:s\n        // so we have to make sure that C is also C in original path\n        fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n        if (p2) {\n            // the same procedures is done to p2\n            p2[i] && (pfirst = p2[i][0]);\n            if (pfirst !== 'C') {\n                pcoms2[i] = pfirst;\n                i && (pcom = pcoms2[i - 1]);\n            }\n            p2[i] = processPath(p2[i], attrs2, pcom);\n            if (pcoms2[i] !== 'A' && pfirst === 'C') {\n                pcoms2[i] = 'C';\n            }\n            fixArc(p2, i);\n        }\n        fixM(p, p2, attrs, attrs2, i);\n        fixM(p2, p, attrs2, attrs, i);\n        var seg = p[i];\n        var seg2 = p2 && p2[i];\n        var seglen = seg.length;\n        var seg2len = p2 && seg2.length;\n        attrs.x = seg[seglen - 2];\n        attrs.y = seg[seglen - 1];\n        attrs.bx = parseFloat(seg[seglen - 4]) || attrs.x;\n        attrs.by = parseFloat(seg[seglen - 3]) || attrs.y;\n        attrs2.bx = p2 && (parseFloat(seg2[seg2len - 4]) || attrs2.x);\n        attrs2.by = p2 && (parseFloat(seg2[seg2len - 3]) || attrs2.y);\n        attrs2.x = p2 && seg2[seg2len - 2];\n        attrs2.y = p2 && seg2[seg2len - 1];\n    }\n    return p2 ? [p, p2] : p;\n}\n//# sourceMappingURL=path-2-curve.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = exports.len = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.length = length;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.random = random;\nexports.transformMat2 = transformMat2;\nexports.transformMat2d = transformMat2d;\nexports.transformMat3 = transformMat3;\nexports.transformMat4 = transformMat4;\nexports.rotate = rotate;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n  return out;\n}\n\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {vec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\nfunction fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the source vector\n * @returns {vec2} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\nfunction set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to ceil\n * @returns {vec2} out\n */\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to floor\n * @returns {vec2} out\n */\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec2} out\n */\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to round\n * @returns {vec2} out\n */\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} distance between a and b\n */\nfunction distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.sqrt(x * x + y * y);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n\n/**\n * Calculates the length of a vec2\n *\n * @param {vec2} a vector to calculate length of\n * @returns {Number} length of a\n */\nfunction length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.sqrt(x * x + y * y);\n}\n\n/**\n * Calculates the squared length of a vec2\n *\n * @param {vec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nfunction squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to negate\n * @returns {vec2} out\n */\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to invert\n * @returns {vec2} out\n */\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a vector to normalize\n * @returns {vec2} out\n */\nfunction normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {Number} dot product of a and b\n */\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @returns {vec3} out\n */\nfunction cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the first operand\n * @param {vec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\nfunction lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\nfunction random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat2d} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat3} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {vec2} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec2} out\n */\nfunction transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {vec2} a The vec2 point to rotate\n * @param {vec2} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec2} out\n */\nfunction rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c);\n\n  //perform rotation and translate to correct position\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n\n  return out;\n}\n\n/**\n * Get the angle between two 2D vectors\n * @param {vec2} a The first operand\n * @param {vec2} b The second operand\n * @returns {Number} The angle in radians\n */\nfunction angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n\n  var len1 = x1 * x1 + y1 * y1;\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nfunction str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec2} a The first vector.\n * @param {vec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n\n/**\n * Alias for {@link vec2.length}\n * @function\n */\nvar len = exports.len = length;\n\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;\n\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\nvar div = exports.div = divide;\n\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\nvar dist = exports.dist = distance;\n\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\nvar sqrDist = exports.sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\nvar sqrLen = exports.sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvar forEach = exports.forEach = function () {\n  var vec = create();\n\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","// // defaultTheme 必须首先注册\n// import defaultTheme from './default';\n//\n// import Theme from './theme';\n//\n// export { Theme as default, defaultTheme };\n\n// 全局主题的方法\nexport { getGlobalTheme, registerGlobalTheme } from './global';\n// 图表主题的方法\nexport { getTheme, registerTheme } from './theme';\n// 工具函数\nexport { convertToG2Theme } from './utils';\n","export function rgb2arr(str) {\n  const arr = [];\n  arr.push(parseInt(str.substr(1, 2), 16));\n  arr.push(parseInt(str.substr(3, 2), 16));\n  arr.push(parseInt(str.substr(5, 2), 16));\n  return arr;\n}\n\nexport function toHex(value) {\n  let v;\n  v = Math.round(value);\n  v = v.toString(16);\n  if (v.length === 1) {\n    v = `0${value}`;\n  }\n  return v;\n}\n\nexport function arr2rgb(arr) {\n  return `#${toHex(arr[0]) + toHex(arr[1]) + toHex(arr[2])}`;\n}\n","import * as _ from '@antv/util';\nimport { DEFAULT_GLOBAL_THEME } from './default';\nimport { DEFAULT_DARK_THEME } from './dark';\n\n/** 所有的全局主题 */\nconst GLOBAL_THEME_MAP: Record<string, any> = {\n  default: DEFAULT_GLOBAL_THEME,\n  dark: DEFAULT_DARK_THEME,\n};\n\n/**\n * 注册全局主题\n * @param name\n * @param theme\n */\nexport function registerGlobalTheme(name: string, theme: any): void {\n  const defaultTheme = getGlobalTheme();\n  GLOBAL_THEME_MAP[name.toLowerCase()] = _.deepMix({}, defaultTheme, theme);\n}\n\n/**\n * 获取默认主题\n * @param name 如果 name 为空，则返回默认的主题，否则返回指定 name 的主题\n */\nexport function getGlobalTheme(name: string = 'default'): any {\n  const theme = GLOBAL_THEME_MAP[name.toLowerCase()];\n  if (theme) {\n    return theme;\n  }\n  // 如没有找到，则使用当前全局主题替代\n  console.warn(\"error in theme: Can't find the theme named %s. Please register theme first.\", name);\n  return DEFAULT_GLOBAL_THEME;\n}\n","import { mat3, vec3 } from '@antv/matrix-util';\nimport * as _ from '@antv/util';\n/**\n * Coordinate Base Class\n */\nvar Coordinate = /** @class */ (function () {\n    function Coordinate(cfg) {\n        // 自身属性\n        this.type = 'coordinate';\n        this.isRect = false;\n        this.isHelix = false;\n        this.isPolar = false;\n        this.isReflectX = false;\n        this.isReflectY = false;\n        var start = cfg.start, end = cfg.end, _a = cfg.matrix, matrix = _a === void 0 ? [1, 0, 0, 0, 1, 0, 0, 0, 1] : _a, _b = cfg.isTransposed, isTransposed = _b === void 0 ? false : _b;\n        this.start = start;\n        this.end = end;\n        this.matrix = matrix;\n        this.isTransposed = isTransposed;\n    }\n    /**\n     * 初始化流程\n     */\n    Coordinate.prototype.initial = function () {\n        // center、width、height\n        this.center = {\n            x: (this.start.x + this.end.x) / 2,\n            y: (this.start.y + this.end.y) / 2,\n        };\n        this.width = Math.abs(this.end.x - this.start.x);\n        this.height = Math.abs(this.end.y - this.start.y);\n    };\n    /**\n     * 更新配置\n     * @param cfg\n     */\n    Coordinate.prototype.update = function (cfg) {\n        _.assign(this, cfg);\n        this.initial();\n    };\n    Coordinate.prototype.convertDim = function (percent, dim) {\n        var _a;\n        var _b = this[dim], start = _b.start, end = _b.end;\n        // 交换\n        if (this.isReflect(dim)) {\n            _a = [end, start], start = _a[0], end = _a[1];\n        }\n        return start + percent * (end - start);\n    };\n    Coordinate.prototype.invertDim = function (value, dim) {\n        var _a;\n        var _b = this[dim], start = _b.start, end = _b.end;\n        // 交换\n        if (this.isReflect(dim)) {\n            _a = [end, start], start = _a[0], end = _a[1];\n        }\n        return (value - start) / (end - start);\n    };\n    /**\n     * 将坐标点进行矩阵变换\n     * @param x   对应 x 轴画布坐标\n     * @param y   对应 y 轴画布坐标\n     * @param tag 默认为 0，可取值 0, 1\n     * @return    返回变换后的三阶向量 [x, y, z]\n     */\n    Coordinate.prototype.applyMatrix = function (x, y, tag) {\n        if (tag === void 0) { tag = 0; }\n        var matrix = this.matrix;\n        var vector = [x, y, tag];\n        vec3.transformMat3(vector, vector, matrix);\n        return vector;\n    };\n    /**\n     * 将坐标点进行矩阵逆变换\n     * @param x   对应 x 轴画布坐标\n     * @param y   对应 y 轴画布坐标\n     * @param tag 默认为 0，可取值 0, 1\n     * @return    返回矩阵逆变换后的三阶向量 [x, y, z]\n     */\n    Coordinate.prototype.invertMatrix = function (x, y, tag) {\n        if (tag === void 0) { tag = 0; }\n        var matrix = this.matrix;\n        var inverted = mat3.invert([], matrix);\n        var vector = [x, y, tag];\n        vec3.transformMat3(vector, vector, inverted);\n        return vector;\n    };\n    /**\n     * 将归一化的坐标点数据转换为画布坐标，并根据坐标系当前矩阵进行变换\n     * @param point 归一化的坐标点\n     * @return      返回进行矩阵变换后的画布坐标\n     */\n    Coordinate.prototype.convert = function (point) {\n        var _a = this.convertPoint(point), x = _a.x, y = _a.y;\n        var vector = this.applyMatrix(x, y, 1);\n        return {\n            x: vector[0],\n            y: vector[1],\n        };\n    };\n    /**\n     * 将进行过矩阵变换画布坐标转换为归一化坐标\n     * @param point 画布坐标\n     * @return      返回归一化的坐标点\n     */\n    Coordinate.prototype.invert = function (point) {\n        var vector = this.invertMatrix(point.x, point.y, 1);\n        return this.invertPoint({\n            x: vector[0],\n            y: vector[1],\n        });\n    };\n    /**\n     * 坐标系旋转变换\n     * @param  radian 旋转弧度\n     * @return        返回坐标系对象\n     */\n    Coordinate.prototype.rotate = function (radian) {\n        var matrix = this.matrix;\n        var center = this.center;\n        mat3.translate(matrix, matrix, [-center.x, -center.y]);\n        mat3.rotate(matrix, matrix, radian);\n        mat3.translate(matrix, matrix, [center.x, center.y]);\n        return this;\n    };\n    /**\n     * 坐标系反射变换\n     * @param dim 反射维度\n     * @return    返回坐标系对象\n     */\n    Coordinate.prototype.reflect = function (dim) {\n        if (dim === 'x') {\n            this.isReflectX = !this.isReflectX;\n        }\n        else {\n            this.isReflectY = !this.isReflectY;\n        }\n        return this;\n    };\n    /**\n     * 坐标系比例变换\n     * @param s1 x 方向缩放比例\n     * @param s2 y 方向缩放比例\n     * @return     返回坐标系对象\n     */\n    Coordinate.prototype.scale = function (s1, s2) {\n        var matrix = this.matrix;\n        var center = this.center;\n        mat3.translate(matrix, matrix, [-center.x, -center.y]);\n        mat3.scale(matrix, matrix, [s1, s2]);\n        mat3.translate(matrix, matrix, [center.x, center.y]);\n        return this;\n    };\n    /**\n     * 坐标系平移变换\n     * @param x x 方向平移像素\n     * @param y y 方向平移像素\n     * @return    返回坐标系对象\n     */\n    Coordinate.prototype.translate = function (x, y) {\n        var matrix = this.matrix;\n        mat3.translate(matrix, matrix, [x, y]);\n        return this;\n    };\n    /**\n     * 将坐标系 x y 两个轴进行转置\n     * @return 返回坐标系对象\n     */\n    Coordinate.prototype.transpose = function () {\n        this.isTransposed = !this.isTransposed;\n        return this;\n    };\n    Coordinate.prototype.getCenter = function () {\n        return this.center;\n    };\n    Coordinate.prototype.getWidth = function () {\n        return this.width;\n    };\n    Coordinate.prototype.getHeight = function () {\n        return this.height;\n    };\n    /**\n     * whether has reflect\n     * @param dim\n     */\n    Coordinate.prototype.isReflect = function (dim) {\n        return dim === 'x' ? this.isReflectX : this.isReflectY;\n    };\n    return Coordinate;\n}());\nexport default Coordinate;\n//# sourceMappingURL=base.js.map","import { __extends } from \"tslib\";\nimport Coordinate from './base';\n/**\n * 笛卡尔坐标系\n * https://www.zhihu.com/question/20665303\n */\nvar Cartesian = /** @class */ (function (_super) {\n    __extends(Cartesian, _super);\n    function Cartesian(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.isRect = true;\n        _this.type = 'cartesian';\n        _this.initial();\n        return _this;\n    }\n    Cartesian.prototype.initial = function () {\n        _super.prototype.initial.call(this);\n        var start = this.start;\n        var end = this.end;\n        this.x = {\n            start: start.x,\n            end: end.x,\n        };\n        this.y = {\n            start: start.y,\n            end: end.y,\n        };\n    };\n    Cartesian.prototype.convertPoint = function (point) {\n        var _a;\n        var x = point.x, y = point.y;\n        // 交换\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        return {\n            x: this.convertDim(x, 'x'),\n            y: this.convertDim(y, 'y'),\n        };\n    };\n    Cartesian.prototype.invertPoint = function (point) {\n        var _a;\n        var x = this.invertDim(point.x, 'x');\n        var y = this.invertDim(point.y, 'y');\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        return { x: x, y: y };\n    };\n    return Cartesian;\n}(Coordinate));\nexport default Cartesian;\n//# sourceMappingURL=cartesian.js.map","import { __extends } from \"tslib\";\nimport { vec2 } from '@antv/matrix-util';\nimport { isNumberEqual } from '@antv/util';\nimport Coordinate from './base';\n/**\n * 螺旋坐标系\n */\nvar Helix = /** @class */ (function (_super) {\n    __extends(Helix, _super);\n    function Helix(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.isHelix = true;\n        _this.type = 'helix';\n        var _a = cfg.startAngle, startAngle = _a === void 0 ? 1.25 * Math.PI : _a, _b = cfg.endAngle, endAngle = _b === void 0 ? 7.25 * Math.PI : _b, _c = cfg.innerRadius, innerRadius = _c === void 0 ? 0 : _c, radius = cfg.radius;\n        _this.startAngle = startAngle;\n        _this.endAngle = endAngle;\n        _this.innerRadius = innerRadius;\n        _this.radius = radius;\n        _this.initial();\n        return _this;\n    }\n    Helix.prototype.initial = function () {\n        _super.prototype.initial.call(this);\n        var index = (this.endAngle - this.startAngle) / (2 * Math.PI) + 1; // 螺线圈数\n        var maxRadius = Math.min(this.width, this.height) / 2;\n        if (this.radius && this.radius >= 0 && this.radius <= 1) {\n            maxRadius = maxRadius * this.radius;\n        }\n        this.d = Math.floor((maxRadius * (1 - this.innerRadius)) / index);\n        this.a = this.d / (Math.PI * 2); // 螺线系数\n        this.x = {\n            start: this.startAngle,\n            end: this.endAngle,\n        };\n        this.y = {\n            start: this.innerRadius * maxRadius,\n            end: this.innerRadius * maxRadius + this.d * 0.99,\n        };\n    };\n    /**\n     * 将百分比数据变成屏幕坐标\n     * @param point 归一化的点坐标\n     * @return      返回对应的屏幕坐标\n     */\n    Helix.prototype.convertPoint = function (point) {\n        var _a;\n        var x = point.x, y = point.y;\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        var thi = this.convertDim(x, 'x');\n        var r = this.a * thi;\n        var newY = this.convertDim(y, 'y');\n        return {\n            x: this.center.x + Math.cos(thi) * (r + newY),\n            y: this.center.y + Math.sin(thi) * (r + newY),\n        };\n    };\n    /**\n     * 将屏幕坐标点还原成百分比数据\n     * @param point 屏幕坐标\n     * @return      返回对应的归一化后的数据\n     */\n    Helix.prototype.invertPoint = function (point) {\n        var _a;\n        var d = this.d + this.y.start;\n        var v = vec2.subtract([], [point.x, point.y], [this.center.x, this.center.y]);\n        var thi = vec2.angleTo(v, [1, 0], true);\n        var rMin = thi * this.a; // 坐标与原点的连线在第一圈上的交点，最小r值\n        if (vec2.length(v) < rMin) {\n            // 坐标与原点的连线不可能小于最小r值，但不排除因小数计算产生的略小于rMin的情况\n            rMin = vec2.length(v);\n        }\n        var index = Math.floor((vec2.length(v) - rMin) / d); // 当前点位于第index圈\n        thi = 2 * index * Math.PI + thi;\n        var r = this.a * thi;\n        var newY = vec2.length(v) - r;\n        newY = isNumberEqual(newY, 0) ? 0 : newY;\n        var x = this.invertDim(thi, 'x');\n        var y = this.invertDim(newY, 'y');\n        x = isNumberEqual(x, 0) ? 0 : x;\n        y = isNumberEqual(y, 0) ? 0 : y;\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        return { x: x, y: y };\n    };\n    return Helix;\n}(Coordinate));\nexport default Helix;\n//# sourceMappingURL=helix.js.map","import { __extends } from \"tslib\";\nimport { mat3, vec2, vec3 } from '@antv/matrix-util';\nimport { isNumberEqual } from '@antv/util';\nimport Coordinate from './base';\nvar Polar = /** @class */ (function (_super) {\n    __extends(Polar, _super);\n    function Polar(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        _this.isPolar = true;\n        _this.type = 'polar';\n        var _a = cfg.startAngle, startAngle = _a === void 0 ? -Math.PI / 2 : _a, _b = cfg.endAngle, endAngle = _b === void 0 ? (Math.PI * 3) / 2 : _b, _c = cfg.innerRadius, innerRadius = _c === void 0 ? 0 : _c, radius = cfg.radius;\n        _this.startAngle = startAngle;\n        _this.endAngle = endAngle;\n        _this.innerRadius = innerRadius;\n        _this.radius = radius;\n        _this.initial();\n        return _this;\n    }\n    Polar.prototype.initial = function () {\n        _super.prototype.initial.call(this);\n        while (this.endAngle < this.startAngle) {\n            this.endAngle += Math.PI * 2;\n        }\n        var oneBox = this.getOneBox();\n        var oneWidth = oneBox.maxX - oneBox.minX;\n        var oneHeight = oneBox.maxY - oneBox.minY;\n        var left = Math.abs(oneBox.minX) / oneWidth;\n        var top = Math.abs(oneBox.minY) / oneHeight;\n        var maxRadius;\n        if (this.height / oneHeight > this.width / oneWidth) {\n            // width 为主\n            maxRadius = this.width / oneWidth;\n            this.circleCenter = {\n                x: this.center.x - (0.5 - left) * this.width,\n                y: this.center.y - (0.5 - top) * maxRadius * oneHeight,\n            };\n        }\n        else {\n            // height 为主\n            maxRadius = this.height / oneHeight;\n            this.circleCenter = {\n                x: this.center.x - (0.5 - left) * maxRadius * oneWidth,\n                y: this.center.y - (0.5 - top) * this.height,\n            };\n        }\n        this.polarRadius = this.radius;\n        if (!this.radius) {\n            this.polarRadius = maxRadius;\n        }\n        else if (this.radius > 0 && this.radius <= 1) {\n            this.polarRadius = maxRadius * this.radius;\n        }\n        else if (this.radius <= 0 || this.radius > maxRadius) {\n            this.polarRadius = maxRadius;\n        }\n        this.x = {\n            start: this.startAngle,\n            end: this.endAngle,\n        };\n        this.y = {\n            start: this.innerRadius * this.polarRadius,\n            end: this.polarRadius,\n        };\n    };\n    Polar.prototype.getRadius = function () {\n        return this.polarRadius;\n    };\n    Polar.prototype.convertPoint = function (point) {\n        var _a;\n        var center = this.getCenter();\n        var x = point.x, y = point.y;\n        if (this.isTransposed) {\n            _a = [y, x], x = _a[0], y = _a[1];\n        }\n        x = this.convertDim(x, 'x');\n        y = this.convertDim(y, 'y');\n        return {\n            x: center.x + Math.cos(x) * y,\n            y: center.y + Math.sin(x) * y,\n        };\n    };\n    Polar.prototype.invertPoint = function (point) {\n        var center = this.getCenter();\n        var vPoint = [point.x - center.x, point.y - center.y];\n        var m = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        mat3.rotate(m, m, this.startAngle);\n        var vStart = [1, 0, 0];\n        vec3.transformMat3(vStart, vStart, m);\n        vStart = [vStart[0], vStart[1]];\n        var angle = vec2.angleTo(vStart, vPoint, this.endAngle < this.startAngle);\n        if (isNumberEqual(angle, Math.PI * 2)) {\n            angle = 0;\n        }\n        var radius = vec2.length(vPoint);\n        var xPercent = angle / (this.endAngle - this.startAngle);\n        xPercent = this.endAngle - this.startAngle > 0 ? xPercent : -xPercent;\n        var yPercent = this.invertDim(radius, 'y');\n        var rst = { x: 0, y: 0 };\n        rst.x = this.isTransposed ? yPercent : xPercent;\n        rst.y = this.isTransposed ? xPercent : yPercent;\n        return rst;\n    };\n    Polar.prototype.getCenter = function () {\n        return this.circleCenter;\n    };\n    Polar.prototype.getOneBox = function () {\n        var startAngle = this.startAngle;\n        var endAngle = this.endAngle;\n        if (Math.abs(endAngle - startAngle) >= Math.PI * 2) {\n            return {\n                minX: -1,\n                maxX: 1,\n                minY: -1,\n                maxY: 1,\n            };\n        }\n        var xs = [0, Math.cos(startAngle), Math.cos(endAngle)];\n        var ys = [0, Math.sin(startAngle), Math.sin(endAngle)];\n        for (var i = Math.min(startAngle, endAngle); i < Math.max(startAngle, endAngle); i += Math.PI / 18) {\n            xs.push(Math.cos(i));\n            ys.push(Math.sin(i));\n        }\n        return {\n            minX: Math.min.apply(Math, xs),\n            maxX: Math.max.apply(Math, xs),\n            minY: Math.min.apply(Math, ys),\n            maxY: Math.max.apply(Math, ys),\n        };\n    };\n    return Polar;\n}(Coordinate));\nexport default Polar;\n//# sourceMappingURL=polar.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar base_1 = require(\"./base\");\nexports.Legend = base_1.default;\nvar continuous_1 = require(\"./continuous\");\nexports.Size = continuous_1.Size;\nexports.Color = continuous_1.Color;\nvar category_1 = require(\"./category\");\nexports.CanvasCategory = category_1.CanvasCategory;\nexports.HtmlCategory = category_1.HtmlCategory;\n//# sourceMappingURL=index.js.map","import { Shape } from '@antv/g';\n\nexport default function textHide(shape: Shape) {\n  shape.attr('text', '');\n}\n","import EventEmitter from '@antv/event-emitter';\nimport * as G from '@antv/g';\nimport * as _ from '@antv/util';\nimport { Point } from '../interface/config';\nimport { LAYER_EVENT_MAP } from '../util/event';\n\nexport interface LayerConfig {\n  id?: string;\n  /** the top-left-x of layer, local position relative to the parent layer */\n  x?: number;\n  /** the top-left-y of layer, local position relative to the parent layer */\n  y?: number;\n  /** layer width */\n  width?: number;\n  /** layer height */\n  height?: number;\n  /** the parent node of layer */\n  parent?: any;\n  canvas?: G.Canvas;\n  name?: string;\n}\n\nexport interface Region {\n  /** the top-left corner of layer-range, range from 0 to 1, relative to parent layer's range */\n  readonly start: Point;\n  /** the bottom-right corner of layer-range, range from 0 to 1, relative to parent layer's range */\n  readonly end: Point;\n}\n\nexport interface Range {\n  x?: number;\n  y?: number;\n  width?: number;\n  height?: number;\n}\n\nexport default class Layer<T extends LayerConfig = LayerConfig> extends EventEmitter {\n  public id: string;\n  public x: number;\n  public y: number;\n  public width: number;\n  public height: number;\n  public parent: Layer;\n  public canvas: G.Canvas;\n  public layerBBox: G.BBox;\n  public layers: Layer[] = [];\n  public container: G.Group;\n  public destroyed: boolean = false;\n  protected visibility: boolean = true;\n  protected layerRegion: Region;\n  private rendered: boolean = false;\n  private eventHandlers: any[] = [];\n  public options: T;\n\n  /**\n   * layer base for g2plot\n   */\n  constructor(props: T) {\n    super();\n    this.options = this.getOptions(props);\n    this.processOptions(this.options);\n    this.container = new G.Group();\n  }\n\n  public processOptions(options) {\n    this.id = options.id;\n    this.x = options.x;\n    this.y = options.y;\n    this.width = options.width;\n    this.height = options.height;\n    this.canvas = options.canvas;\n    this.parent = options.parent;\n  }\n\n  public updateConfig(cfg: Partial<T>): void {\n    this.options = _.deepMix({}, this.options, cfg);\n    this.processOptions(this.options);\n  }\n\n  public beforeInit() {}\n\n  /**\n   * init life cycle\n   */\n  public init() {\n    this.layerBBox = this.getLayerBBox();\n    this.layerRegion = this.getLayerRegion();\n    this.eachLayer((layer) => {\n      layer.init();\n    });\n  }\n\n  public afterInit() {}\n\n  /**\n   * render layer recursively\n   */\n  public render() {\n    // fixme: 等plot不再继承layer，这个就可以挪到构造函数里去，不需要再加是否render过的判断了\n    if (!this.rendered) {\n      if (this.parent) {\n        this.parent.container.add(this.container);\n      } else {\n        this.canvas.add(this.container);\n      }\n    }\n    this.rendered = true;\n    this.beforeInit();\n    this.init();\n    this.afterInit();\n    this.container.transform([['t', this.x, this.y]]);\n\n    this.eachLayer((layer) => {\n      layer.render();\n    });\n    this.canvas.draw();\n  }\n\n  /**\n   * clear layer content\n   */\n  public clear() {\n    this.eachLayer((layer) => {\n      layer.destroy();\n    });\n    this.layers = [];\n    this.container.clear();\n  }\n\n  /**\n   * destroy layer recursively, remove the container of layer\n   */\n  public destroy() {\n    this.eachLayer((layer) => {\n      layer.destroy();\n    });\n    _.each(this.eventHandlers, (h) => {\n      this.off(h.eventName, h.handler);\n    });\n    this.container.remove(true);\n    this.destroyed = true;\n  }\n\n  /**\n   * display layer\n   */\n  public show() {\n    this.container.set('visible', true);\n    this.visibility = true;\n  }\n\n  /**\n   * hide layer\n   */\n  public hide() {\n    this.container.set('visible', false);\n    this.visibility = false;\n  }\n\n  /**\n   * add children layer\n   * @param layer\n   */\n  public addLayer(layer: Layer<any>) {\n    const idx = _.findIndex(this.layers, (item) => item === layer);\n    if (idx < 0) {\n      if (layer.parent !== this) {\n        layer.parent = this;\n        layer.init();\n      }\n      this.layers.push(layer);\n    }\n  }\n\n  /**\n   * remove children layer\n   * @param layer\n   */\n  public removeLayer(layer: Layer<any>) {\n    const idx = _.findIndex(this.layers, (item) => item === layer);\n    if (idx >= 0) {\n      this.layers.splice(idx, 1);\n    }\n  }\n\n  /**\n   * update layer's display range\n   * @param props\n   * @param recursive whether update children layers or not\n   */\n  public updateBBox(props: Range, recursive: boolean = false) {\n    const originRange = {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height,\n    };\n    const newRange = _.deepMix({}, originRange, props);\n    this.x = newRange.x;\n    this.y = newRange.y;\n    this.width = newRange.width;\n    this.height = newRange.height;\n    this.layerBBox = this.getLayerBBox();\n    this.layerRegion = this.getLayerRegion();\n    this.render();\n    if (recursive) {\n      this.eachLayer((layer) => {\n        layer.updateBBoxByParent();\n        layer.render();\n      });\n    }\n    this.canvas.draw();\n  }\n\n  /**\n   * update display range according to parent layer's range\n   */\n  public updateBBoxByParent() {\n    const region = this.layerRegion;\n    this.x = this.parent.x + this.parent.width * region.start.x;\n    this.y = this.parent.y + this.parent.height * region.start.y;\n    this.width = this.parent.width * (region.end.x - region.start.x);\n    this.height = this.parent.height * (region.end.y - region.start.y);\n    this.layerBBox = this.getLayerBBox();\n  }\n\n  /**\n   * get global position of layer\n   */\n  public getGlobalPosition() {\n    let globalX = this.x;\n    let globalY = this.y;\n    let parent = this.parent;\n    while (parent) {\n      globalX += parent.x;\n      globalY += parent.y;\n      parent = parent.parent;\n    }\n    return { x: globalX, y: globalY };\n  }\n\n  public getGlobalBBox() {\n    const globalPosition = this.getGlobalPosition();\n    return new G.BBox(globalPosition.x, globalPosition.y, this.width, this.height);\n  }\n\n  public getOptions(props: T): T {\n    let parentWidth = 0;\n    let parentHeight = 0;\n    if (props.parent) {\n      parentWidth = props.parent.width;\n      parentHeight = props.parent.height;\n    }\n    const defaultOptions = {\n      x: 0,\n      y: 0,\n      width: parentWidth,\n      height: parentHeight,\n    };\n    return _.deepMix({}, defaultOptions, props);\n  }\n\n  public eachLayer(cb: (layer: Layer<any>) => void) {\n    _.each(this.layers, cb);\n  }\n\n  protected parseEvents(eventParser?) {\n    const eventsName = _.keys(LAYER_EVENT_MAP);\n    _.each(eventParser, (e, k) => {\n      if (_.contains(eventsName, k) && _.isFunction(e)) {\n        const eventName = LAYER_EVENT_MAP[k] || k;\n        const handler = e;\n        this.on(eventName, handler);\n        this.eventHandlers.push({ name: eventName, handler });\n      }\n    });\n  }\n\n  private getLayerBBox() {\n    return new G.BBox(this.x, this.y, this.width, this.height);\n  }\n\n  private getLayerRegion() {\n    if (this.parent) {\n      const parentWidth = this.parent.width;\n      const parentHeight = this.parent.height;\n      const parentX = this.parent.x;\n      const parentY = this.parent.y;\n      const startX = (this.x - parentX) / parentWidth;\n      const startY = (this.y - parentY) / parentHeight;\n      const endX = (this.x + this.width - parentX) / parentWidth;\n      const endY = (this.y + this.height - parentY) / parentHeight;\n      return { start: { x: startX, y: startY }, end: { x: endX, y: endY } };\n    }\n    return { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } };\n  }\n}\n","\"use strict\";\nexports.__esModule = true;\n/**\n * 获取样式\n * @param  {Object} dom DOM节点\n * @param  {String} name 样式名\n * @param  {Any} defaultValue 默认值\n * @return {String} 属性值\n */\nfunction getStyle(dom, name, defaultValue) {\n    var v;\n    try {\n        v = window.getComputedStyle ?\n            window.getComputedStyle(dom, null)[name] :\n            dom.style[name]; // 一般不会走到这个逻辑，dom.style 获取的是标签 style 属性，也不准确\n    }\n    catch (e) {\n        // do nothing\n    }\n    finally {\n        v = v === undefined ? defaultValue : v;\n    }\n    return v;\n}\nexports[\"default\"] = getStyle;\n//# sourceMappingURL=get-style.js.map","import { BBox } from '@antv/g';\nimport { Interaction, View } from '@antv/g2';\nimport ViewLayer from '../base/view-layer';\nimport { IInteractionConfig } from '../interface/config';\n\nexport interface InteractionCtor {\n  new (\n    cfg: { view: View },\n    viewLayer: ViewLayer<any>,\n    interactionRange?: BBox,\n    interaction?: IInteractionConfig\n  ): BaseInteraction;\n  getInteractionRange(layerRange: BBox, interaction?: IInteractionConfig): BBox;\n}\n\ninterface InteractionMap {\n  [type: string]: InteractionCtor;\n}\n\nexport default abstract class BaseInteraction extends Interaction {\n  public static registerInteraction(type: string, ctor: any) {\n    BaseInteraction.GLOBAL_INTERACTION_MAP[type] = ctor;\n  }\n\n  public static registerPlotInteraction(plotType: string, type: string, ctor: any) {\n    if (!BaseInteraction.PLOT_INTERACTION_MAP[plotType]) {\n      BaseInteraction.PLOT_INTERACTION_MAP[plotType] = {};\n    }\n    BaseInteraction.PLOT_INTERACTION_MAP[plotType][type] = ctor;\n  }\n\n  public static getInteraction(type: string, plotType?: string): InteractionCtor | undefined {\n    if (plotType && BaseInteraction.PLOT_INTERACTION_MAP[plotType] && BaseInteraction[plotType][type]) {\n      return BaseInteraction.PLOT_INTERACTION_MAP[plotType][type];\n    }\n    return BaseInteraction.GLOBAL_INTERACTION_MAP[type];\n  }\n\n  public static getInteractionRange(layerRange: BBox, interaction?: IInteractionConfig): BBox | undefined {\n    return undefined;\n  }\n\n  private static GLOBAL_INTERACTION_MAP: InteractionMap = {};\n  private static PLOT_INTERACTION_MAP: { [plot: string]: InteractionMap } = {};\n\n  public type: string;\n  public cfg: any;\n  private interactionConfig: IInteractionConfig;\n  private interactionRange: BBox;\n  private viewLayer: ViewLayer<any>;\n\n  constructor(\n    cfg: { view: View },\n    viewLayer: ViewLayer<any>,\n    interactionRange?: BBox,\n    interaction?: IInteractionConfig\n  ) {\n    super(cfg);\n    this.viewLayer = viewLayer;\n    this.interactionRange = interactionRange;\n    this.interactionConfig = interaction;\n    this.render();\n  }\n\n  public destroy(): void {\n    this.clear();\n    super.destroy();\n  }\n\n  protected getViewLayer(): ViewLayer<any> {\n    return this.viewLayer;\n  }\n\n  protected getRange(): BBox | undefined {\n    return this.interactionRange;\n  }\n\n  protected getInteractionConfig(): IInteractionConfig | undefined {\n    return this.interactionConfig;\n  }\n\n  protected render(): void {}\n\n  protected clear(): void {}\n}\n","import * as _ from '@antv/util';\nimport { DEFAULT_RESPONSIVE_THEME } from './default';\n\n/**\n * 所有的响应式主题配置\n */\nconst RESPONSIVE_THEME_MAP = {\n  default: DEFAULT_RESPONSIVE_THEME,\n};\n\n/**\n * 添加一个响应式主题配置\n * @param name\n * @param theme\n */\nexport function registerResponsiveTheme(name: string, theme) {\n  RESPONSIVE_THEME_MAP[name.toLowerCase()] = _.deepMix({}, DEFAULT_RESPONSIVE_THEME, theme);\n}\n\n/**\n * 获取一个响应式主题配置，如果找不到则返回默认\n * @param name\n */\nexport function getResponsiveTheme(name: string) {\n  const theme = RESPONSIVE_THEME_MAP[name.toLowerCase()];\n  return theme ? theme : DEFAULT_RESPONSIVE_THEME;\n}\n","import * as _ from '@antv/util';\nimport { ElementOption } from '../interface/config';\n\nexport default class ElementParser {\n  public plot: any;\n  public type: string;\n  public config: ElementOption;\n  public style: any;\n  private positionFields: string[];\n  private widthRatio: number;\n\n  constructor(cfg) {\n    _.assign(this, cfg);\n    this.init();\n  }\n\n  public init() {\n    this.config = {\n      type: this.type,\n      position: {\n        fields: this.positionFields,\n      },\n      widthRatio: {\n        // 宽度所占的分类的比例\n        column: this.widthRatio || 3 / 5, // g2plot定制\n        rose: 0.9999999, // 玫瑰图柱状占比 1\n        multiplePie: 1 / 1.3, // 多层的饼图、环图\n      },\n    };\n  }\n}\n","import { DataPointType } from '@antv/g2/lib/interface';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { ElementOption, ICatAxis, ITimeAxis, IValueAxis, Label } from '../../interface/config';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport './component/label/column-label';\nimport * as EventParser from './event';\nimport './theme';\n\ninterface ColumnStyle {\n  opacity?: number;\n  lineDash?: number[];\n}\n\nconst G2_GEOM_MAP = {\n  column: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'column',\n};\n\nexport interface ColumnViewConfig extends ViewConfig {\n  // 图形\n  type?: 'rect' | 'triangle' | 'round';\n  colorField?: string;\n  // 百分比, 数值, 最小最大宽度\n  columnSize?: number;\n  maxWidth?: number;\n  minWidth?: number;\n  columnStyle?: ColumnStyle | ((...args: any[]) => ColumnStyle);\n  xAxis?: ICatAxis | ITimeAxis;\n  yAxis?: IValueAxis;\n}\n\nexport interface ColumnLayerConfig extends ColumnViewConfig, LayerConfig {}\n\nexport default class BaseColumnLayer<T extends ColumnLayerConfig = ColumnLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        tickLine: {\n          visible: false,\n        },\n        title: {\n          visible: true,\n        },\n      },\n      yAxis: {\n        title: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n        },\n        grid: {\n          visible: true,\n        },\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'rect',\n        },\n      },\n      label: {\n        visible: false,\n        position: 'top',\n        adjustColor: true,\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n      },\n    });\n  }\n  public column: any;\n  public type: string = 'column';\n\n  public getOptions(props: T) {\n    const options = super.getOptions(props);\n    // @ts-ignore\n    const defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  }\n\n  public beforeInit() {\n    super.beforeInit();\n    /** 响应式图形 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  }\n\n  public afterRender() {\n    /** 响应式 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n    super.afterRender();\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const { options } = this;\n    const scales = {};\n    /** 配置x-scale */\n    scales[options.xField] = { type: 'cat' };\n    if (_.has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    /** 配置y-scale */\n    scales[options.yField] = {};\n    if (_.has(options, 'yAxis')) {\n      extractScale(scales[options.yField], options.yAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {}\n\n  protected adjustColumn(column: ElementOption) {\n    return;\n  }\n\n  protected addGeometry() {\n    const { options } = this;\n    const column = getGeom('interval', 'main', {\n      positionFields: [options.xField, options.yField],\n      plot: this,\n    });\n    if (options.label) {\n      column.label = this.extractLabel();\n    }\n    this.adjustColumn(column);\n    this.column = column;\n    this.setConfig('element', column);\n  }\n\n  protected animation() {\n    super.animation();\n    if (this.options.animation === false) {\n      /** 关闭动画 */\n      this.column.animate = false;\n    }\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  protected extractLabel() {\n    const props = this.options;\n    const defaultOptions = this.getLabelOptionsByPosition(props.label.position);\n    const label = _.deepMix({}, defaultOptions, this.options.label as Label);\n    if (label.visible === false) {\n      return false;\n    }\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'columnLabel',\n      fields: [this.options.yField],\n      ...label,\n    });\n    return labelConfig;\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    _.each(methods, (r) => {\n      const responsive = r as DataPointType;\n      responsive.method(this);\n    });\n  }\n\n  public getLabelOptionsByPosition(position: string) {\n    if (position === 'middle') {\n      return {\n        offset: 0,\n        style: {\n          textBaseline: 'middle',\n        },\n      };\n    }\n\n    if (position === 'top') {\n      return {\n        offset: 4,\n        style: {\n          textBaseline: 'bottom',\n        },\n      };\n    }\n    if (position === 'bottom') {\n      return {\n        offset: 4,\n        style: {\n          textBaseline: 'bottom',\n        },\n      };\n    }\n    return { offset: 0 };\n  }\n}\n\nregisterPlotType('column', BaseColumnLayer);\n","export interface Point {\n  x: number;\n  y: number;\n}\n\nexport function getEndPoint(center, angle, r): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n\nexport interface Box {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\n/** 获取矩形中点 */\nexport function getCenter(box: Box): Point {\n  return {\n    x: box.x + box.width / 2,\n    y: box.y + box.height / 2,\n  };\n}\n\nexport function getOverlapArea(a: Box, b: Box, margin = 0): number {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n  return xOverlap * yOverlap;\n}\n\n/**\n * 计算两个矩形之间的堆叠情况\n * @return xOverlap x方向重叠大小\n * @return yOverlap y方向重叠大小\n */\nexport function getOverlapInfo(a: Box, b: Box, margin = 0): { xOverlap: number; yOverlap: number } {\n  let xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  let yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  // 添加 sign\n  if (xOverlap && a.x < b.x) {\n    xOverlap = -xOverlap;\n  }\n  if (yOverlap && a.y < b.y) {\n    yOverlap = -yOverlap;\n  }\n\n  // 重叠\n  if (a.x === b.x && a.width === b.width) {\n    xOverlap = b.width;\n  }\n  if (a.y === b.y && a.height === b.height) {\n    yOverlap = b.height;\n  }\n\n  return { xOverlap, yOverlap };\n}\n\n/**\n * 粗略地判断是否在panel内部\n * @param panel\n * @param shape\n */\nexport function inPanel(panel: Box, shape: Box) {\n  return (\n    panel.x < shape.x &&\n    panel.x + panel.width > shape.x + shape.width &&\n    panel.y < shape.y &&\n    panel.y + panel.height > shape.y + shape.height\n  );\n}\n\n/**\n * 判断两个数值 是否接近\n * - 解决精度问题（由于无法确定精度上限，根据具体场景可传入 精度 参数）\n */\nexport const near = (x: number, y: number, e: number = Number.EPSILON ** 0.5): boolean =>\n  [x, y].includes(Infinity) ? Math.abs(x) === Math.abs(y) : Math.abs(x - y) < e;\n","import * as _ from '@antv/util';\nimport { LayerConfig } from '../base/layer';\nimport ViewLayer, { ViewConfig } from '../base/view-layer';\nimport { getComponent } from '../components/factory';\nimport '../geoms/line/mini';\n\nexport interface TinyViewConfig extends ViewConfig {\n  indicator?: any;\n  guideLine?: any; // FIXME:\n}\n\nexport interface TinyLayerConfig extends TinyViewConfig, LayerConfig {}\n\nexport default abstract class TinyLayer<T extends TinyLayerConfig = TinyLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      title: {\n        visible: false,\n      },\n      description: {\n        visible: false,\n      },\n      padding: [0, 0, 0, 0],\n      legend: {\n        visible: false,\n      },\n      xAxis: {\n        visible: false,\n      },\n      yAxis: {\n        visible: false,\n      },\n      tooltip: {\n        visible: false,\n      },\n    });\n  }\n\n  protected coord() {}\n\n  protected addGeometry() {}\n\n  protected annotation() {\n    const props = this.options;\n    const config = [];\n    const defaultGuidelineCfg = {\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#66d6a8',\n        },\n      },\n    };\n    _.each(props.guideLine, (line) => {\n      const guideLine = getComponent('guideLine', {\n        plot: this,\n        cfg: _.deepMix({}, defaultGuidelineCfg, line),\n      });\n      config.push(guideLine);\n    });\n    this.setConfig('annotations', config);\n  }\n}\n","/**\n * stateManager负责stateManager的创建/绑定，对状态量更新的响应\n */\nimport { Group, Shape } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { getComponentStateMethod } from '../../components/factory';\nimport { onEvent } from '../../util/event';\nimport StateManager from '../../util/state-manager';\n\nexport function compare(origin, condition) {\n  if (!_.isFunction(condition)) {\n    const { name, exp } = condition;\n    if (_.isFunction(exp)) {\n      return exp(origin[name]);\n    }\n    return origin[name] === exp;\n  }\n  return condition(origin);\n}\n\nexport default class StateController {\n  private plot: any;\n  private stateManager: StateManager;\n  private shapes: Shape[];\n  private originAttrs: any[]; // 缓存图形的原始属性\n  private shapeContainers: Group[] = [];\n\n  constructor(cfg) {\n    _.assign(this, cfg);\n  }\n\n  public createStateManager(cfg) {\n    this.stateManager = new StateManager(cfg);\n  }\n\n  public bindStateManager(manager: StateManager, cfg) {\n    this.stateManager = manager;\n    if (cfg.setState) {\n      this._updateStateProcess(cfg.setState);\n    }\n    if (cfg.onStateChange) {\n      this._stateChangeProcess(cfg.onStateChange);\n    }\n  }\n\n  public defaultStates(states) {\n    _.each(states, (state, type) => {\n      const { condition, style, related } = state;\n      this.setState({ type, condition, related });\n    });\n  }\n\n  public setState(cfg) {\n    const { type, condition, related } = cfg;\n    if (!this.shapes) {\n      this.shapes = this._getShapes();\n      this.originAttrs = this._getOriginAttrs();\n    }\n    // this.resetZIndex();\n    _.each(this.shapes, (shape, index) => {\n      const shapeOrigin = shape.get('origin');\n      const origin = _.isArray(shapeOrigin) ? shapeOrigin[0]._origin : shapeOrigin._origin;\n\n      if (compare(origin, condition)) {\n        const stateStyle = cfg.style ? cfg.style : this._getDefaultStateStyle(type, shape);\n        const originAttr = this.originAttrs[index];\n        let attrs;\n        if (_.isFunction(stateStyle)) {\n          attrs = stateStyle(originAttr);\n        } else {\n          attrs = _.mix({}, originAttr, stateStyle);\n        }\n        shape.attr(attrs);\n        this.setZIndex(type, shape);\n        // const canvas = this.plot.canvas;\n        // canvas.draw();\n      }\n    });\n    // 组件与图形对状态量的响应不一定同步\n    if (related) {\n      this._parserRelated(type, related, condition);\n    }\n    this.plot.canvas.draw();\n  }\n\n  private _updateStateProcess(setStateCfg) {\n    _.each(setStateCfg, (cfg: any) => {\n      const state = cfg.state;\n      let handler;\n      if (_.isFunction(state)) {\n        handler = (e) => {\n          const s = state(e);\n          this.stateManager.setState(s.name, s.exp);\n        };\n      } else {\n        handler = () => {\n          this.stateManager.setState(state.name, state.exp);\n        };\n      }\n      if (cfg.event) {\n        onEvent(this.plot, this._eventParser(cfg.event), handler);\n      } else {\n        handler();\n      }\n    });\n  }\n\n  private _stateChangeProcess(onChangeCfg) {\n    _.each(onChangeCfg, (cfg: any) => {\n      this.stateManager.on(`${cfg.name}:change`, (props) => {\n        cfg.callback(props, this.plot);\n      });\n    });\n  }\n\n  private _getShapes() {\n    const shapes = [];\n    const geoms = this.plot.view.get('elements');\n    _.each(geoms, (geom: any) => {\n      const shapeContainer = geom.get('shapeContainer');\n      this.shapeContainers.push(shapeContainer);\n      if (!geom.destroyed) {\n        shapes.push(...geom.getShapes());\n      }\n    });\n    return shapes;\n  }\n\n  private _getOriginAttrs() {\n    const attrs = [];\n    _.each(this.shapes, (shape) => {\n      attrs.push(_.clone(shape.attr()));\n    });\n    return attrs;\n  }\n\n  // 将g2 geomtry转为plot层geometry\n  private _eventParser(event) {\n    const eventCfg = event.split(':');\n    const eventTarget = this.plot.geometryParser('g2', eventCfg[0]);\n    const eventName = eventCfg[1];\n    return `${eventTarget}:${eventName}`;\n  }\n\n  private _getDefaultStateStyle(type, shape) {\n    const theme = this.plot.theme;\n    const plotGeomType = this.plot.geometryParser('plot', shape.name);\n    const styleField = `${plotGeomType}Style`;\n    if (theme[styleField]) {\n      let style = theme[styleField][type];\n      if (_.isFunction(style)) {\n        style = style(shape.attr());\n      }\n      return style;\n    }\n    return {};\n  }\n\n  private _parserRelated(type, related, condition) {\n    _.each(related, (r) => {\n      if (this.plot[r]) {\n        // fixme: 自定义组件\n        // this.plot[r].setState(type, condition);\n        const method = getComponentStateMethod(r, type);\n        method(this.plot, condition);\n      }\n    });\n  }\n\n  // private set\n  private setZIndex(stateType: string, shape: Shape) {\n    if (stateType === 'active' || stateType === 'selected') {\n      // shape.setZIndex(1);\n      const children = shape.get('parent').get('children');\n      children[children.length - 1].setZIndex(0);\n      shape.setZIndex(1);\n    }\n  }\n\n  private resetZIndex() {\n    _.each(this.shapeContainers, (container) => {\n      const children = container.get('children');\n      children.sort((obj1, obj2) => {\n        return obj1._INDEX - obj2._INDEX;\n      });\n    });\n  }\n}\n","import { Axis } from '@antv/component';\nimport * as _ from '@antv/util';\nimport ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\n\nconst SCALE_MAPPER = {\n  cat: 'category',\n  timeCat: 'category',\n  time: 'dateTime',\n  linear: 'linear',\n};\n\nfunction updateTicks(nodes, axis) {\n  let tickShape = null;\n  axis\n    .get('group')\n    .get('children')\n    .forEach((shape) => {\n      if (shape.name === 'axis-ticks') {\n        tickShape = shape;\n        return false;\n      }\n    });\n  const ticks = axis.get('ticks');\n  const tickItems = axis.get('tickItems');\n  const tickTexts = [];\n  _.each(ticks, (tick) => {\n    const t = tick as any;\n    tickTexts.push(t.text);\n  });\n  let pathes = [];\n  _.each(nodes.nodes, (node) => {\n    const n = node as any;\n    if (n.width > 0 && n.height > 0) {\n      const text = n.shape.get('origin').text;\n      const index = tickTexts.indexOf(text);\n      const tickItem = tickItems[index];\n      pathes.push(['M', tickItem.x1, tickItem.y1], ['L', tickItem.x2, tickItem.y2]);\n    }\n  });\n\n  if (pathes.length === 0) {\n    pathes = [['M', 0, 0]];\n  }\n\n  tickShape.attr('path', pathes);\n}\n\nexport default class ApplyResponsiveAxis extends ApplyResponsive {\n  private dim: string;\n  private axisInstance: Axis.Base;\n\n  protected init() {\n    this.axisInstance = this.getAxisInstance();\n    super.init();\n  }\n\n  protected shouldApply() {\n    if (!this.responsiveTheme.axis) {\n      return false;\n    }\n    if (\n      this.responsiveTheme.axis[this.dim] &&\n      this.type &&\n      this.axisInstance &&\n      this.axisInstance.get('labelRenderer')\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  protected apply() {\n    const axis = this.axisInstance;\n    const rawLabels = axis\n      .get('labelRenderer')\n      .get('group')\n      .get('children');\n    const shapes = [];\n    for (let i = 0; i < rawLabels.length - 1; i++) {\n      shapes.push(rawLabels[i]);\n    }\n    const shapeNodes = new ShapeNodes({\n      shapes,\n    });\n    const { constraints, rules } = this.responsiveTheme.axis.x[this.type];\n    new Responsive({\n      nodes: shapeNodes,\n      constraints,\n      region: this.plot.view.get('viewRange'),\n      rules,\n      plot: this.plot,\n      onEnd: (nodes) => {\n        if (axis.get('tickLine')) {\n          updateTicks(nodes, axis);\n        }\n      },\n    });\n  }\n\n  protected getType() {\n    const props = this.plot.options;\n    const axis = `${this.dim}Axis`;\n    const field = `${this.dim}Field`;\n    if (props[axis] && props[axis].type && props[axis].type === 'dateTime') {\n      return 'dateTime';\n    }\n    const scaleType = this.plot.view.get('scales')[props[field]].type;\n    return SCALE_MAPPER[scaleType];\n  }\n\n  private getAxisInstance() {\n    const axisIndex = this.dim === 'x' ? 0 : 1;\n    const axis = this.plot.view.get('axisController').axes[axisIndex];\n    return axis;\n  }\n}\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onColumnClick: 'interval:click',\n  onColumnDblclick: 'interval:dblclick',\n  onColumnMousemove: 'interval:mousemove',\n  onColumnMouseenter: 'interval:mouseenter',\n  onColumnMouseleave: 'interval:mouseleave',\n  onColumnMousedown: 'interval:mousedown',\n  onColumnMouseup: 'interval:mouseup',\n  onColumnContextmenu: 'interval:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { DataPointType } from '@antv/g2/lib/interface';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { ElementOption, ICatAxis, ITimeAxis, IValueAxis, Label, DataItem } from '../../interface/config';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport './component/label/bar-label';\nimport * as EventParser from './event';\nimport './theme';\n\ninterface BarStyle {\n  opacity?: number;\n  lineDash?: number[];\n}\n\nconst G2_GEOM_MAP = {\n  bar: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'bar',\n};\n\nexport interface BarViewConfig extends ViewConfig {\n  colorField?: string;\n  // 图形\n  type?: 'rect'; // todo | 'triangle' | 'round';\n  // 百分比, 数值, 最小最大宽度\n  barSize?: number;\n  maxWidth?: number;\n  minWidth?: number;\n  barStyle?: BarStyle | ((...args: any[]) => BarStyle);\n  xAxis?: ICatAxis | ITimeAxis;\n  yAxis?: IValueAxis;\n}\n\nexport interface BarLayerConfig extends BarViewConfig, LayerConfig {}\n\nexport default class BaseBarLayer<T extends BarLayerConfig = BarLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): Partial<BarViewConfig> {\n    const cfg: Partial<BarViewConfig> = {\n      xAxis: {\n        visible: true,\n        line: {\n          visible: false,\n        },\n        title: {\n          visible: true,\n        },\n        label: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'rect',\n        },\n      },\n      label: {\n        visible: true,\n        position: 'left',\n        adjustColor: true,\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n      },\n    };\n    return _.deepMix({}, super.getDefaultOptions(), cfg);\n  }\n\n  public bar: any;\n  public type: string = 'bar';\n\n  public beforeInit() {\n    super.beforeInit();\n    const props = this.options;\n    /** 响应式图形 */\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  }\n\n  public afterRender() {\n    const props = this.options;\n    /** 响应式 */\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n    super.afterRender();\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected processData(data?: DataItem[]): DataItem[] {\n    return data ? data.slice().reverse() : data;\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置x-scale */\n    scales[props.yField] = {\n      type: 'cat',\n    };\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    /** 配置y-scale */\n    scales[props.xField] = {};\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    const coordConfig = {\n      actions: [['transpose']],\n    };\n    this.setConfig('coord', coordConfig);\n  }\n\n  protected adjustBar(bar: ElementOption) {\n    return;\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const bar = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this,\n    });\n    if (props.label) {\n      bar.label = this.extractLabel();\n    }\n    this.adjustBar(bar);\n    this.bar = bar;\n    this.setConfig('element', bar);\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.bar.animate = false;\n    }\n  }\n\n  protected extractLabel() {\n    const props = this.options;\n    const defaultOptions = this.getLabelOptionsByPosition(props.label.position);\n    const label = _.deepMix({}, defaultOptions, this.options.label as Label);\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'barLabel',\n      fields: [props.xField],\n      ...label,\n    });\n\n    return labelConfig;\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    _.each(methods, (r) => {\n      const responsive = r as DataPointType;\n      responsive.method(this);\n    });\n  }\n\n  public getLabelOptionsByPosition(position: string) {\n    if (position === 'middle') {\n      return {\n        offset: 0,\n      };\n    }\n\n    if (position === 'left') {\n      return {\n        offset: 7,\n        style: {\n          stroke: null,\n          lineWidth: 0,\n        },\n      };\n    }\n\n    if (position === 'right') {\n      return {\n        offset: 4,\n      };\n    }\n  }\n}\n\nregisterPlotType('bar', BaseBarLayer);\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setMatrixArrayType = setMatrixArrayType;\nexports.toRadian = toRadian;\nexports.equals = equals;\n/**\n * Common utilities\n * @module glMatrix\n */\n\n// Configuration Constants\nvar EPSILON = exports.EPSILON = 0.000001;\nvar ARRAY_TYPE = exports.ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nvar RANDOM = exports.RANDOM = Math.random;\n\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Type} type Array type, such as Float32Array or Array\n */\nfunction setMatrixArrayType(type) {\n  exports.ARRAY_TYPE = ARRAY_TYPE = type;\n}\n\nvar degree = Math.PI / 180;\n\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\nfunction toRadian(a) {\n  return a * degree;\n}\n\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\nfunction equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}","/**\n * 判断text是否可用, title description\n *\n * @param source\n */\nexport function isTextUsable(source?: { visible?: boolean; text?: string }): boolean {\n  if (!source) return false;\n  if (source.visible === true && typeof source.text === 'string' && source.text.trim()) return true;\n  return false;\n}\n\n/**\n * 为字符串添加换行符\n * @param source - 字符串数组 ['a', 'b', 'c']\n * @param breaks - 要添加换行的index\n *\n * @example\n * ```js\n * breakText(['a','b','c'], [1])\n *\n * // a\\nbc\n * ```\n */\nexport function breakText(source: string[], breaks: number[]): string {\n  const result = [...source];\n  breaks.forEach((pos, index) => {\n    result.splice(pos + index, 0, '\\n');\n  });\n  return result.join('');\n}\n","import { isNil } from '@antv/util';\nimport { Formatter } from '../interface/config';\n\nexport const combineFormatter = (...formatters: Formatter[]) => (text: string, item: any, idx) =>\n  formatters.reduce((curText, formatter) => formatter(curText, item, idx), text);\n\nexport const getNoopFormatter = () => (text: string, item: any, idx: number) => text;\n\nexport const getPrecisionFormatter = (precision?: number) => (text: string, item: any, idx: number) => {\n  const num = Number(text);\n  return isNaN(num) || isNil(precision) ? text : num.toFixed(precision);\n};\n\nexport const getSuffixFormatter = (suffix?: string) => (text: string, item: any, idx) => {\n  return isNil(suffix) ? text : `${text} ${suffix}`;\n};\n","/**\n * @description path 计算、转换的辅助工具\n */\n\nimport * as matrixUtil from '@antv/matrix-util';\nimport * as _ from '@antv/util';\nconst vector2 = matrixUtil.vec2;\n\ninterface PointObject {\n  x: number;\n  y: number;\n}\n\ntype PointArray = [number, number];\n\nfunction _points2path(points: PointObject[], isInCircle: boolean): any[] {\n  const path = [];\n  if (points.length) {\n    for (let i = 0, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      const command = i === 0 ? 'M' : 'L';\n      path.push([command, item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _getPointRadius(coord, point: PointObject): number {\n  const center = coord.getCenter();\n  const r = Math.sqrt(Math.pow(point.x - center.x, 2) + Math.pow(point.y - center.y, 2));\n  return r;\n}\n\nfunction _convertArr(arr: number[], coord): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convertPoint({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\n\nfunction _convertPolarPath(pre: any[], cur: any[], coord): any[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n\n  const prePoint = {\n    x: pre[1],\n    y: pre[2],\n  };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // 圆弧的方向\n  const flag = angleRange > Math.PI ? 1 : 0; // 大弧还是小弧标志位\n  const convertPoint = coord.convertPoint(curPoint);\n  const r = _getPointRadius(coord, convertPoint);\n  if (r >= 0.5) {\n    // 小于1像素的圆在图像上无法识别\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convertPoint(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// 当存在整体的圆时，去除圆前面和后面的线，防止出现直线穿过整个圆的情形\nfunction _filterFullCirleLine(path: any[]): void {\n  _.each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\nexport const smoothBezier = (\n  points: PointArray[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: PointArray[]\n): PointArray[] => {\n  const cps = [];\n\n  let prevPoint: PointArray;\n  let nextPoint: PointArray;\n  const hasConstraint = !!constraint;\n  let min: PointArray;\n  let max: PointArray;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vector2.min([], min, point);\n      max = vector2.max([], max, point);\n    }\n    min = vector2.min([], min, constraint[0]);\n    max = vector2.max([], max, constraint[1]);\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v = [];\n    v = vector2.sub(v, nextPoint, prevPoint);\n    v = vector2.scale(v, v, smooth);\n\n    let d0 = vector2.distance(point, prevPoint);\n    let d1 = vector2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vector2.scale([], v, -d0);\n    const v2 = vector2.scale([], v, d1);\n\n    let cp0 = vector2.add([], point, v1);\n    let cp1 = vector2.add([], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vector2.max([], cp0, min);\n      cp0 = vector2.min([], cp0, max);\n      cp1 = vector2.max([], cp1, min);\n      cp1 = vector2.min([], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n// 贝塞尔曲线\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: PointArray[]): any[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: PointArray;\n  let cp2: PointArray;\n  let p: PointArray;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n// 将点连接成路径 path\nexport function getLinePath(points: PointObject[], isInCircle: boolean): any[] {\n  return _points2path(points, isInCircle);\n}\n\n// get spline： 限定了范围的平滑线\nexport function getSplinePath(points: PointObject[], isInCircle: boolean, constaint: any): any[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // 两点以内直接绘制成路径\n    return getLinePath(points, isInCircle);\n  }\n  _.each(points, (point) => {\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  });\n  const constraint = constaint || [\n    // 范围\n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n// 获取点到圆心的距离\nexport function getPointRadius(coord, point: PointObject): number {\n  return _getPointRadius(coord, point);\n}\n\n// 获取点到圆心的夹角\nexport function getPointAngle(coord, point: PointObject): number {\n  const center = coord.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\nexport function convertNormalPath(coord, path: any[]): any[] {\n  const tmp = [];\n  _.each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\nexport function convertPolarPath(coord, path: any[]): any[] {\n  let tmp = [];\n  let pre: any[];\n  let cur: any[];\n  let transposed: boolean;\n  let equals: boolean;\n  _.each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // 是否半径相同，转换成圆弧\n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y 不相等，所以直接转换\n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // 过滤多余的直线\n  return tmp;\n}\n","import { DataPointType } from '@antv/g2/lib/interface';\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nexport default class LineParser extends ElementParser {\n  public init() {\n    const props = this.plot.options;\n    this.config = {\n      type: 'line',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n      connectNulls: props.connectNulls,\n    };\n    if (props.lineSize) {\n      this.parseSize();\n    }\n    if (props.smooth) {\n      this.config.shape = { values: ['smooth'] };\n    }\n    if (props.step) {\n      this.config.shape = { values: [props.step] };\n    }\n    if (props.seriesField || props.color) {\n      this.parseColor();\n    }\n    if (props.lineStyle) {\n      this.parseStyle();\n    }\n  }\n\n  public parseSize() {\n    const sizeProps = this.plot.options.lineSize;\n    const config: DataPointType = {};\n    if (_.isFunction(sizeProps)) {\n      config.callback = sizeProps;\n    } else {\n      config.values = [sizeProps];\n    }\n    this.config.size = config;\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: DataPointType = {};\n    if (props.seriesField) {\n      config.fields = [props.seriesField];\n    }\n    if (_.has(props, 'color')) {\n      const color = props.color;\n      if (_.isString(color)) {\n        config.values = [color];\n      } else if (_.isFunction(color)) {\n        config.callback = color;\n      } else {\n        config.values = color as [];\n      }\n    }\n\n    this.config.color = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.lineStyle;\n    const config = {\n      fields: null,\n      callback: null,\n      cfg: null,\n    };\n    if (_.isFunction(styleProps) && props.seriesField) {\n      config.fields = [props.seriesField];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n}\n","/** 可插拔的responsive模块 */\nimport { BBox, Shape } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { constraintsLib } from './constraints/index';\nimport ShapeNodes, { IShapeNode } from './node/shape-nodes';\nimport VariableNodes from './node/variable-node';\nimport { rulesLib } from './rules/index';\nimport { LooseMap } from '../../interface/types';\n\ninterface IConstraint {\n  name: string;\n  option?: any;\n}\n\ninterface IRule {\n  name: string;\n  method?: (...args: any[]) => any;\n  option?: any;\n}\n\ninterface ResponsiveCfg {\n  plot: any;\n  region?: any;\n  nodes: ShapeNodes | VariableNodes;\n  constraints: IConstraint[];\n  rules?: any;\n  iterationTime?: number;\n  onStart?: (...args: any[]) => any;\n  onIteration?: (...args: any[]) => any;\n  onEnd?: (...args: any[]) => any;\n  cfg?: LooseMap;\n}\n\nexport default class Responsive {\n  public plot: any;\n  public region: BBox;\n  public nodes: ShapeNodes | VariableNodes;\n  public constraints: any[];\n  public rules: any[];\n  public iterationTime: number = 10;\n  public iterationIndex: number = 0;\n  public rulesLocker: any[] = [];\n  public currentConstraint: IConstraint;\n  public constraintIndex: number = 0;\n  public onStart: (nodes: ShapeNodes | VariableNodes) => void;\n  public onIteration: (nodes: ShapeNodes | VariableNodes) => void;\n  public onEnd: (nodes: ShapeNodes | VariableNodes) => void;\n\n  constructor(cfg: ResponsiveCfg) {\n    _.assign(this, cfg);\n    this.currentConstraint = this.constraints[0];\n    if (this.rules) {\n      this.iterationTime = this.rules[this.currentConstraint.name].length;\n    }\n    this._start();\n    this._run();\n    this._end();\n  }\n\n  private _start() {\n    if (this.onStart) {\n      this.onStart(this.nodes);\n    }\n  }\n\n  private _iteration() {\n    let nodes;\n    if (this.nodes.type === 'shape') {\n      nodes = this.nodes as ShapeNodes;\n    } else {\n      nodes = this.nodes as VariableNodes;\n    }\n    if (nodes.type === 'shape') {\n      nodes.measureNodes();\n    }\n    if (this.rules) {\n      this._applyRules();\n    }\n    if (nodes.type === 'shape') {\n      nodes.measureNodes();\n    }\n    if (this.onIteration) {\n      this.onIteration(this.nodes);\n    }\n  }\n\n  private _end() {\n    if (this.onEnd) {\n      this.onEnd(this.nodes);\n    }\n  }\n\n  private _run() {\n    let constraintPassed = this._constraintsTest();\n    while (!constraintPassed) {\n      if (this.iterationIndex > this.iterationTime - 1) {\n        break;\n      }\n      this._iteration();\n      constraintPassed = this._constraintsTest();\n      this.iterationIndex++;\n    }\n    if (this.constraintIndex < this.constraints.length - 1) {\n      this.constraintIndex++;\n      this.currentConstraint = this.constraints[this.constraintIndex];\n      this.iterationTime = this.rules ? this.rules[this.currentConstraint.name].length : 1;\n      this.iterationIndex = 0;\n      this._run();\n    }\n  }\n\n  private _constraintsTest(): boolean {\n    const constraint = constraintsLib[this.currentConstraint.name];\n    const constraintOption = this.currentConstraint.option;\n    if (constraint.usage === 'compare') {\n      return this._constraintCompare(constraint, constraintOption);\n    }\n    return this._constraintAssignment(constraint, constraintOption);\n  }\n\n  private _constraintCompare(constraint, option) {\n    const { type, expression } = constraint;\n    const nodes = this.nodes.nodes;\n    if (type === 'chain') {\n      return this._chainConstraintCompare(expression, nodes, option);\n    }\n    if (type === 'padding') {\n      return this._paddingConstraintCompare(expression, this.region, nodes, option);\n    }\n    if (type === 'group') {\n      return this._groupConstraintCompare(expression, nodes, option);\n    }\n  }\n\n  private _chainConstraintCompare(expression, nodes, option) {\n    for (let i = 0; i < nodes.length - 1; i++) {\n      const a = nodes[i];\n      const b = nodes[i + 1];\n      if (expression(a, b, option) === false) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private _paddingConstraintCompare(expression, region, nodes, option) {\n    if (region) {\n      for (const node of nodes) {\n        if (expression(node, region, option) === false) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  private _groupConstraintCompare(expression, nodes, option) {\n    for (let i = 0; i < nodes.length; i++) {\n      const a = nodes[i];\n      for (let j = 0; j < nodes.length; j++) {\n        if (j !== i) {\n          const b = nodes[j];\n          if (expression(a, b, option) === false) {\n            return false;\n          }\n        }\n      }\n    }\n    return true;\n  }\n\n  private _constraintAssignment(constraint, option) {\n    const { type, expression } = constraint;\n    const nodes = this.nodes.nodes;\n    if (type === 'chain') {\n      return this._chainConstraintAssign(expression, nodes, option);\n    }\n    if (type === 'padding') {\n      return this._paddingConstraintAssign(expression, this.region, nodes, option);\n    }\n  }\n\n  private _chainConstraintAssign(expression, nodes, option) {\n    return true;\n  }\n\n  private _paddingConstraintAssign(expression, region, nodes, option) {\n    if (region) {\n      for (const node of nodes) {\n        const value = expression(node, region, option);\n        node.value = value;\n      }\n    }\n    return true;\n  }\n\n  private _applyRules() {\n    const ruleCfg = this.rules[this.currentConstraint.name][this.iterationIndex];\n    // if (this.rulesLocker.indexOf(ruleCfg) < 0) {\n    const rule = rulesLib[ruleCfg.name];\n    const option = ruleCfg.option ? ruleCfg.option : {};\n    const nodes = this.nodes.nodes as IShapeNode[];\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i];\n      /** apply rule上下文 */\n      this._applyRule(node.shape, rule, option, i);\n    }\n    // this.rulesLocker.push(ruleCfg);\n    // }\n  }\n\n  private _applyRule(shape: Shape, rule, option, index) {\n    const cfg = {\n      nodes: this.nodes,\n      region: this.region,\n      plot: this.plot,\n    };\n    // rule(shape, option, index, this);\n    rule(shape, option, index, cfg);\n  }\n}\n","import { DataPointType } from '@antv/g2/lib/interface';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { ElementOption, ICatAxis, ITimeAxis, IValueAxis, Label } from '../../interface/config';\nimport { extractScale } from '../../util/scale';\nimport responsiveMethods from './apply-responsive';\nimport * as EventParser from './event';\nimport './theme';\nimport { PointStyle, LineStyle } from '../line/layer';\n\ninterface AreaStyle {\n  opacity?: number;\n  lineDash?: number[];\n  strokeStyle?: string;\n  lineWidth?: number;\n}\n\nconst GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n  point: 'point',\n};\n\nexport interface AreaViewConfig extends ViewConfig {\n  areaStyle?: AreaStyle | ((...args: any) => AreaStyle);\n  seriesField?: string;\n  xAxis?: ICatAxis | ITimeAxis;\n  yAxis?: IValueAxis;\n  line?: {\n    visible?: boolean;\n    color?: string;\n    size?: number;\n    style?: LineStyle;\n  };\n  point?: {\n    visible?: boolean;\n    color?: string;\n    size?: number;\n    shape?: string;\n    style?: PointStyle;\n  };\n  smooth?: boolean;\n}\n\nexport interface AreaLayerConfig extends AreaViewConfig, LayerConfig {}\n\nexport default class AreaLayer<T extends AreaLayerConfig = AreaLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      smooth: false,\n      areaStyle: {\n        opacity: 0.25,\n        fillOpacity: 1,\n      },\n      line: {\n        visible: true,\n        size: 2,\n        style: {\n          opacity: 1,\n          lineJoin: 'round',\n          lineCap: 'round',\n        },\n      },\n      point: {\n        visible: false,\n        size: 4,\n        shape: 'point',\n      },\n      label: {\n        visible: false,\n        type: 'point',\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        wordSpacing: 4,\n      },\n    });\n  }\n\n  public line: any;\n  public point: any;\n  public area: any;\n  public type: string = 'area';\n\n  public beforeInit() {\n    super.beforeInit();\n    /** 响应式图形 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  }\n\n  public afterRender() {\n    /** 响应式 */\n    if (this.options.responsive && this.options.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n    super.afterRender();\n  }\n\n  protected geometryParser(dim, type) {\n    return GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置x-scale */\n    scales[props.xField] = {\n      type: 'cat',\n    };\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n    scales[props.yField] = {};\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {}\n\n  protected addGeometry() {\n    const props = this.options;\n    const area = getGeom('area', 'main', {\n      plot: this,\n    });\n    this.area = area;\n\n    if (props.label) {\n      this.label();\n    }\n    this.adjustArea(area);\n    this.setConfig('element', area);\n\n    this.addLine();\n\n    this.addPoint();\n  }\n\n  protected adjustArea(area: ElementOption) {\n    return;\n  }\n\n  protected adjustLine(line: ElementOption) {\n    return;\n  }\n\n  protected adjustPoint(point: ElementOption) {\n    return;\n  }\n\n  protected addLine() {\n    const props = this.options;\n    const lineConfig = _.deepMix({}, props.line);\n    if (lineConfig.visible) {\n      const line = getGeom('line', 'guide', {\n        type: 'line',\n        plot: this,\n        line: lineConfig,\n      });\n      this.adjustLine(line);\n      this.setConfig('element', line);\n      this.line = line;\n    }\n  }\n\n  protected addPoint() {\n    const props = this.options;\n    const pointConfig = _.deepMix({}, props.point);\n    if (pointConfig.visible) {\n      const point = getGeom('point', 'guide', {\n        plot: this,\n      });\n      this.adjustPoint(point);\n      this.setConfig('element', point);\n      this.point = point;\n    }\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      // 关闭动画\n      this.area.animate = false;\n      if (this.line) this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    }\n  }\n\n  protected label() {\n    const props = this.options;\n    const label = props.label as Label;\n\n    if (label.visible === false) {\n      if (this.line) {\n        this.line.label = false;\n      }\n      this.area.label = false;\n      return;\n    }\n    this.area.label = getComponent('label', {\n      fields: [props.yField],\n      plot: this,\n    });\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    _.each(methods, (r) => {\n      const responsive = r as DataPointType;\n      responsive.method(this);\n    });\n  }\n}\n\nregisterPlotType('area', AreaLayer);\n","import { Shape } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../../util/color';\nimport { LooseMap } from '../../../../interface/types';\n\nconst TOP_MARGIN = 20;\n\ntype Point = LooseMap;\n\nexport class ColumnLabels extends ElementLabels {\n  public setLabelPosition(point, originPoint, index, originPosition) {\n    let position = originPosition;\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n    const coord = this.get('coord');\n    const point0 = coord.convertPoint(originPoint.points[0]);\n    const point1 = coord.convertPoint(originPoint.points[2]);\n    const negative = point0.y < point1.y;\n    const width = (point0.x - point1.x) / 2;\n    const height = (point0.y - point1.y) / 2;\n\n    switch (position) {\n      case 'right':\n        point.x -= width;\n        point.y += height;\n        point.textAlign = point.textAlign || 'left';\n        break;\n      case 'left':\n        point.x += width;\n        point.y += height;\n        point.textAlign = point.textAlign || 'right';\n        break;\n      case 'bottom':\n        point.y += height * 2;\n        point.textAlign = point.textAlign || 'center';\n        break;\n      case 'middle':\n        point.y += height;\n        point.textAlign = point.textAlign || 'center';\n        break;\n      case 'top':\n        point.textAlign = point.textAlign || 'center';\n        break;\n      default:\n        break;\n    }\n  }\n\n  private adjustOffset(points: LooseMap[], shapes: Shape[]) {\n    const renderer = this.get('labelsRenderer');\n    const items = renderer.get('items');\n    const labels = renderer.get('group').get('children');\n    const coord = this.get('coord');\n    _.each(items, (item, idx) => {\n      const label = labels[idx];\n      const point0 = coord.convertPoint(points[idx].points[0]);\n      const point1 = coord.convertPoint(points[idx].points[2]);\n      const negative = point0.y < point1.y;\n      if (negative) {\n        item.y += item.offset * 2;\n        label.attr('textBaseline', 'top');\n        label.attr('y', label.attr('y') + item.offset * 2);\n      }\n    });\n  }\n\n  public showLabels(points: LooseMap[], shapes: Shape[]) {\n    super.showLabels(points, shapes);\n    this.adjustOffset(points, shapes);\n    const renderer = this.get('labelsRenderer');\n    const labels = renderer.get('group').get('children');\n    const items = renderer.get('items');\n    const view = this.get('element').get('view');\n    _.each(labels, (label, index) => {\n      const l = label as Shape;\n      const item = items[index];\n      const origin = l.get('origin');\n      const shapeId = this.get('element').getShapeId(origin);\n      const shape = this._getShape(shapeId, shapes);\n      const { adjustColor, adjustPosition } = this.get('labelOptions');\n      if (adjustPosition) {\n        this.adjustPosition(l, shape, item);\n      }\n      if (adjustColor) {\n        this.adjustColor(l, shape);\n      }\n    });\n    view.get('canvas').draw();\n  }\n\n  public _getShape(shapeId, shapes) {\n    let target;\n    _.each(shapes, (shape) => {\n      const s = shape as Point;\n      const id = s.id;\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n    return target;\n  }\n\n  public adjustPosition(label, shape, item) {\n    const labelRange = label.getBBox();\n    const shapeRange = shape.getBBox();\n    if (shapeRange.height <= labelRange.height && item.position !== 'top') {\n      const yPosition = shapeRange.minY - TOP_MARGIN;\n      label.attr('y', yPosition);\n    }\n  }\n\n  public adjustColor(label, shape) {\n    const labelRange = label.getBBox();\n    const shapeRange = shape.getBBox();\n    if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = this._mappingColor(colorBand, gray);\n      label.attr('fill', reflect);\n      if (reflect !== 'black') {\n        label.attr('stroke', null);\n        label.attr('lineWidth', 0);\n      } else {\n        label.attr('stroke', 'white');\n        label.attr('lineWidth', 2);\n      }\n    } else if (labelRange.maxY < shapeRange.minY) {\n      // 非 shape 范围内的 label 需要考虑主题背景\n      const theme = this.get('theme');\n      const labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n      label.attr('fill', labelTextColor);\n    }\n  }\n\n  public _mappingColor(band, gray) {\n    let reflect;\n    _.each(band, (b) => {\n      const map = b as Point;\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n    return reflect;\n  }\n}\n\nregisterElementLabels('columnLabel', ColumnLabels);\n","import { Shape } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../../util/color';\nimport { LooseMap } from '../../../../interface/types';\n\nconst TOP_MARGIN = 20;\n\nexport class ScatterLabels extends ElementLabels {\n  public setLabelPosition(point, originPoint, index, originPosition) {\n    let position = originPosition;\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n    const { size } = originPoint;\n    const p = originPoint.points[0];\n    const coord = this.get('coord');\n    const width = size;\n    const height = size;\n\n    switch (position) {\n      case 'right':\n        point.x += width * 2;\n        point.textAlign = point.textAlign || 'left';\n        break;\n      case 'left':\n        point.x -= width * 2;\n        point.textAlign = point.textAlign || 'right';\n        break;\n      case 'bottom':\n        point.y += height * 2;\n        point.textAlign = point.textAlign || 'center';\n        point.textBaseline = 'top';\n        break;\n      case 'middle':\n        point.textBaseline = 'middle';\n        point.textAlign = point.textAlign || 'center';\n        break;\n      case 'top':\n        point.y -= height * 2;\n        point.textAlign = point.textAlign || 'center';\n        point.textBaseline = 'bottom';\n        break;\n      default:\n        break;\n    }\n  }\n  public showLabels(points: any, shapes: Shape[]) {\n    super.showLabels(points, shapes);\n    const renderer = this.get('labelsRenderer');\n    const labels = renderer.get('group').get('children');\n    const items = renderer.get('items');\n    const view = this.get('element').get('view');\n    _.each(labels, (label, index) => {\n      const l = label as Shape;\n      const item = items[index];\n      const origin = l.get('origin');\n      const shapeId = this.get('element').getShapeId(origin);\n      const shape = this._getShape(shapeId, shapes);\n      const { adjustColor, adjustPosition } = this.get('labelOptions');\n      if (adjustPosition) {\n        this.adjustPosition(l, shape, item);\n      }\n      if (adjustColor) {\n        this.adjustColor(l, shape);\n      }\n    });\n    view.get('canvas').draw();\n  }\n\n  public _getShape(shapeId, shapes) {\n    let target;\n    _.each(shapes, (shape) => {\n      const s = shape as LooseMap;\n      const id = s.id;\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n    return target;\n  }\n\n  public adjustPosition(label, shape, item) {\n    const originData = shape.get('origin')._origin;\n    const labelRange = label.getBBox();\n    const shapeRange = shape.getBBox();\n    if (\n      shapeRange.height <= labelRange.height ||\n      (shapeRange.width <= labelRange.width && item.position === 'middle')\n    ) {\n      label.attr('text', '');\n    }\n  }\n\n  public adjustColor(label, shape) {\n    const labelRange = label.getBBox();\n    const shapeRange = shape.getBBox();\n    if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n\n      const reflect = this._mappingColor(colorBand, gray);\n      label.attr('fill', reflect);\n    } else if (labelRange.maxY < shapeRange.minY) {\n      const theme = this.get('theme');\n      const labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n      label.attr('fill', labelTextColor);\n    }\n  }\n\n  public _mappingColor(band, gray) {\n    let reflect;\n    _.each(band, (b) => {\n      const map = b as LooseMap;\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n    return reflect;\n  }\n}\n\nregisterElementLabels('scatterLabel', ScatterLabels);\n","import { groupBy, mapValues, map, flatten, isNumber, reduce, each } from '@antv/util';\nimport { DataItem } from '../interface/config';\n\nexport const transformDataPercentage = (data: DataItem[], groupField: string, measures: string[]): DataItem[] => {\n  // 按照groupBy字段计算各个group的总和\n  let chain = groupBy(data, groupField);\n  chain = mapValues(chain, (items) => map(items, (item) => map(measures, (field) => item[field])));\n  chain = mapValues(chain, flatten);\n  chain = mapValues(chain, (vals) =>\n    map(vals, (val) => {\n      // @ts-ignore\n      const v = Number.parseFloat(val);\n      if (!isNumber(v) || isNaN(v)) {\n        return 0;\n      }\n      return v;\n    })\n  );\n  // @ts-ignore\n  const groupTotals = mapValues(chain, (vals: number[]) => reduce(vals, (sum, val) => sum + val, 0));\n\n  // 覆盖measures字段的值为对于的百分比\n  const newData = map(data, (item) => {\n    const rst = { ...item, _origin: item, total: groupTotals[item[groupField]] };\n    each(measures, (field) => {\n      // @ts-ignore\n      rst[field] = item[field] / groupTotals[item[groupField]];\n    });\n    return rst;\n  });\n\n  // 检查精度，确保总和为1\n  each(groupBy(newData, groupField), (items: DataItem[]) => {\n    let sum = 0;\n    each(items, (item: DataItem, itemIdx: number) => {\n      each(measures, (field: string, fieldIdx: number) => {\n        // @ts-ignore\n        if (sum + item[field] >= 1 || (itemIdx === items.length - 1 && fieldIdx === measures.length - 1)) {\n          item[field] = 1 - sum;\n        }\n        // @ts-ignore\n        sum += item[field];\n      });\n    });\n  });\n\n  // @ts-ignore\n  return newData;\n};\n","import { LabelItem } from '@antv/component/lib/interface';\nimport Polar from '@antv/coord/lib/coord/polar';\nimport { BBox, Shape } from '@antv/g';\nimport { getElementLabels } from '@antv/g2';\nimport { getOverlapArea, getEndPoint, near } from './utils';\nimport { getEllipsisText } from './utils/text';\nimport { PieViewConfig } from '../../layer';\n\nconst PieElementLabels = getElementLabels('pie');\n\ninterface LabelData {\n  name: string;\n  value: number;\n  percent: number;\n}\n/**\n * @desc eva-pie 所有自定义 pie-label 的基类\n */\nexport default abstract class extends PieElementLabels {\n  // labels 的 起点锚点 anchorRadius: r + offset\n  protected anchors: Array<{ x: number; y: number; id: string } & LabelItem>;\n  protected anchorRadius: number;\n  public showLabels(points: any, shapes: Shape[]) {\n    super.showLabels(points, shapes);\n    const view = this.get('element').get('view');\n    const coord = this.get('coord');\n    const panel = view.get('panelRange');\n    // 调整\n    const renderer = this.get('labelsRenderer');\n    const labels: Shape[] = renderer.get('group').get('children');\n    // 注入data数据\n    const data = view.get('data');\n    const { fields } = this.getLabelOptions();\n    const angleField = fields[0];\n    const colorField = fields[1];\n    const scale = view.get('scales')[angleField];\n    labels.forEach((label, idx) => {\n      const dataItem = data[idx];\n      const percentage = scale.scale(dataItem[angleField]);\n      label.attr('data', { value: dataItem[angleField], name: dataItem[colorField], percent: percentage });\n    });\n    const items = renderer.get('items') || [];\n    // 处理 label anchors\n    this.anchors = [];\n    const anchorRadius = coord.getRadius() + this.getOffsetOfLabel();\n    this.anchorRadius = anchorRadius;\n    labels.forEach((label, idx) => {\n      const item = items[idx];\n      const point = getEndPoint(coord.getCenter(), item.angle, anchorRadius);\n      this.anchors.push({ ...item, ...point, id: label.id });\n    });\n    const labelLines = renderer.get('lineGroup').get('children') || [];\n    this.adjustPosition(labels, items, coord, panel);\n    this.adjustTexts(labels, items, coord, panel);\n    // should adjust overlap before asjustLines\n    this.adjustOverlap(labels, panel);\n    this.adjustLines(labels, items, labelLines, coord, panel);\n    view.get('canvas').draw();\n  }\n\n  /** 调整 labels */\n  public abstract adjustPosition(labels: Shape[], items: LabelItem[], coord: Polar, panel: BBox): void;\n\n  /** 调整 label lines */\n  public abstract adjustLines(labels: Shape[], items: LabelItem[], lines: Shape[], coord: Polar, panel: BBox): void;\n\n  /** 调整 label texts */\n  public adjustTexts(labels: Shape[], items: LabelItem[], coord: Polar, panel: BBox) {\n    labels.forEach((label) => {\n      const anchor = items.find((v) => v.id === label.id);\n      this.adjustLabelText(label, anchor, coord, panel);\n    });\n  }\n\n  public adjustItems(originItems: LabelItem[]) {\n    // could not extends super\n    return originItems;\n  }\n\n  /** 调整 label text */\n  protected adjustLabelText(label: Shape, item: LabelItem, coord: Polar, panel: BBox) {\n    const box = label.getBBox();\n    const textAlign = item.textAlign;\n    const maxWidth = textAlign === 'right' ? box.maxX - panel.minX : panel.maxX - box.minX;\n    if (maxWidth < box.width) {\n      const font = {\n        fontFamily: label.attr('fontFamily'),\n        fontSize: label.attr('fontSize'),\n        fontVariant: label.attr('fontVariant'),\n        fontWeight: label.attr('fontWeight'),\n        fontStyle: label.attr('fontStyle'),\n      };\n      const originText = label.attr('text');\n      const data: LabelData = label.attr('data');\n      /** label 优先级: 数值 - 百分比 - 分类名(先通过正则的方式处理) */\n      const priority = ['[\\\\d,.]*', '[\\\\d.]*%', data.name];\n      const EllipsisTextArr = originText.split('\\n').map((t) => getEllipsisText(t, maxWidth - 2, font, priority));\n      label.attr('text', EllipsisTextArr.join('\\n'));\n    }\n  }\n\n  /** 处理标签遮挡问题 */\n  protected adjustOverlap(labels: Shape[], panel: BBox): void {\n    if (this.getLabelOptions().allowOverlap) {\n      return;\n    }\n    // clearOverlap;\n    for (let i = 1; i < labels.length; i++) {\n      const label = labels[i];\n      let overlapArea = 0;\n      for (let j = i - 1; j >= 0; j--) {\n        const prev = labels[j];\n        // fix: start draw point.x is error when textAlign is right\n        const prevBox = prev.getBBox();\n        const currBox = label.getBBox();\n        // if the previous one is invisible, skip\n        if (prev.get('visible')) {\n          overlapArea = getOverlapArea(prevBox, currBox);\n          if (!near(overlapArea, 0)) {\n            label.set('visible', false);\n            break;\n          }\n        }\n      }\n    }\n    labels.forEach((label) => this.checkInPanel(label, panel));\n  }\n\n  /**\n   * 超出panel边界的标签默认隐藏\n   */\n  protected checkInPanel(label: Shape, panel: BBox): void {\n    const box = label.getBBox();\n    //  横向溢出 暂不隐藏\n    if (!(panel.y <= box.y && panel.y + panel.height >= box.y + box.height)) {\n      label.set('visible', false);\n    }\n  }\n\n  /** 默认用户配置的offset,  */\n  protected abstract getOffsetOfLabel(): number;\n\n  protected getLabelOptions(): PieViewConfig['label'] {\n    return this.get('labelOptions');\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport './geometry/shape/waterfall';\nimport { LayerConfig } from '../../base/layer';\nimport { ElementOption, IStyleConfig, DataItem, Label } from '../../interface/config';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport { DataPointType } from '@antv/g2/lib/interface';\nimport { AttributeCfg } from '@antv/attr';\nimport { getComponent } from '../../components/factory';\nimport * as EventParser from './event';\nimport './component/label/waterfall-label';\nimport DiffLabel, { DiffLabelcfg } from './component/label/diff-label';\n\ninterface WaterfallStyle {}\n\nconst G2_GEOM_MAP = {\n  waterfall: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'waterfall',\n};\n\nexport const VALUE_FIELD = '$$value$$';\nexport const IS_TOTAL = '$$total$$';\nconst INDEX_FIELD = '$$index$$';\n\nexport interface WaterfallViewConfig extends ViewConfig {\n  showTotal?: {\n    visible: boolean;\n    label: string;\n  };\n  /** 差值label */\n  diffLabel?: {\n    visible: boolean;\n    style?: DiffLabelcfg['style'];\n    formatter?: DiffLabelcfg['formatter'];\n  };\n  leaderLine?: {\n    visible: boolean;\n    style?: {\n      stroke?: string;\n      lineWidth?: number;\n      lineDash?: number[];\n    };\n  };\n  color?:\n    | string\n    | { rising: string; falling: string; total?: string }\n    | ((type: string, value: number | null, values: number | number[], index: number) => string);\n  waterfallStyle?: WaterfallStyle | ((...args: any[]) => WaterfallStyle);\n}\n\nexport interface WaterfallLayerConfig extends WaterfallViewConfig, LayerConfig {}\n\nexport default class WaterfallLayer extends ViewLayer<WaterfallLayerConfig> {\n  public waterfall;\n  public type: string = 'watarfall';\n  public diffLabel;\n\n  public static getDefaultOptions(): Partial<WaterfallLayerConfig> {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      legend: {\n        visible: false,\n        position: 'bottom',\n      },\n      label: {\n        visible: true,\n        adjustPosition: true,\n      },\n      /** 差值 label */\n      diffLabel: {\n        visible: true,\n      },\n      /** 迁移线 */\n      leaderLine: {\n        visible: true,\n      },\n      /** 显示总计 */\n      showTotal: {\n        visible: true,\n        label: '总计值',\n      },\n      waterfallStyle: {\n        /** 默认无描边 */\n        lineWidth: 0,\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: {\n          type: 'rect',\n        },\n      },\n    });\n  }\n\n  public getOptions(props: WaterfallLayerConfig) {\n    const options = super.getOptions(props);\n    this.adjustLegendOptions(options);\n    this.adjustMeta(options);\n    return options;\n  }\n\n  public afterInit() {\n    super.afterInit();\n    const options = this.options;\n    if (options.diffLabel && options.diffLabel.visible) {\n      this.diffLabel = new DiffLabel({\n        view: this.view,\n        fields: [options.xField, options.yField, VALUE_FIELD],\n        formatter: options.diffLabel.formatter,\n        style: options.diffLabel.style,\n      });\n    } else if (this.diffLabel) {\n      this.diffLabel.clear();\n      this.diffLabel = null;\n    }\n  }\n\n  public afterRender() {\n    super.afterRender();\n    const options = this.options;\n    this.view.on('tooltip:change', (e) => {\n      const { items } = e;\n      for (let i = 0; i < items.length; i++) {\n        const item = items[i];\n        const _origin = _.get(item.point, '_origin', {});\n        // 改变 tooltip 显示的name和value\n        item.name = _origin[options.xField];\n        item.value = _origin[options.yField];\n        if (!item.value && _origin[IS_TOTAL]) {\n          const values = _origin[VALUE_FIELD];\n          item.value = values[0] - values[1];\n        }\n        e.items[i] = item;\n      }\n    });\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected addGeometry() {\n    const options = this.options;\n    const waterfall: ElementOption = {\n      type: 'interval',\n      position: {\n        fields: [options.xField, VALUE_FIELD],\n      },\n      shape: {\n        values: ['waterfall'],\n      },\n    };\n    if (options.label) {\n      waterfall.label = this.extractLabel();\n    }\n    waterfall.style = this._parseStyle();\n    waterfall.color = this._parseColor();\n    this.waterfall = waterfall;\n    this.setConfig('element', waterfall);\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const plotData = [];\n    const xField = this.options.xField;\n    const yField = this.options.yField;\n    _.map(originData, (dataItem, idx: number) => {\n      let value: any = dataItem[yField];\n      if (idx > 0) {\n        const prevValue = plotData[idx - 1][VALUE_FIELD];\n        if (_.isArray(prevValue)) {\n          value = [prevValue[1], dataItem[yField] + prevValue[1]];\n        } else {\n          value = [prevValue, dataItem[yField] + prevValue];\n        }\n      }\n      plotData.push({\n        ...dataItem,\n        [VALUE_FIELD]: value,\n        [INDEX_FIELD]: idx,\n      });\n    });\n    if (this.options.showTotal && this.options.showTotal.visible) {\n      const values = _.map(originData, (o) => o[yField]);\n      const totalValue = _.reduce(values, (p: number, n: number) => p + n, 0);\n      plotData.push({\n        [xField]: this.options.showTotal.label,\n        [yField]: null,\n        [VALUE_FIELD]: [totalValue, 0],\n        [INDEX_FIELD]: plotData.length,\n        [IS_TOTAL]: true,\n      });\n    }\n    return plotData;\n  }\n\n  protected scale() {\n    const { options } = this;\n    const scales = {};\n    /** 配置x-scale */\n    scales[options.xField] = { type: 'cat' };\n    if (_.has(options, 'xAxis')) {\n      extractScale(scales[options.xField], options.xAxis);\n    }\n    /** 配置y-scale */\n    scales[VALUE_FIELD] = {};\n    if (_.has(options, 'yAxis')) {\n      extractScale(scales[VALUE_FIELD], options.yAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  /** @override */\n  protected axis(): void {\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'x',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'y',\n    });\n    const axesConfig = { fields: {} };\n    axesConfig.fields[this.options.xField] = xAxis_parser;\n    axesConfig.fields[VALUE_FIELD] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected coord() {}\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  protected extractLabel() {\n    const options = this.options;\n    const label = _.deepMix({}, options.label as Label);\n    if (label.visible === false) {\n      return false;\n    }\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'waterfall',\n      fields: [options.yField],\n      ...label,\n    });\n    return labelConfig;\n  }\n\n  /** 牵引线的样式注入到style中 */\n  private _parseStyle(): IStyleConfig {\n    const style = this.options.waterfallStyle;\n    const leaderLine = this.options.leaderLine;\n    const config: DataPointType = {};\n    if (_.isFunction(style)) {\n      config.callback = (...args) => {\n        return Object.assign({}, style(...args), { leaderLine });\n      };\n    } else {\n      config.cfg = { ...style, leaderLine };\n    }\n\n    return config;\n  }\n\n  private _parseColor(): AttributeCfg {\n    const options = this.options;\n    const { xField, yField } = this.options;\n    const config: any = {\n      fields: [xField, yField, VALUE_FIELD, INDEX_FIELD],\n    };\n    if (_.isFunction(options.color)) {\n      config.callback = options.color;\n    } else {\n      let risingColor = '#f4664a';\n      let fallingColor = '#30bf78';\n      let totalColor = 'rgba(0, 0, 0, 0.25)';\n      if (_.isString(options.color)) {\n        risingColor = fallingColor = totalColor = options.color;\n      } else if (_.isObject(options.color)) {\n        const { rising, falling, total } = options.color;\n        risingColor = rising;\n        fallingColor = falling;\n        totalColor = total;\n      }\n      config.callback = (type, value, values: number | number[], index: number) => {\n        if (index === this.options.data.length) {\n          return totalColor || (values[0] >= 0 ? risingColor : fallingColor);\n        }\n        return (_.isArray(values) ? values[1] - values[0] : values) >= 0 ? risingColor : fallingColor;\n      };\n    }\n    return config as AttributeCfg;\n  }\n\n  /** 复写 legend 配置, 瀑布图默认无legend */\n  private adjustLegendOptions(options): void {\n    const legendOptions = options.legend;\n    if (legendOptions) {\n      legendOptions.visible = false;\n    }\n  }\n\n  /** 复写 meta 配置 */\n  private adjustMeta(options): void {\n    const metaOptions = options.meta;\n    if (metaOptions) {\n      const valueFieldMeta = metaOptions ? metaOptions[options.yField] : {};\n      valueFieldMeta.alias = valueFieldMeta.alias || options.yField;\n      options.meta[VALUE_FIELD] = valueFieldMeta;\n    }\n  }\n}\n\nregisterPlotType('waterfall', WaterfallLayer);\n","/**\n * G2-Plot配置项\n * 注意事项：\n * 1. 命名采用驼峰\n * 2. 如果是枚举值，不使用enum，全部列出\n * 3. 减少嵌套，尽量平铺配置\n */\nimport { Option } from '@antv/g2';\nimport { ScaleConfig } from '@antv/scale';\nimport { AttributeCfg, LabelOptions } from '@antv/g2/lib/element/base';\nimport { AdjustCfg } from '@antv/g2/lib/interface';\nimport { LooseMap } from './types';\n\nexport interface ITitle {\n  visible: boolean;\n  text: string;\n  style?: {};\n  alignWithAxis?: boolean;\n}\n\nexport interface IDescription {\n  visible: boolean;\n  text: string;\n  style?: {};\n  alignWithAxis?: boolean;\n}\n\ntype IEvents = LooseMap<string>;\n\nexport type Formatter = (text: string, item: any, idx: number) => string;\n\n// TODO: g 提供详细style的类型定义\nexport interface IStyleConfig {\n  [key: string]: string | number | boolean;\n}\n\nexport interface IBaseAxis {\n  /** 轴是否需要显示，默认true */\n  visible?: boolean;\n  /** 轴类型，对应scale类型 */\n  type?: 'linear' | 'time' | 'cat' | 'dateTime' | 'category' | 'log' | 'pow' | 'timeCat';\n  /** scale 是否设置 nice */\n  nice?: boolean;\n  /** scale 自定义 tickMethod */\n  tickMethod?: string | ((cfg: ScaleConfig) => number[]);\n  /** 轴位置，默认下和左 */\n  line?: {\n    visible?: boolean;\n    style?: IStyleConfig;\n  };\n  grid?: {\n    /** 网格线是否显示 */\n    visible?: boolean;\n    style?: IStyleConfig | ((text: string, idx: number, count: number) => IStyleConfig);\n  };\n  /** 网格线样式 */\n  gridType?: 'line' | 'arc';\n  /** 网格设置交替的颜色，指定一个值则先渲染奇数层，两个值则交替渲染 */\n  gridAlternateColor?: string | string[];\n  autoRotateLabel?: boolean | number[]; // 当 label 过长发生遮挡时是否自动旋转坐标轴文本，默认为 true\n  autoHideLabel?: boolean; // 当 label 存在遮挡时，是否自动隐藏被遮挡的坐标轴文本，默认为 false\n  autoRotateTitle?: boolean;\n  label?: {\n    visible?: boolean;\n    formatter?: (...args: any[]) => string;\n    offset?: number; // 坐标轴文本距离坐标轴线的距离\n    offsetX?: number; // 在 offset 的基础上，设置坐标轴文本在 x 方向上的偏移量\n    offsetY?: number; // 在 offset 的基础上，设置坐标轴文本在 y 方向上的偏移量\n    rotate?: number; // label 文本旋转的角度，使用角度制\n    useHtml?: boolean; // 是否开启使用 HTML 渲染坐标轴文本\n    htmlTemplate?: string; // 返回 label 的 html 字符串，只在 useHtml: true 的情况下生效\n    style?: IStyleConfig;\n  };\n  title?: {\n    visible?: boolean;\n    autoRotate?: boolean;\n    text?: string;\n    offset?: number;\n    style?: IStyleConfig;\n  };\n  tickLine?: {\n    visible?: boolean;\n    style?: IStyleConfig;\n  };\n  events?: IEvents;\n}\n/** Linear型 */\nexport interface IValueAxis extends IBaseAxis {\n  type?: 'linear';\n  /** tick相关配置 */\n  min?: number;\n  max?: number;\n  minLimit?: number;\n  maxLimit?: number;\n  tickCount?: number;\n  tickInterval?: number;\n}\n/** 时间型 */\nexport interface ITimeAxis extends IBaseAxis {\n  type?: 'time';\n  /** tick相关配置 */\n  tickInterval?: string;\n  tickCount?: number;\n  groupBy?: string;\n}\n/** 离散类目型 */\nexport interface ICatAxis extends IBaseAxis {\n  type?: 'cat';\n  /** tick相关配置 */\n  tickInterval?: number;\n  tickCount?: number;\n  groupBy?: string;\n}\n\nexport type Axis = ICatAxis | IValueAxis | ITimeAxis;\n\nexport interface Label {\n  visible: boolean;\n  type?: string;\n  formatter?: (text: string, item: any, idx: number, ...extras: any[]) => string;\n  /** 精度配置，可通过自定义精度来固定数值类型 label 格式 */\n  precision?: number;\n  /** 添加后缀 */\n  suffix?: string;\n  style?: {};\n  offset?: number;\n  offsetX?: number;\n  offsetY?: number;\n  events?: IEvents;\n  position?: string;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n  autoRotate?: boolean;\n  labelLine?: any;\n}\n\nexport interface Legend {\n  visible?: boolean;\n  /** 位置 */\n  position?: string;\n  /** 翻页 */\n  flipPage?: boolean;\n  events?: IEvents;\n  formatter?: (...args: any) => string;\n  offsetX?: number;\n  offsetY?: number;\n  clickable?: boolean;\n}\n\nexport interface Tooltip {\n  visible: boolean;\n  shared: boolean;\n  /** html */\n  showTitle?: boolean;\n  html?: HTMLDivElement;\n  formatter?: (...args: any) => string;\n  htmlContent?: (title: string, items: any[]) => string;\n  containerTpl?: string;\n  itemTpl?: string;\n  /** 辅助线 */\n  crosshair?: 'x' | 'y' | 'cross' | boolean;\n  crosshairs?: { type: string; style?: IStyleConfig }; // FIXME:\n  style?: IStyleConfig;\n}\n\ninterface Animation {\n  /** 动画模式，延伸or缩放 */\n  type?: string;\n  duration?: number;\n  easing?: string;\n}\n\n// tslint:disable-next-line: no-empty-interface\nexport interface Theme {}\n\nexport interface ElementOption {\n  type: string;\n  position: {\n    fields: string[];\n  };\n  color?: AttributeCfg;\n  size?: AttributeCfg;\n  shape?: AttributeCfg;\n  style?: IStyleConfig;\n  label?: LabelOptions | false;\n  animate?: {};\n  adjust?: AdjustCfg[];\n  connectNulls?: boolean;\n  widthRatio?: {\n    [type: string]: number;\n  };\n}\n\nexport interface G2Config {\n  scales: Option.ScalesOption;\n  legends: Option.LegendOption | Option.LegendsOption | boolean;\n  tooltip: Option.TooltipOption | boolean;\n  axes: Option.AxesOption | boolean;\n  coord: Option.CoordinateOption;\n  element?: ElementOption;\n  elements: ElementOption[];\n  annotations: any[];\n  interactions: {};\n  theme: any;\n  panelRange: any;\n  animate: any;\n}\n\nexport interface IColorConfig {\n  fields?: string[];\n  values?: string[];\n  callback?: (...args: any[]) => any;\n}\n\nconst SECOND = 1000;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\nconst WEEK = DAY * 7;\nconst MONTH = DAY * 30;\nconst YEAR = DAY * 365;\nexport const timeIntervals = {\n  second: { value: SECOND, format: 'HH:mm:ss' },\n  miniute: { value: MINUTE, format: 'HH:mm' },\n  hour: { value: HOUR, format: 'HH' },\n  day: { value: DAY, format: 'YYYY-MM-DD' },\n  week: { value: WEEK, format: 'YYYY-MM-DD' },\n  month: { value: MONTH, format: 'YYYY-MM' },\n  year: { value: YEAR, format: 'YYYY' },\n};\n\ninterface StateCondition {\n  name: string;\n  exp: () => boolean | string | number;\n}\n\nexport interface StateConfig {\n  condition: () => any | StateCondition;\n  style?: IStyleConfig;\n  related?: string[];\n}\n\nexport interface SliderConfig {\n  visible?: boolean;\n  start?: number;\n  end?: number;\n  foregroundColor?: string;\n  backgroundColor?: string;\n  height?: number;\n  paddingTop?: number;\n  paddingBottom?: number;\n}\n\nexport interface ISliderInteractionConfig {\n  /** 在图表中的位置，默认 horizontal */\n  type?: 'horizontal' | 'vertical';\n  /** 宽度，在 vertical 下生效 */\n  width?: number;\n  /** 高度，在 horizontal 下生效 */\n  height?: number;\n  /** 可选 padding */\n  padding?: [number, number, number, number];\n  /** 前景框颜色  */\n  foregroundColor?: string;\n  /** 背景框颜色 */\n  backgroundColor?: string;\n  /** 默认开始位置, 0~1 */\n  start?: number;\n  /** 默认结束位置, 0~1 */\n  end?: number;\n}\n\nexport interface IScrollBarInteractionConfig {\n  /** 在图表中的位置，默认 horizontal */\n  type?: 'horizontal' | 'vertical';\n  /** 宽度，在 vertical 下生效 */\n  width?: number;\n  /** 高度，在 horizontal 下生效 */\n  height?: number;\n  /** 可选 padding */\n  padding?: [number, number, number, number];\n  /** 对应水平滚动条，为X轴每个分类字段的宽度；对于垂直滚动条，为X轴每个分类字段的高度 */\n  categorySize?: number;\n}\n\nexport type IInteractionConfig = IScrollBarInteractionConfig | ISliderInteractionConfig;\n\nexport interface IInteractions {\n  type: string;\n  cfg?: IInteractionConfig;\n}\n\n/**\n * 一个点位置\n */\nexport interface Point {\n  readonly x: number;\n  readonly y: number;\n}\n\nexport interface DataItem {\n  [field: string]: string | number | number[] | null | undefined;\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","\"use strict\";\nexports.__esModule = true;\nvar get_style_1 = require(\"./get-style\");\nfunction getHeight(el, defaultValue) {\n    var height = get_style_1[\"default\"](el, 'height', defaultValue);\n    if (height === 'auto') {\n        height = el.offsetHeight;\n    }\n    return parseFloat(height);\n}\nexports[\"default\"] = getHeight;\n//# sourceMappingURL=get-height.js.map","\"use strict\";\nexports.__esModule = true;\nvar get_style_1 = require(\"./get-style\");\nfunction getHeight(el, defaultValue) {\n    var width = get_style_1[\"default\"](el, 'width', defaultValue);\n    if (width === 'auto') {\n        width = el.offsetWidth;\n    }\n    return parseFloat(width);\n}\nexports[\"default\"] = getHeight;\n//# sourceMappingURL=get-width.js.map","import * as _ from '@antv/util';\nimport { Label } from '../../interface/config';\nimport { combineFormatter, getNoopFormatter, getPrecisionFormatter, getSuffixFormatter } from '../../util/formatter';\nimport { LooseMap } from '../../interface/types';\n\nexport default class LabelParser {\n  public config: LooseMap = {};\n  protected plot: any;\n  protected originConfig: Label;\n\n  constructor(cfg) {\n    const { plot, ...rest } = cfg;\n    this.plot = plot;\n    this.originConfig = rest;\n    this.init(cfg);\n  }\n\n  public getConfig() {\n    return this.config;\n  }\n\n  protected init(cfg) {\n    _.assign(this.config, cfg);\n    this.config.callback = (val, ...restArgs: any[]) => {\n      return this.parseCallBack(val, ...restArgs);\n    };\n  }\n\n  protected parseCallBack(val, ...restArgs: any[]) {\n    const labelProps = this.originConfig;\n    const theme = this.plot.getPlotTheme();\n    const config: LooseMap = { ...labelProps };\n    this.parseOffset(labelProps, config);\n    if (labelProps.position) {\n      if (_.isFunction(labelProps.position)) {\n        config.position = labelProps.position(val);\n      } else {\n        config.position = labelProps.position;\n      }\n    }\n    this.parseFormatter(config, val, ...restArgs);\n    if (labelProps.style) {\n      if (_.isFunction(labelProps.style)) {\n        config.textStyle = labelProps.style(val);\n      } else {\n        config.textStyle = labelProps.style;\n      }\n    }\n    config.textStyle = _.deepMix({}, _.get(theme, 'label.style'), config.textStyle);\n    if (labelProps.autoRotate) {\n      config.autoRotate = labelProps.autoRotate;\n    }\n\n    return config;\n  }\n\n  protected parseOffset(props, config) {\n    const mapper = ['offset', 'offsetX', 'offsetY'];\n    let count = 0;\n    _.each(mapper, (m) => {\n      if (_.has(props, m)) {\n        config[m] = props[m];\n        count++;\n      }\n    });\n    // 如用户没有设置offset，而label position又为middle时，则默认设置offset为0\n    if (count === 0 && _.get(props, 'position') === 'middle') {\n      config.offset = 0;\n    }\n  }\n\n  protected parseFormatter(config: LooseMap, ...values: any[]) {\n    const labelProps = this.originConfig;\n    config.formatter = combineFormatter(\n      getNoopFormatter(),\n      getPrecisionFormatter(labelProps.precision),\n      getSuffixFormatter(labelProps.suffix)\n    );\n    if (labelProps.formatter) {\n      config.formatter = combineFormatter(\n        config.formatter,\n        labelProps.formatter as (text: string, item: any, idx: number) => string\n      );\n    }\n  }\n}\n","/**\n * 可插拔的状态量管理机\n */\n// todo: 后续还需要加入交互互斥的维护机制\nimport EventEmitter from '@antv/event-emitter';\nimport * as _ from '@antv/util';\nimport { LooseMap } from '../interface/types';\n\ntype States = LooseMap;\n\ninterface StateControllerCfg {\n  states?: States;\n}\n\nexport default class StateManager extends EventEmitter {\n  private _states: States;\n  private _stateStack: States;\n  private _changeTimer: any;\n\n  constructor(cfg: StateControllerCfg) {\n    super();\n    this._states = {};\n    this._stateStack = {};\n  }\n\n  public setState(name: string, exp: any) {\n    this._stateStack[name] = exp;\n    this._onUpdate();\n  }\n\n  public getState(name: string) {\n    return this._states[name];\n  }\n\n  public getAllStates() {\n    return this._states;\n  }\n\n  public clear() {\n    this._states = {};\n    this._stateStack = {};\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n  }\n\n  private _onUpdate() {\n    const stateStack = this._stateStack;\n\n    if (this._changeTimer) {\n      clearTimeout(this._changeTimer);\n      this._changeTimer = null;\n    }\n\n    this._changeTimer = setTimeout(() => {\n      // for (const name in stateStack) {\n      _.each(stateStack, (exp, name) => {\n        const state = stateStack[name];\n        if (!this._states[name] || this._states[name] !== exp) {\n          // update states\n          this._states[name] = exp;\n          // dispatch state event\n          this._triggerEvent(name, state);\n        }\n      });\n      // }\n      // clear stack\n      this._stateStack = {};\n    }, 16);\n  }\n\n  private _triggerEvent(name: string, exp: any) {\n    this.emit(`${name}:change`, {\n      name,\n      exp,\n    });\n  }\n}\n","import { flatten, groupBy, map } from '@antv/util';\n\n/**\n * 按照scale字段values中的start和end信息从全部数据中取出对应的部分\n *\n * @param field scale field\n * @param values scale values\n * @param data original data\n * @param range range start & end\n */\nexport const getDataByScaleRange = (\n  field: string,\n  values: string[],\n  data: object[],\n  [start, end]: [number, number],\n  vertical: boolean = false\n): object[] => {\n  const groupedData = groupBy(data, field);\n  const newValues = vertical ? values.slice(values.length - end, values.length - start) : values.slice(start, end);\n\n  return flatten(map(newValues, (value: string) => groupedData[value] || []));\n};\n","import * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\n// import Theme from '../../theme';\nimport { convertToG2Theme, getGlobalTheme, getTheme } from '../../theme';\nimport { processAxisVisible } from '../../util/axis';\nimport { getResponsiveTheme } from '../../util/responsive/theme';\nimport { ViewConfig } from '../view-layer';\n\n/**\n * 负责图表theme的管理\n */\n\nconst G2DefaultTheme = G2.Global.theme;\n\nexport default class ThemeController<T extends ViewConfig = ViewConfig> {\n  /**\n   * 获取指定的全局theme\n   * @param theme\n   */\n  public static getGlobalTheme(theme: string | object) {\n    if (_.isString(theme)) {\n      return getGlobalTheme(theme);\n    }\n    return _.deepMix({}, getGlobalTheme(), theme);\n  }\n\n  /**\n   * 通过 theme 和图表类型，获取当前 plot 对应的主题\n   * @param props\n   * @param type\n   */\n  public getPlotTheme(props: T, type: string) {\n    const { theme } = props;\n    if (_.isString(theme)) {\n      return _.deepMix({}, getGlobalTheme(theme), getTheme(type));\n    }\n    return _.deepMix({}, getGlobalTheme(), getTheme(type), theme);\n  }\n\n  /**\n   * 获取转化成 G2 的结构主题\n   * @param props\n   * @param type\n   */\n  public getTheme(props: T, type: string): any {\n    const plotG2Theme = convertToG2Theme(this.getPlotTheme(props, type));\n    const g2Theme = _.deepMix({}, G2DefaultTheme, plotG2Theme);\n    // this._processVisible(g2Theme);\n    return g2Theme;\n  }\n\n  public getResponsiveTheme(type: string) {\n    return getResponsiveTheme(type) || getResponsiveTheme('default');\n  }\n\n  private _processVisible(theme: any) {\n    processAxisVisible(theme.axis.left);\n    processAxisVisible(theme.axis.right);\n    processAxisVisible(theme.axis.top);\n    processAxisVisible(theme.axis.bottom);\n    return theme;\n  }\n}\n","const COLOR = '#5B8FF9';\n\nexport const COLOR_PLATE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E8684A',\n  '#6DC8EC',\n  '#9270CA',\n  '#FF9D4D',\n  '#269A99',\n  '#FF99C3',\n];\n\nexport const COLOR_PLATE_20 = [\n  '#5B8FF9',\n  '#BDD2FD',\n  '#5AD8A6',\n  '#BDEFDB',\n  '#5D7092',\n  '#C2C8D5',\n  '#F6BD16',\n  '#FBE5A2',\n  '#E8684A',\n  '#F6C3B7',\n  '#6DC8EC',\n  '#B6E3F5',\n  '#9270CA',\n  '#D3C6EA',\n  '#FF9D4D',\n  '#FFD8B8',\n  '#269A99',\n  '#AAD8D8',\n  '#FF99C3',\n  '#FFD6E7',\n];\nimport { some } from '@antv/util';\nimport { ViewConfig } from '../base/view-layer';\n\nexport const DESCRIPTION_BOTTOM_MARGIN = function(legendPosition) {\n  if (legendPosition && legendPosition.split('-')[0] === 'top') {\n    return 12;\n  }\n  return 24;\n};\n\nexport const TOP_BLEEDING = (props: ViewConfig) => {\n  const titleVisible = props.title && props.title.visible;\n  const descriptionVisible = props.description && props.description.visible;\n  if (titleVisible || descriptionVisible) {\n    // 由 title/description 的 bottom-padding 负责\n    return 12;\n  }\n  return 24;\n};\n\nexport const BOTTOM_BLEEDING = (props: ViewConfig) => {\n  if (\n    some(\n      props.interactions || [],\n      (interaction) =>\n        (interaction.type === 'slider' || interaction.type === 'scrollbar') &&\n        (interaction.cfg && interaction.cfg.type) !== 'vertical'\n    )\n  ) {\n    return 8;\n  }\n  return 24;\n};\n\nexport const DEFAULT_GLOBAL_THEME = {\n  width: 400,\n  height: 400,\n  bleeding: [TOP_BLEEDING, 24, BOTTOM_BLEEDING, 24],\n  padding: 'auto',\n  defaultColor: COLOR, // 默认主题色\n  colors: COLOR_PLATE_10,\n  colors_20: COLOR_PLATE_20,\n  title: {\n    padding: [24, 24, 24, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 18,\n    fill: 'black',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 20,\n    alignWithAxis: false,\n  },\n  description: {\n    padding: [10, 24, DESCRIPTION_BOTTOM_MARGIN, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 12,\n    fill: 'grey',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 16,\n    alignWithAxis: false,\n  },\n  axis: {\n    y: {\n      visible: true,\n      position: 'left',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: true,\n      grid: {\n        visible: true,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0],\n        },\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 1,\n        },\n      },\n      tickLine: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0,0,0,0.45)',\n          lineWidth: 0.5,\n          length: 4,\n        },\n      },\n      label: {\n        visible: true,\n        offset: 8,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12,\n        },\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.65)',\n          fontSize: 12,\n          textBaseline: 'bottom',\n        },\n      },\n    },\n    x: {\n      visible: true,\n      position: 'bottom',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: false,\n      grid: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0],\n        },\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 1,\n        },\n      },\n      tickLine: {\n        visible: true,\n        style: {\n          length: 4,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          lineWidth: 0.5,\n        },\n      },\n      label: {\n        visible: true,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12,\n        },\n        offset: 16,\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: { fill: 'rgba(0, 0, 0, 0.65)', fontSize: 12 },\n      },\n    },\n    circle: {\n      autoHideLabel: false,\n      autoRotateLabel: true,\n      autoRotateTitle: true,\n      // gridType: 'line',\n      grid: {\n        style: {\n          lineDash: null,\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.15)',\n        },\n      },\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n        },\n      },\n      tickLine: {\n        style: {\n          lineWidth: 1,\n          stroke: 'rgba(0, 0, 0, 0.45)',\n          length: 4,\n          alignWithLabel: true,\n        },\n      },\n      label: {\n        offset: 16,\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12,\n        },\n      },\n      title: {\n        offset: 12,\n        style: { fill: 'rgba(0, 0, 0, 0.65)', fontSize: 12 },\n      },\n    },\n    radius: {\n      label: {\n        textStyle: {\n          fill: 'rgba(0,0,0,0.45)',\n          fontSize: 12,\n        },\n      },\n    },\n  },\n  legend: {\n    flipPage: false,\n    position: 'bottom-center',\n    // 距离panelRange的距离\n    innerPadding: [16, 16, 16, 16],\n    margin: [0, 24, 24, 24],\n  },\n  label: {\n    offset: 12,\n    textStyle: {\n      fill: '#595959',\n    },\n    style: {\n      fill: '#595959',\n      stroke: '#ffffff',\n      lineWidth: 2,\n    },\n  },\n  tooltip: {\n    'g2-tooltip': {\n      boxShadow: '0px 0px 8px rgba(0,0,0,0.15)',\n    },\n  },\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","export { default as Line, LineConfig } from './line';\nexport { default as Density, DensityConfig } from './density';\nexport { default as Column, ColumnConfig } from './column';\nexport { default as Bubble, BubbleConfig } from './bubble';\nexport { default as Scatter, ScatterConfig } from './scatter';\nexport { default as GroupColumn, GroupColumnConfig } from './group-column';\nexport { default as StackColumn, StackColumnConfig } from './stack-column';\nexport { default as PercentageStackColumn, PercentageStackColumnConfig } from './percentage-stack-column';\nexport { default as Histogram, HistogramConfig } from './histogram';\nexport { default as Bar, BarConfig } from './bar';\nexport { default as StackBar, StackBarConfig } from './stack-bar';\nexport { default as PercentageStackBar, PercentageStackBarConfig } from './percentage-stack-bar';\nexport { default as GroupBar, GroupBarConfig } from './group-bar';\nexport { default as RangeBar, RangeBarConfig } from './range-bar';\nexport { default as RangeColumn, RangeColumnConfig } from './range-column';\nexport { default as Pie, PieConfig } from './pie';\nexport { default as Ring, RingConfig } from './ring';\nexport { default as Radar, RadarConfig } from './radar';\nexport { default as Liquid, LiquidConfig } from './liquid';\nexport { default as Gauge, GaugeConfig } from './gauge';\nexport { default as Area, AreaConfig } from './area';\nexport { default as StackArea, StackAreaConfig } from './stack-area';\nexport { default as PercentageStackArea, PercentageStackAreaConfig } from './percentage-stack-area';\nexport { default as Funnel, FunnelConfig } from './funnel';\nexport { default as Heatmap, HeatmapConfig } from './heatmap';\nexport { default as Matrix, MatrixConfig } from './matrix';\nexport { default as Waterfall, WaterfallConfig } from './waterfall';\nexport { default as Treemap } from './treemap';\nexport { default as StepLine, StepLineConfig } from './step-line';\nexport { default as WordCloud, WordCloudConfig } from './word-cloud';\nexport { default as Rose, RoseConfig } from './rose';\nexport { default as Bullet, BulletConfig } from './bullet';\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { ICatAxis, ITimeAxis, IValueAxis, Label } from '../../interface/config';\nimport { extractScale, trySetScaleMinToZero } from '../../util/scale';\nimport './animation/clipIn-with-data';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport './component/label/line-label';\nimport './component/label/point-label';\nimport * as EventParser from './event';\nimport { LineActive, LineSelect } from './interaction/index';\nimport './theme';\nimport { LooseMap } from '../../interface/types';\n\nexport interface LineStyle {\n  opacity?: number;\n  lineDash?: number[];\n  lineJoin?: 'bevel' | 'round' | 'miter';\n  lineCap?: 'butt' | 'round' | 'square';\n}\n\nexport interface PointStyle {\n  lineDash?: number[];\n  lineWidth?: number;\n  opacity?: string;\n  fill?: string;\n  stroke?: string;\n}\n\ntype IObject = LooseMap;\n\nconst GEOM_MAP = {\n  line: 'line',\n  point: 'point',\n};\n\nexport interface LineViewConfig extends ViewConfig {\n  /** 分组字段 */\n  seriesField?: string;\n  /** 是否平滑 */\n  smooth?: boolean;\n  /** 是否连接空数据 */\n  connectNulls?: boolean;\n  /** 折线extra图形样式 */\n  lineStyle?: LineStyle | ((...args: any[]) => LineStyle);\n  /** 折线数据点图形样式 */\n  point?: {\n    visible?: boolean;\n    shape?: string;\n    size?: number;\n    color?: string;\n    style?: PointStyle;\n  };\n  xAxis?: IValueAxis | ICatAxis | ITimeAxis;\n  yAxis?: IValueAxis;\n}\n\nexport interface LineLayerConfig extends LineViewConfig, LayerConfig {}\n\nexport default class LineLayer<T extends LineLayerConfig = LineLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): Partial<LineLayerConfig> {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      connectNulls: false,\n      smooth: false,\n      lineSize: 2,\n      lineStyle: {\n        lineJoin: 'round',\n        lineCap: 'round',\n      },\n      point: {\n        visible: false,\n        size: 3,\n        shape: 'circle',\n        style: {\n          stroke: '#fff',\n        },\n      },\n      label: {\n        visible: false,\n        type: 'point',\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n        wordSpacing: 4,\n      },\n    });\n  }\n\n  public line: any; // 保存line和point的配置项，用于后续的label、tooltip\n  public point: any;\n  public type: string = 'line';\n\n  public getOptions(props: T) {\n    const options = super.getOptions(props);\n    // @ts-ignore\n    const defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  }\n\n  public afterRender() {\n    const props = this.options;\n    // 响应式\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('afterRender');\n    }\n    super.afterRender();\n  }\n\n  protected geometryParser(dim, type) {\n    return GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置x-scale */\n    scales[props.xField] = {};\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n    scales[props.yField] = {};\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    this.setConfig('scales', scales);\n    trySetScaleMinToZero(\n      scales[props.yField],\n      _.map(props.data as any, (item) => item[props.yField])\n    );\n    super.scale();\n  }\n\n  protected coord() {}\n\n  protected addGeometry() {\n    // 配置线\n    this.addLine();\n    // 配置数据点\n    this.addPoint();\n  }\n\n  private addLine() {\n    const props = this.options;\n    this.line = getGeom('line', 'main', {\n      plot: this,\n    });\n\n    if (props.label) {\n      this.label();\n    }\n    this.setConfig('element', this.line);\n  }\n\n  protected addPoint() {\n    const props = this.options;\n    const defaultConfig = { visible: false };\n    if (props.point) {\n      props.point = _.deepMix(defaultConfig, props.point);\n    }\n    if (props.point && props.point.visible) {\n      this.point = getGeom('point', 'guide', {\n        plot: this,\n      });\n      this.point.active = false;\n      this.setConfig('element', this.point);\n    }\n  }\n\n  protected label() {\n    const props = this.options;\n    const label = props.label as Label;\n\n    if (label.visible === false || this.singleLineLabelCheck()) {\n      this.line.label = false;\n      return;\n    }\n\n    /** label类型为line，即跟随在折线尾部时，设置offset为0 */\n    if (label.type === 'line') {\n      label.offset = 0;\n    }\n\n    this.line.label = getComponent('label', {\n      plot: this,\n      top: true,\n      labelType: label.type,\n      fields: label.type === 'line' ? [props.seriesField] : [props.yField],\n      ...label,\n    });\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      // 关闭动画\n      this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    } else if (_.has(props, 'animation')) {\n      // 根据动画类型区分图形动画和群组动画\n      if (props.animation.type === 'clipingWithData' && props.padding !== 'auto') {\n        this.line.animate = {\n          appear: {\n            animation: 'clipingWithData',\n            easing: 'easeLinear',\n            duration: 10000,\n            yField: props.yField,\n            seriesField: props.seriesField,\n            plot: this,\n          },\n        };\n        // 如果有数据点的话要追加数据点的动画\n        if (props.point && props.point.visible) {\n          this.point.animate = false;\n        }\n      }\n    }\n  }\n\n  protected applyInteractions() {\n    super.applyInteractions();\n    // 加入默认交互\n    const interactions = this.view.get('interactions');\n    const lineActive = new LineActive({ view: this.view });\n    interactions.lineActive = lineActive;\n    const lineSelect = new LineSelect({ view: this.view });\n    interactions.lineSelect = lineSelect;\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    _.each(methods, (r) => {\n      const responsive = r as IObject;\n      responsive.method(this);\n    });\n  }\n\n  private singleLineLabelCheck() {\n    // 不允许单折线设置尾部跟随label\n    return !this.options.seriesField && this.options.label.type && this.options.label.type === 'line';\n  }\n}\n\nregisterPlotType('line', LineLayer);\n","import { DataPointType } from '@antv/g2/lib/interface';\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nexport default class AreaParser extends ElementParser {\n  public init() {\n    const props = this.plot.options;\n    this.config = {\n      type: 'area',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n      connectNulls: props.connectNulls || false,\n    };\n    if (props.smooth) {\n      this.config.shape = { values: ['smooth'] };\n    }\n    if (this._getColorMappingField() || props.color) {\n      this.parseColor();\n    }\n\n    if (props.areaStyle || (props.area && props.area.style)) {\n      this.parseStyle();\n    }\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: DataPointType = {};\n    const colorMappingField = this._getColorMappingField();\n    if (colorMappingField) {\n      config.fields = colorMappingField;\n    }\n    if (_.has(props, 'color')) {\n      const color = props.color;\n      if (_.isString(color)) {\n        config.values = [color];\n      } else if (_.isFunction(color)) {\n        config.callback = color;\n      } else {\n        config.values = color as [];\n      }\n    }\n    this.config.color = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.areaStyle ? props.areaStyle : props.area.style;\n    const config: DataPointType = {};\n    if (_.isFunction(styleProps) && props.seriesField) {\n      config.fields = [props.seriesField];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n\n  private _getColorMappingField() {\n    const props = this.plot.options;\n    const colorMapper = ['stackField', 'seriesField'];\n    for (const m of colorMapper) {\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  }\n}\n","/** 简化折线点 */\nimport * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { lineSimplification } from '../../util/math';\nimport { getSplinePath } from '../../util/path';\nimport LineParser from './main';\n\nconst G2DefaultTheme = G2.Global.theme;\n\nG2.registerShape('line', 'miniLine', {\n  draw(cfg, container) {\n    const points = lineSimplification(cfg.points);\n    const path = [];\n    for (let i = 0; i < points.length; i++) {\n      const p = points[i];\n      const flag = i === 0 ? 'M' : 'L';\n      path.push([flag, p.x, p.y]);\n    }\n    const style = _.deepMix(\n      {},\n      {\n        lineJoin: 'round',\n        lineCap: 'round',\n      },\n      cfg.style\n    );\n    const shape = container.addShape('path', {\n      attrs: _.mix(\n        {\n          path,\n          stroke: cfg.color || G2DefaultTheme.defaultColor,\n          lineWidth: cfg.size || 2,\n        },\n        style\n      ),\n    });\n    return shape;\n  },\n});\n\nG2.registerShape('line', 'miniLineSmooth', {\n  draw(cfg, container) {\n    const points = lineSimplification(cfg.points);\n    const constraint = [\n      [0, 0],\n      [1, 1],\n    ];\n    const path = getSplinePath(points, false, constraint);\n    const shape = container.addShape('path', {\n      attrs: _.mix(\n        {\n          path,\n          stroke: cfg.color || G2DefaultTheme.defaultColor,\n          lineWidth: cfg.size || 2,\n        },\n        cfg.style\n      ),\n    });\n    return shape;\n  },\n});\n\nexport default class MiniLineParser extends LineParser {\n  public init() {\n    super.init();\n    this.parseShape();\n  }\n\n  private parseShape() {\n    const props = this.plot.options;\n    if (props.smooth) {\n      this.config.shape = { values: ['miniLineSmooth'] };\n    } else {\n      this.config.shape = { values: ['miniLine'] };\n    }\n  }\n}\n","/** 负责将shape数据转为node，使shape根据node数据进行update */\nimport { Shape } from '@antv/g';\nimport * as _ from '@antv/util';\nimport * as MathUtil from '../../math';\n\ninterface NodesCfg {\n  shapes: Shape[];\n}\nexport interface IShapeNode {\n  width: number;\n  height: number;\n  centerX: number;\n  centerY: number;\n  top: number;\n  bottom: number;\n  left: number;\n  right: number;\n  topLeft?: {};\n  topRight?: {};\n  bottomLeft?: {};\n  bottomRight?: {};\n  shape?: Shape;\n}\n\nexport default class ShapeNodes {\n  public shapes: Shape[];\n  public nodes: IShapeNode[];\n  public origion_nodes: IShapeNode[];\n  public type: string = 'shape';\n  constructor(cfg: NodesCfg) {\n    this.shapes = cfg.shapes;\n    this.nodes = [];\n    this._parserNodes();\n    this.origion_nodes = _.deepMix([], this.nodes);\n  }\n\n  public measure(shape) {\n    const node = _.deepMix({}, MathUtil.bboxOnRotate(shape), { shape });\n    return node;\n  }\n\n  public measureNodes() {\n    const nodes = [];\n    const shapes = [];\n    _.each(this.shapes, (shape, index) => {\n      const node = _.deepMix({}, this.nodes[index], this.measure(shape));\n      if (node.width !== 0 && node.height !== 0) {\n        nodes.push(node);\n        shapes.push(shape);\n      }\n      // this.nodes[index] = node;\n    });\n    this.nodes = nodes;\n    this.shapes = shapes;\n  }\n\n  public updateShapes() {}\n\n  private _parserNodes() {\n    _.each(this.shapes, (shape) => {\n      const node = this.measure(shape);\n      this.nodes.push(node);\n    });\n  }\n}\n","import columnWidth from './column-width';\nimport elementCollision from './element-collision';\nimport elementDist from './element-dist';\nimport elementDistVertical from './element-dist-vertical';\nimport elementWidth from './element-width';\nimport minRingThickness from './min-ring-thickness';\nimport ringThickness from './ring-thickness';\n\n/** constraints约束库 */\nexport interface IConstraint {\n  usage: string;\n  type: string;\n  method: (...args: any) => any;\n}\n\nexport const constraintsLib = {\n  elementDist,\n  elementDistVertical,\n  elementCollision,\n  elementWidth,\n  columnWidth,\n  ringThickness,\n  minRingThickness,\n};\n\nexport function registerResponsiveConstraint(name, constraint: IConstraint) {\n  // todo: 防止覆盖\n  constraintsLib[name] = constraint;\n}\n","import clearOverlapping from './clear-overlapping';\nimport datetimeStringAbbrevaite from './datetime-string-abbrevaite';\nimport digitsAbbreviate from './digits-abbreviate';\nimport nodeJitter from './node-jitter';\nimport nodeJitterUpward from './node-jitter-upward';\nimport nodesResampling from './nodes-resampling';\nimport nodesResamplingByAbbrevate from './nodes-resampling-by-abbrevate';\nimport nodesResamplingByChange from './nodes-resampling-by-change';\nimport nodesResamplingByState from './nodes-resampling-by-state';\nimport robustAbbrevaite from './robust-abbrevaite';\nimport textAbbreviate from './text-abbreviate';\nimport textHide from './text-hide';\nimport textRotation from './text-rotation';\nimport textWrapper from './text-wrapper';\n\nexport const rulesLib = {\n  textWrapper,\n  textRotation,\n  textAbbreviate,\n  textHide,\n  digitsAbbreviate,\n  datetimeStringAbbrevaite,\n  robustAbbrevaite,\n  nodesResampling,\n  nodesResamplingByAbbrevate,\n  nodesResamplingByChange,\n  nodesResamplingByState,\n  nodeJitter,\n  nodeJitterUpward,\n  clearOverlapping,\n};\n\nexport function registerResponsiveRule(name, method) {\n  // todo: 防止覆盖\n  rulesLib[name] = method;\n}\n","import { Shape } from '@antv/g';\nimport * as _ from '@antv/util';\nimport textHide from './text-hide';\n\nexport default function clearOverlapping(shape: Shape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  const current = nodes[index];\n  const overlapped = [];\n  /** 找到所有与当前点overlap的node */\n  if (!current.shape.get('blank')) {\n    for (let i = 0; i < nodes.length; i++) {\n      const node = nodes[i];\n      const _shape = node.shape;\n      if (i !== index && !_shape.get('blank')) {\n        const isOverlap = isNodeOverlap(current, node);\n        if (isOverlap) {\n          overlapped.push(node);\n        }\n      }\n    }\n  }\n  /** overlap处理逻辑 */\n  if (overlapped.length > 0) {\n    overlapped.push(current);\n    overlapped.sort((a, b) => {\n      return b.top - a.top;\n    });\n    /** 隐藏除最高点以外的node */\n    _.each(overlapped, (node: any, idx: number) => {\n      if (idx > 0) {\n        const _shape = node.shape;\n        textHide(_shape);\n        _shape.set('blank', true);\n      }\n    });\n  }\n}\n\nexport function isNodeOverlap(nodeA, nodeB) {\n  if (nodeA.bottom < nodeB.top || nodeB.bottom < nodeA.top) {\n    return false;\n  }\n  if (nodeA.right < nodeB.left || nodeB.right < nodeA.left) {\n    return false;\n  }\n  return true;\n}\n","import * as _ from '@antv/util';\nimport fecha from 'fecha';\n\nconst SECOND = 1000;\nconst MINUTE = 60 * SECOND;\nconst HOUR = 60 * MINUTE;\nconst DAY = 24 * HOUR;\nconst MONTH = 31 * DAY;\nconst YEAR = 365 * DAY;\n\ninterface TimeStringAbbrevaiteCfg {\n  keep?: string[];\n}\n\nexport default function datetimeStringAbbrevaite(shape, option: TimeStringAbbrevaiteCfg, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  let campareText;\n  if (index === nodes.length - 1) {\n    campareText = nodes[index - 1].shape.get('origin').text;\n  } else {\n    campareText = nodes[index + 1].shape.get('origin').text;\n  }\n  const compare = new Date(campareText);\n  /** 获取时间周期和时间间隔 */\n  const text = shape.get('origin').text;\n  const current = new Date(text);\n  const startText = nodes[0].shape.get('origin').text;\n  const start = new Date(startText);\n  const endText = nodes[nodes.length - 1].shape.get('origin').text;\n  const end = new Date(endText);\n  const timeDuration = getDateTimeMode(start, end);\n  const timeCycle = getDateTimeMode(current, compare); // time frequency\n  // 如果duration和frequency在同一区间\n  if (timeDuration === timeCycle) {\n    if (index !== 0 && index !== nodes.length - 1) {\n      const formatter = sameSectionFormatter(timeDuration);\n      shape.attr('text', fecha.format(current, formatter));\n    }\n    return;\n  }\n  if (index !== 0) {\n    const previousText = nodes[index - 1].shape.get('origin').text;\n    const previous = new Date(previousText);\n    const isAbbreviate = needAbbrevaite(timeDuration, current, previous);\n    if (isAbbreviate) {\n      const formatter = getAbbrevaiteFormatter(timeDuration, timeCycle);\n      shape.attr('text', fecha.format(current, formatter));\n      return;\n    }\n  }\n}\n\nfunction needAbbrevaite(mode, current, previous) {\n  const currentStamp = getTime(current, mode);\n  const previousStamp = getTime(previous, mode);\n  if (currentStamp !== previousStamp) {\n    return false;\n  }\n  return true;\n}\n\nfunction getDateTimeMode(a, b) {\n  let mode;\n  const dist = Math.abs(a - b);\n  const mapper = {\n    minute: [MINUTE, HOUR],\n    hour: [HOUR, DAY],\n    day: [DAY, MONTH],\n    month: [MONTH, YEAR],\n    year: [YEAR, Infinity],\n  };\n  _.each(mapper, (range, key) => {\n    if (dist >= range[0] && dist < range[1]) {\n      mode = key;\n    }\n  });\n  return mode;\n}\n\nfunction getAbbrevaiteFormatter(duration, cycle) {\n  const times = ['year', 'month', 'day', 'hour', 'minute'];\n  const formatters = ['YYYY', 'MM', 'DD', 'HH', 'MM'];\n  const startIndex = times.indexOf(duration) + 1;\n  const endIndex = times.indexOf(cycle);\n  let formatter = '';\n  for (let i = startIndex; i <= endIndex; i++) {\n    formatter += formatters[i];\n    if (i < endIndex) {\n      formatter += '-';\n    }\n  }\n  return formatter;\n}\n\nfunction sameSectionFormatter(mode) {\n  const times = ['year', 'month', 'day', 'hour', 'minute'];\n  const formatters = ['YYYY', 'MM', 'DD', 'HH', 'MM'];\n  const index = times.indexOf(mode);\n  const formatter = formatters[index];\n  return formatter;\n}\n\nfunction getTime(date: Date, mode: string) {\n  if (mode === 'year') {\n    return date.getFullYear();\n  }\n  if (mode === 'month') {\n    return date.getMonth() + 1;\n  }\n  if (mode === 'day') {\n    return date.getDay() + 1;\n  }\n\n  if (mode === 'hour') {\n    return date.getHours() + 1;\n  }\n\n  if (mode === 'minute') {\n    return date.getMinutes() + 1;\n  }\n}\n\n/*tslint:disable*/\nexport function isTime(string) {\n  const hourminExp = /^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]$/;\n  const hourminSecExp = /^(?:(?:[0-2][0-3])|(?:[0-1][0-9])):[0-5][0-9]:[0-5][0-9]$/;\n  return hourminExp.test(string) || hourminSecExp.test(string);\n}\n","import { Shape } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { getMedian } from '../../math';\n\ninterface DigitsAbbreviateCfg {\n  unit?: 'k' | 'm' | 'b' | 't' | 'auto';\n  formatter?: (val: number) => string;\n  decimal?: number;\n}\nconst unitMapper = {\n  k: { number: 1e3, index: 0 },\n  m: { number: 1e6, index: 1 },\n  b: { number: 1e9, index: 2 },\n  t: { number: 1e12, index: 3 },\n};\n\n// https://gist.github.com/MartinMuzatko/1060fe584d17c7b9ca6e\n// https://jburrows.wordpress.com/2014/11/18/abbreviating-numbers/\n/*tslint:disable*/\n\nexport default function digitsAbbreviate(shape: Shape, option: DigitsAbbreviateCfg, index, cfg) {\n  if (!_.has(cfg, 'node') || !_.has(cfg.node, 'node')) {\n    return;\n  }\n  const nodes = cfg.nodes.nodes;\n  const number = parseFloat(shape.get('origin').text);\n  if (number === 0) {\n    return;\n  }\n  if (option.formatter) {\n    shape.attr('text', option.formatter(number));\n    return;\n  }\n  if (option.unit) {\n    const { num, unitname } = abbravateDigitsByUnit(option, number);\n    shape.attr('text', num + unitname);\n  } else {\n    // 自动换算逻辑\n    // 根据中位数得到换算单位\n    const numbers = extractNumbers(nodes);\n    const median = getMedian(numbers);\n    const unitname = getUnitByNumber(median);\n    //根据数值的interval计算换算后保留的浮点数\n    const unitNumber = unitMapper[unitname].number;\n    const interval = getLinearNodesInterval(nodes);\n    const decimal = getDigitsDecimal(interval, unitNumber);\n    const { num } = abbravateDigitsByUnit({ unit: unitname, decimal }, number);\n    shape.attr('text', num + unitname);\n  }\n}\n\nfunction abbravateDigitsByUnit(option, number) {\n  const units = ['k', 'm', 'b', 't'];\n  let num;\n  let unitname;\n  if (option.unit === 'auto') {\n    /** auto formatt k-m-b-t */\n    const order = Math.floor(Math.log(number) / Math.log(1000));\n    unitname = units[order - 1];\n    num = (number / 1000 ** order).toFixed(option.decimal);\n  } else if (option.unit) {\n    const unit = unitMapper[option.unit];\n    unitname = option.unit;\n    num = (number / unit.number).toFixed(option.decimal);\n  }\n  return { num, unitname };\n}\n\nfunction getUnitByNumber(number) {\n  const units = ['k', 'm', 'b', 't'];\n  const order = Math.floor(Math.log(number) / Math.log(1000));\n  return units[order - 1];\n}\n\nfunction extractNumbers(nodes) {\n  const numbers = [];\n  _.each(nodes, (node) => {\n    const n = node as any;\n    const number = parseFloat(n.shape.get('origin').text);\n    numbers.push(number);\n  });\n  return numbers;\n}\n\nfunction getLinearNodesInterval(nodes) {\n  if (nodes.length >= 2) {\n    const a = parseFloat(nodes[0].shape.get('origin').text);\n    const b = parseFloat(nodes[1].shape.get('origin').text);\n    return Math.abs(a - b);\n  }\n  return 0;\n}\n\nfunction getDigitsDecimal(interval, unitNumber) {\n  const unitBit = Math.floor(Math.log10(unitNumber));\n  if (interval >= unitNumber) {\n    const remainder = interval % unitNumber;\n    if (remainder > 0) {\n      const remainderBit = Math.floor(Math.log10(remainder));\n      return Math.abs(remainderBit - unitBit);\n    }\n  } else {\n    const intervalBit = Math.floor(Math.log10(interval));\n    return Math.abs(intervalBit - unitBit);\n  }\n  return 0;\n}\n","import * as _ from '@antv/util';\nimport textHide from './text-hide';\n\nexport interface NodesResamplingCfg {\n  keep: string[];\n}\n\nexport default function nodesResampling(shape, option: NodesResamplingCfg, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  /** nodeLength为偶数，则奇数index的shape保留，反之则偶数index的shape保留 */\n  const oddKeep = nodes.length % 2 === 0 ? false : true;\n  if (isKeep(option.keep, index, nodes)) {\n    return;\n  }\n  {\n    const isOdd = index % 2 === 0 ? true : false;\n    if ((!oddKeep && isOdd) || (oddKeep && !isOdd)) {\n      textHide(shape);\n    }\n  }\n}\n\nexport function isKeep(keepCfg, index, nodes) {\n  /** 允许设置start end 或任意index */\n  const conditions = [];\n  _.each(keepCfg, (cfg) => {\n    if (cfg === 'start') {\n      conditions.push(index === 0);\n    } else if (cfg === 'end') {\n      conditions.push(index === nodes.length - 1);\n    } else if (_.isNumber(cfg)) {\n      conditions.push(index === cfg);\n    }\n  });\n  for (const condition of conditions) {\n    if (condition === true) {\n      return true;\n    }\n  }\n  return false;\n}\n","import { Shape } from '@antv/g';\n\ninterface TextAbbreviateCfg {\n  abbreviateBy?: 'start' | 'middle' | 'end';\n}\nexport default function textAbbreviate(shape: Shape, option: TextAbbreviateCfg) {\n  const abbreviateBy = option.abbreviateBy ? option.abbreviateBy : 'end';\n  const text = shape.attr('text');\n  let abbravateText;\n  if (abbreviateBy === 'end') {\n    abbravateText = `${text[0]}...`;\n  }\n  if (abbreviateBy === 'start') {\n    abbravateText = `...${text[text.length - 1]}`;\n  }\n  if (abbreviateBy === 'middle') {\n    abbravateText = `${text[0]}...${text[text.length - 1]}`;\n  }\n  shape.resetMatrix();\n  shape.attr({\n    text: abbravateText,\n    textAlign: 'center',\n    textBaseline: 'top',\n  });\n}\n","import * as _ from '@antv/util';\n\nexport default abstract class ApplyResponsive {\n  public plot: any;\n  public type: string;\n  public responsiveTheme: any;\n\n  constructor(cfg) {\n    _.assign(this, cfg);\n    this.init();\n  }\n\n  protected init() {\n    this.type = this.getType();\n    if (this.shouldApply()) {\n      this.apply();\n    }\n  }\n\n  protected abstract shouldApply(): boolean;\n\n  protected abstract apply(): void;\n\n  protected abstract getType(): string;\n}\n","import * as _ from '@antv/util';\nimport ShapeNodes from '../node/shape-nodes';\nimport Responsive from '../responsive';\nimport ApplyResponsive from './base';\n\nexport default class ApplyResponsiveLabel extends ApplyResponsive {\n  protected shouldApply() {\n    if (!this.responsiveTheme.label || !this.responsiveTheme.label[this.type]) {\n      return false;\n    }\n    return true;\n  }\n\n  protected apply() {\n    const labelShapes = this.plot.view.get('elements')[0].get('labels');\n    const nodes = new ShapeNodes({\n      shapes: labelShapes,\n    });\n    const { constraints, rules } = this.responsiveTheme.label[this.type];\n    new Responsive({\n      nodes,\n      constraints,\n      rules,\n      plot: this.plot,\n      region: this.plot.view.get('viewRange'),\n    });\n  }\n\n  protected getType() {\n    return null;\n  }\n}\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { ICatAxis, ITimeAxis, IValueAxis, Label } from '../../interface/config';\nimport { extractScale } from '../../util/scale';\nimport Quadrant, { QuadrantConfig } from './components/quadrant';\nimport Trendline, { TrendlineConfig } from './components/trendline';\nimport { getComponent } from '../../components/factory';\nimport * as EventParser from './event';\nimport './components/label/scatter-label';\n\nexport interface PointStyle {\n  /** 圆边颜色 */\n  stroke: string;\n  /** 圆边大小 */\n  lineWidth?: number;\n  /** 圆边透明度 */\n  strokeOpacity?: number;\n  /** 填充透明度 */\n  fillOpacity?: number;\n  /** 整体透明度 */\n  opacity?: number;\n}\n\nconst G2_GEOM_MAP = {\n  scatter: 'point',\n};\n\nconst PLOT_GEOM_MAP = {\n  point: 'point',\n};\n\nexport interface PointViewConfig extends ViewConfig {\n  /** 散点样式 */\n  pointStyle?: PointStyle | ((...args: any) => PointStyle);\n  /** 颜色字段 */\n  colorField?: string | string[];\n  /** x 轴配置 */\n  xAxis?: ICatAxis | ITimeAxis | IValueAxis;\n  /** y 轴配置 */\n  yAxis?: IValueAxis;\n  quadrant?: QuadrantConfig;\n  trendline?: TrendlineConfig;\n}\n\nexport interface ScatterViewConfig extends PointViewConfig {\n  /** 散点大小 */\n  pointSize?: number | any;\n}\n\nexport interface ScatterLayerConfig extends ScatterViewConfig, LayerConfig {}\n\nexport default class ScatterLayer<T extends ScatterLayerConfig = ScatterLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      pointSize: 4,\n      pointStyle: {\n        strokeOpacity: 1,\n        fillOpacity: 0.4,\n        opacity: 0.65,\n      },\n      xAxis: {\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: true,\n        },\n      },\n      yAxis: {\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: true,\n        },\n      },\n      tooltip: {\n        visible: true,\n        // false 会造成 tooltip 只能显示一条数据，true 会造成 tooltip 在空白区域也会显示\n        shared: null,\n        crosshairs: {\n          type: 'rect',\n        },\n      },\n      label: {\n        visible: false,\n        position: 'top',\n      },\n      shape: 'circle',\n    });\n  }\n\n  public type: string = 'scatter';\n  public points: any;\n  protected quadrant: Quadrant;\n  protected trendline: Trendline;\n\n  public afterRender() {\n    super.afterRender();\n    if (this.options.quadrant && this.options.quadrant.visible && !this.quadrant) {\n      if (this.quadrant) {\n        this.quadrant.destroy();\n      }\n      this.quadrant = new Quadrant({\n        view: this.view,\n        plotOptions: this.options,\n        ...this.options.quadrant,\n      });\n      this.quadrant.render();\n    }\n    if (this.options.trendline && this.options.trendline.visible) {\n      this.trendline = new Trendline({\n        view: this.view,\n        plotOptions: this.options,\n        ...this.options.trendline,\n      });\n      this.trendline.render();\n    }\n  }\n\n  public destroy() {\n    if (this.quadrant) {\n      this.quadrant.destroy();\n      this.quadrant = null;\n    }\n    if (this.trendline) {\n      this.trendline.destroy();\n      this.trendline = null;\n    }\n    super.destroy();\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置x-scale */\n    scales[props.xField] = {};\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n    scales[props.yField] = {};\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {}\n\n  protected annotation() {}\n\n  protected addGeometry() {\n    const points = getGeom('point', 'circle', {\n      plot: this,\n    });\n    this.points = points;\n    if (this.options.label && this.options.label.visible) {\n      this.points.label = this.extractLabel();\n    }\n    if (this.options.tooltip && this.options.tooltip.visible) {\n      this.points.tooltip = this.extractTooltip();\n      this.setConfig('tooltip', {\n        showTitle: false,\n        ...this.options.tooltip,\n      } as any);\n    }\n    this.setConfig('element', points);\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.points.animate = false;\n    }\n  }\n\n  protected parseEvents(eventParser) {\n    // 气泡图继承散点图时，会存在 eventParser\n    super.parseEvents(eventParser || EventParser);\n  }\n\n  protected extractLabel() {\n    const props = this.options;\n    const label = props.label as Label;\n    if (label && label.visible === false) {\n      return false;\n    }\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'scatterLabel',\n      fields: [props.yField],\n      position: 'right',\n      offset: 0,\n      ...label,\n    });\n    return labelConfig;\n  }\n\n  protected extractTooltip() {\n    const props = this.options;\n    return {\n      fields: [props.xField, props.yField],\n    };\n  }\n}\n\nregisterPlotType('scatter', ScatterLayer);\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ConnectedArea from '../../components/connected-area';\nimport { getComponent } from '../../components/factory';\nimport { ElementOption, Label } from '../../interface/config';\nimport BaseColumnLayer, { ColumnViewConfig } from '../column/layer';\nimport './component/label/stack-column-label';\n\nexport interface StackColumnViewConfig extends ColumnViewConfig {\n  stackField: string;\n  connectedArea?: any;\n}\n\nexport interface StackColumnLayerConfig extends StackColumnViewConfig, LayerConfig {}\n\nexport default class StackColumnLayer<\n  T extends StackColumnLayerConfig = StackColumnLayerConfig\n> extends BaseColumnLayer<T> {\n  public static getDefaultOptions() {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      legend: {\n        visible: true,\n        position: 'right-top',\n      },\n      label: {\n        visible: false,\n        position: 'middle',\n        offset: 0,\n        adjustColor: true,\n      },\n      connectedArea: {\n        visible: false,\n        triggerOn: 'mouseenter',\n      },\n    });\n  }\n\n  public type: string = 'stackColum';\n  public connectedArea: any;\n\n  public init() {\n    if (this.options.connectedArea.visible) {\n      this.options.tooltip.crosshairs = null;\n    }\n    super.init();\n  }\n\n  public afterRender() {\n    const props = this.options;\n    // 绘制区域连接组件\n    if (props.connectedArea.visible) {\n      this.connectedArea = new ConnectedArea({\n        view: this.view,\n        field: props.stackField,\n        animation: props.animation === false ? false : true,\n        ...props.connectedArea,\n      });\n    }\n    super.afterRender();\n  }\n\n  protected adjustColumn(column: ElementOption) {\n    column.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected extractLabel() {\n    const props = this.options;\n    const defaultOptions = this.getLabelOptionsByPosition(props.label.position);\n    const label = _.deepMix({}, defaultOptions, this.options.label as Label);\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'stackColumnLabel',\n      fields: [props.yField],\n      ...label,\n    });\n\n    return labelConfig as any;\n  }\n}\n\nregisterPlotType('stackColumn', StackColumnLayer);\n","import { Shape } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../../util/color';\nimport { LooseMap } from '../../../../interface/types';\n\nconst RIGHT_MARGIN = 20;\n\ntype Point = LooseMap;\n\nexport class BarLabels extends ElementLabels {\n  // TODO: 先实现功能，待抽象  position这里去掉在条形图场景下不必要的逻辑，位置计算调整\n  public setLabelPosition(point, originPoint, index, originPosition) {\n    let position = originPosition;\n    if (_.isFunction(position)) {\n      position = position(originPoint);\n    }\n    const coord = this.get('coord');\n    const point0 = coord.convertPoint(originPoint.points[0]);\n    const point1 = coord.convertPoint(originPoint.points[2]);\n    const negative = point0.x > point1.x;\n    const width = ((point0.x - point1.x) / 2) * -1;\n    const height = ((point0.y - point1.y) / 2) * -1;\n\n    switch (position) {\n      case 'bottom':\n        point.x -= width;\n        point.y += height;\n        point.textAlign = point.textAlign || 'center';\n        break;\n      case 'top':\n        point.x -= width;\n        point.y -= height;\n        point.textAlign = point.textAlign || 'center';\n        break;\n      case 'left':\n        point.x -= width * 2;\n        point.textAlign = point.textAlign || (negative ? 'right' : 'left');\n        break;\n      case 'middle':\n        point.x -= width;\n        point.textAlign = point.textAlign || 'center';\n        break;\n      case 'right':\n        point.textAlign = point.textAlign || (negative ? 'right' : 'left');\n        break;\n      default:\n        break;\n    }\n  }\n\n  // 针对负数值的label调整\n  private adjustOffset(points: any[], shapes: Shape[]) {\n    const renderer = this.get('labelsRenderer');\n    const items = renderer.get('items');\n    const labels = renderer.get('group').get('children');\n    const coord = this.get('coord');\n    _.each(items, (item, idx) => {\n      const label = labels[idx];\n      const point0 = coord.convertPoint(points[idx].points[0]);\n      const point1 = coord.convertPoint(points[idx].points[2]);\n      const negative = point0.x > point1.x;\n      if (negative && item.offset) {\n        item.x -= item.offset * 2;\n        label.attr('x', label.attr('x') - item.offset * 2);\n      }\n    });\n  }\n\n  public showLabels(points: any, shapes: Shape[]) {\n    super.showLabels(points, shapes);\n    this.adjustOffset(points, shapes);\n    const renderer = this.get('labelsRenderer');\n    const labels = renderer.get('group').get('children');\n    const items = renderer.get('items');\n    const view = this.get('element').get('view');\n    const { adjustColor, adjustPosition } = this.get('labelOptions');\n    _.each(labels, (label, index) => {\n      const l = label as Shape;\n      const item = items[index];\n      const origin = l.get('origin');\n      const shapeId = this.get('element').getShapeId(origin);\n      const shape = this._getShape(shapeId, shapes);\n      if (adjustPosition) {\n        this.adjustPosition(l, shape, item);\n      }\n      if (adjustColor) {\n        this.adjustColor(l, shape);\n      }\n    });\n    view.get('canvas').draw();\n  }\n\n  public _getShape(shapeId, shapes) {\n    let target;\n    _.each(shapes, (shape) => {\n      const s = shape as Point;\n      const id = s.id;\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n    return target;\n  }\n\n  public adjustPosition(label, shape, item) {\n    const labelRange = label.getBBox();\n    const shapeRange = shape.getBBox();\n    if (shapeRange.width <= labelRange.width && item.position !== 'right') {\n      const xPosition = shapeRange.maxX + RIGHT_MARGIN;\n      label.attr('x', xPosition);\n    }\n  }\n\n  public adjustColor(label, shape) {\n    const labelRange = label.getBBox();\n    const shapeRange = shape.getBBox();\n    if (labelRange.minX >= shapeRange.minX && labelRange.maxX <= shapeRange.maxX) {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = this._mappingColor(colorBand, gray);\n      label.attr('fill', reflect);\n      if (reflect !== 'black') {\n        label.attr('stroke', null);\n        label.attr('lineWidth', 0);\n      } else {\n        label.attr('stroke', 'white');\n        label.attr('lineWidth', 2);\n      }\n    } else if (labelRange.maxY < shapeRange.minY) {\n      const theme = this.get('theme');\n      const labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n      label.attr('fill', labelTextColor);\n    }\n  }\n\n  public _mappingColor(band, gray) {\n    let reflect;\n    _.each(band, (b) => {\n      const map = b as Point;\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n    return reflect;\n  }\n}\nregisterElementLabels('barLabel', BarLabels);\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getComponent } from '../../components/factory';\nimport { ElementOption, Label } from '../../interface/config';\nimport BaseBarLayer, { BarViewConfig } from '../bar/layer';\nimport './component/label/stack-bar-label';\n\nexport interface StackBarViewConfig extends BarViewConfig {\n  stackField: string;\n}\n\nexport interface StackBarLayerConfig extends StackBarViewConfig, LayerConfig {}\n\nexport default class StackBarLayer<T extends StackBarLayerConfig = StackBarLayerConfig> extends BaseBarLayer<T> {\n  public static getDefaultOptions() {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n        },\n        title: {\n          visible: true,\n          offset: 12,\n        },\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: true,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n      },\n    });\n  }\n\n  public type: string = 'stackBar';\n\n  protected adjustBar(bar: ElementOption) {\n    bar.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected extractLabel() {\n    const props = this.options;\n    const label = props.label as Label;\n\n    if (label.visible === false) {\n      return false;\n    }\n\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'stackBarLabel',\n      fields: [props.xField],\n      ...label,\n    });\n\n    return labelConfig as any;\n  }\n}\n\nregisterPlotType('stackBar', StackBarLayer);\n","import { CoordinateType } from '@antv/g2/lib/plot/interface';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { Label, DataItem } from '../../interface/config';\nimport { LooseMap } from '../../interface/types';\nimport SpiderLabel from './component/label/spider-label';\nimport './component/label/outer-label';\nimport './component/label/inner-label';\nimport './component/label/outer-center-label';\nimport * as EventParser from './event';\nimport './theme';\nimport { LineStyle } from '../line/layer';\n\ninterface PieStyle extends LineStyle {\n  stroke?: string;\n  lineWidth?: number;\n}\n\nexport interface PieViewConfig extends ViewConfig {\n  angleField: string;\n  colorField?: string;\n  radius?: number;\n  pieStyle?: PieStyle | ((...args: any[]) => PieStyle);\n  label?: PieLabel;\n}\n\ntype PieLabel = Omit<Label, 'offset'> & {\n  offset?: string | number;\n  /** label leader-line */\n  line?: {\n    smooth?: boolean;\n    stroke?: string;\n    lineWidth?: number;\n  };\n  /** allow label overlap */\n  allowOverlap?: boolean;\n  readonly fields?: string[];\n};\n\nexport interface PieLayerConfig extends PieViewConfig, LayerConfig {}\n\nconst G2_GEOM_MAP = {\n  pie: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  pie: 'column',\n};\n\nexport default class PieLayer<T extends PieLayerConfig = PieLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false,\n      },\n      description: {\n        visible: false,\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      label: {\n        visible: true,\n        type: 'inner',\n        autoRotate: false,\n        allowOverlap: false,\n        line: {\n          smooth: true,\n        },\n      },\n      legend: {\n        visible: true,\n        position: 'right-center',\n      },\n      tooltip: {\n        visible: true,\n        shared: false,\n        crosshairs: null,\n      },\n      pieStyle: {\n        stroke: 'white',\n        lineWidth: 1,\n      },\n    });\n  }\n\n  public pie: any;\n  public spiderLabel: any;\n  public type: string = 'pie';\n\n  public getOptions(props: T) {\n    // @ts-ignore\n    const defaultOptions = this.constructor.getDefaultOptions();\n    const options = _.deepMix({}, super.getOptions(props), defaultOptions, props);\n    return options;\n  }\n\n  public afterInit() {\n    super.afterInit();\n    const props = this.options;\n    /** 蜘蛛布局label */\n    if (props.label && props.label.visible) {\n      const labelConfig = props.label as Label;\n      if (labelConfig.type === 'spider') {\n        const spiderLabel = new SpiderLabel({\n          view: this.view,\n          fields: props.colorField ? [props.angleField, props.colorField] : [props.angleField],\n          style: labelConfig.style ? labelConfig.style : {},\n          formatter: props.label.formatter ? props.label.formatter : false,\n          offsetX: props.label.offsetX,\n          offsetY: props.label.offsetY,\n        });\n        this.spiderLabel = spiderLabel;\n      }\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    scales[props.angleField] = {};\n    scales[props.colorField] = { type: 'cat' };\n    this.setConfig('scales', scales);\n  }\n\n  protected processData(data?: DataItem[]): DataItem[] | undefined {\n    const key = this.options.angleField;\n    return data.map((item) => ({\n      ...item,\n      [key]: typeof item[key] === 'string' ? Number.parseFloat(item[key] as 'string') : item[key],\n    }));\n  }\n\n  protected axis() {}\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig = {\n      type: 'theta' as CoordinateType,\n      cfg: {\n        radius: props.radius,\n        // @ts-ignore 业务定制,不开放配置\n        innerRadius: props.innerRadius || 0,\n      },\n    };\n    this.setConfig('coord', coordConfig);\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const pie = getGeom('interval', 'main', {\n      plot: this,\n      positionFields: [props.angleField],\n    });\n    pie.adjust = [{ type: 'stack' }];\n    this.pie = pie;\n    if (props.label) {\n      this.label();\n    }\n    this.setConfig('element', pie);\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.pie.animate = false;\n    }\n  }\n\n  protected annotation() {}\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private label() {\n    const props = this.options;\n    let labelConfig = { ...props.label } as Label;\n    labelConfig = this.adjustLabelDefaultOptions(this.options);\n    if (!this.showLabel()) {\n      this.pie.label = false;\n      return;\n    }\n    if (labelConfig.type === 'inner') {\n      // @ts-ignore\n      labelConfig.labelLine = false;\n    } else {\n      // @ts-ignore\n      labelConfig.labelLine = true;\n    }\n\n    // 此处做个 hack 操作, 防止g2 controller层找不到未注册的inner,outter,和spider Label\n    let labelType = labelConfig.type;\n    if (['spider'].indexOf(labelType) !== -1) {\n      labelType = null;\n    }\n    this.pie.label = getComponent('label', {\n      plot: this,\n      labelType,\n      fields: props.colorField ? [props.angleField, props.colorField] : [props.angleField],\n      ...labelConfig,\n    });\n  }\n\n  private showLabel() {\n    const props = this.options;\n    return props.label && props.label.visible === true && props.label.type !== 'spider';\n  }\n\n  /** 调整 label 默认 options */\n  protected adjustLabelDefaultOptions(options: PieLayerConfig) {\n    let labelConfig = { ...options.label } as PieLabel;\n    if (labelConfig && labelConfig.type === 'inner') {\n      labelConfig = _.deepMix(\n        {},\n        {\n          offset: `${(-1 / 3) * 100}%`,\n          style: {\n            textAlign: 'center',\n          },\n        },\n        labelConfig\n      );\n    }\n    if (labelConfig && labelConfig.type === 'outer') {\n      labelConfig = _.deepMix(\n        {},\n        {\n          offset: 20,\n        },\n        labelConfig\n      );\n    }\n    return labelConfig;\n  }\n}\n\nregisterPlotType('pie', PieLayer);\n","import Polar from '@antv/coord/lib/coord/polar';\nimport { BBox, Shape } from '@antv/g';\nimport { registerElementLabels } from '@antv/g2';\nimport { LabelItem } from '@antv/component/lib/interface';\nimport * as _ from '@antv/util';\nimport { getEndPoint } from './utils';\nimport BaseLabel from './base-label';\nimport { percent2Number } from './inner-label';\n\n// 默认label和element的偏移 16px\nexport const DEFAULT_OFFSET = 16;\n/** label text和line距离 4px */\nexport const CROOK_DISTANCE = 4;\n\n/**\n * @desc 环绕型 躲避 label 布局(类椭圆 - 优先顺时针偏移)\n */\nclass OuterPieLabel extends BaseLabel {\n  public adjustPosition(labels: Shape[], items: LabelItem[], coord: Polar, panel: BBox) {\n    this._adjustLabelPosition(labels, coord, panel);\n    const leftHalf = _.filter(labels, (l) => _.find(this.anchors, (a) => a.id === l.id).textAlign === 'right');\n    const rightHalf = _.filter(labels, (l) => _.find(this.anchors, (a) => a.id === l.id).textAlign === 'left');\n    [rightHalf, leftHalf].forEach((half, isLeft) => {\n      this._antiCollision(half, coord, panel, !isLeft);\n    });\n  }\n\n  /** @override */\n  public adjustLines(labels: Shape[], labelItems: LabelItem[], labelLines: any, coord: Polar, panel: BBox) {\n    const labelOptions = this.getLabelOptions();\n    _.each(labels, (label, idx: number) => {\n      const labelLine = labelLines[idx];\n      // 由于布局调整，修改的只是shape 所以取用使用shape(labelItem is read-only)\n      const path = this._getLinePath(label, coord, panel);\n      labelLine.attr('path', path);\n      if (labelOptions.line) {\n        for (const attr in labelOptions.line) {\n          labelLine.attr(attr, labelOptions.line[attr]);\n        }\n      }\n      labelLine.set('visible', label.get('visible'));\n    });\n  }\n\n  /** override */\n  protected getOffsetOfLabel(): number {\n    const labelOptions = this.getLabelOptions();\n    let offset = labelOptions.offset;\n    if (_.isString(offset)) {\n      offset = percent2Number(offset);\n    }\n    return offset === undefined ? DEFAULT_OFFSET : offset < CROOK_DISTANCE * 2 ? offset / 2 : offset - CROOK_DISTANCE;\n  }\n\n  /** labels 碰撞处理（重点算法） */\n  private _antiCollision(labels: Shape[], coord: Polar, plotRange: BBox, isRight: boolean) {\n    const labelHeight = this.getLabelHeight();\n    const totalR = this.anchorRadius;\n    const center = coord.getCenter();\n    const totalHeight = Math.min(plotRange.height, Math.max(totalR * 2 + labelHeight * 2, labels.length * labelHeight));\n    const maxLabelsCount = Math.floor(totalHeight / labelHeight);\n    // fix-bug, maxLabelsCount 之后的labels 在非 allowOverlap 不显示（避免出现尾部label展示，而前置label不展示）\n    if (!this.get('labelOptions').allowOverlap) {\n      labels.slice(maxLabelsCount).forEach((label) => {\n        label.set('visible', false);\n      });\n    }\n    labels.splice(maxLabelsCount, labels.length - maxLabelsCount);\n\n    // sort by y DESC\n    labels.sort((a, b) => a.getBBox().y - b.getBBox().y);\n    // adjust y position of labels to avoid overlapping\n    let overlapping = true;\n    let i;\n    let maxY = center.y + totalHeight / 2;\n    let minY = center.y - totalHeight / 2;\n    const boxes = labels.map((label) => {\n      const labelBox = label.getBBox();\n      if (labelBox.maxY > maxY) {\n        maxY = Math.min(plotRange.maxY, labelBox.maxY);\n      }\n      if (labelBox.minY < minY) {\n        minY = Math.max(plotRange.minY, labelBox.minY);\n      }\n      return {\n        text: label.attr('text'),\n        size: labelHeight,\n        pos: labelBox.y,\n        targets: [],\n      };\n    });\n    let j = 0;\n    while (j < boxes.length) {\n      if (j === boxes.length - 1) {\n        boxes[j].targets[0] = maxY;\n      } else {\n        boxes[j].targets[0] = boxes[j + 1].pos - boxes[j + 1].size / 2;\n      }\n      j++;\n    }\n    while (overlapping) {\n      boxes.forEach((box) => {\n        const target = _.last(box.targets);\n        box.pos = Math.max(minY, Math.min(box.pos, target - box.size));\n      });\n      // detect overlapping and join boxes\n      overlapping = false;\n      i = boxes.length;\n      while (i--) {\n        if (i > 0) {\n          const previousBox = boxes[i - 1];\n          const box = boxes[i];\n          if (previousBox.pos + previousBox.size > box.pos) {\n            // overlapping\n            previousBox.size += box.size;\n            previousBox.targets = previousBox.targets.concat(box.targets);\n            // overflow, shift up\n            const target = _.last(previousBox.targets);\n            if (previousBox.pos + previousBox.size > target) {\n              previousBox.pos = target - previousBox.size;\n            }\n            boxes.splice(i, 1); // removing box\n            overlapping = true;\n          } else {\n            // 换掉最后一个\n            previousBox.targets.splice(-1, 1, box.pos);\n          }\n        }\n      }\n    }\n\n    i = 0;\n    // step 4: normalize y and adjust x\n    boxes.forEach((b) => {\n      let posInCompositeBox = labelHeight / 2; // middle of the label\n      b.targets.forEach(() => {\n        labels[i].attr('y', b.pos + posInCompositeBox);\n        posInCompositeBox += labelHeight;\n        i++;\n      });\n    });\n\n    // 调整 x 位置在椭圆轨道上\n    const topLabels = [];\n    const bottomLabels = [];\n    labels.forEach((label) => {\n      const anchor = this.anchors.find((a) => a.id === label.id);\n      if (anchor.angle >= 0 && anchor.angle <= Math.PI) {\n        bottomLabels.push(label);\n      } else {\n        topLabels.push(label);\n      }\n    });\n    [topLabels, bottomLabels].forEach((adjustLabels, isBottom) => {\n      if (!adjustLabels.length) {\n        return;\n      }\n      let ry = isBottom\n        ? _.last(adjustLabels).getBBox().maxY - center.y\n        : center.y - _.head(adjustLabels).getBBox().minY;\n      ry = Math.max(totalR, ry);\n      const offset = this.getOffsetOfLabel();\n      const distance = this.getCrookDistance();\n      const maxLabelWidth =\n        Math.max.apply(\n          0,\n          _.map(labels, (label) => label.getBBox().width)\n        ) +\n        offset +\n        distance;\n      const rx = Math.max(totalR, Math.min((ry + totalR) / 2, center.x - (plotRange.minX + maxLabelWidth)));\n      const rxPow2 = rx * rx;\n      const ryPow2 = ry * ry;\n      adjustLabels.forEach((label) => {\n        const box = label.getBBox();\n        const boxCenter = { x: box.minX + box.width / 2, y: box.minY + box.height / 2 };\n        const dyPow2 = Math.pow(boxCenter.y - center.y, 2);\n        const anchor = this.anchors.find((a) => a.id === label.id);\n        const endPoint = getEndPoint(center, anchor.angle, coord.getRadius());\n        const distance_offset = (isRight ? 1 : -1) * distance * 2;\n        if (dyPow2 > ryPow2) {\n          console.warn('异常(一般不会出现)', label.attr('text'));\n          label.attr('x', endPoint.x + distance_offset);\n        } else {\n          // (x - cx)^2 / rx ^ 2 + (y - cy)^2 / ry ^ 2 = 1\n          // 避免 label的 拉线 在 element 上\n          let xPos = center.x + (isRight ? 1 : -1) * Math.sqrt((1 - dyPow2 / ryPow2) * rxPow2);\n          if (\n            (center.x === endPoint.x && boxCenter.y === endPoint.y) ||\n            (center.y === endPoint.y && xPos === endPoint.x)\n          ) {\n            xPos = endPoint.x;\n          } else {\n            const k1 = (center.y - endPoint.y) / (center.x - endPoint.x);\n            const k2 = (boxCenter.y - endPoint.y) / (xPos - endPoint.x);\n            const theta = Math.atan((k1 - k2) / (1 + k1 * k2));\n            if (Math.cos(theta) > 0 && (!isRight ? xPos > endPoint.x : xPos < endPoint.x)) {\n              xPos = endPoint.x;\n            }\n          }\n          label.attr('x', xPos + distance_offset);\n        }\n      });\n    });\n  }\n\n  // label shape position\n  private _adjustLabelPosition(labels: Shape[], coord: Polar, panel: BBox) {\n    const distance = this.getCrookDistance();\n    labels.forEach((l) => {\n      const anchor = this.anchors.find((a) => a.id === l.id);\n      const isRight = anchor.textAlign === 'left';\n      l.attr('x', anchor.x + (isRight ? distance * 2 : -distance * 2));\n      l.attr('y', anchor.y);\n      // 统一垂直居中\n      l.attr('textBaseline', 'middle');\n    });\n  }\n\n  /** 获取label leader-line, 默认 not smooth */\n  private _getLinePath(label: Shape, coord: Polar, panel: BBox): string {\n    const labelOptions = this.getLabelOptions();\n    const smooth = labelOptions.line ? labelOptions.line.smooth : false;\n    const anchor = this.anchors.find((a) => a.id === label.id);\n    const angle = anchor.angle;\n    const center = coord.getCenter();\n    const distance = this.getCrookDistance();\n    const start = getEndPoint(center, angle, coord.getRadius());\n    const breakAt = getEndPoint(center, angle, coord.getRadius() + 4);\n    const left2right = start.x - anchor.x <= 0;\n    const labelPosition = { x: label.attr('x') + (left2right ? -distance : distance), y: label.attr('y') };\n    const smoothPath = [\n      'C', // soft break\n      // 1st control point (of the curve)\n      labelPosition.x +\n        // 4 gives the connector a little horizontal bend\n        (left2right ? -4 : 4),\n      labelPosition.y, //\n      2 * breakAt.x - start.x, // 2nd control point\n      2 * breakAt.y - start.y, //\n      breakAt.x, // end of the curve\n      breakAt.y, //\n    ];\n    const straightPath = ['L', /** pointy break */ breakAt.x, breakAt.y];\n    const linePath = smooth ? smoothPath : straightPath;\n    const path = ['M', labelPosition.x, labelPosition.y].concat(linePath).concat('L', start.x, start.y);\n\n    return path.join(',');\n  }\n\n  private getCrookDistance(): number {\n    const labelOptions = this.get('labelOptions');\n    const offset = labelOptions.offset;\n    return offset < CROOK_DISTANCE * 2 ? offset / 2 : CROOK_DISTANCE;\n  }\n\n  /** 获取label height */\n  private getLabelHeight(): number {\n    const labelOptions = this.get('labelOptions');\n    if (!labelOptions.labelHeight) {\n      const renderer = this.get('labelsRenderer');\n      const labels: Shape[] = renderer.get('group').get('children');\n      return _.head(labels) ? _.head(labels).getBBox().height : 14;\n    }\n    return labelOptions.labelHeight;\n  }\n\n  // tslint:disable\n  public getDefaultOffset(point) {\n    const offset = super.getDefaultOffset(point);\n    return offset === undefined ? DEFAULT_OFFSET : offset <= CROOK_DISTANCE ? 1 : offset - CROOK_DISTANCE;\n  }\n}\n\nregisterElementLabels('outer', OuterPieLabel);\n","import { LabelItem } from '@antv/component/lib/interface';\nimport Polar from '@antv/coord/lib/coord/polar';\nimport { Shape } from '@antv/g';\nimport { registerElementLabels } from '@antv/g2';\nimport * as _ from 'lodash';\nimport { getEndPoint, getOverlapInfo } from './utils';\nimport BaseLabel from './base-label';\nimport { distBetweenPoints } from '../../../../util/math';\n\nexport function percent2Number(value: string): number {\n  const percentage = Number(value.endsWith('%') ? value.slice(0, -1) : value);\n  return percentage / 100;\n}\n\n/**\n * @desc 饼图 inner-label 布局\n * @done\n */\nclass InnerLabel extends BaseLabel {\n  public adjustPosition(labels: Shape[], items: LabelItem[], coord: Polar) {\n    const center = coord.getCenter();\n    const radius = coord.getRadius();\n    const offset = this.getOffsetOfLabel();\n    const r = radius + offset;\n    labels.forEach((label, idx) => {\n      const anchor = items.find((i) => i.id === label.id);\n      const { x: newX, y: newY } = getEndPoint(center, anchor.angle, r);\n      label.attr('x', newX);\n      label.attr('y', newY);\n      label.attr('textBaseline', 'middle');\n\n      if (idx > 0) {\n        const prevLabel = labels[idx - 1];\n        this.resolveCollision(label, prevLabel, anchor, coord);\n      }\n    });\n  }\n\n  /** @override inner布局不需要拉线 */\n  public adjustLines(labels: Shape[], items: LabelItem[], labelLines: any[], coord: Polar) {\n    labelLines.forEach((l) => l.set('visible', false));\n  }\n\n  /** @override */\n  protected adjustLabelText() {}\n\n  /** @override 不能大于0 */\n  protected getOffsetOfLabel(): number {\n    const labelOptions = this.get('labelOptions');\n    let offset = labelOptions.offset;\n    const radius = this.get('coord').getRadius();\n    if (_.isString(offset)) {\n      offset = radius * percent2Number(offset);\n    }\n    return offset > 0 ? 0 : offset;\n  }\n\n  /** label 碰撞调整 */\n  private resolveCollision(label: Shape, prev: Shape, anchor: LabelItem, coord: Polar): void {\n    const angle = anchor.angle;\n    const box = label.getBBox();\n    const prevBBox = prev.getBBox();\n    const pos = { x: (box.minX + box.maxX) / 2, y: (box.minY + box.maxY) / 2 };\n    // 两种调整方案\n    /** 先偏移 x 方向 -> 再计算 y 位置 */\n    const pos1 = _.clone(pos);\n    /** 先偏移 y 方向 -> 再计算 x 位置 */\n    const pos2 = _.clone(pos);\n    // check overlap\n    if (prev.id !== label.id) {\n      const { xOverlap, yOverlap } = getOverlapInfo(box, prevBBox);\n      if (xOverlap) {\n        pos1.x = pos.x + xOverlap;\n        pos1.y = pos.y + Math.tan(angle) * xOverlap;\n      }\n      if (yOverlap) {\n        // fix issue-460\n        let yMover = yOverlap;\n        const center = coord.getCenter();\n        if (pos.y < center.y) {\n          // 上方label优先往上偏移\n          yMover = yMover < 0 ? yMover : prevBBox.minY - box.maxY;\n        } else {\n          // 下方label优先往下偏移\n          yMover = yMover > 0 ? yMover : prevBBox.maxY - box.minY;\n        }\n        pos2.y = pos.y + yMover;\n        pos2.x = pos.x + yMover / Math.tan(angle);\n      }\n\n      const dist1 = distBetweenPoints(pos, pos1);\n      const dist2 = distBetweenPoints(pos, pos2);\n      const actualPos = dist1 < dist2 ? pos1 : pos2;\n      // 取偏移距离最小的\n      label.attr('x', actualPos.x);\n      label.attr('y', actualPos.y);\n    }\n  }\n}\n\nregisterElementLabels('inner', InnerLabel);\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getComponent } from '../../components/factory';\nimport { ElementOption, Label } from '../../interface/config';\nimport BaseArea, { AreaViewConfig } from '../area/layer';\nimport './component/label/area-label';\nimport './component/label/line-label';\n\nexport interface StackAreaViewConfig extends AreaViewConfig {\n  stackField: string;\n}\n\nexport interface StackAreaLayerConfig extends StackAreaViewConfig, LayerConfig {}\n\nexport default class StackAreaLayer<T extends StackAreaLayerConfig = StackAreaLayerConfig> extends BaseArea<T> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      label: {\n        visible: false,\n        type: 'area',\n      },\n    });\n  }\n\n  public type: string = 'stackArea';\n\n  protected label() {\n    const props = this.options;\n    const label = props.label as Label;\n\n    if (label && label.visible === false) {\n      this.area.label = false;\n      return;\n    }\n    const labelType = this.getLabelType(label);\n    /** label类型为line，即跟随在折线尾部时，设置offset为0 */\n    if (labelType === 'areaLine' || labelType === 'area') {\n      label.offset = 0;\n    }\n\n    if (labelType === 'area') {\n      label.style = _.deepMix({}, label.style, {\n        lineWidth: 0,\n        stroke: 'rgba(0,0,0,0)',\n      });\n    }\n\n    this.area.label = getComponent('label', {\n      fields: [this.getLabelField(labelType, props)],\n      labelType,\n      plot: this,\n      ...label,\n    });\n  }\n\n  protected adjustArea(ele: ElementOption) {\n    ele.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected adjustLine(ele: ElementOption) {\n    ele.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  protected adjustPoint(ele: ElementOption) {\n    ele.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n  }\n\n  private getLabelField(type, props) {\n    const mapper = {\n      point: props.yField,\n      areaLine: props.stackField,\n      area: props.stackField,\n    };\n    return mapper[type];\n  }\n\n  private getLabelType(labelProps) {\n    if (labelProps.type === 'line') {\n      return 'areaLine';\n    }\n    return labelProps.type;\n  }\n}\n\nregisterPlotType('stackArea', StackAreaLayer);\n","import { each, isArray, deepMix } from '@antv/util';\nimport { Group, BBox, Shape } from '@antv/g';\nimport { View } from '@antv/g2';\n\nconst LABEL_MARGIN = 4;\n\nexport interface MatrixLegendConfig {\n  visible?: boolean;\n  position?: string;\n  width?: number;\n  height?: number;\n  text?: {\n    style?: any;\n    formatter?: () => string;\n  };\n  ticklineStyle?: any;\n  anchorStyle?: any;\n  triggerOn?: string;\n}\n\nexport interface IMatrixLegend extends MatrixLegendConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class MatrixLegend {\n  public options: IMatrixLegend;\n  public container: Group;\n  public anchor: Shape;\n  public afterRender: boolean;\n  public destroyed: boolean = false;\n  protected view: View;\n  protected layout: string;\n  protected width: number;\n  protected height: number;\n  protected position: string;\n  protected x: number;\n  protected y: number;\n  protected dataSlides: any = {};\n  protected colorScale: any;\n\n  constructor(cfg: IMatrixLegend) {\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.afterRender = true;\n    this.init();\n  }\n\n  public init() {\n    this.layout = this.getLayout();\n    this.width = this.options.width ? this.options.width : this.getDefaultWidth();\n    this.height = this.options.height ? this.options.height : this.getDefaultHeight();\n    const plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n  }\n\n  public render() {\n    const scales = this.view.get('scales');\n    const colorField = this.options.plot.options.colorField;\n    this.colorScale = scales[colorField];\n    const { min, max } = this.colorScale;\n    const { color } = this.options.plot.options;\n    if (this.layout === 'horizontal') {\n      this.renderHorizontal(min, max, color);\n    } else {\n      this.renderVertical(min, max, color);\n    }\n    this.legendLayout();\n    this.addInteraction();\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.options.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.options.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {\n    const origin_bbox = this.container.getBBox();\n    return new BBox(this.x, this.y, origin_bbox.width, origin_bbox.height);\n  }\n\n  protected renderVertical(min: number, max: number, colors: string[]) {\n    const valueStep = (max - min) / (colors.length - 1);\n    const colorStep = 1 / (colors.length - 1);\n    const tickStep = this.height / (colors.length - 1);\n    let gradientColor = 'l(90)';\n    each(colors, (c, index) => {\n      const stepNum = colorStep * index;\n      gradientColor += `${stepNum}:${c} `;\n    });\n    this.container.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n        fill: gradientColor,\n      },\n    });\n    // draw tick and label\n    each(colors, (c, index) => {\n      // tick\n      const step = tickStep * index;\n      this.container.addShape('path', {\n        attrs: {\n          path: [\n            ['M', 0, step],\n            ['L', this.width, step],\n          ],\n          ...this.options.ticklineStyle,\n        },\n      });\n      // value\n      const value = Math.round(valueStep * index);\n      this.container.addShape('text', {\n        attrs: {\n          text: value,\n          textAlign: 'left',\n          textBaseline: 'middle',\n          x: this.width + LABEL_MARGIN,\n          y: step,\n          ...this.options.text.style,\n        },\n      });\n    });\n    //anchor\n    const tri_width = 10;\n    const tri_height = 14;\n    const tri_path = [['M', -tri_width, -tri_height / 2], ['L', 0, 0], ['L', -tri_width, tri_height / 2], ['Z']];\n    this.anchor = this.container.addShape('path', {\n      attrs: {\n        path: tri_path,\n        ...this.options.anchorStyle,\n      },\n    });\n    this.anchor.set('visible', false);\n  }\n\n  protected renderHorizontal(min: number, max: number, colors: string[]) {\n    const valueStep = (max - min) / (colors.length - 1);\n    const colorStep = 1 / (colors.length - 1);\n    const tickStep = this.width / (colors.length - 1);\n    let gradientColor = 'l(0)';\n    each(colors, (c, index) => {\n      const stepNum = colorStep * index;\n      gradientColor += `${stepNum}:${c} `;\n    });\n    this.container.addShape('rect', {\n      attrs: {\n        x: 0,\n        y: 0,\n        width: this.width,\n        height: this.height,\n        fill: gradientColor,\n      },\n    });\n    // draw tick and label\n    each(colors, (c, index) => {\n      // tick\n      const step = tickStep * index;\n      this.container.addShape('path', {\n        attrs: {\n          path: [\n            ['M', step, 0],\n            ['L', step, this.height],\n          ],\n          ...this.options.ticklineStyle,\n        },\n      });\n      // value\n      const value = Math.round(valueStep * index);\n      this.container.addShape('text', {\n        attrs: {\n          text: value,\n          textAlign: 'center',\n          textBaseline: 'top',\n          x: step,\n          y: this.height + LABEL_MARGIN,\n          ...this.options.text.style,\n        },\n      });\n    });\n    //anchor\n    const tri_width = 14;\n    const tri_height = 10;\n    const tri_path = [['M', 0, 0], ['L', -tri_width / 2, -tri_height], ['L', tri_width / 2, -tri_height], ['Z']];\n    this.anchor = this.container.addShape('path', {\n      attrs: {\n        path: tri_path,\n        ...this.options.anchorStyle,\n      },\n    });\n    this.anchor.set('visible', false);\n  }\n\n  protected getLayout() {\n    const positions = this.options.position.split('-');\n    this.position = positions[0];\n    if (positions[0] === 'left' || positions[0] === 'right') {\n      return 'vertical';\n    }\n    return 'horizontal';\n  }\n\n  protected getDefaultWidth() {\n    if (this.layout === 'horizontal') {\n      const width = this.view.get('panelRange').width;\n      return width;\n    }\n    return 10;\n  }\n\n  protected getDefaultHeight() {\n    if (this.layout === 'vertical') {\n      const height = this.view.get('panelRange').height;\n      return height;\n    }\n    return 10;\n  }\n\n  protected legendLayout() {\n    const panelRange = this.view.get('panelRange');\n    const { bleeding } = this.options.plot.getPlotTheme();\n    if (isArray(bleeding)) {\n      each(bleeding, (it, index) => {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](this.options.plot.options);\n        }\n      });\n    }\n    const bbox = this.container.getBBox();\n    let x = 0;\n    let y = 0;\n    const positions = this.options.position.split('-');\n    const plotWidth = this.options.plot.width;\n    const plotHeight = this.options.plot.height;\n    // 先确定x\n    if (positions[0] === 'left') {\n      x = bleeding[3];\n    } else if (positions[0] === 'right') {\n      x = plotWidth - bleeding[1] - bbox.width;\n    } else if (positions[1] === 'center') {\n      // default\n      if (this.width === panelRange.width) {\n        x = panelRange.x;\n      } else {\n        x = (plotWidth - bbox.width) / 2;\n      }\n    } else if (positions[1] === 'left') {\n      x = bleeding[3];\n    } else if (positions[1] === 'right') {\n      x = this.options.plot.width - bleeding[1] - bbox.width;\n    }\n    // 再确定y\n    if (positions[0] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    } else if (positions[0] === 'top') {\n      y = this.getTopPosition(bleeding);\n    } else if (positions[1] === 'center') {\n      // default\n      if (this.height === panelRange.height) {\n        y = panelRange.y;\n      } else {\n        //用户自行设定\n        y = (plotHeight - bbox.height) / 2;\n      }\n    } else if (positions[1] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    }\n\n    this.x = x;\n    this.y = y;\n\n    this.container.translate(x, y);\n  }\n\n  protected getDefaultOptions() {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.45)',\n        },\n      },\n      ticklineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(0, 0, 0, 0.8)',\n      },\n      anchorStyle: {\n        fill: 'rgba(0,0,0,0.5)',\n      },\n      triggerOn: 'mousemove',\n    };\n  }\n\n  protected addInteraction() {\n    let geomType;\n    if (this.options.plot.options.shapeType === 'rect') {\n      geomType = 'polygon';\n    } else {\n      geomType = 'point';\n    }\n\n    const eventName = `${geomType}:${this.options.triggerOn}`;\n    const labelEventName = `label:${this.options.triggerOn}`;\n    const field = this.options.plot.options.colorField;\n    const { min, max } = this.colorScale;\n\n    this.view.on(eventName, (ev) => {\n      const value = ev.data._origin[field];\n      const ratio = (value - min) / (max - min);\n      this.moveAnchor(ratio);\n    });\n\n    this.view.on(labelEventName, (ev) => {\n      const value = ev.data[field];\n      const ratio = (value - min) / (max - min);\n      this.moveAnchor(ratio);\n    });\n\n    this.options.plot.canvas.on('mouseleave', (ev) => {\n      this.anchor.set('visible', false);\n    });\n  }\n\n  private moveAnchor(ratio: number) {\n    this.anchor.set('visible', true);\n    if (this.layout === 'vertical') {\n      const pos = this.height * ratio;\n      const ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      ulMatrix[7] = pos;\n      this.anchor.stopAnimate();\n      this.anchor.animate(\n        {\n          matrix: ulMatrix,\n        },\n        400,\n        'easeLinear'\n      );\n    } else {\n      const pos = this.width * ratio;\n      const ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n      ulMatrix[6] = pos;\n      this.anchor.stopAnimate();\n      this.anchor.animate(\n        {\n          matrix: ulMatrix,\n        },\n        400,\n        'easeLinear'\n      );\n    }\n  }\n\n  private getTopPosition(bleeding) {\n    if (this.options.plot.description) {\n      const bbox = this.options.plot.description.getBBox();\n      return bbox.maxY + 10;\n    } else if (this.options.plot.title) {\n      const bbox = this.options.plot.title.getBBox();\n      return bbox.maxY + 10;\n    }\n    return bleeding[0];\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer, { TinyViewConfig } from '../tiny-layer';\nimport Marker, { MarkerConfig } from './component/marker';\nimport * as EventParser from './event';\n\nexport interface ProgressViewConfig extends TinyViewConfig {\n  stackField?: number;\n  progressStyle?: any; // FIXME:\n  percent?: number;\n  size?: number;\n  marker?: MarkerConfig[];\n  barSize?: number;\n  barStyle?: any;\n}\n\ninterface UpdateConfig {\n  percent?: number;\n  color?: string | string[];\n  style?: {} | {}[];\n  marker: MarkerConfig[];\n}\n\nexport interface ProgressLayerConfig extends ProgressViewConfig, LayerConfig {}\n\nconst G2_GEOM_MAP = {\n  progress: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'progress',\n};\n\nconst DEFAULT_COLOR = ['#55A6F3', '#E8EDF3'];\n\nexport default class ProgressLayer<T extends ProgressLayerConfig = ProgressLayerConfig> extends TinyLayer<T> {\n  /**\n   * 将进度条配置项转为堆叠条形图配置项\n   */\n\n  public type: string = 'progress';\n  protected markers: MarkerConfig[];\n  private isEntered = false;\n\n  public processProps() {\n    let props = this.options;\n    props.data = this.processData();\n    const cfg = {\n      padding: [0, 0, 0, 0],\n      xField: 'value',\n      yField: '1',\n      stackField: 'type',\n      barSize: props.size ? props.size : this.getSize(),\n      barStyle: props.progressStyle,\n      color: this.parseColorProps(props) || DEFAULT_COLOR,\n    } as any;\n    props = _.mix(props, cfg);\n  }\n\n  public init() {\n    this.processProps();\n    super.init();\n  }\n\n  public update(cfg: UpdateConfig) {\n    const props = this.options;\n    if (_.hasKey(cfg, 'percent')) {\n      props.percent = cfg.percent;\n      this.changeData(this.processData());\n    }\n\n    if (cfg.style) {\n      this.styleUpdateAnimation(cfg.style);\n      this.updateColorConfigByStyle(cfg.style);\n    }\n\n    if (cfg.color) {\n      let style;\n      if (_.isArray(cfg.color)) {\n        this.options.color = cfg.color;\n        style = [{ fill: cfg.color[0] }, { fill: cfg.color[1] }];\n      } else {\n        this.options.color[0] = cfg.color;\n        style = { fill: cfg.color };\n      }\n      this.styleUpdateAnimation(style);\n    }\n\n    if (cfg.marker) {\n      this.updateMarkers(cfg.marker);\n      this.options.marker = cfg.marker;\n    }\n  }\n\n  public destroy() {\n    if (this.markers && this.markers.length > 0) {\n      _.each(this.markers, (marker) => {\n        marker.destroy();\n      });\n      this.markers = [];\n    }\n    super.destroy();\n  }\n\n  public afterRender() {\n    if (this.options.marker && !this.markers) {\n      this.markers = [];\n      _.each(this.options.marker, (cfg) => {\n        const markerCfg = _.mix(\n          {\n            canvas: this.canvas,\n            view: this.view,\n            progressSize: this.options.barSize,\n          },\n          cfg\n        );\n        const marker = new Marker(markerCfg);\n        this.markers.push(marker);\n      });\n    }\n\n    const progressContainer = this.view.get('elements')[0].get('container');\n    const bbox = progressContainer.getBBox();\n    const rect = progressContainer.addShape('rect', {\n      attrs: {\n        width: bbox.width,\n        height: bbox.height,\n        x: bbox.minX,\n        y: bbox.minY,\n        fill: 'rgba(0,0,0,0)',\n      },\n    });\n    this.canvas.draw();\n\n    rect.on('mouseenter', (ev) => {\n      this.isEntered = true;\n      this.view.emit('progress:mouseenter', ev);\n    });\n\n    rect.on('mouseleave', (ev) => {\n      this.isEntered = false;\n      this.view.emit('progress:mouseleave', ev);\n    });\n\n    const canvasDom = this.canvas.get('canvasDOM');\n    canvasDom.addEventListener('mouseleave', (ev) => {\n      if (this.isEntered) {\n        this.view.emit('progress:mouseleave', ev);\n        this.isEntered = false;\n      }\n    });\n  }\n\n  protected geometryParser(dim: string, type: string): string {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected coord() {\n    const coordConfig = {\n      actions: [['transpose']],\n    };\n    this.setConfig('coord', coordConfig);\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const bar = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this,\n    });\n    bar.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n    if (_.has(props, 'animation')) {\n      bar.animate = props.animation;\n    }\n    this.setConfig('element', bar);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  protected parseColorProps(props) {\n    let colorOption;\n    if (props.color) {\n      if (_.isFunction(props.color)) {\n        colorOption = props.color(props.percent);\n      } else {\n        colorOption = props.color;\n      }\n      if (_.isString(colorOption)) {\n        const color = _.clone(DEFAULT_COLOR);\n        color[0] = colorOption;\n        return color;\n      } else {\n        return colorOption;\n      }\n    }\n    return props.color;\n  }\n\n  protected processData() {\n    const props = this.options;\n    const data = [\n      { type: 'current', value: props.percent },\n      { type: 'rest', value: 1.0 - props.percent },\n    ];\n    return data;\n  }\n\n  protected updateMarkers(markerCfg: MarkerConfig[]) {\n    const markerLength = markerCfg.length;\n    const animationOptions = this.getUpdateAnimationOptions();\n    // marker diff\n    _.each(this.markers, (marker, index) => {\n      if (index > markerLength - 1) {\n        marker.destroy();\n      } else {\n        marker.update(markerCfg[index], animationOptions.duration, animationOptions.easing);\n      }\n    });\n    // add new markers\n    if (this.markers.length < markerLength) {\n      const startIndex = this.markers.length;\n      for (let i = startIndex; i < markerLength; i++) {\n        const cfg = _.deepMix(\n          {},\n          {\n            canvas: this.canvas,\n            view: this.view,\n            progressSize: this.options.barSize,\n          },\n          markerCfg[i]\n        );\n        const marker = new Marker(cfg);\n        this.markers.push(marker);\n      }\n    }\n  }\n\n  private getSize() {\n    const { height } = this;\n    if (height >= 50) {\n      return 10;\n    }\n    return 4;\n  }\n\n  private styleUpdateAnimation(style) {\n    // style更新动画接受用户animation配置的透传\n    const { duration, easing } = this.getUpdateAnimationOptions();\n    // get geometry shapes\n    const progressShapes = [];\n    const { view } = this;\n    const geometry = view.get('elements');\n    _.each(geometry, (geom) => {\n      if (geom.get('shapeType') === 'interval') {\n        const shapes = geom.getShapes();\n        progressShapes.push(...shapes);\n      }\n    });\n    if (_.isArray(style)) {\n      _.each(style, (s, index) => {\n        progressShapes[index].animate(s, duration, easing);\n      });\n    } else {\n      progressShapes[0].animate(style, duration, easing);\n    }\n  }\n\n  private getUpdateAnimationOptions() {\n    let duration = 450;\n    let easing = 'easeQuadInOut';\n    const animationOptions = this.options.animation;\n    if (animationOptions && animationOptions.update) {\n      if (animationOptions.update.duration) {\n        duration = animationOptions.update.duration;\n      }\n      if (animationOptions.update.easing) {\n        easing = animationOptions.update.easing;\n      }\n    }\n    return { duration, easing };\n  }\n\n  private updateColorConfigByStyle(style) {\n    if (_.isArray(style)) {\n      _.each(style, (s, index) => {\n        if (s.fill) {\n          this.options.color[index] = s.fill;\n        }\n      });\n    } else if (style.fill) {\n      this.options.color[0] = style.fill;\n    }\n  }\n}\n\nregisterPlotType('progress', ProgressLayer);\n","import * as _ from '@antv/util';\nimport { ViewLayerConfig } from '../../base/view-layer';\nimport { getGlobalTheme } from '../../theme/global';\n\nconst SINGLE_TYPE = ['line', 'area', 'column', 'bar', 'bubble', 'scatter'];\n\nexport function getColorConfig(type: string, props: ViewLayerConfig, count: number) {\n  if (props.color) {\n    return { single: false, color: props.color };\n  }\n  const isSingle = isSingleGraph(type, props);\n  const { colors } = getGlobalTheme();\n  if (isSingle && !props.color) {\n    return { single: true, color: colors[count] };\n  }\n}\n\n/** 判断是不是单图元类型的图表：单折线图、基础柱状图、散点图、基础面积图等 */\nexport function isSingleGraph(type: string, props: ViewLayerConfig) {\n  if (_.contains(SINGLE_TYPE, type)) {\n    if (type === 'line' && _.has(props, 'seriesField')) {\n      return false;\n    }\n    if (type === 'column' && _.has(props, 'colorField')) {\n      return false;\n    }\n    return true;\n  }\n  return false;\n}\n","import { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { getGlobalTheme } from '../../theme/global';\n\nexport function getOverlappingPadding(layer, components) {\n  const { bleeding } = getGlobalTheme();\n  if (_.isArray(bleeding)) {\n    _.each(bleeding, (it, index) => {\n      if (typeof bleeding[index] === 'function') {\n        bleeding[index] = bleeding[index]({});\n      }\n    });\n  }\n  let viewMinX = layer.layerBBox.minX;\n  let viewMaxX = layer.layerBBox.maxX;\n  let viewMinY = _.clone(layer.layerBBox.minY);\n  let viewMaxY = layer.layerBBox.maxY;\n  _.each(components, (component) => {\n    const { position } = component;\n    const { minX, maxX, minY, maxY } = component.getBBox();\n    if (maxY > viewMinY && maxY < viewMaxY && position === 'top') {\n      viewMinY = maxY;\n    }\n    if (minY > viewMinY && minY < viewMaxY && position === 'bottom') {\n      viewMaxY = minY;\n    }\n    if (maxX > viewMinX && maxX < viewMaxX && position === 'left') {\n      viewMinX = maxX;\n    }\n    if (minX > viewMinX && maxX < viewMaxX && position === 'right') {\n      viewMaxX = minX;\n    }\n  });\n  const range = new BBox(viewMinX, viewMinY, viewMaxX - viewMinX, viewMaxY - viewMinY);\n  let top_padding = range.minY - layer.layerBBox.minY;\n  if (top_padding === 0) {\n    top_padding = bleeding[0];\n  }\n  const right_padding = layer.layerBBox.maxX - range.maxX;\n  const bottom_padding = layer.layerBBox.maxY - range.maxY;\n  const left_padding = range.minX - layer.layerBBox.minX;\n\n  return [top_padding, right_padding, bottom_padding, left_padding];\n}\n","var DEFAULT_STYLE = {\n    trackColor: 'rgba(0,0,0,0)',\n    thumbColor: 'rgba(0,0,0,0.15)',\n    size: 8,\n    lineCap: 'round',\n};\nexport var DEFAULT_THEME = {\n    // 默认样式\n    default: DEFAULT_STYLE,\n    // 鼠标 hover 的样式\n    hover: {\n        thumbColor: 'rgba(0,0,0,0.2)',\n    },\n};\n//# sourceMappingURL=style.js.map","import { __extends } from \"tslib\";\nimport * as domUtil from '@antv/dom-util';\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { DEFAULT_THEME } from './style';\nvar ScrollBar = /** @class */ (function (_super) {\n    __extends(ScrollBar, _super);\n    function ScrollBar(scrollBarCfg) {\n        var _this = _super.call(this) || this;\n        // 通过拖拽开始的事件是 mousedown 还是 touchstart 来决定是移动端还是 pc 端\n        _this._isMobile = false;\n        _this._onStartEvent = function (isMobile) { return function (e) {\n            _this._isMobile = isMobile;\n            // 阻止冒泡\n            e.event.preventDefault();\n            var event = _this._isMobile ? _.get(e.event, 'touches.0', e) : e;\n            var clientX = event.clientX, clientY = event.clientY;\n            // 将开始的点记录下来\n            _this._startPos = _this.isHorizontal ? clientX : clientY;\n            _this._bindLaterEvent();\n        }; };\n        // 点击滑道的事件回调,移动滑块位置\n        _this._onTrackClick = function (e) {\n            var containerDOM = _this.get('canvas').get('containerDOM');\n            var rect = containerDOM.getBoundingClientRect();\n            var clientX = e.clientX, clientY = e.clientY;\n            var offset = _this.isHorizontal\n                ? clientX - rect.left - _this.position.x - _this.thumbLen / 2\n                : clientY - rect.top - _this.position.y - _this.thumbLen / 2;\n            var newOffset = _this._validateRange(offset);\n            _this.updateThumbOffset(newOffset);\n        };\n        // 拖拽滑块的事件回调\n        // 这里是 dom 原生事件，绑定在 dom 元素上的\n        _this._onMouseMove = function (e) {\n            e.preventDefault();\n            var event = _this._isMobile ? _.get(e, 'touches.0', e) : e;\n            var clientX = event.clientX;\n            var clientY = event.clientY;\n            // 鼠标松开的位置\n            var endPos = _this.isHorizontal ? clientX : clientY;\n            // 滑块需要移动的距离, 由于这里是对滑块监听，所以移动的距离就是 diffDis, 如果监听对象是 container dom，则需要算比例\n            var diff = endPos - _this._startPos;\n            // 更新 _startPos\n            _this._startPos = endPos;\n            _this.updateThumbOffset(_this.thumbOffset + diff);\n        };\n        // 滑块鼠标松开事件回调\n        _this._onMouseUp = function (e) {\n            // 松开鼠标时，清除所有事件\n            e.preventDefault();\n            _this._clearEvents();\n        };\n        _this._onTrackMouseOver = function (e) {\n            var thumbColor = _this.theme.hover.thumbColor;\n            _this.thumbShape.attr('stroke', thumbColor);\n            _this.get('canvas').draw();\n        };\n        _this._onTrackMouseOut = function (e) {\n            var thumbColor = _this.theme.default.thumbColor;\n            _this.thumbShape.attr('stroke', thumbColor);\n            _this.get('canvas').draw();\n        };\n        var _a = scrollBarCfg.isHorizontal, isHorizontal = _a === void 0 ? false : _a, trackLen = scrollBarCfg.trackLen, thumbLen = scrollBarCfg.thumbLen, position = scrollBarCfg.position, _b = scrollBarCfg.minThumbLen, minThumbLen = _b === void 0 ? 20 : _b, _c = scrollBarCfg.thumbOffset, thumbOffset = _c === void 0 ? 0 : _c, theme = scrollBarCfg.theme;\n        _this.isHorizontal = isHorizontal;\n        _this.thumbOffset = thumbOffset;\n        _this.trackLen = trackLen;\n        _this.thumbLen = thumbLen;\n        _this.position = position;\n        _this.minThumbLen = minThumbLen;\n        _this.theme = _.deepMix({}, DEFAULT_THEME, theme);\n        _this._initScrollBar();\n        return _this;\n    }\n    /**\n     * 当前滑块滑动的位置 0 ~ 1\n     */\n    ScrollBar.prototype.current = function () {\n        var thumbRate = this.thumbLen / this.trackLen;\n        var offsetRate = this.thumbOffset / this.trackLen;\n        return offsetRate / (1 - thumbRate);\n    };\n    /**\n     * 更新滑道长度\n     * @param newTrackLen 新的滑块长度\n     */\n    ScrollBar.prototype.updateTrackLen = function (newTrackLen) {\n        // 如果更新后的 trackLen 没改变，无需执行后续逻辑\n        if (this.trackLen === newTrackLen) {\n            return;\n        }\n        // 更新滑道长度的时候，同时按比例更新滑块长度和 offset(增大视窗或者减小视窗的场景))\n        var thumbRate = this.thumbLen / this.trackLen;\n        var offsetRate = this.thumbOffset / this.trackLen;\n        var newThumbLen = newTrackLen * thumbRate;\n        var newOffset = newTrackLen * offsetRate;\n        this.trackLen = newTrackLen;\n        if (this.isHorizontal) {\n            this.trackShape.attr('x2', newTrackLen);\n        }\n        else {\n            this.trackShape.attr('y2', newTrackLen);\n        }\n        this.updateThumbLen(newThumbLen);\n        this.updateThumbOffset(newOffset);\n        this._renderNewScrollBar();\n    };\n    /**\n     * 更新滑块长度\n     * @param newThumbLen 新的滑道长度\n     */\n    ScrollBar.prototype.updateThumbLen = function (newThumbLen) {\n        // 如果更新后的 thumbLen 没改变，无需执行后续逻辑\n        if (this.thumbLen === newThumbLen) {\n            return;\n        }\n        this.thumbLen = newThumbLen;\n        if (this.isHorizontal) {\n            this.thumbShape.attr('x2', this.thumbOffset + newThumbLen);\n        }\n        else {\n            this.thumbShape.attr('y2', this.thumbOffset + newThumbLen);\n        }\n        this._renderNewScrollBar();\n    };\n    /**\n     * 更新滑块的 offset 值\n     * @param offset\n     */\n    ScrollBar.prototype.updateThumbOffset = function (offset) {\n        var newOffset = this._validateRange(offset);\n        // 如果更新后的 offset 与原值相同，则不改变\n        if (this.thumbOffset === newOffset) {\n            return;\n        }\n        this.thumbOffset = newOffset;\n        if (this.isHorizontal) {\n            this.thumbShape.attr({\n                x1: newOffset,\n                x2: newOffset + this.thumbLen,\n            });\n        }\n        else {\n            this.thumbShape.attr({\n                y1: newOffset,\n                y2: newOffset + this.thumbLen,\n            });\n        }\n        this._renderNewScrollBar();\n    };\n    /**\n     * 更新滑道位置\n     * @param newPos 新的滑块位置\n     */\n    ScrollBar.prototype.updateScrollBarPos = function (newPos) {\n        if (newPos.x === this.position.x && newPos.y === this.position.y) {\n            return;\n        }\n        this.position = newPos;\n        this.scrollBarGroup.move(newPos.x, newPos.y);\n        this._renderNewScrollBar();\n    };\n    // 绘制新的 scrollBar\n    ScrollBar.prototype._renderNewScrollBar = function () {\n        // 发送事件\n        this.emit('scrollchange', {\n            thumbOffset: this.thumbOffset,\n            ratio: _.clamp(this.thumbOffset / (this.trackLen - this.thumbLen), 0, 1),\n        });\n        // 渲染\n        this.get('canvas').draw();\n    };\n    ScrollBar.prototype.updateTheme = function (theme) {\n        this.theme = _.deepMix({}, DEFAULT_THEME, theme);\n        this.thumbShape.attr('stroke', this.theme.default.thumbColor);\n        this.thumbShape.attr('lineWidth', this.theme.default.size);\n        this.thumbShape.attr('lineCap', this.theme.default.lineCap);\n        this.get('canvas').draw();\n    };\n    // 初始化 scrollBar\n    ScrollBar.prototype._initScrollBar = function () {\n        this.scrollBarGroup = this._createScrollBarGroup();\n        this.scrollBarGroup.move(this.position.x, this.position.y);\n        // 绑定事件\n        this._bindEvents();\n    };\n    // 创建 scrollBar 的 group\n    ScrollBar.prototype._createScrollBarGroup = function () {\n        var group = this.addGroup({ className: this.isHorizontal ? 'horizontalBar' : 'verticalBar' });\n        this.trackShape = this._createTrackShape(group);\n        this.thumbShape = this._createThumbShape(group);\n        return group;\n    };\n    // 创建滑道的 shape\n    ScrollBar.prototype._createTrackShape = function (group) {\n        var _a = this.theme.default, lineCap = _a.lineCap, trackColor = _a.trackColor, size = _a.size;\n        if (this.isHorizontal) {\n            return group.addShape('line', {\n                attrs: {\n                    x1: 0,\n                    y1: size / 2,\n                    x2: this.trackLen,\n                    y2: size / 2,\n                    lineWidth: size,\n                    stroke: trackColor,\n                    lineCap: lineCap,\n                },\n            });\n        }\n        return group.addShape('line', {\n            attrs: {\n                x1: size / 2,\n                y1: 0,\n                x2: size / 2,\n                y2: this.trackLen,\n                lineWidth: size,\n                stroke: trackColor,\n                lineCap: lineCap,\n            },\n        });\n    };\n    // 创建滑块的 shape\n    ScrollBar.prototype._createThumbShape = function (group) {\n        var _a = this.theme.default, size = _a.size, lineCap = _a.lineCap, thumbColor = _a.thumbColor;\n        if (this.isHorizontal) {\n            return group.addShape('line', {\n                attrs: {\n                    x1: this.thumbOffset,\n                    y1: size / 2,\n                    x2: this.thumbOffset + this.thumbLen,\n                    y2: size / 2,\n                    lineWidth: size,\n                    stroke: thumbColor,\n                    lineCap: lineCap,\n                    cursor: 'default',\n                },\n            });\n        }\n        return group.addShape('line', {\n            attrs: {\n                x1: size / 2,\n                y1: this.thumbOffset,\n                x2: size / 2,\n                y2: this.thumbOffset + this.thumbLen,\n                lineWidth: size,\n                stroke: thumbColor,\n                lineCap: lineCap,\n                cursor: 'default',\n            },\n        });\n    };\n    // 事件绑定\n    ScrollBar.prototype._bindEvents = function () {\n        this.on('mousedown', this._onStartEvent(false));\n        // 因为上层交叉表交互 prevent 事件，导致 containerDOM 上的 mouseup 事件没有执行，\n        // 整个拖拽过程没有 cancel 掉。\n        this.on('mouseup', this._onMouseUp);\n        this.on('touchstart', this._onStartEvent(true));\n        this.on('touchend', this._onMouseUp);\n        this.trackShape.on('click', this._onTrackClick);\n        this.thumbShape.on('mouseover', this._onTrackMouseOver);\n        this.thumbShape.on('mouseout', this._onTrackMouseOut);\n    };\n    ScrollBar.prototype._bindLaterEvent = function () {\n        var containerDOM = this.get('canvas').get('containerDOM');\n        var events = [];\n        if (this._isMobile) {\n            events = [\n                domUtil.addEventListener(containerDOM, 'touchmove', this._onMouseMove),\n                domUtil.addEventListener(containerDOM, 'touchend', this._onMouseUp),\n                domUtil.addEventListener(containerDOM, 'touchcancel', this._onMouseUp),\n            ];\n        }\n        else {\n            events = [\n                domUtil.addEventListener(containerDOM, 'mousemove', this._onMouseMove),\n                domUtil.addEventListener(containerDOM, 'mouseup', this._onMouseUp),\n                // 为了保证划出 canvas containerDom 时还没触发 mouseup\n                domUtil.addEventListener(containerDOM, 'mouseleave', this._onMouseUp),\n            ];\n        }\n        this._clearEvents = function () {\n            events.forEach(function (e) {\n                e.remove();\n            });\n        };\n    };\n    // 判断滑块位置是否超出滑道区域\n    ScrollBar.prototype._validateRange = function (offset) {\n        var newOffset = offset;\n        if (offset + this.thumbLen > this.trackLen) {\n            newOffset = this.trackLen - this.thumbLen;\n        }\n        else if (offset + this.thumbLen < this.thumbLen) {\n            newOffset = 0;\n        }\n        return newOffset;\n    };\n    return ScrollBar;\n}(Group));\nexport default ScrollBar;\n//# sourceMappingURL=index.js.map","import { __assign, __extends } from \"tslib\";\n/**\n * Icon 需求和设计：https://yuque.antfin-inc.com/eva-engine/specs/sh9uyn\n * 使用 icon font\n */\nimport { Group } from '@antv/g';\nvar Icon = /** @class */ (function (_super) {\n    __extends(Icon, _super);\n    function Icon(cfg) {\n        var _this = _super.call(this, cfg) || this;\n        var _a = cfg.position, position = _a === void 0 ? { x: 0, y: 0 } : _a, icon = cfg.icon, _b = cfg.text, text = _b === void 0 ? '' : _b, _c = cfg.spacing, spacing = _c === void 0 ? 8 : _c, iconStyle = cfg.iconStyle, textStyle = cfg.textStyle, _d = cfg.interactive, interactive = _d === void 0 ? false : _d;\n        _this.position = position;\n        _this.icon = icon;\n        _this.text = text;\n        _this.spacing = spacing;\n        // todo 默认样式\n        _this.iconStyle = __assign({ fontFamily: 'iconfont', fontSize: 16, textAlign: 'left', textBaseline: 'top', fill: '#1890ff' }, iconStyle);\n        _this.textStyle = __assign({ fontSize: 12, textAlign: 'left', textBaseline: 'middle', fill: '#000' }, textStyle);\n        _this.interactive = interactive;\n        // 渲染\n        _this._initIcon();\n        if (_this.interactive) {\n            _this._bindEvent();\n        }\n        return _this;\n    }\n    // 绘制 icon\n    Icon.prototype._initIcon = function () {\n        var _a = this.position, x = _a.x, y = _a.y;\n        var icon = String.fromCharCode(parseInt(this.icon, 16));\n        // icon\n        var iconShape = this.addShape('text', {\n            attrs: __assign({ x: x,\n                y: y, text: icon }, this.iconStyle),\n        });\n        // text\n        if (this.text) {\n            var iconBBox = iconShape.getBBox();\n            this.addShape('text', {\n                attrs: __assign({ x: x + iconBBox.width + this.spacing, y: y + iconBBox.height / 2, text: this.text }, this.textStyle),\n            });\n        }\n        // 背景\n        var bbox = this.getBBox();\n        this.bg = this.addShape('rect', {\n            attrs: {\n                x: bbox.x,\n                y: bbox.y,\n                width: bbox.width,\n                height: bbox.height,\n                radius: 2,\n                fill: '#fff',\n            },\n            zIndex: -1,\n        });\n        this.sort();\n    };\n    /**\n     * 绑定事件：\n     * 1. hover 加背景\n     * 2. 点击 emit 出去\n     * @private\n     */\n    Icon.prototype._bindEvent = function () {\n        var _this = this;\n        this.on('mouseover', function () {\n            _this.bg.attr('fill', '#F5F5F5');\n            _this.get('canvas').draw();\n        });\n        this.on('mouseout', function () {\n            _this.bg.attr('fill', '#fff');\n            _this.get('canvas').draw();\n        });\n    };\n    return Icon;\n}(Group));\nexport default Icon;\n//# sourceMappingURL=index.js.map","import { __assign, __extends } from \"tslib\";\nimport { Group, Path } from '@antv/g';\nvar DIR_MAPPER = {\n    right: (90 * Math.PI) / 180,\n    left: ((360 - 90) * Math.PI) / 180,\n    up: 0,\n    down: (180 * Math.PI) / 180,\n};\nvar Arrow = /** @class */ (function (_super) {\n    __extends(Arrow, _super);\n    function Arrow(cfg) {\n        var _this = _super.call(this) || this;\n        // 解构，追加默认值\n        var _a = cfg.position, position = _a === void 0 ? { x: 0, y: 0 } : _a, _b = cfg.width, width = _b === void 0 ? 10 : _b, _c = cfg.height, height = _c === void 0 ? 10 : _c, _d = cfg.direction, direction = _d === void 0 ? 'right' : _d, _e = cfg.shapeAttrs, shapeAttrs = _e === void 0 ? {} : _e;\n        _this.position = position;\n        _this.width = width;\n        _this.height = height;\n        _this.direction = direction;\n        _this.shapeAttrs = shapeAttrs;\n        _this._init();\n        return _this;\n    }\n    Arrow.prototype._init = function () {\n        var _this = this;\n        var centerX = this.width / 2;\n        var centerY = this.height / 2;\n        var points = [\n            { x: 0, y: -centerY },\n            { x: -centerX, y: centerY },\n            { x: centerX, y: centerY },\n        ];\n        var shape = new Path({\n            attrs: __assign({ path: [\n                    ['M', points[0].x, points[0].y],\n                    ['L', points[1].x, points[1].y],\n                    ['L', points[2].x, points[2].y],\n                    ['Z'],\n                ] }, this.shapeAttrs),\n        });\n        this.add(shape);\n        // rotate\n        this.rotate(DIR_MAPPER[this.direction]);\n        // move to\n        this.move(this.position.x, this.position.y);\n        shape.on('click', function (e) {\n            e.stopPropagation();\n            _this.emit('click', e);\n        });\n    };\n    return Arrow;\n}(Group));\nexport default Arrow;\n//# sourceMappingURL=index.js.map","export var BACKGROUND_STYLE = {\n    // fill: 'red',\n    opacity: 0,\n};\nexport var LINE_STYLE = {\n    stroke: '#C5C5C5',\n    strokeOpacity: 0.85,\n};\nexport var AREA_STYLE = {\n    fill: '#CACED4',\n    opacity: 0.85,\n};\n//# sourceMappingURL=constant.js.map","import { __spreadArrays } from \"tslib\";\nimport * as pathUtil from '@antv/path-util';\nimport Category from '@antv/scale/lib/category';\nimport Linear from '@antv/scale/lib/linear';\nimport * as _ from '@antv/util';\n/**\n * 点数组转 path\n * @param points\n */\nfunction pointsToPath(points) {\n    return _.map(points, function (p, idx) {\n        var command = idx === 0 ? 'M' : 'L';\n        var x = p[0], y = p[1];\n        return [command, x, y];\n    });\n}\n/**\n * 将点连接成路径 path\n * @param points\n */\nexport function getLinePath(points) {\n    return pointsToPath(points);\n}\n/**\n * 将点连成平滑的曲线\n * @param points\n */\nexport function getSmoothLinePath(points) {\n    if (points.length <= 2) {\n        // 两点以内直接绘制成路径\n        return getLinePath(points);\n    }\n    var data = [];\n    _.each(points, function (p) {\n        // 当前点和上一个点一样的时候，忽略掉\n        if (!_.isEqual(p, data.slice(data.length - 2))) {\n            data.push(p[0], p[1]);\n        }\n    });\n    // const constraint = [ // 范围\n    //   [ 0, 0 ],\n    //   [ 1, 1 ],\n    // ];\n    var path = pathUtil.catmullRom2Bezier(data, false);\n    var _a = _.head(points), x = _a[0], y = _a[1];\n    path.unshift(['M', x, y]);\n    return path;\n}\n/**\n * 将数据转成 path，利用 scale 的归一化能力\n * @param data\n * @param width\n * @param height\n * @param smooth\n */\nexport function dataToPath(data, width, height, smooth) {\n    if (smooth === void 0) { smooth = true; }\n    // 利用 scale 来获取 y 上的映射\n    var y = new Linear({\n        values: data,\n    });\n    var x = new Category({\n        values: _.map(data, function (v, idx) { return idx; }),\n    });\n    var points = _.map(data, function (v, idx) {\n        return [x.scale(idx) * width, height - y.scale(v) * height];\n    });\n    return smooth ? getSmoothLinePath(points) : getLinePath(points);\n}\n/**\n * 线 path 转 area path\n * @param path\n * @param width\n * @param height\n */\nexport function linePathToAreaPath(path, width, height) {\n    var areaPath = __spreadArrays(path);\n    areaPath.push(['L', width, 0]);\n    areaPath.push(['L', 0, height]);\n    areaPath.push(['Z']);\n    return areaPath;\n}\n//# sourceMappingURL=path.js.map","import { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { AREA_STYLE, BACKGROUND_STYLE, LINE_STYLE } from './constant';\nimport { dataToPath, linePathToAreaPath } from './path';\n/**\n * 缩略趋势图\n */\nvar Trend = /** @class */ (function (_super) {\n    __extends(Trend, _super);\n    function Trend(cfg) {\n        var _this = _super.call(this) || this;\n        var _a = cfg.x, x = _a === void 0 ? 0 : _a, _b = cfg.y, y = _b === void 0 ? 0 : _b, _c = cfg.width, width = _c === void 0 ? 200 : _c, _d = cfg.height, height = _d === void 0 ? 16 : _d, _e = cfg.smooth, smooth = _e === void 0 ? true : _e, _f = cfg.isArea, isArea = _f === void 0 ? false : _f, _g = cfg.data, data = _g === void 0 ? [] : _g, backgroundStyle = cfg.backgroundStyle, lineStyle = cfg.lineStyle, areaStyle = cfg.areaStyle;\n        _this.x = x;\n        _this.y = y;\n        _this.width = width;\n        _this.height = height;\n        _this.data = data;\n        _this.smooth = smooth;\n        _this.isArea = isArea;\n        _this.backgroundStyle = _.assign({}, BACKGROUND_STYLE, backgroundStyle);\n        _this.lineStyle = _.assign({}, LINE_STYLE, lineStyle);\n        _this.areaStyle = _.assign({}, AREA_STYLE, areaStyle);\n        _this._initial();\n        return _this;\n    }\n    /**\n     * 构造\n     * @private\n     */\n    Trend.prototype._initial = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height, data = _a.data, smooth = _a.smooth, isArea = _a.isArea, backgroundStyle = _a.backgroundStyle, lineStyle = _a.lineStyle, areaStyle = _a.areaStyle;\n        // 背景\n        this.backgroundShape = this.addShape('rect', {\n            attrs: __assign({ x: 0, y: 0, width: width,\n                height: height }, backgroundStyle),\n        });\n        var path = dataToPath(data, width, height, smooth);\n        // 线\n        this.lineShape = this.addShape('path', {\n            attrs: __assign({ path: path }, lineStyle),\n        });\n        // area\n        // 在 path 的基础上，增加两个坐标点\n        var areaPath = linePathToAreaPath(path, width, height);\n        if (isArea) {\n            this.areaShape = this.addShape('path', {\n                attrs: __assign({ path: areaPath }, areaStyle),\n            });\n        }\n        // 统一移动到对应的位置\n        this.move(x, y);\n    };\n    return Trend;\n}(Group));\nexport default Trend;\n//# sourceMappingURL=index.js.map","/**\n * 一些默认的样式配置\n */\nexport var BACKGROUND_STYLE = {\n    fill: '#416180 ',\n    opacity: 0.05,\n};\nexport var FOREGROUND_STYLE = {\n    fill: '#5B8FF9',\n    opacity: 0.15,\n    cursor: 'move',\n};\nexport var DEFAULT_HANDLER_WIDTH = 10;\nexport var HANDLER_STYLE = {\n    width: DEFAULT_HANDLER_WIDTH,\n    height: 24,\n};\nexport var TEXT_STYLE = {\n    textBaseline: 'middle',\n    fill: '#000',\n    opacity: 0.45,\n};\nexport var SLIDER_CHANGE = 'sliderchange';\n//# sourceMappingURL=constant.js.map","import { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nvar DEFAULT_STYLE = {\n    fill: '#F7F7F7',\n    stroke: '#BFBFBF',\n    radius: 2,\n    opacity: 1,\n    cursor: 'ew-resize',\n    // 高亮的颜色\n    highLightFill: '#FFF',\n};\nvar Handler = /** @class */ (function (_super) {\n    __extends(Handler, _super);\n    function Handler(cfg) {\n        var _this = _super.call(this) || this;\n        var _a = cfg.x, x = _a === void 0 ? 0 : _a, _b = cfg.y, y = _b === void 0 ? 0 : _b, _c = cfg.width, width = _c === void 0 ? 10 : _c, _d = cfg.height, height = _d === void 0 ? 24 : _d, _e = cfg.style, style = _e === void 0 ? {} : _e;\n        _this.x = x;\n        _this.y = y;\n        _this.width = width;\n        _this.height = height;\n        _this.style = __assign(__assign({}, DEFAULT_STYLE), style);\n        _this._initial();\n        return _this;\n    }\n    /**\n     * 设置位置 x\n     * @param x\n     */\n    Handler.prototype.setX = function (x) {\n        this.setXY(x, undefined);\n    };\n    /**\n     * 设置位置 y\n     * @param y\n     */\n    Handler.prototype.setY = function (y) {\n        this.setXY(undefined, y);\n    };\n    Handler.prototype.setXY = function (x, y) {\n        if (_.isNumber(x)) {\n            this.x = x;\n        }\n        if (_.isNumber(y)) {\n            this.y = y;\n        }\n        this._updateXY();\n    };\n    /**\n     * 初始化组件\n     * @private\n     */\n    Handler.prototype._initial = function () {\n        var _a = this, width = _a.width, height = _a.height, style = _a.style;\n        var fill = style.fill, stroke = style.stroke, radius = style.radius, opacity = style.opacity, cursor = style.cursor;\n        // 按钮框框\n        this.background = this.addShape('rect', {\n            attrs: {\n                x: 0,\n                y: 0,\n                width: width,\n                height: height,\n                fill: fill,\n                stroke: stroke,\n                radius: radius,\n                opacity: opacity,\n                cursor: cursor,\n            },\n        });\n        // 两根竖线\n        var x1 = 1 / 3 * width;\n        var x2 = 2 / 3 * width;\n        var y1 = 1 / 4 * height;\n        var y2 = 3 / 4 * height;\n        this.addShape('line', {\n            attrs: {\n                x1: x1,\n                y1: y1,\n                x2: x1,\n                y2: y2,\n                stroke: stroke,\n                cursor: cursor,\n            },\n        });\n        this.addShape('line', {\n            attrs: {\n                x1: x2,\n                y1: y1,\n                x2: x2,\n                y2: y2,\n                stroke: stroke,\n                cursor: cursor,\n            },\n        });\n        // 移动到对应的位置\n        this._updateXY();\n        this._bindEvents();\n    };\n    Handler.prototype._bindEvents = function () {\n        var _this = this;\n        this.on('mouseenter', function () {\n            var highLightFill = _this.style.highLightFill;\n            _this.background.attr('fill', highLightFill);\n            _this._getCanvas().draw();\n        });\n        this.on('mouseleave', function () {\n            var fill = _this.style.fill;\n            _this.background.attr('fill', fill);\n            _this._getCanvas().draw();\n        });\n    };\n    Handler.prototype._updateXY = function () {\n        this.move(this.x, this.y);\n    };\n    /**\n     * 因为 get('canvas') 因为构建顺序问题，导致不存在，所以采用这种方式拿到 canvas\n     * @private\n     */\n    Handler.prototype._getCanvas = function () {\n        var t = this;\n        while (t.get('parent')) {\n            t = t.get('parent');\n        }\n        // 最顶层的 parent 就是 canvas 实例\n        return t;\n    };\n    return Handler;\n}(Group));\nexport default Handler;\n//# sourceMappingURL=handler.js.map","/**\n * @file 基于 G 的缩略轴组件（Slider 组件）\n * @author hustcc\n */\nimport { __assign, __extends } from \"tslib\";\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport Trend from '../trend';\nimport { BACKGROUND_STYLE, DEFAULT_HANDLER_WIDTH, FOREGROUND_STYLE, HANDLER_STYLE, SLIDER_CHANGE, TEXT_STYLE, } from './constant';\nimport Handler from './handler';\n/**\n * 缩略轴组件\n * 设计稿：https://yuque.antfin-inc.com/antv/cfksca/432935?artboard_type=artboard&view=&from=#comment-518267\n */\nvar Slider = /** @class */ (function (_super) {\n    __extends(Slider, _super);\n    function Slider(cfg) {\n        var _this = _super.call(this) || this;\n        _this.prevX = 0;\n        _this.prevY = 0;\n        _this.onMouseDown = function (handler) { return function (e) {\n            // 1. 记录点击的滑块\n            _this.currentHandler = handler;\n            // 2. 存储当前点击位置\n            var event = e.event;\n            event.stopPropagation();\n            event.preventDefault();\n            // 兼容移动端获取数据\n            _this.prevX = _.get(event, 'touches.0.pageX', event.pageX);\n            _this.prevY = _.get(event, 'touches.0.pageY', event.pageY);\n            // 3. 开始滑动的时候，绑定 move 和 up 事件\n            var containerDOM = _this.get('canvas').get('containerDOM');\n            containerDOM.addEventListener('mousemove', _this.onMouseMove);\n            containerDOM.addEventListener('mouseup', _this.onMouseUp);\n            containerDOM.addEventListener('mouseleave', _this.onMouseUp);\n            // 移动端事件\n            containerDOM.addEventListener('touchmove', _this.onMouseMove);\n            containerDOM.addEventListener('touchend', _this.onMouseUp);\n            containerDOM.addEventListener('touchcancel', _this.onMouseUp);\n        }; };\n        _this.onMouseMove = function (e) {\n            // 滑动过程中，计算偏移，更新滑块，然后 emit 数据出去\n            e.stopPropagation();\n            e.preventDefault();\n            var x = _.get(e, 'touches.0.pageX', e.pageX);\n            var y = _.get(e, 'touches.0.pageY', e.pageY);\n            // 横向的 slider 只处理 x\n            var offsetX = x - _this.prevX;\n            var offsetXRange = _this.adjustOffsetRange(offsetX / _this.width);\n            // 更新 start end range 范围\n            _this.updateStartEnd(offsetXRange);\n            // 更新 ui\n            _this._updateUI();\n            _this.prevX = x;\n            _this.prevY = y;\n            _this.get('canvas').draw();\n            // 因为存储的 start、end 可能不一定是按大小存储的，所以排序一下，对外是 end >= start\n            _this.emit(SLIDER_CHANGE, [_this.start, _this.end].sort());\n        };\n        _this.onMouseUp = function () {\n            // 结束之后，取消绑定的事件\n            if (_this.currentHandler) {\n                _this.currentHandler = undefined;\n            }\n            var containerDOM = _this.get('canvas').get('containerDOM');\n            if (containerDOM) {\n                containerDOM.removeEventListener('mousemove', _this.onMouseMove);\n                containerDOM.removeEventListener('mouseup', _this.onMouseUp);\n                // 防止滑动到 canvas 外部之后，状态丢失\n                containerDOM.removeEventListener('mouseleave', _this.onMouseUp);\n                // 移动端事件\n                containerDOM.removeEventListener('touchmove', _this.onMouseMove);\n                containerDOM.removeEventListener('touchend', _this.onMouseUp);\n                containerDOM.removeEventListener('touchcancel', _this.onMouseUp);\n            }\n        };\n        var _a = cfg.x, x = _a === void 0 ? 0 : _a, _b = cfg.y, y = _b === void 0 ? 0 : _b, _c = cfg.width, width = _c === void 0 ? 100 : _c, _d = cfg.height, height = _d === void 0 ? 16 : _d, trendCfg = cfg.trendCfg, _e = cfg.backgroundStyle, backgroundStyle = _e === void 0 ? {} : _e, _f = cfg.foregroundStyle, foregroundStyle = _f === void 0 ? {} : _f, _g = cfg.handlerStyle, handlerStyle = _g === void 0 ? {} : _g, _h = cfg.textStyle, textStyle = _h === void 0 ? {} : _h, \n        // 缩略轴的初始位置\n        _j = cfg.start, \n        // 缩略轴的初始位置\n        start = _j === void 0 ? 0 : _j, _k = cfg.end, end = _k === void 0 ? 1 : _k, _l = cfg.minText, minText = _l === void 0 ? '' : _l, _m = cfg.maxText, maxText = _m === void 0 ? '' : _m;\n        // position size\n        _this.x = x;\n        _this.y = y;\n        _this.width = width;\n        _this.height = height;\n        _this.trendCfg = trendCfg;\n        // style\n        _this.backgroundStyle = __assign(__assign({}, BACKGROUND_STYLE), backgroundStyle);\n        _this.foregroundStyle = __assign(__assign({}, FOREGROUND_STYLE), foregroundStyle);\n        _this.handlerStyle = __assign(__assign({}, HANDLER_STYLE), handlerStyle);\n        _this.textStyle = __assign(__assign({}, TEXT_STYLE), textStyle);\n        // 初始信息\n        _this.start = start;\n        _this.end = end;\n        _this.minText = minText;\n        _this.maxText = maxText;\n        _this._initial();\n        return _this;\n    }\n    /**\n     * 更新配置\n     * @param cfg\n     */\n    Slider.prototype.update = function (cfg) {\n        var x = cfg.x, y = cfg.y, width = cfg.width, height = cfg.height, minText = cfg.minText, maxText = cfg.maxText, start = cfg.start, end = cfg.end;\n        // start、end 只能是 0~1 范围\n        this.start = Math.min(1, Math.max(start, 0));\n        this.end = Math.min(1, Math.max(end, 0));\n        // 如果传了则更新，没有传则不更新\n        // @ts-ignore\n        _.assign(this, {\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            minText: minText,\n            maxText: maxText,\n        });\n        // 更新 ui，不自动绘制\n        this._updateUI();\n    };\n    /**\n     * 初始化组件结构\n     * @private\n     */\n    Slider.prototype._initial = function () {\n        var width = this.width;\n        var height = this.height;\n        // 趋势图数据\n        if (_.size(_.get(this.trendCfg, 'data'))) {\n            this.trendShape = new Trend(__assign({ x: 0, y: 0, width: width,\n                height: height }, this.trendCfg));\n            this.add(this.trendShape);\n        }\n        // 1. 背景\n        this.backgroundShape = this.addShape('rect', {\n            attrs: __assign({ x: 0, y: 0, width: width,\n                height: height }, this.backgroundStyle),\n        });\n        // 2. 左右文字\n        this.minTextShape = this.addShape('text', {\n            attrs: __assign({ \n                // x: 0,\n                y: height / 2, textAlign: 'right', text: this.minText, silent: false }, this.textStyle),\n        });\n        this.maxTextShape = this.addShape('text', {\n            attrs: __assign({ \n                // x: 0,\n                y: height / 2, textAlign: 'left', text: this.maxText, silent: false }, this.textStyle),\n        });\n        // 3. 前景 选中背景框\n        this.foregroundShape = this.addShape('rect', {\n            attrs: __assign({ \n                // x: 0,\n                y: 0, \n                // width: 0,\n                height: height }, this.foregroundStyle),\n        });\n        // 滑块相关的大小信息\n        var handlerWidth = _.get(this.handlerStyle, 'width', 10);\n        var handlerHeight = _.get(this.handlerStyle, 'height', 24);\n        // 4. 左右滑块\n        this.minHandlerShape = new Handler(__assign({ x: 0, y: (height - handlerHeight) / 2, width: width, height: handlerHeight, cursor: 'ew-resize' }, this.handlerStyle));\n        this.add(this.minHandlerShape);\n        this.maxHandlerShape = new Handler(__assign({ x: 0, y: (height - handlerHeight) / 2, width: width, height: handlerHeight, cursor: 'ew-resize' }, this.handlerStyle));\n        this.add(this.maxHandlerShape);\n        // 根据 start end 更新 ui 的位置信息\n        this._updateUI();\n        // 移动到对应的位置\n        this.move(this.x, this.y);\n        // 绑定事件鼠标事件\n        this._bindEvents();\n    };\n    /**\n     * 绑定事件：\n     *  - 点击\n     *  - 滑动\n     *  - 拖拽\n     *  - 滚动\n     * @private\n     */\n    Slider.prototype._bindEvents = function () {\n        // 1. 左滑块的滑动\n        this.minHandlerShape.on('mousedown', this.onMouseDown(this.minHandlerShape));\n        this.minHandlerShape.on('touchstart', this.onMouseDown(this.minHandlerShape));\n        // 2. 右滑块的滑动\n        this.maxHandlerShape.on('mousedown', this.onMouseDown(this.maxHandlerShape));\n        this.maxHandlerShape.on('touchstart', this.onMouseDown(this.maxHandlerShape));\n        // 3. 前景选中区域\n        this.foregroundShape.on('mousedown', this.onMouseDown(this.foregroundShape));\n        this.foregroundShape.on('touchstart', this.onMouseDown(this.foregroundShape));\n    };\n    /**\n     * 调整 offsetRange，因为一些范围的限制\n     * @param offsetRange\n     */\n    Slider.prototype.adjustOffsetRange = function (offsetRange) {\n        // 针对不同的滑动组件，处理的方式不同\n        switch (this.currentHandler) {\n            case this.minHandlerShape: {\n                var min = 0 - this.start;\n                var max = 1 - this.start;\n                return Math.min(max, Math.max(min, offsetRange));\n            }\n            case this.maxHandlerShape: {\n                var min = 0 - this.end;\n                var max = 1 - this.end;\n                return Math.min(max, Math.max(min, offsetRange));\n            }\n            case this.foregroundShape: {\n                var min = 0 - this.start;\n                var max = 1 - this.end;\n                return Math.min(max, Math.max(min, offsetRange));\n            }\n            default:\n                return 0;\n        }\n    };\n    Slider.prototype.updateStartEnd = function (offsetRange) {\n        // 操作不同的组件，反馈不一样\n        switch (this.currentHandler) {\n            case this.minHandlerShape:\n                this.start += offsetRange;\n                break;\n            case this.maxHandlerShape:\n                this.end += offsetRange;\n                break;\n            case this.foregroundShape:\n                this.start += offsetRange;\n                this.end += offsetRange;\n                break;\n        }\n    };\n    /**\n     * 根据移动的比例来更新 ui\n     * @private\n     */\n    Slider.prototype._updateUI = function () {\n        var _this = this;\n        var min = this.start * this.width;\n        var max = this.end * this.width;\n        // 1. foreground\n        this.foregroundShape.attr('x', min);\n        this.foregroundShape.attr('width', max - min);\n        // 滑块相关的大小信息\n        var handlerWidth = _.get(this.handlerStyle, 'width', DEFAULT_HANDLER_WIDTH);\n        // 设置文本\n        this.minTextShape.attr('text', this.minText);\n        this.maxTextShape.attr('text', this.maxText);\n        var _a = this._dodgeText([min, max]), minAttrs = _a[0], maxAttrs = _a[1];\n        // 2. 左侧滑块和文字位置\n        this.minHandlerShape.setX(min - handlerWidth / 2);\n        // this.minText.attr('x', min);\n        _.each(minAttrs, function (v, k) { return _this.minTextShape.attr(k, v); });\n        // 3. 右侧滑块和文字位置\n        this.maxHandlerShape.setX(max - handlerWidth / 2);\n        // this.maxText.attr('x', max);\n        _.each(maxAttrs, function (v, k) { return _this.maxTextShape.attr(k, v); });\n    };\n    /**\n     * 调整 text 的位置，自动躲避\n     * 根据位置，调整返回新的位置\n     * @param range\n     */\n    Slider.prototype._dodgeText = function (range) {\n        var _a, _b;\n        var PADDING = 2;\n        var handlerWidth = _.get(this.handlerStyle, 'width', DEFAULT_HANDLER_WIDTH);\n        var minTextShape = this.minTextShape;\n        var maxTextShape = this.maxTextShape;\n        var min = range[0], max = range[1];\n        var sorted = false;\n        // 如果交换了位置，则对应的 min max 也交互\n        if (min > max) {\n            _a = [max, min], min = _a[0], max = _a[1];\n            _b = [maxTextShape, minTextShape], minTextShape = _b[0], maxTextShape = _b[1];\n            sorted = true;\n        }\n        // 避让规则，优先显示在两侧，只有显示不下的时候，才显示在中间\n        var minBBox = minTextShape.getBBox();\n        var maxBBox = maxTextShape.getBBox();\n        var minAttrs = minBBox.width > min - PADDING\n            ? { x: min + handlerWidth / 2 + PADDING, textAlign: 'left' }\n            : { x: min - handlerWidth / 2 - PADDING, textAlign: 'right' };\n        var maxAttrs = maxBBox.width > this.width - max - PADDING\n            ? { x: max - handlerWidth / 2 - PADDING, textAlign: 'right' }\n            : { x: max + handlerWidth / 2 + PADDING, textAlign: 'left' };\n        return !sorted ? [minAttrs, maxAttrs] : [maxAttrs, minAttrs];\n    };\n    return Slider;\n}(Group));\nexport default Slider;\n//# sourceMappingURL=index.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forEach = exports.sqrLen = exports.len = exports.sqrDist = exports.dist = exports.div = exports.mul = exports.sub = undefined;\nexports.create = create;\nexports.clone = clone;\nexports.length = length;\nexports.fromValues = fromValues;\nexports.copy = copy;\nexports.set = set;\nexports.add = add;\nexports.subtract = subtract;\nexports.multiply = multiply;\nexports.divide = divide;\nexports.ceil = ceil;\nexports.floor = floor;\nexports.min = min;\nexports.max = max;\nexports.round = round;\nexports.scale = scale;\nexports.scaleAndAdd = scaleAndAdd;\nexports.distance = distance;\nexports.squaredDistance = squaredDistance;\nexports.squaredLength = squaredLength;\nexports.negate = negate;\nexports.inverse = inverse;\nexports.normalize = normalize;\nexports.dot = dot;\nexports.cross = cross;\nexports.lerp = lerp;\nexports.hermite = hermite;\nexports.bezier = bezier;\nexports.random = random;\nexports.transformMat4 = transformMat4;\nexports.transformMat3 = transformMat3;\nexports.transformQuat = transformQuat;\nexports.rotateX = rotateX;\nexports.rotateY = rotateY;\nexports.rotateZ = rotateZ;\nexports.angle = angle;\nexports.str = str;\nexports.exactEquals = exactEquals;\nexports.equals = equals;\n\nvar _common = require('./common.js');\n\nvar glMatrix = _interopRequireWildcard(_common);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\nfunction create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n  return out;\n}\n\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {vec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\nfunction clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Calculates the length of a vec3\n *\n * @param {vec3} a vector to calculate length of\n * @returns {Number} length of a\n */\nfunction length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\nfunction fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the source vector\n * @returns {vec3} out\n */\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\nfunction set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to ceil\n * @returns {vec3} out\n */\nfunction ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to floor\n * @returns {vec3} out\n */\nfunction floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to round\n * @returns {vec3} out\n */\nfunction round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\nfunction scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\nfunction scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} distance between a and b\n */\nfunction distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.sqrt(x * x + y * y + z * z);\n}\n\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\nfunction squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n\n/**\n * Calculates the squared length of a vec3\n *\n * @param {vec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\nfunction squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to negate\n * @returns {vec3} out\n */\nfunction negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to invert\n * @returns {vec3} out\n */\nfunction inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a vector to normalize\n * @returns {vec3} out\n */\nfunction normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n  return out;\n}\n\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {Number} dot product of a and b\n */\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @returns {vec3} out\n */\nfunction cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the first operand\n * @param {vec3} b the second operand\n * @param {vec3} c the third operand\n * @param {vec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\nfunction bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n\n  return out;\n}\n\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\nfunction random(out, scale) {\n  scale = scale || 1.0;\n\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat4} m matrix to transform with\n * @returns {vec3} out\n */\nfunction transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {mat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\nfunction transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {vec3} a the vector to transform\n * @param {quat} q quaternion to transform with\n * @returns {vec3} out\n */\nfunction transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x;\n  // var uuv = vec3.cross([], qvec, uv);\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx;\n  // vec3.scale(uv, uv, 2 * w);\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2;\n  // vec3.scale(uuv, uuv, 2);\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2;\n  // return vec3.add(out, a, vec3.add(out, uv, uuv));\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateX(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateY(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c);\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {vec3} a The vec3 point to rotate\n * @param {vec3} b The origin of the rotation\n * @param {Number} c The angle of rotation\n * @returns {vec3} out\n */\nfunction rotateZ(out, a, b, c) {\n  var p = [],\n      r = [];\n  //Translate point to the origin\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2];\n\n  //perform rotation\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2];\n\n  //translate to correct position\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n\n  return out;\n}\n\n/**\n * Get the angle between two 3D vectors\n * @param {vec3} a The first operand\n * @param {vec3} b The second operand\n * @returns {Number} The angle in radians\n */\nfunction angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n\n/**\n * Returns a string representation of a vector\n *\n * @param {vec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\nfunction str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {vec3} a The first vector.\n * @param {vec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\nfunction equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\nvar sub = exports.sub = subtract;\n\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\nvar mul = exports.mul = multiply;\n\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\nvar div = exports.div = divide;\n\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\nvar dist = exports.dist = distance;\n\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\nvar sqrDist = exports.sqrDist = squaredDistance;\n\n/**\n * Alias for {@link vec3.length}\n * @function\n */\nvar len = exports.len = length;\n\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\nvar sqrLen = exports.sqrLen = squaredLength;\n\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\nvar forEach = exports.forEach = function () {\n  var vec = create();\n\n  return function (a, stride, offset, count, fn, arg) {\n    var i = void 0,\n        l = void 0;\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];vec[1] = a[i + 1];vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];a[i + 1] = vec[1];a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar _ = require(\"@antv/util\");\nvar base_1 = require(\"./base\");\nvar extended_1 = require(\"./util/extended\");\nvar Category = /** @class */ (function (_super) {\n    tslib_1.__extends(Category, _super);\n    function Category() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Category.prototype.translate = function (value) {\n        var index = _.indexOf(this.values, value);\n        if (index === -1) {\n            return _.isNumber(value) ? value : NaN;\n        }\n        return index;\n    };\n    Category.prototype.scale = function (value) {\n        var order = this.translate(value);\n        var percent = this._calcPercent(order, this.min, this.max);\n        return this._calcValue(percent, _.head(this.range), _.last(this.range));\n    };\n    Category.prototype.invert = function (scaledValue) {\n        if (!_.isNumber(scaledValue)) {\n            return scaledValue;\n        }\n        var size = _.size(this.values) - 1;\n        var percent = this._calcPercent(scaledValue, _.head(this.range), _.last(this.range));\n        var idx = Math.round(size * percent);\n        return this.values[idx];\n    };\n    Category.prototype.getText = function (value) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var v = value;\n        // value为index\n        if (_.isNumber(value) && !_.includes(this.values, value)) {\n            v = this.values[v];\n        }\n        return _super.prototype.getText.apply(this, tslib_1.__spreadArrays([v], args));\n    };\n    /**\n     * ggplot将全数值的定义域视作线性\n     * 再三考虑后，分类型scale还是不再支持这种兼容\n     */\n    // private isAllNumber: boolean;\n    Category.prototype._initDefaultCfg = function () {\n        this.type = 'cat';\n        this.values = [];\n        this.isCategory = true;\n    };\n    Category.prototype._init = function () {\n        var size = _.size(this.values);\n        this.min = 0;\n        this.max = size > 1 ? size - 1 : size;\n        if (_.isEmpty(this.ticks)) {\n            this.ticks = this._setTicks();\n        }\n    };\n    Category.prototype._setTicks = function () {\n        var _this = this;\n        var ticks = this.values;\n        if (_.isNumber(this.tickInterval)) {\n            return _.filter(ticks, function (__, i) { return i % (_this.tickInterval + 1) === 0; });\n        }\n        if (_.isNumber(this.tickCount)) {\n            // 简单过滤，部分情况下小数的倍数也可以是整数\n            var Q_1 = extended_1.ALL_Q.filter(function (n) { return Number.isInteger(n); });\n            // tslint:disable-next-line: no-shadowed-variable\n            var ticks_1 = extended_1.default(this.min, this.max, this.tickCount, false, Q_1).ticks;\n            var valid = _.filter(ticks_1, function (tick) { return tick >= _this.min && tick <= _this.max; });\n            return valid.map(function (index) { return _this.values[index]; });\n        }\n        return this.values;\n    };\n    return Category;\n}(base_1.default));\nexports.default = Category;\n//# sourceMappingURL=category.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar _ = require(\"@antv/util\");\nvar base_1 = require(\"./base\");\nvar extended_1 = require(\"./util/extended\");\nvar Linear = /** @class */ (function (_super) {\n    tslib_1.__extends(Linear, _super);\n    function Linear() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Linear.prototype.scale = function (_value) {\n        if (_.isNil(_value)) {\n            return NaN;\n        }\n        var max = this._transform(this.max);\n        var min = this._transform(this.min);\n        if (min === max) {\n            // https://github.com/d3/d3-scale/blob/master/src/continuous.js normalize\n            return 0.5;\n        }\n        // min <= value <= max\n        var value = Math.min(Math.max(this._transform(_value), min), max);\n        var percent = this._calcPercent(value, min, max);\n        var range0 = _.head(this.range);\n        var range1 = _.last(this.range);\n        return this._calcValue(percent, range0, range1);\n    };\n    Linear.prototype.invert = function (scaled) {\n        var range0 = _.head(this.range);\n        var range1 = _.last(this.range);\n        var max = this._transform(this.max);\n        var min = this._transform(this.min);\n        var percent = this._calcPercent(scaled, range0, range1);\n        return this._calcValue(percent, min, max);\n    };\n    Linear.prototype._initDefaultCfg = function () {\n        this.values = [];\n        this.type = 'linear';\n        this.isLinear = true;\n        this.nice = true;\n        this.tickCount = 5;\n        this.maxTickCount = 10;\n    };\n    Linear.prototype._init = function () {\n        this._setDomain();\n        if (_.isEmpty(this.ticks)) {\n            this.ticks = this._setTicks();\n        }\n    };\n    Linear.prototype._setDomain = function () {\n        var _a = _.getRange(this.values), min = _a.min, max = _a.max;\n        if (_.isNil(this.min)) {\n            this.min = min;\n        }\n        if (_.isNil(this.max)) {\n            this.max = max;\n        }\n        if (this.min > this.max) {\n            console.error('min should less than max');\n            this.min = min;\n            this.max = max;\n        }\n    };\n    Linear.prototype._transform = function (v) {\n        return v;\n    };\n    Linear.prototype._setTicks = function () {\n        var _a, _b;\n        var _this = this;\n        var _c = this._getAlgoParams(), onlyLoose = _c.onlyLoose, Q = _c.Q, w = _c.w, m = _c.m;\n        var adjustTicks = [];\n        var tickCnt = m;\n        var minLimit = this.minLimit;\n        var maxLimit = this.maxLimit;\n        var tickMin;\n        var tickMax;\n        // minLimit/maxLimit相同情况处理\n        if (!_.isNil(minLimit) && !_.isNil(maxLimit) && minLimit === maxLimit) {\n            console.error('minLimit should less than maxLimit');\n            minLimit = minLimit / 2;\n            if (minLimit === 0) {\n                maxLimit = 1;\n            }\n        }\n        tickMin = _.isNil(minLimit) ? this.min : this.minLimit;\n        tickMax = _.isNil(maxLimit) ? this.max : this.maxLimit;\n        // 最终的min/max校验和处理\n        if (tickMin > tickMax) {\n            console.error('minLimit should less than maxLimit');\n            _a = [tickMax, tickMin], tickMin = _a[0], tickMax = _a[1];\n            _b = [maxLimit, minLimit], minLimit = _b[0], maxLimit = _b[1];\n        }\n        do {\n            var _d = extended_1.default(tickMin, tickMax, tickCnt, onlyLoose, Q, w), min = _d.min, max = _d.max, ticks = _d.ticks;\n            adjustTicks = [];\n            if (this.nice) {\n                this.min = min;\n                this.max = max;\n            }\n            // 修正min/max\n            if (!_.isNil(minLimit)) {\n                this.min = minLimit;\n            }\n            if (!_.isNil(maxLimit)) {\n                this.max = maxLimit;\n            }\n            adjustTicks.push(this.min);\n            _.each(ticks, function (tick) {\n                if (tick > _this.min && tick < _this.max) {\n                    adjustTicks.push(tick);\n                }\n            });\n            if (adjustTicks[adjustTicks.length - 1] < this.max) {\n                adjustTicks.push(this.max);\n            }\n            // 如果没有设置 minLimit/maxLimit，就不循环\n            if (_.isNil(minLimit) && _.isNil(maxLimit)) {\n                break;\n            }\n            // 效果是否已经很好了\n            if (ticks.indexOf(this.min) >= 0 && ticks.indexOf(this.max) >= 0) {\n                break;\n            }\n            tickCnt += 1;\n        } while (tickCnt < this.maxTickCount);\n        return adjustTicks;\n    };\n    Linear.prototype._getAlgoParams = function () {\n        var _a = this.algoParam || {}, onlyLoose = _a.onlyLoose, _Q = _a.Q, w = _a.w;\n        var Q = _Q;\n        var m = this.tickCount;\n        if (this.minTickInterval) {\n            var interval = Math.abs(this.minTickInterval);\n            var e = Math.floor(Math.log10(interval));\n            // interval转为 (0, 10) 之间的值\n            var i_1 = interval / Math.pow(10, e);\n            Q = extended_1.ALL_Q.filter(function (n) { return n >= i_1; });\n            if (!_.includes(Q, i_1)) {\n                Q.push(i_1);\n            }\n            // tickCount也需要相应调整\n            m = Math.ceil((this.max - this.min) / this.minTickInterval) + 1;\n            // nice numbers数组长度不能<2\n            if (Q.length === 1) {\n                Q.push(1);\n            }\n        }\n        return {\n            m: m,\n            w: w,\n            Q: Q,\n            onlyLoose: onlyLoose,\n        };\n    };\n    return Linear;\n}(base_1.default));\nexports.default = Linear;\n//# sourceMappingURL=linear.js.map","// 通用配置\nexport * from './interface/config';\nexport { default as Layer, LayerConfig } from './base/layer';\nexport { default as ViewLayer, ViewConfig } from './base/view-layer';\nexport { default as Base, PlotConfig } from './base/plot';\n\n// 图形\nexport * from './plots/index';\n\n// MINI 图形\nexport { TinyLayerConfig } from './sparkline/tiny-layer';\nexport { default as Progress, ProgressConfig } from './sparkline/progress';\nexport { default as RingProgress, RingProgressConfig } from './sparkline/ring-progress';\nexport { default as TinyColumn, TinyColumnConfig } from './sparkline/tiny-column';\nexport { default as TinyArea, TinyAreaConfig } from './sparkline/tiny-area';\nexport { default as TinyLine, TinyLineConfig } from './sparkline/tiny-line';\n\n// 混合图形\nexport { default as OverlappedComboPlot, OverlappedComboPlotConfig } from './combo-plots/overlapped';\n\n// 主题\nexport { registerTheme, registerGlobalTheme } from './theme';\nexport { registerResponsiveConstraint, IConstraint } from './util/responsive/constraints';\nexport { registerResponsiveRule } from './util/responsive/rules';\nexport { registerResponsiveTheme, getResponsiveTheme } from './util/responsive/theme';\n\nexport { default as StateManager } from './util/state-manager';\n","\"use strict\";\nexports.__esModule = true;\nfunction addEventListener(target, eventType, callback) {\n    if (target) {\n        if (typeof target.addEventListener === 'function') {\n            target.addEventListener(eventType, callback, false);\n            return {\n                remove: function () {\n                    target.removeEventListener(eventType, callback, false);\n                }\n            };\n            // @ts-ignore\n        }\n        if (typeof target.attachEvent === 'function') {\n            // @ts-ignore\n            target.attachEvent('on' + eventType, callback);\n            return {\n                remove: function () {\n                    // @ts-ignore\n                    target.detachEvent('on' + eventType, callback);\n                }\n            };\n        }\n    }\n}\nexports[\"default\"] = addEventListener;\n//# sourceMappingURL=add-event-listener.js.map","\"use strict\";\n/**\n * 创建DOM 节点\n * @param  {String} str Dom 字符串\n * @return {HTMLElement}  DOM 节点\n */\nexports.__esModule = true;\nvar TABLE;\nvar TABLE_TR;\nvar FRAGMENT_REG;\nvar CONTAINERS;\nfunction initConstants() {\n    TABLE = document.createElement('table');\n    TABLE_TR = document.createElement('tr');\n    FRAGMENT_REG = /^\\s*<(\\w+|!)[^>]*>/;\n    CONTAINERS = {\n        tr: document.createElement('tbody'),\n        tbody: TABLE,\n        thead: TABLE,\n        tfoot: TABLE,\n        td: TABLE_TR,\n        th: TABLE_TR,\n        '*': document.createElement('div')\n    };\n}\nfunction createDom(str) {\n    if (!TABLE) {\n        initConstants();\n    }\n    var name = FRAGMENT_REG.test(str) && RegExp.$1;\n    if (!name || !(name in CONTAINERS)) {\n        name = '*';\n    }\n    var container = CONTAINERS[name];\n    str = str.replace(/(^\\s*)|(\\s*$)/g, '');\n    container.innerHTML = '' + str;\n    var dom = container.childNodes[0];\n    container.removeChild(dom);\n    return dom;\n}\nexports[\"default\"] = createDom;\n//# sourceMappingURL=create-dom.js.map","\"use strict\";\nexports.__esModule = true;\nvar get_style_1 = require(\"./get-style\");\nvar get_height_1 = require(\"./get-height\");\nfunction getOuterHeight(el, defaultValue) {\n    var height = get_height_1[\"default\"](el, defaultValue);\n    var bTop = parseFloat(get_style_1[\"default\"](el, 'borderTopWidth')) || 0;\n    var pTop = parseFloat(get_style_1[\"default\"](el, 'paddingTop')) || 0;\n    var pBottom = parseFloat(get_style_1[\"default\"](el, 'paddingBottom')) || 0;\n    var bBottom = parseFloat(get_style_1[\"default\"](el, 'borderBottomWidth')) || 0;\n    var mTop = parseFloat(get_style_1[\"default\"](el, 'marginTop')) || 0;\n    var mBottom = parseFloat(get_style_1[\"default\"](el, 'marginBottom')) || 0;\n    return height + bTop + bBottom + pTop + pBottom + mTop + mBottom;\n}\nexports[\"default\"] = getOuterHeight;\n//# sourceMappingURL=get-outer-height.js.map","\"use strict\";\nexports.__esModule = true;\nvar get_style_1 = require(\"./get-style\");\nvar get_width_1 = require(\"./get-width\");\nfunction getOuterWidth(el, defaultValue) {\n    var width = get_width_1[\"default\"](el, defaultValue);\n    var bLeft = parseFloat(get_style_1[\"default\"](el, 'borderLeftWidth')) || 0;\n    var pLeft = parseFloat(get_style_1[\"default\"](el, 'paddingLeft')) || 0;\n    var pRight = parseFloat(get_style_1[\"default\"](el, 'paddingRight')) || 0;\n    var bRight = parseFloat(get_style_1[\"default\"](el, 'borderRightWidth')) || 0;\n    var mRight = parseFloat(get_style_1[\"default\"](el, 'marginRight')) || 0;\n    var mLeft = parseFloat(get_style_1[\"default\"](el, 'marginLeft')) || 0;\n    return width + bLeft + bRight + pLeft + pRight + mLeft + mRight;\n}\nexports[\"default\"] = getOuterWidth;\n//# sourceMappingURL=get-outer-width.js.map","\"use strict\";\nexports.__esModule = true;\nfunction getRatio() {\n    return window.devicePixelRatio ? window.devicePixelRatio : 2;\n}\nexports[\"default\"] = getRatio;\n//# sourceMappingURL=get-ratio.js.map","\"use strict\";\nexports.__esModule = true;\nfunction modifyCSS(dom, css) {\n    if (dom) {\n        for (var key in css) {\n            if (css.hasOwnProperty(key)) {\n                dom.style[key] = css[key];\n            }\n        }\n    }\n    return dom;\n}\nexports[\"default\"] = modifyCSS;\n//# sourceMappingURL=modify-css.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar size_1 = require(\"./size\");\nexports.Size = size_1.default;\nvar color_1 = require(\"./color\");\nexports.Color = color_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar canvas_1 = require(\"./canvas\");\nexports.CanvasCategory = canvas_1.default;\nvar html_1 = require(\"./html\");\nexports.HtmlCategory = html_1.default;\n//# sourceMappingURL=index.js.map","import { BBox, Canvas, Group, Text } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { breakText } from '../util/common';\nimport ViewLayer from '../base/view-layer';\n\ninterface TextConfig {\n  leftMargin: number;\n  topMargin: number;\n  text: string;\n  style: any;\n  wrapperWidth: number;\n  container: Canvas | Group;\n  theme: any;\n  index: number;\n  plot: ViewLayer;\n  name: string;\n}\n\n/**\n * 图表的文字描述，一般用于生成图表的标题和副标题\n */\n\nexport default class TextDescription {\n  public shape: Text;\n  public position: string = 'top';\n  public name: string;\n  public destroyed: boolean = false;\n  private container: Canvas | Group;\n  private topMargin: number;\n  private leftMargin: number;\n  private wrapperWidth: number;\n  private text: string;\n  private style: any;\n  private index: number;\n  private plot: ViewLayer;\n\n  constructor(cfg: TextConfig) {\n    _.assign(this as any, cfg);\n    this._init();\n  }\n\n  public getBBox(): BBox | null {\n    if (this.shape) {\n      const bbox = this.shape.getBBox();\n      if (this.index === 0) {\n        return bbox;\n      }\n      const padding = this.plot.theme.description.padding;\n      if (_.isArray(padding)) {\n        _.each(padding, (it, index) => {\n          if (typeof padding[index] === 'function') {\n            padding[index] = padding[index](this.plot.options.legend.position);\n          }\n        });\n      }\n      return new BBox(bbox.maxX, bbox.minY, bbox.width, bbox.height + padding[2]);\n    }\n    return null;\n  }\n\n  public clear() {\n    if (this.shape) {\n      this.shape.attr('text', '');\n    }\n  }\n\n  public destroy() {\n    if (this.shape) {\n      this.shape.remove();\n    }\n    this.destroyed = true;\n  }\n\n  private _init() {\n    const content = this._textWrapper();\n    this.shape = this.container.addShape('text', {\n      attrs: _.mix(\n        {\n          x: this.leftMargin,\n          y: this.topMargin,\n          text: content,\n        },\n        this.style\n      ),\n    });\n    this.shape.name = this.name;\n  }\n\n  /**\n   * 当text过长时，默认换行\n   * 1. 注意初始text带换行符的场景\n   */\n  private _textWrapper() {\n    const width = this.wrapperWidth;\n    const style = this.style;\n    const textContent: string = this.text;\n    const tShape = new Text({\n      attrs: {\n        text: '',\n        x: 0,\n        y: 0,\n        ...style,\n      },\n    });\n    const textArr = textContent.split('\\n');\n    const wrappedTextArr = textArr.map((wrappedText) => {\n      let text = '';\n      const chars = wrappedText.split('');\n      const breakIndex: number[] = [];\n      for (let i = 0; i < chars.length; i++) {\n        const item = chars[i];\n        tShape.attr('text', (text += item));\n        const currentWidth = tShape.getBBox().width - 1;\n        if (currentWidth > width) {\n          // 如果是第一个字符就大于宽度不做任何换行处理\n          if (i === 0) {\n            break;\n          }\n          breakIndex.push(i);\n          text = '';\n        }\n      }\n\n      return breakText(chars, breakIndex);\n    });\n\n    tShape.remove();\n    return wrappedTextArr.join('\\n');\n  }\n}\n","import { DataPointType } from '@antv/g2/lib/interface';\nimport * as _ from '@antv/util';\nimport { ViewLayer } from '../..';\nimport { IBaseAxis } from '../../interface/config';\nimport { combineFormatter, getNoopFormatter, getPrecisionFormatter, getSuffixFormatter } from '../../util/formatter';\nimport { LooseMap } from '../../interface/types';\n\nfunction propertyMapping(source, target, field) {\n  if (source[field]) {\n    target[field] = source[field];\n  }\n}\n\ninterface AxisConfig {\n  plot: ViewLayer;\n  dim: string;\n}\n\nexport default class AxisParser {\n  public config: any = false;\n  protected originConfig: any;\n  private plot: any;\n  private dim: string;\n  private localProps: IBaseAxis;\n  private themeConfig: any;\n\n  constructor(cfg: AxisConfig) {\n    this.plot = cfg.plot;\n    this.dim = cfg.dim;\n    this.init();\n  }\n\n  private init() {\n    this.config = false;\n    const theme = this.plot.getPlotTheme();\n    this.themeConfig = theme && theme.axis && theme.axis[this.dim];\n    if (this._needDraw()) {\n      this._styleParser();\n    }\n  }\n\n  private _styleParser() {\n    this.config = { ...this.localProps };\n    this._isVisible('line') ? this._lineParser() : (this.config.line = null);\n    this._isVisible('grid') ? this._gridParser() : (this.config.grid = null);\n    this._isVisible('tickLine') ? this._tickLineParser() : (this.config.tickLine = null);\n    this._isVisible('label') ? this._labelParser() : (this.config.label = null);\n    this._isVisible('title') ? this._titleParser() : (this.config.title = null);\n\n    propertyMapping(this.localProps, this.config, 'autoHideLabel');\n    propertyMapping(this.localProps, this.config, 'autoRotateLabel');\n    propertyMapping(this.localProps, this.config, 'autoRotateTitle');\n  }\n\n  private _needDraw() {\n    /** 如果在图表配置项里没有设置坐标轴整体的visibility则去对应的theme取 */\n    const propos = this.plot.options;\n    const propsConfig = propos[`${this.dim}Axis`] ? propos[`${this.dim}Axis`] : {};\n    const config = _.deepMix({}, this.themeConfig, propsConfig);\n    this.localProps = config;\n    if (config.visible) {\n      return true;\n    }\n    return false;\n  }\n\n  private _lineParser() {\n    this.config.line = this.localProps.line;\n    if (this.localProps.line.style) {\n      this.config.line = this.localProps.line.style;\n    }\n    this.applyThemeConfig('line');\n  }\n\n  private _gridParser() {\n    const { grid: gridCfg } = this.localProps;\n    const { style } = gridCfg;\n\n    if (_.isFunction(style)) {\n      // @see g2/component/src/axis/base:_renderGrid\n      this.config.grid = (text: string, index: number, count: number) => {\n        const cfg = style(text, index, count);\n        return _.deepMix({}, _.get(this.themeConfig, `grid.style`), cfg);\n      };\n    } else if (style) {\n      this.config.grid = style;\n      this.applyThemeConfig('grid');\n    }\n  }\n\n  private _tickLineParser() {\n    this.config.tickLine = this.localProps.tickLine;\n    if (this.localProps.tickLine.style) {\n      this.config.tickLine = this.localProps.tickLine.style;\n    }\n    this.applyThemeConfig('tickLine');\n  }\n\n  private _labelParser() {\n    const { style, ...restLabelProps } = this.localProps.label;\n    const labelConfig: DataPointType = { ...restLabelProps };\n    if (style) {\n      labelConfig.textStyle = this.localProps.label.style;\n    }\n    labelConfig.textStyle = _.deepMix({}, _.get(this.themeConfig, 'label.style'), labelConfig.textStyle);\n    const formatter = this.parseFormatter(labelConfig);\n    labelConfig.formatter = formatter;\n    this.config.label = labelConfig;\n  }\n\n  private _titleParser() {\n    const titleConfig: DataPointType = { ...this.localProps.title };\n    const { visible, style, text } = this.localProps.title;\n    if (!visible) {\n      this.config.showTitle = false;\n    } else {\n      this.config.showTitle = true;\n      if (style) {\n        titleConfig.textStyle = style;\n      }\n      titleConfig.textStyle = _.deepMix({}, _.get(this.config, 'title.style'), titleConfig.textStyle);\n\n      if (text) {\n        titleConfig.text = text;\n      }\n    }\n    this.config.title = titleConfig;\n  }\n\n  private _isVisible(name: string) {\n    if (this.localProps[name] && this.localProps[name].visible) {\n      return true;\n    }\n    return false;\n  }\n\n  private applyThemeConfig(type: 'line' | 'grid' | 'tickLine') {\n    this.config[type] = _.deepMix({}, _.get(this.themeConfig, `${type}.style`), this.config[type]);\n  }\n\n  protected parseFormatter(labelConfig) {\n    let formatter = combineFormatter(\n      getNoopFormatter(),\n      getPrecisionFormatter(labelConfig.precision),\n      getSuffixFormatter(labelConfig.suffix)\n    );\n    if (labelConfig.formatter) {\n      formatter = combineFormatter(\n        formatter,\n        labelConfig.formatter as (text: string, item: any, idx: number) => string\n      );\n    }\n    return formatter;\n  }\n}\n","import { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport { getMean, getMedian } from '../util/math';\n\nexport default class GuideLine {\n  public config: any;\n  private plot: any;\n  private cfg: any;\n  private values: number[];\n\n  constructor(cfg) {\n    _.assign(this, cfg);\n    this._init();\n  }\n\n  private _init() {\n    const props = this.plot.options;\n    const defaultStyle = this.getDefaultStyle();\n    const baseConfig: any = {\n      type: 'line',\n      top: true,\n      start: this.cfg.start,\n      end: this.cfg.end,\n    };\n    baseConfig.line = _.deepMix({}, defaultStyle.line, { style: this.cfg.lineStyle });\n    baseConfig.text = _.deepMix({}, defaultStyle.text, this.cfg.text);\n    if (this.cfg.type) {\n      const stateValue = this._getState(this.cfg.type);\n      const minValue = this._getState('min');\n      const maxValue = this._getState('max');\n      const Scale = getScale('linear');\n      // 重新组织scale并使用scale的min和max来计算guide point的百分比位置，以避免受nice的影响\n      const scale = new Scale(\n        _.mix(\n          {},\n          {\n            min: this.plot.type === 'column' ? 0 : minValue,\n            max: maxValue,\n            nice: true,\n            values: this.values,\n          },\n          this.plot.config.scales[props.yField]\n        )\n      );\n      const percent = `${(1.0 - scale.scale(stateValue)) * 100}%`;\n      const start = ['0%', percent];\n      const end = ['100%', percent];\n      this.config = _.mix(\n        {\n          start,\n          end,\n        },\n        baseConfig\n      );\n    } else {\n      this.config = baseConfig;\n    }\n  }\n\n  private _getState(type) {\n    this.values = this._extractValues();\n    if (type === 'median') {\n      return getMedian(this.values);\n    }\n    if (type === 'mean') {\n      return getMean(this.values);\n    }\n    if (type === 'max') {\n      return Math.max(...this.values);\n    }\n    if (type === 'min') {\n      return Math.min(...this.values);\n    }\n  }\n\n  private _extractValues() {\n    const props = this.plot.options;\n    const field = props.yField;\n    const values = [];\n    _.each(props.data, (d) => {\n      values.push(d[field]);\n    });\n    return values;\n  }\n\n  private getDefaultStyle() {\n    this.getDefaultTextAlign();\n    return {\n      line: {\n        style: {\n          lineWidth: 2,\n          stroke: '#333333',\n          opacity: 0.7,\n          lineDash: [0, 0],\n        },\n      },\n      text: {\n        offsetY: -5,\n        style: {\n          fontSize: 14,\n          stroke: 'white',\n          lineWidth: 2,\n          textAlign: this.getDefaultTextAlign(),\n        },\n      },\n    };\n  }\n\n  private getDefaultTextAlign() {\n    const textConfig = this.cfg.text;\n    if (textConfig) {\n      if (!textConfig.position || textConfig.position === 'start') {\n        return 'left';\n      }\n      if (textConfig.position === 'center') {\n        return 'center';\n      }\n      if (textConfig.position === 'end') {\n        return 'right';\n      }\n    }\n  }\n}\n","import * as _ from '@antv/util';\n// import { compare } from '../../base/controller/state';\n\n// 对axis label和label样式进行缓存\nlet labels;\nlet originAttrs;\n\nfunction onActive(plot, condition) {\n  if (!labels) {\n    getAllAxisLabels(plot);\n  }\n  _.each(labels, (label, index) => {\n    const { labelData, con } = beforeCompare(label, condition);\n    if (compare(labelData, con)) {\n      const originAttr = originAttrs[index];\n      const disableStyle = labelActiveStyle(originAttr);\n      label.shape.attr(disableStyle);\n    }\n  });\n}\n\nfunction onDisable(plot, condition) {\n  if (!labels) {\n    getAllAxisLabels(plot);\n  }\n  _.each(labels, (label, index) => {\n    const { labelData, con } = beforeCompare(label, condition);\n    if (compare(labelData, con)) {\n      const originAttr = originAttrs[index];\n      const disableStyle = labelDisableStyle(originAttr);\n      label.shape.attr(disableStyle);\n    }\n  });\n}\n\nfunction getAllAxisLabels(plot) {\n  labels = [];\n  originAttrs = [];\n  const axes = plot.view.get('axisController').axes;\n  _.each(axes, (axis) => {\n    const labelArr = [];\n    const scale = getScale(plot, axis);\n    const labelShapes = axis\n      .get('labelRenderer')\n      .get('group')\n      .get('children');\n    _.each(labelShapes, (shape) => {\n      if (shape.type === 'text') {\n        labelArr.push({ shape });\n        originAttrs.push(shape.attr());\n      }\n    });\n    if (scale) {\n      // 取到scale values作为原始数据，避免被label format的影响\n      const { ticks, field } = scale;\n      _.each(labelArr, (label, index) => {\n        label.value = ticks[index];\n        label.scaleField = field;\n        label.type = scale.type;\n      });\n    }\n    labels.push(...labelArr);\n  });\n}\n\n// 获取坐标轴对应的scale\nfunction getScale(plot, axis) {\n  const props = plot.options;\n  let dim = 'y';\n  const position = axis.get('position');\n  if (position === 'bottom' || position === 'top') {\n    dim = 'x';\n  }\n  const scaleField = props[`${dim}Field`];\n  return plot.view.get('scales')[scaleField];\n}\n\nfunction beforeCompare(label, condition) {\n  const labelData = { [label.scaleField]: label.value };\n  const con = _.clone(condition);\n  if (label.type === 'time' && _.isObject(condition) && !_.isFunction(con.exp)) {\n    con.exp = new Date(con.exp).getTime();\n  }\n  return { labelData, con };\n}\n\nfunction labelDisableStyle(style) {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.2 };\n}\n\nfunction labelActiveStyle(style) {\n  return { opacity: 1, fontWeight: 600, fill: 'red' };\n}\n\nfunction compare(origin, condition) {\n  if (!_.isFunction(condition)) {\n    const { name, exp } = condition;\n    if (!origin[name]) {\n      return false;\n    }\n    if (_.isFunction(exp)) {\n      return exp(origin[name]);\n    }\n    return origin[name] === exp;\n  }\n  return condition(origin);\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable,\n};\n","import * as _ from '@antv/util';\nimport { compare } from '../../base/controller/state';\n\n// 对label和label样式进行缓存\nlet labels;\nlet originAttrs;\n\nfunction onActive(plot, condition) {\n  if (!labels) {\n    getAllLabels(plot);\n  }\n  _.each(labels, (label, index) => {\n    const origin = label.get('origin');\n    if (compare(origin, condition)) {\n      const originAttr = originAttrs[index];\n      const style = _.mix({}, originAttr, { opacity: 1 });\n      label.attr(style);\n    }\n  });\n}\n\nfunction onDisable(plot, condition) {\n  if (!labels) {\n    getAllLabels(plot);\n  }\n  _.each(labels, (label, index) => {\n    const origin = label.get('origin');\n    if (compare(origin, condition)) {\n      const originAttr = originAttrs[index];\n      const disableStyle = labelDisableStyle(originAttr);\n      label.attr(disableStyle);\n    }\n  });\n}\n\nfunction getAllLabels(plot) {\n  labels = [];\n  originAttrs = [];\n  const geoms = plot.view.get('elements');\n  _.each(geoms, (geom) => {\n    const geomLabels = geom.get('labels');\n    if (geomLabels) {\n      _.each(geomLabels, (label) => {\n        labels.push(label);\n        originAttrs.push(label.attr());\n      });\n    }\n  });\n}\n\nfunction labelDisableStyle(style) {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.2 };\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable,\n};\n","import * as _ from '@antv/util';\nimport { compare } from '../../base/controller/state';\n\nconst POSITION_MAPPER = ['xField', 'yField', 'angleField'];\n\nfunction onActive(plot, condition) {\n  const props = plot.options;\n  // 获取state condition对应在画布的位置，只有在state condition对应字段为位置映射字段时，tooltip才会对齐进行响应\n  if (shouldActive(props, condition)) {\n    const data = props.data;\n    _.each(data, (d) => {\n      if (compare(d, condition)) {\n        const point = plot.view.getXY(d);\n        // 调用showTooltip方法\n        plot.view.on('tooltip:create', (e) => {\n          processState(condition, e, false);\n        });\n        plot.view.showTooltip(point);\n      }\n    });\n  }\n}\n\nfunction onDisable(plot, condition) {\n  plot.view.on('tooltip:change', (e) => {\n    processState(condition, e, true);\n  });\n}\n\nfunction processState(condition, e, inverse) {\n  const expected = inverse ? false : true;\n  const originItems = _.clone(e.items);\n  e.items.splice(0);\n  _.each(originItems, (item) => {\n    const origin = item.point._origin;\n    if (compare(origin, condition) === expected) {\n      e.items.push(item);\n    }\n  });\n}\n\nfunction shouldActive(props, condition) {\n  const fields = getPositionField(props);\n  return !_.isFunction(condition) && fields.indexOf(condition.name);\n}\n\nfunction getPositionField(props) {\n  const fields = [];\n  _.each(POSITION_MAPPER, (v) => {\n    if (_.has(props, v)) {\n      fields.push(v);\n    }\n  });\n  return fields;\n}\n\nexport default {\n  active: onActive,\n  selected: onActive,\n  disable: onDisable,\n};\n","import BaseInteraction from './base';\nimport ScrollBarInteraction from './scrollbar';\nimport SliderInteraction from './slider';\n\nBaseInteraction.registerInteraction('slider', SliderInteraction);\nBaseInteraction.registerInteraction('scrollbar', ScrollBarInteraction);\n\nexport * from './base';\nexport default BaseInteraction;\n","import { BBox, Group } from '@antv/g';\nimport { ScrollBar } from '@antv/gui';\nimport { Scale } from '@antv/scale';\nimport { clamp, get, isEqual, map, throttle } from '@antv/util';\nimport ViewLayer from '../base/view-layer';\nimport { IScrollBarInteractionConfig } from '../interface/config';\nimport BaseInteraction from './base';\nimport { getDataByScaleRange } from './helper/data-range';\n\nconst DEFAULT_PADDING: number = 4;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 8;\nconst SCROLL_BAR_Z_INDEX: number = 999;\n\nconst getValidScrollBarConfig = (cfg: IScrollBarInteractionConfig = {}): Required<IScrollBarInteractionConfig> => {\n  const _cfg: Required<IScrollBarInteractionConfig> = {\n    type: 'horizontal',\n    categorySize: DEFAULT_CATEGORY_SIZE,\n    width: DEFAULT_SIZE,\n    height: DEFAULT_SIZE,\n    padding: [0, 0, 0, 0],\n    ...cfg,\n  };\n\n  // default padding\n  if (!cfg.padding) {\n    _cfg.padding =\n      _cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n  }\n\n  return _cfg;\n};\n\nexport default class ScrollBarInteraction extends BaseInteraction {\n  public static getInteractionRange(layerRange: BBox, interaction: IScrollBarInteractionConfig) {\n    const config: Required<IScrollBarInteractionConfig> = getValidScrollBarConfig(interaction);\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = config.padding;\n\n    if (config.type === 'horizontal') {\n      return new BBox(\n        layerRange.minX,\n        layerRange.maxY - config.height - paddingTop - paddingBottom,\n        layerRange.width,\n        config.height + paddingTop + paddingBottom\n      );\n    } else {\n      return new BBox(\n        layerRange.maxX - config.width - paddingLeft - paddingRight,\n        layerRange.minY,\n        config.width + paddingLeft + paddingRight,\n        layerRange.height\n      );\n    }\n  }\n\n  private container: Group;\n  private scrollBar: ScrollBar;\n  private cnt: number;\n  private step: number;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Array<{\n    field: string;\n    type: string;\n    min: number;\n    max: number;\n    ticks: number[];\n    formatter: any;\n  }>;\n  private ratio: number;\n  private thumbOffset: number;\n  private trackLen: number;\n  private thumbLen: number;\n  private onChangeFn = throttle(this.onChange.bind(this), 20, {\n    leading: true,\n  });\n\n  protected render(): void {\n    const view = this.view;\n    this.ratio = 0;\n    this.thumbOffset = 0;\n    view.on('afterrender', () => {\n      const padding = this.view.get('padding');\n      // if we're not in `auto padding` process\n      if (!isEqual([0, 0, 0, 0], padding)) {\n        if (!this.trackLen) {\n          this.measureScrollBar();\n          this.changeViewData(this.getScrollRange());\n        } else {\n          this.renderScrollbar();\n        }\n      }\n    });\n  }\n\n  protected clear(): void {\n    if (this.scrollBar) {\n      this.scrollBar.destroy();\n      this.scrollBar = null;\n    }\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n    this.trackLen = null;\n    this.thumbLen = null;\n  }\n\n  private renderScrollbar(): void {\n    const config: Required<IScrollBarInteractionConfig> = getValidScrollBarConfig(this.getInteractionConfig());\n    const range: BBox = this.getRange();\n    const isHorizontal = config.type !== 'vertical';\n    const panelRange: BBox = this.view.get('panelRange');\n    const [paddingTop, , , paddingLeft] = config.padding;\n    const position = isHorizontal\n      ? { x: panelRange.minX + paddingLeft, y: range.tl.y + paddingTop }\n      : { x: range.tl.x + paddingLeft, y: panelRange.minY + paddingTop };\n\n    if (!this.scrollBar) {\n      this.container = this.canvas.addGroup();\n      this.scrollBar = new ScrollBar({\n        isHorizontal,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        position,\n        thumbOffset: this.ratio * this.trackLen,\n      });\n      this.container.add(this.scrollBar);\n      this.scrollBar.set('zIndex', SCROLL_BAR_Z_INDEX);\n      this.scrollBar.on('scrollchange', this.onChangeFn);\n    } else {\n      this.scrollBar.updateTrackLen(this.trackLen);\n      this.scrollBar.updateThumbLen(this.thumbLen);\n      this.scrollBar.updateScrollBarPos(position);\n      this.scrollBar.updateThumbOffset(this.thumbOffset);\n    }\n  }\n\n  private measureScrollBar(): void {\n    const config: Required<IScrollBarInteractionConfig> = getValidScrollBarConfig(this.getInteractionConfig());\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = config.padding;\n    const isHorizontal: boolean = config.type !== 'vertical';\n    const panelRange: BBox = this.view.get('panelRange');\n    const xScale: Scale = this.view.getXScale();\n    const yScales: Scale[] = this.view.getYScales();\n\n    this.cnt = xScale.values.length;\n    this.xScaleCfg = { field: xScale.field, values: xScale.values || [] };\n    this.yScalesCfg = map(yScales, (item) => ({\n      field: item.field,\n      type: item.type,\n      min: item.min,\n      max: item.max,\n      ticks: item.ticks,\n      formatter: item.formatter,\n    }));\n    this.step = Math.floor((isHorizontal ? panelRange.width : panelRange.height) / config.categorySize);\n    this.trackLen = isHorizontal\n      ? panelRange.width - paddingLeft - paddingRight\n      : panelRange.height - paddingTop - paddingBottom;\n    this.thumbLen = Math.max(this.trackLen * clamp(this.step / xScale.values.length, 0, 1), MIN_THUMB_LENGTH);\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step, this.cnt);\n\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number]): void {\n    const config: Required<IScrollBarInteractionConfig> = getValidScrollBarConfig(this.getInteractionConfig());\n    const viewLayer: ViewLayer = this.getViewLayer();\n    const { meta } = viewLayer.options;\n    const origData: object[] = viewLayer.getData();\n    const newData: object[] = getDataByScaleRange(\n      this.xScaleCfg.field,\n      this.xScaleCfg.values,\n      origData,\n      [startIdx, endIdx],\n      config.type === 'vertical'\n    );\n\n    // ScrollBar在滚动过程中保持\b\bY轴上scale配置: min/max/ticks\n    this.yScalesCfg.forEach((cfg) => {\n      const metaCfg = get(meta, cfg.field) || {};\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        ...metaCfg,\n        type: cfg.type as 'linear' | 'cat' | 'log' | 'pow' | 'identity' | 'time',\n        min: cfg.min,\n        max: cfg.max,\n      });\n    });\n    this.view.set('data', newData);\n    this.view.repaint();\n  }\n\n  private onChange({ ratio, thumbOffset }: { ratio: number; thumbOffset: number }): void {\n    this.ratio = ratio;\n    this.thumbOffset = thumbOffset;\n\n    const origAnimation = this.view.get('animation');\n    this.view.animate(false);\n    this.changeViewData(this.getScrollRange());\n    this.view.animate(origAnimation);\n  }\n}\n","import { BBox, Group } from '@antv/g';\nimport { Slider } from '@antv/gui';\nimport { Scale } from '@antv/scale';\nimport { clamp, head, last, map, size, throttle } from '@antv/util';\nimport { ISliderInteractionConfig } from '../interface/config';\nimport BaseInteraction from './base';\nimport { getDataByScaleRange } from './helper/data-range';\n\nconst DEFAULT_PADDING: number = 4;\nconst DEFAULT_SIZE: number = 16;\n\nconst getValidSliderConfig = (cfg: ISliderInteractionConfig = {}): Required<ISliderInteractionConfig> => {\n  const _cfg: Required<ISliderInteractionConfig> = {\n    type: 'horizontal',\n    start: 0,\n    end: 1,\n    width: undefined,\n    height: undefined,\n    padding: [0, 0, 0, 0],\n    backgroundColor: undefined,\n    foregroundColor: undefined,\n    ...cfg,\n  };\n\n  // default padding\n  if (!cfg.padding) {\n    _cfg.padding =\n      _cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n  }\n\n  // default size\n  if (!cfg.height) {\n    _cfg.height = DEFAULT_SIZE;\n  }\n  if (!cfg.width) {\n    _cfg.width = DEFAULT_SIZE;\n  }\n\n  // start & end\n  const start = clamp(Math.min(_cfg.start, _cfg.end), 0, 1);\n  const end = clamp(Math.max(_cfg.start, _cfg.end), 0, 1);\n  _cfg.start = start;\n  _cfg.end = end;\n\n  return _cfg;\n};\n\nexport default class SliderInteraction extends BaseInteraction {\n  public static getInteractionRange(layerRange: BBox, interaction: ISliderInteractionConfig): BBox {\n    const config: ISliderInteractionConfig = getValidSliderConfig(interaction);\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = config.padding || [0, 0, 0, 0];\n\n    if (config.type === 'horizontal') {\n      return new BBox(\n        layerRange.minX,\n        layerRange.maxY - config.height - paddingTop - paddingBottom,\n        layerRange.width,\n        config.height + paddingTop + paddingBottom\n      );\n    } else {\n      return new BBox(\n        layerRange.maxX - config.width - paddingLeft - paddingRight,\n        layerRange.minY,\n        config.width + paddingLeft + paddingRight,\n        layerRange.height\n      );\n    }\n  }\n\n  private container: Group;\n  private slider: Slider;\n  private curStart: number;\n  private curEnd: number;\n  private xScaleCfg:\n    | {\n        field: string;\n        values: string[];\n      }\n    | undefined;\n  private onChangeFn: (range: [number, number]) => void = throttle(this.onChange.bind(this), 20, { leading: true }) as (\n    range: [number, number]\n  ) => void;\n\n  protected render(): void {\n    // 设置初始化的 start/end\n    const config = getValidSliderConfig(this.getInteractionConfig());\n    this.curStart = config.start;\n    this.curEnd = config.end;\n    this.xScaleCfg = undefined;\n    // 等待 view 每次 render 完成后更新 slider 组件\n    this.view.on('afterrender', () => {\n      if (!this.xScaleCfg) {\n        // 初始化配置和数据\n        const xScale: Scale = this.view.getXScale();\n        this.xScaleCfg = {\n          field: xScale.field,\n          values: xScale.values || [],\n        };\n        // 初始化 data\n        this.view.set('data', this.getSliderData(this.curStart, this.curEnd));\n        this.view.repaint();\n      } else {\n        this.renderSlider();\n      }\n    });\n  }\n\n  protected clear(): void {\n    if (this.slider) {\n      this.slider.destroy();\n      this.slider = null;\n    }\n    if (this.container) {\n      this.container.remove(true);\n      this.container = null;\n    }\n  }\n\n  private renderSlider(): void {\n    if (!this.slider) {\n      this.container = this.canvas.addGroup();\n      this.slider = new Slider(this.getSliderConfig());\n      this.slider.on('sliderchange', this.onChangeFn);\n      this.container.add(this.slider);\n    } else {\n      this.slider.update(this.getSliderConfig());\n    }\n  }\n\n  private getSliderConfig() {\n    const view = this.view;\n    const panelRange: BBox = view.get('panelRange');\n    const range = this.getRange();\n    const config: ISliderInteractionConfig | null = getValidSliderConfig(this.getInteractionConfig());\n    const { padding = [0, 0, 0, 0], foregroundColor, backgroundColor } = config || {};\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const { minText, maxText } = this.getSliderMinMaxText(this.curStart, this.curEnd);\n    const cfg: any = {\n      x: panelRange.minX + paddingLeft,\n      y: range.tl.y + paddingTop,\n      width: panelRange.width - paddingLeft - paddingRight,\n      height: range.height - paddingTop - paddingBottom,\n      start: this.curStart,\n      end: this.curEnd,\n      minText,\n      maxText,\n      trendCfg: {\n        data: this.getSliderTrendData(),\n        isArea: false,\n        smooth: false,\n      },\n      foregroundStyle: {},\n      backgroundStyle: {},\n    };\n\n    if (foregroundColor) {\n      cfg.foregroundStyle.fill = foregroundColor;\n    }\n    if (backgroundColor) {\n      cfg.backgroundStyle.fill = backgroundColor;\n    }\n\n    return cfg;\n  }\n\n  private getSliderTrendData(): number[] {\n    const { data, yField } = this.getViewLayer().options;\n\n    return map(data, (item) => item[yField]);\n  }\n\n  private getSliderData(start: number, end: number): any[] {\n    const origData = this.getViewLayer().getData();\n    const length = size(this.xScaleCfg.values);\n    const startIdx = Math.round(start * length);\n    const endIdx = Math.max(startIdx + 1, Math.round(end * length));\n\n    return getDataByScaleRange(this.xScaleCfg.field, this.xScaleCfg.values, origData, [startIdx, endIdx]);\n  }\n\n  private getSliderMinMaxText(start: number, end: number): { minText: string; maxText: string } {\n    const { data = [], xField } = this.getViewLayer().options;\n    const length = size(data);\n    const startIdx = Math.round(start * length);\n    const endIdx = Math.max(startIdx + 1, Math.round(end * length));\n    const newData = data.slice(startIdx, endIdx);\n\n    return {\n      minText: head(newData)[xField],\n      maxText: last(newData)[xField],\n    };\n  }\n\n  private onChange(range: [number, number]): void {\n    const view = this.view;\n    const start = clamp(Math.min(range[0], range[1]), 0, 1);\n    const end = clamp(Math.max(range[0], range[1]), 0, 1);\n    const data = this.getSliderData(start, end);\n    const { minText, maxText } = this.getSliderMinMaxText(start, end);\n    this.curStart = start;\n    this.curEnd = end;\n    this.slider.update({\n      start,\n      end,\n      minText,\n      maxText,\n    });\n    const origAnimation = view.get('animation');\n    view.animate(false);\n    view.changeData(data);\n    view.animate(origAnimation);\n  }\n}\n","import { BBox, Element } from '@antv/g';\nimport { DataPointType } from '@antv/g2/lib/interface';\nimport { View } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport ViewLayer from '../view-layer';\nimport { MarginPadding } from '../../interface/types';\n\ninterface ControllerConfig {\n  plot: ViewLayer;\n}\n\n/**\n * 处理图表padding的逻辑：\n * 注册参与padding的自定义组件\n */\n\nexport default class PaddingController {\n  private plot: ViewLayer;\n  private bleeding: number[];\n\n  private innerPaddingComponents: any[] = [];\n  private outerPaddingComponents: any[] = [];\n\n  constructor(cfg: ControllerConfig) {\n    this.plot = cfg.plot;\n  }\n\n  public registerPadding(component: any, type: 'outer' | 'inner' = 'outer', checkIfExist: boolean = false) {\n    if (type === 'inner') {\n      if (checkIfExist) {\n        if (!this.innerPaddingComponents.find((c) => c == component)) {\n          this.innerPaddingComponents.push(component);\n        }\n      } else {\n        this.innerPaddingComponents.push(component);\n      }\n    } else {\n      if (checkIfExist) {\n        if (!this.outerPaddingComponents.find((c) => c == component)) {\n          this.outerPaddingComponents.push(component);\n        }\n      } else {\n        this.outerPaddingComponents.push(component);\n      }\n    }\n  }\n\n  /**\n   * 清除已经注册的元素\n   */\n  public clear() {\n    this.innerPaddingComponents = [];\n    // 一些组件是在view渲染完成之后渲染初始化的\n    // TODO: afterRender的什么时候清除\n    this.outerPaddingComponents = _.filter(this.outerPaddingComponents, (component) => component.afterRender);\n  }\n\n  public clearOuterComponents() {\n    _.each(this.outerPaddingComponents, (component) => {\n      if (component.afterRender) {\n        component.destroy();\n      }\n    });\n    this.outerPaddingComponents = [];\n  }\n\n  public getPadding() {\n    const props = this.plot.options;\n    const padding = props.padding ? props.padding : this.plot.config.theme.padding;\n    if (padding === 'auto') {\n      return [0, 0, 0, 0];\n    }\n    return padding;\n  }\n\n  /** view层的padding计算 */\n  public processAutoPadding() {\n    const padding = this._getInnerAutoPadding();\n    this.plot.updateConfig({\n      padding,\n    });\n    this.plot.render();\n  }\n\n  public processOuterPadding(): BBox {\n    let viewMinX = this.plot.layerBBox.minX;\n    let viewMaxX = this.plot.layerBBox.maxX;\n    let viewMinY = this.plot.layerBBox.minY;\n    let viewMaxY = this.plot.layerBBox.maxY;\n    _.each(this.outerPaddingComponents, (component) => {\n      const { position } = component;\n      const { minX, maxX, minY, maxY } = component.getBBox();\n      if (maxY >= viewMinY && maxY <= viewMaxY && position === 'top') {\n        viewMinY = maxY;\n      }\n      if (minY >= viewMinY && minY <= viewMaxY && position === 'bottom') {\n        viewMaxY = minY;\n      }\n      if (maxX > viewMinX && maxX <= viewMaxX && position === 'left') {\n        viewMinX = maxX;\n      }\n      if (minX >= viewMinX && maxX <= viewMaxX && position === 'right') {\n        viewMaxX = minX;\n      }\n    });\n    return new BBox(viewMinX, viewMinY, viewMaxX - viewMinX, viewMaxY - viewMinY);\n  }\n\n  private _getInnerAutoPadding() {\n    const props = this.plot.options;\n    const view = this.plot.view;\n    const viewRange: BBox = view.get('viewRange');\n    const { maxX, maxY } = viewRange;\n    const bleeding = this.plot.config.theme.bleeding;\n    if (_.isArray(bleeding)) {\n      _.each(bleeding, (it, index) => {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](props);\n        }\n      });\n    }\n    this.plot.config.theme.legend.margin = bleeding;\n    this.bleeding = _.clone(bleeding);\n    // 参与auto padding的components: axis legend\n    const components_bbox = [view.get('panelRange')];\n    this._getAxis(view, components_bbox);\n    let box = this._mergeBBox(components_bbox);\n    this._getLegend(view, components_bbox, box);\n    box = this._mergeBBox(components_bbox);\n    // 参与auto padding的自定义组件\n    const components = this.innerPaddingComponents;\n    _.each(components, (obj) => {\n      const component = obj as Element;\n      const bbox = component.getBBox();\n      components_bbox.push(bbox);\n    });\n    box = this._mergeBBox(components_bbox);\n    let minY = box.minY;\n    /** 极坐标下padding计算错误问题 */\n    if (minY === viewRange.minY) {\n      minY = 0;\n    }\n    const padding: MarginPadding = [\n      0 - minY + this.bleeding[0], // 上面超出的部分\n      box.maxX - maxX + this.bleeding[1], // 右边超出的部分\n      box.maxY - maxY + this.bleeding[2], // 下边超出的部分\n      0 - box.minX + this.bleeding[3],\n    ];\n    this.adjustAxisPadding(view, padding);\n    // label、annotation等\n    const panelPadding = this._getPanel(view, box);\n    padding[0] += panelPadding[0];\n    padding[1] += panelPadding[1];\n    padding[2] += panelPadding[2];\n    padding[3] += panelPadding[3];\n    return padding;\n  }\n\n  private _getAxis(view, bboxes) {\n    const axes = view.get('axisController').axes;\n    if (axes.length > 0) {\n      _.each(axes, (a) => {\n        const axis = a as DataPointType;\n        const bbox = axis.get('group').getBBox();\n        bboxes.push(bbox);\n      });\n    }\n  }\n\n  private _getLegend(view, bboxes, box) {\n    const viewRange = view.get('viewRange');\n    const legends = view.get('legendController').legends;\n    if (legends.length > 0) {\n      _.each(legends, (l) => {\n        const legend = l as DataPointType;\n        this._adjustLegend(legend, view, box);\n        const legendBBox = legend.getBBox();\n        const { width, height } = legendBBox;\n        let x = 0;\n        let y = 0;\n        const position = legend.get('position').split('-');\n        if (position[0] === 'right') {\n          x = viewRange.maxX;\n          y = legendBBox.minY;\n        }\n        if (position[0] === 'left') {\n          x = box.minX - width;\n          y = legendBBox.minY;\n        }\n        if (position[0] === 'top') {\n          x = legendBBox.minX;\n          y = -height;\n        }\n        if (position[0] === 'bottom') {\n          x = legendBBox.minX;\n          y = viewRange.maxY + height;\n        }\n        const bbox = new BBox(x, y, width, height);\n        bboxes.push(bbox);\n        const innerPadding = this._getLegendInnerPadding(legend);\n        this._mergeBleeding(innerPadding);\n      });\n    }\n  }\n\n  private _getPanel(view, box) {\n    const groups = [];\n    const geoms = view.get('elements');\n    _.each(geoms, (geom) => {\n      if (geom.get('labelController')) {\n        const labelContainer = geom.get('labelController').labelsContainer;\n        if (labelContainer) {\n          groups.push(labelContainer);\n        }\n      }\n    });\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    _.each(groups, (group) => {\n      const children = group.get('children');\n      children.forEach((child) => {\n        if (child.type === 'group' && child.get('children').length === 0) {\n          return;\n        }\n        const bbox = child.getBBox();\n        if (bbox.minX < minX) {\n          minX = bbox.minX;\n        }\n        if (bbox.maxX > maxX) {\n          maxX = bbox.maxX;\n        }\n        if (bbox.minY < minY) {\n          minY = bbox.minY;\n        }\n        if (bbox.maxY > maxY) {\n          maxY = bbox.maxY;\n        }\n      });\n    });\n    const panelRange = view.get('panelRange');\n    //right\n    let rightDist = Math.max(maxX - parseFloat(panelRange.maxX), 0);\n    if (rightDist > 0) {\n      const ratio = panelRange.width / (panelRange.width + rightDist);\n      rightDist *= ratio;\n    }\n    //left\n    let leftDist = Math.max(parseFloat(panelRange.minX) - minX, 0);\n    if (leftDist > 0) {\n      const ratio = panelRange.width / (panelRange.width + leftDist);\n      leftDist *= ratio;\n    }\n    //top\n    let topDist = Math.max(parseFloat(panelRange.minY) - minY, 0);\n    if (topDist > 0) {\n      const ratio = panelRange.height / (panelRange.height + topDist);\n      topDist *= ratio;\n    }\n    //bottom\n    let bottomDist = Math.max(maxY - parseFloat(panelRange.maxY), 0);\n    if (bottomDist > 0) {\n      const ratio = panelRange.height / (panelRange.height + bottomDist);\n      bottomDist *= ratio;\n    }\n\n    return [topDist, rightDist, bottomDist, leftDist];\n  }\n\n  private _mergeBBox(bboxes) {\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n\n    _.each(bboxes, (bbox) => {\n      const box = bbox as DataPointType;\n      minX = Math.min(box.minX, minX);\n      maxX = Math.max(box.maxX, maxX);\n      minY = Math.min(box.minY, minY);\n      maxY = Math.max(box.maxY, maxY);\n    });\n\n    return { minX, maxX, minY, maxY };\n    // return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  private _adjustLegend(legend, view, box) {\n    const position = legend.get('position').split('-');\n    const container = legend.get('container');\n    const bbox = container.getBBox();\n    const { width, height, maxX, minX, maxY, minY } = view.get('viewRange');\n    if (position[0] === 'right') {\n      container.move(width, minY);\n    }\n    if (position[0] === 'left') {\n      container.move(box.minX - bbox.width, minY);\n    }\n    if (position[0] === 'top') {\n      container.move(0, box.minY - bbox.height);\n    }\n    if (position[0] === 'bottom') {\n      container.move(0, Math.max(maxY, box.maxY));\n    }\n  }\n\n  private _getLegendInnerPadding(legend) {\n    const innerPadding = this.plot.theme.legend.innerPadding;\n    const position = legend.get('position').split('-');\n    if (position[0] === 'top') {\n      return [innerPadding[0], 0, 0, 0];\n    }\n    if (position[0] === 'bottom') {\n      return [0, 0, innerPadding[2], 0];\n    }\n    if (position[0] === 'left') {\n      return [0, 0, 0, innerPadding[3]];\n    }\n    if (position[0] === 'right') {\n      return [0, innerPadding[1], 0, 0];\n    }\n  }\n\n  private _mergeBleeding(source) {\n    const target = this.bleeding;\n    if (source.length !== target.length) {\n      return;\n    }\n    for (let i = 0; i < source.length; i++) {\n      target[i] += source[i];\n    }\n  }\n\n  private adjustAxisPadding(view: View, padding: MarginPadding) {\n    // 3.6.x Axis组件的 autoRotate padding 修正\n    const xAxis = view.get('axisController').axes[0];\n    if (!xAxis || !xAxis.get('autoRotateLabel') || !xAxis.getOffsetByRotateAngle) {\n      return;\n    }\n    const labelRenderer = xAxis.get('labelRenderer');\n    const labels = labelRenderer.getLabels();\n    const curOffset = xAxis.getOffsetByRotateAngle(xAxis.get('autoRotateAngle'));\n    const curTotalWidth = Math.abs(xAxis.get('end').x - xAxis.get('start').x);\n    // 如果只有一项数据, 平均宽度 = 总宽\n    let curAvgWidth = curTotalWidth;\n    // 当多项数据时，根据 label 位置计算均宽\n    if (labels.length > 1) {\n      curAvgWidth = Math.abs(labels[1].attr('x') - labels[0].attr('x'));\n    }\n    const newTotalWidth = curTotalWidth - padding[1] - padding[3];\n    const newAvgWidth = (curAvgWidth * newTotalWidth) / curTotalWidth;\n    const newOffset = xAxis.getOffsetByRotateAngle(xAxis.getAutoRotateAngleByAvgWidth(newAvgWidth));\n\n    if (newOffset > curOffset) {\n      padding[2] += newOffset - curOffset;\n    }\n  }\n}\n","import { DESCRIPTION_BOTTOM_MARGIN, TOP_BLEEDING, BOTTOM_BLEEDING } from './default';\n\nexport const DEFAULT_DARK_THEME = {\n  backgroundStyle: {\n    fill: '#262626',\n  },\n  defaultColor: '#5B8FF9',\n  width: 400,\n  height: 400,\n  bleeding: [TOP_BLEEDING, 24, BOTTOM_BLEEDING, 24],\n  padding: 'auto',\n  title: {\n    padding: [24, 24, 24, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 18,\n    fontWeight: 'bold',\n    fill: 'rgba(255,255,255,0.65)',\n    stroke: 'rgba(0,0,0,0.95)',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 20,\n    alignWithAxis: false,\n  },\n  description: {\n    padding: [10, 24, DESCRIPTION_BOTTOM_MARGIN, 24],\n    fontFamily: 'PingFang SC',\n    fontSize: 12,\n    fill: 'rgba(255, 255, 255, 0.65)',\n    stroke: 'rgba(0,0,0,0.95)',\n    textAlign: 'left',\n    textBaseline: 'top',\n    lineHeight: 16,\n    alignWithAxis: false,\n  },\n  axis: {\n    y: {\n      visible: true,\n      position: 'left',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: true,\n      grid: {\n        visible: true,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0],\n        },\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 1,\n        },\n      },\n      tickLine: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 0.5,\n          length: 4,\n        },\n      },\n      label: {\n        visible: true,\n        offset: 8,\n        textStyle: {\n          fill: 'rgba(255, 255, 255, 0.45)',\n          fontSize: 12,\n        },\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12,\n          textBaseline: 'bottom',\n        },\n      },\n    },\n    x: {\n      visible: true,\n      position: 'bottom',\n      autoHideLabel: false,\n      autoRotateLabel: false,\n      autoRotateTitle: false,\n      grid: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.15)',\n          lineWidth: 1,\n          lineDash: [0, 0],\n        },\n      },\n      line: {\n        visible: false,\n        style: {\n          stroke: 'rgba(255, 255, 255, 0.45)',\n        },\n      },\n      tickLine: {\n        visible: true,\n        style: {\n          length: 4,\n          stroke: 'rgba(255, 255, 255, 0.45)',\n          lineWidth: 0.5,\n        },\n      },\n      label: {\n        visible: true,\n        textStyle: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12,\n        },\n        offset: 16,\n      },\n      title: {\n        visible: false,\n        offset: 12,\n        style: {\n          fill: 'rgba(255, 255, 255, 0.65)',\n          fontSize: 12,\n        },\n      },\n    },\n    circle: {\n      autoHideLabel: false,\n      autoRotateLabel: true,\n      autoRotateTitle: true,\n      // gridType: 'line',\n      grid: {\n        style: {\n          lineDash: null,\n          lineWidth: 1,\n          stroke: '#E3E8EC',\n        },\n      },\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#BFBFBF',\n        },\n      },\n      tickLine: {\n        style: {\n          lineWidth: 1,\n          stroke: '#bdc8d3',\n          length: 4,\n          alignWithLabel: true,\n        },\n      },\n      label: {\n        offset: 16,\n        textStyle: {\n          fill: '#a0a4aa',\n          fontSize: 12,\n        },\n      },\n      title: {\n        offset: 12,\n        style: { fill: '#767b84', fontSize: 12 },\n      },\n    },\n    radius: {\n      label: {\n        offset: 12,\n        textStyle: {\n          fill: '#a0a4aa',\n          fontSize: 12,\n        },\n      },\n    },\n  },\n  legend: {\n    flipPage: false,\n    position: 'bottom-center',\n    // 距离panelRange的距离\n    innerPadding: [16, 16, 16, 16],\n  },\n  label: {\n    offset: 12,\n    textStyle: {\n      fill: 'rgba(255, 255, 255, 0.65)',\n    },\n    style: {\n      fill: 'rgba(255, 255, 255, 0.65)',\n      lineWidth: 1,\n    },\n  },\n  tooltip: {\n    'g2-tooltip': {\n      backgroundColor: 'rgba(33,33,33, 0.95)',\n      boxShadow: '0px 0px 8px rgba(0,0,0,0.65)',\n      color: 'rgba(255, 255, 255, 0.65)',\n    },\n  },\n};\n","import * as _ from '@antv/util';\nimport { getGlobalTheme } from './global';\n\n/**\n * 所有的 plot theme object，每个图类型只会存在一个 theme\n */\nconst PLOT_THEME_MAP: Record<string, any> = {};\n\n/**\n * 注册新的图表主题\n * @param type\n * @param theme\n */\nexport function registerTheme(type: string, theme: object) {\n  PLOT_THEME_MAP[type.toLowerCase()] = theme;\n}\n\n/**\n * 根据类型获取主题\n * @param type\n */\nexport function getTheme(type: string): any {\n  return PLOT_THEME_MAP[type.toLowerCase()] || {};\n}\n","import * as _ from '@antv/util';\n\n/**\n * mutable 的方式修改 axis 配置\n * @param axis\n */\n// function convertToG2Axis(axis: any): void {\n//   if (axis.line && axis.line.style) {\n//     const lineStyle = axis.line.style;\n//     delete axis.line.style;\n//     _.mix(axis.line, lineStyle);\n//   }\n//   if (axis.tickLine) {\n//     const tickLineStyle = axis.tickLine.style;\n//     delete axis.tickLine.style;\n//     _.mix(axis.tickLine, tickLineStyle);\n//   }\n//   if (axis.grid) {\n//     const gridStyle = axis.grid.style;\n//     delete axis.grid.style;\n//     _.mix(axis.grid, gridStyle);\n//   }\n//   if (axis.label) {\n//     if (axis.label.style) {\n//       axis.label.textStyle = axis.label.style;\n//       delete axis.label.style;\n//     }\n//   }\n//   if (axis.title) {\n//     if (axis.title.style) {\n//       axis.title.textStyle = axis.title.style;\n//       delete axis.title.style;\n//     }\n//   }\n// }\n\n/**\n * 将图形主题转换成 g2 theme 格式\n * @param plotTheme\n */\nexport function convertToG2Theme(plotTheme: any): any {\n  const g2Theme = _.clone(plotTheme);\n  /** tempo: legend margin设置为0 */\n  if (!g2Theme.legend) {\n    g2Theme.legend = {};\n  }\n  // g2Theme.legend.margin = [0, 0, 0, 0];\n  // if (g2Theme.axis) {\n  //   if (g2Theme.axis.x) {\n  //     convertToG2Axis(g2Theme.axis.x);\n  //     g2Theme.axis.bottom = {};\n  //     _.deepMix(g2Theme.axis.bottom, g2Theme.axis.x, { position: 'bottom' });\n  //     g2Theme.axis.top = {};\n  //     _.deepMix(g2Theme.axis.top, g2Theme.axis.x, { position: 'top' });\n  //     delete g2Theme.axis.x;\n  //   }\n  //   if (g2Theme.axis.y) {\n  //     convertToG2Axis(g2Theme.axis.y);\n  //     g2Theme.axis.left = {};\n  //     _.deepMix(g2Theme.axis.left, g2Theme.axis.y, { position: 'left' });\n  //     g2Theme.axis.right = {};\n  //     _.deepMix(g2Theme.axis.right, g2Theme.axis.y, { position: 'right' });\n  //     delete g2Theme.axis.y;\n  //   }\n  // }\n  return g2Theme;\n}\n","import * as StyleParser from '../util/style-parser';\n\nexport function extractAxis(desAxis, axis) {\n  if (!axis) {\n    return desAxis;\n  }\n  StyleParser.AxisStyleParser(desAxis, axis);\n  return desAxis;\n}\n\nexport function processAxisVisible(axisCfg) {\n  if (axisCfg.line && axisCfg.line.visible === false) {\n    axisCfg.line = null;\n  }\n  if (axisCfg.grid && axisCfg.grid.visible === false) {\n    axisCfg.grid = null;\n  }\n  if (axisCfg.tickLine && axisCfg.tickLine.visible === false) {\n    axisCfg.tickLine = null;\n  }\n  if (axisCfg.title && axisCfg.title.visible === false) {\n    axisCfg.title = null;\n  }\n  if (axisCfg.label && axisCfg.label.visible === false) {\n    axisCfg.label = null;\n  }\n}\n","import * as _ from '@antv/util';\n\nfunction AxisStyleParser(axisCfg, axis) {\n  if (axis.line) {\n    if (axis.line.visible === false) {\n      axisCfg.line = null;\n    } else if (axis.line.style) {\n      axisCfg.line = _.clone(axis.line.style);\n    }\n  }\n  if (axis.title) {\n    if (axis.title.visible === false) {\n      axisCfg.showTitle = false;\n    } else {\n      if (axis.title.visible === true) {\n        axisCfg.showTitle = true;\n      }\n      if (axisCfg.autoRotate) {\n        axisCfg.autoRotateTitle = axisCfg.autoRotate;\n      }\n      axisCfg.title = _.clone(axis.title);\n      if (axisCfg.title.style) {\n        axisCfg.title.textStyle = axisCfg.title.style;\n        delete axisCfg.title.style;\n      }\n    }\n  }\n  if (axis.tickLine) {\n    if (axis.tickLine.visible === false) {\n      axisCfg.tickLine = null;\n    } else if (axis.tickLine.style) {\n      axisCfg.tickLine = _.clone(axis.tickLine.style);\n    }\n  }\n  if (Object.prototype.hasOwnProperty.call(axis, 'autoHideLabel')) {\n    axisCfg.autoHideLabel = axis.autoHideLabel;\n  }\n  if (Object.prototype.hasOwnProperty.call(axis, 'autoRotateLabel')) {\n    axisCfg.autoRotateLabel = axis.autoRotateLabel;\n  }\n  if (axis.label) {\n    if (axis.label.visible === false) {\n      axisCfg.label = null;\n    } else {\n      const newLabel = _.clone(axis.label);\n      if (newLabel.style) {\n        newLabel.textStyle = newLabel.style;\n        delete newLabel.style;\n      }\n      if (axis.label.formatter) {\n        const textFormatter = axis.label.formatter;\n        axisCfg.label = (text) => {\n          newLabel.text = textFormatter(text);\n          return newLabel;\n        };\n      } else {\n        axisCfg.label = newLabel;\n      }\n    }\n  }\n  if (axis.grid) {\n    if (axis.grid.visible === false) {\n      axisCfg.grid = null;\n    } else {\n      axisCfg.grid = _.clone(axis.grid);\n      if (axis.grid.style) {\n        axisCfg.grid = _.clone(axis.grid.style);\n      }\n    }\n  }\n}\n\nfunction TooltipStyleParser() {}\n\nfunction LabelStyleParser(theme, style) {\n  const labelCfg = theme.label;\n  labelCfg.textStyle = style;\n}\n\nfunction AnnotationStyleParser() {}\n\nfunction checkNull(cfg) {\n  if (cfg === null) {\n    return {};\n  }\n  return cfg;\n}\n\nexport { AxisStyleParser, TooltipStyleParser, LabelStyleParser, AnnotationStyleParser };\n","// 存储一些共用部分\nexport const DEFAULT_RESPONSIVE_THEME = {\n  axis: {\n    x: {\n      category: {\n        constraints: [{ name: 'elementDist' }],\n        rules: {\n          elementDist: [\n            {\n              name: 'textWrapper',\n              option: {\n                lineNumber: 2,\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 45,\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 90,\n              },\n            },\n            {\n              name: 'textAbbreviate',\n              option: {\n                abbreviateBy: 'end',\n              },\n            },\n            {\n              name: 'textHide',\n            },\n          ],\n        },\n      },\n      linear: {\n        constraints: [{ name: 'elementDist' }],\n        rules: {\n          elementDist: [\n            {\n              name: 'nodesResampling',\n              option: {\n                keep: ['end'],\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 45,\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 90,\n              },\n            },\n            {\n              name: 'robustAbbrevaite',\n              option: {\n                unit: 'thousand',\n                decimal: 1,\n                abbreviateBy: 'end',\n              },\n            },\n            {\n              name: 'textHide',\n            },\n          ],\n        },\n      },\n      dateTime: {\n        constraints: [{ name: 'elementDist' }],\n        rules: {\n          elementDist: [\n            {\n              name: 'datetimeStringAbbrevaite',\n            },\n            {\n              name: 'nodesResamplingByAbbrevate',\n              option: {\n                keep: ['end'],\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 45,\n              },\n            },\n            {\n              name: 'textRotation',\n              option: {\n                degree: 90,\n              },\n            },\n            {\n              name: 'nodesResampling',\n            },\n            {\n              name: 'nodesResampling',\n            },\n            {\n              name: 'textHide',\n            },\n          ],\n        },\n      },\n    },\n    y: {\n      linear: {\n        constraints: [{ name: 'elementDistVertical' }, { name: 'elementWidth' }],\n        rules: {\n          elementDistVertical: [{ name: 'nodesResampling' }, { name: 'textHide' }],\n          elementWidth: [{ name: 'digitsAbbreviate' }, { name: 'textHide' }],\n        },\n      }, // linear y axis\n      category: {\n        constraints: [{ name: 'elementDistVertical' }, { name: 'elementWidth' }],\n        rules: {\n          elementDistVertical: [{ name: 'nodesResampling' }, { name: 'textHide' }],\n          elementWidth: [\n            {\n              name: 'textAbbreviate',\n              option: {\n                abbreviateBy: 'end',\n              },\n            },\n            { name: 'textHide' },\n          ],\n        },\n      },\n    }, // categroy y axis， 条形图\n  },\n};\n","import { modifyCSS } from '@antv/dom-util';\nimport { Canvas } from '@antv/g';\nimport * as _ from '@antv/util';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport { getGlobalTheme } from '../../theme/global';\nimport BasePlot from '../plot';\nimport ThemeController from './theme';\n\nexport interface CanvasControllerCfg {\n  readonly containerDOM: HTMLElement;\n  readonly plot: BasePlot;\n}\n\n/**\n * Canvas controller\n * 1. create G.Canvas, destroy G.Canvas\n * 2. process auto fit container\n * 3. API for G.Canvas\n */\n\nexport default class CanvasController {\n  public width: number;\n  public height: number;\n  public canvas: Canvas;\n\n  private containerDOM: HTMLElement;\n  private plot: BasePlot; // temp\n  private resizeObserver: any;\n\n  /**\n   * when the container size changed, trigger it after 300ms.\n   */\n  private onResize = _.debounce(() => {\n    if (this.plot.destroyed) {\n      return;\n    }\n    const { width, height } = this.getCanvasSize();\n    /** height measure不准导致重复 forceFit */\n    if (this.width === width /*&& this.height === height*/) {\n      return;\n    }\n    // got new width, height, re-render the plot\n    this.width = width;\n    this.height = height;\n\n    this.plot.updateConfig({ width, height });\n    this.plot.render();\n  }, 300);\n\n  constructor(cfg: CanvasControllerCfg) {\n    const { containerDOM, plot } = cfg;\n    this.containerDOM = containerDOM;\n    this.plot = plot;\n    this.init();\n  }\n\n  /**\n   * get canvas size from props.\n   * @returns the width, height of canvas\n   */\n  public getCanvasSize() {\n    const theme = getGlobalTheme();\n    let width = this.plot.width ? this.plot.width : theme.width;\n    let height = this.plot.height ? this.plot.height : theme.height;\n\n    // if forceFit = true, then use the container's size as default.\n    if (this.plot.forceFit) {\n      width = this.containerDOM.offsetWidth ? this.containerDOM.offsetWidth : width;\n      height = this.containerDOM.offsetHeight ? this.containerDOM.offsetHeight : height;\n    }\n    return { width, height };\n  }\n\n  /**\n   * get the canvas dom\n   * @returns Canvas DOM\n   */\n  public getCanvasDOM() {\n    return this.canvas.get('canvasDOM');\n  }\n\n  /**\n   * update the plot size\n   */\n  public updateCanvasSize() {\n    const { width, height } = this.getCanvasSize();\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n    // this.plot.updateRange();\n  }\n\n  /**\n   * 根据主题调整canvas样式\n   */\n  public updateCanvasTheme() {\n    const { theme } = this.plot;\n    const globalTheme = ThemeController.getGlobalTheme(theme);\n    const fill: string = _.get(globalTheme, 'backgroundStyle.fill');\n    if (fill) {\n      this.updateCanvasStyle({\n        backgroundColor: fill,\n      });\n    }\n  }\n\n  /**\n   * update the canvas dom styles\n   * @param styles\n   */\n  public updateCanvasStyle(styles: Record<string, string | number>) {\n    modifyCSS(this.getCanvasDOM(), styles);\n  }\n\n  /**\n   * destroy the plot, remove resize event.\n   */\n  public destroy() {\n    // remove event\n    if (this.resizeObserver) {\n      this.resizeObserver.unobserve(this.containerDOM);\n      this.resizeObserver.disconnect();\n      this.containerDOM = null;\n    }\n    // remove G.Canvas\n    this.canvas.destroy();\n  }\n\n  /**\n   * when forceFit = true, then bind the event to listen the container size change\n   */\n  private bindForceFit() {\n    const { forceFit } = this.plot;\n\n    // use ResizeObserver to listen the container size change.\n    if (forceFit) {\n      this.resizeObserver = new ResizeObserver(this.onResize);\n      this.resizeObserver.observe(this.containerDOM);\n    }\n  }\n\n  /**\n   * init life circle\n   */\n  private init() {\n    this.initGCanvas();\n\n    this.bindForceFit();\n  }\n\n  /**\n   * init G.Canvas instance\n   */\n  private initGCanvas() {\n    /** 创建canvas */\n    const { renderer = 'canvas', pixelRatio } = this.plot;\n    const { width, height } = this.getCanvasSize();\n    this.canvas = new Canvas({\n      containerDOM: this.containerDOM,\n      width,\n      height,\n      renderer,\n      pixelRatio,\n    });\n    this.width = width;\n    this.height = height;\n    this.updateCanvasTheme();\n  }\n}\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","import * as _ from '@antv/util';\nimport { Element, Canvas, Shape, BBox } from '@antv/g';\nimport BasePlot from '../plot';\nimport Layer from '../layer';\nimport { Point } from '../../interface/config';\n\ninterface ControllerConfig {\n  canvas: Canvas;\n  plot: BasePlot;\n}\n\ninterface IEventHandler {\n  target: Element;\n  type: string;\n  handler: Function;\n}\n\ninterface EventObj {\n  x: number;\n  y: number;\n  target: any;\n  event: object;\n}\n\nfunction isSameShape(shape1: Shape, shape2: Shape) {\n  if (shape1 && shape2 && shape1 === shape2) {\n    return true;\n  }\n  return false;\n}\n\nfunction isPointInBBox(point: Point, bbox: BBox) {\n  if (point.x >= bbox.minX && point.x <= bbox.maxX && point.y >= bbox.minY && point.y <= bbox.maxY) {\n    return true;\n  }\n  return false;\n}\n\nexport default class EventController {\n  private plot: BasePlot;\n  private canvas: Canvas;\n  private pixelRatio: number;\n  private eventHandlers: IEventHandler[];\n  private lastShape: Shape;\n\n  constructor(cfg: ControllerConfig) {\n    this.plot = cfg.plot;\n    this.canvas = cfg.canvas;\n    this.pixelRatio = this.canvas.get('pixelRatio');\n    this.eventHandlers = [];\n  }\n\n  public bindEvents() {\n    this.addEvent(this.canvas, 'mousedown', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'mousemove', _.wrapBehavior(this, 'onMove'));\n    this.addEvent(this.canvas, 'mouseup', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'click', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'dblclick', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'contextmenu', _.wrapBehavior(this, 'onEvents'));\n    this.addEvent(this.canvas, 'wheel', _.wrapBehavior(this, 'onEvents'));\n  }\n\n  public clearEvents() {\n    const eventHandlers = this.eventHandlers;\n    _.each(eventHandlers, (eh) => {\n      eh.target.off(eh.type, eh.handler);\n    });\n  }\n\n  private addEvent(target: Element, eventType: string, handler: Function) {\n    target.on(eventType, handler);\n    this.eventHandlers.push({ target, type: eventType, handler });\n  }\n\n  private onEvents(ev) {\n    const eventObj = this.getEventObj(ev);\n    const { target } = ev;\n    // 判断是否拾取到view以外的shape\n    if (target.isShape && !this.isShapeInView(target) && target.name) {\n      this.plot.emit(`${target.name}:${ev.type}`, ev);\n    }\n    this.plot.emit(`${ev.type}`, eventObj);\n    // layer事件\n    const layers = this.plot.getLayers();\n    if (layers.length > 0) {\n      this.onLayerEvent(layers, eventObj, ev.type);\n    }\n  }\n\n  private onMove(ev) {\n    const { target } = ev;\n    const eventObj = this.getEventObj(ev);\n    // shape的mouseenter, mouseleave和mousemove事件\n    if (target.isShape && !this.isShapeInView(target) && target.name) {\n      this.plot.emit(`${target.name}:${ev.type}`, eventObj);\n      // mouseleave & mouseenter\n      if (this.lastShape && !isSameShape(target, this.lastShape)) {\n        if (this.lastShape) {\n          this.plot.emit(`${this.lastShape.name}:mouseleave`, eventObj);\n        }\n        this.plot.emit(`${target.name}:mouseenter`, eventObj);\n      }\n      this.lastShape = target;\n    }\n    this.plot.emit('mousemove', eventObj);\n    // layer事件\n    const layers = this.plot.getLayers();\n    if (layers.length > 0) {\n      this.onLayerEvent(layers, eventObj, 'mousemove');\n    }\n  }\n\n  private isShapeInView(shape: Shape) {\n    const groupName = ['frontgroundGroup', 'backgroundGroup', 'panelGroup'];\n    let parent = shape.get('parent');\n    while (parent) {\n      const parentName = parent.get('name');\n      if (parentName && _.contains(groupName, parentName)) {\n        return true;\n      }\n      parent = parent.get('parent');\n    }\n    return false;\n  }\n\n  private getEventObj(ev) {\n    const obj = {\n      x: ev.x / this.pixelRatio,\n      y: ev.y / this.pixelRatio,\n      target: ev.target,\n      event: ev.event, // g事件的event\n    };\n    return obj;\n  }\n\n  private onLayerEvent(layers: Layer[], eventObj: EventObj, eventName: string) {\n    _.each(layers, (layer) => {\n      const bbox = layer.getGlobalBBox();\n      if (isPointInBBox({ x: eventObj.x, y: eventObj.y }, bbox)) {\n        layer.emit(`${eventName}`, eventObj);\n        const subLayers = layer.layers;\n        if (subLayers.length > 0) {\n          this.onLayerEvent(subLayers, eventObj, eventName);\n        }\n      }\n    });\n  }\n}\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport LineLayer, { LineViewConfig } from './layer';\n\nexport interface LineConfig extends LineViewConfig, PlotConfig {}\n\nexport default class Line extends BasePlot<LineConfig> {\n  public static getDefaultOptions: typeof LineLayer.getDefaultOptions = LineLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'line';\n    super.createLayers(layerProps);\n  }\n}\n","import AreaParser from './main';\nimport MiniAreaParser from './mini';\n\nexport default {\n  main: AreaParser,\n  mini: MiniAreaParser,\n};\n","/** 简化折线点 */\nimport * as G2 from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { lineSimplification } from '../../util/math';\nimport { getSplinePath } from '../../util/path';\nimport AreaParser from './main';\n\nconst G2DefaultTheme = G2.Global.theme;\n\nG2.registerShape('area', 'miniArea', {\n  draw(cfg, container) {\n    const path = getPath(cfg, this, false);\n    const style = _.deepMix(\n      {},\n      {\n        lineJoin: 'round',\n        lineCap: 'round',\n      },\n      cfg.style\n    );\n    const shape = container.addShape('path', {\n      attrs: {\n        path,\n        fill: parseGradient(cfg.color || G2DefaultTheme.defaultColor),\n        opacity: cfg.opacity || 0.4,\n      },\n      style,\n    });\n    return shape;\n  },\n});\n\nG2.registerShape('area', 'miniAreaSmooth', {\n  draw(cfg, container) {\n    const path = getPath(cfg, this, true);\n    const shape = container.addShape('path', {\n      attrs: {\n        path,\n        fill: parseGradient(cfg.color || G2DefaultTheme.defaultColor),\n        opacity: cfg.opacity || 0.5,\n      },\n    });\n    return shape;\n  },\n});\n\nfunction getPath(cfg, shape, isSmooth) {\n  const constraint = [\n    [0, 0],\n    [1, 1],\n  ];\n  let topLinePoints = [];\n  let bottomLinePoints = [];\n  _.each(cfg.points, (point) => {\n    topLinePoints.push(point[1]);\n    bottomLinePoints.push(point[0]);\n  });\n  bottomLinePoints = shape.parsePoints(bottomLinePoints.reverse());\n  topLinePoints = lineSimplification(shape.parsePoints(topLinePoints));\n  const topPath = isSmooth ? getSplinePath(topLinePoints, false, constraint) : getStraightPath(topLinePoints);\n  const bottomPath = getStraightPath(bottomLinePoints);\n  bottomPath[0][0] = 'L';\n  const path = topPath.concat(bottomPath);\n\n  return path;\n}\n\nfunction getStraightPath(points) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    const flag = i === 0 ? 'M' : 'L';\n    path.push([flag, p.x, p.y]);\n  }\n  return path;\n}\n\nfunction parseGradient(color) {\n  return `l(90) 0:${color} 1:#ffffff`;\n}\n\nexport default class MiniAreaParser extends AreaParser {\n  public init() {\n    super.init();\n    this.parseShape();\n  }\n\n  private parseShape() {\n    const props = this.plot.options;\n    if (props.smooth) {\n      this.config.shape = { values: ['miniAreaSmooth'] };\n    } else {\n      this.config.shape = { values: ['miniArea'] };\n    }\n  }\n}\n","import IntervalParser from './main';\n\nexport default {\n  main: IntervalParser,\n};\n","import { DataPointType } from '@antv/g2/lib/interface';\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nconst COLOR_MAPPER = ['colorField', 'stackField', 'groupField'];\n\nexport default class IntervalParser extends ElementParser {\n  public init() {\n    this.type = 'interval';\n    super.init();\n    const props = this.plot.options;\n    if (this._needParserColor()) {\n      this.parseColor();\n    }\n    if (!this.config.color) {\n      this.config.color = { values: ['#5b8ff9'] };\n    }\n    const sizeProps = this._getSizeProps(props);\n    if (sizeProps) {\n      this.parseSize(sizeProps);\n    }\n    const styleProps = this._getStyleProps(props);\n    if (styleProps) {\n      this.parseStyle(styleProps);\n    }\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const colorField = this._getColorMappingField(props);\n    const config: DataPointType = {};\n    if (colorField) {\n      config.fields = colorField;\n    }\n    if (props.color) {\n      if (_.isString(props.color)) {\n        config.values = [props.color];\n      } else if (_.isFunction(props.color)) {\n        config.callback = props.color;\n      } else if (_.isArray(props.color)) {\n        config.values = props.color;\n      } else if (_.isObject(props.color)) {\n        config.fields = colorField;\n        config.callback = (d) => {\n          return props.color[d];\n        };\n      }\n    }\n    this.config.color = config;\n  }\n\n  public parseSize(sizeProps) {\n    const props = this.plot.options;\n    const config: DataPointType = {};\n    if (_.isFunction(props[sizeProps])) {\n      config.fields = [this.config.position.fields];\n      config.callback = props[sizeProps];\n    } else {\n      config.values = [props[sizeProps]];\n    }\n    this.config.size = config;\n  }\n\n  public parseStyle(styleProps) {\n    const style = this.plot.options[styleProps];\n    const config: DataPointType = {};\n    if (_.isFunction(style)) {\n      config.fields = [this.config.position.fields];\n      config.callback = style;\n    } else {\n      config.cfg = style;\n    }\n\n    this.config.style = config;\n  }\n\n  private _getSizeProps(props) {\n    const sizeMapper = ['columnSize', 'barSize'];\n    for (const m of sizeMapper) {\n      if (_.get(props, m)) {\n        return m;\n      }\n    }\n  }\n\n  private _getStyleProps(props) {\n    const sizeMapper = ['columnStyle', 'barStyle', 'pieStyle', 'ringStyle'];\n    for (const m of sizeMapper) {\n      if (_.get(props, m)) {\n        return m;\n      }\n    }\n  }\n\n  private _getColorMappingField(props) {\n    /**如果有colorFiled或stackField配置项(后者为堆叠interval)，则参与colorMapping的字段为对应值\n     * 如没有特别设定，则一般是callback中的传参，传入位置映射的字段\n     */\n    for (const m of COLOR_MAPPER) {\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  }\n\n  private _needParserColor() {\n    const props = this.plot.options;\n    if (props.color) {\n      return true;\n    }\n    for (const m of COLOR_MAPPER) {\n      if (props[m]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n","import GuideLineParser from './guide';\nimport LineParser from './main';\nimport MiniLineParser from './mini';\n\nexport default {\n  main: LineParser,\n  guide: GuideLineParser,\n  mini: MiniLineParser,\n};\n","import { DataPointType } from '@antv/g2/lib/interface';\nimport * as _ from '@antv/util';\nimport LineParser from './main';\n\nexport default class GuideLineParser extends LineParser {\n  public init() {\n    const props = this.plot.options;\n    if (!props.xField || !props.yField) {\n      return;\n    }\n    this.config = {\n      type: 'line',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n    };\n\n    if (this._getColorMappingField() || this._needParseAttribute('color')) {\n      this.parseColor();\n    }\n    if (this._needParseAttribute('size')) {\n      this.parseSize();\n    }\n    if (props.line.style) {\n      this.parseStyle();\n    }\n\n    if (props.smooth) {\n      this.config.shape = { values: ['smooth'] };\n    }\n  }\n\n  public parseSize() {\n    const props = this.plot.options;\n    const config: DataPointType = {};\n    if (props.line.size) {\n      config.values = [props.line.size];\n    } else {\n      // line作为辅助图形没有在style里指定size属性的情况下，设置默认值\n      config.values = [2];\n    }\n    this.config.size = config;\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: DataPointType = {};\n    let colorField = this._getColorMappingField();\n    if (colorField) {\n      config.fields = colorField;\n    }\n    if (props.line.color) {\n      config.values = [props.line.color];\n    } else {\n      if (!colorField) {\n        colorField = this.config.position.fields;\n      }\n      // line作为辅助图形没有在style里指定color属性的情况下，默认接受主体图形的透传\n      if (_.isString(props.color)) {\n        config.values = [props.color];\n      } else if (_.isFunction(props.color)) {\n        config.fields = colorField;\n        config.callback = props.color;\n      } else if (_.isArray(props.color)) {\n        config.fields = colorField;\n        config.values = props.color;\n      }\n    }\n\n    this.config.color = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.line.style;\n    const config: DataPointType = {};\n    if (_.isFunction(styleProps)) {\n      config.fields = this.config.position.fields;\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n\n  private _needParseAttribute(attr) {\n    const props = this.plot.options;\n    const condition = !props.line || props.line[attr];\n    return condition;\n  }\n\n  private _getColorMappingField() {\n    const props = this.plot.options;\n    const colorMapper = ['stackField', 'seriesField'];\n    for (const m of colorMapper) {\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  }\n}\n","import CircleParser from './circle';\nimport GuidePointParser from './guide';\n\nexport default {\n  guide: GuidePointParser,\n  circle: CircleParser,\n};\n","import { DataPointType } from '@antv/g2/lib/interface';\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nexport default class CircleParser extends ElementParser {\n  public init() {\n    const props = this.plot.options;\n    this.style = props.pointStyle;\n    if (!props.xField || !props.yField) {\n      return;\n    }\n    this.config = {\n      type: 'point',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n    };\n    this.parseColor();\n    this.parseSize();\n\n    if (props.shape) {\n      this.parseShape(props.shape);\n    }\n    if (props.pointStyle) {\n      this.parseStyle();\n    }\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: DataPointType = {};\n    const colorField = props.colorField;\n    if (colorField) {\n      config.fields = _.isArray(colorField) ? colorField : [colorField];\n    }\n    if (props.color) {\n      this._parseColor(props, config);\n    }\n    this.config.color = config;\n  }\n\n  public parseSize() {\n    const props = this.plot.options;\n    const config: DataPointType = {};\n    if (props.sizeField) {\n      config.fields = [props.sizeField];\n    }\n    if (props.pointSize) {\n      config.values = props.pointSize;\n    }\n    this.config.size = config;\n  }\n\n  public parseShape(shapeName) {\n    const config: DataPointType = {\n      values: [shapeName],\n    };\n    this.config.shape = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.pointStyle;\n    const config = {\n      fields: null,\n      callback: null,\n      cfg: null,\n    };\n    const { xField, yField, colorField } = props;\n    if (_.isFunction(styleProps)) {\n      if (colorField) {\n        config.fields = _.isArray(colorField)\n          ? [xField, yField, colorField].concat(colorField)\n          : [xField, yField, colorField];\n      } else {\n        config.fields = [xField, yField];\n      }\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n\n  private _parseColor(props, config) {\n    if (_.isString(props.color)) {\n      config.values = [props.color];\n    } else if (_.isFunction(props.color)) {\n      config.callback = props.color;\n    } else if (_.isArray(props.color)) {\n      config.values = props.color;\n    }\n  }\n}\n","import { DataPointType } from '@antv/g2/lib/interface';\nimport * as _ from '@antv/util';\nimport ElementParser from '../base';\n\nfunction getValuesByField(field, data) {\n  const values = [];\n  _.each(data, (d) => {\n    const v = d[field];\n    values.push(v);\n  });\n  return _.uniq(values);\n}\n\nconst COLOR_MAPPER = ['seriesField', 'stackField'];\n\nexport default class GuidePointParser extends ElementParser {\n  public init() {\n    const props = this.plot.options;\n    this.style = props.point.style;\n    if (!props.xField || !props.yField) {\n      return;\n    }\n    this.config = {\n      type: 'point',\n      position: {\n        fields: [props.xField, props.yField],\n      },\n    };\n    // if (this._needParseAttribute('color')) {\n    this.parseColor();\n    // }\n    if (this._needParseAttribute('size')) {\n      this.parseSize();\n    }\n    if (props.point.shape) {\n      this.parseShape(props.point.shape);\n    }\n    if (props.point.style) {\n      this.parseStyle();\n    }\n  }\n\n  public parseColor() {\n    const props = this.plot.options;\n    const config: DataPointType = {};\n    const mappingField = this._getColorMappingField(props);\n    if (mappingField) {\n      this._parseColorByField(props, config, mappingField);\n    } else {\n      if (props.point && props.point.color) {\n        config.values = [props.point.color];\n      } else if (props.color) {\n        this._parseColor(props, config);\n      }\n    }\n    this.config.color = config;\n  }\n\n  public parseSize() {\n    const props = this.plot.options;\n    const config: DataPointType = {};\n    config.values = [props.point.size];\n    this.config.size = config;\n  }\n\n  public parseShape(shapeName) {\n    const config: DataPointType = {\n      values: [shapeName],\n    };\n    this.config.shape = config;\n  }\n\n  public parseStyle() {\n    const props = this.plot.options;\n    const styleProps = props.point && props.point.style;\n    const config = {\n      fields: null,\n      callback: null,\n      cfg: null,\n    };\n    const field = this._getColorMappingField(props);\n    if (_.isFunction(styleProps) && field) {\n      config.fields = [field];\n      config.callback = styleProps;\n    } else {\n      config.cfg = styleProps;\n    }\n    this.config.style = config;\n  }\n\n  private _parseColorByField(props, config, field) {\n    config.fields = [field];\n    if (props.point.color) {\n      const count = getValuesByField(field, props.data).length;\n      const values = [];\n      for (let i = 0; i < count; i++) {\n        values.push(props.point.color);\n      }\n      config.values = values;\n    } else if (props.color) {\n      this._parseColor(props, config);\n    }\n  }\n\n  private _parseColor(props, config) {\n    if (_.isString(props.color)) {\n      config.values = [props.color];\n    } else if (_.isFunction(props.color)) {\n      config.callback = props.color;\n    } else if (_.isArray(props.color)) {\n      config.values = props.color;\n    }\n  }\n\n  private _needParseAttribute(attr) {\n    const props = this.plot.options;\n    const condition = props.point && _.has(props.point, attr);\n    return condition;\n    // const condition = !this.style || this.style[attr];\n    // return condition;\n  }\n\n  private _getColorMappingField(props) {\n    for (const m of COLOR_MAPPER) {\n      if (_.get(props, m)) {\n        return [props[m]];\n      }\n    }\n  }\n}\n","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction clipingWithData(shape, animateCfg) {\n  /** 动画初始状态 */\n  const index = shape.get('index');\n  const coord = shape.get('coord');\n  const scales = shape.get('scales');\n  const yScale = scales[animateCfg.yField];\n  const shapeData = _.clone(shape.get('origin'));\n  const clip = getClip(coord);\n  shape.attr('clip', clip);\n  shape.setSilent('animating', true);\n  const label = getLineLabel(animateCfg.plot.view, shapeData[0]._origin[animateCfg.seriesField]);\n  if (label && !label.get('destroyed')) {\n    label.set('visible', false);\n  }\n  const parent = shape.get('parent');\n  const offsetX = 12;\n  let title;\n  if (animateCfg.seriesField) {\n    title = parent.addShape('text', {\n      attrs: {\n        x: coord.start.x + offsetX,\n        y: 0,\n        text: shapeData[0]._origin[animateCfg.seriesField],\n        fill: shape.attr('stroke'),\n        fontSize: 12,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    });\n  }\n  const offsetY = title ? 16 : 0;\n  const marker = parent.addShape('text', {\n    attrs: {\n      x: coord.start.x + offsetX,\n      y: offsetY,\n      text: `test${index}`,\n      fill: shape.attr('stroke'),\n      fontSize: 12,\n      textAlign: 'start',\n      textBaseline: 'middle',\n    },\n  });\n  /** 动画执行之后 */\n  animateCfg.callback = () => {\n    if (shape && !shape.get('destroyed')) {\n      shape.attr('clip', null);\n      shape.setSilent('cacheShape', null);\n      shape.setSilent('animating', false);\n      clip.remove();\n      marker.animate(\n        {\n          opacity: 0,\n        },\n        300,\n        () => {\n          marker.remove();\n          if (label && !label.get('destroyed')) {\n            label.set('visible', true);\n            animateCfg.plot.canvas.draw();\n          }\n        }\n      );\n      if (title) {\n        marker.animate(\n          {\n            opacity: 0,\n          },\n          300,\n          () => {\n            marker.remove();\n          }\n        );\n      }\n    }\n  };\n  /** 执行动画 */\n  /** 准备动画参数 */\n  let delay = animateCfg.delay;\n  if (_.isFunction(delay)) {\n    delay = animateCfg.delay(index);\n  }\n  let easing = animateCfg.easing;\n  if (_.isFunction(easing)) {\n    easing = animateCfg.easing(index);\n  }\n  /** 动起来 */\n  const i = 0;\n  clip.animate(\n    {\n      width: coord.getWidth(),\n    },\n    animateCfg.duration,\n    easing,\n    animateCfg.callback,\n    delay\n  );\n  marker.animate(\n    {\n      onFrame: (ratio) => {\n        const position = getPositionByRatio(ratio, shapeData, coord, i);\n\n        if (!position) return;\n\n        marker.attr('x', position[0] + offsetX);\n        marker.attr('y', position[1] + offsetY);\n        let yText = getDataByPosition(yScale, position[1], coord);\n\n        // use formatter\n        if (yScale.formatter) {\n          yText = yScale.formatter(yText);\n        }\n\n        marker.attr('text', yText);\n      },\n    },\n    animateCfg.duration,\n    easing,\n    animateCfg.callback,\n    delay\n  );\n  if (title) {\n    title.animate(\n      {\n        onFrame: (ratio) => {\n          const position = getPositionByRatio(ratio, shapeData, coord, i);\n          if (!position) return;\n          title.attr('x', position[0] + offsetX);\n          title.attr('y', position[1]);\n        },\n      },\n      animateCfg.duration,\n      easing,\n      animateCfg.callback,\n      delay\n    );\n  }\n}\n\nfunction getClip(coord) {\n  const { start, end, width, height } = coord;\n  const clip = new G.Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width: 0,\n      height,\n    },\n  });\n  clip.set('isClip', true);\n  return clip;\n}\n\nfunction getPositionByRatio(ratio, dataPoints, coord, index) {\n  const currentX = coord.start.x + coord.getWidth() * ratio;\n  for (let i = 0; i < dataPoints.length - 1; i++) {\n    const current = dataPoints[i];\n    const next = dataPoints[i + 1];\n    if (currentX >= current.x && currentX <= next.x) {\n      const m = (next.y - current.y) / (next.x - current.x); // 斜率\n      const y = current.y + m * (currentX - current.x);\n      return [currentX, y];\n    }\n  }\n}\n\nfunction getDataByPosition(scale, y, coord) {\n  const yRatio = (y - coord.start.y) / (coord.end.y - coord.start.y);\n  return scale.invert(yRatio).toFixed(2);\n}\n\nfunction getLineLabel(view, name) {\n  let label;\n  const elements = view.get('elements');\n  _.each(elements, (e) => {\n    if (e.get('type') === 'line') {\n      if (e.get('labelController')) {\n        const labelContainer = e.get('labelController').labelsContainer;\n        if (labelContainer) {\n          const labels = labelContainer.get('labelsRenderer').getLabels();\n          _.each(labels, (l) => {\n            if (l.attr('text') === name) {\n              label = l;\n            }\n          });\n        }\n      }\n    }\n  });\n  return label;\n}\n\nclipingWithData.animationName = 'clipingWithData';\n\nAnimate.registerAnimation('appear', 'clipingWithData', clipingWithData);\n","import responsiveAxis from './axis';\nimport responsivePointLabel from './label';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [\n  { name: 'responsiveAxis', method: responsiveAxis },\n  { name: 'responsivePointLabel', method: responsivePointLabel },\n];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import * as _ from '@antv/util';\nimport ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport LineLayer from '../layer';\n\nexport default function responsiveAxis(layer: LineLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  const x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  const y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","export interface ColumnWidthCfg {\n  ratio?: number;\n}\n\nfunction columnWidth(node, region, cfg: ColumnWidthCfg = { ratio: 0.6 }) {\n  return region.width * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: columnWidth,\n};\n","import * as MathUtil from '../../math';\n\nfunction elementCollision(a, b) {\n  const polygonA = [a.topLeft, a.topRight, a.bottomRight, a.bottomLeft]; // 顶点顺时针\n  const polygonB = [b.topLeft, b.topRight, b.bottomRight, b.bottomLeft];\n  const dist = MathUtil.minDistBetweenConvexPolygon(polygonA, polygonB);\n  return Math.round(dist) >= 2;\n}\n\nexport default {\n  type: 'group',\n  usage: 'compare',\n  expression: elementCollision,\n};\n","import * as MathUtil from '../../math';\n\nexport interface ElementDistCfg {\n  value: number;\n}\n\nfunction elementDist(a, b, cfg: ElementDistCfg = { value: 4 }) {\n  const polygonA = [a.topLeft, a.topRight, a.bottomRight, a.bottomLeft]; // 顶点顺时针\n  const polygonB = [b.topLeft, b.topRight, b.bottomRight, b.bottomLeft];\n  const dist = MathUtil.minDistBetweenConvexPolygon(polygonA, polygonB);\n  return Math.round(dist) >= cfg.value;\n}\n\nexport default {\n  type: 'chain',\n  usage: 'compare',\n  expression: elementDist,\n};\n","export interface ElementDistVerticalCfg {\n  value: number;\n}\n\nfunction elementDistVertical(a, b, cfg: ElementDistVerticalCfg = { value: 5 }) {\n  const dist = Math.abs(a.bottom - b.top);\n  return Math.round(dist) >= cfg.value;\n}\n\nexport default {\n  type: 'chain',\n  usage: 'compare',\n  expression: elementDistVertical,\n};\n","export interface ElementWidthCfg {\n  ratio: number;\n}\n\nfunction elementWidth(node, region, cfg: ElementWidthCfg = { ratio: 0.15 }) {\n  return node.width < region.width * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'compare',\n  expression: elementWidth,\n};\n","function minRingThickness(node, region) {\n  const minThicknessPixel = 2;\n  const minThickness = region.coord.radius / minThicknessPixel;\n  return Math.min(minThickness, node.value);\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: minRingThickness,\n};\n","export interface RingThicknessCfg {\n  ratio: number;\n}\n\nfunction ringThickness(node, region, cfg: RingThicknessCfg = { ratio: 0.8 }) {\n  return region.radius * cfg.ratio;\n}\n\nexport default {\n  type: 'padding',\n  usage: 'assign',\n  expression: ringThickness,\n};\n","var token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigitsOptional = \"[1-9]\\\\d?\";\nvar twoDigits = \"\\\\d\\\\d\";\nvar threeDigits = \"\\\\d{3}\";\nvar fourDigits = \"\\\\d{4}\";\nvar word = \"[^\\\\s]+\";\nvar literal = /\\[([^]*?)\\]/gm;\nfunction shorten(arr, sLen) {\n    var newArr = [];\n    for (var i = 0, len = arr.length; i < len; i++) {\n        newArr.push(arr[i].substr(0, sLen));\n    }\n    return newArr;\n}\nvar monthUpdate = function (arrName) { return function (v, i18n) {\n    var lowerCaseArr = i18n[arrName].map(function (v) { return v.toLowerCase(); });\n    var index = lowerCaseArr.indexOf(v.toLowerCase());\n    if (index > -1) {\n        return index;\n    }\n    return null;\n}; };\nfunction assign(origObj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n        var obj = args_1[_a];\n        for (var key in obj) {\n            // @ts-ignore ex\n            origObj[key] = obj[key];\n        }\n    }\n    return origObj;\n}\nvar dayNames = [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\"\n];\nvar monthNames = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\"\n];\nvar monthNamesShort = shorten(monthNames, 3);\nvar dayNamesShort = shorten(dayNames, 3);\nvar defaultI18n = {\n    dayNamesShort: dayNamesShort,\n    dayNames: dayNames,\n    monthNamesShort: monthNamesShort,\n    monthNames: monthNames,\n    amPm: [\"am\", \"pm\"],\n    DoFn: function (dayOfMonth) {\n        return (dayOfMonth +\n            [\"th\", \"st\", \"nd\", \"rd\"][dayOfMonth % 10 > 3\n                ? 0\n                : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10]);\n    }\n};\nvar globalI18n = assign({}, defaultI18n);\nvar setGlobalDateI18n = function (i18n) {\n    return (globalI18n = assign(globalI18n, i18n));\n};\nvar regexEscape = function (str) {\n    return str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n};\nvar pad = function (val, len) {\n    if (len === void 0) { len = 2; }\n    val = String(val);\n    while (val.length < len) {\n        val = \"0\" + val;\n    }\n    return val;\n};\nvar formatFlags = {\n    D: function (dateObj) { return String(dateObj.getDate()); },\n    DD: function (dateObj) { return pad(dateObj.getDate()); },\n    Do: function (dateObj, i18n) {\n        return i18n.DoFn(dateObj.getDate());\n    },\n    d: function (dateObj) { return String(dateObj.getDay()); },\n    dd: function (dateObj) { return pad(dateObj.getDay()); },\n    ddd: function (dateObj, i18n) {\n        return i18n.dayNamesShort[dateObj.getDay()];\n    },\n    dddd: function (dateObj, i18n) {\n        return i18n.dayNames[dateObj.getDay()];\n    },\n    M: function (dateObj) { return String(dateObj.getMonth() + 1); },\n    MM: function (dateObj) { return pad(dateObj.getMonth() + 1); },\n    MMM: function (dateObj, i18n) {\n        return i18n.monthNamesShort[dateObj.getMonth()];\n    },\n    MMMM: function (dateObj, i18n) {\n        return i18n.monthNames[dateObj.getMonth()];\n    },\n    YY: function (dateObj) {\n        return pad(String(dateObj.getFullYear()), 4).substr(2);\n    },\n    YYYY: function (dateObj) { return pad(dateObj.getFullYear(), 4); },\n    h: function (dateObj) { return String(dateObj.getHours() % 12 || 12); },\n    hh: function (dateObj) { return pad(dateObj.getHours() % 12 || 12); },\n    H: function (dateObj) { return String(dateObj.getHours()); },\n    HH: function (dateObj) { return pad(dateObj.getHours()); },\n    m: function (dateObj) { return String(dateObj.getMinutes()); },\n    mm: function (dateObj) { return pad(dateObj.getMinutes()); },\n    s: function (dateObj) { return String(dateObj.getSeconds()); },\n    ss: function (dateObj) { return pad(dateObj.getSeconds()); },\n    S: function (dateObj) {\n        return String(Math.round(dateObj.getMilliseconds() / 100));\n    },\n    SS: function (dateObj) {\n        return pad(Math.round(dateObj.getMilliseconds() / 10), 2);\n    },\n    SSS: function (dateObj) { return pad(dateObj.getMilliseconds(), 3); },\n    a: function (dateObj, i18n) {\n        return dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1];\n    },\n    A: function (dateObj, i18n) {\n        return dateObj.getHours() < 12\n            ? i18n.amPm[0].toUpperCase()\n            : i18n.amPm[1].toUpperCase();\n    },\n    ZZ: function (dateObj) {\n        var offset = dateObj.getTimezoneOffset();\n        return ((offset > 0 ? \"-\" : \"+\") +\n            pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4));\n    }\n};\nvar monthParse = function (v) { return +v - 1; };\nvar emptyDigits = [null, twoDigitsOptional];\nvar emptyWord = [null, word];\nvar amPm = [\n    \"isPm\",\n    word,\n    function (v, i18n) {\n        var val = v.toLowerCase();\n        if (val === i18n.amPm[0]) {\n            return 0;\n        }\n        else if (val === i18n.amPm[1]) {\n            return 1;\n        }\n        return null;\n    }\n];\nvar parseFlags = {\n    D: [\"day\", twoDigitsOptional],\n    DD: [\"day\", twoDigits],\n    Do: [\"day\", twoDigitsOptional + word, function (v) { return parseInt(v, 10); }],\n    M: [\"month\", twoDigitsOptional, monthParse],\n    MM: [\"month\", twoDigits, monthParse],\n    YY: [\n        \"year\",\n        twoDigits,\n        function (v) {\n            var now = new Date();\n            var cent = +(\"\" + now.getFullYear()).substr(0, 2);\n            return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n        }\n    ],\n    h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n    hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n    H: [\"hour\", twoDigitsOptional],\n    HH: [\"hour\", twoDigits],\n    m: [\"minute\", twoDigitsOptional],\n    mm: [\"minute\", twoDigits],\n    s: [\"second\", twoDigitsOptional],\n    ss: [\"second\", twoDigits],\n    YYYY: [\"year\", fourDigits],\n    S: [\"millisecond\", \"\\\\d\", function (v) { return +v * 100; }],\n    SS: [\"millisecond\", twoDigits, function (v) { return +v * 10; }],\n    SSS: [\"millisecond\", threeDigits],\n    d: emptyDigits,\n    dd: emptyDigits,\n    ddd: emptyWord,\n    dddd: emptyWord,\n    MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n    MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n    a: amPm,\n    A: amPm,\n    ZZ: [\n        \"timezoneOffset\",\n        \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n        function (v) {\n            var parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n            if (parts) {\n                var minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n                return parts[0] === \"+\" ? minutes : -minutes;\n            }\n            return 0;\n        }\n    ]\n};\n// Some common format strings\nvar globalMasks = {\n    default: \"ddd MMM DD YYYY HH:mm:ss\",\n    shortDate: \"M/D/YY\",\n    mediumDate: \"MMM D, YYYY\",\n    longDate: \"MMMM D, YYYY\",\n    fullDate: \"dddd, MMMM D, YYYY\",\n    shortTime: \"HH:mm\",\n    mediumTime: \"HH:mm:ss\",\n    longTime: \"HH:mm:ss.SSS\"\n};\nvar setGlobalDateMasks = function (masks) { return assign(globalMasks, masks); };\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nvar format = function (dateObj, mask, i18n) {\n    if (mask === void 0) { mask = globalMasks[\"default\"]; }\n    if (i18n === void 0) { i18n = {}; }\n    if (typeof dateObj === \"number\") {\n        dateObj = new Date(dateObj);\n    }\n    if (Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n        isNaN(dateObj.getTime())) {\n        throw new Error(\"Invalid Date pass to format\");\n    }\n    mask = globalMasks[mask] || mask;\n    var literals = [];\n    // Make literals inactive by replacing them with @@@\n    mask = mask.replace(literal, function ($0, $1) {\n        literals.push($1);\n        return \"@@@\";\n    });\n    var combinedI18nSettings = assign(assign({}, globalI18n), i18n);\n    // Apply formatting rules\n    mask = mask.replace(token, function ($0) {\n        return formatFlags[$0](dateObj, combinedI18nSettings);\n    });\n    // Inline literal values back into the formatted value\n    return mask.replace(/@@@/g, function () { return literals.shift(); });\n};\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(dateStr, format, i18n) {\n    if (i18n === void 0) { i18n = {}; }\n    if (typeof format !== \"string\") {\n        throw new Error(\"Invalid format in fecha parse\");\n    }\n    // Check to see if the format is actually a mask\n    format = globalMasks[format] || format;\n    // Avoid regular expression denial of service, fail early for really long strings\n    // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n    if (dateStr.length > 1000) {\n        return null;\n    }\n    // Default to the beginning of the year.\n    var today = new Date();\n    var dateInfo = {\n        year: today.getFullYear(),\n        month: 0,\n        day: 1,\n        hour: 0,\n        minute: 0,\n        second: 0,\n        millisecond: 0,\n        isPm: null,\n        timezoneOffset: null\n    };\n    var parseInfo = [];\n    var literals = [];\n    // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n    var newFormat = format.replace(literal, function ($0, $1) {\n        literals.push(regexEscape($1));\n        return \"@@@\";\n    });\n    var specifiedFields = {};\n    var requiredFields = {};\n    // Change every token that we find into the correct regex\n    newFormat = regexEscape(newFormat).replace(token, function ($0) {\n        var info = parseFlags[$0];\n        var field = info[0], regex = info[1], requiredField = info[3];\n        // Check if the person has specified the same field twice. This will lead to confusing results.\n        if (specifiedFields[field]) {\n            throw new Error(\"Invalid format. \" + field + \" specified twice in format\");\n        }\n        specifiedFields[field] = true;\n        // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n        if (requiredField) {\n            requiredFields[requiredField] = true;\n        }\n        parseInfo.push(info);\n        return \"(\" + regex + \")\";\n    });\n    // Check all the required fields are present\n    Object.keys(requiredFields).forEach(function (field) {\n        if (!specifiedFields[field]) {\n            throw new Error(\"Invalid format. \" + field + \" is required in specified format\");\n        }\n    });\n    // Add back all the literals after\n    newFormat = newFormat.replace(/@@@/g, function () { return literals.shift(); });\n    // Check if the date string matches the format. If it doesn't return null\n    var matches = dateStr.match(new RegExp(newFormat, \"i\"));\n    if (!matches) {\n        return null;\n    }\n    var combinedI18nSettings = assign(assign({}, globalI18n), i18n);\n    // For each match, call the parser function for that date part\n    for (var i = 1; i < matches.length; i++) {\n        var _a = parseInfo[i - 1], field = _a[0], parser = _a[2];\n        var value = parser\n            ? parser(matches[i], combinedI18nSettings)\n            : +matches[i];\n        // If the parser can't make sense of the value, return null\n        if (value == null) {\n            return null;\n        }\n        dateInfo[field] = value;\n    }\n    if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n        dateInfo.hour = +dateInfo.hour + 12;\n    }\n    else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n        dateInfo.hour = 0;\n    }\n    var dateWithoutTZ = new Date(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute, dateInfo.second, dateInfo.millisecond);\n    var validateFields = [\n        [\"month\", \"getMonth\"],\n        [\"day\", \"getDate\"],\n        [\"hour\", \"getHours\"],\n        [\"minute\", \"getMinutes\"],\n        [\"second\", \"getSeconds\"]\n    ];\n    for (var i = 0, len = validateFields.length; i < len; i++) {\n        // Check to make sure the date field is within the allowed range. Javascript dates allows values\n        // outside the allowed range. If the values don't match the value was invalid\n        if (specifiedFields[validateFields[i][0]] &&\n            dateInfo[validateFields[i][0]] !== dateWithoutTZ[validateFields[i][1]]()) {\n            return null;\n        }\n    }\n    if (dateInfo.timezoneOffset == null) {\n        return dateWithoutTZ;\n    }\n    return new Date(Date.UTC(dateInfo.year, dateInfo.month, dateInfo.day, dateInfo.hour, dateInfo.minute - dateInfo.timezoneOffset, dateInfo.second, dateInfo.millisecond));\n}\nvar fecha = {\n    format: format,\n    parse: parse,\n    defaultI18n: defaultI18n,\n    setGlobalDateI18n: setGlobalDateI18n,\n    setGlobalDateMasks: setGlobalDateMasks\n};\n\nexport default fecha;\nexport { assign, format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n//# sourceMappingURL=fecha.js.map\n","import { Shape } from '@antv/g';\nimport { dotProduct2D } from '../../math';\n\n/** 图形在水平或垂直方向抖开 */\nexport default function nodeJitter(shape: Shape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  if (index === nodes.length - 1) {\n    return;\n  }\n  const current = nodes[index];\n  const next = nodes[index + 1];\n  const { dir, distX, distY } = alignDirection(current, next);\n  const startPoint = shape.get('startPoint');\n  if (dir === 'x') {\n    shape.attr('y', startPoint.y + 20);\n  }\n}\n\nfunction alignDirection(nodeA, nodeB) {\n  let dir;\n  /** 计算两个node 中心点向量的角度 */\n  const vector = { x: nodeB.centerX - nodeA.centerX, y: nodeB.centerY - nodeA.centerY };\n  const mag = Math.sqrt(vector.x * vector.x + vector.y * vector.y);\n  const vector_horizontal = { x: 10, y: 0 }; // 水平方向向量\n  /*tslint:disable*/\n  const mag_horizontal = Math.sqrt(\n    vector_horizontal.x * vector_horizontal.x + vector_horizontal.y * vector_horizontal.y\n  );\n  const dot = dotProduct2D(vector, vector_horizontal);\n  let angle = ((dot / (mag * mag_horizontal)) * 180) / Math.PI;\n  if (angle < 0) angle = 360 - angle;\n  angle = adjustAngle(angle); // 将角度从0-360转换到0-90\n\n  /** 计算两个node在x、y两个方向上的距离 */\n  const distX = Math.abs(nodeA.centerX - nodeB.centerX);\n  const distY = Math.abs(nodeA.centerY - nodeB.centerY);\n\n  if (angle > 45) {\n    dir = 'x';\n  } else if (angle < 45) {\n    dir = 'y';\n  }\n\n  return { dir, distX, distY };\n}\n\nfunction adjustAngle(angle) {\n  if (angle > 90 && angle <= 180) {\n    return 180 - angle;\n  }\n  if (angle > 180 && angle < 270) {\n    return angle - 180;\n  }\n  return 360 - angle;\n}\n","import { Shape } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { isNodeOverlap } from './clear-overlapping';\n\n/** 图形向上抖开并拉线 */\n// todo 允许设置offset和拉线样式\nexport default function nodeJitterUpward(shape: Shape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  if (index === 0) {\n    return;\n  }\n  const current = nodes[index];\n  const previous = nodes[index - 1];\n  if (isNodeOverlap(current, previous)) {\n    const element = cfg.plot.plot.get('elements')[0];\n    const y = previous.top - current.height / 2;\n    const offset = 10;\n    if (y - offset > cfg.region.top) {\n      // 取到label对应的element-shape\n      const origin = current.shape.get('origin');\n      const shapeId = element.getShapeId(origin);\n      const shapes = element.getShapes();\n      const shapeBbox = getShapeById(shapeId, shapes).get('box');\n      const originX = shapeBbox.left + shapeBbox.width / 2;\n      const originY = shapeBbox.top;\n      // 拉线\n      const container = element.get('labelController').labelsContainer;\n      const labelLine = container.addShape('path', {\n        attrs: {\n          path: [\n            ['M', originX, originY],\n            ['L', current.shape.attr('x'), y],\n          ],\n          stroke: '#ccc',\n          lineWidth: 1,\n        },\n      });\n      /** 保存labelLine和label初始位置信息 */\n      const origin_position = { x: shape.attr('x'), y: shape.attr('y') };\n      // 更新标签位置，同步更新node\n      current.shape.attr('y', y - offset);\n      nodes[index] = cfg.nodes.measure(current.shape);\n      nodes[index].line = labelLine;\n      nodes[index].origin_position = origin_position;\n    }\n  }\n}\n\nfunction getShapeById(shapeId, shapes) {\n  let target;\n  _.each(shapes, (shape) => {\n    const s = shape as Shape;\n    const id = s.id;\n    if (id === shapeId) {\n      target = s;\n    }\n  });\n  return target;\n}\n","import { isKeep, NodesResamplingCfg } from './nodes-resampling';\nimport textHide from './text-hide';\n\nexport default function nodesResamplingByAbbrevate(shape, option: NodesResamplingCfg, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  if (isKeep(option.keep, index, nodes)) {\n    return;\n  }\n  {\n    const currentText = shape.attr('text');\n    const originText = shape.get('origin').text;\n    if (currentText !== originText) {\n      textHide(shape);\n    }\n  }\n}\n","import { Shape } from '@antv/g';\nimport * as _ from '@antv/util';\nimport textHide from './text-hide';\n\n/** 根据变化进行抽样，保留变化较大的点，类似于点简化算法 */\nexport default function nodesResamplingByChange(shape: Shape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  const tolerance = getGlobalTolerance(nodes);\n  if (index <= 1) {\n    return;\n  }\n  const current = nodes[index];\n  // const previous = nodes[index-1];\n  const previous = findPrevious(index, nodes);\n  const distX = previous.centerX - current.centerX;\n  const distY = previous.centerY - current.centerY;\n  const dist = Math.sqrt(distX * distX + distY * distY);\n  if (dist < tolerance) {\n    textHide(shape);\n    shape.set('blank', true);\n  }\n}\n\nfunction findPrevious(index, nodes) {\n  for (let i = index - 1; i > 0; i--) {\n    const node = nodes[i];\n    if (!node.shape.get('blank')) {\n      return node;\n    }\n  }\n}\n\nfunction getGlobalTolerance(nodes) {\n  const nodesClone = _.deepMix([], nodes);\n  nodesClone.sort((a, b) => {\n    return b.width - a.width;\n  });\n  return Math.round(nodesClone[0].width);\n}\n","import { Shape } from '@antv/g';\nimport * as _ from '@antv/util';\nimport textHide from './text-hide';\n\nexport default function nodesResamplingByState(shape: Shape, option, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  const current = nodes[index];\n  if (current.line) {\n    current.line.remove();\n  }\n\n  const data = cfg.plot.initialProps.data;\n  const field = cfg.plot[cfg.plot.type].label.fields[0];\n  const stateNodes = getStateNodes(data, field, nodes);\n\n  let isState = false;\n  _.each(stateNodes, (node) => {\n    // @ts-ignore\n    if (node.shape.get('origin') === current.shape.get('origin')) {\n      isState = true;\n    }\n  });\n  if (isState) {\n    if (current.origin_position) {\n      const { x, y } = current.origin_position;\n      shape.attr('x', x);\n      shape.attr('y', y);\n    }\n  } else {\n    textHide(shape);\n  }\n}\n\nfunction getStateNodes(data, field, nodes) {\n  const extract_data = [];\n  _.each(data, (d) => {\n    extract_data.push(d[field]);\n  });\n  extract_data.sort((a, b) => {\n    return a - b;\n  });\n  const min = extract_data[0];\n  const min_node = getNodeByNumber(nodes, field, min);\n  const max = extract_data[extract_data.length - 1];\n  const max_node = getNodeByNumber(nodes, field, max);\n  const median = getMedian(extract_data);\n  const median_node = getNodeByNumber(nodes, field, median);\n\n  return { min: min_node, max: max_node, median: median_node };\n}\n\nfunction getMedian(array) {\n  const list = _.clone(array);\n  list.sort((a, b) => {\n    return a - b;\n  });\n\n  const half = Math.floor(list.length / 2);\n\n  if (list.length % 2) {\n    return list[half];\n  }\n\n  return list[half];\n}\n\nfunction getNodeByNumber(nodes, field, num) {\n  for (const node of nodes) {\n    const d = node.shape.get('origin');\n    if (d[field] === num) {\n      return node;\n    }\n  }\n}\n","import { Shape } from '@antv/g';\n\nimport datetimeStringAbbrevaite, { isTime } from './datetime-string-abbrevaite';\nimport digitsAbbreviate from './digits-abbreviate';\nimport textAbbreviate from './text-abbreviate';\n\ninterface RobustAbbrevaiteCfg {\n  keep?: string[];\n  abbreviateBy?: 'start' | 'middle' | 'end';\n  unit?: 'k' | 'm' | 'b' | 't' | 'auto';\n  decimal?: number;\n}\n\nexport default function robustAbbrevaite(shape: Shape, option: RobustAbbrevaiteCfg, index, cfg) {\n  const nodes = cfg.nodes.nodes;\n  const text = shape.attr('text');\n  /** 判断text类型： 数字、时间、文本 */\n  const isnum = /^\\d+$/.test(text);\n  if (isnum) {\n    digitsAbbreviate(shape, option, index, nodes);\n  } else if (isTime(text)) {\n    datetimeStringAbbrevaite(shape, option, index, nodes);\n  } else {\n    textAbbreviate(shape, option);\n  }\n}\n","import { Shape } from '@antv/g';\n\ninterface TextRotationCfg {\n  degree: number;\n}\n\nexport default function textRotation(shape: Shape, option: TextRotationCfg) {\n  shape.resetMatrix();\n  shape.attr({\n    rotate: 360 - option.degree,\n    textAlign: 'right',\n    textBaseline: 'middle',\n  });\n}\n","import { Shape } from '@antv/g';\n\ninterface TextWrapperCfg {\n  lineNumber: number;\n}\n\nexport default function textWrapper(shape: Shape, option: TextWrapperCfg) {\n  const text = shape.attr('text');\n  const step = Math.ceil(text.length / option.lineNumber);\n  let wrapperText = '';\n  for (let i = 1; i < option.lineNumber; i++) {\n    const index = step * i;\n    wrapperText = `${text.slice(0, index)}\\n${text.slice(index)}`;\n  }\n  const fontSize = shape.attr('fontSize');\n  shape.attr({\n    text: wrapperText,\n    lineHeight: fontSize,\n    textAlign: 'center',\n    textBaseline: 'top',\n  });\n}\n","import * as _ from '@antv/util';\nimport ApplyResponsiveLabel from '../../../util/responsive/apply/label';\nimport LineLayer from '../layer';\n\nclass ApplyResponsiveLineLabel extends ApplyResponsiveLabel {\n  protected getType() {\n    const props = this.plot.options;\n    if (props.label && props.label.type) {\n      return props.label.type;\n    }\n    return 'point';\n  }\n}\n\nexport default function responsivePointLabel(layer: LineLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const applyResponsiveLineLabel = new ApplyResponsiveLineLabel({\n    plot: layer,\n    responsiveTheme,\n  });\n}\n","import * as _ from '@antv/util';\nimport { registerResponsiveTheme } from '../../../util/responsive/theme';\n\n/** 组装theme */\nconst lineTheme = {\n  label: {\n    point: {\n      constraints: [{ name: 'elementCollision' }],\n      rules: {\n        elementCollision: [{ name: 'nodesResamplingByChange' }, { name: 'clearOverlapping' }],\n      },\n    },\n  },\n};\nregisterResponsiveTheme('line', lineTheme);\n","import { Shape } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport _cloneDeep from '@antv/util/lib/clone';\nimport _each from '@antv/util/lib/each';\n// import verticalShatter from '../../../../util/layout/verticalShatter';\n\nconst MARGIN = 10;\n\nclass LineElementLabels extends ElementLabels {\n  public showLabels(points: any, shapes: Shape[]) {\n    const labelPoints = [];\n    _each(shapes, (shape) => {\n      const originData = shape.get('origin');\n      const lastPoint = _cloneDeep(originData[originData.length - 1]);\n      const bbox = shape.getBBox();\n      lastPoint.x = bbox.maxX + MARGIN;\n      labelPoints.push(lastPoint);\n    });\n    super.showLabels(labelPoints, shapes);\n    const renderer = this.get('labelsRenderer');\n    const field = this.get('labelOptions').fields[0];\n    const labels = renderer.get('group').get('children');\n    const view = this.get('element').get('view');\n    _each(labels, (label) => {\n      label.attr('textAlign', 'left');\n      label.attr('textBaseline', 'middle');\n      const origin = label.get('origin');\n      const shapeId = this.get('element').getShapeId(origin);\n      const color = this._adjustColor(shapeId, shapes);\n      label.attr('fill', color);\n    });\n    view.get('canvas').draw();\n  }\n\n  public _adjustColor(shapeId, shapes) {\n    let color;\n    _each(shapes, (shape) => {\n      const id = shape.id;\n      if (id === shapeId) {\n        color = shape.attr('stroke');\n      }\n    });\n    return color;\n  }\n}\n\nregisterElementLabels('line', LineElementLabels);\n","import { Shape } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\n\n// import layout from '../../../../util/layout/annealing';\n\ninterface Item {\n  /** 位置 */\n  x: number;\n  y: number;\n  /** 点位置 */\n  start: { x: number; y: number };\n  /** 文本内容 */\n  text: string;\n}\n\nclass LinePointLabels extends ElementLabels {\n  public showLabels(points: any, shapes: Shape[]) {\n    super.showLabels(points, shapes);\n    const renderer = this.get('labelsRenderer');\n    const labels = renderer.get('group').get('children');\n    const view = this.get('element').get('view');\n    const anchorsBBox = renderer.get('items').map((item: Item) => {\n      return {\n        x: item.start.x - 4,\n        y: item.start.y - 4,\n        width: 8,\n        height: 8,\n      };\n    });\n    /*layout(labels, anchorsBBox, view.get('panelRange'), {\n      nsweeps: 10,\n    });*/\n    view.get('canvas').draw();\n  }\n}\n\nregisterElementLabels('point', LinePointLabels);\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onLineClick: 'line:click',\n  onLineDoubleclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import LineActive from './line-active';\nimport LineSelect from './line-select';\n\nexport { LineActive, LineSelect };\n","import { Interaction } from '@antv/g2';\n\nexport default class LineActive extends Interaction {\n  constructor(cfg) {\n    super({\n      /** 没有用 line:mouseenter 和 line:mouseleave 事件，是因为可能在多条折线的情况下，从一条线滑动到另一条会同时触发process和reset，使画面出现闪动 */\n      processEvent: 'mousemove',\n      ...cfg,\n    });\n  }\n\n  public process(ev) {\n    const target = ev.target;\n    if (target.name === 'line') {\n      const data = ev.data[0]._origin;\n      this.view.setActive((obj) => {\n        return obj === data;\n      });\n    } else {\n      this.view.setActive(() => {\n        return false;\n      });\n    }\n  }\n}\n","import { Interaction } from '@antv/g2';\n\nexport default class LineSelect extends Interaction {\n  constructor(cfg) {\n    super({\n      endEvent: 'click',\n      ...cfg,\n    });\n  }\n\n  public end(ev) {\n    const target = ev.target;\n    if (target.name === 'line') {\n      const data = ev.data[0]._origin;\n      this.view.setInactive((obj) => {\n        return obj !== data;\n      });\n      // TODO： 设置z-index\n    } else {\n      this.view.setInactive(() => {\n        return false;\n      });\n      // TODO: 重置z-index\n    }\n  }\n}\n","import { registerTheme } from '../../theme';\n\nconst LINE_ACTIVE_STYLE = (style) => {\n  const lineWidth = style.lineWidth || 1;\n  return { lineWidth: lineWidth + 1 };\n};\n\nconst LINE_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.2 };\n};\n\nconst LINE_SELECTED_STYLE = (style) => {\n  const lineWidth = style.lineWidth || 1;\n  return { lineWidth: lineWidth + 2 };\n};\n\nregisterTheme('line', {\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE,\n  },\n  pointStyle: {\n    normal: {},\n    active: {},\n    disable: {},\n    selected: {},\n  },\n});\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport DensityLayer, { DensityViewConfig } from './layer';\n\nexport interface DensityConfig extends DensityViewConfig, PlotConfig {}\n\nexport default class Density extends BasePlot<DensityConfig> {\n  public static getDefaultOptions: typeof DensityLayer.getDefaultOptions = DensityLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'density';\n    super.createLayers(layerProps);\n  }\n}\n","import { DataPointType } from '@antv/g2/lib/interface';\nimport { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { sturges } from '../../util/math';\nimport Area, { AreaViewConfig } from '../area/layer';\nimport { DataItem } from '../../interface/config';\n\nexport interface DensityViewConfig extends AreaViewConfig {\n  binField: string;\n  binWidth?: number;\n  binNumber?: number;\n  kernel?: 'uniform' | 'triangle' | 'epanechnikov' | 'quartic' | 'triweight' | 'gaussian' | 'cosinus';\n}\n\nexport interface DensityLayerConfig extends DensityViewConfig, LayerConfig {}\n\nconst kernels = {\n  epanechnikov: (dist: number) => {\n    return Math.abs(dist) <= 1 ? 0.75 * (1 - dist * dist) : 0;\n  },\n  gaussian: (dist: number) => {\n    return (1 / Math.sqrt(Math.PI * 2)) * Math.exp(-0.5 * Math.pow(dist, 2));\n  },\n  uniform: (dist: number) => {\n    return Math.abs(dist) <= 1 ? 0.5 : 0;\n  },\n  triangle: (dist: number) => {\n    return Math.abs(dist) <= 1 ? 1 - Math.abs(dist) : 0;\n  },\n  quartic: (dist: number) => {\n    const v = 1 - dist * dist;\n    return Math.abs(dist) <= 1 ? (15 / 16) * v * v : 0;\n  },\n  triweight: (dist: number) => {\n    const v = 1 - dist * dist;\n    return Math.abs(dist) <= 1 ? (15 / 16) * Math.pow(v, 3) : 0;\n  },\n  cosinus: (dist: number) => {\n    const v = (Math.PI / 4) * Math.cos(0.5 * Math.PI * dist);\n    return Math.abs(dist) <= 1 ? v : 0;\n  },\n};\n\nexport default class DensityLayer<T extends DensityLayerConfig = DensityLayerConfig> extends Area<T> {\n  public type: string = 'density';\n\n  public init() {\n    const originXAxisConfig = this.options.xAxis ? _.clone(this.options.xAxis) : {};\n    this.options.xField = 'value';\n    this.options.yField = 'density';\n    this.options.xAxis = _.deepMix({}, originXAxisConfig, { type: 'linear' });\n    this.options.smooth = true;\n    super.init();\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const { binField, binWidth, binNumber, kernel } = this.options;\n    const _kernel = kernel ? kernel : 'epanechnikov';\n    const kernelFunc = kernels[_kernel];\n    const originDataCopy = _.clone(originData);\n    _.sortBy(originDataCopy, binField);\n    // 计算分箱，直方图分箱的计算基于binWidth，如配置了binNumber则将其转为binWidth进行计算\n    const values = _.valuesOfKey(originDataCopy, binField);\n    const range = _.getRange(values);\n    const rangeWidth = range.max - range.min;\n    let _binNumber = binNumber;\n    let _binWidth = binWidth;\n    if (!binNumber && binWidth) {\n      _binNumber = Math.floor(rangeWidth / binWidth);\n    }\n    if (!binWidth && binNumber) {\n      _binWidth = rangeWidth / binNumber;\n    }\n    // 当binWidth和binNumber都没有指定的情况，采用Sturges formula自动生成binWidth\n    if (!binNumber && !binWidth) {\n      _binNumber = sturges(values);\n      _binWidth = rangeWidth / binNumber;\n    }\n    // 根据binNumber获取samples\n    const LinearScale = getScale('linear');\n    const scale = new LinearScale({\n      min: range.min,\n      max: range.max,\n      tickCount: _binNumber,\n      nice: false,\n    });\n    const samples = scale.getTicks();\n    // 计算KDE\n    const densities = [];\n    _.each(samples, (s) => {\n      const density = this.kernelDensityEstimator(_binWidth, kernelFunc, s, values);\n      densities.push({ value: s.text, density });\n    });\n\n    return densities;\n  }\n\n  private kernelDensityEstimator(\n    binWidth: number,\n    kernelFunc: (dist: number) => number,\n    x: DataPointType,\n    values: number[]\n  ) {\n    let sum = 0;\n    _.each(values, (v) => {\n      const dist = (x.tickValue - v) / binWidth;\n      sum += kernelFunc(dist);\n    });\n    return values.length === 0 ? 0 : sum / values.length;\n  }\n}\n\nregisterPlotType('density', DensityLayer);\n","import responsiveAxis from './axis';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [{ name: 'responsiveAxis', method: responsiveAxis }];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import * as _ from '@antv/util';\nimport ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport AreaLayer from '../layer';\n\nexport default function responsiveAxis(layer: AreaLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  const x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  const y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { registerTheme } from '../../theme';\n\nconst AREA_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity };\n};\n\nconst AREA_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst LINE_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity };\n};\n\nconst LINE_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst LINE_SELECTED_STYLE = (style) => {\n  const lineWidth = style.lineWidth || 1;\n  return { lineWidth: lineWidth + 2 };\n};\n\nconst POINT_ACTIVE_STYLE = (style) => {\n  const color = style.fill || style.fillStyle;\n  const radius = style.size || style.radius;\n\n  return {\n    radius: radius + 1,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 1,\n  };\n};\n\nconst POINT_SELECTED_STYLE = (style) => {\n  const color = style.fill || style.fillStyle;\n  const radius = style.size || style.radius;\n\n  return {\n    radius: radius + 2,\n    shadowBlur: radius,\n    shadowColor: color,\n    stroke: color,\n    strokeOpacity: 1,\n    lineWidth: 2,\n  };\n};\n\nconst POINT_DISABLED_STYLE = (style) => {\n  const opacity = style.opacity || style.fillOpacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nregisterTheme('area', {\n  areaStyle: {\n    normal: {},\n    active: AREA_ACTIVE_STYLE,\n    disable: AREA_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: '#333333' },\n  },\n  lineStyle: {\n    normal: {},\n    active: LINE_ACTIVE_STYLE,\n    disable: LINE_DISABLE_STYLE,\n    selected: LINE_SELECTED_STYLE,\n  },\n  pointStyle: {\n    normal: {},\n    active: POINT_ACTIVE_STYLE,\n    disable: POINT_DISABLED_STYLE,\n    selected: POINT_SELECTED_STYLE,\n  },\n});\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport ColumnLayer, { ColumnViewConfig } from './layer';\n\nexport interface ColumnConfig extends ColumnViewConfig, PlotConfig {}\n\nexport default class Column extends BasePlot<ColumnConfig> {\n  public static getDefaultOptions: typeof ColumnLayer.getDefaultOptions = ColumnLayer.getDefaultOptions;\n\n  public createLayers(props: ColumnConfig) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'column';\n    super.createLayers(layerProps);\n  }\n}\n","import responsiveAxis from './axis';\nimport responsiveLabel from './label';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [\n  { name: 'responsiveAxis', method: responsiveAxis },\n  { name: 'responsiveLabel', method: responsiveLabel },\n];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import * as _ from '@antv/util';\nimport ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport ColumnLayer from '../layer';\n\nexport default function responsiveAxis(layer: ColumnLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  const x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  const y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","import * as _ from '@antv/util';\nimport ApplyResponsiveLabel from '../../../util/responsive/apply/label';\nimport ColumnLayer from '../layer';\n\nclass ApplyResponsiveColumnLabel extends ApplyResponsiveLabel {\n  protected getType() {\n    if (this.plot.column.label) {\n      if (!this.plot.column.label.position || this.plot.column.label.position === 'top') {\n        return 'top';\n      }\n    }\n    return 'inner';\n  }\n}\n\nexport default function responsivePointLabel(layer: ColumnLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const applyResponsiveColumnLabel = new ApplyResponsiveColumnLabel({\n    plot: layer,\n    responsiveTheme,\n  });\n}\n","import * as _ from '@antv/util';\nimport { registerResponsiveTheme } from '../../../util/responsive/theme';\n\n/** 组装theme */\nconst columnTheme = {\n  label: {\n    top: {\n      constraints: [{ name: 'elementCollision' }],\n      rules: {\n        elementCollision: [\n          { name: 'nodeJitterUpward' },\n          {\n            name: 'nodesResamplingByState',\n            option: {\n              keep: ['min', 'max', 'median'],\n            },\n          },\n          {\n            name: 'textHide',\n          },\n        ],\n      },\n    },\n  },\n};\n\nregisterResponsiveTheme('column', columnTheme);\n","import { registerTheme } from '../../theme';\n\nconst COLUMN_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst COLUMN_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5, fillOpacity: opacity * 0.5 };\n};\n\nregisterTheme('column', {\n  columnStyle: {\n    normal: {},\n    active: COLUMN_ACTIVE_STYLE,\n    disable: COLUMN_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: 'black' },\n  },\n});\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport BubbleLayer, { BubbleViewConfig } from './layer';\n\nexport interface BubbleConfig extends BubbleViewConfig, PlotConfig {}\n\nexport default class Bubble extends BasePlot<BubbleConfig> {\n  public static getDefaultOptions: typeof BubbleLayer.getDefaultOptions = BubbleLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'bubble';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport '../scatter/components/label/scatter-label';\nimport * as EventParser from '../scatter/event';\nimport ScatterLayer, { ScatterViewConfig } from '../scatter/layer';\n\nexport interface BubbleViewConfig extends ScatterViewConfig {\n  /** 气泡大小 */\n  pointSize?: [number, number];\n  /** 气泡大小字段 */\n  sizeField?: string;\n}\n\nexport interface BubbleLayerConfig extends BubbleViewConfig, LayerConfig {}\n\nexport default class BubbleLayer<T extends BubbleLayerConfig = BubbleLayerConfig> extends ScatterLayer<T> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      pointSize: [8, 58],\n      pointStyle: {\n        strokeOpacity: 1,\n        fillOpacity: 1,\n        opacity: 0.5,\n      },\n      label: {\n        position: 'middle',\n      },\n    });\n  }\n\n  public type: string = 'bubble';\n\n  protected legend() {\n    super.legend();\n    /** 取消气泡大小图例 */\n    this.setConfig('legends', {\n      fields: {\n        [this.options.sizeField]: false,\n      },\n    });\n  }\n\n  protected parseEvents() {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('bubble', BubbleLayer);\n","import { each, isArray, isFunction, deepMix } from '@antv/util';\nimport { Group, BBox } from '@antv/g';\nimport { View } from '@antv/g2';\n\ninterface ILabel {\n  position?: string;\n  text: string[] | Function;\n  offset?: number | Function;\n  style?: any;\n}\n\nexport interface QuadrantConfig {\n  visible?: boolean;\n  xBaseline?: number;\n  yBaseline?: number;\n  regionStyle: any[] | any;\n  lineStyle?: any;\n  label: ILabel;\n}\n\nexport interface IQuadrant extends QuadrantConfig {\n  view: View;\n  plotOptions: any;\n}\n\nexport default class Quadrant {\n  public options: IQuadrant;\n  protected view: View;\n  protected xBaseline: number = 0;\n  protected yBaseline: number = 0;\n  protected quadrantGroups: Group[] = [];\n  protected container: Group;\n  protected regionData: any[] = [];\n  protected lineData: any[] = [];\n\n  constructor(cfg: IQuadrant) {\n    this.options = cfg;\n    this.view = this.options.view;\n    this.init();\n  }\n\n  public init() {\n    const { xBaseline, yBaseline } = this.options;\n    const coord = this.view.get('coord');\n    // TODO: xBaseline和yBaseline支持百分比\n    // 根据xBaseline和yBaseline分割象限\n    const scales = this.view.get('scales');\n    const xScale = scales[this.options.plotOptions.xField];\n    const yScale = scales[this.options.plotOptions.yField];\n    // 先进行x方向的分割\n    let xRegion;\n    if (xBaseline > xScale.min && xBaseline < xScale.max) {\n      const ratio = (xBaseline - xScale.min) / (xScale.max - xScale.min);\n      xRegion = [\n        new BBox(coord.start.x, coord.end.y, coord.width * ratio, coord.height),\n        new BBox(coord.start.x + coord.width * ratio, coord.end.y, coord.width * (1 - ratio), coord.height),\n      ];\n      const verticalLineData = {\n        start: { x: coord.start.x + coord.width * ratio, y: coord.end.y },\n        end: { x: coord.start.x + coord.width * ratio, y: coord.start.y },\n      };\n      this.lineData.push(verticalLineData);\n    } else {\n      xRegion = new BBox(coord.start.x, coord.start.y, coord.width, coord.height);\n    }\n    // 再进行y方向的分割\n    if (yBaseline > yScale.min && yBaseline < yScale.max) {\n      const ratio = (yBaseline - yScale.min) / (yScale.max - yScale.min);\n      const horizontalLineData = {\n        start: { x: coord.start.x, y: coord.end.y + coord.height * ratio },\n        end: { x: coord.end.x, y: coord.end.y + coord.height * ratio },\n      };\n      this.lineData.push(horizontalLineData);\n      each(xRegion, (region, index) => {\n        const lastName = ['left', 'right'];\n        const upper = {\n          name: xRegion.length > 1 ? `top-${lastName[index]}` : 'top',\n          bbox: new BBox(region.minX, region.minY, region.width, region.height * ratio),\n        };\n        this.regionData.push(upper);\n        const lower = {\n          name: xRegion.length > 1 ? `bottom-${lastName[index]}` : 'bottom',\n          bbox: new BBox(region.minX, region.minY + region.height * ratio, region.width, region.height * (1 - ratio)),\n        };\n        this.regionData.push(lower);\n      });\n    } else if (xRegion.length === 2) {\n      const left = {\n        name: 'left',\n        bbox: xRegion[0],\n      };\n      this.regionData.push(left);\n      const right = {\n        name: 'right',\n        bbox: xRegion[1],\n      };\n      this.regionData.push(right);\n    }\n    // 创建container\n    this.container = this.view.get('backgroundGroup').addGroup();\n  }\n\n  public render() {\n    if (this.regionData.length > 0) {\n      const defaultStyle = this.getDefaultStyle();\n      const regionStyle = this.getRegionStyle(this.regionData);\n      each(this.regionData, (d, index) => {\n        const group = this.container.addGroup();\n        const rect = group.addShape('rect', {\n          attrs: {\n            x: d.bbox.minX,\n            y: d.bbox.minY,\n            width: d.bbox.width,\n            height: d.bbox.height,\n            ...regionStyle[index],\n          },\n          name: 'quadrant',\n        });\n        if (this.options.label && this.options.label.text) {\n          const labelOptions = deepMix({}, defaultStyle.label, this.options.label);\n          const labelCfg = this.getLabelConfig(d, labelOptions, index);\n          const label = group.addShape('text', {\n            attrs: {\n              ...labelCfg,\n            },\n          });\n        }\n        rect.setSilent('data', d);\n        this.quadrantGroups.push(group);\n      });\n\n      //绘制象限辅助线\n      const lineStyle = deepMix({}, defaultStyle.line, this.options.lineStyle);\n      each(this.lineData, (d) => {\n        this.container.addShape('path', {\n          attrs: {\n            path: [\n              ['M', d.start.x, d.start.y],\n              ['L', d.end.x, d.end.y],\n            ],\n            ...lineStyle,\n          },\n        });\n      });\n      this.view.get('canvas').draw();\n    }\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n  }\n\n  protected getDefaultStyle() {\n    return {\n      line: {\n        stroke: '#9ba29a',\n        lineWidth: 1,\n      },\n      region_2: [\n        { fill: '#000000', opacity: 0.05 },\n        { fill: '#ffffff', opacity: 0 },\n      ],\n      region_4: [\n        { fill: '#000000', opacity: 0.05 },\n        { fill: '#ffffff', opacity: 0 },\n        { fill: '#ffffff', opacity: 0 },\n        { fill: '#000000', opacity: 0.05 },\n      ],\n      label: {\n        position: 'outter-inner',\n        offset: 10,\n        style: {\n          fontSize: 14,\n          fill: '#ccc',\n          // fontWeight: 100\n        },\n      },\n    };\n  }\n\n  private getRegionStyle(regionData) {\n    const regionNum = regionData.length;\n    const defaultStyle = this.getDefaultStyle();\n    let style;\n    if (regionNum === 2) {\n      style = defaultStyle.region_2;\n    } else {\n      style = defaultStyle.region_4;\n    }\n    if (this.options.regionStyle) {\n      const { regionStyle } = this.options;\n      if (isArray(regionStyle)) {\n        style = style.map((s, index) => {\n          if (regionStyle.length >= index) {\n            return regionStyle[index];\n          }\n          return s;\n        });\n      } else if (isFunction(regionStyle)) {\n        each(regionData, (d, index) => {\n          style[index] = regionStyle(d);\n        });\n      }\n    }\n\n    return style;\n  }\n\n  private getLabelConfig(region, labelOptions, index) {\n    let x = 0;\n    let y = 0;\n    let style: any = {};\n    let text = labelOptions.text;\n    if (isFunction(text)) {\n      text = text(region);\n    } else if (isArray(text)) {\n      text = text[index];\n    }\n    const { position } = labelOptions;\n    const pos = position.split('-');\n    const dim = region.name.split('-');\n    // x方向\n    if (dim[1] === 'left') {\n      if (pos[0] === 'inner') {\n        x = region.bbox.maxX - labelOptions.offset;\n        style.textAlign = 'right';\n      }\n      if (pos[0] === 'outter') {\n        x = region.bbox.minX + labelOptions.offset;\n        style.textAlign = 'left';\n      }\n    } else if (dim[1] === 'right') {\n      if (pos[0] === 'inner') {\n        x = region.bbox.minX + labelOptions.offset;\n        style.textAlign = 'left';\n      }\n      if (pos[0] === 'outter') {\n        x = region.bbox.maxX - labelOptions.offset;\n        style.textAlign = 'right';\n      }\n    }\n    // y方向\n    if (dim[0] === 'top') {\n      if (pos[1] === 'inner') {\n        y = region.bbox.maxY - labelOptions.offset;\n        style.textBaseline = 'bottom';\n      }\n      if (pos[1] === 'outter') {\n        y = region.bbox.minY + labelOptions.offset;\n        style.textBaseline = 'top';\n      }\n    } else if (dim[0] === 'bottom') {\n      if (pos[1] === 'inner') {\n        y = region.bbox.minY + labelOptions.offset;\n        style.textBaseline = 'top';\n      }\n      if (pos[1] === 'outter') {\n        y = region.bbox.maxY - labelOptions.offset;\n        style.textBaseline = 'bottom';\n      }\n    }\n    style = deepMix({}, labelOptions.style, style);\n    style.lineHeight = style.fontSize;\n    return {\n      x,\n      y,\n      text,\n      ...style,\n    };\n  }\n}\n","import { each, deepMix, minBy, maxBy, isNull } from '@antv/util';\nimport { Group, BBox, Shape } from '@antv/g';\nimport { View } from '@antv/g2';\nimport { getScale } from '@antv/scale';\nimport {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\n\nimport { getSplinePath } from '../../../util/path';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\nexport interface TrendlineConfig {\n  visible?: boolean;\n  type?: string;\n  style?: any;\n  showConfidence?: boolean;\n  confidenceStyle?: any;\n}\n\nexport interface ITrendline extends TrendlineConfig {\n  view: View;\n  plotOptions: any;\n}\n\nfunction se95(p, n) {\n  return Math.sqrt((p * (1 - p)) / n) * 1.96;\n}\n\nexport default class Quadrant {\n  public data: { trendlineData: any[]; confidenceData: any[] };\n  protected options: any;\n  protected view: View;\n  protected container: Group;\n  protected shape: Shape;\n\n  constructor(cfg: ITrendline) {\n    const defaultOptions = {\n      type: 'linear',\n      style: {\n        stroke: '#9ba29a',\n        lineWidth: 2,\n        opacity: 0.5,\n        lineJoin: 'round',\n        lineCap: 'round',\n      },\n      showConfidence: false,\n      confidenceStyle: {\n        fill: '#ccc',\n        opacity: 0.1,\n      },\n    };\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.init();\n  }\n\n  public init() {\n    // 处理数据\n    const { xField, yField, data } = this.options.plotOptions;\n    const reg = REGRESSION_MAP[this.options.type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    this.data = this.processData(reg(data));\n    // 创建container\n    this.container = this.view.get('backgroundGroup').addGroup();\n  }\n\n  public render() {\n    const scales = this.view.get('scales');\n    const xscale_view = scales[this.options.plotOptions.xField];\n    const yscale_view = scales[this.options.plotOptions.yField];\n    const coord = this.view.get('coord');\n    const { trendlineData } = this.data;\n    // 创建图形绘制的scale\n    const LinearScale = getScale('linear');\n    const xRange = this.adjustScale(xscale_view, trendlineData, 'x');\n    const xScale = new LinearScale({\n      min: xRange.min,\n      max: xRange.max,\n      nice: xscale_view.nice,\n    });\n    const yRange = this.adjustScale(yscale_view, trendlineData, 'y');\n    const yScale = new LinearScale({\n      min: yRange.min,\n      max: yRange.max,\n      nice: yscale_view.nice,\n    });\n    // 绘制置信区间曲线\n    if (this.options.showConfidence) {\n      const confidencePath = this.getConfidencePath(xScale, yScale, coord);\n      this.container.addShape('path', {\n        attrs: {\n          path: confidencePath,\n          ...this.options.confidenceStyle,\n        },\n      });\n    }\n    // 绘制trendline\n    const points = this.getTrendlinePoints(xScale, yScale, coord);\n    const constraint = [\n      [0, 0],\n      [1, 1],\n    ];\n    const path = getSplinePath(points, false, constraint);\n    this.shape = this.container.addShape('path', {\n      attrs: {\n        path,\n        ...this.options.style,\n      },\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.destroy();\n    }\n  }\n\n  private processData(data) {\n    const trendline = [];\n    const confidence = [];\n    each(data, (d) => {\n      trendline.push({ x: d[0], y: d[1] });\n      const conf = se95(data.rSquared, d[1]);\n      confidence.push({ x: d[0], y0: d[1] - conf, y1: d[1] + conf });\n    });\n    return { trendlineData: trendline, confidenceData: confidence };\n  }\n\n  private getTrendlinePoints(xScale, yScale, coord) {\n    const points = [];\n    each(this.data.trendlineData, (d) => {\n      const xRatio = xScale.scale(d.x);\n      const yRatio = yScale.scale(d.y);\n      const x = coord.start.x + coord.width * xRatio;\n      const y = coord.start.y - coord.height * yRatio;\n      points.push({ x, y });\n    });\n    return points;\n  }\n\n  private getConfidencePath(xScale, yScale, coord) {\n    const upperPoints = [];\n    const lowerPoints = [];\n    const path = [];\n    each(this.data.confidenceData, (d) => {\n      const xRatio = xScale.scale(d.x);\n      const y0Ratio = yScale.scale(d.y0);\n      const y1Ratio = yScale.scale(d.y1);\n      const x = coord.start.x + coord.width * xRatio;\n      const y0 = coord.start.y - coord.height * y0Ratio;\n      const y1 = coord.start.y - coord.height * y1Ratio;\n      upperPoints.push({ x, y: y0 });\n      lowerPoints.push({ x, y: y1 });\n    });\n    for (let i = 0; i < upperPoints.length; i++) {\n      const flag = i === 0 ? 'M' : 'L';\n      const p = upperPoints[i];\n      if (!isNaN(p.x) && !isNaN(p.y)) {\n        path.push([flag, p.x, p.y]);\n      }\n    }\n    for (let j = lowerPoints.length - 1; j > 0; j--) {\n      const p = lowerPoints[j];\n      if (!isNaN(p.x) && !isNaN(p.y)) {\n        path.push(['L', p.x, p.y]);\n      }\n    }\n    return path;\n  }\n\n  private adjustScale(viewScale, trendlineData, dim) {\n    // 处理用户自行配置min max的情况\n    const { min, max } = viewScale;\n    const { data, xField, yField } = this.options.plotOptions;\n    const field = dim === 'x' ? xField : yField;\n    const dataMin = minBy(data, field)[field];\n    const dataMax = maxBy(data, field)[field];\n    const minRatio = (min - dataMin) / (dataMax - dataMin);\n    const maxRatio = (max - dataMax) / (dataMax - dataMin);\n    const trendMin = minBy(trendlineData, dim)[dim];\n    const trendMax = maxBy(trendlineData, dim)[dim];\n    return {\n      min: trendMin + minRatio * (trendMax - trendMin),\n      max: trendMax + maxRatio * (trendMax - trendMin),\n    };\n  }\n}\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport ScatterLayer, { ScatterViewConfig } from './layer';\n\nexport interface ScatterConfig extends ScatterViewConfig, PlotConfig {}\n\nexport default class Scatter extends BasePlot<ScatterConfig> {\n  public static getDefaultOptions: typeof ScatterLayer.getDefaultOptions = ScatterLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'scatter';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport GroupColumnLayer, { GroupColumnViewConfig } from './layer';\n\nexport interface GroupColumnConfig extends GroupColumnViewConfig, PlotConfig {}\n\nexport default class GroupColumn extends BasePlot<GroupColumnConfig> {\n  public static getDefaultOptions: typeof GroupColumnLayer.getDefaultOptions = GroupColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'groupColumn';\n    super.createLayers(layerProps);\n  }\n}\n","import { deepMix } from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { ElementOption } from '../../interface/config';\nimport BaseColumnLayer, { ColumnViewConfig } from '../column/layer';\n\nexport interface GroupColumnViewConfig extends ColumnViewConfig {\n  groupField: string;\n}\n\nexport interface GroupColumnLayerConfig extends GroupColumnViewConfig, LayerConfig {}\n\nexport default class GroupColumnLayer extends BaseColumnLayer<GroupColumnLayerConfig> {\n  public static getDefaultOptions(): Partial<GroupColumnViewConfig> {\n    return deepMix({}, super.getDefaultOptions(), {\n      yAxis: {\n        title: {\n          visible: true,\n        },\n      },\n    });\n  }\n  public type: string = 'groupColumn';\n  public getResponsiveTheme() {\n    return this.themeController.getResponsiveTheme('column');\n  }\n\n  protected addGeometry() {\n    super.addGeometry();\n  }\n\n  protected adjustColumn(column: ElementOption) {\n    column.adjust = [\n      {\n        type: 'dodge',\n        marginRatio: 0.1,\n      },\n    ];\n  }\n}\n\nregisterPlotType('groupColumn', GroupColumnLayer);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport StackColumnLayer, { StackColumnViewConfig } from './layer';\n\nexport interface StackColumnConfig extends StackColumnViewConfig, PlotConfig {}\n\nexport default class StackColumn extends BasePlot<StackColumnConfig> {\n  public static getDefaultOptions: typeof StackColumnLayer.getDefaultOptions = StackColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'stackColumn';\n    super.createLayers(layerProps);\n  }\n}\n","/**\n * 区域连接组件，用于堆叠柱状图和堆叠条形图\n */\nimport { Group, Shape, Shapes } from '@antv/g';\nimport { View } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { compare } from '../base/controller/state';\n\nfunction parsePoints(shape) {\n  const parsedPoints = [];\n  const coord = shape.get('coord');\n  const points = shape.get('origin').points;\n  _.each(points, (p) => {\n    parsedPoints.push(coord.convertPoint(p));\n  });\n  return parsedPoints;\n}\n\nfunction getDefaultStyle() {\n  return {\n    areaStyle: {\n      opacity: 0.2,\n    },\n    lineStyle: {\n      lineWidth: 2,\n      opacity: 0.1,\n    },\n  };\n}\n\nexport default class ConnectedArea {\n  private view: View;\n  private container: Group;\n  private field: string; // 堆叠字段\n  private areas: Shape[] = [];\n  private lines: Shape[] = [];\n  private areaStyle: any;\n  private _areaStyle: any = {};\n  private lineStyle: any;\n  private _lineStyle: any = {};\n  private triggerOn: string;\n  private animation: boolean;\n\n  constructor(cfg) {\n    _.assign(this, cfg);\n    this._init();\n  }\n\n  public draw() {\n    const groupedShapes = this._getGroupedShapes();\n    _.each(groupedShapes, (shapes, name) => {\n      if (shapes.length > 0) {\n        this._drawConnection(shapes, name);\n      }\n    });\n    if (this.triggerOn) {\n      this._addInteraction();\n    } else if (this.animation) {\n      // 如果定义了triggerOn的方式，则组件是响应交互的，初始化为不可见状态，因此无需动画\n      this._initialAnimation();\n    }\n  }\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n    this.areas = [];\n    this.lines = [];\n  }\n\n  public destory() {\n    if (this.container) {\n      this.container.remove();\n    }\n  }\n\n  public setState(state, condition) {\n    if (state === 'active') {\n      this._onActive(condition);\n    }\n    if (state === 'disabled') {\n      this._onDisabled(condition);\n    }\n    if (state === 'selected') {\n      this._onSelected(condition);\n    }\n  }\n\n  private _init() {\n    const layer = this.view.get('backgroundGroup');\n    this.container = layer.addGroup();\n    this.draw();\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n  }\n\n  private _getGroupedShapes() {\n    // 根据堆叠字段对shape进行分组\n    const { values } = this.view.get('scales')[this.field];\n    const geometry = this.view.get('elements')[0];\n    const shapes = geometry.getShapes();\n    // 创建分组\n    const groups = {};\n    _.each(values, (v) => {\n      groups[v] = [];\n    });\n    // 执行分组\n    _.each(shapes, (shape) => {\n      const origin = shape.get('origin')._origin;\n      const key = origin[this.field];\n      groups[key].push(shape);\n    });\n    return groups;\n  }\n\n  private _drawConnection(shapes, name) {\n    // tslint:disable-next-line: prefer-for-of\n    const originColor = shapes[0].attr('fill');\n    this._areaStyle[name] = this._getShapeStyle(originColor, 'area');\n    this._lineStyle[name] = this._getShapeStyle(originColor, 'line');\n    for (let i = 0; i < shapes.length - 1; i++) {\n      const current = parsePoints(shapes[i]);\n      const next = parsePoints(shapes[i + 1]);\n      const areaStyle = _.mix({}, this._areaStyle[name]);\n      const lineStyle = _.mix({}, this._lineStyle[name]);\n      if (this.triggerOn) {\n        areaStyle.opacity = 0;\n        lineStyle.opacity = 0;\n      }\n      const area = this.container.addShape('path', {\n        attrs: _.mix({} as any, areaStyle, {\n          path: [\n            ['M', current[2].x, current[2].y],\n            ['L', next[1].x, next[1].y],\n            ['L', next[0].x, next[0].y],\n            ['L', current[3].x, current[3].y],\n          ],\n        }),\n        name: 'connectedArea',\n      });\n      const line = this.container.addShape('path', {\n        attrs: _.mix({} as any, lineStyle, {\n          path: [\n            ['M', current[2].x, current[2].y],\n            ['L', next[1].x, next[1].y],\n          ],\n          // stroke: shapes[i].attr('fill'),\n        }),\n        name: 'connectedArea',\n      });\n      // 在辅助图形上记录数据，用以交互和响应状态量\n      const originData = shapes[i].get('origin')._origin;\n      area.set('data', originData);\n      line.set('data', originData);\n      this.areas.push(area);\n      this.lines.push(line);\n    }\n  }\n\n  private _getShapeStyle(originColor, shapeType) {\n    const styleName = `${shapeType}Style`;\n    // 如果用户自己指定了样式，则不采用默认颜色映射\n    if (this[styleName]) {\n      return this[styleName];\n    }\n    const defaultStyle = getDefaultStyle()[styleName];\n    let mappedStyle: any = { fill: originColor };\n    if (shapeType === 'line') {\n      mappedStyle = { stroke: originColor };\n    }\n\n    return _.mix(defaultStyle, mappedStyle);\n  }\n\n  private _addInteraction() {\n    const eventName = this.triggerOn;\n    this.view.on(`interval:${eventName}`, (e) => {\n      const origin = e.target.get('origin')._origin[this.field];\n      this.setState('active', {\n        name: this.field,\n        exp: origin,\n      });\n      this.setState('disabled', {\n        name: this.field,\n        exp: (d) => {\n          return d !== origin;\n        },\n      });\n      this.view.get('canvas').draw();\n    });\n    // 当鼠标移动到其他区域时取消显示\n    this.view.on('mousemove', (e) => {\n      if (e.target.name !== 'interval') {\n        this.setState('disabled', {\n          name: this.field,\n          exp: () => {\n            return true;\n          },\n        });\n      }\n    });\n  }\n\n  private _initialAnimation() {\n    // clipIn动画\n    const { start, end, width, height } = this.view.get('coord');\n    const clipRect = new Shapes.Rect({\n      attrs: {\n        x: start.x,\n        y: end.y,\n        width: 0,\n        height,\n      },\n    });\n    this.container.attr('clip', clipRect);\n    this.container.setSilent('animating', true);\n    clipRect.animate(\n      {\n        width,\n      },\n      600,\n      'easeQuadOut',\n      () => {},\n      400\n    );\n  }\n\n  private _onActive(condition) {\n    _.each(this.areas, (area) => {\n      const shapeData = area.get('data');\n      const styleField = shapeData[this.field];\n      if (compare(shapeData, condition)) {\n        const opacity = this._areaStyle[styleField].opacity || 1;\n        // area.attr('opacity',this._areaStyle[styleField].opacity || 1);\n        area.stopAnimate();\n        area.animate({ opacity }, 400, 'easeQuadOut');\n      }\n    });\n    _.each(this.lines, (line) => {\n      const shapeData = line.get('data');\n      const styleField = shapeData[this.field];\n      if (compare(shapeData, condition)) {\n        const opacity = this._lineStyle[styleField].opacity || 1;\n        // line.attr('opacity',this._lineStyle[styleField].opacity || 1);\n        line.stopAnimate();\n        line.animate({ opacity }, 400, 'easeQuadOut');\n      }\n    });\n  }\n\n  private _onDisabled(condition) {\n    _.each(this.areas, (area) => {\n      const shapeData = area.get('data');\n      if (compare(shapeData, condition)) {\n        // area.attr('opacity',0);\n        area.stopAnimate();\n        area.animate(\n          {\n            opacity: 0,\n          },\n          400,\n          'easeQuadOut'\n        );\n      }\n    });\n    _.each(this.lines, (line) => {\n      const shapeData = line.get('data');\n      if (compare(shapeData, condition)) {\n        // line.attr('opacity',0);\n        line.stopAnimate();\n        line.animate(\n          {\n            opacity: 0,\n          },\n          400,\n          'easeQuadOut'\n        );\n      }\n    });\n  }\n\n  private _onSelected(condition) {\n    this._onActive(condition);\n  }\n}\n","import { registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { ColumnLabels } from '../../../column/component/label/column-label';\n\nclass StackColumnLabels extends ColumnLabels {\n  public adjustPosition(label, shape) {\n    const labelRange = label.getBBox();\n    const shapeRange = shape.getBBox();\n    if (shapeRange.height <= labelRange.height) {\n      label.attr('opacity', 0);\n      label.attr('fillOpacity', 0);\n      label.attr('strokeOpacity', 0);\n      label.set('capture', false);\n    }\n  }\n}\n\nregisterElementLabels('stackColumnLabel', StackColumnLabels);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport PercentageStackColumnLayer, { PercentageStackColumnLayerConfig } from './layer';\n\nexport interface PercentageStackColumnConfig extends PercentageStackColumnLayerConfig, PlotConfig {}\n\nexport default class PercentageStackColumn<\n  T extends PercentageStackColumnConfig = PercentageStackColumnConfig\n> extends BasePlot<T> {\n  public static getDefaultOptions: typeof PercentageStackColumnLayer.getDefaultOptions =\n    PercentageStackColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'percentageStackColumn';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport StackColumn, { StackColumnViewConfig } from '../stack-column/layer';\nimport { transformDataPercentage } from '../../util/data';\nimport { DataItem } from '../../interface/config';\n\nexport type PercentageStackColumnViewConfig = StackColumnViewConfig;\nexport interface PercentageStackColumnLayerConfig extends PercentageStackColumnViewConfig, LayerConfig {}\n\nexport default class PercentageStackColumnLayer extends StackColumn<PercentageStackColumnLayerConfig> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      label: {\n        visible: true,\n        position: 'middle',\n        offset: 0,\n      },\n      yAxis: {\n        visible: true,\n        tick: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n        title: {\n          visible: true,\n        },\n        label: {\n          visible: false,\n        },\n      },\n    });\n  }\n  public type: string = 'percentageStackColumn';\n\n  protected processData(originData?: DataItem[]) {\n    const { xField, yField } = this.options;\n    return transformDataPercentage(originData || [], xField, [yField]);\n  }\n\n  protected scale() {\n    const metaConfig = {};\n    const { yField } = this.options;\n    metaConfig[yField] = {\n      tickCount: 6,\n      alias: `${yField} (%)`,\n      min: 0,\n      max: 1,\n      formatter: (v) => {\n        const formattedValue = (v * 100).toFixed(1);\n        return `${formattedValue}%`;\n      },\n    };\n    this.options.meta = metaConfig;\n    super.scale();\n  }\n}\n\nregisterPlotType('percentageStackColumn', PercentageStackColumnLayer);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport HistogramLayer, { HistogramViewConfig } from './layer';\n\nexport interface HistogramConfig extends HistogramViewConfig, PlotConfig {}\n\nexport default class Histogram extends BasePlot<HistogramConfig> {\n  public static getDefaultOptions: typeof HistogramLayer.getDefaultOptions = HistogramLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'histogram';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { sturges } from '../../util/math';\nimport Column, { ColumnViewConfig } from '../column/layer';\nimport { DataItem } from '../../interface/config';\n\nexport interface HistogramViewConfig extends ColumnViewConfig {\n  binField: string;\n  binWidth?: number;\n  binNumber?: number;\n}\n\nexport interface HistogramLayerConfig extends HistogramViewConfig, LayerConfig {}\n\nexport default class HistogramLayer extends Column<HistogramLayerConfig> {\n  public type: string = 'histogram';\n\n  public init() {\n    this.options.xField = 'range';\n    this.options.yField = 'count';\n    super.init();\n  }\n\n  protected processData(originData?: DataItem[]) {\n    const { binField, binWidth, binNumber } = this.options;\n    const originData_copy = _.clone(originData);\n    // 根据binField value对源数据进行排序\n    _.sortBy(originData_copy, binField);\n    // 获取源数据binField values的range\n    const values = _.valuesOfKey(originData_copy, binField);\n    const range = _.getRange(values);\n    const rangeWidth = range.max - range.min;\n    // 计算分箱，直方图分箱的计算基于binWidth，如配置了binNumber则将其转为binWidth进行计算\n    let _binWidth = binWidth;\n    if (!binWidth && binNumber) {\n      _binWidth = rangeWidth / binNumber;\n    }\n    // 当binWidth和binNumber都没有指定的情况，采用Sturges formula自动生成binWidth\n    if (!binWidth && !binNumber) {\n      const _defaultBinNumber = sturges(values);\n      _binWidth = rangeWidth / _defaultBinNumber;\n    }\n    const bins = {};\n    _.each(originData_copy, (data) => {\n      const value = data[binField];\n      const bin = this.getBin(value, _binWidth);\n      const binName = `${bin[0]}-${bin[1]}`;\n      if (!_.hasKey(bins, binName)) {\n        bins[binName] = { name: binName, range: bin, count: 0, data: [] };\n      }\n      bins[binName].data.push(data);\n      bins[binName].count += 1;\n    });\n    // 将分箱数据转换为plotData\n    const plotData = [];\n    _.each(bins, (bin) => {\n      plotData.push(bin);\n    });\n    return plotData;\n  }\n\n  protected scale() {\n    super.scale();\n    // fixme: 类型定义\n    const range = this.config.scales.range as any;\n    range.nice = false;\n    range.type = 'linear';\n  }\n\n  private getBin(value, binWidth) {\n    const index = Math.floor(value / binWidth);\n    return [binWidth * index, binWidth * (index + 1)];\n  }\n}\n\nregisterPlotType('histogram', HistogramLayer);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport BarLayer, { BarViewConfig } from './layer';\n\nexport interface BarConfig extends BarViewConfig, PlotConfig {}\n\nexport default class Bar extends BasePlot<BarConfig> {\n  public static getDefaultOptions: typeof BarLayer.getDefaultOptions = BarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'bar';\n    super.createLayers(layerProps);\n  }\n}\n","import responsiveAxis from './axis';\n\nconst preRenderResponsive = [];\n\nconst afterRenderResponsive = [{ name: 'responsiveAxis', method: responsiveAxis }];\n\nexport default {\n  preRender: preRenderResponsive,\n  afterRender: afterRenderResponsive,\n};\n","import * as _ from '@antv/util';\nimport ApplyResponsiveAxis from '../../../util/responsive/apply/axis';\nimport BarLayer from '../layer';\n\nexport default function responsiveAxis(layer: BarLayer) {\n  const responsiveTheme = layer.getResponsiveTheme();\n  const canvas = layer.canvas;\n  // x-axis\n  const x_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'x',\n  });\n  // y-axis\n  const y_responsiveAxis = new ApplyResponsiveAxis({\n    plot: layer,\n    responsiveTheme,\n    dim: 'y',\n  });\n\n  canvas.draw();\n}\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onBarClick: 'interval:click',\n  onBarDblclick: 'interval:dblclick',\n  onBarMousemove: 'interval:mousemove',\n  onBarMouseenter: 'interval:mouseenter',\n  onBarMouseleave: 'interval:mouseleave',\n  onBarMousedown: 'interval:mousedown',\n  onBarMouseup: 'interval:mouseup',\n  onBarContextmenu: 'interval:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { registerTheme } from '../../theme';\n\nconst BAR_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst BAR_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nregisterTheme('bar', {\n  columnStyle: {\n    normal: {},\n    active: BAR_ACTIVE_STYLE,\n    disable: BAR_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: 'black' },\n  },\n});\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport StackBarLayer, { StackBarViewConfig } from './layer';\n\nexport interface StackBarConfig extends StackBarViewConfig, PlotConfig {}\n\nexport default class StackBar extends BasePlot<StackBarConfig> {\n  public static getDefaultOptions: typeof StackBarLayer.getDefaultOptions = StackBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'stackBar';\n    super.createLayers(layerProps);\n  }\n}\n","import { Shape } from '@antv/g';\nimport { registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { BarLabels } from '../../../bar/component/label/bar-label';\n\nclass StackBarLabels extends BarLabels {\n  public adjustPosition(label, shape) {\n    const labelRange = label.getBBox();\n    const shapeRange = shape.getBBox();\n    if (shapeRange.width <= labelRange.width) {\n      label.attr('opacity', 0);\n      label.attr('fillOpacity', 0);\n      label.attr('strokeOpacity', 0);\n      label.set('capture', false);\n    }\n  }\n}\n\nregisterElementLabels('stackBarLabel', StackBarLabels);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport PercentageStackBarLayer, { PercentageStackBarLayerConfig } from './layer';\n\nexport interface PercentageStackBarConfig extends PercentageStackBarLayerConfig, PlotConfig {}\n\nexport default class PercentageStackBar<T extends PercentageStackBarConfig = PercentageStackBarConfig> extends BasePlot<\n  T\n> {\n  public static getDefaultOptions: typeof PercentageStackBarLayer.getDefaultOptions =\n    PercentageStackBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'percentageStackBar';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport StackBar, { StackBarViewConfig } from '../stack-bar/layer';\nimport { DataItem } from '../../interface/config';\nimport { transformDataPercentage } from '../../util/data';\n\nexport type PercentageStackBarViewConfig = StackBarViewConfig;\nexport interface PercentageStackBarLayerConfig extends PercentageStackBarViewConfig, LayerConfig {}\n\nexport default class PercentageStackBarLayer extends StackBar<PercentageStackBarLayerConfig> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: false,\n        },\n        title: {\n          visible: true,\n          formatter: (v) => `${v} (%)`,\n        },\n        label: {\n          visible: false,\n          formatter: (v) => {\n            const reg = /%/gi;\n            return v.replace(reg, '');\n          },\n        },\n      },\n    });\n  }\n  public type: string = 'percentageStackBar';\n\n  protected processData(originData?: DataItem[]) {\n    const { xField, yField } = this.options;\n    const processData = super.processData(originData);\n\n    return transformDataPercentage(processData, yField, [xField]);\n  }\n\n  protected scale() {\n    const metaConfig = {};\n    const { xField } = this.options;\n    metaConfig[xField] = {\n      tickCount: 6,\n      alias: `${xField} (%)`,\n      min: 0,\n      max: 1,\n      formatter: (v) => {\n        const formattedValue = (v * 100).toFixed(1);\n        return `${formattedValue}%`;\n      },\n    };\n    this.options.meta = metaConfig;\n    super.scale();\n  }\n}\n\nregisterPlotType('percentageStackBar', PercentageStackBarLayer);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport GroupBarLayer, { GroupBarViewConfig } from './layer';\n\nexport interface GroupBarConfig extends GroupBarViewConfig, PlotConfig {}\n\nexport default class GroupBar extends BasePlot<GroupBarConfig> {\n  public static getDefaultOptions: typeof GroupBarLayer.getDefaultOptions = GroupBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'groupBar';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { ElementOption, timeIntervals } from '../../interface/config';\nimport BaseBarLayer, { BarViewConfig } from '../bar/layer';\n\nexport interface GroupBarViewConfig extends BarViewConfig {\n  groupField: string;\n}\n\nexport interface GroupBarLayerConfig extends GroupBarViewConfig, LayerConfig {}\n\nexport default class GroupBarLayer extends BaseBarLayer<GroupBarLayerConfig> {\n  public static getDefaultOptions(): Partial<GroupBarViewConfig> {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        grid: {\n          visible: true,\n        },\n      },\n      yAxis: {\n        visible: true,\n        title: {\n          visible: false,\n        },\n      },\n      label: {\n        visible: true,\n        position: 'right',\n        offset: 8,\n        adjustColor: true,\n      },\n      legend: {\n        visible: true,\n        position: 'right-top',\n      },\n    });\n  }\n\n  public type: string = 'groupBar';\n\n  public afterRender() {\n    super.afterRender();\n    const names = _.valuesOfKey(this.options.data, this.options.groupField);\n    this.view.on('tooltip:change', (e) => {\n      const { items } = e;\n      const origin_items = _.clone(items);\n      for (let i = 0; i < names.length; i++) {\n        const name = names[i];\n        for (let j = 0; j < origin_items.length; j++) {\n          const item = origin_items[j];\n          if (item.name === name) {\n            e.items[i] = item;\n          }\n        }\n      }\n    });\n  }\n\n  protected scale() {\n    const defaultMeta = {};\n    defaultMeta[this.options.groupField] = {\n      values: _.valuesOfKey(this.options.data, this.options.groupField),\n    };\n    if (!this.options.meta) {\n      this.options.meta = defaultMeta;\n    } else {\n      this.options.meta = _.deepMix({}, this.options.meta, defaultMeta);\n    }\n    super.scale();\n  }\n\n  protected adjustBar(bar: ElementOption) {\n    bar.adjust = [\n      {\n        type: 'dodge',\n        marginRatio: 0.1,\n      },\n    ];\n  }\n}\n\nregisterPlotType('groupBar', GroupBarLayer);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RangeBarLayer, { RangeBarViewConfig } from './layer';\n\nexport interface RangeBarConfig extends RangeBarViewConfig, PlotConfig {}\n\nexport default class RangeBar extends BasePlot<RangeBarConfig> {\n  public static getDefaultOptions: typeof RangeBarLayer.getDefaultOptions = RangeBarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'rangeBar';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport BaseBarLayer, { BarViewConfig } from '../bar/layer';\nimport RangeBarLabel, { RangeBarLabelConfig } from './component/label';\nimport { setShapeCache } from './animation';\n\nexport interface RangeBarViewConfig extends BarViewConfig {\n  label: RangeBarLabelConfig;\n}\n\nexport interface RangeBarLayerConfig extends RangeBarViewConfig, LayerConfig {}\n\nexport default class RangeBarLayer extends BaseBarLayer<RangeBarLayerConfig> {\n  public static getDefaultOptions(): Partial<RangeBarViewConfig> {\n    return _.deepMix(\n      super.getDefaultOptions(),\n      {\n        label: {\n          visible: true,\n          position: 'outer',\n        },\n        xAxis: {\n          visible: true,\n          autoHideLabel: false,\n          autoRotateLabel: false,\n          autoRotateTitle: false,\n          grid: {\n            visible: true,\n          },\n          line: {\n            visible: false,\n          },\n          tickLine: {\n            visible: false,\n          },\n          label: {\n            visible: true,\n          },\n          title: {\n            visible: true,\n            offset: 12,\n          },\n        },\n        yAxis: {\n          visible: true,\n          autoHideLabel: false,\n          autoRotateLabel: false,\n          autoRotateTitle: true,\n          grid: {\n            visible: false,\n          },\n          line: {\n            visible: true,\n          },\n          tickLine: {\n            visible: true,\n          },\n          label: {\n            visible: true,\n          },\n          title: {\n            visible: false,\n            offset: 12,\n          },\n        },\n      },\n      {}\n    );\n  }\n\n  public type: string = 'rangeBar';\n\n  public afterRender() {\n    if (this.options.label && this.options.label.visible) {\n      const label = new RangeBarLabel({\n        view: this.view,\n        plot: this,\n        ...this.options.label,\n      });\n      label.render();\n    }\n    // 为更新动画缓存shape\n    const shapeCaches = [];\n    const geoms = this.view.get('elements');\n    _.each(geoms, (geom) => {\n      const shapes = geom.getShapes();\n      _.each(shapes, (shape) => {\n        shapeCaches.push(shape);\n      });\n    });\n    setShapeCache(shapeCaches);\n    super.afterRender();\n  }\n\n  protected extractLabel() {}\n\n  protected animation() {\n    super.animation();\n    this.bar.animate = {\n      appear: {\n        animation: 'clipInFromCenter',\n        duration: 600,\n      },\n      update: {\n        animation: 'updateFromCenter',\n        duration: 600,\n      },\n    };\n  }\n}\n\nregisterPlotType('rangeBar', RangeBarLayer);\n","import { each, deepMix, clone } from '@antv/util';\nimport { Group } from '@antv/g';\nimport { View } from '@antv/g2';\nimport { rgb2arr } from '../../../util/color';\n\nconst DEFAULT_OFFSET = 8;\n\nfunction mappingColor(band, gray) {\n  let reflect;\n  each(band, (b) => {\n    const map = b;\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n  return reflect;\n}\n\nexport interface RangeBarLabelConfig {\n  visible: boolean;\n  position?: 'outer' | 'inner';\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n  leftStyle?: any;\n  rightStyle?: any;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n}\n\nexport interface IRangeBarLabel extends RangeBarLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class RangeBarLabel {\n  public options: RangeBarLabelConfig;\n  public destroyed: boolean = false;\n  private plot: any;\n  private view: View;\n  private container: Group;\n\n  constructor(cfg: IRangeBarLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    if (!this.options.leftStyle) {\n      this.options.leftStyle = this.options.style;\n    }\n    if (!this.options.rightStyle) {\n      this.options.rightStyle = this.options.style;\n    }\n    this.init();\n  }\n\n  public init() {\n    const geomContainer = this.view.get('elements')[0].get('container');\n    this.container = geomContainer.addGroup();\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const geometry = this.view.get('elements')[0];\n    const shapes = geometry.getShapes();\n    each(shapes, (shape) => {\n      const positions = this.getPosition(shape);\n      const values = this.getValue(shape);\n      const textAlign = this.getTextAlign();\n      const labels = [];\n      each(positions, (pos, i) => {\n        const style = i === 0 ? this.options.leftStyle : this.options.rightStyle;\n        const color = this.getTextColor(shape, i);\n        if (this.options.position === 'inner' && this.options.adjustColor && color !== 'black') {\n          style.stroke = null;\n        }\n        const formatter = this.options.formatter;\n        const content = formatter ? formatter(values[i]) : values[i];\n        const label = this.container.addShape('text', {\n          attrs: deepMix({}, style, {\n            x: pos.x,\n            y: pos.y,\n            text: content,\n            fill: color,\n            textAlign: textAlign[i],\n            textBaseline: 'middle',\n          }),\n        });\n        labels.push(label);\n        this.doAnimation(label);\n      });\n      shape.set('labelShapes', labels);\n      this.adjustPosition(labels[0], labels[1], shape);\n    });\n    const labelCtr = geometry.get('labelController');\n    labelCtr.labelsContainer = this.container;\n    this.plot.canvas.draw();\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destory() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {}\n\n  private getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      position: 'outer',\n      offsetX: DEFAULT_OFFSET,\n      offsetY: 0,\n      style: clone(labelStyle),\n      adjustColor: true,\n      adjustPosition: true,\n    };\n  }\n\n  private getPosition(shape) {\n    const origin = shape.get('origin');\n    const minX = origin.x[0];\n    const maxX = origin.x[1];\n    const { offsetX, offsetY } = this.options;\n    const y = origin.y[0];\n    let x1, x2;\n    if (this.options.position === 'outer') {\n      x1 = minX - offsetX;\n      x2 = maxX + offsetX;\n    } else {\n      x1 = minX + offsetX;\n      x2 = maxX - offsetX;\n    }\n    return [\n      { x: x1, y },\n      { x: x2, y },\n    ];\n  }\n\n  private getValue(shape) {\n    const { xField } = this.plot.options;\n    return shape.get('origin')._origin[xField];\n  }\n\n  private getTextAlign() {\n    if (this.options.position === 'outer') {\n      return ['right', 'left'];\n    } else {\n      return ['left', 'right'];\n    }\n  }\n\n  private getTextColor(shape, index) {\n    if (this.options.adjustColor && this.options.position === 'inner') {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n    const defaultColor = index === 0 ? this.options.leftStyle.fill : this.options.rightStyle.fill;\n    return defaultColor;\n  }\n\n  private doAnimation(label) {\n    if (this.plot.animation && this.plot.animation === false) {\n      return;\n    }\n    label.attr('fillOpacity', 0);\n    label.attr('strokeOpacity', 0);\n    label.stopAnimate();\n    label.animate(\n      {\n        fillOpacity: 1,\n        strokeOpacity: 1,\n      },\n      800,\n      'easeLinear',\n      500\n    );\n  }\n\n  private adjustPosition(la, lb, shape) {\n    const origin = shape.get('origin');\n    const shapeMinX = origin.x[0];\n    const shapeMaxX = origin.x[1];\n    const shapeWidth = Math.abs(shapeMaxX - shapeMinX);\n    const panelRange = this.view.get('panelRange');\n    const boxes = [la.getBBox(), lb.getBBox()];\n    let ax = la.attr('x');\n    let bx = lb.attr('x');\n    if (this.options.adjustPosition && this.options.position === 'inner') {\n      const totalLength = boxes[0].width + boxes[1].width;\n      const isOverlap = boxes[0].maxX - boxes[1].minX > 2;\n      const isTooShort = totalLength > shapeWidth;\n      if (isOverlap || isTooShort) {\n        ax = shapeMinX - this.options.offsetX;\n        la.attr('fill', this.options.leftStyle.fill);\n        la.attr('textAlign', 'right');\n        boxes[0] = la.getBBox();\n        bx = shapeMaxX + this.options.offsetX;\n        lb.attr('fill', this.options.rightStyle.fill);\n        lb.attr('textAlign', 'left');\n        boxes[1] = lb.getBBox();\n      }\n    }\n    if (boxes[0].minX < panelRange.minX) {\n      ax = panelRange.minX + DEFAULT_OFFSET;\n      la.attr('textAlign', 'left');\n    }\n    la.attr('x', ax);\n    lb.attr('x', bx);\n    this.plot.canvas.draw();\n  }\n}\n","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\n// 记录之前的状态\nlet shapeCache: G.Shape[];\n\nfunction clipInFromCenter(shape, animateCfg) {\n  const bbox = shape.getBBox();\n  const centerX = bbox.minX + bbox.width / 2;\n  const cliper = new G.Rect({\n    attrs: {\n      x: centerX,\n      y: bbox.minY,\n      width: 0,\n      height: bbox.height,\n    },\n  });\n  shape.attr('clip', cliper);\n  cliper.animate(\n    {\n      width: bbox.width,\n      x: bbox.minX,\n    },\n    animateCfg.duration,\n    animateCfg.easing,\n    () => {\n      shape.attr('clip', null);\n    },\n    animateCfg.delay\n  );\n}\n\nclipInFromCenter.animationName = 'clipInFromCenter';\n\nexport function setShapeCache(shapes) {\n  shapeCache = shapes;\n}\n\nfunction updateFromCenter(shape, animateCfg) {\n  const fromPath = getShapeFromCache(shape).attr('path');\n  const toPath = _.clone(shape.attr('path'));\n  shape.attr('path', fromPath);\n  shape.animate(\n    {\n      path: toPath,\n    },\n    animateCfg.duration,\n    animateCfg.easing,\n    animateCfg.callback,\n    100\n  );\n}\n\nfunction getShapeFromCache(shape) {\n  const { id } = shape;\n  let target;\n  _.each(shapeCache, (s) => {\n    if (s.id === id) {\n      target = s;\n    }\n  });\n  return target;\n}\n\nupdateFromCenter.animationName = 'updateFromCenter';\n\nAnimate.registerAnimation('appear', 'clipInFromCenter', clipInFromCenter);\nAnimate.registerAnimation('update', 'updateFromCenter', updateFromCenter);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RangeColumnLayer, { RangeColumnViewConfig } from './layer';\n\nexport interface RangeColumnConfig extends RangeColumnViewConfig, PlotConfig {}\n\nexport default class RangeColumn extends BasePlot<RangeColumnConfig> {\n  public static getDefaultOptions: typeof RangeColumnLayer.getDefaultOptions = RangeColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'rangeColumn';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport BaseColumnLayer, { ColumnViewConfig } from '../column/layer';\nimport RangeColumnLabel, { RangeColumnLabelConfig } from './component/label';\nimport { setShapeCache } from './animation';\n\nexport interface RangeColumnViewConfig extends ColumnViewConfig {\n  label: RangeColumnLabelConfig;\n}\n\nexport interface RangeColumnLayerConfig extends RangeColumnViewConfig, LayerConfig {}\n\nexport default class RangeColumnLayer extends BaseColumnLayer<RangeColumnLayerConfig> {\n  public static getDefaultOptions(): Partial<RangeColumnViewConfig> {\n    return _.deepMix(\n      super.getDefaultOptions(),\n      {\n        label: {\n          visible: true,\n          position: 'outer',\n        },\n      },\n      {}\n    );\n  }\n\n  public type: string = 'rangeColumn';\n\n  public afterRender() {\n    if (this.options.label && this.options.label.visible) {\n      const label = new RangeColumnLabel({\n        view: this.view,\n        plot: this,\n        ...this.options.label,\n      });\n      label.render();\n    }\n    // 为更新动画缓存shape\n    const shapeCaches = [];\n    const geoms = this.view.get('elements');\n    _.each(geoms, (geom) => {\n      const shapes = geom.getShapes();\n      _.each(shapes, (shape) => {\n        shapeCaches.push(shape);\n      });\n    });\n    setShapeCache(shapeCaches);\n    super.afterRender();\n  }\n\n  protected extractLabel() {}\n\n  protected animation() {\n    super.animation();\n    this.column.animate = {\n      appear: {\n        animation: 'clipInFromCenterVertical',\n        duration: 600,\n      },\n      update: {\n        animation: 'updateFromCenterVertical',\n        duration: 600,\n      },\n    };\n  }\n}\n\nregisterPlotType('rangeColumn', RangeColumnLayer);\n","import { each, deepMix, clone } from '@antv/util';\nimport { Group } from '@antv/g';\nimport { View } from '@antv/g2';\nimport { rgb2arr } from '../../../util/color';\n\nconst DEFAULT_OFFSET = 8;\n\nfunction mappingColor(band, gray) {\n  let reflect;\n  each(band, (b) => {\n    const map = b;\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n  return reflect;\n}\n\nexport interface RangeColumnLabelConfig {\n  visible: boolean;\n  position?: 'outer' | 'inner';\n  formatter?: (...args: any[]) => string;\n  offsetX?: number;\n  offsetY?: number;\n  style?: any;\n  topStyle?: any;\n  bottomStyle?: any;\n  adjustColor?: boolean;\n  adjustPosition?: boolean;\n}\n\nexport interface IRangeColumnLabel extends RangeColumnLabelConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class RangeColumnLabel {\n  public options: RangeColumnLabelConfig;\n  public destroyed: boolean = false;\n  private plot: any;\n  private view: View;\n  private container: Group;\n\n  constructor(cfg: IRangeColumnLabel) {\n    this.view = cfg.view;\n    this.plot = cfg.plot;\n    const defaultOptions = this.getDefaultOptions();\n    this.options = deepMix(defaultOptions, cfg, {});\n    if (!this.options.topStyle) {\n      this.options.topStyle = this.options.style;\n    }\n    if (!this.options.bottomStyle) {\n      this.options.bottomStyle = this.options.style;\n    }\n    this.init();\n  }\n\n  public init() {\n    const geomContainer = this.view.get('elements')[0].get('container');\n    this.container = geomContainer.addGroup();\n    this.view.on('beforerender', () => {\n      this.clear();\n      this.plot.canvas.draw();\n    });\n  }\n\n  public render() {\n    const geometry = this.view.get('elements')[0];\n    const shapes = geometry.getShapes();\n    each(shapes, (shape) => {\n      const positions = this.getPosition(shape);\n      const values = this.getValue(shape);\n      const textBaeline = this.getTextBaseline();\n      const labels = [];\n      each(positions, (pos, i) => {\n        const style = i === 1 ? this.options.topStyle : this.options.bottomStyle;\n        const color = this.getTextColor(shape, i);\n        if (this.options.position === 'inner' && this.options.adjustColor && color !== 'black') {\n          style.stroke = null;\n        }\n        const formatter = this.options.formatter;\n        const content = formatter ? formatter(values[i]) : values[i];\n        const label = this.container.addShape('text', {\n          attrs: deepMix({}, style, {\n            x: pos.x,\n            y: pos.y,\n            text: content,\n            fill: color,\n            textAlign: 'center',\n            textBaseline: textBaeline[i],\n          }),\n        });\n        labels.push(label);\n        this.doAnimation(label);\n      });\n      shape.set('labelShapes', labels);\n      this.adjustPosition(labels[0], labels[1], shape);\n    });\n    const labelCtr = geometry.get('labelController');\n    labelCtr.labelsContainer = this.container;\n    this.plot.canvas.draw();\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destory() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {}\n\n  private getDefaultOptions() {\n    const { theme } = this.plot;\n    const labelStyle = theme.label.style;\n    return {\n      position: 'outer',\n      offsetX: 0,\n      offsetY: DEFAULT_OFFSET,\n      style: clone(labelStyle),\n      adjustColor: true,\n      adjustPosition: true,\n    };\n  }\n\n  private getPosition(shape) {\n    const origin = shape.get('origin');\n    const minY = origin.y[1];\n    const maxY = origin.y[0];\n    const { offsetX, offsetY } = this.options;\n    const x = origin.x;\n    let y1, y2;\n    if (this.options.position === 'outer') {\n      y1 = minY - offsetY;\n      y2 = maxY + offsetY;\n    } else {\n      y1 = minY + offsetY;\n      y2 = maxY - offsetY;\n    }\n    return [\n      { x: x, y: y2 },\n      { x: x, y: y1 },\n    ];\n  }\n\n  private getValue(shape) {\n    const { yField } = this.plot.options;\n    return shape.get('origin')._origin[yField];\n  }\n\n  private getTextBaseline() {\n    if (this.options.position === 'outer') {\n      return ['top', 'bottom'];\n    } else {\n      return ['bottom', 'top'];\n    }\n  }\n\n  private getTextColor(shape, index) {\n    if (this.options.adjustColor && this.options.position === 'inner') {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = mappingColor(colorBand, gray);\n      return reflect;\n    }\n    const defaultColor = index === 1 ? this.options.topStyle.fill : this.options.bottomStyle.fill;\n    return defaultColor;\n  }\n\n  private doAnimation(label) {\n    if (this.plot.animation && this.plot.animation === false) {\n      return;\n    }\n    label.attr('fillOpacity', 0);\n    label.attr('strokeOpacity', 0);\n    label.stopAnimate();\n    label.animate(\n      {\n        fillOpacity: 1,\n        strokeOpacity: 1,\n      },\n      800,\n      'easeLinear',\n      500\n    );\n  }\n\n  private adjustPosition(la, lb, shape) {\n    const origin = shape.get('origin');\n    const shapeMinY = origin.y[1];\n    const shapeMaxY = origin.y[0];\n    const shapeHeight = Math.abs(shapeMaxY - shapeMinY);\n    const panelRange = this.view.get('panelRange');\n    const boxes = [la.getBBox(), lb.getBBox()];\n    let ay = la.attr('y');\n    let by = lb.attr('y');\n    if (this.options.adjustPosition && this.options.position === 'inner') {\n      const totalLength = boxes[0].height + boxes[1].height;\n      const isOverlap = boxes[1].maxY - boxes[0].minY > 2;\n      const isTooShort = totalLength > shapeHeight;\n      if (isOverlap || isTooShort) {\n        by = shapeMinY - this.options.offsetY;\n        lb.attr('fill', this.options.topStyle.fill);\n        lb.attr('textBaseline', 'bottom');\n        ay = shapeMaxY + this.options.offsetY;\n        la.attr('fill', this.options.bottomStyle.fill);\n        la.attr('textBaseline', 'top');\n        boxes[0] = la.getBBox();\n        boxes[1] = lb.getBBox();\n      }\n    }\n    // fixme: textBaseline 取不准bbox\n    if (boxes[0].maxY > panelRange.maxY - DEFAULT_OFFSET) {\n      ay = panelRange.maxY - DEFAULT_OFFSET / 2;\n      la.attr('textBaseline', 'bottom');\n    }\n    la.attr('y', ay);\n    lb.attr('y', by);\n    this.plot.canvas.draw();\n  }\n}\n","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\n// 记录之前的状态\nlet shapeCache: G.Shape[];\n\nfunction clipInFromCenterVertical(shape, animateCfg) {\n  const bbox = shape.getBBox();\n  const centerY = bbox.minY + bbox.height / 2;\n  const cliper = new G.Rect({\n    attrs: {\n      x: bbox.minX,\n      y: centerY,\n      width: bbox.width,\n      height: 0,\n    },\n  });\n  shape.attr('clip', cliper);\n  cliper.animate(\n    {\n      height: bbox.height,\n      y: bbox.minY,\n    },\n    animateCfg.duration,\n    animateCfg.easing,\n    () => {\n      shape.attr('clip', null);\n    },\n    animateCfg.delay\n  );\n}\n\nclipInFromCenterVertical.animationName = 'clipInFromCenterVertical';\n\nexport function setShapeCache(shapes) {\n  shapeCache = shapes;\n}\n\nfunction updateFromCenterVertical(shape, animateCfg) {\n  const fromPath = getShapeFromCache(shape).attr('path');\n  const toPath = _.clone(shape.attr('path'));\n  shape.attr('path', fromPath);\n  shape.animate(\n    {\n      path: toPath,\n    },\n    animateCfg.duration,\n    animateCfg.easing,\n    animateCfg.callback,\n    100\n  );\n}\n\nfunction getShapeFromCache(shape) {\n  const { id } = shape;\n  let target;\n  _.each(shapeCache, (s) => {\n    if (s.id === id) {\n      target = s;\n    }\n  });\n  return target;\n}\n\nupdateFromCenterVertical.animationName = 'updateFromCenterVertical';\n\nAnimate.registerAnimation('appear', 'clipInFromCenterVertical', clipInFromCenterVertical);\nAnimate.registerAnimation('update', 'updateFromCenterVertical', updateFromCenterVertical);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport PieLayer, { PieViewConfig } from './layer';\n\nexport interface PieConfig extends PieViewConfig, PlotConfig {}\n\nexport default class Pie extends BasePlot<PieConfig> {\n  public static getDefaultOptions: typeof PieLayer.getDefaultOptions = PieLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'pie';\n    super.createLayers(layerProps);\n  }\n}\n","import { Group, Shape } from '@antv/g';\nimport { Scale, View } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { LooseMap } from '../../../../interface/types';\n\nconst ANCHOR_OFFSET = 0; // 锚点偏移量\nconst INFLECTION_OFFSET = 15; // 拐点偏移量\nconst DEFAULT_COLOR = '#CCC';\nconst LABEL1_OFFSETY = 2;\nconst LABEL2_OFFSETY = -2;\nconst ADJUSTOFFSET = 15;\n\ntype IAttrs = LooseMap;\n\ntype Point = { x: number; y: number };\ninterface LabelData {\n  _anchor: Point;\n  _inflection: Point;\n  _data: object;\n  x: number;\n  y: number;\n  r: number;\n  fill: string;\n  textGroup: Group;\n  _side?: 'left' | 'right';\n}\n\nfunction getEndPoint(center, angle, r) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n\nfunction getDefaultCfg() {\n  return {\n    text: {\n      fill: 'rgba(0, 0, 0, 0.65)',\n      fontSize: 12,\n    },\n    lineWidth: 0.5,\n    lineStroke: 'rgba(0, 0, 0, 0.45)',\n    /** distance between label and edge */\n    sidePadding: 20,\n    lineHeight: 32,\n    // anchorSize: 2,\n  };\n}\n\ninterface OriginLabelItem {\n  /** 原始数据值 */\n  _origin: object;\n  color?: string;\n}\n\nexport default class SpiderLabel {\n  private view: View;\n  private fields: string[];\n  private halves: any[][];\n  private container: Group;\n  private config: IAttrs;\n  private formatter: (text: string, item: OriginLabelItem, index: number) => string | string[];\n  private offsetX: number;\n  private offsetY: number;\n  private width: number;\n  private height: number;\n\n  constructor(cfg) {\n    this.view = cfg.view;\n    this.fields = cfg.fields;\n    this.formatter = cfg.formatter;\n    this.offsetX = cfg.offsetX;\n    this.offsetY = cfg.offsetY;\n    this.config = _.assign(getDefaultCfg(), _.pick(cfg.style, ['lineStroke', 'lineWidth']));\n    if (cfg.style) {\n      this.config.text = _.mix(this.config.text, cfg.style);\n    }\n    this._adjustConfig(this.config);\n    this._init();\n  }\n\n  public draw() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    /** 如果有formatter则事先处理数据 */\n    const data = _.clone(this.view.get('filteredData'));\n    this.halves = [[], []];\n    this.container = this.view.get('frontgroundGroup').addGroup();\n    const shapes = this.view.get('elements')[0].getShapes();\n    const coord = this.view.get('coord');\n\n    const angleField = this.fields[0];\n    const scale = this.view.get('scales')[angleField];\n    const { center, startAngle } = coord;\n    const radius = coord.getRadius();\n    const { width, height } = this.view.get('panelRange');\n    this.width = width;\n    this.height = height;\n    let angle = startAngle;\n    // tslint:disable-next-line: prefer-for-of\n    for (let idx = 0; idx < data.length; idx++) {\n      const d = data[idx];\n      // 计算每个切片的middle angle\n      const angleValue = scale.scale(d[angleField]);\n      const targetAngle = angle + Math.PI * 2 * angleValue;\n      const middleAngle = angle + (targetAngle - angle) / 2;\n      angle = targetAngle;\n      // 根据middle angle计算锚点和拐点距离\n      const anchorPoint = getEndPoint(center, middleAngle, radius + ANCHOR_OFFSET);\n      const inflectionPoint = getEndPoint(center, middleAngle, radius + INFLECTION_OFFSET);\n      // 获取对应shape的color\n      let color = DEFAULT_COLOR;\n      if (this.fields.length === 2) {\n        const colorField = this.fields[1];\n        const colorScale = this.view.get('scales')[colorField];\n        const colorIndex = colorScale.scale(d[colorField]);\n        const shapeIndex = Math.floor(colorIndex * (shapes.length - 1));\n        color = shapes[shapeIndex].attr('fill');\n      }\n      // 组装label数据\n      const label: LabelData = {\n        _anchor: anchorPoint,\n        _inflection: inflectionPoint,\n        _data: d,\n        x: inflectionPoint.x,\n        y: inflectionPoint.y,\n        r: radius + INFLECTION_OFFSET,\n        fill: color,\n        textGroup: null,\n        _side: null,\n      };\n      // 创建label文本\n      let texts = [];\n      _.each(this.fields, (f) => {\n        texts.push(d[f]);\n      });\n      if (this.formatter) {\n        let formatted: any = this.formatter(d[angleField], { _origin: d, color }, idx);\n        if (_.isString(formatted)) {\n          formatted = [formatted];\n        }\n        texts = formatted;\n      }\n      const textGroup = new Group();\n      const textAttrs: IAttrs = {\n        x: 0,\n        y: 0,\n        fontSize: this.config.text.fontSize,\n        lineHeight: this.config.text.fontSize,\n        fontWeight: this.config.text.fontWeight,\n        fill: this.config.text.fill,\n      };\n      // label1:下部label\n      let lowerText = d[angleField];\n      if (this.formatter) {\n        lowerText = texts[0];\n      }\n      const lowerTextAttrs = _.clone(textAttrs);\n      if (texts.length === 2) {\n        lowerTextAttrs.fontWeight = 700;\n      }\n      const lowerTextShape = textGroup.addShape('text', {\n        attrs: _.mix(\n          {\n            textBaseline: texts.length === 2 ? 'top' : 'middle',\n            text: lowerText,\n          },\n          lowerTextAttrs\n        ),\n        data: d,\n        offsetY: texts.length === 2 ? LABEL1_OFFSETY : 0,\n        name: 'label',\n      });\n      lowerTextShape.name = 'label'; // 用于事件标记 shapeName\n      /** label2:上部label */\n      if (texts.length === 2) {\n        const topTextShape = textGroup.addShape('text', {\n          attrs: _.mix(\n            {\n              textBaseline: 'bottom',\n              text: texts[1],\n            },\n            textAttrs\n          ),\n          data: d,\n          offsetY: LABEL2_OFFSETY,\n          name: 'label',\n        });\n        topTextShape.name = 'label'; // 用于事件标记 shapeName\n      }\n\n      label.textGroup = textGroup;\n\n      /** 将label分组 */\n      if (anchorPoint.x < center.x) {\n        label._side = 'left';\n        this.halves[0].push(label);\n      } else {\n        label._side = 'right';\n        this.halves[1].push(label);\n      }\n    }\n\n    /** 绘制label */\n    const _drawnLabels = [];\n    const maxCountForOneSide = Math.floor(height / this.config.lineHeight);\n\n    _.each(this.halves, (half) => {\n      if (half.length > maxCountForOneSide) {\n        half.splice(maxCountForOneSide, half.length - maxCountForOneSide);\n      }\n\n      half.sort((a, b) => {\n        return a.y - b.y;\n      });\n\n      this._antiCollision(half);\n    });\n    this.view.get('canvas').draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  private _init() {\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n\n    this.view.on('afterrender', () => {\n      this.draw();\n    });\n  }\n\n  private _antiCollision(half: LabelData[]) {\n    const coord = this.view.get('coord');\n    const canvasHeight = coord.getHeight();\n    const { center } = coord;\n    const radius = coord.getRadius();\n    const startY = center.y - radius - INFLECTION_OFFSET - this.config.lineHeight;\n    let overlapping = true;\n    let totalH = canvasHeight;\n    let i;\n\n    let maxY = 0;\n    let minY = Number.MIN_VALUE;\n    let maxLabelWidth = 0;\n    const boxes: any[] = half.map((label) => {\n      const labelY = label.y;\n      if (labelY > maxY) {\n        maxY = labelY;\n      }\n      if (labelY < minY) {\n        minY = labelY;\n      }\n\n      const textGroup = label.textGroup;\n      const labelWidth = textGroup.getBBox().width;\n      if (labelWidth >= maxLabelWidth) {\n        maxLabelWidth = labelWidth;\n      }\n\n      return {\n        size: this.config.lineHeight,\n        targets: [labelY - startY],\n      };\n    });\n    if (maxY - startY > totalH) {\n      totalH = maxY - startY;\n    }\n\n    const iteratorBoxed = function(items) {\n      items.forEach((box) => {\n        const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n        box.pos = Math.min(Math.max(minY, target - box.size / 2), totalH - box.size);\n      });\n    };\n\n    while (overlapping) {\n      iteratorBoxed(boxes);\n      // detect overlapping and join boxes\n      overlapping = false;\n      i = boxes.length;\n      while (i--) {\n        if (i > 0) {\n          const previousBox = boxes[i - 1];\n          const box = boxes[i];\n          if (previousBox.pos + previousBox.size > box.pos) {\n            // overlapping\n            previousBox.size += box.size;\n            previousBox.targets = previousBox.targets.concat(box.targets);\n\n            // overflow, shift up\n            if (previousBox.pos + previousBox.size > totalH) {\n              previousBox.pos = totalH - previousBox.size;\n            }\n            boxes.splice(i, 1); // removing box\n            overlapping = true;\n          }\n        }\n      }\n    }\n\n    i = 0;\n    boxes.forEach((b) => {\n      let posInCompositeBox = startY; // middle of the label\n      b.targets.forEach(() => {\n        half[i].y = b.pos + posInCompositeBox + this.config.lineHeight / 2;\n        posInCompositeBox += this.config.lineHeight;\n        i++;\n      });\n    });\n\n    const drawnLabels = [];\n    half.forEach((label) => {\n      const textGroup = this._drawLabel(label);\n      this.container.add(textGroup);\n      this._drawLabelLine(label, maxLabelWidth);\n      drawnLabels.push(textGroup);\n    });\n  }\n\n  private _drawLabel(label: LabelData) {\n    const coord = this.view.get('coord');\n    const center = coord.getCenter();\n    const radius = coord.getRadius();\n\n    const width = this.width;\n    const { y, textGroup } = label;\n    const children = textGroup.get('children');\n    const x_dir = label._side === 'left' ? 1 : -1;\n\n    const textAttrs = {\n      textAlign: label._side === 'left' ? 'right' : 'left',\n      x:\n        label._side === 'left'\n          ? center.x - radius - this.config.sidePadding\n          : center.x + radius + this.config.sidePadding,\n    };\n\n    if (this.offsetX) {\n      textAttrs.x += this.offsetX * x_dir;\n    }\n\n    children.forEach((child) => {\n      const offsetY = child.get('offsetY');\n      const yPosition = y + offsetY;\n      child.attr(textAttrs);\n      child.attr('y', yPosition);\n    });\n\n    return textGroup;\n  }\n\n  private _drawLabelLine(label: LabelData, maxLabelWidth): Shape {\n    const _anchor = [label._anchor.x, label._anchor.y];\n    const _inflection = [label._inflection.x, label._inflection.y];\n    const { fill, y, textGroup } = label;\n    if (!textGroup) return;\n    const lastPoint = [label._side === 'left' ? textGroup.getBBox().maxX + 4 : textGroup.getBBox().minX - 4, y];\n\n    let points = [_anchor, _inflection, lastPoint];\n    if (_inflection[1] !== y) {\n      // 展示全部文本文本位置做过调整\n      if (_inflection[1] < y) {\n        // 文本被调整下去了，则添加拐点连接线\n        const point1 = _inflection;\n        const leftPoint = lastPoint[0] + maxLabelWidth + ADJUSTOFFSET;\n        const rightPoint = lastPoint[0] - maxLabelWidth - ADJUSTOFFSET;\n        const point2 = [label._side === 'left' ? leftPoint : rightPoint, _inflection[1]];\n        const point3 = [\n          label._side === 'left' ? lastPoint[0] + maxLabelWidth : lastPoint[0] - maxLabelWidth,\n          lastPoint[1],\n        ];\n\n        points = [_anchor, point1, point2, point3, lastPoint];\n\n        if ((label._side === 'right' && point2[0] < point1[0]) || (label._side === 'left' && point2[0] > point1[0])) {\n          points = [_anchor, point3, lastPoint];\n        }\n      } else {\n        points = [_anchor, [_inflection[0], y], lastPoint];\n      }\n    }\n\n    const path = [];\n    for (let i = 0; i < points.length; i++) {\n      const p = points[i];\n      let starter = 'L';\n      if (i === 0) {\n        starter = 'M';\n      }\n      path.push([starter, p[0], p[1]]);\n    }\n\n    this.container.addShape('path', {\n      attrs: {\n        path,\n        lineWidth: this.config.lineWidth,\n        stroke: this.config.lineStroke,\n      },\n    });\n\n    // 绘制锚点\n    // this.container.addShape('circle', {\n    //   attrs: {\n    //     x: _anchor[0],\n    //     y: _anchor[1],\n    //     r: this.config.anchorSize,\n    //     fill,\n    //   },\n    // });\n  }\n\n  private _adjustConfig(config) {\n    if (config.text.fontSize) {\n      config.lineHeight = config.text.fontSize * 3;\n    }\n  }\n}\n","import * as _ from '@antv/util';\nconst canvas = document.createElement('canvas');\nconst ctx = canvas.getContext('2d');\n\ninterface Font {\n  fontFamily?: string;\n  fontWeight?: string;\n  fontStyle?: string;\n  fontVariant?: string;\n  fontSize?: number;\n}\n\n/**\n * 计算文本在画布中的宽度\n */\nexport const measureTextWidth = _.memoize(\n  (text: any, font: Font = {}): number => {\n    const { fontSize, fontFamily, fontWeight, fontStyle, fontVariant } = font;\n    ctx.font = [fontStyle, fontVariant, fontWeight, `${fontSize}px`, fontFamily].join(' ');\n    return ctx.measureText(_.isString(text) ? text : '').width;\n  },\n  (text: any, font: Font) => (font ? [text, ..._.values(font)].join('') : text)\n);\n\n/**\n * 获取文本的 ... 文本。\n * 算法（减少每次 measureText 的长度，measureText 的性能跟字符串时间相关）：\n * 1. 先通过 STEP 逐步计算，找到最后一个小于 maxWidth 的字符串\n * 2. 然后对最后这个字符串二分计算\n * @param text 需要计算的文本, 由于历史原因 除了支持string，还支持空值,number和数组等\n * @param maxWidth\n * @param font\n * TODO 后续更新省略算法\n */\nexport const getEllipsisText = (text: any, maxWidth: number, font: Font, priority?: string[]) => {\n  const STEP = 16; // 每次 16，调参工程师\n  const DOT_WIDTH = measureTextWidth('...', font);\n\n  let leftText;\n\n  if (!_.isString(text)) {\n    leftText = _.toString(text);\n  } else {\n    leftText = text;\n  }\n\n  let leftWidth = maxWidth;\n\n  const r = []; // 最终的分段字符串\n  let currentText;\n  let currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  }\n\n  // 首先通过 step 计算，找出最大的未超出长度的\n  while (true) {\n    // 更新字符串\n    currentText = leftText.substr(0, STEP);\n\n    // 计算宽度\n    currentWidth = measureTextWidth(currentText, font);\n\n    // 超出剩余宽度，则停止\n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText);\n\n    // 没有超出，则计算剩余宽度\n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP);\n\n    // 字符串整体没有超出\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  // 最下的最后一个 STEP，使用 1 递增（用二分效果更高）\n  while (true) {\n    // 更新字符串\n    currentText = leftText.substr(0, 1);\n\n    // 计算宽度\n    currentWidth = measureTextWidth(currentText, font);\n\n    // 超出剩余宽度，则停止\n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText);\n    // 没有超出，则计算剩余宽度\n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return `${r.join('')}...`;\n};\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.15';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading and trailing whitespace. */\n  var reTrim = /^\\s+|\\s+$/g,\n      reTrimStart = /^\\s+/,\n      reTrimEnd = /\\s+$/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      var index = -1;\n      iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      value = iteratee(value);\n\n      var low = 0,\n          high = array == null ? 0 : array.length,\n          valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(array);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked && stack.get(other)) {\n        return stacked == other;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, '');\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('déjà vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // with lookup (in case of e.g. prototype pollution), and strip newlines if any.\n      // A newline wouldn't be a valid sourceURL anyway, and it'd enable code injection.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/[\\r\\n]/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      // Like with sourceURL, we take care to not check the option's prototype,\n      // as this configuration is a code injection vector.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrim, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimEnd, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","import Polar from '@antv/coord/lib/coord/polar';\nimport { BBox, Shape } from '@antv/g';\nimport { registerElementLabels } from '@antv/g2';\nimport { LabelItem } from '@antv/component/lib/interface';\nimport * as _ from '@antv/util';\nimport { getEndPoint } from './utils';\nimport BasePieLabel from './base-label';\nimport { DEFAULT_OFFSET, CROOK_DISTANCE } from './outer-label';\n\nclass OuterCenterPieLabel extends BasePieLabel {\n  public adjustPosition(labels: Shape[], items: LabelItem[], coord: Polar, panel: BBox) {\n    this._adjustLabelPosition(labels, items, coord, panel);\n  }\n\n  /** @override */\n  public adjustLines(labels: Shape[], labelItems: LabelItem[], labelLines: any, coord: Polar, panel: BBox) {\n    _.each(labels, (label, idx: number) => {\n      const labelLine = labelLines[idx];\n      const path = this._getLinePath(label, coord, panel);\n      labelLine.attr('path', path);\n      labelLine.set('visible', label.get('visible'));\n    });\n  }\n\n  /** @override */\n  protected getOffsetOfLabel(): number {\n    const labelOptions = this.get('labelOptions');\n    const offset = labelOptions.offset;\n    return offset === undefined ? DEFAULT_OFFSET : offset <= CROOK_DISTANCE ? 1 : offset - CROOK_DISTANCE;\n  }\n\n  // label shape position\n  private _adjustLabelPosition(labels: Shape[], items: LabelItem[], coord: Polar, panel: BBox) {\n    const center = coord.getCenter();\n    const r = coord.getRadius();\n    const distance = this.getCrookDistance();\n    labels.forEach((l, idx) => {\n      const item = items[idx];\n      const offset = this.getOffsetOfLabel();\n      const pos = getEndPoint(center, item.angle, r + offset);\n      const isRight = item.textAlign === 'left';\n      l.attr('x', pos.x + (isRight ? distance * 2 : -distance * 2));\n      l.attr('y', pos.y);\n    });\n  }\n\n  // 获取label leader-line\n  private _getLinePath(label: Shape, coord: Polar, panel: BBox): string {\n    const labelOptions = this.getLabelOptions();\n    const smooth = labelOptions.line ? labelOptions.line.smooth : false;\n    const anchor = this.anchors.find((a) => a.id === label.id);\n    const angle = anchor.angle;\n    const center = coord.getCenter();\n    const r = coord.getRadius();\n    const start = getEndPoint(center, angle, r);\n    // because shape is adjusted, so we should getAttrbutes by shape\n    const offset = this.getOffsetOfLabel();\n    const isRight = anchor.textAlign === 'left';\n    const breakAt = getEndPoint(center, angle, r + offset);\n    const distance = this.getCrookDistance() * (isRight ? 1 : -1);\n    const end = { x: label.attr('x') - distance, y: label.attr('y') };\n    let path = '';\n    path = [`M ${start.x}`, `${start.y} Q${breakAt.x}`, `${breakAt.y} ${end.x}`, end.y].join(',');\n    if (smooth === false) {\n      // normal path rule, draw path is \"M -> L -> H\"\n      path = [`M ${start.x}`, `${start.y} L${breakAt.x - distance}`, `${end.y} H${end.x}`].join(',');\n    }\n    return path;\n  }\n\n  /** @override */\n  // tslint:disable\n  public getDefaultOffset(point) {\n    const offset = super.getDefaultOffset(point);\n    return offset === undefined ? DEFAULT_OFFSET : offset <= CROOK_DISTANCE ? 1 : offset - CROOK_DISTANCE;\n  }\n\n  private getCrookDistance(): number {\n    const labelOptions = this.get('labelOptions');\n    const offset = labelOptions.offset;\n    return offset < CROOK_DISTANCE * 2 ? offset / 2 : CROOK_DISTANCE;\n  }\n}\n\nregisterElementLabels('outer-center', OuterCenterPieLabel);\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onPieClick: 'interval:click',\n  onPieDblclick: 'interval:dblclick',\n  onPieMousemove: 'interval:mousemove',\n  onPieMouseenter: 'interval:mouseenter',\n  onPieMouseleave: 'interval:mouseleave',\n  onPieMousedown: 'interval:mousedown',\n  onPieMouseup: 'interval:mouseup',\n  onPieContextmenu: 'interval:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { registerTheme } from '../../theme';\n\nconst PIE_ACTIVE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nconst PIE_DISABLE_STYLE = (style) => {\n  const opacity = style.opacity || 1;\n  return { opacity: opacity * 0.5 };\n};\n\nregisterTheme('pie', {\n  columnStyle: {\n    normal: {},\n    active: PIE_ACTIVE_STYLE,\n    disable: PIE_DISABLE_STYLE,\n    selected: { lineWidth: 1, stroke: 'black' },\n  },\n});\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RingLayer, { RingViewConfig } from './layer';\n\nexport interface RingConfig extends RingViewConfig, PlotConfig {}\n\nexport default class Ring extends BasePlot<RingConfig> {\n  public static getDefaultOptions: typeof RingLayer.getDefaultOptions = RingLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'ring';\n    super.createLayers(layerProps);\n  }\n}\n","import { CoordinateType } from '@antv/g2/lib/plot/interface';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport PieLayer, { PieViewConfig } from '../pie/layer';\nimport responsiveMethods from './apply-responsive';\nimport './apply-responsive/theme';\nimport * as statisticTemplate from './component/statistic-template';\nimport * as EventParser from './event';\nimport { LooseMap } from '../../interface/types';\n\nexport interface RingViewConfig extends PieViewConfig {\n  innerRadius?: number;\n  statistic?: any; //FIXME: 指标卡\n}\n\nexport interface RingLayerConfig extends RingViewConfig, LayerConfig {}\n\nconst G2_GEOM_MAP = {\n  ring: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'ring',\n};\n\nexport default class RingLayer<T extends RingLayerConfig = RingLayerConfig> extends PieLayer<T> {\n  public static centralId = 0;\n  public type: string = 'ring';\n  private statistic: any; // 保存指标卡实例用于响应交互\n  private statisticClass: string; // 指标卡的class,用于重点文本容器的唯一标识，一个页面多个环图时，共用 class 交互会有问题。\n\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      radius: 0.8,\n      innerRadius: 0.64,\n      statistic: {\n        visible: true,\n        triggerOn: 'mouseenter',\n        triggerOff: 'mouseleave',\n      },\n    });\n  }\n\n  public getOptions(props: T) {\n    const options = super.getOptions(props);\n    // @ts-ignore\n    const defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  }\n\n  public beforeInit() {\n    super.beforeInit();\n    RingLayer.centralId++;\n    this.statisticClass = `statisticClassId${RingLayer.centralId}`;\n    const props = this.options;\n    /** 响应式图形 */\n    if (props.responsive && props.padding !== 'auto') {\n      this.applyResponsive('preRender');\n    }\n  }\n\n  public afterInit() {\n    super.afterInit();\n    /** 处理环图中心文本响应交互的问题 */\n    if (this.statistic && this.statistic.visible && this.statistic.triggerOn) {\n      const triggerOnEvent = this.statistic.triggerOn;\n      this.view.on(\n        `interval:${triggerOnEvent}`,\n        _.debounce((e) => {\n          const displayData = this.parseStatisticData(e.data._origin);\n          const htmlString = this.getStatisticHtmlString(displayData);\n          document.getElementsByClassName(this.statisticClass)[0].innerHTML = htmlString;\n        }, 150)\n      );\n      const triggerOffEvent = this.statistic.triggerOff ? this.statistic.triggerOff : 'mouseleave';\n      this.view.on(\n        `interval:${triggerOffEvent}`,\n        _.debounce((e) => {\n          const totalValue = this.getTotalValue();\n          const displayData = this.parseStatisticData(totalValue);\n          const htmlString = this.getStatisticHtmlString(displayData);\n          document.getElementsByClassName(this.statisticClass)[0].innerHTML = htmlString;\n        }, 150)\n      );\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig = {\n      type: 'theta' as CoordinateType,\n      cfg: {\n        radius: props.radius,\n        innerRadius: props.innerRadius,\n      },\n    };\n    this.setConfig('coord', coordConfig);\n  }\n\n  protected annotation() {\n    const annotationConfigs = [];\n    const props = this.options;\n    if (props.statistic && props.statistic.visible) {\n      const statistic = this.drawStatistic(props.statistic);\n      annotationConfigs.push(statistic);\n      this.statistic = statistic;\n    }\n    this.setConfig('annotations', annotationConfigs);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private drawStatistic(config) {\n    const statistic: LooseMap = _.deepMix(\n      {},\n      {\n        type: 'html',\n        top: true,\n        position: ['50%', '50%'],\n        triggerOn: 'mouseenter',\n      },\n      config\n    );\n    /** 中心文本内容 */\n    let displayData;\n    if (config.content) {\n      displayData = config.content;\n    } else {\n      /** 用户没有指定文本内容时，默认显示总计 */\n      const data = this.getTotalValue();\n      displayData = this.parseStatisticData(data);\n    }\n    /** 中心文本显示 */\n    let htmlString;\n    if (config.htmlContent) {\n      htmlString = config.htmlContent(displayData);\n    } else {\n      htmlString = this.getStatisticTemplate(displayData);\n    }\n    statistic.html = htmlString;\n    /** 是否响应状态量 */\n    if (statistic.triggerOn) {\n      this.setConfig('tooltip', false);\n    }\n    return statistic;\n  }\n\n  /** 获取总计数据 */\n  private getTotalValue(): object {\n    const props = this.options;\n    let total = 0;\n    _.each(props.data, (item) => {\n      if (typeof item[props.angleField] === 'number') {\n        total += item[props.angleField];\n      }\n    });\n    const data = {\n      [props.angleField]: total,\n      [props.colorField]: '总计',\n    };\n    return data;\n  }\n\n  private parseStatisticData(data) {\n    const props = this.options;\n    const angleField = props.angleField;\n    return props.colorField ? { name: data[props.colorField], value: data[angleField] } : data[angleField];\n  }\n\n  private getStatisticTemplate(displayData) {\n    const size = this.getStatisticSize();\n    let htmlString;\n    /** 如果文本内容为string或单条数据 */\n    if (_.isString(displayData)) {\n      htmlString = statisticTemplate.getSingleDataTemplate(displayData, this.statisticClass, size);\n    } else if (_.isObject(displayData) && _.keys(displayData).length === 2) {\n      /** 如果文本内容为两条数据 */\n      const content = displayData as LooseMap;\n      htmlString = statisticTemplate.getTwoDataTemplate(content.name, content.value, this.statisticClass, size);\n    }\n    /** 更为复杂的文本要求用户自行制定html模板 */\n    return htmlString;\n  }\n\n  /** 获取中心文本的htmlString */\n  private getStatisticHtmlString(_displayData): string {\n    const triggerOnConfig = this.statistic.triggerOn;\n    let htmlString: string;\n    if (_.isString(triggerOnConfig)) {\n      htmlString = this.getStatisticTemplate(_displayData);\n    }\n    if (_.isFunction(triggerOnConfig)) {\n      htmlString = triggerOnConfig(_displayData);\n      htmlString = `<div class=\"ring-guide-html ${this.statisticClass}\">${htmlString}</div>`;\n    }\n    return htmlString;\n  }\n\n  private applyResponsive(stage) {\n    const methods = responsiveMethods[stage];\n    _.each(methods, (r) => {\n      const responsive = r as LooseMap;\n      responsive.method(this);\n    });\n  }\n\n  private getStatisticSize() {\n    return this.width * this.options.radius;\n  }\n\n  /** @override 调整 label 默认 options */\n  protected adjustLabelDefaultOptions(options: RingLayerConfig) {\n    const labelConfig = { ...options.label };\n    if (labelConfig && labelConfig.type === 'inner') {\n      const labelStyleConfig = (labelConfig.style || {}) as LooseMap;\n      if (!labelStyleConfig.textAlign) {\n        labelStyleConfig.textAlign = 'center';\n      }\n      labelConfig.style = labelStyleConfig;\n      if (!labelConfig.offset) {\n        labelConfig.offset = `${((options.innerRadius - 1) / 2) * 100}%`;\n      }\n    }\n    return labelConfig;\n  }\n}\n\nregisterPlotType('ring', RingLayer);\n","import responsiveRing from './geometry';\n\nconst preRenderResponsive = [{ name: 'responsiveRing', method: responsiveRing }];\n\nconst afterRenderResponsive = [];\n\nexport default {\n  preRender: preRenderResponsive,\n};\n","import { getCoordinate } from '@antv/coord';\nimport VariableNodes from '../../../util/responsive/node/variable-node';\nimport Responsive from '../../../util/responsive/responsive';\nimport RingLayer from '../layer';\n\nexport default function responsiveRing(layer: RingLayer) {\n  const props = layer.options;\n  const responsiveTheme = layer.getResponsiveTheme();\n  const padding = props.padding;\n  const radius = props.radius ? props.radius : 1;\n  const { width, height } = layer;\n  /** 创建坐标系 */\n  const polar = getCoordinate('polar');\n  const coord = new polar({\n    radius,\n    start: { x: padding[3], y: padding[0] },\n    end: { x: width - padding[1], y: height - padding[2] },\n  });\n  const region = {\n    radius,\n    coord,\n  };\n  const nodes = new VariableNodes({\n    nodes: [{ name: 'innerRadius', value: 0 }],\n  });\n\n  const { constraints } = responsiveTheme.ring;\n  new Responsive({\n    nodes,\n    constraints,\n    region,\n    plot: layer,\n    onEnd: () => {\n      props.innerRadius = nodes.nodes[0].value;\n    },\n  });\n}\n","import * as _ from '@antv/util';\n\ninterface NodesCfg {\n  nodes: IVariableNode[];\n}\n\ninterface IVariableNode {\n  name: string;\n  value: any;\n}\n\nexport default class VariableNodes {\n  public nodes: IVariableNode[];\n  public type: string = 'variable';\n  constructor(cfg: NodesCfg) {\n    _.assign(this, cfg);\n  }\n  public normalize() {}\n}\n","import * as _ from '@antv/util';\nimport { registerResponsiveTheme } from '../../../util/responsive/theme';\n\n/** 组装theme\n * 其实这个应该是扩展自pie的，anyway，先这样写\n */\nconst ringTheme = {\n  ring: {\n    constraints: [{ name: 'ringThickness' }, { name: 'minRingThickness' }],\n  },\n};\n\nregisterResponsiveTheme('ring', ringTheme);\n","import * as _ from '@antv/util';\n\n/*tslint:disable*/\nconst containerStyle =\n  \"color:#8c8c8c;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;\";\n\nconst nameStyle = 'font-weight:300;';\n\nconst valueStyle = 'font-size:32px;font-weight:bold;color:#4D4D4D';\n\nfunction getSingleDataTemplate(value, classId, size) {\n  const domStyle = `${containerStyle}width:${size}px;`;\n  return `<div class=\"ring-guide-html ${classId}\" style=${domStyle}><span class=\"ring-guide-value\" style=${valueStyle}>${value}</span></div>`;\n}\n\nfunction getTwoDataTemplate(name, value, classId, size) {\n  const domStyle = `${containerStyle}width:${size}px;`;\n  return `<div class=\"ring-guide-html ${classId}\" style=${domStyle}><span class=\"ring-guide-name\" style=${nameStyle}>${name}</span><br/><span class=\"ring-guide-value\" style=${valueStyle}>${value}</span></div>`;\n}\n\nexport { getSingleDataTemplate, getTwoDataTemplate };\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onRingClick: 'interval:click',\n  onRingDblclick: 'interval:dblclick',\n  onRingMousemove: 'interval:mousemove',\n  onRingMouseenter: 'interval:mouseenter',\n  onRingMouseleave: 'interval:mouseleave',\n  onRingMousedown: 'interval:mousedown',\n  onRingMouseup: 'interval:mouseup',\n  onRingContextmenu: 'interval:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RadarLayer, { RadarViewConfig } from './layer';\n\nexport interface RadarConfig extends RadarViewConfig, PlotConfig {}\n\nexport default class Radar extends BasePlot<RadarConfig> {\n  public static getDefaultOptions: typeof RadarLayer.getDefaultOptions = RadarLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'radar';\n    super.createLayers(layerProps);\n  }\n}\n","import { CoordinateType } from '@antv/g2/lib/plot/interface';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport * as EventParser from './event';\nimport { PointStyle, LineStyle } from '../line/layer';\nimport { IValueAxis, ICatAxis, ITimeAxis } from '../../interface/config';\n\ninterface FillStyle {\n  fill?: string;\n  opacity?: string;\n}\n\nexport interface RadarViewConfig extends ViewConfig {\n  /** 角度字段 */\n  angleField: string;\n  /** 径向字段 */\n  radiusField: string;\n  /** 分组字段 */\n  seriesField?: string;\n  /** 是否平滑 */\n  smooth?: boolean;\n  /** 折线图形样式 */\n  line?: {\n    visible?: boolean;\n    size?: number;\n    color?: string;\n    style?: LineStyle | ((...args: any[]) => LineStyle);\n  };\n  /** 数据点图形样式 */\n  point?: {\n    visible?: boolean;\n    shape?: string;\n    size?: number;\n    color?: string;\n    style?: PointStyle | ((...args: any[]) => PointStyle);\n  };\n  /** area图形样式 */\n  area?: {\n    visible?: boolean;\n    style?: FillStyle | ((...args: any[]) => FillStyle);\n  };\n  /** 角度轴配置 */\n  angleAxis?: ICatAxis | ITimeAxis;\n  /** 径向轴配置 */\n  radiusAxis?: IValueAxis;\n  /** 雷达图半径 */\n  radius?: number;\n}\n\nexport interface RadarLayerConfig extends RadarViewConfig, LayerConfig {}\n\nconst GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n  point: 'point',\n};\n\nexport default class RadarLayer extends ViewLayer<RadarLayerConfig> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false,\n      },\n      description: {\n        visible: false,\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      smooth: false,\n      line: {\n        visible: true,\n        size: 2,\n        style: {\n          opacity: 1,\n        },\n      },\n      area: {\n        visible: true,\n        style: {\n          opacity: 0.25,\n        },\n      },\n      point: {\n        visible: false,\n        size: 4,\n        shape: 'point',\n        style: {\n          opacity: 1,\n        },\n      },\n      angleAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: true,\n        autoRotateTitle: true,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: true,\n          style: {\n            lineDash: [0, 0],\n          },\n        },\n        label: {\n          visible: true,\n          offset: 8,\n        },\n        title: {\n          visible: false,\n        },\n      },\n      radiusAxis: {\n        min: 0,\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: true,\n        autoRotateTitle: true,\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        gridType: 'line',\n        grid: {\n          visible: true,\n          style: {\n            lineDash: [0, 0],\n          },\n        },\n        label: {\n          visible: true,\n        },\n        title: {\n          visible: false,\n        },\n      },\n      label: {\n        visible: false,\n        type: 'point',\n      },\n      legend: {\n        visible: true,\n        position: 'left-top',\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        crosshairs: null,\n      },\n    });\n  }\n  public type: string = 'radar';\n  public line: any;\n  public point: any;\n  public area: any;\n  public baseElement: any;\n  public lineElement: any; // 保存line、area、point的配置项，用于后续的label、tooltip\n  public pointElement: any;\n  public areaElement: any;\n\n  public init() {\n    const props = this.options;\n    props.xField = props.angleField;\n    props.yField = props.radiusField;\n    super.init();\n  }\n\n  public getOptions(props: RadarLayerConfig) {\n    const options = super.getOptions(props);\n    // @ts-ignore\n    const defaultOptions = this.constructor.getDefaultOptions();\n    return _.deepMix({}, options, defaultOptions, props);\n  }\n\n  protected geometryParser(dim, type) {\n    return GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置x-scale */\n    scales[props.angleField] = {};\n    if (_.has(props, 'angleAxis')) {\n      extractScale(scales[props.angleField], props.angleAxis);\n    }\n    /** 配置y-scale */\n    scales[props.radiusField] = {};\n    if (_.has(props, 'radiusAxis')) {\n      extractScale(scales[props.radiusField], props.radiusAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig = {\n      type: 'polar' as CoordinateType,\n      cfg: {\n        radius: props.radius,\n      },\n    };\n    this.setConfig('coord', coordConfig);\n  }\n\n  protected axis(): void {\n    const props = this.options;\n    const xAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'angle',\n    });\n    const yAxis_parser = getComponent('axis', {\n      plot: this,\n      dim: 'radius',\n    });\n    const axesConfig = { fields: {} };\n    axesConfig.fields[props.angleField] = xAxis_parser;\n    axesConfig.fields[props.radiusField] = yAxis_parser;\n    /** 存储坐标轴配置项到config */\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    /** 配置面积 */\n    if (props.area.visible) {\n      const area = getGeom('area', 'main', {\n        plot: this,\n      });\n      this.setConfig('element', area);\n      this.area = area;\n    }\n    /** 配置线 */\n    if (props.line && props.line.visible) {\n      const line = getGeom('line', 'guide', {\n        plot: this,\n      });\n      this.setConfig('element', line);\n      this.line = line;\n    }\n    /** 配置点 */\n    if (props.point && props.point.visible) {\n      const point = getGeom('point', 'guide', {\n        plot: this,\n      });\n      this.setConfig('element', point);\n      this.point = point;\n    }\n  }\n\n  protected label() {}\n\n  protected annotation() {}\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      // 关闭动画\n      if (this.area) this.area.animate = false;\n      if (this.line) this.line.animate = false;\n      if (this.point) this.point.animate = false;\n    }\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('radar', RadarLayer);\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineContextmenu: 'line:contextmenu',\n  onPointClick: 'point:click',\n  onPointDblclick: 'point:dblclick',\n  onPointMousemove: 'point:mousemove',\n  onPointMouseenter: 'point:mouseenter',\n  onPointMouseleave: 'point:mouseleave',\n  onPointMousedown: 'point:mousedown',\n  onPointMouseup: 'point:mouseup',\n  onPointContextmenu: 'point:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport LiquidLayer, { LiquidViewConfig } from './layer';\n\nexport interface LiquidConfig extends LiquidViewConfig, PlotConfig {}\n\nexport default class Liquid extends BasePlot<LiquidConfig> {\n  public static getDefaultOptions: typeof LiquidLayer.getDefaultOptions = LiquidLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'liquid';\n    super.createLayers(layerProps);\n  }\n\n  public changeValue(value: number, all: boolean = false) {\n    if (all) {\n      this.eachLayer((layer) => {\n        if (layer instanceof LiquidLayer) {\n          layer.changeValue(value);\n        }\n      });\n    } else {\n      const layer: any = this.layers[0];\n      if (layer instanceof LiquidLayer) {\n        layer.changeValue(value);\n      }\n    }\n  }\n}\n","import * as _ from '@antv/util';\nimport { BBox } from '@antv/g';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport './geometry/shape/liquid';\nimport './animation/liquid-move-in';\nimport { DataItem } from '../../interface/config';\nimport { rgb2arr } from '../../util/color';\n\nconst G2_GEOM_MAP = {\n  column: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'liquid',\n};\n\nexport interface LiquidStyle {}\n\nexport interface LiquidViewConfig extends Partial<ViewConfig> {\n  statistic?: {\n    visible?: boolean;\n    adjustColor?: boolean;\n    style?: {};\n    formatter?: (value) => string;\n  };\n  min: number;\n  max: number;\n  value: number;\n  liquidStyle?: LiquidStyle | ((...args: any[]) => LiquidStyle);\n}\n\nexport interface LiquidLayerConfig extends LiquidViewConfig, LayerConfig {\n  data: DataItem[];\n}\n\nexport default class LiquidLayer<T extends LiquidLayerConfig = LiquidLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): Partial<LiquidViewConfig> {\n    const cfg: Partial<LiquidViewConfig> = {\n      animation: {\n        factor: 0.4,\n        easing: 'easeExpOut',\n        duration: 800,\n      },\n      liquidStyle: {\n        lineWidth: 2,\n      },\n    };\n    return _.deepMix({}, super.getDefaultOptions(), cfg);\n  }\n\n  public liquid: any;\n  public type: string = 'liquid';\n  private shouldFadeInAnnotation: boolean = true;\n\n  public init() {\n    this.options.data = [{}];\n    super.init();\n  }\n\n  protected coord() {}\n\n  protected scale() {\n    const props = this.options;\n    const { min, max } = props;\n    const scales = {\n      value: {},\n    };\n    extractScale(scales.value, {\n      min: Math.min(min, max),\n      max: Math.max(min, max),\n    });\n    // @ts-ignore\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected axis(): void {\n    this.setConfig('axes', false);\n  }\n\n  protected adjustLiquid(liquid) {\n    const { options: props } = this;\n\n    liquid.shape = {\n      values: ['liquid-fill-gauge'],\n    };\n\n    liquid.tooltip = false;\n\n    let liquidStyle = props.liquidStyle;\n    if (_.isFunction(liquidStyle)) liquidStyle = liquidStyle();\n    if (liquidStyle) {\n      liquid.style = liquidStyle;\n    }\n  }\n\n  protected addGeometry(): void {\n    const liquid = getGeom('interval', 'main', {\n      positionFields: ['_', 'value'],\n      plot: this,\n    });\n    this.adjustLiquid(liquid);\n    this.liquid = liquid;\n    this.setConfig('element', liquid);\n  }\n\n  protected animation() {\n    const props = this.options;\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.liquid.animate = false;\n    } else {\n      const factor = _.get(props, 'animation.factor');\n      const easing = _.get(props, 'animation.easing');\n      const duration = _.get(props, 'animation.duration');\n      this.liquid.animate = {\n        appear: {\n          animation: 'liquidMoveIn',\n          factor,\n          easing,\n          duration,\n        },\n      };\n    }\n  }\n\n  protected geometryParser(dim: string, type: string): string {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected annotation() {\n    const annotationConfigs = [];\n\n    const statisticConfig = this.extractStatistic();\n    annotationConfigs.push(statisticConfig);\n\n    this.setConfig('annotations', annotationConfigs);\n  }\n\n  protected extractStatistic() {\n    const props = this.options;\n    const statistic = props.statistic || {};\n\n    let content;\n    if (_.isFunction(statistic.formatter)) {\n      content = statistic.formatter(props.value);\n    } else {\n      content = `${props.value}`;\n    }\n\n    let fontSize;\n    let shadowBlur;\n    if (content) {\n      let contentWidth;\n      if (props.width < props.height) {\n        contentWidth = props.width * 0.8;\n      } else {\n        contentWidth = props.height;\n      }\n      fontSize = (0.8 * contentWidth) / content.length;\n      shadowBlur = Math.max(1, Math.ceil(0.025 * fontSize));\n    }\n\n    let opacity;\n    if (statistic.visible === false) {\n      opacity = 0;\n    }\n\n    const statisticConfig = _.deepMix(\n      {\n        style: {\n          fontSize,\n          shadowBlur,\n        },\n      },\n      statistic,\n      {\n        top: true,\n        content,\n        type: 'text',\n        position: ['_', 'median'],\n        style: {\n          opacity,\n          fill: 'transparent',\n          shadowColor: 'transparent',\n          textAlign: 'center',\n        },\n      }\n    );\n\n    delete statisticConfig.visible;\n    delete statisticConfig.formatter;\n    delete statisticConfig.adjustColor;\n    return statisticConfig;\n  }\n\n  public afterRender() {\n    this.fadeInAnnotation();\n    const { options } = this;\n    const padding = options.padding ? options.padding : this.config.theme.padding;\n    /** defaultState */\n    if (options.defaultState && padding !== 'auto') {\n      this.stateController.defaultStates(options.defaultState);\n    }\n    /** autopadding */\n    if (padding === 'auto') {\n      this.paddingController.processAutoPadding();\n    }\n  }\n\n  protected processData(data?: DataItem[]): DataItem[] | undefined {\n    const props = this.options;\n    return [{ _: '_', value: props.value }];\n  }\n\n  public changeValue(value: number): void {\n    const props = this.options;\n    props.value = value;\n    this.changeData([]);\n  }\n\n  protected fadeInAnnotation() {\n    const props = this.options;\n    const animation = props.animation || {};\n\n    const { annotations } = this.view.annotation();\n    const annotationEl = annotations[0].get('el');\n    const colorStyle = this.calcAnnotationColorStyle();\n    if (this.shouldFadeInAnnotation) {\n      annotationEl.animate(colorStyle, animation.duration * Math.min(1, 1.5 * animation.factor), null, () => {\n        this.shouldFadeInAnnotation = false;\n      });\n    } else {\n      _.forIn(colorStyle, (v, k) => annotationEl.attr(k, v));\n    }\n  }\n\n  protected calcAnnotationColorStyle() {\n    const { options: props } = this;\n\n    const lightColorStyle = { fill: '#f6f6f6', shadowColor: 'black' };\n    const darkColorStyle = { fill: '#303030', shadowColor: 'white' };\n\n    if (_.get(props, 'statistic.adjustColor') === false) {\n      return {\n        fill: _.get(props, 'statistic.style.fill', darkColorStyle.fill),\n        shadowColor: _.get(props, 'statistic.style.shadowColor', darkColorStyle.shadowColor),\n      };\n    }\n\n    let { min, max } = props;\n    const { value } = props;\n    min = Math.min(min, max);\n    max = Math.max(min, max);\n    let percent;\n    if (min == max) {\n      percent = 1;\n    } else {\n      percent = (value - min) / (max - min);\n    }\n\n    if (percent > 0.55) {\n      const waves = this.view\n        .get('elements')[0]\n        .get('container')\n        .find((shape) => shape.get('name') == 'waves');\n      const wave = waves.getChildByIndex(0);\n\n      const waveColor = wave.attr('fill');\n      const waveOpacity = 0.8;\n      const rgb = rgb2arr(waveColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / waveOpacity;\n\n      return gray < 156 ? lightColorStyle : darkColorStyle;\n    }\n\n    return darkColorStyle;\n  }\n\n  public updateConfig(cfg: Partial<T>): void {\n    super.updateConfig(cfg);\n    this.shouldFadeInAnnotation = true;\n  }\n\n  protected getViewRange() {\n    const viewRange = super.getViewRange();\n    const liquidStyle: any = this.options.liquidStyle;\n    const strokeWidth = liquidStyle.lineWidth ? liquidStyle.lineWidth : 2;\n    const { minX, minY, width, height } = viewRange;\n    const size = Math.min(width, height) - strokeWidth * 2;\n    const cx = minX + width / 2;\n    const cy = minY + height / 2;\n    const x = cx - size / 2;\n    const y = cy - size / 2;\n    return new BBox(x, y, size, size);\n  }\n}\n\nregisterPlotType('liquid', LiquidLayer);\n","import { Circle } from '@antv/g';\nimport { Global, registerShape } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nconst ShapeUtil = {\n  splitPoints(obj) {\n    const points = [];\n    const x = obj.x;\n    let y = obj.y;\n    y = _.isArray(y) ? y : [y];\n    _.each(y, (yItem, index) => {\n      const point = {\n        x: _.isArray(x) ? x[index] : x,\n        y: yItem,\n      };\n      points.push(point);\n    });\n    return points;\n  },\n  addFillAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.fill) {\n      attrs.fill = cfg.color;\n    }\n    if (_.isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.fillOpacity = cfg.opacity;\n    }\n  },\n  addStrokeAttrs(attrs, cfg) {\n    if (cfg.color && !attrs.stroke) {\n      attrs.stroke = cfg.color;\n    }\n    if (_.isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n    }\n  },\n};\n\nconst ValueUtil = {\n  lerp(a, b, factor) {\n    return (1 - factor) * a + factor * b;\n  },\n};\n\nconst getFillAttrs = (cfg) => {\n  const defaultAttrs = Global.theme.shape.interval;\n  const attrs = _.mix({}, defaultAttrs, cfg.style);\n  ShapeUtil.addFillAttrs(attrs, cfg);\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = attrs.stroke || cfg.color;\n  }\n  return attrs;\n};\n\nconst getLineAttrs = (cfg) => {\n  const defaultAttrs = Global.theme.shape.hollowInterval;\n  const attrs = _.mix({}, defaultAttrs, cfg.style);\n  ShapeUtil.addStrokeAttrs(attrs, cfg);\n  return attrs;\n};\n\n/**\n * 用贝塞尔曲线模拟正弦波\n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param {number} x          x position of the left-most point (a)\n * @param {number} stage      0-3, stating which part of the wave it is\n * @param {number} waveLength wave length of the sine wave\n * @param {number} amplitude  wave amplitude\n * @return {Array} 正弦片段曲线\n */\nfunction getWaterWavePositions(x, stage, waveLength, amplitude) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * 获取水波路径\n * @param  {number} radius          半径\n * @param  {number} waterLevel      水位\n * @param  {number} waveLength      波长\n * @param  {number} phase           相位\n * @param  {number} amplitude       震幅\n * @param  {number} cx              圆心x\n * @param  {number} cy              圆心y\n * @return {Array}  path            路径\n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(radius, waterLevel, waveLength, phase, amplitude, cx, cy) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 2;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * 添加水波\n * @param {number} x           中心x\n * @param {number} y           中心y\n * @param {number} level       水位等级 0～1\n * @param {number} waveCount   水波数\n * @param {number} colors      色值\n * @param {number} group       图组\n * @param {number} clip        用于剪切的图形\n * @param {number} radius      绘制图形的高度\n */\nfunction addWaterWave(x, y, level, waveCount, color, group, clip, radius) {\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n  const duration = 5000;\n  for (let i = 0; i < waveCount; i++) {\n    const factor = waveCount <= 1 ? 0 : i / (waveCount - 1);\n    const wave = group.addShape('path', {\n      attrs: {\n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          width / 4,\n          0,\n          width / ValueUtil.lerp(56, 64, factor),\n          x,\n          y\n        ),\n        fill: color,\n        clip,\n        opacity: ValueUtil.lerp(0.6, 0.3, factor),\n      },\n    });\n    // FIXME wave animation error in svg\n    if (Global.renderer === 'canvas') {\n      wave.animate(\n        {\n          transform: [['t', width / 2, 0]],\n          repeat: true,\n        },\n        ValueUtil.lerp(duration, 0.7 * duration, factor)\n      );\n    }\n  }\n}\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container) {\n    const cy = 0.5;\n    let sumX = 0;\n    let minX = Infinity;\n    _.each(cfg.points, (p: any) => {\n      if (p.x < minX) {\n        minX = p.x;\n      }\n      sumX += p.x;\n    });\n    const cx = sumX / cfg.points.length;\n    const cp = this.parsePoint({ x: cx, y: cy });\n    const minP = this.parsePoint({ x: minX, y: 0.5 });\n    const xWidth = cp.x - minP.x;\n    const radius = Math.min(xWidth, minP.y);\n    const { fill } = getFillAttrs(cfg);\n    const clipCircle = new Circle({\n      attrs: {\n        x: cp.x,\n        y: cp.y,\n        r: radius,\n      },\n    });\n    const waves = container.addGroup({\n      name: 'waves',\n      attrs: {\n        x: cp.x,\n        y: cp.y,\n        clip: clipCircle,\n      },\n    });\n    addWaterWave(\n      cp.x,\n      cp.y,\n      1 - cfg.points[1].y, // cfg.y / (2 * cp.y),\n      3,\n      fill,\n      waves,\n      clipCircle,\n      radius * 4\n    );\n    return container.addShape('circle', {\n      name: 'wrap',\n      attrs: _.mix(getLineAttrs(cfg), {\n        x: cp.x,\n        y: cp.y,\n        r: radius,\n        fill: 'transparent',\n      }),\n    });\n  },\n});\n","import { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction liquidMoveIn(shape, animateCfg) {\n  const container = shape.get('parent');\n  const box = container.getBBox();\n  const factor = Math.min(Math.max(0, _.get(animateCfg, 'factor', 0.5)), 1);\n  const delay = _.get(animateCfg, 'delay', 0);\n  const duration = _.get(animateCfg, 'duration', 800);\n  const { callback } = animateCfg;\n\n  const originX = (box.minX + box.maxX) / 2;\n  const originY = box.maxY;\n\n  const wrap = container.find((shape) => shape.get('name') == 'wrap');\n  const wrapTargetOpacity = wrap.attr('opacity');\n  wrap.attr('opacity', 0);\n  wrap.animate({ opacity: wrapTargetOpacity }, duration * factor, 'easeLinear', null, delay);\n\n  const waves = container.find((shape) => shape.get('name') == 'waves');\n  const wavesTargetMatrix = _.clone(waves.attr('matrix'));\n  waves.attr('transform', [\n    ['t', -originX, -originY],\n    ['s', 1, 0],\n    ['t', originX, originY],\n  ]);\n  waves.animate(\n    { matrix: wavesTargetMatrix },\n    duration,\n    animateCfg.easing,\n    () => callback && callback(container, wrap, waves),\n    delay\n  );\n}\nliquidMoveIn.animationName = 'liquidMoveIn';\nAnimate.registerAnimation('appear', 'liquidMoveIn', liquidMoveIn);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport GaugeLayer, { GaugeLayerConfig } from './layer';\n\nexport interface GaugeConfig extends GaugeLayerConfig, PlotConfig {}\n\nexport default class Gauge extends BasePlot<GaugeConfig> {\n  public static getDefaultOptions: typeof GaugeLayer.getDefaultOptions = GaugeLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'gauge';\n    super.createLayers(layerProps);\n  }\n}\n","import { CoordinateType } from '@antv/g2/lib/plot/interface';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { ElementOption } from '../../interface/config';\nimport { extractScale } from '../../util/scale';\nimport './geometry/shape/pointer';\nimport './theme';\n\ninterface GaugeStyle {\n  fontColor?: string;\n  fontOpacity?: number;\n  fontSize?: number;\n  borderOpacity?: number;\n  borderWidth?: number;\n  size?: number;\n  tickLabelOffset?: number[];\n}\n\nconst GAP = 1;\nconst RADIUS = 0.9;\n\nexport interface GaugeViewConfig extends ViewConfig {\n  startAngle?: number;\n  endAngle?: number;\n  min?: number;\n  max?: number;\n  value?: number;\n  showValue?: boolean;\n  format?: (...args: any[]) => string;\n  gaugeStyle?: GaugeStyle;\n  range: number[];\n  styleMix?: any;\n  valueText?: string;\n  statistic: any; // todo: 指标卡类型定义\n}\n\nexport interface GaugeLayerConfig extends GaugeViewConfig, LayerConfig {}\n\nexport default class GaugeLayer extends ViewLayer<GaugeLayerConfig> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      startAngle: -7 / 6,\n      endAngle: 1 / 6,\n      range: [0, 25, 50, 75, 100],\n      gaugeStyle: {\n        tickLineColor: 'rgba(0,0,0,0)',\n        pointerColor: '#bfbfbf',\n        statisticPos: ['50%', '100%'],\n      },\n    });\n  }\n\n  public type: string = 'gauge';\n\n  public init() {\n    const { value, range } = this.options;\n    const rangeSorted = range.map((d: number) => +d).sort((a: number, b: number) => a - b);\n\n    const { min = rangeSorted[0], max = rangeSorted[rangeSorted.length - 1], format = (d) => `${d}` } = this.options;\n\n    const valueText = format(value);\n    const styleMix = this.getStyleMix();\n    this.options.styleMix = styleMix;\n    this.options.data = [{ value: value || 0 }];\n    this.options.valueText = valueText;\n    this.options.min = min;\n    this.options.max = max;\n    this.options.format = format;\n    super.init();\n  }\n\n  protected geometryParser(dim: string, type: string): string {\n    throw new Error('Method not implemented.');\n  }\n\n  protected getStyleMix() {\n    const { gaugeStyle = {} } = this.options;\n    const { width, height } = this;\n    const size = Math.max(width, height) / 20;\n    const defaultStyle = Object.assign({}, this.theme, {\n      stripWidth: size,\n      tickLabelSize: size / 2,\n      statisticSize: size * 1.5,\n    });\n    return Object.assign(defaultStyle, gaugeStyle);\n  }\n\n  protected scale() {\n    const { min, max, format, styleMix } = this.options;\n    const scales = {\n      value: {},\n    };\n    extractScale(scales.value, {\n      min,\n      max,\n      minLimit: min,\n      maxLimit: max,\n      nice: true,\n      formatter: format,\n      // 自定义 tick step\n      tickInterval: styleMix.tickInterval,\n    });\n    // @ts-ignore\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {\n    const coordConfig = {\n      type: 'polar' as CoordinateType,\n      cfg: {\n        radius: 0.9,\n        startAngle: this.options.startAngle * Math.PI,\n        endAngle: this.options.endAngle * Math.PI,\n      },\n    };\n    this.setConfig('coord', coordConfig);\n  }\n\n  protected axis() {\n    const { styleMix } = this.options;\n\n    const offset =\n      typeof styleMix.tickLabelPos === 'number'\n        ? -styleMix.tickLabelPos\n        : styleMix.tickLabelPos === 'outer'\n        ? 0.8\n        : -0.8;\n\n    const axesConfig = {\n      fields: {\n        value: {},\n        1: {},\n      },\n    };\n    axesConfig.fields.value = {\n      line: null,\n      label: {\n        offset: offset * (styleMix.stripWidth / 1.8 + styleMix.tickLabelSize / 1.5),\n        textStyle: {\n          fontSize: styleMix.tickLabelSize,\n          fill: styleMix.tickLabelColor,\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n      },\n      tickLine: {\n        length: offset * (styleMix.stripWidth + 4),\n        stroke: styleMix.tickLineColor,\n        lineWidth: 2,\n        // 由于tickline的zindex在annotation之上，所以使用lineDash实现offset\n        lineDash: [0, styleMix.stripWidth / 2, Math.abs(offset * (styleMix.stripWidth + 4))],\n      },\n      subTickCount: styleMix.subTickCount,\n      subTickLine: {\n        length: offset * (styleMix.stripWidth + 1),\n        stroke: styleMix.tickLineColor,\n        lineWidth: 1,\n        lineDash: [0, styleMix.stripWidth / 2, Math.abs(offset * (styleMix.stripWidth + 1))],\n      },\n      labelAutoRotate: true,\n    };\n    axesConfig.fields['1'] = false;\n    this.setConfig('axes', axesConfig);\n  }\n\n  protected addGeometry() {\n    const { styleMix } = this.options;\n    const pointerColor = styleMix.pointerColor || this.config.theme.defaultColor;\n\n    const pointer: ElementOption = {\n      type: 'point',\n      position: {\n        fields: ['value', '1'],\n      },\n      shape: {\n        values: ['pointer'],\n      },\n      color: {\n        values: [pointerColor],\n      },\n      animate: false,\n    };\n\n    this.setConfig('element', pointer);\n  }\n\n  protected annotation() {\n    const { min, max, statistic, range, styleMix } = this.options;\n    const annotationConfigs = [];\n\n    // @ts-ignore\n    if (statistic !== false) {\n      const statistics = this.renderStatistic();\n      annotationConfigs.push(statistics);\n    }\n\n    const arcSize = 1; // 0.965;\n    const strips = this.renderArcs(range, arcSize, styleMix);\n    const allArcs = annotationConfigs.concat(strips);\n    this.setConfig('annotations', allArcs);\n  }\n\n  private renderArcs(range, arcSize, styleMix) {\n    const colors = styleMix.colors || this.config.theme.colors;\n    const rangeArray = (d: number) => [\n      ...Array(d)\n        .fill(0)\n        .map((data, i) => i),\n    ];\n    const count = range.length - 1;\n    const Arcs = [];\n    const Bks = [];\n    const countArray = rangeArray(count);\n    _.each(countArray, (index) => {\n      const gap = index === countArray.length - 1 ? 0 : this.calGapAngle();\n      const arc = {\n        type: 'arc',\n        start: [range[index], arcSize],\n        end: [range[index + 1] - gap, arcSize],\n        style: {\n          stroke: colors[index % colors.length],\n          lineWidth: styleMix.stripWidth,\n        },\n      };\n      const base = _.deepMix({}, arc, {\n        style: {\n          stroke: styleMix.stripBackColor,\n        },\n      });\n      Bks.push(base);\n      Arcs.push(arc);\n    });\n    // 如果range不以0为起始\n    if (range[0] !== 0) {\n      Bks.push({\n        type: 'arc',\n        start: [0, arcSize],\n        end: [range[0] - this.calGapAngle(), arcSize],\n        style: {\n          stroke: styleMix.stripBackColor,\n          lineWidth: styleMix.stripWidth,\n        },\n      });\n    }\n    // 如果range不以100为结束\n    if (range[range.length - 1] !== 100) {\n      Bks.push({\n        type: 'arc',\n        start: [range[range.length - 1] + this.calGapAngle(), arcSize],\n        end: [100, arcSize],\n        style: {\n          stroke: styleMix.stripBackColor,\n          lineWidth: styleMix.stripWidth,\n        },\n      });\n    }\n\n    return Bks.concat(Arcs);\n  }\n\n  private statisticHtml() {\n    const { value, format } = this.options;\n    const statistic: any = this.options.statistic;\n    const formatted: string = format(value);\n\n    if (typeof statistic === 'boolean' && statistic === true) {\n      return value !== null ? formatted : '--';\n    }\n    if (typeof statistic === 'string') {\n      return statistic;\n    }\n    if (typeof statistic === 'function') {\n      return statistic(value, formatted);\n    }\n    return null;\n  }\n\n  private renderStatistic() {\n    const { statistic, styleMix } = this.options;\n    const statisticHtml: string | HTMLElement | null = this.statisticHtml();\n\n    if (typeof statistic !== 'function') {\n      const text = {\n        type: 'text',\n        content: statisticHtml,\n        top: true,\n        position: styleMix.statisticPos,\n        style: {\n          fill: styleMix.statisticColor,\n          fontSize: styleMix.statisticSize,\n          textAlign: 'center',\n        },\n      };\n      return text;\n    }\n\n    if (typeof statistic === 'function') {\n      const html = {\n        type: 'html',\n        zIndex: 10,\n        position: styleMix.statisticPos,\n        html: statisticHtml,\n      };\n      return html;\n    }\n  }\n\n  private calGapAngle() {\n    const ratio = (Math.abs(this.options.startAngle - this.options.endAngle) / Math.PI) * 100;\n    const radius = (this.width / 2) * RADIUS;\n    return (GAP / radius) * ratio;\n  }\n}\n\nregisterPlotType('gauge', GaugeLayer);\n","import { registerShape } from '@antv/g2';\n\nconst POINTER_RADIUS = 10;\nconst POINTER_LINE_WIDTH = 4;\n\nregisterShape('point', 'pointer', {\n  draw(cfg, group) {\n    const point = cfg.points[0];\n    const center = this.parsePoint({\n      x: 0,\n      y: 0,\n    });\n    const target = this.parsePoint({\n      x: point.x,\n      y: 0.5,\n    });\n    const dir_vec = {\n      x: center.x - target.x,\n      y: center.y - target.y,\n    };\n    //normalize\n    const length = Math.sqrt(dir_vec.x * dir_vec.x + dir_vec.y * dir_vec.y);\n    dir_vec.x *= 1 / length;\n    dir_vec.y *= 1 / length;\n    //rotate dir_vector by -90 and scale\n    const angle1 = -Math.PI / 2;\n    const x_1 = Math.cos(angle1) * dir_vec.x - Math.sin(angle1) * dir_vec.y;\n    const y_1 = Math.sin(angle1) * dir_vec.x + Math.cos(angle1) * dir_vec.y;\n    //rotate dir_vector by 90 and scale\n    const angle2 = Math.PI / 2;\n    const x_2 = Math.cos(angle2) * dir_vec.x - Math.sin(angle2) * dir_vec.y;\n    const y_2 = Math.sin(angle2) * dir_vec.x + Math.cos(angle2) * dir_vec.y;\n    // startx\n    const angle = Math.atan2(dir_vec.y, dir_vec.x);\n    const offset = POINTER_LINE_WIDTH / 2 - POINTER_RADIUS;\n    const startX = center.x + Math.cos(angle) * offset;\n    const startY = center.y + Math.sin(angle) * offset;\n    //polygon vertex\n    const path = [\n      ['M', target.x + x_1 * 1, target.y + y_1 * 1],\n      ['L', startX + x_1 * 3, startY + y_1 * 3],\n      ['L', startX + x_2 * 3, startY + y_2 * 3],\n      ['L', target.x + x_2 * 1, target.y + y_2 * 1],\n      ['Z'],\n    ];\n    group.addShape('circle', {\n      attrs: {\n        x: center.x,\n        y: center.y,\n        r: POINTER_RADIUS,\n        lineWidth: POINTER_LINE_WIDTH,\n        stroke: cfg.color,\n      },\n    });\n    const tick = group.addShape('path', {\n      attrs: {\n        path: path,\n        fill: cfg.color,\n      },\n    });\n    return tick;\n  },\n});\n","import { registerTheme } from '../../theme';\n\nregisterTheme('gauge', {\n  stripWidth: 30,\n  stripBackColor: '#ddd',\n  tickInterval: 20,\n  tickLabelPos: 'inner',\n  tickLabelSize: 16,\n  tickLabelColor: '#aaa',\n  tickLineColor: '#aaa',\n  subTickCount: 4,\n  labelPos: ['50%', '80%'],\n  labelColor: '#666',\n  labelSize: 30,\n});\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport AreaLayer, { AreaViewConfig } from './layer';\n\nexport interface AreaConfig extends AreaViewConfig, PlotConfig {}\n\nexport default class Area extends BasePlot<AreaConfig> {\n  public static getDefaultOptions: typeof AreaLayer.getDefaultOptions = AreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'area';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport StackAreaLayer, { StackAreaLayerConfig } from './layer';\n\nexport interface StackAreaConfig extends StackAreaLayerConfig, PlotConfig {}\n\nexport default class StackArea extends BasePlot<StackAreaConfig> {\n  public static getDefaultOptions: typeof StackAreaLayer.getDefaultOptions = StackAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'stackArea';\n    super.createLayers(layerProps);\n  }\n}\n","import { BBox, Shape, Text } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport ViewLayer from '../../../../base/view-layer';\n\nconst DEFAULT_SIZE = 12;\nconst TOLERANCE = 0.01;\nconst MAX_ITERATION = 100;\nconst MIN_HEIGHT = 12;\n\nfunction getRange(points) {\n  let maxHeight = -Infinity;\n  let min = Infinity;\n  let max = -Infinity;\n  _.each(points, (p) => {\n    min = Math.min(p.x, min);\n    max = Math.max(p.x, max);\n    const height = Math.abs(p.y[0] - p.y[1]);\n    maxHeight = Math.max(maxHeight, height);\n  });\n  return {\n    xRange: [min, max],\n    maxHeight,\n  };\n}\n\nfunction interpolateY(x, points, index) {\n  let leftPoint = points[0];\n  let rightPoint = points[points.length - 1];\n  _.each(points, (p) => {\n    if (p.x === x) {\n      return p.y[index];\n    }\n    if (p.x < x && p.x > leftPoint.x) {\n      leftPoint = p;\n    }\n    if (p.x > x && p.x < rightPoint.x) {\n      rightPoint = p;\n    }\n  });\n  const t = (x - leftPoint.x) / (rightPoint.x - leftPoint.x);\n  return leftPoint.y[index] * (1 - t) + rightPoint.y[index] * t;\n}\n\nfunction getXIndex(data, x) {\n  // tslint:disable-next-line: prefer-for-of\n  let i;\n  for (i = 0; i < data.length; i++) {\n    const d = data[i];\n    if (d.x === x || d.x > x) {\n      break;\n    }\n  }\n  return i;\n}\n\nclass AreaLabel extends ElementLabels {\n  private scaleFactor: number[] = [];\n\n  public showLabels(points: any, shapes: Shape[]) {\n    // 获取堆叠字段\n    const stackField = this.get('element').get('attrs').color.scales[0].field;\n    // 根据stackField将point分组\n    const groupedPoints = this._groupPoints(points, stackField);\n    const labelPoints = [];\n    _.each(groupedPoints, (pointArray, name) => {\n      const labelPoint = this._drawLabel(pointArray, name);\n      if (labelPoint) {\n        labelPoints.push(_.mix({}, pointArray[0], labelPoint));\n        this.scaleFactor.push(labelPoint.scaleFactor);\n      }\n    });\n    super.showLabels(labelPoints, shapes);\n    const labelOptions = this.get('labelOptions');\n    if (labelOptions.autoScale) {\n      this._adjuestLabelSize();\n    }\n  }\n\n  private _groupPoints(points, field) {\n    const groupedPoints = {};\n    _.each(points, (p) => {\n      const value = p._origin[field];\n      if (!_.has(groupedPoints, value)) {\n        groupedPoints[value] = [];\n      }\n      groupedPoints[value].push(p);\n    });\n    return groupedPoints;\n  }\n\n  private _drawLabel(points, name) {\n    const { xRange, maxHeight } = getRange(points);\n    // 根据area宽度在x方向各点间做插值\n    const resolution = xRange[1] - xRange[0];\n    const interpolatedPoints = this._getInterpolatedPoints(xRange[0], resolution, points);\n    // 获取label的bbox\n    const bbox = this._getLabelBbox(name);\n    const fitOption = {\n      xRange,\n      aspect: bbox.width / bbox.height,\n      data: interpolatedPoints,\n      justTest: true,\n    };\n    const height = this._bisection(MIN_HEIGHT, maxHeight, this._testFit, fitOption, TOLERANCE, MAX_ITERATION);\n    if (height === null) {\n      return;\n    }\n    fitOption.justTest = false;\n    const fit: any = this._testFit(fitOption);\n    fit.x = fit.x;\n    fit.y = fit.y0 + (fit.y1 - fit.y0) / 2;\n    fit.scaleFactor = (height / bbox.height) * 0.4;\n    return fit;\n  }\n\n  private _getInterpolatedPoints(minX, resolution, points) {\n    const interpolatedPoints = [];\n    const step = 2;\n    for (let i = minX; i < resolution; i += step) {\n      const y0 = interpolateY(i, points, 0);\n      const y1 = interpolateY(i, points, 1);\n      interpolatedPoints.push({\n        x: i,\n        y: [y0, y1],\n      });\n    }\n    return interpolatedPoints;\n  }\n\n  private _bisection(min, max, test, testOption, tolerance, maxIteration) {\n    for (let i = 0; i < maxIteration; i++) {\n      const middle = (min + max) / 2;\n      const options = testOption;\n      options.height = middle;\n      options.width = middle * options.aspect;\n      const passesTest = test(options);\n      const withinTolerance = (max - min) / 2 < tolerance;\n      if (passesTest && withinTolerance) {\n        return middle;\n      }\n      if (passesTest) {\n        min = middle;\n      } else {\n        max = middle;\n      }\n    }\n    return null;\n  }\n\n  private _testFit(option) {\n    const { xRange, width, height, data, justTest } = option;\n    for (let i = 0; i < data.length; i++) {\n      const d = data[i];\n      const x0 = d.x;\n      const x1 = x0 + width;\n      if (x1 > xRange[1]) {\n        break;\n      }\n      const x1_index = getXIndex(data, x1);\n      let ceiling = -Infinity;\n      let ceilingFloor = null; // 保存ceiling时对应的bottom位置，ceil和floor不一定是一对坐标\n      let floor = Infinity;\n      for (let j = i; j < x1_index; j++) {\n        const top = data[j].y[1];\n        const bottom = data[j].y[0];\n        if (bottom < floor) {\n          floor = bottom;\n        }\n        if (top > ceiling) {\n          ceiling = top;\n          ceilingFloor = bottom;\n        }\n        if (floor - ceiling < height) {\n          break;\n        }\n      }\n      if (floor - ceiling >= height) {\n        if (justTest) {\n          return true;\n        }\n        return {\n          x: x0,\n          y0: ceiling,\n          y1: ceilingFloor,\n          width,\n          height,\n        };\n      }\n    }\n    return false;\n  }\n\n  private _getLabelBbox(text) {\n    const plot: ViewLayer = this.get('labelOptions').plot;\n    const labelStyle = _.clone(plot.theme.label.textStyle);\n    labelStyle.fontSize = DEFAULT_SIZE;\n    const tShape = new Text({\n      attrs: {\n        text,\n        x: 0,\n        y: 0,\n        ...labelStyle,\n      },\n    });\n    return tShape.getBBox();\n  }\n\n  private _adjuestLabelSize() {\n    const renderer = this.get('labelsRenderer');\n    const labels = renderer.get('group').get('children');\n    const view = this.get('element').get('view');\n    _.each(labels, (label, index) => {\n      const scaleFactor = this.scaleFactor[index];\n      label.attr('fontSize', DEFAULT_SIZE);\n      label.transform([\n        ['t', -label.attr('x'), -label.attr('y')],\n        ['s', scaleFactor, scaleFactor],\n        ['t', label.attr('x'), label.attr('y')],\n      ]);\n    });\n    view.get('canvas').draw();\n  }\n}\n\nregisterElementLabels('area', AreaLabel);\n","import { Shape } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport { deepMix, each } from '@antv/util';\n\nconst MARGIN = 10;\n\nclass AreaLineElementLabels extends ElementLabels {\n  public showLabels(points: any, shapes: Shape[]) {\n    const labelPoints = [];\n    each(shapes, (shape) => {\n      const originData = shape.get('origin');\n      const lastPoint = deepMix({}, originData[originData.length - 1]);\n      const bbox = shape.getBBox();\n      lastPoint.x = bbox.maxX + MARGIN;\n      lastPoint.y = lastPoint.y[1];\n      labelPoints.push(lastPoint);\n    });\n    super.showLabels(labelPoints, shapes);\n    const renderer = this.get('labelsRenderer');\n    const labels = renderer.get('group').get('children');\n    const view = this.get('element').get('view');\n    each(labels, (label) => {\n      label.attr('textAlign', 'left');\n      label.attr('textBaseline', 'middle');\n      const origin = label.get('origin');\n      const shapeId = this.get('element').getShapeId(origin);\n      const color = this._adjustColor(shapeId, shapes);\n      label.attr('fill', color);\n    });\n    view.get('canvas').draw();\n  }\n\n  public _adjustColor(shapeId, shapes) {\n    let color;\n    each(shapes, (shape) => {\n      const id = shape.id;\n      if (id === shapeId) {\n        color = shape.attr('fill');\n      }\n    });\n    return color;\n  }\n}\n\nregisterElementLabels('areaLine', AreaLineElementLabels);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport PercentageStackAreaLayer, { PercentageStackAreaLayerConfig } from './layer';\n\nexport interface PercentageStackAreaConfig extends PercentageStackAreaLayerConfig, PlotConfig {}\n\nexport default class PercentageStackArea<\n  T extends PercentageStackAreaConfig = PercentageStackAreaConfig\n> extends BasePlot<T> {\n  public static getDefaultOptions: typeof PercentageStackAreaLayer.getDefaultOptions =\n    PercentageStackAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'percentageStackArea';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport StackArea, { StackAreaViewConfig } from '../stack-area/layer';\nimport { DataItem } from '../../interface/config';\nimport { transformDataPercentage } from '../../util/data';\n\nexport type PercentageStackAreaViewConfig = StackAreaViewConfig;\nexport interface PercentageStackAreaLayerConfig extends PercentageStackAreaViewConfig, LayerConfig {}\n\nexport default class PercentageStackAreaLayer extends StackArea<PercentageStackAreaLayerConfig> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      yAxis: {\n        visible: true,\n        label: {\n          visible: true,\n          formatter: (v) => {\n            const reg = /%/gi;\n            return v.replace(reg, '');\n          },\n        },\n      },\n    });\n  }\n  public type: string = 'percentageStackArea';\n\n  protected processData(originData?: DataItem[]) {\n    const { xField, yField } = this.options;\n\n    return transformDataPercentage(originData, xField, [yField]);\n  }\n\n  protected scale() {\n    const metaConfig = {};\n    const { yField } = this.options;\n    metaConfig[this.options.yField] = {\n      tickCount: 6,\n      alias: `${yField} (%)`,\n      min: 0,\n      max: 1,\n      formatter: (v) => {\n        const formattedValue = (v * 100).toFixed(1);\n        return `${formattedValue}%`;\n      },\n    };\n    this.options.meta = _.deepMix({}, metaConfig, this.options.meta);\n    super.scale();\n  }\n}\n\nregisterPlotType('percentageStackArea', PercentageStackAreaLayer);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport FunnelLayer, { FunnelViewConfig } from './layer';\n\nexport interface FunnelConfig extends FunnelViewConfig, PlotConfig {}\n\nexport default class Funnel extends BasePlot<FunnelConfig> {\n  public static getDefaultOptions: typeof FunnelLayer.getDefaultOptions = FunnelLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'funnel';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport * as domUtil from '@antv/dom-util';\nimport { Shape, Group } from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport TooltipTheme from '@antv/component/lib/tooltip/theme';\n\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getGeom } from '../../geoms/factory';\nimport { ElementOption, DataItem } from '../../interface/config';\n\nimport './theme';\nimport './component/label/funnel-label';\nimport './animation/funnel-scale-in-x';\nimport './animation/funnel-scale-in-y';\nimport './geometry/shape/funnel-basic-rect';\nimport './geometry/shape/funnel-dynamic-rect';\nimport FunnelLabelParser from './component/label/funnel-label-parser';\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n}\n\nconst G2_GEOM_MAP = {\n  column: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'funnel',\n};\n\nexport interface FunnelStyle {\n  [k: string]: any;\n}\n\nexport interface FunnelViewConfig extends ViewConfig {\n  funnelStyle?: FunnelStyle | ((...args: any[]) => FunnelStyle);\n  percentage?: Partial<{\n    visible: boolean;\n    line: Partial<{\n      visible: boolean;\n      style: {};\n    }>;\n    text: Partial<{\n      visible: boolean;\n      content: string;\n      style: {};\n    }>;\n    value: Partial<{\n      visible: boolean;\n      style: {};\n      formatter: (yValueUpper: any, yValueLower: any) => string;\n    }>;\n    offsetX: number;\n    offsetY: number;\n    spacing: number;\n  }>;\n  transpose?: boolean;\n  dynamicHeight?: boolean;\n  compareField?: string;\n  compareText: Partial<{\n    visible: boolean;\n    offsetX: number;\n    offsetY: number;\n    style: {};\n  }>;\n}\n\nexport interface FunnelLayerConfig extends FunnelViewConfig, LayerConfig {}\n\nexport default class FunnelLayer<T extends FunnelLayerConfig = FunnelLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(props?: Partial<FunnelViewConfig>): Partial<FunnelViewConfig> {\n    const cfg: Partial<FunnelViewConfig> = {\n      label: {\n        visible: true,\n        adjustColor: true,\n        formatter:\n          props && (props.compareField || props.transpose)\n            ? (xValue, item, idx, yValue, yValueTop) => `${yValue}`\n            : (xValue, item, idx, yValue, yValueTop) => `${xValue} ${yValue}`,\n      },\n      percentage: {\n        visible: true,\n        offsetX: props.transpose ? 0 : 40,\n        offsetY: props.transpose ? 40 : 0,\n        spacing: 4,\n        line: {\n          visible: true,\n          style: {\n            lineWidth: 1,\n            stroke: 'rgba(0, 0, 0, 0.15)',\n          },\n        },\n        text: {\n          content: '转化率',\n          style: {\n            fill: 'rgba(0, 0, 0, 0.65)',\n          },\n        },\n        value: {\n          visible: true,\n          style: {\n            fill: 'black',\n          },\n          formatter: (yValueUpper, yValueLower) => `${((100 * yValueLower) / yValueUpper).toFixed(2)}%`,\n        },\n      },\n      tooltip: {\n        visible: true,\n        shared: true,\n        showTitle: false,\n        crosshairs: {\n          type: 'cross',\n          style: {\n            stroke: null,\n          },\n        },\n      },\n      animation: _.deepMix({}, Animate.defaultCfg, {\n        appear: {\n          duration: 800,\n        },\n      }),\n      dynamicHeight: false,\n      compareText: {\n        visible: true,\n        offsetX: -16,\n        offsetY: -16,\n        style: {\n          fill: 'black',\n        },\n      },\n    };\n    return _.deepMix({}, super.getDefaultOptions(), cfg);\n  }\n\n  public funnel: any;\n  public type: string = 'funnel';\n\n  private animationAppearTimeoutHandler: any;\n\n  private legendsListenerAttached: boolean = false;\n\n  private shouldShowLabels: boolean = false;\n  private shouldResetPercentages: boolean = true;\n  private shouldResetCompareTexts: boolean = true;\n\n  constructor(props: T) {\n    super(props);\n    this.adjustProps(this.options);\n\n    if (props.dynamicHeight) {\n      this._genCustomFieldForDynamicHeight(this.getData());\n    }\n\n    if (props.compareField) {\n      this.options.data = this._reduceDataForCompare(this.getData());\n    }\n  }\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig = {\n      actions: props.transpose\n        ? props.dynamicHeight\n          ? [['transpose'], ['scale', 1, -1]]\n          : [['scale', 1, -1]]\n        : props.dynamicHeight\n        ? []\n        : [['transpose'], ['scale', 1, -1]],\n    };\n    this.setConfig('coord', coordConfig);\n  }\n\n  protected axis(): void {\n    this.setConfig('axes', false);\n  }\n\n  protected adjustFunnel(funnel: ElementOption) {\n    const props = this.options;\n\n    funnel.shape = {\n      values: [props.dynamicHeight ? 'funnel-dynamic-rect' : 'funnel-basic-rect'],\n    };\n\n    funnel.color = {\n      fields: [props.xField],\n      values: props.color && (Array.isArray(props.color) ? props.color : [props.color]),\n    };\n\n    if (_.isFunction(props.funnelStyle)) {\n      // @ts-ignore\n      funnel.style = { callback: props.funnelStyle };\n    } else {\n      // @ts-ignore\n      funnel.style = { cfg: props.funnelStyle };\n    }\n\n    funnel.adjust = [\n      {\n        type: props.dynamicHeight ? 'stack' : 'symmetric',\n      },\n    ];\n  }\n\n  protected tooltip() {\n    const props = this.options;\n\n    if (props.compareField) {\n      _.deepMix(props.tooltip, {\n        htmlContent: (title, items) => {\n          let clss, el, color, elMarker;\n\n          clss = 'g2-tooltip';\n          el = domUtil.createDom(`<div class=\"${clss}\"></div>`);\n          domUtil.modifyCSS(el, TooltipTheme[clss]);\n          const elRoot = el;\n\n          if (title) {\n            clss = 'g2-tooltip-title';\n            el = domUtil.createDom(`<div class=\"${clss}\"></div>`);\n            domUtil.modifyCSS(el, TooltipTheme[clss]);\n            elRoot.appendChild(el);\n            const elTitle = el;\n\n            clss = 'g2-tooltip-marker';\n            el = domUtil.createDom(`<span class=\"${clss}\"></span>`);\n            domUtil.modifyCSS(el, TooltipTheme[clss]);\n            domUtil.modifyCSS(el, { width: '10px', height: '10px' });\n            elTitle.appendChild(el);\n            elMarker = el;\n\n            el = domUtil.createDom(`<span>${title}</span>`);\n            elTitle.appendChild(el);\n          }\n\n          if (items) {\n            clss = 'g2-tooltip-list';\n            el = domUtil.createDom(`<ul class=\"${clss}\"></ul>`);\n            domUtil.modifyCSS(el, TooltipTheme[clss]);\n            elRoot.appendChild(el);\n            const elList = el;\n\n            items\n              .reduce((pairs, item) => {\n                if (!color) {\n                  color = item.color;\n                }\n                const compareValues = _.get(item, 'point._origin.__compare__.compareValues');\n                const yValues = _.get(item, 'point._origin.__compare__.yValues');\n                yValues.forEach((yValue, i) => pairs.push([compareValues[i], yValue]));\n                return pairs;\n              }, [])\n              .forEach(([compareValue, yValue], index) => {\n                clss = 'g2-tooltip-list-item';\n                el = domUtil.createDom(`<li class=\"${clss}\" data-index=${index}></li>`);\n                domUtil.modifyCSS(el, TooltipTheme[clss]);\n                elList.appendChild(el);\n                const elListItem = el;\n\n                el = domUtil.createDom(`<span>${compareValue}</span>`);\n                elListItem.appendChild(el);\n\n                clss = 'g2-tooltip-value';\n                el = domUtil.createDom(`<span class=\"${clss}\">${yValue}</span>`);\n                domUtil.modifyCSS(el, TooltipTheme[clss]);\n                elListItem.appendChild(el);\n              });\n          }\n\n          if (color && elMarker) {\n            domUtil.modifyCSS(elMarker, { backgroundColor: color });\n          }\n\n          return elRoot;\n        },\n      });\n    }\n\n    super.tooltip();\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const funnel = getGeom('interval', 'main', {\n      positionFields: [props.dynamicHeight ? '_' : props.xField, props.yField],\n      plot: this,\n    });\n    if (props.label) {\n      funnel.label = this.extractLabel();\n    }\n    this.adjustFunnel(funnel);\n\n    this.funnel = funnel;\n    this.setConfig('element', funnel);\n  }\n\n  protected animation() {\n    const props = this.options;\n\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.funnel.animate = false;\n      this.shouldShowLabels = true;\n    } else {\n      const appearDuration = _.get(props, 'animation.appear.duration');\n      const appearDurationEach = appearDuration / (this.getData().length || 1);\n\n      if (this.animationAppearTimeoutHandler) {\n        clearTimeout(this.animationAppearTimeoutHandler);\n        delete this.animationAppearTimeoutHandler;\n      }\n      this.animationAppearTimeoutHandler = setTimeout(() => {\n        this._teardownAnimationMask();\n        this.shouldShowLabels = true;\n        this.fadeInPercentages(appearDurationEach);\n        if (props.compareField) {\n          this.fadeInCompareTexts(appearDurationEach);\n        }\n        delete this.animationAppearTimeoutHandler;\n      }, appearDuration);\n\n      this.funnel.animate = _.deepMix({}, props.animation, {\n        appear: {\n          animation: props.transpose ? 'funnelScaleInX' : 'funnelScaleInY',\n          duration: appearDurationEach,\n          reverse: props.dynamicHeight && !props.transpose,\n          callback: (shape) => {\n            this.shouldShowLabels = true;\n            this.showLabels(shape);\n          },\n        },\n      });\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  public afterRender() {\n    const props = this.options;\n\n    this.resetPercentages();\n    if (props.compareField) {\n      this.resetCompareTexts();\n    }\n\n    if (props.padding == 'auto') {\n      const percentageContainer = this._findPercentageContainer();\n      if (percentageContainer) {\n        this.paddingController.registerPadding(percentageContainer, 'inner', true);\n      }\n      const compareTextContainer = this._findCompareTextContainer();\n      if (compareTextContainer) {\n        this.paddingController.registerPadding(compareTextContainer, 'inner', true);\n      }\n    }\n\n    super.afterRender();\n\n    if (this.animationAppearTimeoutHandler) {\n      this._setupAnimationMask();\n      if (props.compareField) {\n        this.fadeInCompareTexts();\n      }\n    }\n\n    this.showLabels();\n\n    if (props.animation === false) {\n      this.fadeInPercentages();\n      if (props.compareField) {\n        this.fadeInCompareTexts();\n      }\n    }\n\n    if (!this.legendsListenerAttached) {\n      this.legendsListenerAttached = true;\n      const legendContainer = this.view.get('legendController').container;\n      legendContainer.on('mousedown', this._onLegendContainerMouseDown);\n    }\n  }\n\n  public updateConfig(cfg: Partial<T>): void {\n    cfg = this.adjustProps(cfg);\n\n    super.updateConfig(cfg);\n    this.legendsListenerAttached = false;\n    this.shouldShowLabels = false;\n  }\n\n  public changeData(data: DataItem[]): void {\n    const props = this.options;\n\n    if (props.animation !== false) {\n      this.shouldResetPercentages = false;\n      this.shouldResetCompareTexts = false;\n    }\n\n    if (props.dynamicHeight) {\n      const checkedData = this._findCheckedDataInNewData(data);\n      this._genCustomFieldForDynamicHeight(checkedData);\n    }\n\n    if (props.compareField) {\n      data = this._reduceDataForCompare(data);\n      const checkedData = this._findCheckedDataInNewData(data);\n      this._updateDataForCompare(checkedData);\n    }\n\n    super.changeData(data);\n\n    this.refreshPercentages();\n    if (props.compareField) {\n      this.refreshCompareTexts();\n    }\n    this._refreshAnimationMaskForPercentageRefresh();\n  }\n\n  protected extractLabel() {\n    const props = this.options;\n    const label = props.label;\n\n    if (label && label.visible === false) {\n      return false;\n    }\n\n    const labelConfig = new FunnelLabelParser(\n      _.deepMix(\n        {\n          textStyle: {\n            stroke: null,\n          },\n        },\n        label,\n        {\n          plot: this,\n          labelType: 'funnelLabel',\n          position: 'middle',\n          textStyle: {\n            opacity: 0,\n          },\n          fields: [props.xField, props.yField],\n        }\n      )\n    ).getConfig();\n\n    return labelConfig;\n  }\n\n  protected showLabels(shape?) {\n    if (!this.shouldShowLabels) return;\n\n    this.view.get('elements').forEach((element) => {\n      const { labelsContainer } = element.get('labelController');\n      if (labelsContainer) {\n        labelsContainer\n          .get('labelsRenderer')\n          .get('group')\n          .get('children')\n          .forEach((label) => {\n            if (shape) {\n              if (element.getShapeId(label.get('origin')) == shape.id) {\n                label.attr('opacity', 1);\n              }\n            } else {\n              label.attr('opacity', 1);\n            }\n          });\n      }\n    });\n  }\n\n  protected adjustProps(props: Partial<T>) {\n    if (props.compareField) {\n      props.dynamicHeight = false;\n    }\n\n    if (props.dynamicHeight) {\n      _.set(props, `meta.${props.yField}.nice`, false);\n      _.set(props, 'tooltip.shared', false);\n    }\n    return props;\n  }\n\n  protected resetPercentages() {\n    if (!this.shouldResetPercentages) return;\n\n    const props = this.options;\n    const {\n      offsetX,\n      offsetY,\n      spacing,\n      line: percentageLine = {},\n      text: percentageText = {},\n      value: percentageValue = {},\n    } = props.percentage || {};\n\n    const adjustTimestamp = Date.now();\n\n    const container = this._findPercentageContainer(true);\n    const coord = this.view.get('coord');\n    let i = 0;\n    let datumUpper;\n    this.view.eachShape((datumLower, shape) => {\n      if (i++ > 0) {\n        const { minX, maxX, maxY, minY } = shape.getBBox();\n        const [x1, y1] = coord.invertMatrix(\n          props.transpose ? minX : maxX,\n          props.transpose ? (props.compareField ? minY : maxY) : props.dynamicHeight ? minY : maxY,\n          1\n        );\n        const { line, text, value } = this._findPercentageMembersInContainerByShape(container, shape, true);\n\n        const eachProcs = [\n          (x, y, line, text, value) => {\n            if (line) {\n              line.attr(\n                _.deepMix({}, percentageLine.style, {\n                  x1: x,\n                  y1: y,\n                  x2: props.transpose ? x + offsetX : x - offsetX,\n                  y2: y - offsetY,\n                  opacity: 0,\n                })\n              );\n              line.set('adjustTimestamp', adjustTimestamp);\n            }\n\n            let textWidth = 0;\n            let valueWidth = 0;\n\n            const textProc = () => {\n              if (text) {\n                text.attr(\n                  _.deepMix({}, percentageText.style, {\n                    x: props.transpose ? x + offsetX : x - offsetX - spacing - valueWidth - spacing,\n                    y: props.transpose ? y - offsetY - spacing : y - offsetY,\n                    opacity: 0,\n                    text: percentageText.content,\n                    textAlign: props.transpose ? 'left' : 'right',\n                    textBaseline: props.transpose ? 'bottom' : 'middle',\n                  })\n                );\n                text.set('adjustTimestamp', adjustTimestamp);\n                textWidth = text.getBBox().width;\n              }\n            };\n\n            const valueProc = () => {\n              if (value) {\n                value.attr(\n                  _.deepMix({}, percentageValue.style, {\n                    x: props.transpose ? x + offsetX + textWidth + spacing : x - offsetX - spacing,\n                    y: props.transpose ? y - offsetY - spacing : y - offsetY,\n                    opacity: 0,\n                    text: _.isFunction(percentageValue.formatter)\n                      ? props.compareField\n                        ? percentageValue.formatter(\n                            _.get(datumUpper, '__compare__.yValues.0'),\n                            _.get(datumLower, '__compare__.yValues.0')\n                          )\n                        : percentageValue.formatter(datumUpper[props.yField], datumLower[props.yField])\n                      : '',\n                    textAlign: props.transpose ? 'left' : 'right',\n                    textBaseline: props.transpose ? 'bottom' : 'middle',\n                  })\n                );\n                value.set('adjustTimestamp', adjustTimestamp);\n                valueWidth = value.getBBox().width;\n              }\n            };\n\n            if (props.transpose) {\n              textProc();\n              valueProc();\n            } else {\n              valueProc();\n              textProc();\n            }\n          },\n          (x, y, line, text, value) => {\n            if (line) {\n              line.attr(\n                _.deepMix({}, percentageLine.style, {\n                  x1: x,\n                  y1: y,\n                  x2: x + offsetX,\n                  y2: props.transpose ? (props.compareField ? y + offsetY : y - offsetY) : y + offsetY,\n                  opacity: 0,\n                })\n              );\n              line.set('adjustTimestamp', adjustTimestamp);\n            }\n\n            let textWidth = 0;\n            if (text) {\n              text.attr(\n                _.deepMix({}, percentageText.style, {\n                  x: props.transpose ? x + offsetX : x + offsetX + spacing,\n                  y: props.transpose\n                    ? props.compareField\n                      ? y + offsetY + spacing\n                      : y - offsetY - spacing\n                    : y + offsetY,\n                  opacity: 0,\n                  text: percentageText.content,\n                  textAlign: 'left',\n                  textBaseline: props.transpose ? (props.compareField ? 'top' : 'bottom') : 'middle',\n                })\n              );\n              text.set('adjustTimestamp', adjustTimestamp);\n              textWidth = text.getBBox().width;\n            }\n\n            if (value) {\n              value.attr(\n                _.deepMix({}, percentageValue.style, {\n                  x: props.transpose ? x + offsetX + textWidth + spacing : x + offsetX + spacing + textWidth + spacing,\n                  y: props.transpose\n                    ? props.compareField\n                      ? y + offsetY + spacing\n                      : y - offsetY - spacing\n                    : y + offsetY,\n                  opacity: 0,\n                  text: _.isFunction(percentageValue.formatter)\n                    ? props.compareField\n                      ? percentageValue.formatter(\n                          _.get(datumUpper, `__compare__.yValues.1`),\n                          _.get(datumLower, `__compare__.yValues.1`)\n                        )\n                      : percentageValue.formatter(datumUpper[props.yField], datumLower[props.yField])\n                    : '',\n                  textAlign: 'left',\n                  textBaseline: props.transpose ? (props.compareField ? 'top' : 'bottom') : 'middle',\n                })\n              );\n              value.set('adjustTimestamp', adjustTimestamp);\n            }\n          },\n        ];\n\n        if (props.compareField) {\n          const [x0, y0] = coord.invertMatrix(minX, maxY, 1);\n          [\n            [x0, y0],\n            [x1, y1],\n          ].forEach(([x, y], i) => eachProcs[i](x, y, line && line[i], text && text[i], value && value[i]));\n        } else {\n          eachProcs[1](x1, y1, line, text, value);\n        }\n      }\n      datumUpper = datumLower;\n    });\n\n    container.get('children').forEach((child) => {\n      if (child.get('adjustTimestamp') != adjustTimestamp) {\n        child.attr({ opacity: 0 });\n        container.set(child.get('id'), null);\n        setTimeout(() => child.remove());\n      }\n    });\n  }\n\n  protected fadeInPercentages(duration?, callback?) {\n    const props = this.options;\n    const container = this._findPercentageContainer();\n\n    const eachProc = (i?) => {\n      const lastBBox = { minX: Infinity, maxX: -Infinity, minY: Infinity, maxY: -Infinity };\n      this.view.eachShape((datum, shape) => {\n        const members = this._findPercentageMembersInContainerByShape(container, shape);\n\n        const currBBox = { minX: Infinity, maxX: -Infinity, minY: Infinity, maxY: -Infinity };\n        const eachCalc = (member) => {\n          if (member && member.get('type') == 'text') {\n            const { minX, maxX, minY, maxY } = member.getBBox();\n            if (minX < currBBox.minX) currBBox.minX = minX;\n            if (maxX > currBBox.maxX) currBBox.maxX = maxX;\n            if (minY < currBBox.minY) currBBox.minY = minY;\n            if (maxY > currBBox.maxY) currBBox.maxY = maxY;\n          }\n        };\n        _.each(members, (member) => (_.isArray(member) ? eachCalc(member[i]) : eachCalc(member)));\n\n        if (\n          currBBox.minX > lastBBox.maxX ||\n          currBBox.maxX < lastBBox.minX ||\n          currBBox.minY > lastBBox.maxY ||\n          currBBox.maxY < lastBBox.minY\n        ) {\n          const eachShow = (member) => {\n            if (member) {\n              const attrs = {\n                opacity: 1,\n              };\n              duration ? member.animate(attrs, duration) : member.attr(attrs);\n            }\n          };\n          _.each(members, (member) => (_.isArray(member) ? eachShow(member[i]) : eachShow(member)));\n          _.assign(lastBBox, currBBox);\n        }\n      });\n    };\n\n    props.compareField ? [0, 1].forEach(eachProc) : eachProc();\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected fadeOutPercentages(duration?, callback?) {\n    const container = this._findPercentageContainer();\n    this.view.eachShape((datum, shape) => {\n      const members = this._findPercentageMembersInContainerByShape(container, shape);\n\n      const eachProc = (member) => {\n        if (member) {\n          const attrs = {\n            opacity: 0,\n          };\n          duration ? member.animate(attrs, duration) : member.attr(attrs);\n        }\n      };\n      _.each(members, (member) => (_.isArray(member) ? member.forEach(eachProc) : eachProc(member)));\n    });\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected refreshPercentages(callback?) {\n    const props = this.options;\n\n    if (props.animation !== false) {\n      const { fadeOutDuration, fadeInDuration } = this._calcRefreshFadeDurations();\n\n      this.shouldResetPercentages = false;\n      this.fadeOutPercentages(fadeOutDuration, () => {\n        this.shouldResetPercentages = true;\n        this.resetPercentages();\n        this.fadeInPercentages(fadeInDuration, callback);\n      });\n    }\n  }\n\n  private _calcRefreshFadeDurations() {\n    const props = this.options;\n\n    const updateDuration = _.get(props, 'animation.update.duration');\n    const enterDuration = _.get(props, 'animation.enter.duration');\n    const fadeInDuration = Math.min(enterDuration, updateDuration) * 0.6;\n    const fadeOutDuration = Math.max(enterDuration, updateDuration) * 1.2;\n\n    return { fadeInDuration, fadeOutDuration };\n  }\n\n  private _findPercentageContainer(createIfNotFound: boolean = false) {\n    let percentageContainer;\n\n    if (this.view) {\n      const elements = this.view.get('elements');\n\n      elements.find((element) => {\n        return (percentageContainer = element.get('percentageContainer'));\n      });\n\n      if (!percentageContainer && createIfNotFound) {\n        if (elements.length) {\n          const element = elements[0];\n          percentageContainer = element.get('container').addGroup();\n          element.set('percentageContainer', percentageContainer);\n        }\n      }\n    }\n\n    return percentageContainer;\n  }\n\n  private _findPercentageMembersInContainerByShape(container: Group, shape: Shape, createIfNotFound: boolean = false) {\n    const props = this.options;\n    const { visible, line: percentageLine = {}, text: percentageText = {}, value: percentageValue = {} } =\n      props.percentage || {};\n\n    const members = {\n      line: undefined,\n      text: undefined,\n      value: undefined,\n    };\n\n    if (visible === false || !container) {\n      return members;\n    }\n\n    if (percentageLine.visible !== false) {\n      const find = (i) => {\n        const lineId = `_percentage-line-${shape.id}-${i}`;\n        let line = container.get(lineId);\n        if (!line && createIfNotFound) {\n          line = container.addShape('line', { id: lineId });\n          container.set(lineId, line);\n        }\n        return line;\n      };\n      const line = props.compareField ? [0, 1].map(find) : find(0);\n      members.line = line;\n    }\n\n    if (percentageText.visible !== false) {\n      const find = (i) => {\n        const textId = `_percentage-text-${shape.id}-${i}`;\n        let text = container.get(textId);\n        if (!text && createIfNotFound) {\n          text = container.addShape('text', { id: textId });\n          container.set(textId, text);\n        }\n        return text;\n      };\n      const text = props.compareField ? [0, 1].map(find) : find(0);\n      members.text = text;\n    }\n\n    if (percentageValue.visible !== false) {\n      const find = (i) => {\n        const valueId = `_percentage-value-${shape.id}-${i}`;\n        let value = container.get(valueId);\n        if (!value && createIfNotFound) {\n          value = container.addShape('text', { id: valueId });\n          container.set(valueId, value);\n        }\n        return value;\n      };\n      const value = props.compareField ? [0, 1].map(find) : find(0);\n      members.value = value;\n    }\n\n    return members;\n  }\n\n  private _genCustomFieldForDynamicHeight(data: any[]) {\n    const props = this.options;\n\n    const total = data.reduce((total, datum) => total + datum[props.yField], 0);\n\n    let ratioUpper = 1;\n    data.forEach((datum, index) => {\n      const value = datum[props.yField];\n      const share = value / total;\n      const ratioLower = ratioUpper - share;\n\n      datum['__custom__'] = {\n        datumIndex: index,\n        dataLength: data.length,\n        ratioUpper,\n        ratioLower,\n        reverse: props.transpose,\n      };\n\n      ratioUpper = ratioLower;\n    });\n  }\n\n  protected resetCompareTexts() {\n    if (!this.shouldResetCompareTexts) return;\n\n    const props = this.options;\n\n    let shapeParentBBox;\n    let compare;\n    const targetDatum = this._findCheckedData(this.getData())[0];\n    this.view.eachShape((datum, shape) => {\n      if (datum == targetDatum) {\n        shapeParentBBox = shape.get('parent').getBBox();\n        compare = _.get(datum, '__compare__');\n      }\n    });\n\n    if (shapeParentBBox && compare && _.get(props, 'compareText.visible') !== false) {\n      const coord = this.view.get('coord');\n      const container = this._findCompareTextContainer(true);\n      const { yValuesMax, compareValues } = compare;\n      const pStart = coord.invertMatrix(shapeParentBBox.minX, shapeParentBBox.minY, 1);\n      const pEnd = coord.invertMatrix(shapeParentBBox.maxX, shapeParentBBox.maxY, 1);\n\n      const minX = Math.min(pStart[0], pEnd[0]);\n      const maxX = Math.max(pStart[0], pEnd[0]);\n      const minY = Math.min(pStart[1], pEnd[1]);\n      const maxY = Math.max(pStart[1], pEnd[1]);\n\n      const compareTexts = container.get('children');\n      [0, 1].forEach((i) => {\n        let compareText = compareTexts[i];\n        if (!compareText) {\n          compareText = container.addShape('text');\n        }\n        compareText.attr(\n          _.deepMix({}, _.get(props, 'compareText.style'), {\n            text: props.transpose ? compareValues[i] : i ? `  ${compareValues[i]}` : `${compareValues[i]}  `,\n            x: props.transpose\n              ? minX + _.get(props, 'compareText.offsetX')\n              : lerp(minX, maxX, yValuesMax[0] / (yValuesMax[0] + yValuesMax[1])),\n            y: props.transpose\n              ? lerp(minY, maxY, yValuesMax[0] / (yValuesMax[0] + yValuesMax[1])) + (i ? 8 : -8)\n              : minY + _.get(props, 'compareText.offsetY'),\n            opacity: 0,\n            textAlign: props.transpose ? 'right' : i ? 'left' : 'right',\n            textBaseline: props.transpose ? (i ? 'top' : 'bottom') : 'bottom',\n          })\n        );\n      });\n    }\n  }\n\n  protected fadeInCompareTexts(duration?, callback?) {\n    const container = this._findCompareTextContainer();\n    if (container) {\n      const compareTexts = container.get('children');\n      [0, 1].forEach((i) => {\n        const compareText = compareTexts[i];\n\n        if (compareText) {\n          const attrs = {\n            opacity: 1,\n          };\n          duration ? compareText.animate(attrs, duration) : compareText.attr(attrs);\n        }\n      });\n    }\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected fadeOutCompareTexts(duration?, callback?) {\n    const container = this._findCompareTextContainer();\n    if (container) {\n      const compareTexts = container.get('children');\n      [0, 1].forEach((i) => {\n        const compareText = compareTexts[i];\n\n        if (compareText) {\n          const attrs = {\n            opacity: 0,\n          };\n          duration ? compareText.animate(attrs, duration) : compareText.attr(attrs);\n        }\n      });\n    }\n\n    duration && callback && setTimeout(callback, duration);\n  }\n\n  protected refreshCompareTexts(callback?) {\n    const props = this.options;\n\n    if (props.animation !== false) {\n      const { fadeInDuration, fadeOutDuration } = this._calcRefreshFadeDurations();\n\n      this.shouldResetCompareTexts = false;\n      this.fadeOutCompareTexts(fadeOutDuration, () => {\n        this.shouldResetCompareTexts = true;\n        this.resetCompareTexts();\n        this.fadeInCompareTexts(fadeInDuration, callback);\n      });\n    }\n  }\n\n  private _findCompareTextContainer(createIfNotFound: boolean = false) {\n    let compareTextContainer;\n\n    if (this.view) {\n      const elements = this.view.get('elements');\n\n      elements.find((element) => {\n        return (compareTextContainer = element.get('compareTextContainer'));\n      });\n\n      if (!compareTextContainer && createIfNotFound) {\n        if (elements.length) {\n          const element = elements[0];\n          compareTextContainer = element.get('container').addGroup();\n          element.set('compareTextContainer', compareTextContainer);\n        }\n      }\n    }\n\n    return compareTextContainer;\n  }\n\n  private _reduceDataForCompare(data: any[]) {\n    const props = this.options;\n\n    let compareValueFirstVisited;\n    const yValuesMax = [-Infinity, -Infinity];\n    data = data.reduce((newData, datum) => {\n      const xValue = datum[props.xField];\n      const yValue = datum[props.yField];\n      const compareValue = datum[props.compareField];\n      if (!compareValueFirstVisited) compareValueFirstVisited = compareValue;\n\n      let newDatum = newData.find((newDatum) => newDatum[props.xField] == xValue);\n      if (!newDatum) {\n        newDatum = {\n          [props.xField]: xValue,\n          [props.yField]: 0,\n          ['__compare__']: {\n            compareValues: [],\n            yValues: [],\n            yValuesMax: [],\n            yValuesNext: undefined,\n            transpose: props.transpose,\n          },\n        };\n        newData.push(newDatum);\n      }\n      const idx = compareValue == compareValueFirstVisited ? 0 : 1;\n      newDatum['__compare__'].yValues[idx] = yValue;\n      if (yValuesMax[idx] < yValue) {\n        yValuesMax[idx] = yValue as number;\n      }\n      newDatum['__compare__'].compareValues[idx] = compareValue;\n\n      return newData;\n    }, []);\n\n    data.forEach((datum, index) => {\n      datum[props.yField] = _.get(datum, '__compare__.yValues', []).reduce((yTotal, yValue) => (yTotal += yValue), 0);\n      _.set(datum, '__compare__.yValuesMax', yValuesMax);\n      _.set(datum, '__compare__.yValuesNext', _.get(data, `${index + 1}.__compare__.yValues`));\n    });\n\n    return data;\n  }\n\n  private _updateDataForCompare(data: any[]) {\n    const yValuesMax = [-Infinity, -Infinity];\n    data.forEach((datum) => {\n      const yValues = _.get(datum, '__compare__.yValues');\n      [0, 1].forEach((i) => {\n        if (yValues[i] > yValuesMax[i]) {\n          yValuesMax[i] = yValues[i];\n        }\n      });\n    });\n\n    data.forEach((datum, index) => {\n      _.set(datum, '__compare__.yValuesMax', yValuesMax);\n      _.set(datum, '__compare__.yValuesNext', _.get(data, `${index + 1}.__compare__.yValues`));\n    });\n  }\n\n  private _findCheckedData(data: any[]) {\n    const props = this.options;\n\n    const legendValues = this.view\n      .get('canvas')\n      .findAll((shape) => shape.name == 'legend-item' && shape.get('parent').get('checked'))\n      .map((shape) => shape.get('origin').value);\n\n    return data.filter((datum) => _.contains(legendValues, datum[props.xField]));\n  }\n\n  private _findCheckedDataInNewData(newData: any[]) {\n    const props = this.options;\n\n    const legendValues = this.view\n      .get('canvas')\n      .findAll((shape) => shape.name == 'legend-item' && shape.get('parent').get('checked'))\n      .map((shape) => shape.get('origin').value);\n\n    const oldData = this.getData();\n\n    const uncheckedValues = oldData\n      .map((oldDatum) => oldDatum[props.xField])\n      .filter((xValue) => !_.contains(legendValues, xValue));\n\n    return newData.filter((newDatum) => !_.contains(uncheckedValues, newDatum[props.xField]));\n  }\n\n  private _findCheckedDataByMouseDownLegendItem(legendItem) {\n    const props = this.options;\n\n    const legendItemOrigin = legendItem.get('origin');\n\n    const brotherValues = legendItem\n      .get('parent')\n      .get('parent')\n      .findAll((shape) => shape != legendItem && shape.name == 'legend-item' && shape.get('parent').get('checked'))\n      .map((shape) => shape.get('origin').value);\n\n    const data = [];\n    this.getData().forEach((datum) => {\n      const xValue = datum[props.xField];\n      if (\n        (legendItemOrigin.value == xValue && !legendItem.get('parent').get('checked')) ||\n        _.contains(brotherValues, xValue)\n      ) {\n        data.push(datum);\n      }\n    });\n\n    return data;\n  }\n\n  private _setupAnimationMask() {\n    const canvas = this.view.get('canvas');\n    let animationMask = canvas.get('animation-mask');\n    if (!animationMask) {\n      animationMask = canvas.addShape('rect');\n      canvas.set('animation-mask', animationMask);\n    }\n    animationMask.attr({\n      x: 0,\n      y: 0,\n      fill: 'transparent',\n      width: canvas.get('width'),\n      height: canvas.get('height'),\n    });\n  }\n\n  private _teardownAnimationMask() {\n    const canvas = this.view.get('canvas');\n    const animationMask = canvas.get('animation-mask');\n    if (animationMask) {\n      animationMask.attr({ x: -canvas.get('width') });\n    }\n  }\n\n  private _refreshAnimationMaskForPercentageRefresh() {\n    const props = this.options;\n    if (props.animation !== false) {\n      const { fadeOutDuration, fadeInDuration } = this._calcRefreshFadeDurations();\n      this._setupAnimationMask();\n      setTimeout(() => this._teardownAnimationMask(), fadeOutDuration + fadeInDuration);\n    }\n  }\n\n  private _onLegendContainerMouseDown = (e) => {\n    const props = this.options;\n\n    if (e.target.name == 'legend-item') {\n      this.refreshPercentages();\n\n      if (props.dynamicHeight) {\n        const data = this._findCheckedDataByMouseDownLegendItem(e.target);\n        this._genCustomFieldForDynamicHeight(data);\n      }\n\n      if (props.compareField) {\n        const data = this._findCheckedDataByMouseDownLegendItem(e.target);\n        this._updateDataForCompare(data);\n        this.refreshCompareTexts();\n      }\n    }\n  };\n}\n\nregisterPlotType('funnel', FunnelLayer);\n","import { registerTheme } from '../../theme';\n\nregisterTheme('funnel', {});\n","import { Shape } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport { DataPointType } from '@antv/g2/lib/interface';\nimport { rgb2arr } from '../../../../util/color';\nimport { LooseMap } from '../../../../interface/types';\n\ntype Point = LooseMap;\n\nfunction avg(arr) {\n  let sum = 0;\n  _.each(arr, (value) => {\n    sum += value as number;\n  });\n  return sum / arr.length;\n}\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n}\n\nexport class FunnelLabel extends ElementLabels {\n  public setLabelPosition(point, originPoint, index) {\n    const coord = this.get('coord');\n    const transposed = coord.isTransposed;\n    const point0 = coord.convertPoint(originPoint.points[0]);\n    const point1 = coord.convertPoint(originPoint.points[2]);\n\n    const width = ((point0.x - point1.x) / 2) * (transposed ? -1 : 1);\n    const height = ((point0.y - point1.y) / 2) * (transposed ? -1 : 1);\n\n    if (transposed) {\n      point.x -= width;\n    } else {\n      point.y += height;\n    }\n    point.textAlign = 'center';\n    point.textBaseline = 'middle';\n  }\n\n  protected getLabelPoint(labelOptions: DataPointType, point, index): DataPointType {\n    const total = labelOptions.text.length;\n\n    function getDimValue(value, idx) {\n      let v = value;\n      if (_.isArray(v)) {\n        if (labelOptions.text.length === 1) {\n          // 如果仅一个label,多个值,取最后一个值\n          if (v.length <= 2) {\n            v = v[value.length - 1];\n          } else {\n            v = avg(v);\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      text: labelOptions.text[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    label.x = getDimValue(point.x, index);\n    label.y = getDimValue(point.y, index);\n\n    this.setLabelPosition(label, point, index);\n\n    const offsetPoint = this.getLabelOffset(labelOptions, index, total);\n    if (labelOptions.offsetX) {\n      offsetPoint.x += labelOptions.offsetX;\n    }\n    if (labelOptions.offsetY) {\n      offsetPoint.y += labelOptions.offsetY;\n    }\n\n    this.transLabelPoint(label);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = point.color;\n    return label;\n  }\n\n  public showLabels(points: LooseMap[], shapes: Shape[]) {\n    super.showLabels(points, shapes);\n    const renderer = this.get('labelsRenderer');\n    const labels = renderer.get('group').get('children');\n    const view = this.get('element').get('view');\n    _.each(labels, (label, index) => {\n      const l = label as Shape;\n      const origin = l.get('origin');\n      const shapeId = this.get('element').getShapeId(origin);\n      const shape = this._getShape(shapeId, shapes);\n      const { adjustColor } = this.get('labelOptions');\n      if (adjustColor) {\n        this.adjustColor(l, shape);\n      }\n    });\n    view.get('canvas').draw();\n  }\n\n  public adjustColor(label, shape) {\n    const shapeColor = shape.attr('fill');\n    const shapeOpacity = _.isNumber(shape.attr('opacity')) ? Math.min(Math.max(0, shape.attr('opacity')), 1) : 1;\n\n    const rgb = rgb2arr(shapeColor);\n    const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n\n    const fill = gray < 156 ? '#f6f6f6' : '#303030';\n    label.attr('fill', fill);\n\n    const coord = this.get('coord');\n\n    const shapeBBox = shape.getBBox();\n    const [shapeStartX, shapeStartY] = coord.invertMatrix(shapeBBox.x, shapeBBox.y, 1);\n    const [shapeSizeX, shapeSizeY] = coord.invertMatrix(shapeBBox.width, shapeBBox.height, 0);\n    const [shapeEndX, shapeEndY] = [shapeStartX + shapeSizeX, shapeStartY + shapeSizeY];\n\n    const shapeMinX = Math.min(shapeStartX, shapeEndX);\n    const shapeMaxX = Math.max(shapeStartX, shapeEndX);\n    const shapeMinY = Math.min(shapeStartY, shapeEndY);\n    const shapeMaxY = Math.max(shapeStartY, shapeEndY);\n\n    const compare = shape.get('__compare__');\n    if (compare) {\n      const yValues = compare.yValues;\n      label.attr({\n        x: compare.transpose\n          ? (shapeMinX + shapeMaxX) / 2\n          : lerp(shapeMinX, shapeMaxX, yValues[0] / (yValues[0] + yValues[1])),\n        y: compare.transpose\n          ? lerp(shapeMinY, shapeMaxY, yValues[0] / (yValues[0] + yValues[1]))\n          : (shapeMinY + shapeMaxY) / 2,\n      });\n    }\n    const labelBBox = label.getBBox();\n    const shapeContainsLabel =\n      labelBBox.minX >= shapeMinX &&\n      labelBBox.maxX <= shapeMaxX &&\n      labelBBox.minY >= shapeMinY &&\n      labelBBox.maxY <= shapeMaxY;\n\n    label.set('visible', shapeContainsLabel);\n  }\n\n  public _getShape(shapeId, shapes) {\n    let target;\n    _.each(shapes, (shape) => {\n      const s = shape as Point;\n      const id = s.id;\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n    return target;\n  }\n}\n\nregisterElementLabels('funnelLabel', FunnelLabel);\n","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction funnelScaleInY(shape, animateCfg, coord) {\n  const { duration = 200, easing, callback, reverse } = animateCfg || {};\n\n  const box = shape.getBBox();\n\n  const originX = reverse ? box.maxX : box.minX;\n  const originY = (box.minY + box.maxY) / 2;\n\n  const shapeIndex = shape.get('index');\n\n  const clip = getClip(coord);\n  const clipTargetMatrix = _.clone(clip.attr('matrix'));\n  clip.attr('transform', [\n    ['t', -originX, -originY],\n    ['s', 0, 1],\n    ['t', originX, originY],\n  ]);\n  const shapeTargetFillOpacity = shape.attr('fillOpacity');\n  shape.attr('fillOpacity', 0);\n\n  shape.attr('clip', clip);\n\n  clip.animate(\n    {\n      matrix: clipTargetMatrix,\n    },\n    duration,\n    easing,\n    () => {\n      clip.remove();\n      shape.attr('clip', null);\n    },\n    shapeIndex * duration\n  );\n\n  shape.animate(\n    {\n      fillOpacity: shapeTargetFillOpacity,\n    },\n    duration,\n    easing,\n    null,\n    shapeIndex * duration\n  );\n\n  callback && setTimeout(() => callback(shape), duration + shapeIndex * duration);\n}\n\nfunction getClip(coord) {\n  const { start, end, width, height } = coord;\n  const clip = new G.Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width,\n      height,\n    },\n  });\n  return clip;\n}\n\nfunnelScaleInY.animationName = 'funnelScaleInX';\nAnimate.registerAnimation('appear', 'funnelScaleInX', funnelScaleInY);\n","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction funnelScaleInY(shape, animateCfg, coord) {\n  const { duration = 200, easing, callback, reverse } = animateCfg || {};\n\n  const box = shape.getBBox();\n  const originX = (box.minX + box.maxX) / 2;\n  const originY = reverse ? box.minY : box.maxY;\n\n  const shapeIndex = shape.get('index');\n\n  const clip = getClip(coord);\n  const clipTargetMatrix = _.clone(clip.attr('matrix'));\n  clip.attr('transform', [\n    ['t', -originX, -originY],\n    ['s', 1, 0],\n    ['t', originX, originY],\n  ]);\n  const shapeTargetFillOpacity = shape.attr('fillOpacity');\n  shape.attr('fillOpacity', 0);\n\n  shape.attr('clip', clip);\n\n  clip.animate(\n    {\n      matrix: clipTargetMatrix,\n    },\n    duration,\n    easing,\n    () => {\n      clip.remove();\n      shape.attr('clip', null);\n    },\n    shapeIndex * duration\n  );\n\n  shape.animate(\n    {\n      fillOpacity: shapeTargetFillOpacity,\n    },\n    duration,\n    easing,\n    null,\n    shapeIndex * duration\n  );\n\n  callback && setTimeout(() => callback(shape), duration + shapeIndex * duration);\n}\n\nfunction getClip(coord) {\n  const { start, end, width, height } = coord;\n  const clip = new G.Shapes.Rect({\n    attrs: {\n      x: start.x,\n      y: end.y,\n      width,\n      height,\n    },\n  });\n  return clip;\n}\n\nfunnelScaleInY.animationName = 'funnelScaleInY';\nAnimate.registerAnimation('appear', 'funnelScaleInY', funnelScaleInY);\n","import * as _ from '@antv/util';\nimport { Group } from '@antv/g';\nimport { Global, registerShape } from '@antv/g2';\nimport { setFillStyle } from '@antv/g2/lib/element/util/shape';\nimport { ShapeDrawCFG, ShapeMarkerCfg, ShapePointInfo } from '@antv/g2/lib/interface';\n\n// 获取填充图形的图形属性\nfunction _getFillAttrs(cfg) {\n  const defaultAttrs = Global.theme.shape.interval.rect.default;\n  const attrs = _.mix({}, defaultAttrs, cfg.style);\n  setFillStyle(attrs, cfg);\n  return attrs;\n}\n\n// 根据数据点生成矩形的四个关键点\nfunction _getRectPoints(cfg: ShapePointInfo, isPyramid = false) {\n  const { x, y, y0, size } = cfg;\n  // 有 4 种情况，\n  // 1. x, y 都不是数组\n  // 2. y是数组，x不是\n  // 3. x是数组，y不是\n  // 4. x, y 都是数组\n  let yMin;\n  let yMax;\n  if (_.isArray(y)) {\n    yMin = y[0];\n    yMax = y[1];\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (_.isArray(x)) {\n    xMin = x[0];\n    xMax = x[1];\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  if (isPyramid) {\n    // 绘制尖底漏斗图\n    // 金字塔漏斗图的关键点\n    // 1\n    // |   2\n    // 0\n    points.push({\n      x: xMax,\n      y: (yMax + yMin) / 2,\n    });\n  } else {\n    // 矩形的四个关键点，结构如下（左下角顺时针连接）\n    // 1 ---- 2\n    // |      |\n    // 0 ---- 3\n    points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n  }\n\n  return points;\n}\n\n// 根据关键点绘制漏斗图的 path\nfunction _getFunnelPath(cfg, compare) {\n  const path = [];\n  const { points, nextPoints } = cfg;\n\n  if (compare) {\n    // 对比漏斗\n    const { yValues, yValuesMax, yValuesNext } = compare;\n    const originY = (points[0].y + points[1].y) / 2;\n\n    const yValueTotal = yValues[0] + yValues[1];\n    const yRatios = yValues.map((yValue) => yValue / yValueTotal / 0.5);\n    const yOffset = (yValuesMax[0] / (yValuesMax[0] + yValuesMax[1]) - 0.5) * 0.9;\n    const spacing = 0.001;\n\n    if (!_.isNil(nextPoints)) {\n      const yValueTotalNext = yValuesNext[0] + yValuesNext[1];\n      const yRatiosNext = yValuesNext.map((yValueNext) => yValueNext / yValueTotalNext / 0.5);\n      path.push(\n        ['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY - spacing],\n        ['L', points[1].x, yOffset + originY - spacing],\n        ['L', nextPoints[1].x, yOffset + originY - spacing],\n        ['L', nextPoints[0].x, yOffset + (nextPoints[3].y - originY) * yRatiosNext[0] + originY - spacing],\n        ['Z']\n      );\n      path.push(\n        ['M', points[0].x, yOffset + originY + spacing],\n        ['L', points[1].x, yOffset + (points[1].y - originY) * yRatios[1] + originY + spacing],\n        ['L', nextPoints[1].x, yOffset + (nextPoints[2].y - originY) * yRatiosNext[1] + originY + spacing],\n        ['L', nextPoints[0].x, yOffset + originY + spacing],\n        ['Z']\n      );\n    } else {\n      path.push(\n        ['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY],\n        ['L', points[1].x, yOffset + originY],\n        ['L', points[2].x, yOffset + originY],\n        ['L', points[3].x, yOffset + (points[3].y - originY) * yRatios[0] + originY],\n        ['Z']\n      );\n      path.push(\n        ['M', points[0].x, yOffset + 0.002 + originY],\n        ['L', points[1].x, yOffset + 0.002 + (points[1].y - originY) * yRatios[1] + originY],\n        ['L', points[2].x, yOffset + 0.002 + (points[2].y - originY) * yRatios[1] + originY],\n        ['L', points[3].x, yOffset + 0.002 + originY],\n        ['Z']\n      );\n    }\n  } else {\n    // 标准漏斗\n    if (!_.isNil(nextPoints)) {\n      path.push(\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['L', nextPoints[1].x, nextPoints[1].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n        ['Z']\n      );\n    } else {\n      path.push(\n        ['M', points[0].x, points[0].y],\n        ['L', points[1].x, points[1].y],\n        ['L', points[2].x, points[2].y],\n        ['L', points[3].x, points[3].y],\n        ['Z']\n      );\n    }\n  }\n\n  return path;\n}\n\nregisterShape('interval', 'funnel-basic-rect', {\n  getPoints(pointInfo: ShapePointInfo) {\n    pointInfo.size = pointInfo.size * 1.8; // 调整面积\n    return _getRectPoints(pointInfo);\n  },\n  draw(cfg: ShapeDrawCFG, container: Group) {\n    const attrs = _getFillAttrs(cfg);\n    const compare = _.get(cfg, 'origin._origin.__compare__');\n    let path = _getFunnelPath(cfg, compare);\n    path = this.parsePath(path);\n\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n      ['__compare__']: compare,\n    });\n  },\n  getMarkerStyle(markerCfg: ShapeMarkerCfg) {\n    const markerStyle = {\n      symbol: 'square',\n      radius: 4,\n    };\n    setFillStyle(markerStyle, markerCfg);\n    return markerStyle;\n  },\n});\n","import * as _ from '@antv/util';\nimport { Group } from '@antv/g';\nimport { Global, registerShape } from '@antv/g2';\nimport { setFillStyle } from '@antv/g2/lib/element/util/shape';\nimport { ShapeDrawCFG, ShapeMarkerCfg } from '@antv/g2/lib/interface';\n\nfunction lerp(a, b, factor) {\n  return (1 - factor) * a + factor * b;\n}\n\n// 获取填充图形的图形属性\nfunction _getFillAttrs(cfg) {\n  const defaultAttrs = Global.theme.shape.interval.rect.default;\n  const attrs = _.mix({}, defaultAttrs, cfg.style);\n  setFillStyle(attrs, cfg);\n  return attrs;\n}\n\n// 根据矩形关键点绘制 path\nfunction _getRectPath(points, { reverse, ratioUpper, ratioLower }) {\n  const path = [];\n  const firstPoint = points[0];\n\n  const originX = (points[1].x + points[2].x) / 2;\n  const factorTop = 1.2;\n  const factorBottom = 0.6;\n\n  if (reverse) {\n    const tmp = ratioLower;\n    ratioLower = ratioUpper;\n    ratioUpper = tmp;\n  }\n\n  const firstPointX = (firstPoint.x - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n  path.push(['M', firstPointX, firstPoint.y]);\n\n  for (let i = 1, len = points.length; i < len; i++) {\n    let pointX = points[i].x;\n    switch (i) {\n      case 1:\n      case 2:\n        pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioUpper) + originX;\n        break;\n\n      case 3:\n        pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n        break;\n    }\n    path.push(['L', pointX, points[i].y]);\n  }\n  path.push(['L', firstPointX, firstPoint.y]); // 需要闭合\n  path.push(['z']);\n  return path;\n}\n\nregisterShape('interval', 'funnel-dynamic-rect', {\n  draw(cfg: ShapeDrawCFG, container: Group) {\n    const attrs = _getFillAttrs(cfg);\n    let path = _getRectPath(cfg.points, _.get(cfg, 'origin._origin.__custom__'));\n    path = this.parsePath(path);\n\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n\n  getMarkerStyle(markerCfg: ShapeMarkerCfg) {\n    const isInCircle = markerCfg.isInCircle;\n    const markerStyle = {\n      symbol: isInCircle ? 'circle' : 'square',\n      radius: isInCircle ? 4.5 : 4,\n    };\n    setFillStyle(markerStyle, markerCfg);\n\n    return markerStyle;\n  },\n});\n","import * as _ from '@antv/util';\nimport LabelParser from '../../../../components/label/parser';\nimport { LooseMap } from '../../../../interface/types';\nimport {\n  getPrecisionFormatter,\n  getSuffixFormatter,\n  combineFormatter,\n  getNoopFormatter,\n} from '../../../../util/formatter';\n\nexport default class FunnelLabelParser extends LabelParser {\n  protected parseFormatter(config: LooseMap, ...values: any[]) {\n    const labelProps = this.originConfig;\n    const preformatter = combineFormatter(\n      getNoopFormatter(),\n      getPrecisionFormatter(labelProps.precision),\n      getSuffixFormatter(labelProps.suffix)\n    );\n\n    const plotProps = this.plot.options;\n\n    config.formatter = (xValue, item, idx) => {\n      const proc = (yValue, yValueTop) => {\n        const yValueFormatted = preformatter(yValue, item, idx);\n        if (_.isFunction(labelProps.formatter)) {\n          return labelProps.formatter(xValue, item, idx, yValue, yValueTop);\n        } else {\n          return `${xValue} ${yValueFormatted}`;\n        }\n      };\n\n      if (plotProps.compareField) {\n        const yValues = _.get(item, `_origin.__compare__.yValues`);\n        const yValuesTop = _.get(this.plot.getData(), `0.__compare__.yValues`);\n\n        if (plotProps.transpose) {\n          _.set(config, 'textStyle.lineHeight', _.get(config, 'textStyle.fontSize', 12));\n        }\n\n        return [0, 1]\n          .map((i) => {\n            const yValue = yValues[i];\n            const yValueTop = yValuesTop[i];\n            return proc(yValue, yValueTop);\n          })\n          .join(plotProps.transpose ? '\\n\\n' : '    ');\n      } else {\n        const yValue = _.get(item, `_origin.${plotProps.yField}`);\n        const yValueTop = _.get(this.plot.getData(), `0.${plotProps.yField}`);\n\n        return proc(yValue, yValueTop);\n      }\n    };\n  }\n}\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport HeatmapLayer, { HeatmapViewConfig } from './layer';\n\nexport interface HeatmapConfig extends HeatmapViewConfig, PlotConfig {}\n\nexport default class Heatmap extends BasePlot<HeatmapConfig> {\n  public static getDefaultOptions: typeof HeatmapLayer.getDefaultOptions = HeatmapLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'heatmap';\n    super.createLayers(layerProps);\n  }\n}\n","import { DataPointType } from '@antv/g2/lib/interface';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { extractScale } from '../../util/scale';\nimport '../../geoms/heatmap/linear';\nimport HeatmapLegend, { HeatmapLegendConfig } from './components/legend';\nimport HeatmapBackground, { HeatmapBackgroundConfig } from './components/background';\nimport '../scatter/components/label/scatter-label';\n\ninterface PointStyle {\n  lineDash?: number[];\n  lineWidth?: number;\n  opacity?: string;\n  fillStyle?: string;\n  strokeStyle?: string;\n}\n\nexport interface HeatmapViewConfig extends ViewConfig {\n  colorField: string;\n  radius?: number;\n  intensity?: number;\n  point?: {\n    visible?: boolean;\n    shape?: string;\n    size?: number;\n    color?: string;\n    style?: PointStyle;\n  };\n  legend: HeatmapLegendConfig;\n  background?: {};\n}\n\nexport interface HeatmapLayerConfig extends HeatmapViewConfig, LayerConfig {}\n\nexport default class HeatmapLayer<T extends HeatmapLayerConfig = HeatmapLayerConfig> extends ViewLayer<T> {\n  public type: string = 'heatmap';\n  protected heatmapLegend: HeatmapLegend;\n  protected background: HeatmapBackground;\n  protected count: number = 0;\n\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: true,\n        autoHideLabel: true,\n        autoRotateLabel: true,\n        autoRotateTitle: false,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n        },\n        title: {\n          visible: true,\n          offset: 12,\n        },\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: true,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n        },\n        title: {\n          visible: true,\n          offset: 12,\n        },\n      },\n      tooltip: {\n        visible: true,\n        crosshairs: {\n          type: 'cross',\n          style: {\n            lineWidth: 2,\n          },\n        },\n      },\n      legend: {\n        visible: true,\n        position: 'bottom-center',\n      },\n      color: [\n        'rgba(33,102,172,0)',\n        'rgb(103,169,207)',\n        'rgb(209,229,240)',\n        'rgb(253,219,199)',\n        'rgb(239,138,98)',\n        'rgb(178,24,43)',\n      ],\n    });\n  }\n\n  public afterRender() {\n    if (this.options.legend && this.options.legend.visible) {\n      this.heatmapLegend = new HeatmapLegend({\n        view: this.view,\n        plot: this,\n        ...this.options.legend,\n      });\n      this.heatmapLegend.render();\n      this.paddingController.registerPadding(this.heatmapLegend, 'outer');\n    }\n    if (this.options.background && this.options.padding !== 'auto') {\n      this.background = new HeatmapBackground({\n        view: this.view,\n        plot: this,\n        ...this.options.background,\n      });\n      this.background.render();\n    }\n    super.afterRender();\n    this.count += 1;\n  }\n\n  public destroy() {\n    if (this.heatmapLegend) {\n      this.heatmapLegend.destroy();\n      this.heatmapLegend = null;\n    }\n    if (this.background) {\n      this.background.destroy();\n      this.background = null;\n    }\n    super.destroy();\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置x-scale */\n    scales[props.xField] = {};\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    /** 配置y-scale */\n    scales[props.yField] = {};\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  protected coord() {}\n\n  protected geometryParser(dim, type) {\n    return 'heatmap';\n  }\n\n  protected addGeometry() {\n    const config = {\n      type: 'linearHeatmap',\n      position: {\n        fields: [this.options.xField, this.options.yField],\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color,\n      },\n    } as any;\n\n    if (this.options.radius) {\n      config.radius = this.options.radius;\n    }\n\n    if (this.options.intensity) {\n      config.intensity = this.options.intensity;\n    }\n\n    this.setConfig('element', config);\n\n    this.addPoint();\n  }\n\n  protected addPoint() {\n    const props = this.options;\n    const defaultConfig = { visible: false, size: 0 };\n    if (props.point && props.point.visible) {\n      props.point = _.deepMix(defaultConfig, props.point);\n    } else {\n      props.point = defaultConfig;\n    }\n    const point = getGeom('point', 'guide', {\n      plot: this,\n    });\n    point.active = false;\n    point.label = this.extractLabel();\n    this.setConfig('element', point);\n  }\n\n  protected extractLabel() {\n    const props = this.options;\n    const label = props.label;\n    if (label && label.visible === false) {\n      return false;\n    }\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'scatterLabel',\n      fields: [props.xField, props.yField],\n      position: 'middle',\n      offset: 0,\n      ...label,\n    });\n    return labelConfig;\n  }\n\n  protected legend() {\n    this.setConfig('legends', false);\n  }\n\n  protected animation() {}\n}\n\nregisterPlotType('heatmap', HeatmapLayer);\n","import { registerElement, Element } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport * as colorUtil from '../../util/color';\n\nconst GAUSS_COEF = 0.3989422804014327;\nconst ZERO = 1.0 / 255.0 / 16.0;\n\nconst ORIGIN_FIELD = '_origin';\nconst SHADOW_CANVAS = 'shadowCanvas';\nconst VALUE_RANGE = 'valueRange';\nconst IMAGE_SHAPE = 'imageShape';\nconst MAPPED_DATA = 'mappedData';\nconst GRAY_SCALE_BLURRED_CANVAS = 'grayScaleBlurredCanvas';\nconst HEATMAP_SIZE = 'heatmapSize';\n\nclass LinearHeatmap extends Element {\n  constructor(cfg) {\n    super({\n      type: 'linearHeatmap',\n      shapeType: 'point',\n      paletteCache: {},\n      ...cfg,\n    });\n  }\n\n  _prepareRange() {\n    const data = this.get(MAPPED_DATA);\n    const colorAttr = this.getAttr('color');\n    const colorField = colorAttr.scales[0].field;\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[ORIGIN_FIELD][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n    if (min === max) {\n      min = max - 1;\n    }\n\n    const range = [min, max];\n    this.set(VALUE_RANGE, range);\n  }\n\n  _prepareSize() {\n    let radius;\n    if (this.get('radius')) {\n      radius = this.get('radius');\n    } else {\n      radius = this.getDefaultValue('size');\n      if (!_.isNumber(radius)) {\n        radius = this.getDefaultSize();\n      }\n    }\n\n    const styleOptions = this.get('styleOptions');\n    let blur = styleOptions && _.isObject(styleOptions.cfg) ? styleOptions.cfg.blur : null;\n    if (!_.isFinite(blur) || blur === null) {\n      blur = radius / 2;\n    }\n    this.set(HEATMAP_SIZE, {\n      blur,\n      radius,\n    });\n  }\n\n  getDefaultSize() {\n    const position = this.getAttr('position');\n    const coord = this.get('coord');\n    const radius = Math.min(\n      coord.width / (position.scales[0].ticks.length * 4),\n      coord.height / (position.scales[1].ticks.length * 4)\n    );\n    return radius;\n  }\n\n  _colorize(img) {\n    const colorAttr = this.getAttr('color');\n    const pixels = img.data;\n    const paletteCache = this.get('paletteCache');\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (alpha) {\n        let palette;\n        if (paletteCache[alpha]) {\n          palette = paletteCache[alpha];\n        } else {\n          palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n          paletteCache[alpha] = palette;\n        }\n        // const palette = colorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  _prepareGreyScaleBlurredCircle(r) {\n    let circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n    if (!circleCanvas) {\n      circleCanvas = document.createElement('canvas');\n      this.set(GRAY_SCALE_BLURRED_CANVAS, circleCanvas);\n    }\n    const intensity = this.get('intensity') ? this.get('intensity') : 2;\n    const circleRadius = (Math.sqrt(-2.0 * Math.log(ZERO / r / intensity / GAUSS_COEF)) / 3.0) * r;\n    const blur = circleRadius - r;\n    const r2 = circleRadius + blur;\n    const ctx = circleCanvas.getContext('2d');\n    circleCanvas.width = circleCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, circleCanvas.width, circleCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, r, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  _drawGrayScaleBlurredCircle(x, y, r, alpha, ctx) {\n    const circleCanvas = this.get(GRAY_SCALE_BLURRED_CANVAS);\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(circleCanvas, x - r, y - r);\n  }\n\n  _getShadowCanvasCtx() {\n    let canvas = this.get(SHADOW_CANVAS);\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.set(SHADOW_CANVAS, canvas);\n    }\n    const viewRange = this.get('view').get('panelRange');\n    canvas.width = viewRange.width;\n    canvas.height = viewRange.height;\n    const context = canvas.getContext('2d');\n    context.globalCompositeOperation = 'lighter';\n    return context;\n  }\n\n  _clearShadowCanvasCtx() {\n    const ctx = this._getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  _getImageShape() {\n    let imageShape = this.get(IMAGE_SHAPE);\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.get('container');\n    imageShape = container.addShape('Image', {});\n    this.set(IMAGE_SHAPE, imageShape);\n    return imageShape;\n  }\n\n  clear() {\n    this._clearShadowCanvasCtx();\n    super.clear();\n  }\n\n  drawWithRange(range) {\n    // canvas size\n    const { start, end, width, height } = this.get('coord');\n\n    // value, range, etc\n    // const valueField = this.getAttr('color').field;\n    const valueField = this.getAttr('color').scales[0].field;\n    const size = this.get(HEATMAP_SIZE);\n\n    // prepare shadow canvas context\n    this._clearShadowCanvasCtx();\n    const ctx = this._getShadowCanvasCtx();\n    // filter data\n    let data = this.get(MAPPED_DATA);\n    if (range) {\n      data = data.filter((row) => {\n        return row[ORIGIN_FIELD][valueField] <= range[1] && row[ORIGIN_FIELD][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.get('scales')[valueField];\n    for (let i = 0; i < data.length; i++) {\n      const obj = data[i];\n      const cfg = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[ORIGIN_FIELD][valueField]);\n      // @ts-ignore\n      this._drawGrayScaleBlurredCircle(cfg.x - start.x, cfg.y - end.y, size.radius + size.blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this._clearShadowCanvasCtx();\n    this._colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const image = new Image();\n    image.src = ctx.canvas.toDataURL('image/png');\n    const imageShape = this._getImageShape();\n    imageShape.attr({\n      x: start.x,\n      y: end.y,\n      width,\n      height,\n      img: image,\n    });\n  }\n\n  draw(data) {\n    this.set(MAPPED_DATA, data);\n\n    this._prepareRange();\n    this._prepareSize();\n\n    const size = this.get(HEATMAP_SIZE);\n    this._prepareGreyScaleBlurredCircle(size.radius);\n\n    const range = this.get(VALUE_RANGE);\n    this.drawWithRange(range);\n  }\n}\n\nregisterElement('linearHeatmap', LinearHeatmap);\n","import { each, isArray, isFunction, deepMix, clone } from '@antv/util';\nimport { Group, BBox } from '@antv/g';\nimport { View, Scale } from '@antv/g2';\n\nconst LABEL_MARGIN = 4;\nconst ACTIVE_OPACITY = 1;\nconst DEACTIVE_OPACITY = 0.4;\n\nexport interface HeatmapLegendConfig {\n  visible?: boolean;\n  position?: string;\n  width?: number;\n  height?: number;\n  text?: {\n    style?: any;\n    formatter?: () => string;\n  };\n  gridlineStyle?: any;\n  triggerOn?: string;\n}\n\nexport interface IHeatmapLegend extends HeatmapLegendConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class HeatmapLegend {\n  public options: IHeatmapLegend;\n  public container: Group;\n  public afterRender: boolean;\n  public destroyed: boolean = false;\n  protected view: View;\n  protected layout: string;\n  protected width: number;\n  protected height: number;\n  protected position: string;\n  protected x: number;\n  protected y: number;\n  protected dataSlides: any = {};\n  protected colorScale: any;\n\n  constructor(cfg: IHeatmapLegend) {\n    let defaultOptions = this.getDefaultOptions();\n    if (cfg.plot.options.theme && cfg.plot.options.theme === 'dark') {\n      defaultOptions = this.getDarkOptions();\n    }\n    this.options = deepMix({}, defaultOptions, cfg);\n    this.view = this.options.view;\n    this.afterRender = true;\n    this.init();\n  }\n\n  public init() {\n    this.layout = this.getLayout();\n    this.width = this.options.width ? this.options.width : this.getDefaultWidth();\n    this.height = this.options.height ? this.options.height : this.getDefaultHeight();\n    const plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n  }\n\n  public render() {\n    const scales = this.view.get('scales');\n    const colorField = this.options.plot.options.colorField;\n    this.colorScale = scales[colorField];\n    const { min, max } = this.colorScale;\n    const { color } = this.options.plot.options;\n    if (this.layout === 'horizontal') {\n      this.renderHorizontal(min, max, color);\n    } else {\n      this.renderVertical(min, max, color);\n    }\n    this.legendLayout();\n    this.addInteraction();\n  }\n\n  public hide() {\n    this.container.set('visible', false);\n    this.options.plot.canvas.draw();\n  }\n\n  public show() {\n    this.container.set('visible', true);\n    this.options.plot.canvas.draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n    }\n    this.destroyed = true;\n  }\n\n  public getBBox() {\n    const origin_bbox = this.container.getBBox();\n    return new BBox(this.x, this.y, origin_bbox.width, origin_bbox.height);\n  }\n\n  protected renderVertical(min, max, colors) {\n    const gridWidth = this.width;\n    const gridHeight = this.height / colors.length;\n    const gridLineContainer = new Group();\n    const gridColors = clone(colors).reverse();\n    const valueStep = (max - min) / colors.length;\n    // 绘制色彩格子\n    each(gridColors, (c, i) => {\n      const y = gridHeight * i;\n      // 记录每个grid代表的区间信息用于legend交互\n      const appendInfo = { to: max - valueStep * i, from: max - valueStep * (i + 1) };\n      const rect = this.container.addShape('rect', {\n        attrs: {\n          x: 0,\n          y,\n          width: gridWidth,\n          height: gridHeight,\n          fill: c,\n          opacity: ACTIVE_OPACITY,\n          cursor: 'pointer',\n        },\n        name: 'grid',\n      });\n      rect.set('info', appendInfo);\n      const dataSlide = this.getDataSlide(appendInfo);\n      this.dataSlides[`${appendInfo.from}-${appendInfo.to}`] = { mode: 'active', data: dataSlide };\n      const line = gridLineContainer.addShape('path', {\n        attrs: {\n          path: [\n            ['M', 0, y + gridHeight],\n            ['L', gridWidth, y + gridHeight],\n          ],\n          ...this.options.gridlineStyle,\n        },\n      });\n    });\n    // 绘制两边的label\n    const textMax = this.container.addShape('text', {\n      attrs: {\n        text: max,\n        x: gridWidth / 2,\n        y: -LABEL_MARGIN,\n        textAlign: 'center',\n        textBaseline: 'bottom',\n        ...this.options.text.style,\n      },\n    });\n    const textMin = this.container.addShape('text', {\n      attrs: {\n        text: min,\n        x: gridWidth / 2,\n        y: this.height + LABEL_MARGIN,\n        textAlign: 'center',\n        textBaseline: 'top',\n        ...this.options.text.style,\n      },\n    });\n    // 绘制包围线\n    const path = gridLineContainer.addShape('path', {\n      attrs: {\n        path: [\n          ['M', 0, 0],\n          ['L', this.width, 0],\n          ['L', this.width, this.height],\n          ['L', 0, this.height],\n          ['L', 0, 0],\n        ],\n        ...this.options.gridlineStyle,\n      },\n    });\n    this.container.add(gridLineContainer);\n  }\n\n  protected renderHorizontal(min, max, colors) {\n    const gridWidth = this.width / colors.length;\n    const gridHeight = this.height;\n    const gridLineContainer = new Group();\n    const valueStep = (max - min) / colors.length;\n    // 绘制色彩格子\n    each(colors, (c, i) => {\n      const x = gridWidth * i;\n      // 记录每个grid代表的区间信息用于legend交互\n      const appendInfo = { from: valueStep * i, to: valueStep * (i + 1) };\n      const rect = this.container.addShape('rect', {\n        attrs: {\n          x,\n          y: 0,\n          width: gridWidth,\n          height: gridHeight,\n          fill: c,\n          opacity: 0.8,\n          cursor: 'pointer',\n        },\n        name: 'grid',\n      });\n      rect.set('info', appendInfo);\n      const line = gridLineContainer.addShape('path', {\n        attrs: {\n          path: [\n            ['M', x + gridWidth, 0],\n            ['L', x + gridWidth, gridHeight],\n          ],\n          ...this.options.gridlineStyle,\n        },\n      });\n    });\n    // 绘制两边的label\n    this.container.addShape('text', {\n      attrs: {\n        text: min,\n        x: -LABEL_MARGIN,\n        y: gridHeight / 2,\n        ...this.options.text.style,\n        textAlign: 'right',\n        textBaseline: 'middle',\n      },\n    });\n    this.container.addShape('text', {\n      attrs: {\n        text: max,\n        x: this.width + LABEL_MARGIN,\n        y: gridHeight / 2,\n        textAlign: 'left',\n        textBaseline: 'middle',\n        ...this.options.text.style,\n      },\n    });\n    // 绘制包围线\n    gridLineContainer.addShape('path', {\n      attrs: {\n        path: [\n          ['M', 0, 0],\n          ['L', this.width, 0],\n          ['L', this.width, this.height],\n          ['L', 0, this.height],\n          ['L', 0, 0],\n        ],\n        ...this.options.gridlineStyle,\n      },\n    });\n    this.container.add(gridLineContainer);\n  }\n\n  protected getLayout() {\n    const positions = this.options.position.split('-');\n    this.position = positions[0];\n    if (positions[0] === 'left' || positions[0] === 'right') {\n      return 'vertical';\n    }\n    return 'horizontal';\n  }\n\n  protected getDefaultWidth() {\n    if (this.layout === 'horizontal') {\n      const { width } = this.options.plot.options;\n      return width * 0.5;\n    }\n    return 10;\n  }\n\n  protected getDefaultHeight() {\n    if (this.layout === 'vertical') {\n      const { height } = this.options.plot.options;\n      return height * 0.5;\n    }\n    return 10;\n  }\n\n  protected legendLayout() {\n    const { bleeding } = this.options.plot.getPlotTheme();\n    if (isArray(bleeding)) {\n      each(bleeding, (it, index) => {\n        if (typeof bleeding[index] === 'function') {\n          bleeding[index] = bleeding[index](this.options.plot.options);\n        }\n      });\n    }\n    const bbox = this.container.getBBox();\n    let x = 0;\n    let y = 0;\n    const positions = this.options.position.split('-');\n    const plotWidth = this.options.plot.width;\n    const plotHeight = this.options.plot.height;\n    // 先确定x\n    if (positions[0] === 'left') {\n      x = bleeding[3];\n    } else if (positions[0] === 'right') {\n      x = plotWidth - bleeding[1] - bbox.width;\n    } else if (positions[1] === 'center') {\n      x = (plotWidth - bbox.width) / 2;\n    } else if (positions[1] === 'left') {\n      x = bleeding[3];\n    } else if (positions[1] === 'right') {\n      x = this.options.plot.width - bleeding[1] - bbox.width;\n    }\n    // 再确定y\n    if (positions[0] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    } else if (positions[0] === 'top') {\n      y = this.getTopPosition(bleeding);\n    } else if (positions[1] === 'center') {\n      y = (plotHeight - bbox.height) / 2;\n    } else if (positions[1] === 'top') {\n      y = bleeding[0];\n    } else if (positions[1] === 'bottom') {\n      y = plotHeight - bleeding[2] - bbox.height;\n    }\n\n    this.x = x;\n    this.y = y;\n\n    this.container.translate(x, y);\n  }\n\n  protected getDefaultOptions() {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.45)',\n        },\n      },\n      gridlineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(0, 0, 0, 0.45)',\n      },\n    };\n  }\n\n  protected getDarkOptions() {\n    return {\n      text: {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(255, 255, 255, 0.45)',\n        },\n      },\n      gridlineStyle: {\n        lineWidth: 1,\n        stroke: 'rgba(255, 255, 255, 0.25)',\n      },\n    };\n  }\n\n  protected addInteraction() {\n    const { colorField, data } = this.options.plot.options;\n    this.container.on('click', (ev) => {\n      const { target } = ev;\n      if (target.get('name') === 'grid') {\n        const appendInfo = target.get('info');\n        const targetInfo = `${appendInfo.from}-${appendInfo.to}`;\n        const relativeData = this.dataSlides[targetInfo];\n        if (relativeData.mode === 'active') {\n          relativeData.mode = 'deactive';\n          target.stopAnimate();\n          target.animate(\n            {\n              opacity: DEACTIVE_OPACITY,\n            },\n            200\n          );\n        } else {\n          relativeData.mode = 'active';\n          target.stopAnimate();\n          target.animate(\n            {\n              opacity: ACTIVE_OPACITY,\n            },\n            200\n          );\n        }\n        const filteredData = this.getFilteredData();\n        if (filteredData.length > 0) {\n          this.view.set('data', filteredData);\n          this.view.scale(colorField, {\n            min: this.colorScale.min,\n            max: this.colorScale.max,\n            nice: this.colorScale.nice,\n          } as any);\n          this.view.render();\n        }\n      }\n    });\n  }\n\n  protected getFilteredData() {\n    const filteredData = [];\n    each(this.dataSlides, (s) => {\n      if (s.mode == 'active') {\n        filteredData.push(...s.data);\n      }\n    });\n    return filteredData;\n  }\n\n  //预先对数据进行分组\n  protected getDataSlide(range) {\n    const slide = [];\n    const { colorField, data } = this.options.plot.options;\n    each(data, (d) => {\n      const value = d[colorField];\n      if (value >= range.from && value < range.to) {\n        slide.push(d);\n      }\n    });\n    return slide;\n  }\n\n  private getTopPosition(bleeding) {\n    if (this.options.plot.description) {\n      const bbox = this.options.plot.description.getBBox();\n      return bbox.maxY + 10;\n    } else if (this.options.plot.title) {\n      const bbox = this.options.plot.title.getBBox();\n      return bbox.maxY + 10;\n    }\n    return bleeding[0];\n  }\n}\n","import { each, isArray, isFunction, deepMix } from '@antv/util';\nimport { Group, BBox } from '@antv/g';\nimport { View } from '@antv/g2';\nimport EventEmitter from '@antv/event-emitter';\n\nexport interface HeatmapBackgroundConfig {\n  type?: string;\n  value?: any;\n  src?: string;\n  callback?: Function;\n}\n\nexport interface IHeatmapBackground extends HeatmapBackgroundConfig {\n  view: View;\n  plot: any;\n}\n\nexport default class HeatmapBackground extends EventEmitter {\n  public options: IHeatmapBackground;\n  public container: Group;\n  protected view: View;\n  protected x: number;\n  protected y: number;\n  protected width: number;\n  protected height: number;\n\n  constructor(cfg: IHeatmapBackground) {\n    super();\n    this.options = cfg;\n    this.view = this.options.view;\n    this.init();\n  }\n\n  public init() {\n    const coord = this.view.get('coord');\n    this.width = coord.width;\n    this.height = coord.height;\n    this.x = coord.start.x;\n    this.y = coord.end.y;\n    const plotContainer = this.options.plot.container;\n    this.container = plotContainer.addGroup();\n    this.container.setZIndex(-100);\n  }\n\n  public render() {\n    if (this.options.type === 'color') {\n      this.renderColorBackground();\n    } else if (this.options.type === 'image') {\n      this.renderImageBackground();\n    } else if (this.options.callback) {\n      const callbackCfg = {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        container: this.container,\n      };\n      this.options.callback(callbackCfg);\n    }\n  }\n\n  public renderColorBackground() {\n    this.container.addShape('rect', {\n      attrs: {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        fill: this.options.value,\n      },\n    });\n  }\n\n  public renderImageBackground() {\n    this.container.addShape('image', {\n      attrs: {\n        x: this.x,\n        y: this.y,\n        width: this.width,\n        height: this.height,\n        img: this.options.src,\n      },\n    });\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n      this.emit('background:clear');\n    }\n  }\n\n  public destroy() {\n    if (this.container) {\n      this.container.remove();\n      // 使用callback定制的html background需要自己监听销毁事件自行销毁\n      this.emit('background:destroy');\n    }\n  }\n}\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport MatrixLayer, { MatrixLayerConfig } from './layer';\n\nexport interface MatrixConfig extends MatrixLayerConfig, PlotConfig {}\n\nexport default class Matrix extends BasePlot<MatrixConfig> {\n  public static getDefaultOptions: typeof MatrixLayer.getDefaultOptions = MatrixLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'matrix';\n    super.createLayers(layerProps);\n  }\n\n  public changeShape(type: string) {\n    const layer: any = this.layers[0];\n    layer.changeShape(type);\n  }\n\n  public mappingSize(field: string) {\n    const layer: any = this.layers[0];\n    layer.mappingSize(field);\n  }\n\n  public disableMappingSize() {\n    const layer: any = this.layers[0];\n    layer.disableMappingSize();\n  }\n}\n","import * as _ from '@antv/util';\nimport { BBox } from '@antv/g';\nimport { getScale } from '@antv/scale';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport MatrixLegend, { MatrixLegendConfig } from './component/legend';\nimport { getRectPath, getCirclePath, getCircleCurve } from './shape';\nimport './component/label';\nimport './component/legend';\n\nexport interface MatrixViewConfig extends ViewConfig {\n  forceSquare?: boolean;\n  sizeField?: string;\n  colorField?: string;\n  shapeSize?: number[];\n  shapeType?: string;\n  color?: string[];\n  legend?: MatrixLegendConfig;\n}\n\nexport interface MatrixLayerConfig extends MatrixViewConfig, LayerConfig {}\n\nexport default class MatrixLayer<T extends MatrixLayerConfig = MatrixLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      forceSquare: false,\n      shapeType: 'rect',\n      legend: {\n        visible: true,\n        position: 'right-center',\n      },\n      tooltip: {\n        shared: false,\n        crosshairs: false,\n      },\n      xAxis: {\n        visible: true,\n        gridAlign: 'center',\n        grid: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        line: {\n          visible: false,\n        },\n        autoRotateLabel: true,\n      },\n      yAxis: {\n        visible: true,\n        gridAlign: 'center',\n        grid: {\n          visible: true,\n          align: 'center',\n        },\n        tickLine: {\n          visible: true,\n        },\n        autoRotateLabel: true,\n      },\n      color: ['#9ae3d5', '#66cdbb', '#e7a744', '#f1e066', '#f27664', '#e7c1a2'],\n      label: {\n        visible: true,\n        adjustColor: true,\n        adjustPosition: true,\n        offset: 0,\n        style: {\n          stroke: 'rgba(255,255,255,0)',\n          lineWidth: 0,\n        },\n      },\n    });\n  }\n\n  public type: string = 'matrix';\n  protected gridSize: number[] = [];\n  protected matrixLegend: MatrixLegend;\n\n  public afterInit() {\n    super.afterInit();\n    if (this.options.forceSquare) {\n      const panelRange = this.view.get('panelRange');\n      const { xField, yField, data } = this.options;\n      const xCount = _.valuesOfKey(data, xField).length;\n      const yCount = _.valuesOfKey(data, yField).length;\n      const rangeSize = Math.min(panelRange.width, panelRange.height);\n      const count = Math.max(xCount, yCount);\n      const gridSize = rangeSize / count;\n      const width = gridSize * xCount;\n      const height = gridSize * yCount;\n      this.view.set('panelRange', new BBox(panelRange.x, panelRange.y, width, height));\n    }\n  }\n\n  public afterRender() {\n    if (this.options.legend && this.options.legend.visible) {\n      this.matrixLegend = new MatrixLegend({\n        view: this.view,\n        plot: this,\n        ...this.options.legend,\n      });\n      this.matrixLegend.render();\n      this.paddingController.registerPadding(this.matrixLegend, 'outer');\n    }\n    super.afterRender();\n  }\n\n  public changeShape(type: string) {\n    if (this.options.shapeType === type) {\n      return;\n    }\n    this.options.shapeType = type;\n    if (type === 'rect') {\n      const geom = this.view.get('elements')[0];\n      const shapes = geom.getShapes();\n      this.circleToRect(shapes);\n    } else if (type === 'circle') {\n      const geom = this.view.get('elements')[0];\n      const shapes = geom.getShapes();\n      this.rectToCircle(shapes);\n    }\n  }\n\n  public mappingSize(field: string) {\n    if (this.options.sizeField && this.options.sizeField === field) {\n      return;\n    }\n    // 创建scale\n    const values = _.valuesOfKey(this.options.data, field);\n    const min = Math.min(...values);\n    const max = Math.max(...values);\n    const LinearScale = getScale('linear');\n    const scale = new LinearScale({\n      min,\n      max,\n    });\n    const geom = this.view.get('elements')[0];\n    const shapes = geom.getShapes();\n    if (this.options.shapeType === 'rect') {\n      this.rectSizeMapping(shapes, scale, field);\n    } else if (this.options.shapeType === 'circle') {\n      this.circleSizeMapping(shapes, scale, field);\n    }\n  }\n\n  public disableMappingSize() {\n    const geom = this.view.get('elements')[0];\n    const shapes = geom.getShapes();\n    if (this.options.shapeType === 'rect') {\n      this.rectDisableSizeMapping(shapes);\n    } else if (this.options.shapeType === 'circle') {\n      this.circleDisableSizeMapping(shapes);\n    }\n  }\n\n  protected geometryParser() {\n    return '';\n  }\n\n  protected coord() {}\n\n  protected legend() {\n    this.setConfig('legends', false);\n  }\n\n  protected addGeometry() {\n    this.gridSize = this.getGridSize();\n    if (this.options.shapeType === 'rect') {\n      const rect = this.addRect();\n      this.setConfig('element', rect);\n    } else {\n      const circle = this.addCircle();\n      this.setConfig('element', circle);\n    }\n  }\n\n  protected addRect() {\n    // 如果用户设置了size，将size数值转换为[0,1]区间\n    const size = [0.3, 0.9];\n    if (this.options.shapeSize) {\n      size[0] = this.options.shapeSize[0] / this.gridSize[0];\n      size[1] = this.options.shapeSize[1] / this.gridSize[1];\n    }\n    const rect: any = {\n      type: 'polygon',\n      position: {\n        fields: [this.options.xField, this.options.yField],\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color,\n      },\n      shape: {\n        values: ['rect'],\n      },\n      label: this.extractLabel(),\n    };\n    if (this.options.sizeField) {\n      rect.size = {\n        fields: [this.options.sizeField],\n        values: size,\n      };\n    } else {\n      rect.size = {\n        values: [1],\n      };\n    }\n    return rect;\n  }\n\n  protected addCircle() {\n    let size = [0.3, 0.9];\n    if (this.options.shapeSize) {\n      size = this.options.shapeSize;\n    } else {\n      size[0] = this.gridSize[0] * size[0] * 0.5;\n      size[1] = this.gridSize[1] * size[1] * 0.5;\n    }\n    const circle: any = {\n      type: 'point',\n      position: {\n        fields: [this.options.xField, this.options.yField],\n      },\n      color: {\n        fields: [this.options.colorField],\n        values: this.options.color,\n      },\n      shape: {\n        values: ['curvePoint'],\n      },\n      label: this.extractLabel(),\n    };\n    if (this.options.sizeField) {\n      circle.size = {\n        fields: [this.options.sizeField],\n        values: size,\n      };\n    } else {\n      circle.size = {\n        values: [Math.min(this.gridSize[0], this.gridSize[1]) * 0.5 * 0.9],\n      };\n    }\n    return circle;\n  }\n\n  protected extractLabel() {\n    const labelOptions = this.options.label;\n    // 不显示label的情况\n    if (!labelOptions.visible) {\n      return false;\n    }\n    if (!this.options.sizeField && !this.options.colorField) {\n      return false;\n    }\n\n    const label = getComponent('label', {\n      plot: this,\n      top: true,\n      labelType: 'matrixLabel',\n      fields: this.options.colorField ? [this.options.colorField] : [this.options.sizeField],\n      ...labelOptions,\n    });\n    return label;\n  }\n\n  private getGridSize() {\n    if (this.options.padding === 'auto') {\n      return [0, 0];\n    } else {\n      const viewRange = this.getViewRange();\n      const { padding, xField, yField, data } = this.options;\n      const width = viewRange.width - padding[1] - padding[3];\n      const height = viewRange.height - padding[0] - padding[2];\n      const xCount = _.valuesOfKey(data, xField).length;\n      const yCount = _.valuesOfKey(data, yField).length;\n      return [width / xCount, height / yCount];\n    }\n  }\n\n  private circleToRect(shapes) {\n    const gridSize = this.gridSize;\n    _.each(shapes, (shape) => {\n      const { x, y, size } = shape.get('origin');\n      let sizeRatio = (size * 2) / Math.min(gridSize[0], gridSize[1]);\n      if (!this.options.sizeField) {\n        sizeRatio = 1;\n      }\n      const curvePath = getCircleCurve(x, y, size);\n      const rectPath = getRectPath(x, y, gridSize[0], gridSize[1], sizeRatio);\n      shape.stopAnimate();\n      shape.attr('path', curvePath);\n      shape.animate(\n        {\n          path: rectPath,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private rectToCircle(shapes) {\n    _.each(shapes, (shape) => {\n      const coord = shape.get('coord');\n      const { points } = shape.get('origin');\n      const ps = [];\n      _.each(points, (p) => {\n        ps.push(coord.convertPoint(p));\n      });\n      const bbox = shape.getBBox();\n      const width = bbox.width;\n      const height = bbox.height;\n      const centerX = bbox.minX + width / 2;\n      const centerY = bbox.minY + height / 2;\n      const offsetRatio = this.options.sizeField ? 1 : 0.9;\n      const curvePath = getCircleCurve(centerX, centerY, (Math.min(width, height) / 2) * offsetRatio);\n      const circlePath = getCirclePath(centerX, centerY, (Math.min(width, height) / 2) * offsetRatio);\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: curvePath,\n        },\n        500,\n        'easeLinear',\n        () => {\n          shape.attr('path', circlePath);\n        }\n      );\n    });\n  }\n\n  private rectSizeMapping(shapes, scale, field) {\n    _.each(shapes, (shape) => {\n      const data = shape.get('origin')._origin;\n      const ratio = 0.3 + scale.scale(data[field]) * 0.6;\n      shape.get('origin').size = ratio;\n      const bbox = shape.getBBox();\n      const width = bbox.width;\n      const height = bbox.height;\n      const centerX = bbox.minX + width / 2;\n      const centerY = bbox.minY + height / 2;\n      const path = getRectPath(centerX, centerY, width, height, ratio);\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: path,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private circleSizeMapping(shapes, scale, field) {\n    _.each(shapes, (shape) => {\n      const data = shape.get('origin')._origin;\n      const ratio = 0.3 + scale.scale(data[field]) * 0.6;\n      const { x, y, size } = shape.get('origin');\n      const path = getCirclePath(x, y, size * ratio);\n      shape.get('origin').size = size * ratio;\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: path,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private circleDisableSizeMapping(shapes) {\n    _.each(shapes, (shape) => {\n      const { x, y } = shape.get('origin');\n      const size = Math.min(this.gridSize[0], this.gridSize[1]) * 0.9;\n      shape.get('origin').size = size / 2;\n      const path = getCirclePath(x, y, size / 2);\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: path,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n\n  private rectDisableSizeMapping(shapes) {\n    _.each(shapes, (shape) => {\n      const bbox = shape.getBBox();\n      const width = bbox.width;\n      const height = bbox.height;\n      const centerX = bbox.minX + width / 2;\n      const centerY = bbox.minY + height / 2;\n      const path = getRectPath(centerX, centerY, this.gridSize[0], this.gridSize[1], 1);\n      shape.get('origin').size = 1;\n      shape.stopAnimate();\n      shape.animate(\n        {\n          path: path,\n        },\n        500,\n        'easeLinear'\n      );\n    });\n  }\n}\n\nregisterPlotType('matrix', MatrixLayer);\n","import { registerShape } from '@antv/g2';\n\nexport function getRectPath(cx, cy, width, height, size) {\n  const w = width * size;\n  const h = height * size;\n  const path = [\n    ['M', cx - w / 2, cy + h / 2],\n    ['Q', cx - w / 2, cy, cx - w / 2, cy - h / 2],\n    ['Q', cx, cy - h / 2, cx + w / 2, cy - h / 2],\n    ['Q', cx + w / 2, cy, cx + w / 2, cy + h / 2],\n    ['Q', cx, cy + h / 2, cx - w / 2, cy + h / 2],\n    ['Z'],\n  ];\n  return path;\n}\n\nexport function getCirclePath(x, y, size) {\n  const path = [\n    ['M', x, y],\n    ['m', -size, 0],\n    ['a', size, size, 0, 1, 0, size * 2, 0],\n    ['a', size, size, 0, 1, 0, -(size * 2), 0],\n    ['Z'],\n  ];\n  return path;\n}\n\nexport function getCircleCurve(x, y, size) {\n  // 计算四个角和中点\n  const path = [\n    ['M', x - size, y],\n    ['Q', x - size, y - size, x, y - size],\n    ['Q', x + size, y - size, x + size, y],\n    ['Q', x + size, y + size, x, y + size],\n    ['Q', x - size, y + size, x - size, y],\n    ['Z'],\n  ];\n  return path;\n}\n\nregisterShape('polygon', 'rect', {\n  draw(cfg, container) {\n    const points = this.parsePoints(cfg.points);\n    const width = points[2].x - points[0].x;\n    const height = points[0].y - points[1].y;\n    const centerX = points[0].x + width / 2;\n    const centerY = points[1].y + height / 2;\n    /*\n        const path = [\n          ['M', centerX - w / 2, centerY + h / 2],\n          ['L', centerX - w / 2, centerY - h / 2],\n          ['L', centerX + w / 2, centerY - h / 2],\n          ['L', centerX + w / 2, centerY + h / 2],\n          ['Z'],\n        ];\n        */\n    const path = getRectPath(centerX, centerY, width, height, cfg.origin.size);\n    return container.addShape('path', {\n      attrs: {\n        path,\n        fill: cfg.color,\n        opacity: 1,\n      },\n    });\n  },\n});\n\nregisterShape('point', 'curvePoint', {\n  draw(cfg, container) {\n    const path = getCirclePath(cfg.x, cfg.y, cfg.size);\n    return container.addShape('path', {\n      attrs: {\n        path,\n        fill: cfg.color,\n        opacity: 1,\n      },\n    });\n  },\n});\n","import { Shape } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { rgb2arr } from '../../../util/color';\n\ninterface Point {\n  [key: string]: any;\n}\n\nexport class MatrixLabels extends ElementLabels {\n  public showLabels(points: any, shapes: Shape[]) {\n    super.showLabels(points, shapes);\n    const renderer = this.get('labelsRenderer');\n    const labels = renderer.get('group').get('children');\n    const items = renderer.get('items');\n    const view = this.get('element').get('view');\n    _.each(labels, (label, index) => {\n      const l = label as Shape;\n      const item = items[index];\n      const origin = l.get('origin');\n      const shapeId = this.get('element').getShapeId(origin);\n      const shape = this._getShape(shapeId, shapes);\n      const { adjustColor, adjustPosition } = this.get('labelOptions');\n      if (adjustColor) {\n        this.adjustColor(l, shape);\n      }\n      if (adjustPosition) {\n        this.adjustPosition(l, shape);\n      }\n    });\n    view.get('canvas').draw();\n  }\n\n  public _getShape(shapeId, shapes) {\n    let target;\n    _.each(shapes, (shape) => {\n      const s = shape as Point;\n      const id = s.id;\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n    return target;\n  }\n\n  public adjustColor(label, shape) {\n    const labelRange = label.getBBox();\n    const shapeRange = shape.getBBox();\n    if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n      const shapeColor = shape.attr('fill');\n      const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n      const rgb = rgb2arr(shapeColor);\n      const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n      const colorBand = [\n        { from: 0, to: 85, color: 'white' },\n        { from: 85, to: 170, color: '#F6F6F6' },\n        { from: 170, to: 255, color: 'black' },\n      ];\n      const reflect = this.mappingColor(colorBand, gray);\n      label.attr('fill', reflect);\n    }\n  }\n\n  public mappingColor(band, gray) {\n    let reflect;\n    _.each(band, (b) => {\n      const map = b as Point;\n      if (gray >= map.from && gray < map.to) {\n        reflect = map.color;\n      }\n    });\n    return reflect;\n  }\n\n  public adjustPosition(label, shape) {\n    const labelRange = label.getBBox();\n    const shapeRange = shape.getBBox();\n\n    if (labelRange.width > shapeRange.width || labelRange.height > shapeRange.height) {\n      label.attr('opacity', 0);\n      label.attr('fillOpacity', 0);\n      label.attr('strokeOpacity', 0);\n      label.set('capture', false);\n    }\n  }\n}\n\nregisterElementLabels('matrixLabel', MatrixLabels);\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport WaterfallLayer, { WaterfallViewConfig } from './layer';\n\nexport interface WaterfallConfig extends WaterfallViewConfig, PlotConfig {}\n\nexport default class Waterfall extends BasePlot<WaterfallConfig> {\n  public static getDefaultOptions: typeof WaterfallLayer.getDefaultOptions = WaterfallLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'waterfall';\n    super.createLayers(layerProps);\n  }\n}\n","import { Global, registerShape } from '@antv/g2';\nimport * as _ from '@antv/util';\n\nfunction getRectPath(points) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['Z']);\n  return path;\n}\n\nconst ShapeUtil = {\n  addFillAttrs(attrs, cfg) {\n    if (cfg.color) {\n      attrs.fill = cfg.color;\n    }\n    if (_.isNumber(cfg.opacity)) {\n      attrs.opacity = attrs.fillOpacity = cfg.opacity;\n    }\n  },\n};\n\nfunction getFillAttrs(cfg) {\n  const defaultAttrs = Global.theme.shape.interval;\n  const attrs = _.mix({}, defaultAttrs, cfg.style);\n  ShapeUtil.addFillAttrs(attrs, cfg);\n  if (cfg.color) {\n    attrs.stroke = attrs.stroke || cfg.color;\n  }\n  return attrs;\n}\n\n// @ts-ignore\nregisterShape('interval', 'waterfall', {\n  draw(cfg, container: any) {\n    const fillAttrs = getFillAttrs(cfg);\n    let rectPath = getRectPath(cfg.points);\n    rectPath = this.parsePath(rectPath);\n    // 1. 区域\n    const interval = container.addShape('path', {\n      attrs: _.mix(fillAttrs, {\n        path: rectPath,\n      }),\n    });\n    const leaderLine = _.get(cfg.style, 'leaderLine');\n    if (leaderLine && leaderLine.visible) {\n      const lineStyle = leaderLine.style || {};\n      // 2. 虚线连线\n      if (cfg.nextPoints) {\n        let linkPath = [\n          ['M', cfg.points[2].x, cfg.points[2].y],\n          ['L', cfg.nextPoints[0].x, cfg.nextPoints[0].y],\n        ];\n        linkPath = this.parsePath(linkPath);\n        const path = container.addShape('path', {\n          attrs: {\n            path: linkPath,\n            stroke: '#d3d3d3',\n            lineDash: [4, 2],\n            lineWidth: 1,\n            ...lineStyle,\n          },\n        });\n        path.name = 'leader-line';\n      }\n    }\n    return interval;\n  },\n});\n","/**\n * @file events of waterfall chart is equal to column chart\n */\nexport { EVENT_MAP, onEvent } from '../column/event';\n","import { registerElementLabels, ElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { ColumnLabels } from '../../../column/component/label/column-label';\nimport { VALUE_FIELD } from '../../layer';\n\nclass WaterfallLabels extends ColumnLabels {\n  public adjustPosition(label, shape, item) {\n    const MARGIN = 2;\n    const shapeBox = shape.getBBox();\n    const origin = label.get('origin');\n    const yField = item.fields[0];\n    const values = origin[VALUE_FIELD];\n    const diff = origin[yField];\n    const value = _.isArray(values) ? values[1] : values;\n    let yPos = (shapeBox.minY + shapeBox.maxY) / 2;\n    let textBaseline = 'bottom';\n\n    if (diff < 0) {\n      yPos = shapeBox.maxY + MARGIN;\n      textBaseline = 'top';\n    } else {\n      yPos = shapeBox.minY - MARGIN;\n    }\n\n    label.attr('y', yPos);\n    label.attr('text', value);\n    label.attr('textBaseline', textBaseline);\n  }\n}\n\nregisterElementLabels('waterfall', WaterfallLabels);\n","import { Group, BBox } from '@antv/g';\nimport { View } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { VALUE_FIELD, IS_TOTAL } from '../../layer';\n\nexport interface DiffLabelcfg {\n  view: View;\n  fields: string[];\n  formatter: (text: string, item: object, idx: number) => string;\n  style?: {\n    fill?: string;\n    stroke?: string;\n    strokeOpacity?: number;\n    [k: string]: any;\n  };\n}\n\nfunction getDefaultCfg() {\n  return {\n    fill: '#fff',\n    fontSize: 12,\n    lineHeight: 12,\n    stroke: 'rgba(0, 0, 0, 0.45)',\n  };\n}\n\nexport default class DiffLabel {\n  private view: View;\n  private fields: string[];\n  private container: Group;\n  private formatter: (text: string, item: object, idx: number) => string;\n  private textAttrs: object = {};\n\n  constructor(cfg: DiffLabelcfg) {\n    this.view = cfg.view;\n    this.fields = cfg.fields;\n    this.formatter = cfg.formatter;\n    this.textAttrs = _.mix(getDefaultCfg(), cfg.style);\n\n    this._init();\n  }\n\n  /** 绘制辅助labels */\n  public draw() {\n    if (!this.view || this.view.destroyed) {\n      return;\n    }\n    const data = _.clone(this.view.get('data'));\n    this.container = this.view.get('frontgroundGroup').addGroup();\n    const shapes = this.view\n      .get('elements')[0]\n      .getShapes()\n      .filter((s) => s.name === 'interval');\n    const labelsGroup = new Group();\n\n    _.each(shapes, (shape, idx) => {\n      if (!shape.get('origin')) return;\n      const _origin = shape.get('origin')._origin;\n      const shapeBox: BBox = shape.getBBox();\n      const values = _origin[VALUE_FIELD];\n      let diff = values;\n      if (_.isArray(values)) {\n        diff = values[1] - values[0];\n      }\n      diff = diff > 0 ? `+${diff}` : diff;\n      /** is total, total do not need `+` sign */\n      if (_origin[IS_TOTAL]) {\n        diff = values[0] - values[1];\n      }\n      let formattedText = diff;\n      if (this.formatter) {\n        const color = shapes[idx].attr('fill');\n        formattedText = this.formatter(`${diff}`, { _origin: data[idx], color }, idx);\n      }\n      const text = labelsGroup.addShape('text', {\n        attrs: {\n          text: formattedText,\n          textBaseline: 'middle',\n          textAlign: 'center',\n          x: (shapeBox.minX + shapeBox.maxX) / 2,\n          y: (shapeBox.minY + shapeBox.maxY) / 2,\n          ...this.textAttrs,\n        },\n      });\n      if (text.getBBox().height > shapeBox.height) {\n        text.set('visible', false);\n      }\n    });\n    this.container.add(labelsGroup);\n    this.view.get('canvas').draw();\n  }\n\n  public clear() {\n    if (this.container) {\n      this.container.clear();\n    }\n  }\n\n  private _init() {\n    this.view.on('beforerender', () => {\n      this.clear();\n    });\n\n    this.view.on('afterrender', () => {\n      this.draw();\n    });\n  }\n}\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TreemapLayer, { TreemapViewConfig } from './layer';\n\nexport interface TreemapConfig extends TreemapViewConfig, PlotConfig {}\n\nexport default class Treemap extends BasePlot<TreemapConfig> {\n  public static getDefaultOptions: typeof TreemapLayer.getDefaultOptions = TreemapLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'treemap';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport squarify from './layout/squarify';\nimport { INTERACTION_MAP } from './interaction';\nimport * as EventParser from './event';\nimport './components/label';\n\nconst PARENT_NODE_OFFSET = 4;\nconst BLOCK_MARGIN = 4;\n\nexport interface TreemapViewConfig extends ViewConfig {\n  data: any;\n  maxLevel?: number;\n  colorField: string;\n  colors?: string[];\n  rectStyle?: any;\n}\n\nexport interface TreemapLayerConfig extends TreemapViewConfig, LayerConfig {}\n\nexport default class TreemapLayer<T extends TreemapLayerConfig = TreemapLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): Partial<TreemapLayerConfig> {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      maxLevel: 2,\n      padding: [0, 0, 0, 0],\n      tooltip: {\n        visible: false,\n      },\n      legend: {\n        visible: false,\n      },\n      xAxis: {\n        visible: false,\n      },\n      yAxis: {\n        visible: false,\n      },\n      xField: 'x',\n      yField: 'y',\n      label: {\n        visible: true,\n        adjustPosition: true,\n        style: {\n          stroke: 'rgba(0,0,0,0)',\n          lineWidth: 0,\n          fontSize: 12,\n        },\n      },\n      meta: {\n        x: {\n          nice: false,\n        },\n        y: {\n          nice: false,\n        },\n      },\n    });\n  }\n  public type: string = 'line';\n  public rootData: any;\n  public rect: any;\n  private isDrilldown: boolean;\n\n  public beforeInit() {\n    const { interactions } = this.options;\n    if (interactions) {\n      _.each(interactions, (interaction) => {\n        if (interaction.type === 'drilldown') {\n          this.isDrilldown = true;\n          this.options.maxLevel = 1;\n        }\n      });\n    }\n  }\n\n  protected geometryParser(dim, type) {\n    return 'polygon';\n  }\n\n  public getTreemapData(data, level?) {\n    const viewRange = this.getViewRange();\n    const root = squarify(data, viewRange.x, viewRange.y, viewRange.width, viewRange.height);\n    this.recursive(root, 1);\n    const treemapData = [];\n    this.getAllNodes(root, treemapData, level);\n    treemapData.sort((a, b) => {\n      return a.depth - b.depth;\n    });\n    this.options.xField = 'x';\n    this.options.yField = 'y';\n    return treemapData;\n  }\n\n  protected processData() {\n    return this.rootData;\n  }\n\n  public beforInit() {\n    super.beforeInit();\n    const { data } = this.options;\n    const treemapData = this.getTreemapData(data);\n    this.rootData = treemapData;\n  }\n\n  protected coord() {}\n\n  protected addGeometry() {\n    const { data, colorField, color } = this.options;\n    const treemapData = this.getTreemapData(data);\n    this.rootData = treemapData;\n    const { maxLevel } = this.options;\n    this.rect = {\n      type: 'polygon',\n      position: {\n        fields: ['x', 'y'],\n      },\n      color: {\n        fields: [colorField],\n        values: color,\n      },\n      style: {\n        fields: ['depth'],\n        callback: (d) => {\n          let defaultStyle = {\n            lineWidth: 1,\n            stroke: 'rgba(0,0,0,0.3)',\n            opacity: d / maxLevel,\n          };\n          if (d === 1) {\n            defaultStyle = {\n              lineWidth: 1,\n              stroke: 'black',\n              opacity: d / maxLevel,\n            };\n          }\n          return _.deepMix({}, defaultStyle, this.options.rectStyle);\n        },\n      },\n      label: this.extractLabel(),\n    };\n    this.setConfig('element', this.rect);\n  }\n\n  protected applyInteractions() {\n    const interactionCfg = this.options.interactions;\n    const interactions = this.view.get('interactions');\n    _.each(interactionCfg, (inter) => {\n      const Ctr = INTERACTION_MAP[inter.type];\n      if (Ctr) {\n        const interaction = new Ctr(\n          _.deepMix(\n            {},\n            {\n              view: this.view,\n              plot: this,\n              startEvent: 'polygon:click',\n            },\n            inter.cfg\n          )\n        );\n        interactions[inter.type] = interaction;\n      }\n    });\n  }\n\n  protected animation() {\n    super.animation();\n    if (this.isDrilldown) {\n      this.rect.animate = false;\n    }\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private extractLabel() {\n    const labelOptions = this.options.label;\n    // 不显示label的情况\n    if (!labelOptions.visible) {\n      return false;\n    }\n    const label = getComponent('label', {\n      labelType: 'treemapLabel',\n      plot: this,\n      top: true,\n      fields: ['name'],\n      maxLevel: this.options.maxLevel,\n      ...labelOptions,\n    });\n    return label;\n  }\n\n  private recursive(rows, depth?) {\n    const { colorField } = this.options;\n    _.each(rows, (r) => {\n      _.each(r.children, (c) => {\n        c.depth = depth;\n        if (depth > 1) c.parent = r;\n        if (!_.hasKey(c, colorField)) {\n          c[colorField] = r[colorField];\n        }\n        c.showLabel = true;\n        const leaf = this.isLeaf(c);\n        if (!leaf) {\n          const cliperHeight = Math.abs(c.y1 - c.y0);\n          const labelHeight = this.getLabelHeight();\n          const parentLabelOffset = cliperHeight / 2 > labelHeight ? labelHeight : BLOCK_MARGIN;\n          c.showLabel = parentLabelOffset === BLOCK_MARGIN ? false : true;\n          const c_rows = squarify(\n            c,\n            c.x0 + BLOCK_MARGIN,\n            c.y0 + parentLabelOffset,\n            c.x1 - BLOCK_MARGIN,\n            c.y1 - BLOCK_MARGIN\n          );\n          this.fillColorField(c_rows, colorField, c[colorField]);\n          this.recursive(c_rows, c.depth + 1);\n        }\n      });\n    });\n  }\n\n  private getAllNodes(data, nodes, level?) {\n    const max = level ? level : this.options.maxLevel;\n    const viewRange = this.getViewRange();\n    _.each(data, (d) => {\n      if (_.hasKey(d, 'x0') && d.depth <= max) {\n        nodes.push({\n          ...d,\n          x: [d.x0, d.x1, d.x1, d.x0],\n          y: [viewRange.height - d.y1, viewRange.height - d.y1, viewRange.height - d.y0, viewRange.height - d.y0],\n        });\n      }\n      if (_.hasKey(d, 'children')) {\n        this.getAllNodes(d.children, nodes);\n      }\n    });\n  }\n\n  private fillColorField(rows, fieldName, value) {\n    _.each(rows, (r) => {\n      if (!_.hasKey(r, fieldName)) {\n        r[fieldName] = value;\n      }\n    });\n  }\n\n  private getLabelHeight() {\n    const { label } = this.options;\n    const { fontSize } = this.getTheme().label.textStyle;\n    let size = 0;\n    if (label && label.visible) {\n      const labelStyle: any = label.style;\n      size = labelStyle && labelStyle.fontSize ? labelStyle.fontSize : fontSize;\n    }\n    return size + PARENT_NODE_OFFSET * 2;\n  }\n\n  private isLeaf(data) {\n    return !data.children || data.children.length === 0;\n  }\n}\n\nregisterPlotType('treemap', TreemapLayer);\n","import { dice } from './dice';\nimport { slice } from './slice';\n\n//reference: https://github.com/d3/d3-hierarchy/blob/master/src/treemap/squarify.js\n\n// 黄金分割\nconst ratio = (1 + Math.sqrt(5)) / 2;\n\nexport default function squarify(root, x0, y0, x1, y1) {\n  const { children } = root;\n  let value = root.value;\n  children.sort((a, b) => {\n    return b.value - a.value;\n  });\n  const rows = [];\n  let sumValue, maxValue, minValue;\n  let alpha, beta;\n  let newRatio, minRatio;\n  let nodeValue;\n  let i = 0,\n    j = 0;\n\n  // todo: 剔除empty node\n  while (i < children.length) {\n    const width = x1 - x0;\n    const height = y1 - y0;\n    sumValue = children[j++].value;\n    maxValue = sumValue;\n    minValue = sumValue;\n    alpha = Math.max(height / width, width / height) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n    for (; j < children.length; j++) {\n      nodeValue = children[j].value;\n      sumValue += nodeValue;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) {\n        sumValue -= nodeValue;\n        break;\n      }\n      minRatio = newRatio;\n    }\n    const row = { value: sumValue, dice: width < height, children: children.slice(i, j) };\n    rows.push(row);\n    if (row.dice) {\n      const h = value ? (height * sumValue) / value : height;\n      dice(row, x0, y0, x1, y0 + h);\n      if (value) {\n        y0 += h;\n      }\n    } else {\n      const w = value ? (width * sumValue) / value : width;\n      slice(row, x0, y0, x0 + w, y1);\n      if (value) {\n        x0 += w;\n      }\n    }\n    value -= sumValue;\n    i = j;\n  }\n  return rows;\n}\n","import { each } from '@antv/util';\n\nexport function dice(root, x0, y0, x1, y1) {\n  const width = x1 - x0;\n  const { children, value } = root;\n  children.sort((a, b) => {\n    return b.value - a.value;\n  });\n  const k = width / value;\n  let node_x = x0;\n  each(children, (c) => {\n    c.y0 = y0;\n    c.y1 = y1;\n    c.x0 = node_x;\n    node_x += c.value * k;\n    c.x1 = c.x0 + c.value * k;\n  });\n}\n","import { each } from '@antv/util';\n\nexport function slice(root, x0, y0, x1, y1) {\n  const height = y1 - y0;\n  const { children, value } = root;\n  children.sort((a, b) => {\n    return b.value - a.value;\n  });\n  const k = height / value;\n  let node_y = y0;\n  each(children, (c) => {\n    c.x0 = x0;\n    c.x1 = x1;\n    c.y0 = node_y;\n    node_y += c.value * k;\n    c.y1 = c.y0 + c.value * k;\n  });\n}\n","import DrillDownInteraction from './drillDown';\n\nexport const INTERACTION_MAP = {\n  drilldown: DrillDownInteraction,\n};\n","import Breadcrumb from '../../../components/breadcrumb';\nimport BaseInteraction from '../../../interaction/base';\nimport { BBox, Group, Rect } from '@antv/g';\nimport TreemapLayer from '../layer';\nimport { each, hasKey, isFunction, clone } from '@antv/util';\nimport { drillingDown, rollingUp } from './animation';\n\nconst DEFAULT_ITEM_WIDTH = 100;\nconst DEFAULT_ITEM_HEIGHT = 30;\nconst PADDING_TOP = 10;\n\ninterface IStartNode {\n  name?: string;\n}\n\ninterface IMapping {\n  [key: string]: IMappingConfig;\n}\n\ninterface IMappingConfig {\n  field: string;\n  values?: string[];\n}\n\ninterface IDrillDownInteractionConfig {\n  x?: number;\n  y?: number;\n  startNode?: IStartNode;\n  itemWidth?: number;\n  itemHeight?: number;\n  padding?: number[];\n  [key: string]: any;\n}\n\nconst getValidBreadcrumbConfig = (cfg: IDrillDownInteractionConfig = {}): Required<IDrillDownInteractionConfig> => {\n  const _cfg: Required<IDrillDownInteractionConfig> = {\n    x: 0,\n    y: 0,\n    startNode: { name: 'root' },\n    itemWidth: DEFAULT_ITEM_WIDTH,\n    itemHeight: DEFAULT_ITEM_HEIGHT,\n    padding: [0, 0, 0, 0],\n    ...cfg,\n  };\n  return _cfg;\n};\n\nexport default class DrillDownInteraction extends BaseInteraction {\n  public static getInteractionRange(layerRange: BBox, interaction: IDrillDownInteractionConfig) {\n    const config: Required<IDrillDownInteractionConfig> = getValidBreadcrumbConfig(interaction);\n    const [paddingTop, paddingBottom] = config.padding;\n    return new BBox(\n      layerRange.minX,\n      layerRange.maxY - config.itemHeight - paddingTop - paddingBottom,\n      layerRange.width,\n      config.itemHeight + paddingTop + paddingBottom\n    );\n  }\n\n  private container: Group;\n  private breadcrumb: Breadcrumb;\n  private plot: TreemapLayer;\n  private startNode: IStartNode;\n  private parentNode: any;\n  private currentNode: any;\n  private currentDepth: number;\n  private startNodeName: string;\n  private cache: any;\n  private mapping: IMapping;\n  private originMapping: IMappingConfig;\n  private y: number;\n  private geometry: any;\n\n  public start(ev) {\n    const data = ev.data._origin;\n    if (data.children) {\n      this.parentNode = {\n        shape: ev.target,\n        data: {\n          name: clone(this.currentNode.name),\n          value: clone(this.currentNode.value),\n        },\n        depth: clone(this.currentDepth),\n      };\n      this.currentDepth++;\n      drillingDown(ev.target, this.view, () => {\n        this.update(data);\n      });\n    }\n  }\n\n  protected update(data) {\n    if (!hasKey(this.cache, data.name)) {\n      this.cache[data.name] = data;\n    }\n    const tempoData = this.plot.getTreemapData(data, data.depth);\n    this.view.changeData(tempoData);\n    this.adjustScale(this.currentDepth);\n    this.currentNode = data;\n    this.render();\n  }\n\n  protected render() {\n    if (this.breadcrumb) {\n      const items = this.getItems();\n      this.breadcrumb.update({\n        items,\n      });\n      this.layout();\n    } else {\n      this.initGeometry();\n      this.cache = {};\n      this.saveOriginMapping();\n      this.container = this.container = this.canvas.addGroup();\n      if (!this.startNode) {\n        this.startNode = {\n          name: 'root',\n        };\n      }\n      if (this.startNode.name === 'root') {\n        this.startNodeName = hasKey(this.plot.options.data, 'name') ? this.plot.options.data.name : 'root';\n        this.currentNode = this.plot.options.data;\n        this.currentDepth = 1;\n      } else {\n        this.startNodeName = this.startNode.name;\n        this.currentNode = this.startNode;\n      }\n      this.y = this.view.get('viewRange').maxY + PADDING_TOP;\n      this.breadcrumb = new Breadcrumb({\n        container: this.container,\n        x: 0,\n        y: this.y,\n        items: this.getItems(),\n      });\n      this.breadcrumb.render();\n      this.layout();\n    }\n    this.onInteraction();\n  }\n\n  protected clear() {}\n\n  private layout() {\n    const currentWidth = this.container.getBBox().width;\n    const x = (this.plot.width - currentWidth) / 2;\n    this.breadcrumb.update({\n      x,\n      y: this.y,\n    });\n  }\n\n  private getItems() {\n    let items = [];\n    if (this.currentNode.name && this.currentNode.name === this.startNodeName) {\n      const rootItem = this.getRootItem();\n      items.push(rootItem);\n    } else {\n      items = [];\n      const parents = [];\n      this.findParent(this.currentNode, parents);\n      items.push(this.getRootItem());\n      each(parents, (p, index) => {\n        items.push({ key: String(index + 2), text: p.name, data: p });\n      });\n      items.push({ key: String(parents.length + 2), text: this.currentNode.name, data: this.currentNode });\n    }\n    return items;\n  }\n\n  private findParent(data, parents) {\n    if (data.parent) {\n      if (hasKey(this.cache, data.parent.name)) {\n        parents.push(this.cache[data.parent.name]);\n      } else {\n        parents.push(data.parent);\n      }\n      this.findParent(data.parent, parents);\n    } else {\n      return;\n    }\n  }\n\n  private onInteraction() {\n    this.container.on('click', (ev) => {\n      const targetParent = ev.target.get('parent');\n      if (targetParent && targetParent.get('class') === 'item-group') {\n        const data = targetParent.get('data');\n        if (data.data) {\n          if (data.text === this.startNodeName) {\n            const targetDepth = 1;\n            //只有前后depth相邻才执行上卷动画，否则直接更新\n            if (this.currentDepth - 1 === targetDepth) {\n              rollingUp(this.currentNode.name, this.view, () => {\n                this.updateRoot(data);\n              });\n            } else {\n              this.updateRoot(data);\n            }\n            this.currentDepth = 1;\n          } else if (this.currentNode === data.data) {\n            return;\n          } else {\n            const previousDepth = clone(this.currentDepth);\n            this.currentDepth = parseInt(data.key);\n            if (previousDepth - 1 === this.currentDepth) {\n              rollingUp(this.currentNode.name, this.view, () => {\n                this.update(data.data);\n              });\n            } else {\n              this.update(data.data);\n            }\n          }\n        }\n      }\n    });\n  }\n\n  private getRootItem() {\n    const rootData = this.plot.options.data;\n    const rootName = hasKey(rootData, 'name') ? rootData.name : 'root';\n    return { key: '1', text: rootName, data: this.plot.rootData };\n  }\n\n  private saveOriginMapping() {\n    const { colorField, colors } = this.plot.options;\n    const mappingInfo = { field: colorField, values: colors };\n    this.originMapping = mappingInfo;\n  }\n\n  private adjustScale(index) {\n    const { view } = this;\n    // 根据当前层级确定mapping配置项\n    if (hasKey(this.mapping, String(index))) {\n      const mappingCfg = clone(this.mapping[index]);\n      if (mappingCfg.values && isFunction(mappingCfg.values)) {\n        const values = mappingCfg.values(this.parentNode, this.currentNode);\n        mappingCfg.values = values;\n      }\n      this.view.get('elements')[0].color(mappingCfg.field, mappingCfg.values);\n    } else {\n      const mappingCfg = clone(this.originMapping);\n      this.view.get('elements')[0].color(mappingCfg.field, mappingCfg.values);\n    }\n    view.render();\n  }\n\n  private initGeometry() {\n    this.geometry = this.view.get('elements')[0];\n    const viewRange = this.view.get('viewRange');\n    const container = this.geometry.get('container');\n    const cliper = new Rect({\n      attrs: {\n        x: viewRange.minX,\n        y: viewRange.minY,\n        width: viewRange.width,\n        height: viewRange.height,\n      },\n    });\n    container.attr('clip', cliper);\n  }\n\n  private updateRoot(data) {\n    this.view.changeData(data.data);\n    this.adjustScale(1);\n    this.currentNode = this.plot.options.data;\n    this.render();\n  }\n}\n\nBaseInteraction.registerInteraction('drilldown', DrillDownInteraction);\n","import BaseComponent, { BaseComponentConfig } from './base';\nimport { Group, BBox, Shape, Rect } from '@antv/g';\n\nexport interface BreadcrumbItem {\n  key: string;\n  text: string;\n}\n\nexport interface BreadcrumbConfig extends BaseComponentConfig {\n  x: number;\n  y: number;\n  items: BreadcrumbItem[];\n  itemPadding?: [number, number, number, number];\n  backgroundStyle?: {\n    fill?: string;\n    stroke?: string;\n    lineWidth?: number;\n    opacity?: number;\n  };\n  itemBackgroundStyle?: {\n    fill?: string;\n    opacity?: number;\n  };\n  itemActiveBackgroundStyle?: {\n    fill?: string;\n    opacity?: number;\n  };\n  separator?: string;\n  separatorStyle?: {\n    fontSize?: number;\n    fill?: string;\n    opacity?: number;\n  };\n  itemWidth?: number;\n  itemHeight?: number;\n  maxItemWidth?: number;\n  textStyle?: {\n    fontSize?: number;\n    fill?: string;\n    opacity?: number;\n  };\n}\n\nexport default class Breadcrumb extends BaseComponent<BreadcrumbConfig> {\n  private x: number;\n  private y: number;\n  private items: BreadcrumbItem[];\n  private itemPadding: [number, number, number, number];\n  private backgroundStyle: {\n    fill?: string;\n    stroke?: string;\n    lineWidth?: number;\n  };\n  private itemBackgroundStyle: {\n    fill?: string;\n    opacity?: number;\n  };\n  private itemActiveBackgroundStyle: {\n    fill?: string;\n    opacity?: number;\n  };\n  private separator: string;\n  private separatorStyle: {\n    textBaseline: string;\n    fontSize?: number;\n    fill?: string;\n    opacity?: number;\n  };\n  private itemWidth: number | undefined;\n  private itemHeight: number | undefined;\n  private maxItemWidth: number | undefined;\n  private textStyle: {\n    textBaseline: string;\n    fontSize?: number;\n    fill?: string;\n    opacity?: number;\n  };\n\n  private listeners: { target: Shape | Group; event: string; callback: () => void }[] = [];\n\n  public destroy() {\n    this.offEvents();\n    super.destroy();\n  }\n\n  protected init(config: BreadcrumbConfig) {\n    this.x = config.x;\n    this.y = config.y;\n    this.items = config.items || [];\n    this.itemPadding = config.itemPadding || [2, 8, 2, 8];\n    this.backgroundStyle = { lineWidth: 1, stroke: '#ffffff', ...(config.backgroundStyle || {}) };\n    this.itemBackgroundStyle = { fill: '#fff', ...(config.itemBackgroundStyle || {}) };\n    this.itemActiveBackgroundStyle = { fill: '#ccc', opacity: 0.2, ...(config.itemActiveBackgroundStyle || {}) };\n    this.separator = config.separator || '/';\n    this.separatorStyle = { textBaseline: 'top', fill: '#000', opacity: 0.45, ...(config.separatorStyle || {}) };\n    this.itemWidth = config.itemWidth;\n    this.itemHeight = config.itemHeight;\n    this.maxItemWidth = config.maxItemWidth;\n    this.textStyle = { textBaseline: 'top', fill: '#000', opacity: 0.45, ...(config.textStyle || {}) };\n  }\n\n  protected renderInner(group: Group) {\n    const startX = 0;\n    const startY = 0;\n    this.offEvents();\n    this.renderItems(group, startX, startY);\n    //this.bindEvents(group);\n    this.group.move(this.x, this.y);\n  }\n\n  private renderItems(group: Group, startX: number, startY: number) {\n    const [topPadding, rightPadding, bottomPadding, leftPadding] = this.itemPadding;\n    let itemHeight;\n\n    // background\n    const backgroundRect = group.addShape('rect', {\n      class: 'breadcrumb-background',\n      attrs: {\n        x: startX,\n        y: startY,\n        width: 1,\n        height: 1,\n        ...this.backgroundStyle,\n      },\n    });\n\n    this.items.forEach((item: BreadcrumbItem, idx: number) => {\n      // item group\n      const itemGroup: Group = group.addGroup({\n        id: `item-group-${item.key}`,\n        // data: item.key,\n        data: item,\n        class: 'item-group',\n        attrs: {\n          cursor: 'pointer',\n        },\n      });\n\n      // background rect\n\n      const rectShape: Shape = itemGroup.addShape('rect', {\n        id: `item-background-${item.key}`,\n        class: 'item-background',\n        attrs: {\n          x: startX,\n          y: startY,\n          width: leftPadding + rightPadding,\n          height: topPadding + bottomPadding,\n          ...this.itemBackgroundStyle,\n          cursor: 'pointer',\n        },\n      });\n      rectShape.name = 'breadcrumb';\n\n      // text shape\n      const textShape: Shape = itemGroup.addShape('text', {\n        id: `item-text-${item.key}`,\n        class: 'item-text',\n        attrs: {\n          x: startX + leftPadding,\n          y: startY + topPadding,\n          text: item.text,\n          ...this.textStyle,\n          cursor: 'pointer',\n        },\n      });\n      textShape.name = 'breadcrumb';\n      const textShapeBBox: BBox = textShape.getBBox();\n      itemHeight = this.itemHeight || textShapeBBox.height;\n      let itemWidth = this.itemWidth || textShapeBBox.width;\n      if (this.maxItemWidth) {\n        itemWidth = Math.min(itemWidth, this.maxItemWidth);\n      }\n      // update background rect\n      const backgroundRectAttr = {\n        x: startX,\n        y: startY,\n        width: itemWidth + leftPadding + rightPadding,\n        height: itemHeight + topPadding + bottomPadding,\n      };\n      rectShape.attr('width', backgroundRectAttr.width);\n      rectShape.attr('height', backgroundRectAttr.height);\n      // clip\n      itemGroup.attr(\n        'clip',\n        new Rect({\n          attrs: backgroundRectAttr,\n        })\n      );\n\n      startX += backgroundRectAttr.width;\n\n      // separator\n      if (idx !== this.items.length - 1) {\n        const sepShape: Shape = group.addShape('text', {\n          attrs: {\n            x: startX,\n            y: startY + topPadding,\n            text: this.separator,\n            ...this.separatorStyle,\n          },\n          class: 'separator',\n        });\n        startX += sepShape.getBBox().width;\n      }\n    });\n\n    // update background\n    backgroundRect.attr({\n      width: startX,\n      height: itemHeight + topPadding + bottomPadding,\n    });\n  }\n\n  private bindEvents(group: Group) {\n    const items = this.items;\n    const itemGroups = group.get('children').filter((item) => item.get('class') === 'item-group');\n    const callback = (event: string, itemGroup: Group, emitEventName: string) => () => {\n      const key: string = itemGroup.get('data');\n      const item = items.find((val) => val.key === key);\n      this.emit(emitEventName, {\n        item,\n      });\n    };\n\n    itemGroups.forEach((itemGroup) => {\n      const clickCallback = callback('click', itemGroup, 'onItemClick');\n      const dblclickCallback = callback('dblclick', itemGroup, 'onItemDblclick');\n      const mouseEnterCallback = this.onItemGroupToggleActive(itemGroup, true);\n      const mouseLeaveCallback = this.onItemGroupToggleActive(itemGroup, false);\n      itemGroup.on('click', clickCallback);\n      itemGroup.on('dblclick', dblclickCallback);\n      itemGroup.on('mouseenter', mouseEnterCallback);\n      itemGroup.on('mouseleave', mouseLeaveCallback);\n      this.listeners.push({ target: itemGroup, event: 'click', callback: clickCallback });\n      this.listeners.push({ target: itemGroup, event: 'dblclick', callback: dblclickCallback });\n      this.listeners.push({ target: itemGroup, event: 'mouseenter', callback: mouseEnterCallback });\n      this.listeners.push({ target: itemGroup, event: 'mouseleave', callback: mouseLeaveCallback });\n    });\n  }\n\n  private onItemGroupToggleActive = (itemGroup: Group, active: boolean) => () => {\n    const rectShape = itemGroup.get('children').find((item) => item.get('class') === 'item-background');\n    if (rectShape) {\n      rectShape.attr(active ? this.itemActiveBackgroundStyle : this.itemBackgroundStyle);\n    }\n    this.getCanvas().draw();\n  };\n\n  private offEvents() {\n    if (this.listeners) {\n      this.listeners.forEach(({ target, event, callback }) => {\n        target.off(event, callback);\n      });\n    }\n    this.listeners = [];\n  }\n}\n","import EventEmitter from '@antv/event-emitter';\nimport { Canvas, Group, BBox } from '@antv/g';\n\nexport interface BaseComponentConfig {\n  container: Group;\n}\n\nexport default class BaseComponent<T extends BaseComponentConfig = BaseComponentConfig> extends EventEmitter {\n  protected container: Group;\n  protected group: Group;\n  protected destroyed: boolean;\n  private config: T;\n\n  public constructor(config: T) {\n    super();\n    this.container = config.container;\n    this.destroyed = false;\n    this.group = this.container.addGroup();\n    this.config = config;\n    this.init(config);\n  }\n\n  public getGroup(): Group {\n    return this.group;\n  }\n\n  public getBBox(): BBox {\n    return this.getGroup().getBBox();\n  }\n\n  public render(): void {\n    this.renderInner(this.group);\n    this.getCanvas().draw();\n  }\n\n  public update(config: Partial<T>): void {\n    this.config = { ...this.config, ...config };\n    this.init({ ...this.config, config });\n    this.group.clear();\n    this.renderInner(this.group);\n    this.getCanvas().draw();\n  }\n\n  public destroy(): void {\n    this.group.remove(true);\n    this.destroyed = true;\n  }\n\n  protected getCanvas(): Canvas {\n    return this.container.get('canvas');\n  }\n\n  protected init(config: T): void {}\n\n  protected renderInner(group: Group): void {}\n}\n","import { each, clone, deepMix } from '@antv/util';\nimport { Rect } from '@antv/g';\n\nconst ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\nconst duration = 400;\nconst easing = 'easeQuadInOut';\n\nexport function drillingDown(target, view, callback) {\n  const rect = getRect(target);\n  const range = getRange(view);\n\n  const xRatio = range.width / rect.width;\n  const yRatio = range.height / rect.height;\n  const offsetX = (range.minX - rect.minX) * xRatio;\n  const offsetY = (range.minY - rect.minY) * yRatio;\n\n  const transform = {\n    transform: [\n      ['s', xRatio, yRatio],\n      ['t', offsetX, offsetY],\n    ],\n  };\n  let geometry = view.get('elements')[0];\n  hideLabel(geometry);\n  const tem_cliper = new Rect({\n    attrs: {\n      x: range.minX,\n      y: range.minY,\n      width: range.width,\n      height: range.height,\n    },\n  });\n  const tem_container = view.get('container').addGroup();\n  tem_container.set('zIndex', -100);\n  tem_container.attr('clip', tem_cliper);\n  const tem_shapes = getTemShapes(geometry, tem_container);\n  geometry.get('container').set('visible', false);\n  view.get('canvas').draw();\n  callback();\n  window.setTimeout(() => {\n    each(tem_shapes, (shape, index) => {\n      if (index === 0) {\n        shape.animate(transform, duration, easing, () => {\n          tem_container.remove();\n          view.get('canvas').draw();\n        });\n      } else {\n        shape.animate(transform, duration);\n      }\n    });\n    geometry = view.get('elements')[0];\n    hideLabel(geometry);\n    const shapes = geometry.getShapes();\n    each(shapes, (shape) => {\n      shape.attr('opacity', 0);\n      shape.animate(\n        {\n          opacity: 1,\n        },\n        duration,\n        easing\n      );\n    });\n    const container = geometry.get('container');\n    container.stopAnimate();\n    container.set('visible', true);\n    container.attr('matrix', clone(ulMatrix));\n    container.transform([\n      ['s', rect.width / range.width, rect.height / range.height],\n      ['t', rect.minX, rect.minY],\n    ]);\n    const matrix = clone(ulMatrix);\n    geometry.get('container').animate(\n      {\n        matrix,\n      },\n      duration,\n      easing,\n      () => {\n        showLabel(geometry);\n      }\n    );\n    view.get('canvas').draw();\n  }, 16);\n}\n\nfunction getTemShapes(geometry, container) {\n  const shapes = geometry.getShapes();\n  const tem_shapes = [];\n  each(shapes, (shape) => {\n    const s = container.addShape('path', {\n      attrs: deepMix({}, shape.attrs, { capture: false }),\n    });\n    tem_shapes.push(s);\n  });\n  return tem_shapes;\n}\n\nexport function rollingUp(name, view, callback) {\n  let geometry = view.get('elements')[0];\n  hideLabel(geometry);\n  let container = geometry.get('container');\n  container.attr('matrix', clone(ulMatrix));\n  const tem_container = view.get('container').addGroup();\n  tem_container.set('zIndex', -100);\n  const tem_shapes = getTemShapes(geometry, tem_container);\n  container.set('visible', false);\n  view.get('canvas').draw();\n  callback();\n  geometry = view.get('elements')[0];\n  hideLabel(geometry);\n  container = geometry.get('container');\n  const shape = findShapeByName(geometry.getShapes(), name); //根据name获得上一级shape\n  const rect = getRect(shape);\n  const range = getRange(view);\n  const cliper = new Rect({\n    attrs: {\n      x: range.minX,\n      y: range.minY,\n      width: range.width,\n      height: range.height,\n    },\n  });\n  const containerParent = container.get('parent');\n  if (!containerParent.attr('clip')) {\n    containerParent.attr('clip', cliper);\n  }\n  shrinkTemp(tem_container, tem_shapes, rect, range);\n  const xRatio = range.width / rect.width;\n  const yRatio = range.height / rect.height;\n  const offsetX = (range.minX - rect.minX) * xRatio;\n  const offsetY = (range.minY - rect.minY) * yRatio;\n  container.transform([\n    ['s', xRatio, yRatio],\n    ['t', offsetX, offsetY],\n  ]);\n  container.set('visible', true);\n  container.animate(\n    {\n      matrix: ulMatrix,\n    },\n    duration,\n    easing,\n    () => {\n      showLabel(geometry);\n    }\n  );\n}\n\nfunction findShapeByName(shapes, n) {\n  let shape;\n  each(shapes, (s) => {\n    const { name } = s.get('origin')._origin;\n    if (name === n) {\n      shape = s;\n    }\n  });\n  return shape;\n}\n\nfunction getRange(view) {\n  const viewRange = view.get('viewRange');\n  const range = {\n    minX: viewRange.minX,\n    minY: viewRange.minY,\n    centerX: (viewRange.maxX - viewRange.minX) / 2,\n    centerY: (viewRange.maxY - viewRange.minY) / 2,\n    width: viewRange.width,\n    height: viewRange.height,\n  };\n  return range;\n}\n\nfunction getRect(shape) {\n  const path = shape.attr('path');\n  const x0 = path[0][1];\n  const y1 = path[0][2];\n  const x1 = path[1][1];\n  const y0 = path[2][2];\n  const rect = {\n    minX: x0,\n    minY: y0,\n    centerX: (x1 - x0) / 2,\n    centerY: (y1 - y0) / 2,\n    width: Math.abs(x1 - x0),\n    height: Math.abs(y1 - y0),\n  };\n  return rect;\n}\n\nfunction shrinkTemp(container, shapes, rect, range) {\n  const xRatio = rect.width / range.width;\n  const yRatio = rect.height / range.height;\n  const transform = {\n    transform: [\n      ['s', xRatio, yRatio],\n      ['t', rect.minX, rect.minY],\n    ],\n  };\n  container.animate(transform, duration, easing, () => {\n    container.remove();\n  });\n  each(shapes, (shape) => {\n    shape.animate(\n      {\n        opacity: 0,\n      },\n      duration,\n      easing\n    );\n  });\n}\n\nfunction hideLabel(geometry) {\n  const labelContainer = geometry.get('labelController').labelsContainer;\n  labelContainer.set('visible', false);\n}\n\nfunction showLabel(geometry) {\n  const labelContainer = geometry.get('labelController').labelsContainer;\n  labelContainer.set('visible', true);\n}\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onRectClick: 'polygon:click',\n  onRectDblclick: 'polygon:dblclick',\n  onRectMousemove: 'polygon:mousemove',\n  onRectMouseenter: 'polygon:mouseenter',\n  onRectMouseleave: 'polygon:mouseleave',\n  onRectMousedown: 'polygon:mousedown',\n  onRectMouseup: 'polygon:mouseup',\n  onRectContextmenu: 'polygon:contextmenu',\n  test: 'breadcrumb:click',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import { Shape, Text } from '@antv/g';\nimport { ElementLabels, registerElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { breakText } from '../../../util/common';\n\ninterface Point {\n  [key: string]: any;\n}\n\nconst LEAF_LABEL_OFFSET = 4;\nconst MIN_FONTSIZE = 8;\n\nfunction isLeaf(data, maxLevel) {\n  return !data.children || data.depth >= maxLevel;\n}\n\nfunction textWrapper(label, width) {\n  const fontSize = label.attr('fontSize');\n  const textContent: string = label.attr('text');\n  const tShape = new Text({\n    attrs: {\n      text: '',\n      x: 0,\n      y: 0,\n      fontSize,\n    },\n  });\n  const textArr = textContent.split('\\n');\n  const wrappedTextArr = textArr.map((wrappedText) => {\n    let text = '';\n    const chars = wrappedText.split('');\n    const breakIndex: number[] = [];\n    for (let i = 0; i < chars.length; i++) {\n      const item = chars[i];\n      tShape.attr('text', (text += item));\n      const currentWidth = tShape.getBBox().width - 1;\n      if (currentWidth > width) {\n        // 如果是第一个字符就大于宽度不做任何换行处理\n        if (i === 0) {\n          break;\n        }\n        breakIndex.push(i);\n        text = '';\n      }\n    }\n\n    return breakText(chars, breakIndex);\n  });\n\n  tShape.remove();\n  return wrappedTextArr.join('\\n');\n}\n\nfunction textAbbreviate(text, fontSize, width) {\n  const tailShape = new Text({\n    attrs: {\n      text: '...',\n      x: 0,\n      y: 0,\n      fontSize,\n    },\n  });\n  const tailWidth = tailShape.getBBox().width;\n  const tShape = new Text({\n    attrs: {\n      text: '',\n      x: 0,\n      y: 0,\n      fontSize,\n    },\n  });\n  let t = '';\n  const abbreviateWidth = width - tailWidth;\n  for (let i = 0; i < text.length; i++) {\n    const item = text[i];\n    tShape.attr('text', (t += item));\n    const currentWidth = tShape.getBBox().width;\n    if (currentWidth >= abbreviateWidth) {\n      const string = t.substr(0, t.length - 1);\n      if (string.length > 0) {\n        return string + '...';\n      }\n    }\n  }\n  return t;\n}\n\nexport class TreemapLabels extends ElementLabels {\n  public showLabels(points: any, shapes: Shape[]) {\n    super.showLabels(points, shapes);\n    const renderer = this.get('labelsRenderer');\n    const labels = renderer.get('group').get('children');\n    const view = this.get('element').get('view');\n    const { maxLevel } = this.get('labelOptions');\n    _.each(labels, (label, index) => {\n      const l = label as Shape;\n      const data = label.get('origin');\n      const origin = l.get('origin');\n      const isLeafNode = isLeaf(data, maxLevel);\n      const shapeId = this.get('element').getShapeId(origin);\n      const shape = this.getShape(shapeId, shapes);\n      const shapeBbox = shape.getBBox();\n      if (!isLeafNode && data.showLabel) {\n        const x = shapeBbox.x + shapeBbox.width / 2;\n        const y = shapeBbox.y + 4;\n        label.attr('x', x);\n        label.attr('y', y);\n        label.attr('textBaseline', 'top');\n        label.attr('fontWeight', 600);\n        const wrapperWidth = shapeBbox.width - LEAF_LABEL_OFFSET * 2;\n        if (label.getBBox().width > wrapperWidth) {\n          const text = textAbbreviate(label.attr('text'), label.attr('fontSize'), wrapperWidth);\n          label.attr('text', text);\n        }\n      } else {\n        this.leafText(shapeBbox, label);\n      }\n    });\n    view.get('canvas').draw();\n  }\n\n  public getShape(shapeId, shapes) {\n    let target;\n    _.each(shapes, (shape) => {\n      const s = shape as Point;\n      const id = s.id;\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n    return target;\n  }\n\n  private leafText(bbox, label) {\n    const labelBBox = label.getBBox();\n    const labelText = _.clone(label.attr('text'));\n    const sizeOffset = label.get('origin').depth === 1 ? 0 : 2;\n    const fontSize = Math.max(label.attr('fontSize') - sizeOffset, MIN_FONTSIZE);\n    const centerX = bbox.x + bbox.width / 2;\n    const centerY = bbox.y + bbox.height / 2;\n    label.attr({\n      x: centerX,\n      y: centerY,\n      textAlign: 'center',\n      textBaseline: 'middle',\n      lineHeight: fontSize,\n      fontSize,\n    });\n    const wrapperWidth = bbox.width - LEAF_LABEL_OFFSET * 2;\n    if (labelBBox.width > bbox.width && labelBBox.height > bbox.height) {\n      label.attr('text', '');\n      return;\n    } else if (wrapperWidth < fontSize) {\n      label.attr('text', '');\n      return;\n    }\n    if (labelBBox.width > bbox.width) {\n      const wrappedText = textWrapper(label, wrapperWidth);\n      label.attr({\n        lineHeight: label.attr('fontSize'),\n        text: wrappedText,\n      });\n      const tem_bbox = label.getBBox();\n      if (tem_bbox.height > bbox.height) {\n        const text = textAbbreviate(labelText, fontSize, wrapperWidth);\n        label.attr('text', text);\n      }\n    }\n  }\n}\n\nregisterElementLabels('treemapLabel', TreemapLabels);\n","import * as _ from '@antv/util';\nimport { PlotConfig } from '../..';\nimport { StepLineViewConfig, StepLineLayer } from './layer';\nimport BasePlot from '../../base/plot';\n\nexport interface StepLineConfig extends StepLineViewConfig, PlotConfig {}\n\nexport default class StepLine extends BasePlot<StepLineConfig> {\n  public static getDefaultOptions: typeof StepLineLayer.getDefaultOptions = StepLineLayer.getDefaultOptions;\n\n  /**\n   * 复写父类方法\n   * @param props\n   */\n  protected createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'step-line';\n    super.createLayers(layerProps);\n  }\n}\n","import LineLayer, { LineLayerConfig, LineViewConfig } from '../line/layer';\nimport { LayerConfig } from '../..';\nimport { registerPlotType } from '../../base/global';\nimport * as _ from '@antv/util';\n\nexport interface StepLineViewConfig extends LineViewConfig {\n  readonly step?: 'hv' | 'vh' | 'vhv' | 'hvh'; // 默认为 hv\n}\n\nexport interface StepLineLayerConfig extends StepLineViewConfig, LayerConfig {}\n\nexport class StepLineLayer extends LineLayer<StepLineLayerConfig> {\n  public type: string = 'step-line'; // 覆写父类的 type\n\n  public static getDefaultOptions(): Partial<LineLayerConfig> {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      step: 'hv',\n    });\n  }\n}\n\nregisterPlotType('step-line', StepLineLayer);\n","/**\n * Create By Bruce Too\n * On 2019-12-25\n */\nimport * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport WordCloudLayer, { WordCloudViewConfig } from './layer';\nimport { registerPlotType } from '../../base/global';\n\nexport interface WordCloudConfig extends WordCloudViewConfig, PlotConfig {}\n\nexport default class WordCloud extends BasePlot<WordCloudConfig> {\n  constructor(container: HTMLElement, props: WordCloudConfig) {\n    // only canvas works for now\n    props.renderer = 'canvas';\n    super(container, props);\n  }\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'wordCloud';\n    super.createLayers(layerProps);\n  }\n}\nregisterPlotType('wordCloud', WordCloudLayer);\n","/**\n * Create By Bruce Too\n * On 2019-12-25\n */\nimport { LayerConfig } from '../..';\nimport * as _ from '@antv/util';\nimport Layer from '../../base/layer';\nimport WordCloudTooltips from './word-cloud-tooltips';\n\nimport WordCloud from './wordcloud2';\n\nexport type CloudShape =\n  | 'circle'\n  | 'square'\n  | 'cardioid'\n  | 'diamond'\n  | 'triangle'\n  | 'triangle-forward'\n  | 'triangle-backward'\n  | 'triangle-up'\n  | 'triangle-down'\n  | 'pentagon'\n  | 'star';\nexport type Dimension = {\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n};\n\ntype MaskImage = {\n  maskImageCanvas: HTMLCanvasElement;\n  maskImageContext: CanvasRenderingContext2D;\n};\n\nexport type WordCloudData = {\n  word: string;\n  weight: number;\n  id: number; // index in data array. treat as unique id\n  color?: string; // cloud's color\n};\n\n/**\n * Inner start function, refresh canvas immediately(no any delay draw all 'cloud'\n * nearly at same time) with specific id\n */\nexport type InnerStartFunction = (selected: number) => void;\n\nexport type Active = {\n  shadowColor?: string;\n  shadowBlur?: number;\n};\n\nexport type WordStyle = {\n  fontFamily?: string;\n  // normal, lighter, bold, bolder, 100~900\n  fontWeight?: string | ((word: string, weight: number) => string);\n  color?: string | ((word: string, weight: number) => string);\n\n  active?: Active;\n\n  // [min, max] ->  random by steps(each step (max - min) / steps))\n  rotation?: [number, number];\n  rotationSteps?: number;\n  // the ratio of rotate\n  rotateRatio?: number;\n\n  // font's max and min size(determine by cloud's weight)\n  fontSize?: [number, number];\n\n  gridSize?: number;\n  drawOutOfBound?: boolean;\n\n  // scale 1/4 font weight each time till fit in\n  // shrinkToFit?: boolean;\n  // reset cloud's [x,y]\n  // origin?: [number, number];\n};\n\nexport interface WordCloudViewConfig {\n  data: Array<WordCloudData> | Function;\n  // mask image, black-white pixel image will be better\n  maskImage?: string;\n  backgroundColor?: string;\n  wordStyle?: WordStyle;\n  shuffle?: boolean;\n  selected?: number;\n  tooltip?: {\n    visible: boolean;\n  };\n  shape?: CloudShape | Function;\n\n  onWordCloudHover?: (item: WordCloudData, dimension: Dimension, evt: MouseEvent, start: InnerStartFunction) => {};\n  onWordCloudClick?: (item: WordCloudData, dimension: Dimension, evt: MouseEvent) => {};\n\n  // clear before start\n  // clearCanvas?: boolean;\n  // wait milliseconds before next item show\n  // wait?: number;\n  // If the call with in the loop takes more than x milliseconds (and blocks the browser), abort immediately.\n  // abortThreshold?: number;\n  // abort callback\n  // abort?: () => {};\n  // shape's ellipticity [0,1]\n  // ellipticity?: number;\n  // ONLY FOR DEBUG, DON'T USE US\n  // drawMask?: boolean;\n  // maskColor?: string;\n  // maskGapWidth?: number;\n  // hide for now\n  // classes?: (word: string, weight: number) => string;\n}\n\ninterface WordCloudLayerConfig extends WordCloudViewConfig, LayerConfig {}\n\nexport default class WordCloudLayer extends Layer<WordCloudLayerConfig> {\n  private _targetCanvas: HTMLCanvasElement;\n  private _toolTips: WordCloudTooltips;\n  private readonly _configHoverAction: Function;\n  private readonly _enableToolTips: boolean;\n\n  constructor(props: WordCloudLayerConfig) {\n    super(props);\n    this._configHoverAction = props.onWordCloudHover;\n    this._enableToolTips = _.get(props, 'tooltip.visible', true);\n    this.options = _.deepMix(\n      {},\n      {\n        width: 400,\n        height: 400,\n        enableToolTips: true,\n      },\n      props,\n      // replace use config's hover action if needed, and trigger later\n      {\n        onWordCloudHover: this._enableToolTips ? this._toolTipsAction : this._configHoverAction,\n      }\n    );\n  }\n\n  public init() {\n    super.init();\n    this._initToolTips();\n  }\n\n  public render() {\n    super.render();\n    this._render();\n  }\n\n  private _toolTipsAction = (item: WordCloudData, dimension: Dimension, evt: MouseEvent, start: InnerStartFunction) => {\n    if (dimension) {\n      this._toolTips.setContent('', [\n        // @ts-ignore\n        {\n          color: item.color || 'red',\n          name: item.word,\n          value: item.weight,\n        },\n      ]);\n      // @ts-ignore\n      // NOTE evt.layerX is relative x in canvas, absolute x is dimension.x\n      this._toolTips.setPosition(evt.layerX, evt.layerY);\n      this._toolTips.show();\n    } else {\n      this._toolTips.hide();\n    }\n    this._configHoverAction && this._configHoverAction(item, dimension, evt, start);\n  };\n\n  private _initToolTips() {\n    this._toolTips = new WordCloudTooltips({\n      showTitle: false,\n      visible: true,\n      canvas: this.canvas,\n      follow: true,\n      inPanel: false, // must be false\n    });\n  }\n\n  private _render() {\n    this._targetCanvas = this.canvas.get('el');\n    if (this.options.maskImage) {\n      this._handleMaskImage();\n    } else {\n      // mask image not exist\n      this._start();\n    }\n  }\n\n  private _handleMaskImage() {\n    const image = new Image();\n    image.src = this.options.maskImage;\n    image.crossOrigin = 'Anonymous';\n    image.onload = () => {\n      if (image.naturalHeight + image.naturalWidth === 0 || image.width + image.height === 0) {\n        this._start();\n      } else {\n        // handle no-zero image silhouette\n        this._startWithMaskImage(image);\n      }\n    };\n    image.onerror = () => {\n      console.error('image %s load failed !!!', this.options.maskImage);\n      // load image error, ignore this mask\n      this._start();\n    };\n  }\n\n  private _start() {\n    this._handleG2PlotConfig();\n    WordCloud(this._targetCanvas, this.options);\n  }\n\n  private _handleG2PlotConfig() {\n    const fontSize = this.options.wordStyle.fontSize || [10, 60];\n    const rotation = this.options.wordStyle.rotation || [-Math.PI / 2, Math.PI / 2];\n    let active, shadowColor, shadowBlur;\n    if (this.options.wordStyle.active) {\n      active = true;\n      shadowColor = this.options.wordStyle.active.shadowColor || '#333';\n      shadowBlur = this.options.wordStyle.active.shadowBlur || 10;\n    } else {\n      active = false;\n    }\n    this.options = _.deepMix({}, this.options, {\n      minFontSize: fontSize[0],\n      maxFontSize: fontSize[1],\n      minRotation: rotation[0],\n      maxRotation: rotation[1],\n      active,\n      shadowColor,\n      shadowBlur,\n    });\n  }\n\n  private _startWithMaskImage(image: HTMLImageElement) {\n    const { maskImageCanvas, maskImageContext } = this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(image));\n    /* Determine bgPixel by creating\n     another canvas and fill the specified background color. */\n    const bctx = document.createElement('canvas').getContext('2d');\n\n    bctx.fillStyle = this.options.backgroundColor || '#fff';\n    bctx.fillRect(0, 0, 1, 1);\n    const bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n\n    const imageData = maskImageContext.getImageData(0, 0, maskImageCanvas.width, maskImageCanvas.height);\n    const newImageData = maskImageContext.createImageData(imageData);\n    for (let i = 0; i < imageData.data.length; i += 4) {\n      if (imageData.data[i + 3] > 128) {\n        // keep this area's data the same as pixel color\n        newImageData.data[i] = bgPixel[0];\n        newImageData.data[i + 1] = bgPixel[1];\n        newImageData.data[i + 2] = bgPixel[2];\n        newImageData.data[i + 3] = bgPixel[3];\n      } else {\n        // This color must not be the same as the bgPixel.\n        // check wordcloud2.js#1192 's condition\n        newImageData.data[i] = bgPixel[0];\n        newImageData.data[i + 1] = bgPixel[1];\n        newImageData.data[i + 2] = bgPixel[2];\n        newImageData.data[i + 3] = 254; // just for not same as the bg color\n      }\n    }\n\n    maskImageContext.putImageData(newImageData, 0, 0);\n\n    const targetCtx = this._targetCanvas.getContext('2d');\n    targetCtx.drawImage(maskImageCanvas, 0, 0);\n    this.options = _.deepMix({}, this.options, { clearCanvas: false });\n\n    this._start();\n  }\n\n  private _scaleMaskImageCanvas(maskImageCanvas: HTMLCanvasElement): MaskImage {\n    const maskCanvasScaled = document.createElement('canvas');\n    // get real canvas determined by pixelRatio\n    maskCanvasScaled.width = this.canvas.get('widthCanvas');\n    maskCanvasScaled.height = this.canvas.get('heightCanvas');\n    const ctx = maskCanvasScaled.getContext('2d');\n    // keep scale smooth\n    ctx.imageSmoothingEnabled = true;\n    // ctx.mozImageSmoothingEnabled = true;\n    // ctx.webkitImageSmoothingEnabled = true;\n    // ctx.msImageSmoothingEnabled = true;\n    ctx.drawImage(\n      maskImageCanvas,\n      0,\n      0,\n      maskImageCanvas.width,\n      maskImageCanvas.height,\n      0,\n      0,\n      maskCanvasScaled.width,\n      maskCanvasScaled.height\n    );\n    return {\n      maskImageCanvas: maskCanvasScaled,\n      maskImageContext: ctx,\n    };\n  }\n\n  private _transformWhite2BlackPixels(image: HTMLImageElement): HTMLCanvasElement {\n    const maskImageCanvas = document.createElement('canvas');\n    maskImageCanvas.width = image.width;\n    maskImageCanvas.height = image.height;\n    const ctx = maskImageCanvas.getContext('2d');\n    ctx.drawImage(image, 0, 0, image.width, image.height);\n    const imageData = ctx.getImageData(0, 0, maskImageCanvas.width, maskImageCanvas.height);\n    const SINGLE_COMPONENT_SIZE = 4;\n    const BLACK_PIXEL = 0;\n    const FULL_PIXEL = 255;\n    // R - G - B - A\n    for (let i = 0; i < imageData.data.length; i += SINGLE_COMPONENT_SIZE) {\n      const rgb = imageData.data[i] + imageData.data[i + 1] + imageData.data[i + 2];\n      const alpha = imageData.data[i + 3];\n\n      if (alpha < 128 || rgb > 250 * 3) {\n        // white area(not to draw)\n        imageData.data[i] = FULL_PIXEL;\n        imageData.data[i + 1] = FULL_PIXEL;\n        imageData.data[i + 2] = FULL_PIXEL;\n        imageData.data[i + 3] = BLACK_PIXEL;\n      } else {\n        // black area wait to draw(image black silhouette)\n        imageData.data[i] = BLACK_PIXEL;\n        imageData.data[i + 1] = BLACK_PIXEL;\n        imageData.data[i + 2] = BLACK_PIXEL;\n        imageData.data[i + 3] = FULL_PIXEL;\n      }\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n    return maskImageCanvas;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-01-09\n */\nimport * as _ from '@antv/util';\nimport HtmlTooltip from '@antv/component/lib/tooltip/html';\nimport { TooltipCfg } from '@antv/component/lib/tooltip/interface';\n\nexport default class WordCloudTooltips extends HtmlTooltip {\n  constructor(cfg: TooltipCfg) {\n    const newCfg = _.deepMix({}, cfg, {\n      itemTpl: `<div data-index={index}>\n        <span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>\n        {name}<span class=\"g2-tooltip-value\">{value}</span></div>`,\n    });\n    super(newCfg);\n  }\n\n  public show() {\n    const container = this.get('container');\n    container.style.visibility = 'visible';\n    container.style.display = 'block';\n    const crosshairGroup = this.get('crosshairGroup');\n    if (crosshairGroup) {\n      crosshairGroup.show();\n    }\n    const markerGroup = this.get('markerGroup');\n    if (markerGroup) {\n      markerGroup.show();\n    }\n    this.set('visible', true);\n  }\n\n  public hide() {\n    const container = this.get('container');\n    container.style.visibility = 'hidden';\n    container.style.display = 'none';\n    const crosshairGroup = this.get('crosshairGroup');\n    if (crosshairGroup) {\n      crosshairGroup.hide();\n    }\n    const markerGroup = this.get('markerGroup');\n    if (markerGroup) {\n      markerGroup.hide();\n    }\n    this.set('visible', false);\n  }\n}\n","/* eslint-disable */\n// @ts-nocheck\n\n// TODO rewrite with typescript @brucetoo\n\n/*!\n * wordcloud2.js\n * http://timdream.org/wordcloud2.js/\n *\n * Copyright 2011 - 2013 Tim Chien\n * Released under the MIT license\n */\n\n'use strict';\n\n// setImmediate\nif (!window.setImmediate) {\n  window.setImmediate = (function setupSetImmediate() {\n    return (\n      window.msSetImmediate ||\n      window.webkitSetImmediate ||\n      window.mozSetImmediate ||\n      window.oSetImmediate ||\n      (function setupSetZeroTimeout() {\n        if (!window.postMessage || !window.addEventListener) {\n          return null;\n        }\n\n        var callbacks = [undefined];\n        var message = 'zero-timeout-message';\n\n        // Like setTimeout, but only takes a function argument.  There's\n        // no time argument (always zero) and no arguments (you have to\n        // use a closure).\n        var setZeroTimeout = function setZeroTimeout(callback) {\n          var id = callbacks.length;\n          callbacks.push(callback);\n          window.postMessage(message + id.toString(36), '*');\n\n          return id;\n        };\n\n        window.addEventListener(\n          'message',\n          function setZeroTimeoutMessage(evt) {\n            // Skipping checking event source, retarded IE confused this window\n            // object with another in the presence of iframe\n            if (\n              typeof evt.data !== 'string' ||\n              evt.data.substr(0, message.length) !== message /* ||\n            evt.source !== window */\n            ) {\n              return;\n            }\n\n            evt.stopImmediatePropagation();\n\n            var id = parseInt(evt.data.substr(message.length), 36);\n            if (!callbacks[id]) {\n              return;\n            }\n\n            callbacks[id]();\n            callbacks[id] = undefined;\n          },\n          true\n        );\n\n        /* specify clearImmediate() here since we need the scope */\n        window.clearImmediate = function clearZeroTimeout(id) {\n          if (!callbacks[id]) {\n            return;\n          }\n\n          callbacks[id] = undefined;\n        };\n\n        return setZeroTimeout;\n      })() ||\n      // fallback\n      function setImmediateFallback(fn) {\n        window.setTimeout(fn, 0);\n      }\n    );\n  })();\n}\n\nif (!window.clearImmediate) {\n  window.clearImmediate = (function setupClearImmediate() {\n    return (\n      window.msClearImmediate ||\n      window.webkitClearImmediate ||\n      window.mozClearImmediate ||\n      window.oClearImmediate ||\n      // \"clearZeroTimeout\" is implement on the previous block ||\n      // fallback\n      function clearImmediateFallback(timer) {\n        window.clearTimeout(timer);\n      }\n    );\n  })();\n}\n\n// Check if WordCloud can run on this browser\nvar isSupported = (function isSupported() {\n  var canvas = document.createElement('canvas');\n  if (!canvas || !canvas.getContext) {\n    return false;\n  }\n\n  var ctx = canvas.getContext('2d');\n  if (!ctx.getImageData) {\n    return false;\n  }\n  if (!ctx.fillText) {\n    return false;\n  }\n\n  if (!Array.prototype.some) {\n    return false;\n  }\n  if (!Array.prototype.push) {\n    return false;\n  }\n\n  return true;\n})();\n\n// Find out if the browser impose minium font size by\n// drawing small texts on a canvas and measure it's width.\nvar minFontSize = (function getMinFontSize() {\n  if (!isSupported) {\n    return;\n  }\n\n  var ctx = document.createElement('canvas').getContext('2d');\n\n  // start from 20\n  var size = 20;\n\n  // two sizes to measure\n  var hanWidth, mWidth;\n\n  while (size) {\n    ctx.font = size.toString(10) + 'px sans-serif';\n    if (ctx.measureText('\\uFF37').width === hanWidth && ctx.measureText('m').width === mWidth) {\n      return size + 1;\n    }\n\n    hanWidth = ctx.measureText('\\uFF37').width;\n    mWidth = ctx.measureText('m').width;\n\n    size--;\n  }\n\n  return 0;\n})();\n\n// Based on http://jsfromhell.com/array/shuffle\nvar shuffleArray = function shuffleArray(arr) {\n  for (var j, x, i = arr.length; i; j = Math.floor(Math.random() * i), x = arr[--i], arr[i] = arr[j], arr[j] = x) {}\n  return arr;\n};\n\nvar WordCloud = function WordCloud(elements, options) {\n  if (!isSupported) {\n    return;\n  }\n\n  if (!Array.isArray(elements)) {\n    elements = [elements];\n  }\n\n  elements.forEach(function(el, i) {\n    if (typeof el === 'string') {\n      elements[i] = document.getElementById(el);\n      if (!elements[i]) {\n        throw 'The element id specified is not found.';\n      }\n    } else if (!el.tagName && !el.appendChild) {\n      throw 'You must pass valid HTML elements, or ID of the element.';\n    }\n  });\n\n  /* Default values to be overwritten by options object */\n  var settings = {\n    data: [],\n    fontFamily: '\"Trebuchet MS\", \"Heiti TC\", \"微軟正黑體\", ' + '\"Arial Unicode MS\", \"Droid Fallback Sans\", sans-serif',\n    fontWeight: 'normal',\n    color: 'random-dark',\n\n    minFontSize: minFontSize, // browser's min font size default\n    maxFontSize: 60, // max font size default is 60\n\n    clearCanvas: true,\n    backgroundColor: '#fff', // opaque white = rgba(255, 255, 255, 1)\n\n    gridSize: 8,\n    drawOutOfBound: false,\n    origin: null,\n\n    drawMask: false,\n    maskColor: 'rgba(255,0,0,0.3)',\n    maskGapWidth: 0.3,\n\n    wait: 0,\n    abortThreshold: 0, // disabled\n    abort: function noop() {},\n\n    minRotation: -Math.PI / 2,\n    maxRotation: Math.PI / 2,\n    rotateRatio: 0.5,\n    rotationSteps: 1,\n\n    shuffle: true,\n\n    shape: 'circle',\n    ellipticity: 1,\n\n    active: true,\n    selected: -1,\n    shadowColor: '#333',\n    shadowBlur: 10,\n\n    classes: null,\n\n    onWordCloudHover: null,\n    onWordCloudClick: null,\n  };\n\n  const interactionItems = [];\n\n  if (options) {\n    for (var key in options) {\n      if (key === 'wordStyle') {\n        for (let fontKey in options[key]) {\n          if (fontKey in settings) {\n            settings[fontKey] = options[key][fontKey];\n          }\n        }\n      } else {\n        if (key in settings) {\n          settings[key] = options[key];\n        }\n      }\n    }\n  }\n\n  if (settings.minFontSize < minFontSize) {\n    // can't less than browse's min font size\n    settings.minFontSize = minFontSize;\n  }\n\n  if (settings.minFontSize > settings.maxFontSize) {\n    console.error('minSize cant bigger than maxSize');\n    return;\n  }\n\n  let maxWeight = 0;\n  for (let i = 0; i < settings.data.length; i++) {\n    if (maxWeight < settings.data[i].weight) {\n      maxWeight = settings.data[i].weight;\n    }\n  }\n\n  var getRealFontSize = function getRealFontSize(weight) {\n    return Math.min(Math.max(settings.minFontSize, (settings.maxFontSize * weight) / maxWeight), settings.maxFontSize);\n  };\n\n  var isCardioid = false;\n  /* Convert shape into a function */\n  if (typeof settings.shape !== 'function') {\n    switch (settings.shape) {\n      case 'circle':\n      /* falls through */\n      default:\n        // 'circle' is the default and a shortcut in the code loop.\n        settings.shape = 'circle';\n        break;\n\n      case 'cardioid':\n        // https://baike.baidu.com/item/%E5%BF%83%E8%84%8F%E7%BA%BF/10323843?fromtitle=%E5%BF%83%E5%BD%A2%E7%BA%BF&fromid=10018818\n        settings.shape = function shapeCardioid(theta) {\n          return 1 - Math.sin(theta);\n        };\n        isCardioid = true;\n        break;\n\n      /*\n      To work out an X-gon, one has to calculate \"m\",\n      where 1/(cos(2*PI/X)+m*sin(2*PI/X)) = 1/(cos(0)+m*sin(0))\n      http://www.wolframalpha.com/input/?i=1%2F%28cos%282*PI%2FX%29%2Bm*sin%28\n      2*PI%2FX%29%29+%3D+1%2F%28cos%280%29%2Bm*sin%280%29%29\n      Copy the solution into polar equation r = 1/(cos(t') + m*sin(t'))\n      where t' equals to mod(t, 2PI/X);\n      */\n\n      case 'diamond':\n        settings.shape = function shapeSquare(theta) {\n          const thetaPrime = theta % ((2 * Math.PI) / 4);\n          return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n        };\n        break;\n      case 'square':\n        // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n        // %28t%2C+PI%2F2%29%29%2Bsin%28mod+%28t%2C+PI%2F2%29%29%29%2C+t+%3D\n        // +0+..+2*PI\n        settings.shape = function shapeSquare(theta) {\n          const thetaPrime = (theta + Math.PI / 4) % ((2 * Math.PI) / 4);\n          return 1 / (Math.cos(thetaPrime) + Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'triangle-forward':\n        // http://www.wolframalpha.com/input/?i=plot+r+%3D+1%2F%28cos%28mod+\n        // %28t%2C+2*PI%2F3%29%29%2Bsqrt%283%29sin%28mod+%28t%2C+2*PI%2F3%29\n        // %29%29%2C+t+%3D+0+..+2*PI\n        settings.shape = function shapeTriangle(theta) {\n          const thetaPrime = theta % ((2 * Math.PI) / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'triangle-backward':\n        settings.shape = function shapeTriangle(theta) {\n          const thetaPrime = (theta + Math.PI) % ((2 * Math.PI) / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'triangle':\n      case 'triangle-up':\n        settings.shape = function shapeTriangle(theta) {\n          const thetaPrime = (theta + (Math.PI * 3) / 2) % ((2 * Math.PI) / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n        break;\n      case 'triangle-down':\n        settings.shape = function shapeTriangle(theta) {\n          const thetaPrime = (theta + (Math.PI * 5) / 2) % ((2 * Math.PI) / 3);\n          return 1 / (Math.cos(thetaPrime) + Math.sqrt(3) * Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'pentagon':\n        settings.shape = function shapePentagon(theta) {\n          const thetaPrime = (theta + 0.955) % ((2 * Math.PI) / 5);\n          return 1 / (Math.cos(thetaPrime) + 0.726543 * Math.sin(thetaPrime));\n        };\n        break;\n\n      case 'star':\n        settings.shape = function shapeStar(theta) {\n          const thetaPrime = (theta + 0.955) % ((2 * Math.PI) / 10);\n          if (((theta + 0.955) % ((2 * Math.PI) / 5)) - (2 * Math.PI) / 10 >= 0) {\n            return (\n              1 / (Math.cos((2 * Math.PI) / 10 - thetaPrime) + 3.07768 * Math.sin((2 * Math.PI) / 10 - thetaPrime))\n            );\n          } else {\n            return 1 / (Math.cos(thetaPrime) + 3.07768 * Math.sin(thetaPrime));\n          }\n        };\n        break;\n    }\n  }\n\n  /* Make sure gridSize is a whole number and is not smaller than 4px */\n  settings.gridSize = Math.max(Math.floor(settings.gridSize), 4);\n\n  /* shorthand */\n  var g = settings.gridSize;\n  var maskRectWidth = g - settings.maskGapWidth;\n\n  /* normalize rotation settings */\n  var rotationRange = Math.abs(settings.maxRotation - settings.minRotation);\n  var minRotation = Math.min(settings.maxRotation, settings.minRotation);\n  var rotationSteps = settings.rotationSteps;\n\n  /* information/object available to all functions, set when start() */\n  var grid, // 2d array containing filling information\n    ngx,\n    ngy, // width and height of the grid\n    center, // position of the center of the cloud\n    maxRadius;\n\n  /* timestamp for measuring each putWord() action */\n  var escapeTime;\n\n  /* function for getting the color of the text */\n  var getTextColor;\n  function random_hsl_color(min, max) {\n    return (\n      'hsl(' +\n      (Math.random() * 360).toFixed() +\n      ',' +\n      (Math.random() * 30 + 70).toFixed() +\n      '%,' +\n      (Math.random() * (max - min) + min).toFixed() +\n      '%)'\n    );\n  }\n  switch (settings.color) {\n    case 'random-dark':\n      getTextColor = function getRandomDarkColor() {\n        return random_hsl_color(10, 50);\n      };\n      break;\n\n    case 'random-light':\n      getTextColor = function getRandomLightColor() {\n        return random_hsl_color(50, 90);\n      };\n      break;\n\n    default:\n      if (typeof settings.color === 'function') {\n        getTextColor = settings.color;\n      }\n      break;\n  }\n\n  /* function for getting the classes of the text */\n  var getTextClasses = null;\n  if (typeof settings.classes === 'function') {\n    getTextClasses = settings.classes;\n  }\n\n  /* Interactive */\n  var interactive = false;\n  var infoGrid = [];\n  var hovered;\n\n  var getInfoGridFromMouseTouchEvent = function getInfoGridFromMouseTouchEvent(evt) {\n    var canvas = evt.currentTarget;\n    var rect = canvas.getBoundingClientRect();\n    var clientX;\n    var clientY;\n    /** Detect if touches are available */\n    if (evt.touches) {\n      clientX = evt.touches[0].clientX;\n      clientY = evt.touches[0].clientY;\n    } else {\n      clientX = evt.clientX;\n      clientY = evt.clientY;\n    }\n    var eventX = clientX - rect.left;\n    var eventY = clientY - rect.top;\n\n    var x = Math.floor((eventX * (canvas.width / rect.width || 1)) / g);\n    var y = Math.floor((eventY * (canvas.height / rect.height || 1)) / g);\n\n    return infoGrid[x][y];\n  };\n\n  var defaultHoverAction = function defaultHoverAction(item, dimension, evt, start) {\n    if (item) {\n      start(item.id);\n    } else {\n      start(-1);\n    }\n  };\n\n  var wordcloudhover = function wordcloudhover(evt) {\n    var info = getInfoGridFromMouseTouchEvent(evt);\n\n    if (hovered === info) {\n      return;\n    }\n\n    if (!info) {\n      settings.onWordCloudHover(undefined, undefined, evt, start);\n      if (settings.active) {\n        defaultHoverAction(undefined, undefined, evt, start);\n      }\n      return;\n    }\n\n    settings.onWordCloudHover(info.item, info.dimension, evt, start);\n    if (settings.active) {\n      defaultHoverAction(info.item, info.dimension, evt, start);\n    }\n    hovered = info;\n  };\n\n  var wordcloudclick = function wordcloudclick(evt) {\n    var info = getInfoGridFromMouseTouchEvent(evt);\n    if (!info) {\n      return;\n    }\n\n    settings.onWordCloudClick(info.item, info.dimension, evt);\n    evt.preventDefault();\n  };\n\n  /* Get points on the grid for a given radius away from the center */\n  var pointsAtRadius = [];\n  var getPointsAtRadius = function getPointsAtRadius(radius) {\n    if (pointsAtRadius[radius]) {\n      return pointsAtRadius[radius];\n    }\n\n    // Look for these number of points on each radius\n    var T = radius * 8;\n\n    // Getting all the points at this radius\n    var t = T;\n    var points = [];\n\n    if (radius === 0) {\n      points.push([center[0], center[1], 0]);\n    }\n\n    while (t--) {\n      // distort the radius to put the cloud in shape\n      var rx = 1;\n      if (settings.shape !== 'circle') {\n        rx = settings.shape((t / T) * 2 * Math.PI); // 0 to 1\n      }\n\n      // Push [x, y, t]; t is used solely for getTextColor()\n      points.push([\n        center[0] + radius * rx * Math.cos((-t / T) * 2 * Math.PI),\n        center[1] + radius * rx * Math.sin((-t / T) * 2 * Math.PI) * settings.ellipticity,\n        (t / T) * 2 * Math.PI,\n      ]);\n    }\n\n    pointsAtRadius[radius] = points;\n    return points;\n  };\n\n  /* Return true if we had spent too much time */\n  var exceedTime = function exceedTime() {\n    return settings.abortThreshold > 0 && new Date().getTime() - escapeTime > settings.abortThreshold;\n  };\n\n  /* Get the deg of rotation according to settings, and luck. */\n  var getRotateDeg = function getRotateDeg() {\n    if (settings.rotateRatio === 0) {\n      return 0;\n    }\n\n    if (Math.random() > settings.rotateRatio) {\n      return 0;\n    }\n\n    if (rotationRange === 0) {\n      return minRotation;\n    }\n\n    // return minRotation + Math.round(Math.random() * rotationRange / rotationSteps) * rotationSteps;\n\n    if (rotationSteps > 0) {\n      // Min rotation + zero or more steps * span of one step\n      return minRotation + (Math.floor(Math.random() * rotationSteps) * rotationRange) / rotationSteps;\n    } else {\n      return minRotation + Math.random() * rotationRange;\n    }\n  };\n\n  var getTextInfo = function getTextInfo(word, weight, rotateDeg) {\n    // calculate the acutal font size\n    // fontSize === 0 means wants the text skipped,\n    // and size < minSize means we cannot draw the text\n    var debug = false;\n    var fontSize = getRealFontSize(weight);\n    if (fontSize <= 0) {\n      return false;\n    }\n\n    // Scale factor here is to make sure fillText is not limited by\n    // the minium font size set by browser.\n    // It will always be 1 or 2n.\n    var mu = 1;\n    if (fontSize < minFontSize) {\n      mu = (function calculateScaleFactor() {\n        var mu = 2;\n        while (mu * fontSize < minFontSize) {\n          mu += 2;\n        }\n        return mu;\n      })();\n    }\n\n    var fcanvas = document.createElement('canvas');\n    var fctx = fcanvas.getContext('2d', { willReadFrequently: true });\n\n    fctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n\n    // Estimate the dimension of the text with measureText().\n    var fw = fctx.measureText(word).width / mu;\n    var fh = Math.max(fontSize * mu, fctx.measureText('m').width, fctx.measureText('\\uFF37').width) / mu;\n\n    // Create a boundary box that is larger than our estimates,\n    // so text don't get cut of (it sill might)\n    var boxWidth = fw + fh * 2;\n    var boxHeight = fh * 3;\n    var fgw = Math.ceil(boxWidth / g);\n    var fgh = Math.ceil(boxHeight / g);\n    boxWidth = fgw * g;\n    boxHeight = fgh * g;\n\n    // Calculate the proper offsets to make the text centered at\n    // the preferred position.\n\n    // This is simply half of the width.\n    var fillTextOffsetX = -fw / 2;\n    // Instead of moving the box to the exact middle of the preferred\n    // position, for Y-offset we move 0.4 instead, so Latin alphabets look\n    // vertical centered.\n    var fillTextOffsetY = -fh * 0.4;\n\n    // Calculate the actual dimension of the canvas, considering the rotation.\n    var cgh = Math.ceil((boxWidth * Math.abs(Math.sin(rotateDeg)) + boxHeight * Math.abs(Math.cos(rotateDeg))) / g);\n    var cgw = Math.ceil((boxWidth * Math.abs(Math.cos(rotateDeg)) + boxHeight * Math.abs(Math.sin(rotateDeg))) / g);\n    var width = cgw * g;\n    var height = cgh * g;\n\n    fcanvas.setAttribute('width', width);\n    fcanvas.setAttribute('height', height);\n\n    if (debug) {\n      // Attach fcanvas to the DOM\n      document.body.appendChild(fcanvas);\n      // Save it's state so that we could restore and draw the grid correctly.\n      fctx.save();\n    }\n\n    // Scale the canvas with |mu|.\n    fctx.scale(1 / mu, 1 / mu);\n    fctx.translate((width * mu) / 2, (height * mu) / 2);\n    fctx.rotate(-rotateDeg);\n\n    // Once the width/height is set, ctx info will be reset.\n    // Set it again here.\n    fctx.font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n\n    // Fill the text into the fcanvas.\n    // XXX: We cannot because textBaseline = 'top' here because\n    // Firefox and Chrome uses different default line-height for canvas.\n    // Please read https://bugzil.la/737852#c6.\n    // Here, we use textBaseline = 'middle' and draw the text at exactly\n    // 0.5 * fontSize lower.\n    fctx.fillStyle = '#000';\n    fctx.textBaseline = 'middle';\n    fctx.fillText(word, fillTextOffsetX * mu, (fillTextOffsetY + fontSize * 0.5) * mu);\n\n    // Get the pixels of the text\n    var imageData;\n    try {\n      imageData = fctx.getImageData(0, 0, width, height).data;\n    } catch (e) {\n      // data not long type\n      return false;\n    }\n\n    if (exceedTime()) {\n      return false;\n    }\n\n    if (debug) {\n      // Draw the box of the original estimation\n      fctx.strokeRect(fillTextOffsetX * mu, fillTextOffsetY, fw * mu, fh * mu);\n      fctx.restore();\n    }\n\n    // Read the pixels and save the information to the occupied array\n    var occupied = [];\n    var gx = cgw,\n      gy,\n      x,\n      y;\n    var bounds = [cgh / 2, cgw / 2, cgh / 2, cgw / 2];\n    while (gx--) {\n      gy = cgh;\n      while (gy--) {\n        y = g;\n        singleGridLoop: {\n          while (y--) {\n            x = g;\n            while (x--) {\n              if (imageData[((gy * g + y) * width + (gx * g + x)) * 4 + 3]) {\n                occupied.push([gx, gy]);\n\n                if (gx < bounds[3]) {\n                  bounds[3] = gx;\n                }\n                if (gx > bounds[1]) {\n                  bounds[1] = gx;\n                }\n                if (gy < bounds[0]) {\n                  bounds[0] = gy;\n                }\n                if (gy > bounds[2]) {\n                  bounds[2] = gy;\n                }\n\n                if (debug) {\n                  fctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n                  fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n                }\n                break singleGridLoop;\n              }\n            }\n          }\n          if (debug) {\n            fctx.fillStyle = 'rgba(0, 0, 255, 0.5)';\n            fctx.fillRect(gx * g, gy * g, g - 0.5, g - 0.5);\n          }\n        }\n      }\n    }\n\n    if (debug) {\n      // real bounds\n      fctx.fillStyle = 'rgba(0, 255, 0, 0.5)';\n      fctx.fillRect(bounds[3] * g, bounds[0] * g, (bounds[1] - bounds[3] + 1) * g, (bounds[2] - bounds[0] + 1) * g);\n    }\n\n    // Return information needed to create the text on the real canvas\n    return {\n      mu: mu,\n      occupied: occupied,\n      bounds: bounds,\n      gw: cgw,\n      gh: cgh,\n      fillTextOffsetX: fillTextOffsetX,\n      fillTextOffsetY: fillTextOffsetY,\n      fillTextWidth: fw,\n      fillTextHeight: fh,\n      fontSize: fontSize,\n    };\n  };\n\n  /* Determine if there is room available in the given dimension */\n  var canFitText = function canFitText(gx, gy, gw, gh, occupied) {\n    // Go through the occupied points,\n    // return false if the space is not available.\n    var i = occupied.length;\n    while (i--) {\n      var px = gx + occupied[i][0];\n      var py = gy + occupied[i][1];\n\n      if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n        if (!settings.drawOutOfBound) {\n          return false;\n        }\n        continue;\n      }\n\n      if (!grid[px][py]) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  /* Actually draw the text on the grid */\n  var drawText = function drawText(gx, gy, info, word, weight, distance, theta, rotateDeg, attributes, id, refresh) {\n    var fontSize = info.fontSize;\n    var color = settings.color;\n    var classes = settings.classes;\n    if (!refresh) {\n      if (getTextColor) {\n        color = getTextColor(word, weight, fontSize, distance, theta);\n      } else {\n        color = settings.color;\n      }\n\n      if (getTextClasses) {\n        classes = getTextClasses(word, weight, fontSize, distance, theta);\n      } else {\n        classes = settings.classes;\n      }\n    } else {\n      const find = getInteractionItemById(id);\n      color = find ? find.color : settings.color;\n    }\n\n    var dimension;\n    var bounds = info.bounds;\n    dimension = {\n      x: (gx + bounds[3]) * g,\n      y: (gy + bounds[0]) * g,\n      w: (bounds[1] - bounds[3] + 1) * g,\n      h: (bounds[2] - bounds[0] + 1) * g,\n    };\n\n    elements.forEach(function(el) {\n      if (el.getContext) {\n        var ctx = el.getContext('2d');\n        var mu = info.mu;\n\n        // Save the current state before messing it\n        ctx.save();\n        const font = settings.fontWeight + ' ' + (fontSize * mu).toString(10) + 'px ' + settings.fontFamily;\n        ctx.scale(1 / mu, 1 / mu);\n\n        ctx.font = font;\n        ctx.fillStyle = color;\n\n        // Translate the canvas position to the origin coordinate of where\n        // the text should be put.\n        let transX = (gx + info.gw / 2) * g * mu;\n        let transY = (gy + info.gh / 2) * g * mu;\n        ctx.translate(transX, transY);\n\n        if (rotateDeg !== 0) {\n          ctx.rotate(-rotateDeg);\n        }\n\n        // Finally, fill the text.\n\n        // XXX: We cannot because textBaseline = 'top' here because\n        // Firefox and Chrome uses different default line-height for canvas.\n        // Please read https://bugzil.la/737852#c6.\n        // Here, we use textBaseline = 'middle' and draw the text at exactly\n        // 0.5 * fontSize lower.\n        ctx.textBaseline = 'middle';\n        if (settings.selected === id) {\n          ctx.shadowColor = settings.shadowColor;\n          ctx.shadowBlur = settings.shadowBlur;\n        }\n        ctx.fillText(word, info.fillTextOffsetX * mu, (info.fillTextOffsetY + fontSize * 0.5) * mu);\n\n        // The below box is always matches how <span>s are positioned\n        // ctx.strokeRect(info.fillTextOffsetX, info.fillTextOffsetY,\n        //   info.fillTextWidth, info.fillTextHeight);\n\n        if (!refresh) {\n          interactionItems.push({\n            gx: gx,\n            gy: gy,\n            info: info,\n            word: word,\n            weight: weight,\n            distance: distance,\n            theta: theta,\n            rotateDeg: rotateDeg,\n            attributes: attributes,\n            id: id,\n            color: color,\n          });\n        }\n        // Restore the state.\n        ctx.restore();\n      } else {\n        // drawText on DIV element\n        var span = document.createElement('span');\n        var transformRule = '';\n        transformRule = 'rotate(' + (-rotateDeg / Math.PI) * 180 + 'deg) ';\n        if (info.mu !== 1) {\n          transformRule += 'translateX(-' + info.fillTextWidth / 4 + 'px) ' + 'scale(' + 1 / info.mu + ')';\n        }\n        var styleRules = {\n          position: 'absolute',\n          display: 'block',\n          font: settings.fontWeight + ' ' + fontSize * info.mu + 'px ' + settings.fontFamily,\n          left: (gx + info.gw / 2) * g + info.fillTextOffsetX + 'px',\n          top: (gy + info.gh / 2) * g + info.fillTextOffsetY + 'px',\n          width: info.fillTextWidth + 'px',\n          height: info.fillTextHeight + 'px',\n          lineHeight: fontSize + 'px',\n          whiteSpace: 'nowrap',\n          transform: transformRule,\n          webkitTransform: transformRule,\n          msTransform: transformRule,\n          transformOrigin: '50% 40%',\n          webkitTransformOrigin: '50% 40%',\n          msTransformOrigin: '50% 40%',\n        };\n        if (color) {\n          styleRules.color = color;\n        }\n        span.textContent = word;\n        for (var cssProp in styleRules) {\n          span.style[cssProp] = styleRules[cssProp];\n        }\n        if (attributes) {\n          for (var attribute in attributes) {\n            span.setAttribute(attribute, attributes[attribute]);\n          }\n        }\n        if (classes) {\n          span.className += classes;\n        }\n        el.appendChild(span);\n      }\n    });\n  };\n\n  /* Help function to updateGrid */\n  var fillGridAt = function fillGridAt(x, y, drawMask, dimension, item) {\n    if (x >= ngx || y >= ngy || x < 0 || y < 0) {\n      return;\n    }\n\n    grid[x][y] = false;\n\n    if (drawMask) {\n      var ctx = elements[0].getContext('2d');\n      ctx.fillRect(x * g, y * g, maskRectWidth, maskRectWidth);\n    }\n\n    if (interactive) {\n      infoGrid[x][y] = { item: item, dimension: dimension };\n    }\n  };\n\n  /* Update the filling information of the given space with occupied points.\n     Draw the mask on the canvas if necessary. */\n  var updateGrid = function updateGrid(gx, gy, gw, gh, info) {\n    var occupied = info.occupied;\n    var drawMask = settings.drawMask;\n    var ctx;\n    if (drawMask) {\n      ctx = elements[0].getContext('2d');\n      ctx.save();\n      ctx.fillStyle = settings.maskColor;\n    }\n\n    var dimension;\n    if (interactive) {\n      var bounds = info.bounds;\n      dimension = {\n        x: (gx + bounds[3]) * g,\n        y: (gy + bounds[0]) * g,\n        w: (bounds[1] - bounds[3] + 1) * g,\n        h: (bounds[2] - bounds[0] + 1) * g,\n      };\n    }\n\n    var i = occupied.length;\n    while (i--) {\n      var px = gx + occupied[i][0];\n      var py = gy + occupied[i][1];\n\n      if (px >= ngx || py >= ngy || px < 0 || py < 0) {\n        continue;\n      }\n\n      // save item's color from info\n      const find = getInteractionItemById(info.item.id);\n      if (find) {\n        info.item.color = find.color;\n      }\n      fillGridAt(px, py, drawMask, dimension, info.item);\n    }\n\n    if (drawMask) {\n      ctx.restore();\n    }\n  };\n\n  var tryToPutWordAtPoint = function tryToPutWordAtPoint(gxy, info, word, weight, distance, rotateDeg, attributes, id) {\n    var gx = Math.floor(gxy[0] - info.gw / 2);\n    var gy = Math.floor(gxy[1] - info.gh / 2);\n    var gw = info.gw;\n    var gh = info.gh;\n\n    // If we cannot fit the text at this position, return false\n    // and go to the next position.\n    if (!canFitText(gx, gy, gw, gh, info.occupied)) {\n      return false;\n    }\n\n    // Actually put the text on the canvas\n    drawText(gx, gy, info, word, weight, distance, gxy[2], rotateDeg, attributes, id, false);\n\n    // Mark the spaces on the grid as filled\n    updateGrid(gx, gy, gw, gh, info);\n\n    return {\n      gx: gx,\n      gy: gy,\n      rot: rotateDeg,\n      info: info,\n    };\n  };\n\n  /* putWord() processes each item on the list,\n     calculate it's size and determine it's position, and actually\n     put it on the canvas. */\n  var putWord = function putWord(item) {\n    var word, weight, attributes, id;\n    if (Array.isArray(item)) {\n      word = item[0];\n      weight = item[1];\n    } else {\n      word = item.word;\n      weight = item.weight;\n      attributes = item.attributes;\n      id = item.id;\n    }\n    var rotateDeg = getRotateDeg();\n\n    // get info needed to put the text onto the canvas\n    var info = getTextInfo(word, weight, rotateDeg);\n    info['item'] = item;\n\n    // not getting the info means we shouldn't be drawing this one.\n    if (!info) {\n      return false;\n    }\n\n    if (exceedTime()) {\n      return false;\n    }\n\n    // If drawOutOfBound is set to false,\n    // skip the loop if we have already know the bounding box of\n    // word is larger than the canvas.\n    if (!settings.drawOutOfBound) {\n      var bounds = info.bounds;\n      if (bounds[1] - bounds[3] + 1 > ngx || bounds[2] - bounds[0] + 1 > ngy) {\n        return false;\n      }\n    }\n\n    // Determine the position to put the text by\n    // start looking for the nearest points\n    var r = maxRadius + 1;\n\n    while (r--) {\n      var points = getPointsAtRadius(maxRadius - r);\n\n      if (settings.shuffle) {\n        points = [].concat(points);\n        shuffleArray(points);\n      }\n\n      // Try to fit the words by looking at each point.\n      // array.some() will stop and return true\n      // when putWordAtPoint() returns true.\n      for (var i = 0; i < points.length; i++) {\n        var res = tryToPutWordAtPoint(points[i], info, word, weight, maxRadius - r, rotateDeg, attributes, id);\n        if (res) {\n          return res;\n        }\n      }\n\n      // var drawn = points.some(tryToPutWordAtPoint);\n      // if (drawn) {\n      //   // leave putWord() and return true\n      //   return true;\n      // }\n    }\n    // we tried all distances but text won't fit, return null\n    return null;\n  };\n\n  /* Send DOM event to all elements. Will stop sending event and return\n     if the previous one is canceled (for cancelable events). */\n  var sendEvent = function sendEvent(type, cancelable, detail) {\n    if (cancelable) {\n      return !elements.some(function(el) {\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(type, true, cancelable, detail || {});\n        return !el.dispatchEvent(evt);\n      }, this);\n    } else {\n      elements.forEach(function(el) {\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(type, true, cancelable, detail || {});\n        el.dispatchEvent(evt);\n      }, this);\n    }\n  };\n\n  var getInteractionItemById = function getInteractionItemById(id) {\n    for (let i = 0; i < interactionItems.length; i++) {\n      const find = interactionItems[i];\n      if (interactionItems[i].id === id) {\n        return find;\n      }\n    }\n    return undefined;\n  };\n\n  /* Start drawing on a canvas */\n  var start = function start(selected) {\n    if (selected !== undefined) {\n      // re-refresh canvas with selected\n      // work in canvas only for now\n      if (settings.selected !== selected && elements[0].getContext) {\n        settings.selected = selected;\n        const ctx = elements[0].getContext('2d');\n        // draw background\n        ctx.fillStyle = settings.backgroundColor;\n        ctx.clearRect(0, 0, elements[0].width, elements[0].height);\n        ctx.fillRect(0, 0, elements[0].width, elements[0].height);\n\n        // draw text\n        for (let i = 0; i < interactionItems.length; i++) {\n          const find = interactionItems[i];\n          drawText(\n            find.gx,\n            find.gy,\n            find.info,\n            find.word,\n            find.weight,\n            find.distance,\n            find.theta,\n            find.rotateDeg,\n            find.attributes,\n            find.id,\n            true\n          );\n        }\n      }\n      return;\n    }\n    // For dimensions, clearCanvas etc.,\n    // we only care about the first element.\n    var canvas = elements[0];\n\n    if (canvas.getContext) {\n      ngx = Math.ceil(canvas.width / g);\n      ngy = Math.ceil(canvas.height / g);\n    } else {\n      var rect = canvas.getBoundingClientRect();\n      ngx = Math.ceil(rect.width / g);\n      ngy = Math.ceil(rect.height / g);\n    }\n\n    // Sending a wordcloudstart event which cause the previous loop to stop.\n    // Do nothing if the event is canceled.\n    if (!sendEvent('wordcloudstart', true)) {\n      return;\n    }\n\n    // Determine the center of the word cloud\n    center = settings.origin ? [settings.origin[0] / g, settings.origin[1] / g] : [ngx / 2, ngy / (isCardioid ? 4 : 2)];\n\n    // Maxium radius to look for space\n    maxRadius = Math.floor(Math.sqrt(ngx * ngx + ngy * ngy));\n\n    /* Clear the canvas only if the clearCanvas is set,\n       if not, update the grid to the current canvas state */\n    grid = [];\n\n    var gx, gy, i;\n    if (!canvas.getContext || settings.clearCanvas) {\n      elements.forEach(function(el) {\n        if (el.getContext) {\n          var ctx = el.getContext('2d');\n          ctx.fillStyle = settings.backgroundColor;\n          ctx.clearRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n          ctx.fillRect(0, 0, ngx * (g + 1), ngy * (g + 1));\n        } else {\n          el.textContent = '';\n          el.style.backgroundColor = settings.backgroundColor;\n          el.style.position = 'relative';\n        }\n      });\n\n      /* fill the grid with empty state */\n      gx = ngx;\n      while (gx--) {\n        grid[gx] = [];\n        gy = ngy;\n        while (gy--) {\n          grid[gx][gy] = true;\n        }\n      }\n    } else {\n      /* Determine bgPixel by creating\n         another canvas and fill the specified background color. */\n      var bctx = document.createElement('canvas').getContext('2d');\n\n      bctx.fillStyle = settings.backgroundColor;\n      bctx.fillRect(0, 0, 1, 1);\n      var bgPixel = bctx.getImageData(0, 0, 1, 1).data;\n\n      /* Read back the pixels of the canvas we got to tell which part of the\n         canvas is empty.\n         (no clearCanvas only works with a canvas, not divs) */\n      var imageData = canvas.getContext('2d').getImageData(0, 0, ngx * g, ngy * g).data;\n\n      gx = ngx;\n      var x, y;\n      while (gx--) {\n        grid[gx] = [];\n        gy = ngy;\n        while (gy--) {\n          y = g;\n          singleGridLoop: while (y--) {\n            x = g;\n            while (x--) {\n              i = 4;\n              while (i--) {\n                if (imageData[((gy * g + y) * ngx * g + (gx * g + x)) * 4 + i] !== bgPixel[i]) {\n                  grid[gx][gy] = false;\n                  break singleGridLoop;\n                }\n              }\n            }\n          }\n          if (grid[gx][gy] !== false) {\n            grid[gx][gy] = true;\n          }\n        }\n      }\n\n      imageData = bctx = bgPixel = undefined;\n    }\n\n    // fill the infoGrid with empty state if we need it\n    if (settings.onWordCloudHover || settings.onWordCloudClick) {\n      interactive = true;\n\n      /* fill the grid with empty state */\n      gx = ngx + 1;\n      while (gx--) {\n        infoGrid[gx] = [];\n      }\n\n      if (settings.onWordCloudHover) {\n        canvas.addEventListener('mousemove', wordcloudhover);\n      }\n\n      if (settings.onWordCloudClick) {\n        canvas.addEventListener('click', wordcloudclick);\n        canvas.addEventListener('touchstart', wordcloudclick);\n        canvas.addEventListener('touchend', function(e) {\n          e.preventDefault();\n        });\n        canvas.style.webkitTapHighlightColor = 'rgba(0, 0, 0, 0)';\n      }\n\n      canvas.addEventListener('wordcloudstart', function stopInteraction() {\n        canvas.removeEventListener('wordcloudstart', stopInteraction);\n\n        canvas.removeEventListener('mousemove', wordcloudhover);\n        canvas.removeEventListener('click', wordcloudclick);\n        hovered = undefined;\n      });\n    }\n\n    i = 0;\n    var loopingFunction, stoppingFunction;\n    if (settings.wait !== 0) {\n      loopingFunction = window.setTimeout;\n      stoppingFunction = window.clearTimeout;\n    } else {\n      loopingFunction = window.setImmediate;\n      stoppingFunction = window.clearImmediate;\n    }\n\n    var addEventListener = function addEventListener(type, listener) {\n      elements.forEach(function(el) {\n        el.addEventListener(type, listener);\n      }, this);\n    };\n\n    var removeEventListener = function removeEventListener(type, listener) {\n      elements.forEach(function(el) {\n        el.removeEventListener(type, listener);\n      }, this);\n    };\n\n    var anotherWordCloudStart = function anotherWordCloudStart() {\n      removeEventListener('wordcloudstart', anotherWordCloudStart);\n      stoppingFunction(timer);\n    };\n\n    addEventListener('wordcloudstart', anotherWordCloudStart);\n\n    var timer = loopingFunction(function loop() {\n      if (i >= settings.data.length) {\n        stoppingFunction(timer);\n        sendEvent('wordcloudstop', false);\n        removeEventListener('wordcloudstart', anotherWordCloudStart);\n\n        return;\n      }\n      escapeTime = new Date().getTime();\n      var drawn = putWord(settings.data[i]);\n      var canceled = !sendEvent('wordclouddrawn', true, {\n        item: settings.data[i],\n        drawn: drawn,\n      });\n      if (exceedTime() || canceled) {\n        stoppingFunction(timer);\n        settings.abort();\n        sendEvent('wordcloudabort', false);\n        sendEvent('wordcloudstop', false);\n        removeEventListener('wordcloudstart', anotherWordCloudStart);\n        return;\n      }\n      i++;\n      timer = loopingFunction(loop, settings.wait);\n    }, settings.wait);\n  };\n\n  // All set, start the drawing\n  start();\n};\n\nWordCloud.isSupported = isSupported;\nWordCloud.minFontSize = minFontSize;\n\nexport default WordCloud;\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport RoseLayer, { RoseViewConfig } from './layer';\n\nexport interface RoseConfig extends RoseViewConfig, PlotConfig {}\n\nexport default class Rose extends BasePlot<RoseConfig> {\n  public static getDefaultOptions: typeof RoseLayer.getDefaultOptions = RoseLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'rose';\n    super.createLayers(layerProps);\n  }\n}\n","import { CoordinateType } from '@antv/g2/lib/plot/interface';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { getComponent } from '../../components/factory';\nimport { getGeom } from '../../geoms/factory';\nimport { Label } from '../../interface/config';\nimport * as EventParser from '../column/event';\nimport { LineStyle } from '../line/layer';\nimport './component/label/rose-label';\n\ninterface RoseStyle extends LineStyle {\n  stroke?: string;\n  lineWidth?: number;\n}\n\nexport interface RoseViewConfig extends ViewConfig {\n  radiusField: string;\n  categoryField: string;\n  colorField?: string;\n  stackField?: string;\n  groupField?: string;\n  radius?: number;\n  innerRadius?: number;\n  /** 每个扇形切片的样式 */\n  sectorStyle?: RoseStyle | ((...args: any[]) => RoseStyle);\n  label?: RoseLabel;\n}\n\ntype RoseLabel = ViewConfig['label'] & {\n  type: 'outer' | 'inner';\n  /** 自动调整颜色 */\n  adjustColor?: boolean;\n  /** 自动旋转 */\n  autoRotate?: boolean;\n};\n\nexport interface RoseLayerConfig extends RoseViewConfig, LayerConfig {}\n\nconst G2_GEOM_MAP = {\n  rose: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  rose: 'column',\n};\n\nexport default class RoseLayer<T extends RoseLayerConfig = RoseLayerConfig> extends ViewLayer<T> {\n  public static getDefaultOptions(): any {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      width: 400,\n      height: 400,\n      title: {\n        visible: false,\n      },\n      description: {\n        visible: false,\n      },\n      forceFit: true,\n      padding: 'auto',\n      radius: 0.8,\n      innerRadius: 0,\n      label: {\n        visible: true,\n        type: 'inner',\n        autoRotate: true,\n        adjustColor: false,\n      },\n      legend: {\n        visible: true,\n        position: 'bottom-center',\n      },\n      tooltip: {\n        visible: true,\n        shared: false,\n        crosshairs: null,\n      },\n      columnStyle: {\n        stroke: 'white',\n        lineWidth: 1,\n      },\n      xAxis: {\n        autoRotateLabel: true,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        grid: {\n          visible: true,\n          style: {\n            lineWidth: 0.5,\n          },\n        },\n        label: {\n          offset: 5,\n        },\n      },\n      yAxis: {\n        visible: false,\n      },\n    });\n  }\n\n  public rose: any;\n  public type: string = 'rose';\n\n  public getOptions(props: T) {\n    const options = super.getOptions(props);\n    // @ts-ignore\n    const defaultOptions = this.constructor.getDefaultOptions();\n    const columnStyle = props.sectorStyle;\n    const xField = props.categoryField;\n    const yField = props.radiusField;\n    return _.deepMix({}, options, defaultOptions, { columnStyle, xField, yField }, props);\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    // super.scale();\n    const props = this.options;\n    const scales = {};\n    scales[props.radiusField] = {};\n    scales[props.categoryField] = { type: 'cat' };\n    this.setConfig('scales', scales);\n  }\n\n  /** 不显示坐标轴 */\n  protected axis() {\n    super.axis();\n    const options = this.options;\n    if (!options.stackField && !options.groupField) {\n      this.setConfig('axes', false);\n    }\n  }\n\n  protected coord() {\n    const props = this.options;\n    const coordConfig = {\n      type: 'polar' as CoordinateType,\n      cfg: {\n        radius: props.radius,\n        innerRadius: props.innerRadius || 0,\n      },\n    };\n    this.setConfig('coord', coordConfig);\n  }\n\n  protected addGeometry() {\n    const options = this.options;\n    this.adjustColorFieldMapping();\n    this.adjustLegendOptions();\n    const rose = getGeom('interval', 'main', {\n      plot: this,\n      positionFields: [options.categoryField, options.radiusField],\n      widthRatio: 1,\n    });\n    rose.label = this.extractLabel();\n    rose.adjust = this.adjustRoseAdjust();\n    this.rose = rose;\n    this.setConfig('element', rose);\n  }\n\n  protected adjustColorFieldMapping() {\n    const options = this.options;\n    if (options.stackField || options.groupField) {\n      this.options.colorField = null;\n    }\n  }\n\n  protected adjustRoseAdjust() {\n    if (this.options.stackField) {\n      return [\n        {\n          type: 'stack',\n        },\n      ];\n    } else if (this.options.groupField) {\n      return [\n        {\n          type: 'dodge',\n          marginRatio: 0,\n        },\n      ];\n    }\n    return null;\n  }\n\n  protected animation() {\n    super.animation();\n    const props = this.options;\n    if (props.animation === false) {\n      /** 关闭动画 */\n      this.rose.animate = false;\n    }\n  }\n\n  protected annotation() {}\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  protected extractLabel() {\n    const options = this.options;\n    if (!options.label || !options.label.visible) {\n      return false;\n    }\n    const label = _.deepMix({}, options.label as Label);\n    this.adjustLabelOptions(label);\n    const fields = [options.categoryField, options.radiusField];\n    if (options.stackField || options.groupField) {\n      fields.push(options.stackField || options.groupField);\n    }\n    const labelConfig = getComponent('label', {\n      plot: this,\n      labelType: 'roseLabel',\n      fields,\n      ...label,\n    });\n    return labelConfig;\n  }\n\n  private adjustLabelOptions(labelOptions: RoseLabel) {\n    const { radiusField } = this.options;\n    if (labelOptions) {\n      const { offset, type, formatter } = labelOptions;\n      if (type === 'inner') {\n        labelOptions.offset = offset < 0 ? offset : -10;\n      } else if (type === 'outer') {\n        labelOptions.offset = offset >= 0 ? offset : 10;\n      }\n      if (!formatter) {\n        // 默认显示 数值\n        labelOptions.formatter = (text, item) => `${item._origin[radiusField]}`;\n      }\n    }\n  }\n\n  private adjustLegendOptions() {\n    const options = this.options;\n    const legendOptions = options.legend;\n    if (legendOptions) {\n      if (!options.stackField && !options.groupField) {\n        legendOptions.clickable = false;\n      }\n    }\n  }\n}\n\nregisterPlotType('rose', RoseLayer);\n","import { Shape } from '@antv/g';\nimport { registerElementLabels, getElementLabels } from '@antv/g2';\nimport * as _ from '@antv/util';\nimport { LooseMap } from '../../../../interface/types';\nimport { getEndPoint } from '../../../pie/component/label/utils';\nimport { distBetweenPoints } from '../../../../util/math';\nimport { autoAdjustColor } from './utils';\n\ntype Point = LooseMap;\n\nconst PolarElementLabels = getElementLabels('polar');\n\nexport class RoseLabels extends PolarElementLabels {\n  public showLabels(points: LooseMap[], shapes: Shape[]) {\n    super.showLabels(points, shapes);\n    const renderer = this.get('labelsRenderer');\n    const labels = renderer.get('group').get('children');\n    const view = this.get('element').get('view');\n    const { fields, offset, adjustColor, type } = this.get('labelOptions');\n    const { center, startAngle } = view.get('coord');\n    const categoryField = fields[0];\n    const adjustField = fields[2];\n    const scale = view.get('scales')[categoryField];\n    if (!adjustField) {\n      labels.forEach((label) => {\n        const origin = label.get('origin');\n        const shapeId = this.get('element').getShapeId(origin);\n        const shape = this._getShape(shapeId, shapes);\n        const angleValue = scale.scale(origin[categoryField]);\n        const angle = startAngle + Math.PI * 2 * angleValue;\n        const anchor = shape.get('origin');\n        const r = distBetweenPoints(center, anchor) + offset;\n        const labelAnchor = getEndPoint(center, angle, r);\n        label.attr('x', labelAnchor.x);\n        label.attr('y', labelAnchor.y);\n        label.attr('textBaseline', 'middle');\n        this.adjustTextAlign(label, shape);\n        if (adjustColor && type === 'inner') {\n          autoAdjustColor(label, shape);\n        }\n      });\n    }\n    view.get('canvas').draw();\n  }\n\n  public _getShape(shapeId, shapes) {\n    let target;\n    _.each(shapes, (shape) => {\n      const s = shape as Point;\n      const id = s.id;\n      if (id === shapeId) {\n        target = s;\n      }\n    });\n    return target;\n  }\n\n  protected adjustTextAlign(label: Shape, shape: Shape) {\n    const box = label.getBBox();\n    const labelAnchor = { x: box.x + box.width / 2, y: box.y + box.height / 2 };\n    const anchor = shape.get('origin');\n    const { autoRotate } = this.get('labelOptions');\n    label.attr('textAlign', 'center');\n    if (!autoRotate) {\n      if (labelAnchor.x > anchor.x) {\n        label.attr('textAlign', 'left');\n      } else if (labelAnchor.x < anchor.x) {\n        label.attr('textAlign', 'right');\n      }\n    }\n  }\n}\n\nregisterElementLabels('roseLabel', RoseLabels);\n","import { rgb2arr } from '../../../../../util/color';\nimport * as _ from '@antv/util';\nimport { LooseMap } from '../../../../../interface/types';\n\ntype Point = LooseMap;\n\nexport function mappingColor(band, gray) {\n  let reflect;\n  _.each(band, (b) => {\n    const map = b as Point;\n    if (gray >= map.from && gray < map.to) {\n      reflect = map.color;\n    }\n  });\n  return reflect;\n}\n\n/** 自动调整label颜色 */\nexport function autoAdjustColor(label, shape) {\n  const labelRange = label.getBBox();\n  const shapeRange = shape.getBBox();\n  if (labelRange.minY >= shapeRange.minY && labelRange.maxY <= shapeRange.maxY) {\n    const shapeColor = shape.attr('fill');\n    const shapeOpacity = shape.attr('opacity') ? shape.attr('opacity') : 1;\n    const rgb = rgb2arr(shapeColor);\n    const gray = Math.round(rgb[0] * 0.299 + rgb[1] * 0.587 + rgb[2] * 0.114) / shapeOpacity;\n    const colorBand = [\n      { from: 0, to: 85, color: 'white' },\n      { from: 85, to: 170, color: '#F6F6F6' },\n      { from: 170, to: 255, color: 'black' },\n    ];\n    const reflect = mappingColor(colorBand, gray);\n    label.attr('fill', reflect);\n    if (reflect !== 'black') {\n      label.attr('stroke', null);\n      label.attr('lineWidth', 0);\n    } else {\n      label.attr('stroke', 'white');\n      label.attr('lineWidth', 2);\n    }\n  } else if (labelRange.maxY < shapeRange.minY) {\n    // 非 shape 范围内的 label 需要考虑主题背景\n    const theme = this.get('theme');\n    const labelTextColor = _.get(theme, 'label.textStyle.fill', 'black');\n    label.attr('fill', labelTextColor);\n  }\n}\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport BulletLayer, { BulletViewConfig } from './layer';\n\nexport interface BulletConfig extends BulletViewConfig, PlotConfig {}\n\nexport default class Bullet extends BasePlot<BulletConfig> {\n  public static getDefaultOptions: typeof BulletLayer.getDefaultOptions = BulletLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'bullet';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport BaseBulletLayer, { BaseBulletViewConfig, STACK_FIELD } from './base-layer';\n\nexport interface BulletViewConfig extends BaseBulletViewConfig {\n  value: number;\n}\n\nexport interface BulletLayerConfig extends BulletViewConfig, LayerConfig {}\n\nexport default class BulletLayer extends BaseBulletLayer<BulletLayerConfig> {\n  public bullet;\n  public type: string = 'bullet';\n\n  public static getDefaultOptions(): Partial<BulletLayerConfig> {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      value: 0,\n      xField: 'x',\n      yField: 'value',\n    });\n  }\n\n  /** @override */\n  protected drawBullets() {\n    const options = this.options;\n    const container = this.view.get('elements')[0].get('container');\n    const shape = this.view.get('elements')[0].get('shapeContainer');\n    this.drawBullet(container, shape.getBBox(), options.value);\n    this.canvas.draw();\n  }\n\n  /** @override */\n  protected adjustYAxisOptions(options): void {\n    options.yAxis.maxLimit = Math.max(options.max, options.value);\n  }\n\n  /** @override */\n  protected adjustDataOptions(options): void {\n    const data = [];\n    const rangeValues = options.range.map((d) => (d / 100) * (options.max - options.min));\n    if (rangeValues[0] !== 0) {\n      data.push({\n        x: '1',\n        [STACK_FIELD]: `${rangeValues[0]}`,\n        value: rangeValues[0],\n      });\n    }\n    for (let i = 1; i < rangeValues.length; i += 1) {\n      data.push({\n        x: '1',\n        [STACK_FIELD]: `${options.range[i - 1]}-${options.range[i]}`,\n        value: rangeValues[i] - rangeValues[i - 1],\n      });\n    }\n    options.data = data;\n  }\n}\n\nregisterPlotType('bullet', BulletLayer);\n","import { BBox, Group } from '@antv/g';\nimport { LegendOption } from '@antv/g2/lib/plot/interface';\nimport * as _ from '@antv/util';\nimport * as EventParser from './event';\nimport ViewLayer, { ViewConfig } from '../../base/view-layer';\nimport { extractScale } from '../../util/scale';\nimport { getGeom } from '../../geoms/factory';\n\ninterface BulletStyle {\n  /** 进度条大小 */\n  size?: number;\n  /** 进度条颜色 */\n  color?: string;\n}\n\nconst G2_GEOM_MAP = {\n  bullet: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'bullet',\n};\n\nexport const STACK_FIELD = '$$type$$';\n\nexport interface BaseBulletViewConfig extends ViewConfig {\n  goal: number;\n  min?: number;\n  /** 最大值 */\n  max?: number;\n  range?: number[];\n  /** ticks */\n  ticks?: {\n    visible: boolean;\n    values?: string[];\n    style?: {\n      fontSize?: number;\n      lineHeight?: number;\n    };\n  };\n  /** 进度条样式 */\n  bulletStyle?: BulletStyle;\n  /** 进度条背景条样式 */\n  barStyle?: {};\n  /** 进度条背景条宽度 */\n  barSize?: number;\n}\n\nexport default abstract class BaseBulletLayer<C extends BaseBulletViewConfig = BaseBulletViewConfig> extends ViewLayer<\n  C\n> {\n  public bullet;\n  public abstract type: string;\n  public static getDefaultOptions(): Partial<BaseBulletViewConfig> {\n    return _.deepMix({}, super.getDefaultOptions(), {\n      xAxis: {\n        visible: false,\n        line: {\n          visible: false,\n        },\n        tickLine: {\n          visible: false,\n        },\n        label: {\n          visible: false,\n        },\n      },\n      yAxis: {\n        visible: false,\n      },\n      tooltip: {\n        visible: false,\n        trigger: 'item',\n        crosshairs: false,\n      },\n      bulletStyle: {\n        color: '#1890FF',\n      },\n      barSize: 20,\n      barStyle: {\n        fillOpacity: 0.2,\n      },\n      label: {\n        visible: true,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.45)',\n          stroke: '#fff',\n          lineWidth: 1,\n          textBaseline: 'middle',\n          textAlign: 'left',\n        },\n      },\n      range: [0, 100],\n      ticks: {\n        visible: false,\n        values: ['0', '1', '2', '3', '4', '5'],\n        style: {\n          fill: 'rgba(0, 0, 0, 0.25)',\n          textBaseline: 'bottom',\n          textAlign: 'center',\n          fontSize: 12,\n          lineHeight: 16,\n        },\n      },\n      min: 0,\n      stackField: STACK_FIELD,\n    });\n  }\n\n  protected scale() {\n    const props = this.options;\n    const scales = {};\n    /** 配置y-scale */\n    scales[props.yField] = {};\n    if (_.has(props, 'yAxis')) {\n      extractScale(scales[props.yField], props.yAxis);\n    }\n    /** 配置x-scale */\n    scales[props.xField] = {\n      type: 'cat',\n    };\n    if (_.has(props, 'xAxis')) {\n      extractScale(scales[props.xField], props.xAxis);\n    }\n    this.setConfig('scales', scales);\n    super.scale();\n  }\n\n  public getOptions(props: C) {\n    const options = super.getOptions(props);\n    this.adjustOptions(options);\n    return options;\n  }\n\n  public afterRender() {\n    super.afterRender();\n    this.drawBullets();\n  }\n\n  /** @override */\n  protected abstract drawBullets();\n\n  protected drawBullet(container: Group, box: BBox, value: number) {\n    const options = this.options;\n    const bulletColor = options.bulletStyle.color;\n    const bulletHeight = options.bulletStyle.size || options.barSize * 0.6;\n    if (options.ticks && options.ticks.visible) {\n      this.drawBulletTicks(container, box);\n    }\n    /** 添加当前进度 */\n    const rect = container.addShape('rect', {\n      attrs: {\n        width: box.width * (value / options.max),\n        height: bulletHeight,\n        x: box.minX,\n        y: box.minY + (box.height - bulletHeight) / 2,\n        fill: bulletColor,\n      },\n    });\n    rect.name = 'bullet';\n    /** 添加目标值 */\n    const targetRect = container.addShape('rect', {\n      attrs: {\n        width: 2,\n        height: box.height,\n        x: box.minX + box.width * (options.goal / options.max),\n        y: box.minY,\n        fill: bulletColor,\n      },\n    });\n    targetRect.name = 'target';\n    /** 添加目标值 label */\n    if (options.label.visible) {\n      const labelStyle = options.label.style;\n      const label = container.addShape('text', {\n        attrs: {\n          x: rect.getBBox().maxX + 4,\n          y: rect.getBBox().minY + rect.getBBox().height / 2,\n          text: `${value}`,\n          ...labelStyle,\n        },\n      });\n      label.name = 'label';\n    }\n  }\n\n  /** 添加 ticks  */\n  protected drawBulletTicks(container: Group, box: BBox) {\n    const options = this.options;\n    const ticks = options.ticks.values || [];\n    const ticksStyle = options.ticks.style;\n    const tickInterval = box.width / (ticks.length - 1);\n    const tickBottom = _.get(ticksStyle, 'lineHeight', 0) - ticksStyle.fontSize;\n    ticks.forEach((tick, tickIdx) => {\n      const x = box.minX + tickInterval * tickIdx;\n      const tickText = container.addShape('text', {\n        attrs: {\n          x,\n          y: box.minY - tickBottom,\n          text: `${tick}`,\n          ...ticksStyle,\n        },\n      });\n      tickText.name = 'tick';\n      if (tickIdx > 0 && tickIdx !== ticks.length - 1) {\n        container.addShape('path', {\n          attrs: {\n            path: [\n              ['M', x, box.minY],\n              ['L', x, box.maxY],\n            ],\n            stroke: '#fff',\n            lineDash: [2, 2],\n            lineWidth: 1,\n          },\n        });\n      }\n    });\n  }\n\n  protected geometryParser(dim, type) {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected coord() {\n    const coordConfig = {\n      actions: [['transpose']],\n    };\n    this.setConfig('coord', coordConfig);\n  }\n\n  /** 自定义子弹图图例 */\n  protected legend() {\n    const options = this.options;\n    const bulletColor = options.bulletStyle.color;\n    const items = [\n      {\n        value: '实际进度', // 图例项的文本内容\n        marker: {\n          symbol: 'square', // 该图例项 marker 的形状，参见 marker 参数的说明\n          fill: bulletColor, // 该图例项 marker 的填充颜色\n        },\n      },\n      {\n        value: '目标值', // 图例项的文本内容\n        marker: {\n          symbol: 'line', // 该图例项 marker 的形状，参见 marker 参数的说明\n          stroke: bulletColor, // 该图例项 marker 的填充颜色\n          lineWidth: 2, // 该图例项 marker 的填充颜色\n        },\n      },\n    ];\n    if (options.range.length > 2) {\n      const colors = options.color || (_.size(options.range) <= 10 ? this.theme.colors : this.theme.colors_20);\n      for (let i = 1; i < options.range.length; i += 1) {\n        items.push({\n          value: `${options.range[i - 1]}-${options.range[i]}`, // 图例项的文本内容\n          marker: {\n            symbol: 'square', // 该图例项 marker 的形状，参见 marker 参数的说明\n            fill: colors[i - 1], // 该图例项 marker 的填充颜色\n          },\n        });\n      }\n    }\n    const legendOptions = {\n      custom: true,\n      items,\n      ...options.legend,\n      clickable: false,\n    };\n    this.setConfig('legends', legendOptions as LegendOption);\n  }\n\n  protected addGeometry() {\n    const options = this.options;\n    const bullet = getGeom('interval', 'main', {\n      positionFields: [options.xField, options.yField],\n      plot: this,\n    });\n    bullet.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n    this.bullet = bullet;\n    this.setConfig('element', bullet);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  protected adjustOptions(options): void {\n    if (!options.max) {\n      options.max = options.goal;\n    }\n    this.adjustYAxisOptions(options);\n    this.adjustDataOptions(options);\n  }\n\n  /** @override */\n  protected abstract adjustDataOptions(options);\n\n  /** @override */\n  protected abstract adjustYAxisOptions(options);\n}\n","/**\n * @file events of waterfall chart is equal to column chart\n */\nexport { EVENT_MAP, onEvent } from '../column/event';\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyPlot from '../tiny-plot';\nimport ProgressLayer, { ProgressViewConfig } from './layer';\n\nexport interface ProgressConfig extends ProgressViewConfig, PlotConfig {}\n\nexport default class Progress extends BasePlot<ProgressConfig> {\n  public static getDefaultOptions: typeof ProgressLayer.getDefaultOptions = ProgressLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'progress';\n    super.createLayers(layerProps);\n  }\n\n  public update(value: number, style?) {\n    const layer = this.layers[0] as any;\n    layer.update(value, style);\n  }\n}\n","import * as _ from '@antv/util';\nimport { View } from '@antv/g2';\nimport { Group, Shape, Canvas } from '@antv/g';\n\nexport interface MarkerConfig {\n  view: View;\n  canvas: Canvas;\n  progressSize: number;\n  value: number;\n  style?: any;\n}\n\nexport default class Marker<T extends MarkerConfig = MarkerConfig> {\n  public canvas: Canvas;\n  public view: View;\n  public progressSize: number;\n  public value: number;\n  public style: any;\n  protected coord: any; //fixme: 类型定义\n  protected container: Group;\n  protected shape: Shape;\n\n  constructor(cfg) {\n    _.assign(this, cfg);\n    this.init();\n  }\n\n  public destroy() {\n    if (this.shape) {\n      this.shape.destroy();\n    }\n  }\n\n  public update(cfg: MarkerConfig, duration: number, easing: string) {\n    let updateCfg: any = {};\n    _.assign(this, cfg);\n    this.coord = this.view.get('coord');\n    if (cfg.value) {\n      const x = this.coord.convert({ x: 0, y: this.value }).x;\n      const matrix = [1, 0, 0, 0, 1, 0, x, 0, 1];\n      updateCfg.matrix = matrix;\n    }\n    if (cfg.style) {\n      const origin_attr = this.shape.attrs;\n      const attrs = _.deepMix({}, origin_attr, cfg.style);\n      updateCfg = _.deepMix({}, attrs, updateCfg);\n    }\n    this.shape.stopAnimate();\n    this.shape.animate(updateCfg, duration, easing);\n  }\n\n  protected init() {\n    this.coord = this.view.get('coord');\n    this.container = this.view.get('container');\n    const x = this.coord.convert({ x: 0, y: this.value }).x; // progress坐标系是转置坐标系\n    const y0 = this.coord.center.y - this.progressSize / 2 - 2;\n    const y1 = this.coord.center.y + this.progressSize / 2 + 2;\n    const style = _.deepMix({}, { stroke: 'grey', lineWidth: 1 }, this.style);\n    this.shape = this.container.addShape('path', {\n      attrs: {\n        path: [\n          ['M', 0, y0],\n          ['L', 0, y1],\n        ],\n        ...style,\n      },\n      name: 'progress-marker',\n    });\n    this.shape.move(x, 0);\n    this.canvas.draw();\n  }\n}\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onProgressClick: 'interval:click',\n  onProgressDblclick: 'interval:dblclick',\n  onProgressMousemove: 'interval:mousemove',\n  onProgressMousedown: 'interval:mousedown',\n  onProgressMouseup: 'interval:mouseup',\n  onProgressMouseenter: 'progress:mouseenter',\n  onProgressMouseleave: 'progress:mouseleave',\n  onProgressContextmenu: 'interval:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyPlot from '../tiny-plot';\nimport RingProgressLayer, { RingProgressViewConfig } from './layer';\n\nexport interface RingProgressConfig extends RingProgressViewConfig, PlotConfig {}\n\nexport default class RingProgress extends BasePlot<RingProgressConfig> {\n  public static getDefaultOptions: typeof RingProgressLayer.getDefaultOptions = RingProgressLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'ringProgress';\n    super.createLayers(layerProps);\n  }\n\n  public update(value: number) {\n    const layer = this.layers[0] as any;\n    layer.update(value);\n  }\n}\n","import { CoordinateType } from '@antv/g2/lib/plot/interface';\nimport * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport ProgressLayer, { ProgressViewConfig } from '../progress/layer';\nimport { getAngle, setShapeInfo } from './animation/index';\nimport * as EventParser from './event';\n\nconst DEFAULT_COLOR = ['#55A6F3', '#E8EDF3'];\n\nexport type RingProgressViewConfig = ProgressViewConfig;\nexport interface RingProgressLayerConfig extends RingProgressViewConfig, LayerConfig {}\n\nexport default class RingProgressLayer extends ProgressLayer<RingProgressLayerConfig> {\n  public ring: any;\n  public type: string = 'ringProgrsss';\n\n  public processProps() {\n    let props = this.options;\n    props.data = this.processData();\n    const cfg = {\n      padding: [0, 0, 0, 0],\n      xField: 'value',\n      yField: '1',\n      stackField: 'type',\n      barStyle: props.progressStyle,\n      color: this.parseColorProps(props) || DEFAULT_COLOR,\n    } as any;\n    props = _.mix(props, cfg);\n  }\n\n  public afterRender() {\n    super.afterRender();\n    const coord = this.view.get('coord');\n    // 缓存图形\n    const geoms = this.view.get('elements');\n    _.each(geoms, (geom) => {\n      const shapes = geom.getShapes();\n      _.each(shapes, (shape) => {\n        const { startAngle, endAngle } = getAngle(shape, coord);\n        setShapeInfo(shape, startAngle, endAngle);\n      });\n    });\n  }\n\n  protected coord() {\n    const coordConfig = {\n      type: 'theta' as CoordinateType,\n      cfg: {\n        radius: 1.0,\n        innerRadius: this.getThickness(this.options.size),\n      },\n    };\n    this.setConfig('coord', coordConfig);\n  }\n\n  protected annotation() {}\n\n  protected addGeometry() {\n    const props = this.options;\n    this.ring = getGeom('interval', 'main', {\n      positionFields: [props.yField, props.xField],\n      plot: this,\n    });\n    this.ring.adjust = [\n      {\n        type: 'stack',\n      },\n    ];\n    this.setConfig('element', this.ring);\n  }\n\n  protected animation() {\n    this.ring.animate = {\n      appear: {\n        duration: 1000,\n      },\n      update: {\n        easing: 'easeLinear',\n        animation: 'groupProgress',\n        duration: 1000,\n      },\n    };\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private getThickness(value?: number): number {\n    const width = this.width;\n    const height = this.height;\n    const size = Math.min(width, height);\n\n    if (value) {\n      return 1.0 - value / size;\n    }\n\n    if (size >= 60) {\n      return 1.0 - 20 / size;\n    }\n    return 1.0 - 10 / size;\n  }\n}\n\nregisterPlotType('ringProgress', RingProgressLayer);\n","import * as G from '@antv/g';\nimport { Animate } from '@antv/g2';\nimport * as _ from '@antv/util';\n\n// 记录之前的状态\nconst preShapeInfo: any = {};\n\n/** 更新动画 */\nfunction progressUpdate(shape, animateCfg, coord) {\n  const path = shape.attr('path');\n  let clip;\n  const uniform: any = {};\n  const index = shape.get('index');\n  const { startAngle, endAngle } = getAngle(shape, coord);\n  if (preShapeInfo[shape.id]) {\n    const { preStart, preEnd, prePath } = getShapeInfo(shape);\n    const anchor = getAnchor(preStart, startAngle);\n    const direction = getDirection(preStart, preEnd, startAngle, endAngle);\n    if (direction === 'antiClockWise') {\n      shape.attr('path', prePath);\n    }\n    if (anchor === 'start') {\n      clip = createClip(coord, startAngle, preEnd);\n      uniform.endAngle = endAngle;\n    } else {\n      clip = createClip(coord, preStart, endAngle);\n      uniform.startAngle = startAngle;\n    }\n\n    shape.attr('clip', clip);\n    shape.setSilent('animating', true);\n    animateCfg.callback = () => {\n      if (shape && !shape.get('destroyed')) {\n        shape.attr('clip', null);\n        shape.setSilent('cacheShape', null);\n        shape.setSilent('animating', false);\n        clip.remove();\n        if (direction === 'antiClockWise') {\n          shape.attr('path', path);\n        }\n      }\n    };\n    /** 执行动画 */\n    /** 准备动画参数 */\n    let delay = animateCfg.delay;\n    if (_.isFunction(delay)) {\n      delay = animateCfg.delay(index);\n    }\n    let easing = animateCfg.easing;\n    if (_.isFunction(easing)) {\n      easing = animateCfg.easing(index);\n    }\n    /** 动起来 */\n    clip.animate(uniform, animateCfg.duration, easing, animateCfg.callback, delay);\n  }\n\n  setShapeInfo(shape, startAngle, endAngle);\n}\n\nexport function setShapeInfo(shape, start, end) {\n  if (!preShapeInfo[shape.id]) {\n    preShapeInfo[shape.id] = {};\n  }\n  preShapeInfo[shape.id].preStart = start;\n  preShapeInfo[shape.id].preEnd = end;\n  preShapeInfo[shape.id].prePath = shape.attr('path');\n}\n\nfunction getShapeInfo(shape) {\n  return preShapeInfo[shape.id] || null;\n}\n\n/**\n * 获取动画锚点(固定不变的端点)是头部还是尾部\n * 锚点会决定clip的生成和动画\n */\nfunction getAnchor(preStart, startAngle) {\n  if (preStart === startAngle) {\n    return 'start';\n  }\n  return 'end';\n}\n\n/**\n * 获取动画方向是顺时针还是逆时针\n * 动画方向决定在shape在动画开始前是否采用前一帧的path\n */\n\nfunction getDirection(preStart, preEnd, startAngle, endAngle) {\n  if (preStart < startAngle || preEnd > endAngle) {\n    return 'antiClockWise';\n  }\n  return 'clockWise';\n}\n\nfunction createClip(coord, from, to) {\n  const margin = 200;\n  const center = coord.getCenter();\n  const radius = coord.getRadius();\n  const clip = new G.Shapes.Fan({\n    attrs: {\n      x: center.x,\n      y: center.y,\n      rs: 0,\n      re: radius + margin,\n      startAngle: from,\n      endAngle: to,\n    },\n  });\n  return clip;\n}\n\nexport function getAngle(shape, coord) {\n  const points = shape.points || shape.get('origin').points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const coordStartAngle = coord.startAngle;\n  const coordEndAngle = coord.endAngle;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coord.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getPointsBox(points: any[]) {\n  if (_.isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  _.each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nAnimate.registerAnimation('update', 'groupProgress', progressUpdate);\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onRingProgressClick: 'interval:click',\n  onRingProgressDblclick: 'interval:dblclick',\n  onRingProgressMousemove: 'interval:mousemove',\n  onRingProgressMousedown: 'interval:mousedown',\n  onRingProgressMouseup: 'interval:mouseup',\n  onRingProgressMouseenter: 'interval:mouseenter',\n  onRingProgressMouseleave: 'interval:mouseleave',\n  onRingProgressContextmenu: 'interval:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyColumnLayer, { TinyColumnLayerConfig } from './layer';\n\nexport interface TinyColumnConfig extends TinyColumnLayerConfig, PlotConfig {}\n\nexport default class TinyColumn extends BasePlot<TinyColumnConfig> {\n  public static getDefaultOptions: typeof TinyColumnLayer.getDefaultOptions = TinyColumnLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'tinyColumn';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer, { TinyLayerConfig, TinyViewConfig } from '../tiny-layer';\nimport * as EventParser from './event';\n\nconst WIDTH_RATIO = 0.6;\n\nconst G2_GEOM_MAP = {\n  column: 'interval',\n};\n\nconst PLOT_GEOM_MAP = {\n  interval: 'column',\n};\n\nexport type TinyColumnViewConfig = TinyViewConfig;\nexport interface TinyColumnLayerConfig extends TinyColumnViewConfig, LayerConfig {}\n\nexport default class TinyColumnLayer extends TinyLayer<TinyColumnLayerConfig> {\n  public line: any;\n  public area: any;\n  public type: string = 'tinyColumn';\n\n  public init() {\n    this.processProps();\n    super.init();\n  }\n\n  protected geometryParser(dim: string, type: string): string {\n    if (dim === 'g2') {\n      return G2_GEOM_MAP[type];\n    }\n    return PLOT_GEOM_MAP[type];\n  }\n\n  protected scale() {\n    const { options } = this;\n    const scales = {};\n    /** 配置x-scale */\n    scales[options.xField] = { type: 'cat' };\n    this.setConfig('scales', scales);\n  }\n\n  protected addGeometry() {\n    const props = this.options;\n    const column = getGeom('interval', 'main', {\n      positionFields: [props.xField, props.yField],\n      plot: this,\n    });\n    this.setConfig('element', column);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n\n  private processProps() {\n    let props = this.options;\n    const cfg = {\n      padding: [0, 0, 0, 0],\n      columnSize: this.getSize(),\n    } as any;\n    props = _.mix(props, cfg);\n  }\n\n  private getSize() {\n    const props = this.options;\n    const columnNumber = this.getColumnNum(props.data, props.xField);\n    const width = this.width;\n    return (width / columnNumber) * WIDTH_RATIO;\n  }\n\n  private getColumnNum(data, field) {\n    const values = [];\n    _.each(data, (d) => {\n      const v = d[field];\n      if (values.indexOf(v) < 0) {\n        values.push(v);\n      }\n    });\n    return values.length;\n  }\n}\n\nregisterPlotType('tinyColumn', TinyColumnLayer);\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onColumnClick: 'interval:click',\n  onColumnDblclick: 'interval:dblclick',\n  onColumnMousemove: 'interval:mousemove',\n  onColumnMousedown: 'interval:mousedown',\n  onColumnMouseup: 'interval:mouseup',\n  onColumnMouseenter: 'interval:mouseenter',\n  onColumnMouseleave: 'interval:mouseleave',\n  onColumnContextmenu: 'interval:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyAreaLayer, { TinyAreaViewConfig } from './layer';\n\nexport interface TinyAreaConfig extends TinyAreaViewConfig, PlotConfig {}\n\nexport default class TinyArea extends BasePlot<TinyAreaConfig> {\n  public static getDefaultOptions: typeof TinyAreaLayer.getDefaultOptions = TinyAreaLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'tinyArea';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer, { TinyViewConfig } from '../tiny-layer';\nimport * as EventParser from './event';\n\nconst GEOM_MAP = {\n  area: 'area',\n  line: 'line',\n};\n\nexport type TinyAreaViewConfig = TinyViewConfig;\nexport interface TinyAreaLayerConfig extends TinyAreaViewConfig, LayerConfig {}\n\nexport default class TinyAreaLayer extends TinyLayer<TinyAreaLayerConfig> {\n  public line: any;\n  public area: any;\n  public type: string = 'tinyArea';\n\n  protected geometryParser(dim: string, type: string): string {\n    return GEOM_MAP[type];\n  }\n\n  protected addGeometry() {\n    this.area = getGeom('area', 'mini', {\n      plot: this,\n    });\n    this.setConfig('element', this.area);\n\n    this.line = getGeom('line', 'mini', {\n      plot: this,\n    });\n    this.setConfig('element', this.line);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('tinyArea', TinyAreaLayer);\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onAreaClick: 'area:click',\n  onAreaDblclick: 'area:dblclick',\n  onAreaMousemove: 'area:mousemove',\n  onAreaMousedown: 'area:mousedown',\n  onAreaMouseup: 'area:mouseup',\n  onAreaMouseenter: 'area:mouseenter',\n  onAreaMouseleave: 'area:mouseleave',\n  onAreaContextmenu: 'area:contextmenu',\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineContextmenu: 'line:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import * as _ from '@antv/util';\nimport BasePlot, { PlotConfig } from '../../base/plot';\nimport TinyLineLayer, { TinyLineViewConfig } from './layer';\n\nexport interface TinyLineConfig extends TinyLineViewConfig, PlotConfig {}\n\nexport default class TinyLine extends BasePlot<TinyLineConfig> {\n  public static getDefaultOptions: typeof TinyLineLayer.getDefaultOptions = TinyLineLayer.getDefaultOptions;\n\n  public createLayers(props) {\n    const layerProps = _.deepMix({}, props);\n    layerProps.type = 'tinyLine';\n    super.createLayers(layerProps);\n  }\n}\n","import * as _ from '@antv/util';\nimport { registerPlotType } from '../../base/global';\nimport { LayerConfig } from '../../base/layer';\nimport { getGeom } from '../../geoms/factory';\nimport TinyLayer, { TinyViewConfig } from '../tiny-layer';\nimport * as EventParser from './event';\n\nconst GEOM_MAP = {\n  line: 'line',\n};\n\nexport type TinyLineViewConfig = TinyViewConfig;\nexport interface TinyLineLayerConfig extends TinyLineViewConfig, LayerConfig {}\n\nexport default class TinyLineLayer extends TinyLayer<TinyLineLayerConfig> {\n  public line: any;\n  public type: string = 'tinyLine';\n\n  protected geometryParser(dim: string, type: string): string {\n    return GEOM_MAP[type];\n  }\n\n  protected addGeometry() {\n    this.line = getGeom('line', 'mini', {\n      plot: this,\n    });\n    this.setConfig('element', this.line);\n  }\n\n  protected parseEvents(eventParser) {\n    super.parseEvents(EventParser);\n  }\n}\n\nregisterPlotType('tinyLine', TinyLineLayer);\n","import * as _ from '@antv/util';\nimport { EVENT_MAP, IEventmap, onEvent } from '../../util/event';\n\nconst SHAPE_EVENT_MAP: IEventmap = {\n  onLineClick: 'line:click',\n  onLineDblclick: 'line:dblclick',\n  onLineMousemove: 'line:mousemove',\n  onLineMousedown: 'line:mousedown',\n  onLineMouseup: 'line:mouseup',\n  onLineMouseenter: 'line:mouseenter',\n  onLineMouseleave: 'line:mouseleave',\n  onLineContextmenu: 'line:contextmenu',\n};\n\n_.assign(EVENT_MAP, SHAPE_EVENT_MAP);\n\nexport { EVENT_MAP, onEvent };\n","import ComboPlot, { ComboPlotConfig } from './base';\nimport { Group } from '@antv/g';\nimport * as _ from '@antv/util';\nimport { getPlotType } from '../base/global';\nimport Layer from '../base/layer';\nimport '../plots/index';\nimport * as ComboUtil from './util';\nimport { getOverlappingPadding } from './util/padding';\nimport { getGlobalTheme } from '../theme/global';\nimport { ViewLayer } from '..';\n\nexport type OverlappedComboPlotConfig = ComboPlotConfig;\n\nexport default class OverlappedComboPlot<\n  T extends OverlappedComboPlotConfig = OverlappedComboPlotConfig\n> extends ComboPlot<T> {\n  protected isOverlapped: boolean;\n  protected topLayer: Layer;\n  protected backLayer: Layer;\n  protected legendInfo: any[];\n  protected axisInfo: any[];\n  protected legendContainer: Group;\n  protected paddingComponents: any[];\n  protected globalOptions: any;\n  protected globalComponents: any[];\n  protected singleGeomCount: number;\n\n  public getDefaultOptions() {\n    return {\n      xAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: false,\n        grid: {\n          visible: false,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n      },\n      yAxis: {\n        visible: true,\n        autoHideLabel: false,\n        autoRotateLabel: false,\n        autoRotateTitle: true,\n        grid: {\n          visible: true,\n        },\n        line: {\n          visible: true,\n        },\n        tickLine: {\n          visible: true,\n        },\n        label: {\n          visible: true,\n        },\n        title: {\n          visible: false,\n          offset: 12,\n        },\n        colorMapping: true,\n        synchroTick: true,\n      },\n      label: {\n        visible: false,\n      },\n      tooltip: {\n        visible: true,\n        sort: true,\n      },\n      legend: {\n        visible: true,\n        position: 'top-left',\n      },\n    };\n  }\n\n  constructor(container: HTMLElement, props: T) {\n    super(container, props);\n    this.options = props;\n  }\n\n  protected createComboLayers() {\n    super.createComboLayers();\n    this.legendInfo = [];\n    this.axisInfo = [];\n    this.paddingComponents = [];\n    this.globalComponents = [];\n    this.singleGeomCount = 0;\n\n    this.backLayer = new Layer({\n      canvas: this.getCanvas(),\n      width: this.width,\n      height: this.height,\n    });\n\n    if (this.options.layers.length > 0) {\n      /** create layers */\n      _.each(this.options.layers, (layerCfg) => {\n        const overlapConfig = this.getOverlappedConfig(layerCfg);\n        const viewLayerCtr = getPlotType(layerCfg.type);\n        const viewLayerProps: T = _.deepMix(\n          {},\n          layerCfg,\n          {\n            canvas: this.canvas,\n            x: 0,\n            y: 0,\n            width: this.width,\n            height: this.height,\n          },\n          overlapConfig\n        );\n        const viewLayer = new viewLayerCtr(viewLayerProps);\n        viewLayer.hide();\n        viewLayer.render();\n        this.axisInfo.push(...ComboUtil.getAxisData(viewLayer, viewLayerProps, this.globalOptions));\n        this.legendInfo.push(...ComboUtil.getLegendData(viewLayer, viewLayerProps));\n        this.addLayer(viewLayer);\n      });\n    }\n\n    /** add top layer for legend & tooltip */\n    this.topLayer = new Layer({\n      canvas: this.getCanvas(),\n      width: this.width,\n      height: this.height,\n    });\n  }\n\n  /** 图层叠加时的layer config */\n  protected getOverlappedConfig(layerCfg) {\n    const colorCfg = ComboUtil.getColorConfig(layerCfg.type, layerCfg, this.singleGeomCount);\n    if (colorCfg && colorCfg.single) {\n      this.singleGeomCount++;\n    }\n    return _.deepMix(\n      {},\n      {\n        xAxis: {\n          visible: false,\n        },\n        yAxis: {\n          visible: false,\n        },\n        legend: {\n          visible: false,\n        },\n        tooltip: {\n          visible: false,\n        },\n        padding: [0, 0, 0, 0],\n        color: colorCfg ? colorCfg.color : null,\n      }\n    );\n  }\n\n  protected overlappingLegend() {\n    const legendItems = ComboUtil.mergeLegendData(this.legendInfo);\n    this.legendContainer = this.topLayer.container.addGroup();\n    return ComboUtil.createLegend(\n      legendItems,\n      this.width,\n      this.height,\n      this.getCanvas(),\n      this.globalOptions.legend.position\n    );\n  }\n\n  public render() {\n    this.doDestroy();\n    this.createComboLayers();\n    const { bleeding } = getGlobalTheme();\n    if (this.globalOptions.legend.visible) {\n      const legend = this.overlappingLegend();\n      this.globalComponents.push({ type: 'legend', component: legend.component });\n      this.paddingComponents.push(legend);\n    }\n    // 先获取legend的padding\n    const legendPadding = getOverlappingPadding(this.layers[0], this.paddingComponents);\n    const axisComponents = ComboUtil.axesLayout(\n      this.globalOptions,\n      this.axisInfo,\n      legendPadding,\n      this.layers[0],\n      this.width,\n      this.height,\n      this.getCanvas()\n    );\n    this.paddingComponents.push(...axisComponents);\n    _.each(axisComponents, (axis) => {\n      this.globalComponents.push({ type: 'axis', component: axis.component });\n    });\n    // 计算padding\n    const padding = getOverlappingPadding(this.layers[0], this.paddingComponents);\n    if (!this.globalOptions.xAxis.visible) {\n      padding[2] += bleeding[2];\n    }\n    // 更新layers\n    _.each(this.layers, (layer) => {\n      layer.updateConfig({\n        padding,\n      });\n      layer.show();\n      layer.render();\n      layer.view\n        .get('backgroundGroup')\n        .get('backShape')\n        .remove();\n      layer.view\n        .get('panelGroup')\n        .get('backShape')\n        .remove();\n    });\n\n    //补画坐标轴grid\n    if (this.globalOptions.yAxis.grid.visible) {\n      const leftAxis = axisComponents[0].component;\n      const containerLayer = this.layers[0] as ViewLayer;\n      const coord = containerLayer.view.get('coord');\n      const container = containerLayer.view.get('backgroundGroup');\n      ComboUtil.drawYGrid(leftAxis, coord, container, this.globalOptions);\n    }\n\n    if (this.globalOptions.tooltip.visible) {\n      const tooltip = ComboUtil.showTooltip(this.canvas, this.layers, this.globalOptions.tooltip);\n      this.globalComponents.push({ type: 'tooltip', component: tooltip });\n    }\n  }\n\n  protected doDestroy() {\n    this.clearComponents();\n    this.eachLayer((layer) => {\n      layer.destroy();\n    });\n    this.layers = [];\n  }\n\n  protected clearComponents() {\n    _.each(this.globalComponents, (c) => {\n      if (c.type === 'legend' || c.type === 'tooltip') {\n        c.component.destroy();\n      }\n      if (c.type === 'axis') {\n        c.component.clear();\n      }\n    });\n    this.paddingComponents = [];\n    this.globalComponents = [];\n  }\n}\n","import Plot, { PlotConfig } from '../base/plot';\nimport { deepMix } from '@antv/util';\nimport { ViewLayerConfig } from '../base/view-layer';\n\ninterface ComboPlotLayerConfig extends ViewLayerConfig {\n  type: string;\n}\n\nexport interface ComboPlotConfig extends PlotConfig {\n  layers: ComboPlotLayerConfig[];\n}\n\nexport default class ComboPlot<T extends ComboPlotConfig = ComboPlotConfig> extends Plot<T> {\n  public options: any;\n  protected globalOptions: any;\n\n  public getDefaultOptions() {\n    return {};\n  }\n\n  protected getGlobalOptions(props) {\n    return {\n      xAxis: props.xAxis,\n      yAxis: props.yAxis,\n      theme: props.theme,\n      legend: props.legend,\n    };\n  }\n\n  protected createComboLayers() {\n    this.globalOptions = deepMix({}, this.getDefaultOptions(), this.getGlobalOptions(this.options));\n  }\n}\n","export { getColorConfig } from './adjustColorConfig';\nexport { getLegendData, mergeLegendData, createLegend } from './globalLegend';\nexport { getAxisData, mergeAxisScale, createAxis, axesLayout, drawYGrid } from './globalAxis';\nexport { showTooltip } from './globalTooltip';\n","import { Legend } from '@antv/component';\nimport { BBox } from '@antv/g';\nimport * as _ from '@antv/util';\nimport ViewLayer from '../../base/view-layer';\nimport { getGlobalTheme } from '../../theme/global';\n\nexport function getLegendData(viewLayer: ViewLayer, props) {\n  const legendItems = [];\n  const view = viewLayer.view;\n  const geometry = view.get('elements')[0];\n  const colorAttr = geometry.getAttr('color'); // color和shape决定cat legend的生成，暂时先不考虑shape\n  const markerCfg: any = {\n    isInCircle: geometry.isInCircle(),\n    color: colorAttr.values[0],\n  };\n  const marker = geometry.get('shapeFactory').getMarkerStyle(geometry.get('type'), markerCfg);\n  /** 处理default不生成图例的场景 */\n  if (colorAttr.scales.length === 0) {\n    legendItems.push({\n      value: props.name,\n      checked: true,\n      marker,\n      isSingle: true,\n      layer: viewLayer,\n    });\n  } else {\n    /** 正常生成图例 */\n    const values = colorAttr.scales[0].values;\n    _.each(values, (v, index) => {\n      const markerColor = colorAttr.values[index];\n      const markerValue = v;\n      const cfg: any = {\n        isInCircle: geometry.isInCircle(),\n        color: markerColor,\n      };\n      const markerItem = geometry.get('shapeFactory').getMarkerStyle(geometry.get('type'), cfg);\n      legendItems.push({\n        field: colorAttr.scales[0].field,\n        value: markerValue,\n        checked: true,\n        marker: markerItem,\n        isSingle: false,\n        layer: viewLayer,\n      });\n    });\n  }\n\n  return legendItems;\n}\n\nexport function mergeLegendData(items) {\n  return items;\n}\n\nexport function createLegend(items, width, height, canvas, position) {\n  const legendTheme = getGlobalTheme().legend;\n  const positions = position.split('-');\n  let layout = 'horizontal';\n  if (positions[0] === 'left' || positions[0] === 'right') {\n    layout = 'vertical';\n  }\n  const legendCfg = {\n    type: 'category-legend',\n    items,\n    maxSize: width,\n    container: canvas.addGroup(),\n    layout: layout,\n    textStyle: {\n      fill: '#8C8C8C',\n      fontSize: 12,\n      textAlign: 'start',\n      textBaseline: 'middle',\n      lineHeight: 20,\n    }, // 图例项目文本样式\n    titleDistance: 10, // 标题和图例项的间距\n    autoWrap: true, // 图例项是否自动换行\n    itemMarginBottom: 4, // 图例项之间的底部间距\n    backgroundPadding: 0, // 背景内边距\n    maxLength: width, // 图例的最大高度或者宽度\n  };\n  const legend = new Legend.CanvasCategory(legendCfg as any);\n  legendLayout(width, height, legend, position);\n  addLegendInteraction(legend);\n  /** return legend as a padding component */\n  const bbox = legend.get('itemsGroup').getBBox();\n  let paddingBbox;\n  // merge legend inner padding\n  const { innerPadding } = legendTheme;\n\n  if (positions[0] === 'left') {\n    paddingBbox = new BBox(legend.get('x') + innerPadding[3], legend.get('y'), bbox.width, bbox.height);\n  } else if (positions[0] === 'right') {\n    paddingBbox = new BBox(legend.get('x') - innerPadding[1], legend.get('y'), bbox.width, bbox.height);\n  } else if (positions[0] === 'top') {\n    paddingBbox = new BBox(legend.get('x'), legend.get('y') + innerPadding[0], bbox.width, bbox.height);\n  } else if (positions[0] === 'bottom') {\n    paddingBbox = new BBox(legend.get('x'), legend.get('y') - innerPadding[2], bbox.width, bbox.height);\n  }\n  return {\n    position: positions[0],\n    component: legend,\n    getBBox: () => {\n      return paddingBbox;\n    },\n  };\n}\n\nfunction addLegendInteraction(legend) {\n  const filteredValue = [];\n  legend.on('itemclick', (ev) => {\n    const { item, checked } = ev;\n    // 如果是单图例模式\n    if (item.isSingle) {\n      if (!checked) {\n        item.layer.hide();\n      } else {\n        item.layer.show();\n      }\n    } else {\n      // 正常的图例筛选数据逻辑\n      const view = item.layer.view;\n      if (!checked) {\n        filteredValue.push(item.value);\n        view.filter(item.field, (f) => {\n          return !_.contains(filteredValue, f);\n        });\n        view.repaint();\n        const filteredData = view.get('filteredData');\n        if (filteredData.length === 0) {\n          item.layer.hide();\n        } else if (!item.layer.visibility) {\n          item.layer.show();\n        }\n      } else {\n        _.pull(filteredValue, item.value);\n        view.filter(item.value, (f) => {\n          return !_.contains(filteredValue, f);\n        });\n        view.repaint();\n        if (!item.layer.visibility) {\n          item.layer.show();\n        }\n      }\n    }\n  });\n}\n\nfunction legendLayout(width, height, legend, position) {\n  console.log(position);\n  const { bleeding } = getGlobalTheme();\n  if (_.isArray(bleeding)) {\n    _.each(bleeding, (it, index) => {\n      if (typeof bleeding[index] === 'function') {\n        bleeding[index] = bleeding[index]({});\n      }\n    });\n  }\n  const bbox = legend.get('itemsGroup').getBBox();\n  let x = 0;\n  let y = 0;\n  const positions = position.split('-');\n  // 先确定x\n  if (positions[0] === 'left') {\n    x = bleeding[3];\n  } else if (positions[0] === 'right') {\n    x = width - bleeding[1] - bbox.width;\n  } else if (positions[1] === 'center') {\n    x = (width - bbox.width) / 2;\n  } else if (positions[1] === 'left') {\n    x = bleeding[3];\n  } else if (positions[1] === 'right') {\n    x = width - bleeding[1] - bbox.width;\n  }\n  // 再确定y\n  if (positions[0] === 'bottom') {\n    y = height - bleeding[2] - bbox.height;\n  } else if (positions[0] === 'top') {\n    y = bleeding[0];\n  } else if (positions[1] === 'center') {\n    y = (height - bbox.height) / 2;\n  } else if (positions[1] === 'top') {\n    y = bleeding[0];\n  } else if (positions[1] === 'bottom') {\n    y = height - bleeding[2] - bbox.height;\n  }\n  legend.moveTo(x, y);\n  legend.draw();\n}\n","import { Axis } from '@antv/component';\nimport { BBox } from '@antv/g';\nimport { getScale } from '@antv/scale';\nimport * as _ from '@antv/util';\nimport ViewLayer from '../../base/view-layer';\nimport { convertToG2Theme, getGlobalTheme } from '../../theme';\nimport { isSingleGraph } from './adjustColorConfig';\nimport { getOverlappingPadding } from './padding';\nimport { getComponent } from '../../components/factory';\n\nconst AXIS_GAP = 4;\n\nexport function getAxisData(viewLayer: ViewLayer, props, globalOptions) {\n  const { view } = viewLayer;\n  const scales = view.get('scales');\n  const scalesInfo = [];\n  const singleGraph = isSingleGraph(viewLayer.type, props);\n  // get xscale info\n  if (props.xField) {\n    const xscale = scales[props.xField];\n    const scaleInfo = {\n      dim: 'x',\n      scale: xscale,\n      originalData: props.data,\n    };\n    scalesInfo.push(scaleInfo);\n  }\n  // get yscale info\n  if (props.yField) {\n    const yscale = scales[props.yField];\n    const scaleInfo = {\n      dim: 'y',\n      scale: yscale,\n      originalData: props.data,\n      color: singleGraph && globalOptions.yAxis.colorMapping ? props.color : null,\n      layer: viewLayer,\n    };\n    scalesInfo.push(scaleInfo);\n  }\n  return scalesInfo;\n}\n\nexport function mergeAxisScale(axisInfo, dim, axisOptions?) {\n  if (dim === 'x') {\n    const xAxisInfo = axisInfo.filter((axis) => {\n      if (axis.dim === 'x') {\n        return axis;\n      }\n    });\n    return mergeXAxis(xAxisInfo);\n  } else {\n    const yAxisInfo = axisInfo.filter((axis) => {\n      if (axis.dim === 'y') {\n        return axis;\n      }\n    });\n    return mergeYAxis(yAxisInfo, axisOptions.synchroTick);\n  }\n}\n\nfunction mergeXAxis(axisInfo) {\n  // 判断是否能够合并度量\n  const isSameScale = sameScaleTest(axisInfo);\n  if (!isSameScale) {\n    return [axisInfo[0].scale];\n  }\n  if (axisInfo[0].scale.type === 'cat') {\n    return getCatScale(axisInfo);\n  } else {\n    return getLinearScale(axisInfo, 5);\n  }\n}\n\nfunction mergeYAxis(axisInfo, synchroTick: boolean) {\n  const isSameScale = sameScaleTest(axisInfo);\n  // 默认全部采用左轴的tickCount，具体标度对齐逻辑留待以后优化\n  const tickCount = axisInfo[0].scale.tickCount;\n  const LinearScale = getScale('linear');\n  if (!isSameScale) {\n    return axisInfo.map((axis) => {\n      const scale = axis.scale;\n      const values = calValues(scale, tickCount);\n      if (synchroTick) {\n        const linearScale: any = new LinearScale({\n          min: scale.min,\n          max: scale.max,\n          ticks: values,\n          tickCount,\n          color: axis.color,\n        } as any);\n        linearScale.layer = axis.layer;\n        return linearScale;\n      } else {\n        scale.layer = axis.layer;\n        scale.color = axis.color;\n        return scale;\n      }\n    });\n  } else {\n    return getLinearScale(axisInfo, tickCount);\n  }\n}\n\nfunction getLinearScale(axisInfo, tickCount) {\n  let scaleMin = axisInfo[0].scale.min;\n  let scaleMax = axisInfo[0].scale.max;\n  for (const axis of axisInfo) {\n    scaleMin = Math.min(scaleMin, axis.scale.min);\n    scaleMax = Math.max(scaleMax, axis.scale.max);\n  }\n  const LinearScale = getScale('linear');\n  const scale = new LinearScale({\n    min: scaleMin,\n    max: scaleMax,\n    tickCount,\n  });\n\n  return scale;\n}\n\nfunction getCatScale(axisInfo) {\n  const scaleValues = [];\n  for (const axis of axisInfo) {\n    scaleValues.push(...axis.scale.values);\n  }\n  // todo: time cat 重新排序\n  const CatScale = getScale('cat');\n  const scale = new CatScale({\n    values: _.uniq(scaleValues),\n  });\n\n  return scale;\n}\n\nfunction sameScaleTest(axisInfo) {\n  const sampleDataSource = axisInfo[0].originalData;\n  const sampleField = axisInfo[0].scale.field;\n  for (const axis of axisInfo) {\n    const data = axis.originalData;\n    const field = axis.scale.field;\n    // 判断数据源和scale字段\n    if (data !== sampleDataSource || field !== sampleField) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport function createAxis(scale, dim, canvas, cfg, globalOptions) {\n  const theme = getTheme(globalOptions);\n  const isVertical = dim === 'x' ? false : true;\n  let group;\n  if (scale.layer) {\n    group = scale.layer.container.addGroup();\n  } else {\n    group = canvas.addGroup();\n  }\n  const ticks = getAxisTicks(scale, dim);\n  const parser = getComponent('axis', {\n    dim,\n    plot: {\n      options: globalOptions,\n      getPlotTheme: () => {\n        return getGlobalTheme();\n      },\n    } as any,\n  });\n  let defaultStyle = theme.axis && theme.axis[dim] ? toAxisStyle(theme.axis[dim]) : {};\n  if (scale.color) {\n    defaultStyle = adjustColorStyle(scale.color, parser);\n  }\n\n  const axisConfig = _.deepMix(\n    {},\n    parser,\n    {\n      type: 'line',\n      group,\n      canvas,\n      start: cfg.start,\n      end: cfg.end,\n      isVertical,\n      factor: cfg.factor,\n      ticks,\n      label(text) {\n        return {\n          text,\n          textStyle: parser.label.textStyle,\n        };\n      },\n    },\n    defaultStyle\n  );\n  const axis: any = new Axis.Line(axisConfig as any);\n  axis.layer = scale.layer;\n  axis.render();\n  return axis;\n}\n\nfunction getAxisTicks(scale, dim) {\n  const tickValues = [];\n  const { ticks, range } = scale;\n  const step = (range[1] - range[0]) / (ticks.length - 1);\n  _.each(ticks, (tick, index) => {\n    const value = dim === 'y' ? 1.0 - (range[0] + step * index) : range[0] + step * index;\n    tickValues.push({ text: tick, value });\n  });\n\n  return tickValues;\n}\n\nfunction calValues(scale, tickCount) {\n  const values = [];\n  const { min, max } = scale;\n  const step = (max - min) / tickCount;\n  for (let i = 0; i < tickCount; i++) {\n    const value = min + step * i;\n    values.push(value);\n  }\n  return values;\n}\n\nexport function axesLayout(globalOptions, axisInfo, padding, layer, width, height, canvas) {\n  const { bleeding } = getGlobalTheme();\n  // merge padding and bleeding by zero value\n  _.each(padding, (p, index) => {\n    if (p === 0) {\n      padding[index] = bleeding[index];\n    }\n  });\n  const paddingComponents = [];\n  // 创建axis\n  const axes = [];\n  let xAxisScale;\n  let xAxis;\n  let xAxisHeight = 0;\n  if (globalOptions.xAxis.visible) {\n    xAxisScale = mergeAxisScale(axisInfo, 'x');\n    xAxis = createAxis(\n      xAxisScale[0],\n      'x',\n      canvas,\n      {\n        start: { x: 0, y: 0 },\n        end: { x: width, y: 0 },\n        factor: 1,\n      },\n      globalOptions\n    );\n    xAxisHeight += xAxis.get('group').getBBox().height;\n  }\n\n  if (globalOptions.yAxis.visible) {\n    const yAxisScale = mergeAxisScale(axisInfo, 'y', globalOptions.yAxis);\n    _.each(yAxisScale, (scale, index) => {\n      const factor = index === 0 ? -1 : 1;\n      const axis = createAxis(\n        scale,\n        'y',\n        canvas,\n        {\n          start: { x: 0, y: padding[0] },\n          end: { x: 0, y: height - xAxisHeight - padding[2] },\n          factor,\n        },\n        globalOptions\n      );\n      if (index === 0) {\n        axis.get('group').translate(padding[3], 0);\n      }\n      axes.push(axis);\n    });\n\n    axisLayout(axes, paddingComponents, width, padding);\n  }\n\n  if (globalOptions.xAxis.visible) {\n    const axisPadding = getOverlappingPadding(layer, paddingComponents);\n    const ypos = axes.length === 0 ? height - xAxisHeight - padding[2] : axes[0].get('group').getBBox().maxY;\n    xAxis.destroy();\n    xAxis = createAxis(\n      xAxisScale[0],\n      'x',\n      canvas,\n      {\n        start: { x: axisPadding[3], y: ypos },\n        end: { x: width - axisPadding[1], y: ypos },\n        factor: 1,\n      },\n      globalOptions\n    );\n    paddingComponents.push({\n      position: 'bottom',\n      component: xAxis,\n      getBBox: () => {\n        const container = xAxis.get('group');\n        const bbox = container.getBBox();\n        return new BBox(bbox.minX, bbox.minY + ypos, bbox.width, bbox.height);\n      },\n    });\n  }\n\n  return paddingComponents;\n}\n\nfunction axisLayout(axes, paddingComponents, width, padding) {\n  // 先处理最左边的\n  const leftAxis = axes[0];\n  const leftContainer = leftAxis.get('group');\n  const leftBbox = leftContainer.getBBox();\n  leftContainer.translate(leftBbox.width, 0);\n  paddingComponents.push({\n    position: 'left',\n    component: leftAxis,\n    getBBox: () => {\n      const matrix = leftContainer.attr('matrix');\n      return new BBox(leftBbox.minX + matrix[6], leftBbox.minY, leftBbox.width, leftBbox.height);\n    },\n  });\n  let temp_width = padding[1];\n  // 处理右边的\n  for (let i = axes.length - 1; i > 0; i--) {\n    const axis = axes[i];\n    const container = axis.get('group');\n    const bbox = container.getBBox();\n    container.translate(width - temp_width - bbox.width, 0);\n    temp_width += bbox.width + AXIS_GAP;\n    const component = {\n      position: 'right',\n      component: axis,\n      getBBox: () => {\n        const matrix = container.attr('matrix');\n        return new BBox(bbox.minX + matrix[6], bbox.minX, bbox.width, bbox.height);\n      },\n    };\n    paddingComponents.push(component);\n  }\n}\n\nfunction adjustColorStyle(color, options) {\n  return {\n    line: options.line\n      ? {\n          stroke: color,\n          lineWidth: 1,\n        }\n      : null,\n    tickLine: options.tickLine\n      ? {\n          stroke: color,\n          lineWidth: 1,\n          length: 5,\n        }\n      : null,\n    label: options.label\n      ? {\n          textStyle: {\n            fill: color,\n          },\n        }\n      : null,\n  };\n}\n\nexport function drawYGrid(axis, coord, container, globalOptions) {\n  const theme = getTheme(globalOptions);\n  const gridCfg = globalOptions.yAxis.grid;\n  const defaultStyle = theme.axis.y.grid.style;\n  const style = _.deepMix({}, defaultStyle, gridCfg.style);\n  const gridGroup = container.addGroup();\n  const labelItems = axis.get('labelItems');\n  _.each(labelItems, (item, index) => {\n    if (index > 0) {\n      gridGroup.addShape('path', {\n        attrs: {\n          path: [\n            ['M', coord.start.x, item.point.y],\n            ['L', coord.end.x, item.point.y],\n          ],\n          ...style,\n        },\n      });\n    }\n  });\n}\n\nfunction toAxisStyle(theme) {\n  const style = {};\n  _.each(theme, (t, key) => {\n    if (_.hasKey(t, 'style')) {\n      style[key] = t.style;\n    }\n  });\n  return style;\n}\n\nfunction getTheme(options) {\n  let theme = getGlobalTheme();\n  if (options.theme) {\n    if (_.isString(options.theme)) {\n      theme = getGlobalTheme(options.theme);\n    } else if (_.isObject(options.theme)) {\n      theme = options.theme;\n    }\n  }\n  return theme;\n}\n","import { each, contains, isArray, isObject, indexOf, isNil, has, keys } from '@antv/util';\nimport { Tooltip } from '@antv/component';\nimport { getShapeFactory } from '@antv/g2';\nimport { getGlobalTheme } from '../../theme/global';\n\nconst TYPE_SHOW_MARKERS = ['line', 'area', 'path', 'areaStack'];\n\nexport function showTooltip(canvas, layers, tooltipCfg) {\n  const tooltip = renderTooltip(layers[0], canvas);\n\n  canvas.on('mousemove', (ev) => {\n    const tooltipItems = [];\n    const point = { x: ev.x / 2, y: ev.y / 2 };\n    each(layers, (layer) => {\n      const { view } = layer;\n      if (view && layer.visibility) {\n        const coord = view.get('coord');\n        const geoms = view.get('elements');\n        each(geoms, (geom) => {\n          const type = geom.get('type');\n          const dataArray = geom.get('dataArray');\n          if (contains(['area', 'line', 'path', 'interval'], type)) {\n            const items = getTooltipItems(point, geom, type, dataArray, coord);\n            tooltipItems.push(...items);\n          } else {\n            const shapeContainer = geom.get('shapeContainer');\n            const shapes = getShapeByX(shapeContainer, point.x);\n            each(shapes, (shape) => {\n              if (shape.get('visible') && shape.get('origin')) {\n                const items = geom.getTooltipItems(shape.get('origin'), null);\n                tooltipItems.push(...items);\n              }\n            });\n          }\n        });\n      }\n    });\n    adjustItems(tooltipItems, ev.target, tooltipCfg);\n    if (tooltipItems.length > 0) {\n      tooltip.setContent('', getUniqueItems(tooltipItems));\n      tooltip.setPosition(point.x, point.y, ev.target);\n      tooltip.show();\n    } else if (tooltip.get('visible')) {\n      tooltip.hide();\n    }\n  });\n\n  return tooltip;\n}\n\nfunction getTooltipItems(point, geom, type, dataArray, coord) {\n  const items = [];\n  each(dataArray, (data) => {\n    const tmpPoint = geom.findPoint(point, data);\n    if (tmpPoint) {\n      const subItems = geom.getTooltipItems(tmpPoint, null);\n      each(subItems, (v) => {\n        // tslint:disable-next-line: no-shadowed-variable\n        let point = v.point;\n        if (!isNil(point) && !isNil(point.x) && !isNil(point.y)) {\n          const x = isArray(point.x) ? point.x[point.x.length - 1] : point.x;\n          const y = isArray(point.y) ? point.y[point.y.length - 1] : point.y;\n          point = coord.applyMatrix(x, y, 1);\n          v.x = point[0];\n          v.y = point[1];\n          v.showMarker = true;\n          const itemMarker = getItemMarker(geom, v.color);\n          itemMarker.radius = 40;\n          v.marker = itemMarker;\n          if (indexOf(TYPE_SHOW_MARKERS, type) !== -1) {\n            items.push(v);\n          }\n        }\n      });\n      items.push(...subItems);\n    }\n  });\n  return items;\n}\n\nfunction renderTooltip(layer, canvas) {\n  const tooltipTheme = getGlobalTheme().tooltip;\n  const options = {\n    panelGroup: layer.view.get('panelGroup'),\n    panelRange: layer.view.get('panelRange'),\n    capture: false,\n    canvas,\n    frontgroundGroup: layer.view.get('frontgroundGroup'),\n    theme: tooltipTheme,\n    backgroundGroup: layer.view.get('backgroundGroup'),\n  };\n\n  return new Tooltip.Html(options);\n}\n\nfunction getItemMarker(geom, color) {\n  const shapeType = geom.get('shapeType') || 'point';\n  const shape = geom.getDefaultValue('shape') || 'circle';\n  const shapeObject = getShapeFactory(shapeType);\n  const cfg = { color };\n  const marker = shapeObject.getMarkerStyle(shape, cfg);\n  return marker;\n}\n\nfunction getUniqueItems(items) {\n  const tmp = [];\n  each(items, (item) => {\n    const index = indexOfArray(tmp, item);\n    if (index === -1) {\n      tmp.push(item);\n    }\n  });\n  return tmp;\n}\n\nfunction indexOfArray(items, item) {\n  let rst = -1;\n  each(items, (sub, index: number) => {\n    let isEqual = true;\n    for (const key in item) {\n      if (has(item, key)) {\n        if (!isObject(item[key]) && item[key] !== sub[key]) {\n          isEqual = false;\n          break;\n        }\n      }\n    }\n    if (isEqual) {\n      rst = index;\n      return false;\n    }\n  });\n  return rst;\n}\n\nfunction adjustItems(items, target, cfg) {\n  if (target.get('origin')) {\n    let data;\n    if (isArray(target.get('origin'))) {\n      data = getDataByTitle(items[0].title, target.get('origin')).data;\n    } else {\n      data = target.get('origin')._origin;\n    }\n    each(items, (item) => {\n      if (item.point._origin !== data) {\n        item.color = '#ccc';\n      }\n    });\n  }\n  if (cfg.sort) {\n    items.sort((a, b) => {\n      return parseFloat(b.value) - parseFloat(a.value);\n    });\n  }\n}\n\nfunction getDataByTitle(title, data) {\n  for (const i in data) {\n    const d = data[i]._origin;\n    const ks = keys(d);\n    for (const j in ks) {\n      const key = ks[j];\n      if (d[key] === title) {\n        return { data: d, key };\n      }\n    }\n  }\n}\n\nfunction getShapeByX(container, x) {\n  const shapes = [];\n  const children = container.get('children');\n  each(children, (c) => {\n    const bbox = c.getBBox();\n    if (bbox.minX < x && bbox.maxX > x) {\n      shapes.push(c);\n    }\n  });\n  return shapes;\n}\n","// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nexport function points(data, x, y, sort) {\n  data = data.filter(d => {\n    let u = x(d), v = y(d);\n    return u != null && isFinite(u) && v != null && isFinite(v);\n  });\n\n  if (sort) {\n    data.sort((a, b) => x(a) - x(b));\n  }\n\n  const n = data.length,\n        X = new Float64Array(n),\n        Y = new Float64Array(n);\n\n  // extract values, calculate means\n  let ux = 0, uy = 0, xv, yv, d;\n  for (let i = 0; i < n; ) {\n    d = data[i];\n    X[i] = xv = +x(d);\n    Y[i] = yv = +y(d);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  }\n\n  // mean center the data\n  for (let i = 0; i < n; ++i) {\n    X[i] -= ux;\n    Y[i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\n\n\nexport function visitPoints(data, x, y, cb){\n  let iterations = 0;\n\n  for (let i = 0, n = data.length; i < n; i++) {\n    const d = data[i],\n          dx = +x(d),\n          dy = +y(d);\n    \n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}","import { visitPoints } from \"./points\";\n\n// Given a dataset, x- and y-accessors, the mean center of the y values, and a predict function,\n// return the coefficient of determination, or R squared.\nexport function determination(data, x, y, uY, predict){\n  let SSE = 0,\n      SST = 0;\n  \n  visitPoints(data, x, y, (dx, dy) => {\n    const sse = dy - predict(dx),\n          sst = dy - uY;\n\n    SSE += sse * sse;\n    SST += sst * sst;\n  });\n\n  return 1 - SSE / SST;\n}","// Returns the angle of a line in degrees.\nexport function angle(line){\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n}\n\n// Returns the midpoint of a line.\nexport function midpoint(line){\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}","import { angle, midpoint } from \"./geometry\";\n\n// Given a start point, an end point, and a prediciton function,\n// returns a smooth line.\nexport function interpose(xmin, xmax, predict){\n  const l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n  const precision = 1 * Math.pow(10, -l / 2 - 1), maxIter = 1e4;\n  let points = [px(xmin), px(xmax)], iter = 0;\n\n  while (find(points) && iter < maxIter);\n\n  return points;\n  \n  function px(x){\n    return [x, predict(x)];\n  }\n\n  function find(points){\n    iter++;\n    const n = points.length;\n    let found = false;\n    \n    for (let i = 0; i < n - 1; i++){\n      const p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n      \n      if (a > precision){\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n    \n    return found;\n  }\n}","// Ordinary Least Squares from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\nexport function ols(uX, uY, uXY, uX2) {\n  const delta = uX2 - uX * uX,\n        slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n        intercept = uY - slope * uX;\n\n  return [intercept, slope];\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\n\nexport default function() {\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n   \n  function exponential(data){\n    let n = 0,\n        Y = 0,\n        YL = 0,\n        XY = 0,\n        XYL = 0,\n        X2Y = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n\n    visitPoints(data, x, y, (dx, dy) => {\n      const ly = Math.log(dy), xy = dx * dy;\n      ++n;\n      Y += (dy - Y) / n;\n      XY += (xy - XY) / n;\n      X2Y += (dx * xy - X2Y) / n;\n      YL += (dy * ly - YL) / n;\n      XYL += (xy * ly - XYL) / n;\n      \n      if (!domain){\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    \n    let [a, b] = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y);\n    a = Math.exp(a);\n    const fn = x => a * Math.exp(b * x),\n          out = interpose(xmin, xmax, fn);\n    \n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    \n    return out;  \n  }\n\n  exponential.domain = function(arr){\n    return arguments.length ? (domain = arr, exponential) : domain;\n  }  \n  \n  exponential.x = function(fn){\n    return arguments.length ? (x = fn, exponential) : x;\n  }\n\n  exponential.y = function(fn){\n    return arguments.length ? (y = fn, exponential) : y;\n  }\n  \n  return exponential;\n}","import { determination } from \"./utils/determination\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\n\nexport default function(){\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n\n  function linear(data){\n    let n = 0,\n        X = 0, // sum of x\n        Y = 0, // sum of y\n        XY = 0, // sum of x * y\n        X2 = 0, // sum of x * x\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n\n    visitPoints(data, x, y, (dx, dy) => {\n      ++n;\n      X += (dx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (dx * dy - XY) / n;\n      X2 += (dx * dx - X2) / n;\n      \n      if (!domain){\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    const [intercept, slope] = ols(X, Y, XY, X2),\n        fn = x => slope * x + intercept,\n        out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n    \n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n\n    return out;\n  }\n\n  linear.domain = function(arr){\n    return arguments.length ? (domain = arr, linear) : domain;\n  }\n\n  linear.x = function(fn){\n    return arguments.length ? (x = fn, linear) : x;\n  }\n\n  linear.y = function(fn){\n    return arguments.length ? (y = fn, linear) : y;\n  }\n\n  return linear;\n}\n","// Returns the medium value of an array of numbers.\nexport function median(arr){\n  arr.sort((a, b) => a - b);\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}","// Adapted from science.js by Jason Davies\n// License: https://github.com/jasondavies/science.js/blob/master/LICENSE\n// Source: https://github.com/jasondavies/science.js/blob/master/src/stats/loess.js\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/loess.js\nimport { median } from \"./utils/median\";\nimport { ols } from \"./utils/ols\";\nimport { points } from \"./utils/points\";\n\nconst maxiters = 2, epsilon = 1e-12;\n\nexport default function() {\n  let x = d => d[0],\n      y = d => d[1],\n      bandwidth = .3;\n\n  function loess(data) {\n    const [xv, yv, ux, uy] = points(data, x, y, true),\n          n = xv.length,\n          bw = Math.max(2, ~~(bandwidth * n)), // # nearest neighbors\n          yhat = new Float64Array(n),\n          residuals = new Float64Array(n),\n          robustWeights = new Float64Array(n).fill(1);\n\n    for (let iter = -1; ++iter <= maxiters; ) {\n      const interval = [0, bw - 1];\n\n      for (let i = 0; i < n; ++i) {\n        const dx = xv[i],\n              i0 = interval[0],\n              i1 = interval[1],\n              edge = (dx - xv[i0]) > (xv[i1] - dx) ? i0 : i1;\n\n        let W = 0, X = 0, Y = 0, XY = 0, X2 = 0,\n            denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n        for (let k = i0; k <= i1; ++k) {\n          const xk = xv[k],\n                yk = yv[k],\n                w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n                xkw = xk * w;\n\n          W += w;\n          X += xkw;\n          Y += yk * w;\n          XY += yk * xkw;\n          X2 += xk * xkw;\n        }\n\n        // Linear regression fit\n        const [a, b] = ols(X / W, Y / W, XY / W, X2 / W);\n        yhat[i] = a + b * dx;\n        residuals[i] = Math.abs(yv[i] - yhat[i]);\n\n        updateInterval(xv, i + 1, interval);\n      }\n\n      if (iter === maxiters) {\n        break;\n      }\n\n      const medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < epsilon) break;\n\n      for (let i = 0, arg, w; i < n; ++i){\n        arg = residuals[i] / (6 * medianResidual);\n        // Default to epsilon (rather than zero) for large deviations\n        // Keeping weights tiny but non-zero prevents singularites\n        robustWeights[i] = (arg >= 1) ? epsilon : ((w = 1 - arg * arg) * w);\n      }\n    }\n\n    return output(xv, yhat, ux, uy);\n  }\n\n  loess.bandwidth = function(bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function(fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function(fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n}\n\n// Weighting kernel for local regression\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n}\n\n// Advance sliding window interval of nearest neighbors\nfunction updateInterval(xv, i, interval) {\n  let val = xv[i],\n      left = interval[0],\n      right = interval[1] + 1;\n\n  if (right >= xv.length) return;\n\n  // Step right if distance to new right edge is <= distance to old left edge\n  // Step when distance is equal to ensure movement over duplicate x values\n  while (i > left && (xv[right] - val) <= (val - xv[left])) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n}\n\n// Generate smoothed output points\n// Average points with repeated x values\nfunction output(xv, yhat, ux, uy) {\n  const n = xv.length, out = [];\n  let i = 0, cnt = 0, prev = [], v;\n\n  for (; i<n; ++i) {\n    v = xv[i] + ux;\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / (++cnt);\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev[1] += uy;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n  prev[1] += uy;\n\n  return out;\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\n\nexport default function() {\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n  \n  function logarithmic(data){\n    let n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    \n    visitPoints(data, x, y, (dx, dy) => {\n      const lx = Math.log(dx);\n      ++n;\n      X += (lx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (lx * dy - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      \n      if (!domain){\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    \n    const [intercept, slope] = ols(X, Y, XY, X2),\n        fn = x => slope * Math.log(x) + intercept,\n        out = interpose(xmin, xmax, fn);\n        \n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n\n    return out; \n  }\n  \n  logarithmic.domain = function(arr){\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  }\n\n  logarithmic.x = function(fn){\n    return arguments.length ? (x = fn, logarithmic) : x;\n  }\n\n  logarithmic.y = function(fn){\n    return arguments.length ? (y = fn, logarithmic) : y;\n  }\n  \n  return logarithmic;\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { points, visitPoints } from \"./utils/points\";\n\nexport default function(){\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n\n  function quadratic(data){\n    const [xv, yv, ux, uy] = points(data, x, y),\n          n = xv.length;\n    \n    let X2 = 0,\n        X3 = 0,\n        X4 = 0,\n        XY = 0,\n        X2Y = 0,\n        i, dx, dy, x2;\n\n    for (i = 0; i < n;) {\n      dx = xv[i];\n      dy = yv[i++];\n      x2 = dx * dx;\n      X2 += (x2 - X2) / i;\n      X3 += (x2 * dx - X3) / i;\n      X4 += (x2 * x2 - X4) / i;\n      XY += (dx * dy - XY) / i;\n      X2Y += (x2 * dy - X2Y) / i;\n    }\n    \n    let Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    \n    visitPoints(data, x, y, (dx, dy) => {\n      n0++;\n      Y += (dy - Y) / n0;\n      if (!domain){\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    \n    const X2X2 = X4 - (X2 * X2),\n          d = (X2 * X2X2 - X3 * X3),\n          a = (X2Y * X2 - XY * X3) / d,\n          b = (XY * X2X2 - X2Y * X3) / d,\n          c = -a * X2,\n          fn = x => {\n            x = x - ux;\n            return a * x * x + b * x + c + uy;\n          };\n    \n    const out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b - 2 * a * ux;\n    out.c = c - b * ux + a * ux * ux + uy;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n\n    return out;\n  }\n  \n  quadratic.domain = function(arr){\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  }\n\n  quadratic.x = function(fn){\n    return arguments.length ? (x = fn, quadratic) : x;\n  }\n\n  quadratic.y = function(fn){\n    return arguments.length ? (y = fn, quadratic) : y;\n  }\n  \n  return quadratic;\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { points, visitPoints } from \"./utils/points\";\nimport linear from \"./linear\";\nimport quad from \"./quadratic\";\n\n// Adapted from regression-js by Tom Alexander\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\nexport default function(){\n  let x = d => d[0],\n      y = d => d[1],\n      order = 3,\n      domain;\n  \n  function polynomial(data) {    \n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      const o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a; delete o.b;\n      return o;\n    }\n    if (order === 2) {\n      const o = quad().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.c, o.b, o.a];\n      delete o.a; delete o.b; delete o.c;\n      return o;\n    }\n    \n    const [xv, yv, ux, uy] = points(data, x, y),\n        n = xv.length,\n        lhs = [],\n        rhs = [],\n        k = order + 1;\n\n    let Y = 0, n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    \n    visitPoints(data, x, y, (dx, dy) => {\n      ++n0\n      Y += (dy - Y) / n0;\n      if (!domain){\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;        \n      }\n    });\n\n    let i, j, l, v, c;\n\n    for (i = 0; i < k; ++i) {\n      for (l = 0, v = 0; l < n; ++l) {\n        v += Math.pow(xv[l], i) * yv[l];\n      }\n      lhs.push(v);\n\n      c = new Float64Array(k);\n      for (j=0; j<k; ++j) {\n        for (l=0, v=0; l<n; ++l) {\n          v += Math.pow(xv[l], i + j);\n        }\n        c[j] = v;\n      }\n      rhs.push(c);\n    }\n    rhs.push(lhs);\n\n    const coef = gaussianElimination(rhs),\n          fn = x => {\n            x -= ux;\n            let y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n            for (i = 3; i < k; ++i) y += coef[i] * Math.pow(x, i);\n            return y;\n          },\n          out = interpose(xmin, xmax, fn);\n\n    out.coefficients = uncenter(k, coef, -ux, uy);\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    \n    return out;\n  }\n\n  polynomial.domain = function(arr){\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  }\n\n  polynomial.x = function(fn){\n    return arguments.length ? (x = fn, polynomial) : x;\n  }\n\n  polynomial.y = function(fn){\n    return arguments.length ? (y = fn, polynomial) : y;\n  }\n\n  polynomial.order = function(n){\n    return arguments.length ? (order = n, polynomial) : order;\n  }\n  \n  return polynomial;\n}\n\nfunction uncenter(k, a, x, y) {\n  const z = Array(k);\n  let i, j, v, c;\n\n  // initialize to zero\n  for (i = 0; i < k; ++i) z[i] = 0;\n\n  // polynomial expansion\n  for (i = k - 1; i >= 0; --i) {\n    v = a[i];\n    c = 1;\n    z[i] += v;\n    for (j = 1; j <= i; ++j) {\n      c *= (i + 1 - j) / j; // binomial coefficent\n      z[i-j] += v * Math.pow(x, j) * c;\n    }\n  }\n\n  // bias term\n  z[0] += y;\n\n  return z;\n}\n\n// Given an array for a two-dimensional matrix and the polynomial order,\n// solve A * x = b using Gaussian elimination.\nfunction gaussianElimination(matrix) {\n  const n = matrix.length - 1,\n        coef = [];\n\n  let i, j, k, r, t;\n\n  for (i = 0; i < n; ++i) {\n    r = i; // max row\n    for (j = i + 1; j < n; ++j) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n        r = j;\n      }\n    }\n\n    for (k = i; k < n + 1; ++k) {\n      t = matrix[k][i];\n      matrix[k][i] = matrix[k][r];\n      matrix[k][r] = t;\n    }\n\n    for (j = i + 1; j < n; ++j) {\n      for (k = n; k >= i; k--) {\n        matrix[k][j] -= (matrix[k][i] * matrix[i][j]) / matrix[i][i];\n      }\n    }\n  }\n\n  for (j = n - 1; j >= 0; --j) {\n    t = 0;\n    for (k = j + 1; k < n; ++k) {\n      t += matrix[k][j] * coef[k];\n    }\n    coef[j] = (matrix[n][j] - t) / matrix[j][j];\n  }\n\n  return coef;\n}","import { determination } from \"./utils/determination\";\nimport { interpose } from \"./utils/interpose\";\nimport { ols } from \"./utils/ols\";\nimport { visitPoints } from \"./utils/points\";\n\nexport default function() {\n  let x = d => d[0],\n      y = d => d[1],\n      domain;\n  \n  function power(data){\n    let n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        YS = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    \n    visitPoints(data, x, y, (dx, dy) => {\n      const lx = Math.log(dx),\n            ly = Math.log(dy);\n      ++n;\n      X += (lx - X) / n;\n      Y += (ly - Y) / n;\n      XY += (lx * ly - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      YS += (dy - YS) / n;\n\n      if (!domain){\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    let [a, b] = ols(X, Y, XY, X2);\n    a = Math.exp(a);\n    const fn = x => a * Math.pow(x, b),\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, YS, fn);\n\n    return out; \n  }\n  \n  power.domain = function(arr){\n    return arguments.length ? (domain = arr, power) : domain;\n  }\n\n  power.x = function(fn){\n    return arguments.length ? (x = fn, power) : x;\n  }\n\n  power.y = function(fn){\n    return arguments.length ? (y = fn, power) : y;\n  }\n  \n  return power;\n}","export {default as regressionExp} from \"./src/exponential\";\nexport {default as regressionLinear} from \"./src/linear\";\nexport {default as regressionLoess} from \"./src/loess\";\nexport {default as regressionLog} from \"./src/logarithmic\";\nexport {default as regressionPoly} from \"./src/polynomial\";\nexport {default as regressionPow} from \"./src/power\";\nexport {default as regressionQuad} from \"./src/quadratic\";"],"sourceRoot":""}